<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yiye Li</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2021-03-29T13:17:08.112Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Yiye Li</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>572. å¦ä¸€ä¸ªæ ‘çš„å­æ ‘</title>
    <link href="http://yoursite.com/2021/03/29/572.%20%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%A0%91%E7%9A%84%E5%AD%90%E6%A0%91/"/>
    <id>http://yoursite.com/2021/03/29/572. å¦ä¸€ä¸ªæ ‘çš„å­æ ‘/</id>
    <published>2021-03-29T12:55:12.000Z</published>
    <updated>2021-03-29T13:17:08.112Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸¤ä¸ªéç©ºäºŒå‰æ ‘ s å’Œ tï¼Œæ£€éªŒ s ä¸­æ˜¯å¦åŒ…å«å’Œ t å…·æœ‰ç›¸åŒç»“æ„å’ŒèŠ‚ç‚¹å€¼çš„å­æ ‘ã€‚s çš„ä¸€ä¸ªå­æ ‘åŒ…æ‹¬ s çš„ä¸€ä¸ªèŠ‚ç‚¹å’Œè¿™ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­å­™ã€‚s ä¹Ÿå¯ä»¥çœ‹åšå®ƒè‡ªèº«çš„ä¸€æ£µå­æ ‘ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><p>ç»™å®šçš„æ ‘ s:</p><pre><code>    3   / \  4   5 / \1   2</code></pre><p>ç»™å®šçš„æ ‘ tï¼š</p><pre><code>   4   / \ 1   2è¿”å› trueï¼Œå› ä¸º t ä¸ s çš„ä¸€ä¸ªå­æ ‘æ‹¥æœ‰ç›¸åŒçš„ç»“æ„å’ŒèŠ‚ç‚¹å€¼ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><p>ç»™å®šçš„æ ‘ sï¼š</p><pre><code>    3   / \  4   5 / \1   2   /  0</code></pre><p>ç»™å®šçš„æ ‘ tï¼š</p><pre><code>   4  / \ 1   2è¿”å› falseã€‚</code></pre><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢æš´åŠ›åŒ¹é…"><a href="#æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢æš´åŠ›åŒ¹é…" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢æš´åŠ›åŒ¹é…"></a>æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢æš´åŠ›åŒ¹é…</h2><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>è¿™æ˜¯ä¸€ç§æœ€æœ´ç´ çš„æ–¹æ³•â€”â€”æ·±åº¦ä¼˜å…ˆæœç´¢æšä¸¾ <em>s</em> ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ¤æ–­è¿™ä¸ªç‚¹çš„å­æ ‘æ˜¯å¦å’Œ <em>t</em> ç›¸ç­‰ã€‚å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªèŠ‚ç‚¹çš„å­æ ‘æ˜¯å¦å’Œ <em>t</em> ç›¸ç­‰å‘¢ï¼Œæˆ‘ä»¬åˆéœ€è¦åšä¸€æ¬¡æ·±åº¦ä¼˜å…ˆæœç´¢æ¥æ£€æŸ¥ï¼Œå³è®©ä¸¤ä¸ªæŒ‡é’ˆä¸€å¼€å§‹å…ˆæŒ‡å‘è¯¥èŠ‚ç‚¹å’Œ <em>t</em> çš„æ ¹ï¼Œç„¶åã€ŒåŒæ­¥ç§»åŠ¨ã€ä¸¤æ ¹æŒ‡é’ˆæ¥ã€ŒåŒæ­¥éå†ã€è¿™ä¸¤æ£µæ ‘ï¼Œåˆ¤æ–­å¯¹åº”ä½ç½®æ˜¯å¦ç›¸ç­‰ã€‚</p><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢æš´åŠ›åŒ¹é…C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(TreeNode *o, TreeNode *t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!o &amp;&amp; !t) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ((o &amp;&amp; !t) || (!o &amp;&amp; t) || (o-&gt;val != t-&gt;val)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> check(o-&gt;left, t-&gt;left) &amp;&amp; check(o-&gt;right, t-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(TreeNode *o, TreeNode *t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!o) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> check(o, t) || dfs(o-&gt;left, t) || dfs(o-&gt;right, t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isSubtree</span><span class="params">(TreeNode *s, TreeNode *t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dfs(s, t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢æš´åŠ›åŒ¹é…Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSubtree</span><span class="params">(TreeNode s, TreeNode t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dfs(s, t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(TreeNode s, TreeNode t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> check(s, t) || dfs(s.left, t) || dfs(s.right, t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(TreeNode s, TreeNode t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> &amp;&amp; t == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || t == <span class="keyword">null</span> || s.val != t.val) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> check(s.left, t.left) &amp;&amp; check(s.right, t.right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢æš´åŠ›åŒ¹é…Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isSubtree</span><span class="params">(s *TreeNode, t *TreeNode)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> s == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> check(s, t) || isSubtree(s.Left, t) || isSubtree(s.Right, t)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">check</span><span class="params">(a, b *TreeNode)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a == <span class="literal">nil</span> &amp;&amp; b == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> a == <span class="literal">nil</span> || b == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> a.Val == b.Val &#123;</span><br><span class="line">        <span class="keyword">return</span> check(a.Left, b.Left) &amp;&amp; check(a.Right, b.Right)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ä¸Šåšä¸²åŒ¹é…"><a href="#æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ä¸Šåšä¸²åŒ¹é…" class="headerlink" title="æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ä¸Šåšä¸²åŒ¹é…"></a>æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ä¸Šåšä¸²åŒ¹é…</h2><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>è¿™ä¸ªæ–¹æ³•éœ€è¦æˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸ªã€Œå°å¥—è·¯ã€ï¼šä¸€æ£µå­æ ‘ä¸Šçš„ç‚¹åœ¨æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ï¼ˆå³å…ˆåºéå†ï¼‰ä¸­æ˜¯è¿ç»­çš„ã€‚äº†è§£äº†è¿™ä¸ªã€Œå°å¥—è·¯ã€ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šè§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹å‘å°±æ˜¯ï¼šæŠŠ <em>s</em> å’Œ <em>t</em> å…ˆè½¬æ¢æˆæ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ï¼Œç„¶åçœ‹ <em>t</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—æ˜¯å¦æ˜¯ <em>s</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—çš„ã€Œå­ä¸²ã€ã€‚</p><p><strong>è¿™æ ·åšæ­£ç¡®å—ï¼Ÿ</strong> å‡è®¾ <em>s</em> ç”±ä¸¤ä¸ªç‚¹ç»„æˆï¼Œ<em>1</em> æ˜¯æ ¹ï¼Œ<em>2</em> æ˜¯ <em>1</em> çš„å·¦å­©å­ï¼›<em>t</em> ä¹Ÿç”±ä¸¤ä¸ªç‚¹ç»„æˆï¼Œ<em>1</em> æ˜¯æ ¹ï¼Œ<em>2</em> æ˜¯ <em>1</em> çš„å³å­©å­ã€‚è¿™æ ·ä¸€æ¥ <em>s</em> å’Œ <em>t</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ç›¸åŒï¼Œå¯æ˜¯ <em>t</em> å¹¶ä¸æ˜¯ <em>s</em> çš„æŸä¸€æ£µå­æ ‘ã€‚ç”±æ­¤å¯è§ã€Œ<em>s</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—åŒ…å« <em>t</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ã€æ˜¯ã€Œ<em>t</em> æ˜¯ <em>s</em> å­æ ‘ã€çš„<strong>å¿…è¦ä¸å……åˆ†æ¡ä»¶</strong>ï¼Œæ‰€ä»¥å•çº¯è¿™æ ·åšæ˜¯ä¸æ­£ç¡®çš„ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥ä¸¤ä¸ªç©ºå€¼ <code>lNull</code> å’Œ <code>rNull</code>ï¼Œå½“ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å­©å­æˆ–è€…å³å­©å­ä¸ºç©ºçš„æ—¶å€™ï¼Œå°±æ’å…¥è¿™ä¸¤ä¸ªç©ºå€¼ï¼Œè¿™æ ·æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—å°±å”¯ä¸€å¯¹åº”ä¸€æ£µæ ‘ã€‚å¤„ç†å®Œä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡åˆ¤æ–­ã€Œ<em>s</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—åŒ…å« <em>t</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ã€æ¥åˆ¤æ–­ç­”æ¡ˆã€‚</p><p><a href="https://assets.leetcode-cn.com/solution-static/572/572_fig1.png" target="_blank" rel="noopener">fig1</a></p><p>åœ¨åˆ¤æ–­ã€Œ<em>s</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—åŒ…å« <em>t</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ã€çš„æ—¶å€™ï¼Œå¯ä»¥æš´åŠ›åŒ¹é…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ KMP æˆ–è€… Rabin-Karp ç®—æ³•ï¼Œåœ¨ä½¿ç”¨Rabin-Karpç®—æ³•çš„æ—¶å€™ï¼Œè¦æ³¨æ„ä¸²ä¸­å¯èƒ½æœ‰è´Ÿå€¼ã€‚</p><p>è¿™é‡Œç»™å‡ºç”¨KMPåˆ¤æ–­çš„ä»£ç å®ç°ã€‚</p><details><summary>æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ä¸Šåšä¸²åŒ¹é…C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span> &lt;<span class="keyword">int</span>&gt; sOrder, tOrder;</span><br><span class="line">    <span class="keyword">int</span> maxElement, lNull, rNull;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">getMaxElement</span><span class="params">(TreeNode *o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!o) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        maxElement = max(maxElement, o-&gt;val);</span><br><span class="line">        getMaxElement(o-&gt;left);</span><br><span class="line">        getMaxElement(o-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">getDfsOrder</span><span class="params">(TreeNode *o, <span class="built_in">vector</span> &lt;<span class="keyword">int</span>&gt; &amp;tar)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!o) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        tar.push_back(o-&gt;val);</span><br><span class="line">        <span class="keyword">if</span> (o-&gt;left) &#123;</span><br><span class="line">            getDfsOrder(o-&gt;left, tar);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tar.push_back(lNull);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (o-&gt;right) &#123;</span><br><span class="line">            getDfsOrder(o-&gt;right, tar);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tar.push_back(rNull);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">kmp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sLen = sOrder.size(), tLen = tOrder.size();</span><br><span class="line">        <span class="built_in">vector</span> &lt;<span class="keyword">int</span>&gt; fail(tOrder.size(), <span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>, j = <span class="number">-1</span>; i &lt; tLen; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (j != <span class="number">-1</span> &amp;&amp; tOrder[i] != tOrder[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                j = fail[j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (tOrder[i] == tOrder[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                ++j;</span><br><span class="line">            &#125;</span><br><span class="line">            fail[i] = j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">-1</span>; i &lt; sLen; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (j != <span class="number">-1</span> &amp;&amp; sOrder[i] != tOrder[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                j = fail[j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (sOrder[i] == tOrder[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                ++j;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j == tLen - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isSubtree</span><span class="params">(TreeNode* s, TreeNode* t)</span> </span>&#123;</span><br><span class="line">        maxElement = INT_MIN;</span><br><span class="line">        getMaxElement(s);</span><br><span class="line">        getMaxElement(t);</span><br><span class="line">        lNull = maxElement + <span class="number">1</span>;</span><br><span class="line">        rNull = maxElement + <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        getDfsOrder(s, sOrder);</span><br><span class="line">        getDfsOrder(t, tOrder);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> kmp();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details><summary>æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ä¸Šåšä¸²åŒ¹é…Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; sOrder = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">    List&lt;Integer&gt; tOrder = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">    <span class="keyword">int</span> maxElement, lNull, rNull;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSubtree</span><span class="params">(TreeNode s, TreeNode t)</span> </span>&#123;</span><br><span class="line">        maxElement = Integer.MIN_VALUE;</span><br><span class="line">        getMaxElement(s);</span><br><span class="line">        getMaxElement(t);</span><br><span class="line">        lNull = maxElement + <span class="number">1</span>;</span><br><span class="line">        rNull = maxElement + <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        getDfsOrder(s, sOrder);</span><br><span class="line">        getDfsOrder(t, tOrder);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> kmp();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getMaxElement</span><span class="params">(TreeNode t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (t == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        maxElement = Math.max(maxElement, t.val);</span><br><span class="line">        getMaxElement(t.left);</span><br><span class="line">        getMaxElement(t.right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getDfsOrder</span><span class="params">(TreeNode t, List&lt;Integer&gt; tar)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (t == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        tar.add(t.val);</span><br><span class="line">        <span class="keyword">if</span> (t.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            getDfsOrder(t.left, tar);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tar.add(lNull);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (t.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            getDfsOrder(t.right, tar);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tar.add(rNull);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">kmp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sLen = sOrder.size(), tLen = tOrder.size();</span><br><span class="line">        <span class="keyword">int</span>[] fail = <span class="keyword">new</span> <span class="keyword">int</span>[tOrder.size()];</span><br><span class="line">        Arrays.fill(fail, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>, j = -<span class="number">1</span>; i &lt; tLen; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (j != -<span class="number">1</span> &amp;&amp; !(tOrder.get(i).equals(tOrder.get(j + <span class="number">1</span>)))) &#123;</span><br><span class="line">                j = fail[j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (tOrder.get(i).equals(tOrder.get(j + <span class="number">1</span>))) &#123;</span><br><span class="line">                ++j;</span><br><span class="line">            &#125;</span><br><span class="line">            fail[i] = j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = -<span class="number">1</span>; i &lt; sLen; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (j != -<span class="number">1</span> &amp;&amp; !(sOrder.get(i).equals(tOrder.get(j + <span class="number">1</span>)))) &#123;</span><br><span class="line">                j = fail[j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (sOrder.get(i).equals(tOrder.get(j + <span class="number">1</span>))) &#123;</span><br><span class="line">                ++j;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j == tLen - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details><summary>æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ä¸Šåšä¸²åŒ¹é…Golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isSubtree</span><span class="params">(s *TreeNode, t *TreeNode)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    maxEle := math.MinInt32</span><br><span class="line">    getMaxElement(s, &amp;maxEle)</span><br><span class="line">    getMaxElement(t, &amp;maxEle)</span><br><span class="line">    lNull := maxEle + <span class="number">1</span>;</span><br><span class="line">    rNull := maxEle + <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    sl, tl := getDfsOrder(s, []<span class="keyword">int</span>&#123;&#125;, lNull, rNull), getDfsOrder(t, []<span class="keyword">int</span>&#123;&#125;, lNull, rNull)</span><br><span class="line">    <span class="keyword">return</span> kmp(sl, tl)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">kmp</span><span class="params">(s, t []<span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    sLen, tLen := <span class="built_in">len</span>(s), <span class="built_in">len</span>(t)</span><br><span class="line">    fail := <span class="built_in">make</span>([]<span class="keyword">int</span>, sLen)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; sLen; i++ &#123;</span><br><span class="line">        fail[i] = <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i, j := <span class="number">1</span>, <span class="number">-1</span>; i &lt; tLen; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j != <span class="number">-1</span> &amp;&amp; t[i] != t[j+<span class="number">1</span>] &#123;</span><br><span class="line">            j = fail[j]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> t[i] == t[j+<span class="number">1</span>] &#123;</span><br><span class="line">            j++</span><br><span class="line">        &#125;</span><br><span class="line">        fail[i] = j</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, j := <span class="number">0</span>, <span class="number">-1</span>; i &lt; sLen; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j != <span class="number">-1</span> &amp;&amp; s[i] != t[j+<span class="number">1</span>] &#123;</span><br><span class="line">            j = fail[j]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> s[i] == t[j+<span class="number">1</span>] &#123;</span><br><span class="line">            j++</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> j == tLen - <span class="number">1</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getDfsOrder</span><span class="params">(t *TreeNode, list []<span class="keyword">int</span>, lNull, rNull <span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> t == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> list</span><br><span class="line">    &#125;</span><br><span class="line">    list = <span class="built_in">append</span>(list, t.Val)</span><br><span class="line">    <span class="keyword">if</span> t.Left != <span class="literal">nil</span> &#123;</span><br><span class="line">        list = getDfsOrder(t.Left, list, lNull, rNull)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        list = <span class="built_in">append</span>(list, lNull)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> t.Right != <span class="literal">nil</span> &#123;</span><br><span class="line">        list = getDfsOrder(t.Right, list, lNull, rNull)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        list = <span class="built_in">append</span>(list, rNull)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getMaxElement</span><span class="params">(t *TreeNode, maxEle *<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> t == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> t.Val &gt; *maxEle &#123;</span><br><span class="line">        *maxEle = t.Val</span><br><span class="line">    &#125;</span><br><span class="line">    getMaxElement(t.Left, maxEle)</span><br><span class="line">    getMaxElement(t.Right, maxEle)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="æ–¹æ³•ä¸‰ï¼šæ ‘å“ˆå¸Œ"><a href="#æ–¹æ³•ä¸‰ï¼šæ ‘å“ˆå¸Œ" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šæ ‘å“ˆå¸Œ"></a>æ–¹æ³•ä¸‰ï¼šæ ‘å“ˆå¸Œ</h2><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>è€ƒè™‘æŠŠæ¯ä¸ªå­æ ‘éƒ½æ˜ å°„æˆä¸€ä¸ªå”¯ä¸€çš„æ•°ï¼Œå¦‚æœ <em>t</em> å¯¹åº”çš„æ•°å­—å’Œ <em>s</em> ä¸­ä»»æ„ä¸€ä¸ªå­æ ‘æ˜ å°„çš„æ•°å­—ç›¸ç­‰ï¼Œåˆ™ <em>t</em> æ˜¯ <em>s</em> çš„æŸä¸€æ£µå­æ ‘ã€‚å¦‚ä½•æ˜ å°„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å®šä¹‰è¿™æ ·çš„å“ˆå¸Œå‡½æ•°ï¼š</p><details><summary>æ ‘å“ˆå¸ŒC++</summary><figure class="highlight c++"><figcaption><span>[sol3-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">int</span> MAX_N = <span class="number">1000</span> + <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">int</span> MOD = <span class="keyword">int</span>(<span class="number">1E9</span>) + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">bool</span> vis[MAX_N];</span><br><span class="line">    <span class="keyword">int</span> p[MAX_N], tot;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">getPrime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        vis[<span class="number">0</span>] = vis[<span class="number">1</span>] = <span class="number">1</span>; tot = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; MAX_N; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!vis[i]) p[++tot] = i;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= tot &amp;&amp; i * p[j] &lt; MAX_N; ++j) &#123;</span><br><span class="line">                vis[i * p[j]] = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (i % p[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Status</span> &#123;</span></span><br><span class="line">        <span class="keyword">int</span> f, s; <span class="comment">// f ä¸ºå“ˆå¸Œå€¼ | s ä¸ºå­æ ‘å¤§å°</span></span><br><span class="line">        Status(<span class="keyword">int</span> f_ = <span class="number">0</span>, <span class="keyword">int</span> s_ = <span class="number">0</span>) </span><br><span class="line">            : f(f_), s(s_) &#123;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">unordered_map</span> &lt;TreeNode *, Status&gt; hS, hT;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode *o, <span class="built_in">unordered_map</span> &lt;TreeNode *, Status&gt; &amp;h)</span> </span>&#123;</span><br><span class="line">        h[o] = Status(o-&gt;val, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (!o-&gt;left &amp;&amp; !o-&gt;right) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (o-&gt;left) &#123;</span><br><span class="line">            dfs(o-&gt;left, h);</span><br><span class="line">            h[o].s += h[o-&gt;left].s;</span><br><span class="line">            h[o].f = (h[o].f + (<span class="number">31L</span>L * h[o-&gt;left].f * p[h[o-&gt;left].s]) % MOD) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (o-&gt;right) &#123;</span><br><span class="line">            dfs(o-&gt;right, h);</span><br><span class="line">            h[o].s += h[o-&gt;right].s;</span><br><span class="line">            h[o].f = (h[o].f + (<span class="number">179L</span>L * h[o-&gt;right].f * p[h[o-&gt;right].s]) % MOD) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isSubtree</span><span class="params">(TreeNode* s, TreeNode* t)</span> </span>&#123;</span><br><span class="line">        getPrime();</span><br><span class="line">        dfs(s, hS);</span><br><span class="line">        dfs(t, hT);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> tHash = hT[t].f;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;[k, v]: hS) &#123;</span><br><span class="line">            <span class="keyword">if</span> (v.f == tHash) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; </span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details><summary>æ ‘å“ˆå¸ŒJava</summary><figure class="highlight java"><figcaption><span>[sol3-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAX_N = <span class="number">1005</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MOD = <span class="number">1000000007</span>;</span><br><span class="line">    <span class="keyword">boolean</span>[] vis = <span class="keyword">new</span> <span class="keyword">boolean</span>[MAX_N];</span><br><span class="line">    <span class="keyword">int</span>[] p = <span class="keyword">new</span> <span class="keyword">int</span>[MAX_N];</span><br><span class="line">    <span class="keyword">int</span> tot;</span><br><span class="line">    Map&lt;TreeNode, <span class="keyword">int</span>[]&gt; hS = <span class="keyword">new</span> HashMap&lt;TreeNode, <span class="keyword">int</span>[]&gt;();</span><br><span class="line">    Map&lt;TreeNode, <span class="keyword">int</span>[]&gt; hT = <span class="keyword">new</span> HashMap&lt;TreeNode, <span class="keyword">int</span>[]&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSubtree</span><span class="params">(TreeNode s, TreeNode t)</span> </span>&#123;</span><br><span class="line">        getPrime();</span><br><span class="line">        dfs(s, hS);</span><br><span class="line">        dfs(t, hT);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> tHash = hT.get(t)[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;TreeNode, <span class="keyword">int</span>[]&gt; entry : hS.entrySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (entry.getValue()[<span class="number">0</span>] == tHash) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getPrime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        vis[<span class="number">0</span>] = vis[<span class="number">1</span>] = <span class="keyword">true</span>;</span><br><span class="line">        tot = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; MAX_N; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!vis[i]) &#123;</span><br><span class="line">                p[++tot] = i;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= tot &amp;&amp; i * p[j] &lt; MAX_N; ++j) &#123;</span><br><span class="line">                vis[i * p[j]] = <span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">if</span> (i % p[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode o, Map&lt;TreeNode, <span class="keyword">int</span>[]&gt; h)</span> </span>&#123;</span><br><span class="line">        h.put(o, <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;o.val, <span class="number">1</span>&#125;);</span><br><span class="line">        <span class="keyword">if</span> (o.left == <span class="keyword">null</span> &amp;&amp; o.right == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (o.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            dfs(o.left, h);</span><br><span class="line">            <span class="keyword">int</span>[] val = h.get(o);</span><br><span class="line">            val[<span class="number">1</span>] += h.get(o.left)[<span class="number">1</span>];</span><br><span class="line">            val[<span class="number">0</span>] = (<span class="keyword">int</span>) ((val[<span class="number">0</span>] + (<span class="number">31L</span> * h.get(o.left)[<span class="number">0</span>] * p[h.get(o.left)[<span class="number">1</span>]]) % MOD) % MOD);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (o.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            dfs(o.right, h);</span><br><span class="line">            <span class="keyword">int</span>[] val = h.get(o);</span><br><span class="line">            val[<span class="number">1</span>] += h.get(o.right)[<span class="number">1</span>];</span><br><span class="line">            val[<span class="number">0</span>] = (<span class="keyword">int</span>) ((val[<span class="number">0</span>] + (<span class="number">179L</span> * h.get(o.right)[<span class="number">0</span>] * p[h.get(o.right)[<span class="number">1</span>]]) % MOD) % MOD);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸¤ä¸ªéç©ºäºŒå‰æ ‘ s å’Œ tï¼Œæ£€éªŒ s ä¸­æ˜¯å¦åŒ…å«å’Œ t å…·æœ‰ç›¸åŒç»“æ„å’ŒèŠ‚ç‚¹å€¼çš„å­æ ‘ã€‚s çš„ä¸€ä¸ªå­æ ‘åŒ…æ‹¬ s çš„ä¸€ä¸ªèŠ‚ç‚¹å’Œè¿™ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­å­™ã€‚s ä¹Ÿå¯ä»¥çœ‹åšå®ƒè‡ªèº«çš„ä¸€æ£µå­æ ‘ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
  </entry>
  
  <entry>
    <title>304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜</title>
    <link href="http://yoursite.com/2021/03/27/491.%20%E9%80%92%E5%A2%9E%E5%AD%90%E5%BA%8F%E5%88%97/"/>
    <id>http://yoursite.com/2021/03/27/491. é€’å¢å­åºåˆ—/</id>
    <published>2021-03-27T13:17:12.000Z</published>
    <updated>2021-03-28T01:00:59.596Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæ•´å‹æ•°ç»„, ä½ çš„ä»»åŠ¡æ˜¯æ‰¾åˆ°æ‰€æœ‰è¯¥æ•°ç»„çš„é€’å¢å­åºåˆ—ï¼Œé€’å¢å­åºåˆ—çš„é•¿åº¦è‡³å°‘æ˜¯ 2 ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ï¼š</p><pre><code>è¾“å…¥ï¼š[4, 6, 7, 7]è¾“å‡ºï¼š[[4, 6], [4, 7], [4, 6, 7], [4, 6, 7, 7], [6, 7], [6, 7, 7], [7,7], [4,7,7]]</code></pre><p>æç¤ºï¼š</p><pre><code>ç»™å®šæ•°ç»„çš„é•¿åº¦ä¸ä¼šè¶…è¿‡15ã€‚æ•°ç»„ä¸­çš„æ•´æ•°èŒƒå›´æ˜¯ [-100,100]ã€‚ç»™å®šæ•°ç»„ä¸­å¯èƒ½åŒ…å«é‡å¤æ•°å­—ï¼Œç›¸ç­‰çš„æ•°å­—åº”è¯¥è¢«è§†ä¸ºé€’å¢çš„ä¸€ç§æƒ…å†µã€‚</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šäºŒè¿›åˆ¶æšä¸¾-å“ˆå¸Œ"><a href="#æ–¹æ³•ä¸€ï¼šäºŒè¿›åˆ¶æšä¸¾-å“ˆå¸Œ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šäºŒè¿›åˆ¶æšä¸¾ + å“ˆå¸Œ"></a>æ–¹æ³•ä¸€ï¼šäºŒè¿›åˆ¶æšä¸¾ + å“ˆå¸Œ</h1><p>è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒéš¾ç†è§£ï¼Œå¯ä»¥å‚è§<a href="https://leetcode-cn.com/problems/increasing-subsequences/solution/di-zeng-zi-xu-lie-by-leetcode-solution/" target="_blank" rel="noopener">^1</a>ï¼Œ</p><h1 id="æ–¹æ³•äºŒï¼šé€’å½’æšä¸¾-å‡æ"><a href="#æ–¹æ³•äºŒï¼šé€’å½’æšä¸¾-å‡æ" class="headerlink" title="æ–¹æ³•äºŒï¼šé€’å½’æšä¸¾ + å‡æ"></a>æ–¹æ³•äºŒï¼šé€’å½’æšä¸¾ + å‡æ</h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨é€’å½’çš„æ–¹æ³•å®ç°äºŒè¿›åˆ¶æšä¸¾ï¼Œåƒã€Œæ–¹æ³•ä¸€ã€é‚£æ ·æšä¸¾å‡ºæ‰€æœ‰çš„å­åºåˆ—ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦åˆæ³•ã€‚ç›´æ¥æŠŠæ–¹æ³•ä¸€å˜æˆé€’å½’å½¢å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°è¿™æ ·çš„ä»£ç ï¼š</p><details>    <summary>C++</summary><figure class="highlight cpp"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; ans;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (cur == nums.size()) &#123;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯å¦åˆæ³•ï¼Œå¦‚æœåˆæ³•åˆ¤æ–­æ˜¯å¦é‡å¤ï¼Œå°†æ»¡è¶³æ¡ä»¶çš„åŠ å…¥ç­”æ¡ˆ</span></span><br><span class="line">        <span class="keyword">if</span> (isValid() &amp;&amp; notVisited()) &#123;</span><br><span class="line">            ans.push_back(temp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœé€‰æ‹©å½“å‰å…ƒç´ </span></span><br><span class="line">    temp.push_back(nums[cur]);</span><br><span class="line">    dfs(cur + <span class="number">1</span>, nums);</span><br><span class="line">    temp.pop_back();</span><br><span class="line">    <span class="comment">// å¦‚æœä¸é€‰æ‹©å½“å‰å…ƒç´ </span></span><br><span class="line">    dfs(cur + <span class="number">1</span>, nums);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line">List&lt;Integer&gt; temp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (cur == nums.length) &#123;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯å¦åˆæ³•ï¼Œå¦‚æœåˆæ³•åˆ¤æ–­æ˜¯å¦é‡å¤ï¼Œå°†æ»¡è¶³æ¡ä»¶çš„åŠ å…¥ç­”æ¡ˆ</span></span><br><span class="line">        <span class="keyword">if</span> (isValid() &amp;&amp; notVisited()) &#123;</span><br><span class="line">            ans.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(temp));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœé€‰æ‹©å½“å‰å…ƒç´ </span></span><br><span class="line">    temp.add(nums[cur]);</span><br><span class="line">    dfs(cur + <span class="number">1</span>, nums);</span><br><span class="line">    temp.remove(temp.size() - <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// å¦‚æœä¸é€‰æ‹©å½“å‰å…ƒç´ </span></span><br><span class="line">    dfs(cur + <span class="number">1</span>, nums);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>è¿™æ˜¯ä¸€ä¸ªé€’å½’æšä¸¾å­åºåˆ—çš„é€šç”¨æ¨¡æ¿.</p><p>å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬ç®€å•åœ°è¿™æ ·æšä¸¾ï¼Œå¯¹äºæ¯ä¸€ä¸ªå­åºåˆ—ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åšä¸€æ¬¡ <em>O(n)</em> çš„åˆæ³•æ€§æ£€æŸ¥å’Œå“ˆå¸Œåˆ¤é‡å¤ï¼Œåœ¨æ‰§è¡Œæ•´ä¸ªç¨‹åºçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨ä¸€ä¸ªç©ºé—´ä»£ä»· <em>O(2^n)</em> çš„å“ˆå¸Œè¡¨æ¥ç»´æŠ¤å·²ç»å‡ºç°çš„å­åºåˆ—çš„å“ˆå¸Œå€¼ã€‚æˆ‘ä»¬å¯ä»¥å¯¹é€‰æ‹©å’Œä¸é€‰æ‹©åšä¸€äº›ç®€å•çš„é™å®šï¼Œå°±å¯ä»¥è®©æšä¸¾å‡ºæ¥çš„éƒ½æ˜¯åˆæ³•çš„å¹¶ä¸”ä¸é‡å¤ï¼š</p><ul><li><p>ä½¿åºåˆ—åˆæ³•çš„åŠæ³•éå¸¸ç®€å•ï¼Œå³ç»™ã€Œé€‰æ‹©ã€åšä¸€ä¸ªé™å®šæ¡ä»¶ï¼Œåªæœ‰å½“å‰çš„å…ƒç´ å¤§äºç­‰äºä¸Šä¸€ä¸ªé€‰æ‹©çš„å…ƒç´ çš„æ—¶å€™æ‰èƒ½é€‰æ‹©è¿™ä¸ªå…ƒç´ ï¼Œè¿™æ ·æšä¸¾å‡ºæ¥çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯åˆæ³•çš„</p></li><li><p>é‚£å¦‚ä½•ä¿è¯æ²¡æœ‰é‡å¤å‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦ç»™ã€Œä¸é€‰æ‹©ã€åšä¸€ä¸ªé™å®šæ¡ä»¶ï¼Œåªæœ‰å½“å½“å‰çš„å…ƒç´ ä¸ç­‰äºä¸Šä¸€ä¸ªé€‰æ‹©çš„å…ƒç´ çš„æ—¶å€™ï¼Œæ‰è€ƒè™‘ä¸é€‰æ‹©å½“å‰å…ƒç´ ï¼Œç›´æ¥é€’å½’åé¢çš„å…ƒç´ ã€‚å› ä¸ºå¦‚æœæœ‰ä¸¤ä¸ªç›¸åŒçš„å…ƒç´ ï¼Œæˆ‘ä»¬ä¼šè€ƒè™‘è¿™æ ·å››ç§æƒ…å†µï¼š</p><ol><li><p>å‰è€…è¢«é€‰æ‹©ï¼Œåè€…è¢«é€‰æ‹©</p></li><li><p>å‰è€…è¢«é€‰æ‹©ï¼Œåè€…ä¸è¢«é€‰æ‹©</p></li><li><p>å‰è€…ä¸è¢«é€‰æ‹©ï¼Œåè€…è¢«é€‰æ‹©</p></li><li><p>å‰è€…ä¸è¢«é€‰æ‹©ï¼Œåè€…ä¸è¢«é€‰æ‹©</p><p>å…¶ä¸­ç¬¬äºŒç§æƒ…å†µå’Œç¬¬ä¸‰ç§æƒ…å†µå…¶å®æ˜¯ç­‰ä»·çš„ï¼Œæˆ‘ä»¬è¿™æ ·é™åˆ¶ä¹‹åï¼Œèˆå¼ƒäº†ç¬¬äºŒç§ï¼Œä¿ç•™äº†ç¬¬ä¸‰ç§ï¼Œäºæ˜¯è¾¾åˆ°äº†å»é‡çš„ç›®çš„ã€‚</p></li></ol></li></ul><p><strong>ä»£ç </strong></p><details>    <summary>C++</summary><figure class="highlight cpp"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp; </span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; ans;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> last, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (cur == nums.size()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (temp.size() &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">                ans.push_back(temp);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (nums[cur] &gt;= last) &#123;</span><br><span class="line">            temp.push_back(nums[cur]);</span><br><span class="line">            dfs(cur + <span class="number">1</span>, nums[cur], nums);</span><br><span class="line">            temp.pop_back();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (nums[cur] != last) &#123;</span><br><span class="line">            dfs(cur + <span class="number">1</span>, last, nums);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; findSubsequences(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        dfs(<span class="number">0</span>, INT_MIN, nums);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; temp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; findSubsequences(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        dfs(<span class="number">0</span>, Integer.MIN_VALUE, nums);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> last, <span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (cur == nums.length) &#123;</span><br><span class="line">            <span class="keyword">if</span> (temp.size() &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">                ans.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(temp));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (nums[cur] &gt;= last) &#123;</span><br><span class="line">            temp.add(nums[cur]);</span><br><span class="line">            dfs(cur + <span class="number">1</span>, nums[cur], nums);</span><br><span class="line">            temp.remove(temp.size() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (nums[cur] != last) &#123;</span><br><span class="line">            dfs(cur + <span class="number">1</span>, last, nums);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>** ans;</span><br><span class="line"><span class="keyword">int</span> ansSize;</span><br><span class="line"><span class="keyword">int</span>* temp;</span><br><span class="line"><span class="keyword">int</span> tempSize;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> last, <span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize, <span class="keyword">int</span>** returnColumnSizes)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (cur == numsSize) &#123;</span><br><span class="line">        <span class="keyword">if</span> (tempSize &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">            ans[ansSize] = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * tempSize);</span><br><span class="line">            <span class="built_in">memcpy</span>(ans[ansSize], temp, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * tempSize);</span><br><span class="line">            (*returnColumnSizes)[ansSize++] = tempSize;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (nums[cur] &gt;= last) &#123;</span><br><span class="line">        temp[tempSize++] = nums[cur];</span><br><span class="line">        dfs(cur + <span class="number">1</span>, nums[cur], nums, numsSize, returnColumnSizes);</span><br><span class="line">        tempSize--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (nums[cur] != last) &#123;</span><br><span class="line">        dfs(cur + <span class="number">1</span>, last, nums, numsSize, returnColumnSizes);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>** <span class="title">findSubsequences</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize, <span class="keyword">int</span>* returnSize, <span class="keyword">int</span>** returnColumnSizes)</span> </span>&#123;</span><br><span class="line">    ans = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * <span class="number">32768</span>);</span><br><span class="line">    *returnColumnSizes = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * <span class="number">32768</span>);</span><br><span class="line">    temp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numsSize);</span><br><span class="line">    ansSize = tempSize = <span class="number">0</span>;</span><br><span class="line">    dfs(<span class="number">0</span>, INT_MIN, nums, numsSize, returnColumnSizes);</span><br><span class="line">    *returnSize = ansSize;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    temp []<span class="keyword">int</span></span><br><span class="line">    ans [][]<span class="keyword">int</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findSubsequences</span><span class="params">(nums []<span class="keyword">int</span>)</span> [][]<span class="title">int</span></span> &#123;</span><br><span class="line">    ans = [][]<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">    dfs(<span class="number">0</span>, math.MinInt32, nums)</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(cur, last <span class="keyword">int</span>, nums []<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> cur == <span class="built_in">len</span>(nums) &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(temp) &gt;= <span class="number">2</span> &#123;</span><br><span class="line">            t := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="built_in">len</span>(temp))</span><br><span class="line">            <span class="built_in">copy</span>(t, temp)</span><br><span class="line">            ans = <span class="built_in">append</span>(ans, t)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> nums[cur] &gt;= last &#123;</span><br><span class="line">        temp = <span class="built_in">append</span>(temp, nums[cur])</span><br><span class="line">        dfs(cur + <span class="number">1</span>, nums[cur], nums)</span><br><span class="line">        temp = temp[:<span class="built_in">len</span>(temp)<span class="number">-1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> nums[cur] != last &#123;</span><br><span class="line">        dfs(cur + <span class="number">1</span>, last, nums)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(2^n * n)  ã€‚ä»ç„¶éœ€è¦å¯¹å­åºåˆ—åšäºŒè¿›åˆ¶æšä¸¾ï¼Œæšä¸¾å‡ºçš„åºåˆ—è™½ç„¶çœå»äº†åˆ¤æ–­åˆæ³•æ€§å’Œå“ˆå¸Œçš„è¿‡ç¨‹ï¼Œä½†æ˜¯ä»ç„¶éœ€è¦ <em>O(n)</em> çš„æ—¶é—´æ·»åŠ åˆ°ç­”æ¡ˆä¸­ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ã€‚è¿™é‡Œä¸´æ—¶æ•°ç»„çš„ç©ºé—´ä»£ä»·æ˜¯ <em>O(n)</em>ï¼Œé€’å½’ä½¿ç”¨çš„æ ˆç©ºé—´çš„ç©ºé—´ä»£ä»·ä¹Ÿæ˜¯ <em>O(n)</em>ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæ•´å‹æ•°ç»„, ä½ çš„ä»»åŠ¡æ˜¯æ‰¾åˆ°æ‰€æœ‰è¯¥æ•°ç»„çš„é€’å¢å­åºåˆ—ï¼Œé€’å¢å­åºåˆ—çš„é•¿åº¦è‡³å°‘æ˜¯ 2 ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Depth-first Search" scheme="http://yoursite.com/tags/Depth-first-Search/"/>
    
  </entry>
  
  <entry>
    <title>304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜</title>
    <link href="http://yoursite.com/2021/03/27/304.%20%E4%BA%8C%E7%BB%B4%E5%8C%BA%E5%9F%9F%E5%92%8C%E6%A3%80%E7%B4%A2%20-%20%E7%9F%A9%E9%98%B5%E4%B8%8D%E5%8F%AF%E5%8F%98/"/>
    <id>http://yoursite.com/2021/03/27/304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜/</id>
    <published>2021-03-27T01:17:12.000Z</published>
    <updated>2021-03-27T02:09:08.055Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œè®¡ç®—å…¶å­çŸ©å½¢èŒƒå›´å†…å…ƒç´ çš„æ€»å’Œï¼Œè¯¥å­çŸ©é˜µçš„å·¦ä¸Šè§’ä¸º (row1, col1) ï¼Œå³ä¸‹è§’ä¸º (row2, col2) ã€‚</p><a id="more"></a><p>ä¸Šå›¾å­çŸ©é˜µå·¦ä¸Šè§’ (row1, col1) = (2, 1) ï¼Œå³ä¸‹è§’(row2, col2) = (4, 3)ï¼Œè¯¥å­çŸ©å½¢å†…å…ƒç´ çš„æ€»å’Œä¸º 8ã€‚</p><p>ç¤ºä¾‹ï¼š</p><pre><code>ç»™å®š matrix = [  [3, 0, 1, 4, 2],  [5, 6, 3, 2, 1],  [1, 2, 0, 1, 5],  [4, 1, 0, 1, 7],  [1, 0, 3, 0, 5]]sumRegion(2, 1, 4, 3) -&gt; 8sumRegion(1, 1, 2, 2) -&gt; 11sumRegion(1, 2, 2, 4) -&gt; 12</code></pre><p>æç¤ºï¼š</p><pre><code>ä½ å¯ä»¥å‡è®¾çŸ©é˜µä¸å¯å˜ã€‚ä¼šå¤šæ¬¡è°ƒç”¨ sumRegion æ–¹æ³•ã€‚ä½ å¯ä»¥å‡è®¾ row1 â‰¤ row2 ä¸” col1 â‰¤ col2 ã€‚</code></pre><h1 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h1><p>çœ‹å®Œé¢˜ç›®è¦æ±‚å…ˆæƒ³åˆ°çš„å½“ç„¶å°±æ˜¯åŒé‡å¾ªç¯ç›´æ¥æ±‚å’Œäº†ï¼Œè€Œä¸”è¿˜èƒ½é€šè¿‡ã€‚å†ä¸€ç»†æƒ³ï¼Œå…¶å®å¯ä»¥ç›´æ¥è®¡ç®—æ¯ä¸ªç‚¹ä¸Šä»¥å…¶ä½œä¸ºå·¦ä¸Šè§’çš„åˆ°å¤§çŸ©é˜µå³ä¸‹è§’çš„çŸ©å½¢é¢ç§¯ï¼Œä¿å­˜èµ·æ¥åæ¯æ¬¡è¦æ±‚ç»™å®šåæ ‡çš„çŸ©å½¢é¢ç§¯æ—¶åªéœ€è¦æŠŠä¸Šä¸‹å·¦å³å››ä¸ªè§’çš„ç‚¹ä¿å­˜çš„é¢ç§¯åšä¸ªåŠ å‡å°±å¯ä»¥äº†,ä½†è¿™æ ·å†™å®Œå´åœ¨è°ƒç”¨sumRegionæ–¹æ³•å¾ˆå¤šçš„ç”¨ä¾‹é‚£é‡Œè¶…æ—¶äº†ã€‚</p><details>    <summary>é¢„å¤„ç†å·¦ä¸Šè§’é¢ç§¯ï¼ˆè¶…æ—¶ï¼‰</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">class NumMatrix &#123;</span><br><span class="line"></span><br><span class="line">    public int[][] sum;</span><br><span class="line">    public NumMatrix(int[][] matrix) &#123;</span><br><span class="line">        sum = new int[matrix.length][matrix[0].length];</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; matrix.length; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; matrix[0].length; j++) &#123;</span><br><span class="line">                for (int k = i; k &lt; matrix.length; k++) &#123;</span><br><span class="line">                    for (int l = j; l &lt; matrix[0].length; l++) &#123;</span><br><span class="line">                        sum[i][j] += matrix[k][l];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">//                System.out.printf(&quot;%d &quot;, sum[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">//            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public int sumRegion(int row1, int col1, int row2, int col2) &#123;</span><br><span class="line"></span><br><span class="line">        int leftBottom,rightTop,rightBottom;</span><br><span class="line">        leftBottom = (row2 + 1 &lt; sum.length) ? sum[row2 + 1][col1] : 0;</span><br><span class="line">        rightTop = (col2 + 1 &lt; sum[0].length) ? sum[row1][col2 + 1] : 0;</span><br><span class="line">        rightBottom = ((row2 + 1 &lt; sum.length) &amp;&amp; (col2 + 1 &lt; sum[0].length)) ? sum[row2 + 1][col2 + 1] : 0;</span><br><span class="line">        return sum[row1][col1] - leftBottom - rightTop + rightBottom;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>è€ƒè™‘ä¸€ä¸‹æ›´å¥½çš„æ–¹æ³•å¯ä»¥ä¿å­˜ä¸€ç»´å‰ç¼€å’Œæˆ–è€…äºŒç»´å‰ç¼€å’Œ<a href="https://leetcode-cn.com/problems/range-sum-query-2d-immutable/solution/er-wei-qu-yu-he-jian-suo-ju-zhen-bu-ke-b-2z5n/" target="_blank" rel="noopener">^1</a></p><p>è¿™é‡Œçš„æ ¸å¿ƒæ€æƒ³æ˜¯ä¿å­˜ä»¥æ¯ä¸ªç‚¹ä½œä¸ºå³ä¸‹è§’çš„ä½ç½®ï¼Œè¿™æ ·åˆè¯†æ„é€ æ—¶å¾ªç¯æ—¶é¿å…äº†å››é‡å¾ªç¯ï¼Œå…¶å®æˆ‘ä¸Šé¢çš„åšæ³•é€†å‘å¾ªç¯ä¹Ÿå¯ä»¥é¿å…å››é‡å¾ªç¯ã€‚æ›´ä¸ºé‡è¦çš„æ˜¯ï¼Œæˆ‘ä¸Šé¢çš„ç®—æ³•é‡Œä¹‹æ‰€ä»¥è¶…æ—¶æ˜¯å› ä¸ºåœ¨sumRegioné‡Œæ¯æ¬¡éƒ½è¦åˆ¤æ–­æ˜¯å¦è¶Šç•Œï¼Œæ‰€ä»¥å¯ä»¥å®šä¹‰ä¸€ä¸ªå¤§ä¸€å·çš„æ•°ç»„æ¥ä¿å­˜ï¼Œè¿™æ ·å°±æŠŠåˆ¤æ–­çš„æ“ä½œæŒªåˆ°è¯»æ•°ç»„å…ƒç´ é‡Œäº†ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´ã€‚</p><details>    <summary>äºŒç»´å‰ç¼€å’Œ(é¢„å¤„ç†å·¦ä¸Šè§’é¢ç§¯)</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class NumMatrix &#123;</span><br><span class="line">    public int[][] sum;</span><br><span class="line">    public NumMatrix(int[][] matrix) &#123;</span><br><span class="line">        sum = new int[matrix.length+1][matrix[0].length+1];</span><br><span class="line">        for (int i = matrix.length - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">            for (int j = matrix[0].length - 1; j &gt;= 0; j--) &#123;</span><br><span class="line">                sum[i][j] = matrix[i][j] + sum[i + 1][j] + sum[i][j + 1] - sum[i + 1][j + 1];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public int sumRegion(int row1, int col1, int row2, int col2) &#123;</span><br><span class="line">        return sum[row1][col1] - sum[row2 + 1][col1] - sum[row1][col2 + 1] + sum[row2 + 1][col2 + 1];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œè®¡ç®—å…¶å­çŸ©å½¢èŒƒå›´å†…å…ƒç´ çš„æ€»å’Œï¼Œè¯¥å­çŸ©é˜µçš„å·¦ä¸Šè§’ä¸º (row1, col1) ï¼Œå³ä¸‹è§’ä¸º (row2, col2) ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>456. 132 æ¨¡å¼</title>
    <link href="http://yoursite.com/2021/03/25/456.%20132%20%E6%A8%A1%E5%BC%8F/"/>
    <id>http://yoursite.com/2021/03/25/456. 132 æ¨¡å¼/</id>
    <published>2021-03-25T07:29:12.000Z</published>
    <updated>2021-03-25T10:23:58.543Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ•°ç»„ä¸­å…±æœ‰ n ä¸ªæ•´æ•°ã€‚132 æ¨¡å¼çš„å­åºåˆ— ç”±ä¸‰ä¸ªæ•´æ•° nums[i]ã€nums[j] å’Œ nums[k] ç»„æˆï¼Œå¹¶åŒæ—¶æ»¡è¶³ï¼ši &lt; j &lt; k å’Œ nums[i] &lt; nums[k] &lt; nums[j] ã€‚</p><p>å¦‚æœ nums ä¸­å­˜åœ¨ 132 æ¨¡å¼çš„å­åºåˆ— ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚</p><a id="more"></a><p>è¿›é˜¶ï¼šå¾ˆå®¹æ˜“æƒ³åˆ°æ—¶é—´å¤æ‚åº¦ä¸º O(n^2) çš„è§£å†³æ–¹æ¡ˆï¼Œä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(n logn) æˆ– O(n) çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [1,2,3,4]è¾“å‡ºï¼šfalseè§£é‡Šï¼šåºåˆ—ä¸­ä¸å­˜åœ¨ 132 æ¨¡å¼çš„å­åºåˆ—ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [3,1,4,2]è¾“å‡ºï¼štrueè§£é‡Šï¼šåºåˆ—ä¸­æœ‰ 1 ä¸ª 132 æ¨¡å¼çš„å­åºåˆ—ï¼š [1, 4, 2] ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [-1,3,2,0]è¾“å‡ºï¼štrueè§£é‡Šï¼šåºåˆ—ä¸­æœ‰ 3 ä¸ª 132 æ¨¡å¼çš„çš„å­åºåˆ—ï¼š[-1, 3, 2]ã€[-1, 3, 0] å’Œ [-1, 2, 0] ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>n == nums.length1 &lt;= n &lt;= 104-10^9 &lt;= nums[i] &lt;= 10^9</code></pre><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ç”±äºæœ¬é¢˜ä¸­ <em>n</em> çš„æœ€å¤§å€¼å¯ä»¥åˆ° <em>15000*ï¼Œå› æ­¤å¯¹äºä¸€ä¸ªæ»¡è¶³ *132</em> æ¨¡å¼çš„ä¸‰å…ƒç»„ä¸‹æ ‡ <em>(i, j, k)*ï¼Œæšä¸¾å…¶ä¸­çš„ *2</em> ä¸ªä¸‹æ ‡æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n^2)</em>ï¼Œå¾ˆå®¹æ˜“è¶…å‡ºæ—¶é—´é™åˆ¶ã€‚</p><p>å› æ­¤æˆ‘ä»¬å¯ä»¥è€ƒè™‘æšä¸¾å…¶ä¸­çš„ <em>1</em> ä¸ªä¸‹æ ‡ï¼Œå¹¶ä½¿ç”¨åˆé€‚çš„æ•°æ®ç»“æ„ç»´æŠ¤å¦å¤–çš„ <em>2</em> ä¸ªä¸‹æ ‡çš„å¯èƒ½å€¼ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šæšä¸¾-3"><a href="#æ–¹æ³•ä¸€ï¼šæšä¸¾-3" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæšä¸¾ 3"></a>æ–¹æ³•ä¸€ï¼šæšä¸¾ <em>3</em></h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>æšä¸¾ <em>3</em> æ˜¯å®¹æ˜“æƒ³åˆ°å¹¶ä¸”ä¹Ÿæ˜¯æœ€å®¹æ˜“å®ç°çš„ã€‚ç”±äº <em>3</em> æ˜¯æ¨¡å¼ä¸­çš„æœ€å¤§å€¼ï¼Œå¹¶ä¸”å…¶å‡ºç°åœ¨ <em>1</em> å’Œ <em>2</em> çš„ä¸­é—´ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦ä»å·¦åˆ°å³æšä¸¾ <em>3</em> çš„ä¸‹æ ‡ <em>j</em>ï¼Œé‚£ä¹ˆï¼š</p><ul><li><p>ç”±äº <em>1</em> æ˜¯æ¨¡å¼ä¸­çš„æœ€å°å€¼ï¼Œå› æ­¤æˆ‘ä»¬åœ¨æšä¸¾ <em>j</em> çš„åŒæ—¶ï¼Œç»´æŠ¤æ•°ç»„ <em>a</em> ä¸­å·¦ä¾§å…ƒç´  <em>a[0..j-1]</em> çš„æœ€å°å€¼ï¼Œå³ä¸º <em>1</em> å¯¹åº”çš„å…ƒç´  <em>a[i]*ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰ *a[i] &lt; a[j]</em> æ—¶ï¼Œ<em>a[i]</em> æ‰èƒ½ä½œä¸º <em>1</em> å¯¹åº”çš„å…ƒç´ ï¼›</p></li><li><p>ç”±äº <em>2</em> æ˜¯æ¨¡å¼ä¸­çš„æ¬¡å°å€¼ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæœ‰åºé›†åˆï¼ˆä¾‹å¦‚å¹³è¡¡æ ‘ï¼‰ç»´æŠ¤æ•°ç»„ <em>a</em> ä¸­å³ä¾§å…ƒç´  <em>a[j+1..n-1]</em> ä¸­çš„æ‰€æœ‰å€¼ã€‚å½“æˆ‘ä»¬ç¡®å®šäº† <em>a[i]</em> å’Œ <em>a[j]</em> ä¹‹åï¼Œåªéœ€è¦åœ¨æœ‰åºé›†åˆä¸­æŸ¥è¯¢ä¸¥æ ¼æ¯” <em>a[i]</em> å¤§çš„é‚£ä¸ªæœ€å°çš„å…ƒç´ ï¼Œå³ä¸º <em>a[k]*ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰ *a[k] &lt; a[j]</em> æ—¶ï¼Œ<em>a[k]</em> æ‰èƒ½ä½œä¸º <em>3</em> å¯¹åº”çš„å…ƒç´ ã€‚</p></li></ul><p><strong>ä»£ç </strong></p><p>ä¸‹é¢çš„ Python ä»£ç éœ€è¦æ‰‹åŠ¨å¯¼å…¥ sortedcontainers  åº“ã€‚</p><details>    <summary>æšä¸¾3 C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">find132pattern</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">3</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å·¦ä¾§æœ€å°å€¼</span></span><br><span class="line">        <span class="keyword">int</span> left_min = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="comment">// å³ä¾§æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">        <span class="built_in">multiset</span>&lt;<span class="keyword">int</span>&gt; right_all;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">2</span>; k &lt; n; ++k) &#123;</span><br><span class="line">            right_all.insert(nums[k]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; n - <span class="number">1</span>; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (left_min &lt; nums[j]) &#123;</span><br><span class="line">                <span class="keyword">auto</span> it = right_all.upper_bound(left_min);</span><br><span class="line">                <span class="keyword">if</span> (it != right_all.end() &amp;&amp; *it &lt; nums[j]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            left_min = min(left_min, nums[j]);</span><br><span class="line">            right_all.erase(right_all.find(nums[j + <span class="number">1</span>]));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾3 Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">find132pattern</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">3</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å·¦ä¾§æœ€å°å€¼</span></span><br><span class="line">        <span class="keyword">int</span> leftMin = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="comment">// å³ä¾§æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">        TreeMap&lt;Integer, Integer&gt; rightAll = <span class="keyword">new</span> TreeMap&lt;Integer, Integer&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">2</span>; k &lt; n; ++k) &#123;</span><br><span class="line">            rightAll.put(nums[k], rightAll.getOrDefault(nums[k], <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; n - <span class="number">1</span>; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (leftMin &lt; nums[j]) &#123;</span><br><span class="line">                Integer next = rightAll.ceilingKey(leftMin + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (next != <span class="keyword">null</span> &amp;&amp; next &lt; nums[j]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            leftMin = Math.min(leftMin, nums[j]);</span><br><span class="line">            rightAll.put(nums[j + <span class="number">1</span>], rightAll.get(nums[j + <span class="number">1</span>]) - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (rightAll.get(nums[j + <span class="number">1</span>]) == <span class="number">0</span>) &#123;</span><br><span class="line">                rightAll.remove(nums[j + <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾3 Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find132pattern</span><span class="params">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">3</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å·¦ä¾§æœ€å°å€¼</span></span><br><span class="line">        left_min = nums[<span class="number">0</span>]</span><br><span class="line">        <span class="comment"># å³ä¾§æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">        right_all = SortedList(nums[<span class="number">2</span>:])</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n - <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> left_min &lt; nums[j]:</span><br><span class="line">                index = right_all.bisect_right(left_min)</span><br><span class="line">                <span class="keyword">if</span> index &lt; len(right_all) <span class="keyword">and</span> right_all[index] &lt; nums[j]:</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">            left_min = min(left_min, nums[j])</span><br><span class="line">            right_all.remove(nums[j + <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾3 Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"math/rand"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> node <span class="keyword">struct</span> &#123;</span><br><span class="line">    ch       [<span class="number">2</span>]*node</span><br><span class="line">    priority <span class="keyword">int</span></span><br><span class="line">    val      <span class="keyword">int</span></span><br><span class="line">    cnt      <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(o *node)</span> <span class="title">cmp</span><span class="params">(b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> b &lt; o.val:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">case</span> b &gt; o.val:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(o *node)</span> <span class="title">rotate</span><span class="params">(d <span class="keyword">int</span>)</span> *<span class="title">node</span></span> &#123;</span><br><span class="line">    x := o.ch[d^<span class="number">1</span>]</span><br><span class="line">    o.ch[d^<span class="number">1</span>] = x.ch[d]</span><br><span class="line">    x.ch[d] = o</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> treap <span class="keyword">struct</span> &#123;</span><br><span class="line">    root *node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *treap)</span> _<span class="title">put</span><span class="params">(o *node, val <span class="keyword">int</span>)</span> *<span class="title">node</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> o == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &amp;node&#123;priority: rand.Int(), val: val, cnt: <span class="number">1</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> d := o.cmp(val); d &gt;= <span class="number">0</span> &#123;</span><br><span class="line">        o.ch[d] = t._put(o.ch[d], val)</span><br><span class="line">        <span class="keyword">if</span> o.ch[d].priority &gt; o.priority &#123;</span><br><span class="line">            o = o.rotate(d ^ <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        o.cnt++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> o</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *treap)</span> <span class="title">put</span><span class="params">(val <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    t.root = t._put(t.root, val)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *treap)</span> _<span class="title">delete</span><span class="params">(o *node, val <span class="keyword">int</span>)</span> *<span class="title">node</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> o == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> d := o.cmp(val); d &gt;= <span class="number">0</span> &#123;</span><br><span class="line">        o.ch[d] = t._delete(o.ch[d], val)</span><br><span class="line">        <span class="keyword">return</span> o</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> o.cnt &gt; <span class="number">1</span> &#123;</span><br><span class="line">        o.cnt--</span><br><span class="line">        <span class="keyword">return</span> o</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> o.ch[<span class="number">1</span>] == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> o.ch[<span class="number">0</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> o.ch[<span class="number">0</span>] == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> o.ch[<span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    d := <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> o.ch[<span class="number">0</span>].priority &gt; o.ch[<span class="number">1</span>].priority &#123;</span><br><span class="line">        d = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    o = o.rotate(d)</span><br><span class="line">    o.ch[d] = t._delete(o.ch[d], val)</span><br><span class="line">    <span class="keyword">return</span> o</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *treap)</span> <span class="title">delete</span><span class="params">(val <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    t.root = t._delete(t.root, val)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *treap)</span> <span class="title">upperBound</span><span class="params">(val <span class="keyword">int</span>)</span> <span class="params">(ub *node)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> o := t.root; o != <span class="literal">nil</span>; &#123;</span><br><span class="line">        <span class="keyword">if</span> o.cmp(val) == <span class="number">0</span> &#123;</span><br><span class="line">            ub = o</span><br><span class="line">            o = o.ch[<span class="number">0</span>]</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            o = o.ch[<span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">find132pattern</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">3</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    leftMin := nums[<span class="number">0</span>]</span><br><span class="line">    rights := &amp;treap&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> nums[<span class="number">2</span>:] &#123;</span><br><span class="line">        rights.put(v)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> j := <span class="number">1</span>; j &lt; n<span class="number">-1</span>; j++ &#123;</span><br><span class="line">        <span class="keyword">if</span> nums[j] &gt; leftMin &#123;</span><br><span class="line">            ub := rights.upperBound(leftMin)</span><br><span class="line">            <span class="keyword">if</span> ub != <span class="literal">nil</span> &amp;&amp; ub.val &lt; nums[j] &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            leftMin = nums[j]</span><br><span class="line">        &#125;</span><br><span class="line">        rights.<span class="built_in">delete</span>(nums[j+<span class="number">1</span>])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)  ã€‚åœ¨åˆå§‹åŒ–æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ O(nlogn)  çš„æ—¶é—´å°†æ•°ç»„å…ƒç´  <em>a[2..n-1]</em> åŠ å…¥æœ‰åºé›†åˆä¸­ã€‚åœ¨æšä¸¾ <em>j</em> æ—¶ï¼Œç»´æŠ¤å·¦ä¾§å…ƒç´ æœ€å°å€¼çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(1)*ï¼Œå°† *a[j+1]</em> ä»æœ‰åºé›†åˆä¸­åˆ é™¤çš„æ—¶é—´å¤æ‚åº¦ä¸º O(logn)ï¼Œæ€»å…±éœ€è¦æšä¸¾çš„æ¬¡æ•°ä¸º <em>O(n)</em>ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(nlogn) ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå³ä¸ºæœ‰åºé›†åˆå­˜å‚¨å³ä¾§æ‰€æœ‰å…ƒç´ éœ€è¦ä½¿ç”¨çš„ç©ºé—´ã€‚</p></li></ul><h1 id="æ–¹æ³•äºŒï¼šæšä¸¾-1"><a href="#æ–¹æ³•äºŒï¼šæšä¸¾-1" class="headerlink" title="æ–¹æ³•äºŒï¼šæšä¸¾ 1"></a>æ–¹æ³•äºŒï¼šæšä¸¾ <em>1</em></h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>å¦‚æœæˆ‘ä»¬ä»å·¦åˆ°å³æšä¸¾ <em>1</em> çš„ä¸‹æ ‡ <em>i</em>ï¼Œé‚£ä¹ˆ <em>j, k</em> çš„ä¸‹æ ‡èŒƒå›´éƒ½æ˜¯å‡å°‘çš„ï¼Œè¿™æ ·å°±ä¸åˆ©äºå¯¹å®ƒä»¬è¿›è¡Œç»´æŠ¤ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä»å³åˆ°å·¦æšä¸¾ <em>i</em>ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å¦‚ä½•ç»´æŠ¤ <em>j, k</em> å‘¢ï¼Ÿåœ¨ <em>132</em> æ¨¡å¼ä¸­ï¼Œå¦‚æœ <em>1&lt;2</em> å¹¶ä¸” <em>2&lt;3<em>ï¼Œé‚£ä¹ˆæ ¹æ®ä¼ é€’æ€§ï¼Œ</em>1&lt;3</em> ä¹Ÿæ˜¯æˆç«‹çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•è¿›è¡Œç»´æŠ¤ï¼š</p><ul><li><p>æˆ‘ä»¬ä½¿ç”¨ä¸€ç§æ•°æ®ç»“æ„ç»´æŠ¤æ‰€æœ‰éå†è¿‡çš„å…ƒç´ ï¼Œå®ƒä»¬ä½œä¸º <em>2</em> çš„å€™é€‰å…ƒç´ ã€‚æ¯å½“æˆ‘ä»¬éå†åˆ°ä¸€ä¸ªæ–°çš„å…ƒç´ æ—¶ï¼Œå°±å°†å…¶åŠ å…¥æ•°æ®ç»“æ„ä¸­ï¼›</p></li><li><p>åœ¨éå†åˆ°ä¸€ä¸ªæ–°çš„å…ƒç´ çš„åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘å…¶æ˜¯å¦å¯ä»¥ä½œä¸º <em>3</em>ã€‚å¦‚æœå®ƒä½œä¸º <em>3</em>ï¼Œé‚£ä¹ˆ<strong>æ•°æ®ç»“æ„ä¸­æ‰€æœ‰ä¸¥æ ¼å°äºå®ƒçš„å…ƒç´ éƒ½å¯ä»¥ä½œä¸º <em>2</em></strong>ï¼Œæˆ‘ä»¬å°†è¿™äº›å…ƒç´ å…¨éƒ¨ä»æ•°æ®ç»“æ„ä¸­ç§»é™¤ï¼Œå¹¶ä¸”ä½¿ç”¨ä¸€ä¸ªå˜é‡ç»´æŠ¤<strong>æ‰€æœ‰è¢«ç§»é™¤çš„å…ƒç´ çš„æœ€å¤§å€¼</strong>ã€‚è¿™äº›è¢«ç§»é™¤çš„å…ƒç´ éƒ½æ˜¯å¯ä»¥çœŸæ­£ä½œä¸º <em>2</em> çš„ï¼Œå¹¶ä¸”å…ƒç´ çš„å€¼è¶Šå¤§ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹‹åæ‰¾åˆ° <em>1</em> çš„æœºä¼šä¹Ÿå°±è¶Šå¤§ã€‚</p></li></ul><p>é‚£ä¹ˆè¿™ä¸ªã€Œæ•°æ®ç»“æ„ã€æ˜¯ä»€ä¹ˆæ ·çš„æ•°æ®ç»“æ„å‘¢ï¼Ÿæˆ‘ä»¬å°è¯•æå–å‡ºå®ƒè¿›è¡Œçš„æ“ä½œï¼š</p><ul><li><p>å®ƒéœ€è¦æ”¯æŒæ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼›</p></li><li><p>å®ƒéœ€è¦æ”¯æŒç§»é™¤æ‰€æœ‰ä¸¥æ ¼å°äºç»™å®šé˜ˆå€¼çš„æ‰€æœ‰å…ƒç´ ï¼›</p></li><li><p>ä¸Šé¢ä¸¤æ­¥æ“ä½œæ˜¯ã€Œä¾æ¬¡è¿›è¡Œã€çš„ï¼Œå³æˆ‘ä»¬å…ˆç”¨ç»™å®šçš„é˜ˆå€¼ç§»é™¤å…ƒç´ ï¼Œå†å°†è¯¥é˜ˆå€¼åŠ å…¥æ•°æ®ç»“æ„ä¸­ã€‚</p></li></ul><p>è¿™å°±æ˜¯ã€Œå•è°ƒæ ˆã€ã€‚åœ¨å•è°ƒæ ˆä¸­ï¼Œä»æ ˆåº•åˆ°æ ˆé¡¶çš„å…ƒç´ æ˜¯ä¸¥æ ¼å•è°ƒé€’å‡çš„ã€‚å½“ç»™å®šé˜ˆå€¼ <em>x</em> æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸æ–­åœ°å¼¹å‡ºæ ˆé¡¶çš„å…ƒç´ ï¼Œç›´åˆ°æ ˆä¸ºç©ºæˆ–è€… <em>x</em> ä¸¥æ ¼å°äºæ ˆé¡¶å…ƒç´ ã€‚æ­¤æ—¶æˆ‘ä»¬å†å°† <em>x</em> å…¥æ ˆï¼Œè¿™æ ·å°±ç»´æŠ¤äº†æ ˆçš„å•è°ƒæ€§ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•è°ƒæ ˆä½œä¸ºç»´æŠ¤ <em>2</em> çš„æ•°æ®ç»“æ„ï¼Œå¹¶ç»™å‡ºä¸‹é¢çš„ç®—æ³•ï¼š</p><ul><li><p>æˆ‘ä»¬ç”¨å•è°ƒæ ˆç»´æŠ¤æ‰€æœ‰å¯ä»¥ä½œä¸º <em>2</em> çš„å€™é€‰å…ƒç´ ã€‚åˆå§‹æ—¶ï¼Œå•è°ƒæ ˆä¸­åªæœ‰å”¯ä¸€çš„å…ƒç´ a[n-1] ã€‚æˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨ä¸€ä¸ªå˜é‡ max_k è®°å½•æ‰€æœ‰å¯ä»¥çœŸæ­£ä½œä¸º <em>2</em> çš„å…ƒç´ çš„æœ€å¤§å€¼ï¼›</p></li><li><p>éšåæˆ‘ä»¬ä» <em>n-2</em> å¼€å§‹ä»å³åˆ°å·¦æšä¸¾å…ƒç´  <em>a[i]</em>ï¼š</p><ul><li><p>é¦–å…ˆæˆ‘ä»¬åˆ¤æ–­ <em>a[i]</em> æ˜¯å¦å¯ä»¥ä½œä¸º <em>1</em>ã€‚å¦‚æœ [a[i]&lt;max_k ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥ä½œä¸º <em>1</em>ï¼Œæˆ‘ä»¬å°±æ‰¾åˆ°äº†ä¸€ç»„æ»¡è¶³ <em>132</em> æ¨¡å¼çš„ä¸‰å…ƒç»„ï¼›</p></li><li><p>éšåæˆ‘ä»¬åˆ¤æ–­ <em>a[i]</em> æ˜¯å¦å¯ä»¥ä½œä¸º <em>3</em>ï¼Œä»¥æ­¤æ‰¾å‡ºå“ªäº›å¯ä»¥çœŸæ­£ä½œä¸º <em>2</em> çš„å…ƒç´ ã€‚æˆ‘ä»¬å°† <em>a[i]</em> ä¸æ–­åœ°ä¸å•è°ƒæ ˆæ ˆé¡¶çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœ <em>a[i]</em> è¾ƒå¤§ï¼Œé‚£ä¹ˆæ ˆé¡¶å…ƒç´ å¯ä»¥çœŸæ­£ä½œä¸º <em>2</em>ï¼Œå°†å…¶å¼¹å‡ºå¹¶æ›´æ–° max_kï¼›</p></li><li><p>æœ€åæˆ‘ä»¬å°† <em>a[i]</em> ä½œä¸º <em>2</em> çš„å€™é€‰å…ƒç´ æ”¾å…¥å•è°ƒæ ˆä¸­ã€‚è¿™é‡Œå¯ä»¥è¿›è¡Œä¸€ä¸ªä¼˜åŒ–ï¼Œå³å¦‚æœa[i] &lt;= max_k ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿæ²¡æœ‰å¿…è¦å°† <em>a[i]</em> æ”¾å…¥æ ˆä¸­ï¼Œå› ä¸ºå³ä½¿å®ƒåœ¨æœªæ¥è¢«å¼¹å‡ºï¼Œä¹Ÿä¸ä¼šå°† max_k  æ›´æ–°ä¸ºæ›´å¤§çš„å€¼ã€‚</p></li></ul></li><li><p>åœ¨æšä¸¾å®Œæ‰€æœ‰çš„å…ƒç´ åï¼Œå¦‚æœä»æœªæ‰¾åˆ°æ»¡è¶³ <em>132</em> æ¨¡å¼çš„ä¸‰å…ƒç»„ï¼Œé‚£å°±è¯´æ˜å…¶ä¸å­˜åœ¨ã€‚</p></li></ul><h2 id="æˆ‘çš„æ€è·¯æ€»ç»“"><a href="#æˆ‘çš„æ€è·¯æ€»ç»“" class="headerlink" title="æˆ‘çš„æ€è·¯æ€»ç»“"></a>æˆ‘çš„æ€è·¯æ€»ç»“</h2><p>è¿™ä¸ªè§£æ³•æˆ‘çœ‹äº†å‡ éè¿˜æ˜¯æ„Ÿè§‰å¾ˆæŠ½è±¡ï¼Œç”¨è‡ªå·±çš„è¯æ€»ç»“ä¸€ä¸‹å°±æ˜¯ç”¨maxKæ¥ä¿å­˜ä½œä¸º2çš„å…ƒç´ ï¼Œå•è°ƒæ ˆé‡Œä»æ ˆé¡¶åˆ°æ ˆåº•æ˜¯è¶Šæ¥è¶Šå¤§çš„ï¼Œåœ¨whileå¾ªç¯ä¸­çš„ä¸»è¦ç›®çš„æ˜¯æ‰¾åˆ°ä¸€ä¸ªnums[i]å³ä¾§æ¯”å®ƒå°çš„æœ€å¤§å…ƒç´ ï¼Œç”¨å®ƒæ¥ä½œä¸º2çš„å…ƒç´ maxKã€‚è¿™æ ·åé¢çš„éå†ä¸­åªè¦é‡åˆ°ä¸€ä¸ªæ¯”maxKå°çš„å…ƒç´ å°±è¯´æ˜æœ‰äº†ä¸€ä¸ª132çš„åºåˆ—ï¼Œwhileå¾ªç¯åæŠŠnums[i]æ”¾è¿›å•è°ƒæ ˆï¼Œå› ä¸ºä¹‹å‰çš„whileå¾ªç¯ä¸­å·²ç»æŠŠæ¯”maxKå°çš„æ•°éƒ½å¼¹å‡ºæ ˆäº†ï¼Œæ‰€ä»¥è¿™é‡Œæ”¾è¿›å•è°ƒæ ˆå°±å¯ä»¥ä¿è¯æ ˆçš„é¡ºåºæ˜¯å•è°ƒçš„ã€‚åé¢çš„ä¼˜åŒ–åˆ¤æ–­å¢å¤§äº†é˜…è¯»éš¾åº¦ï¼Œä¸€å¼€å§‹å¯ä»¥ç•¥å»è¿™ä¸ªåˆ¤æ–­ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>æšä¸¾1 C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">find132pattern</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; candidate_k;</span><br><span class="line">        candidate_k.push(nums[n - <span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">int</span> max_k = INT_MIN;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &lt; max_k) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (!candidate_k.empty() &amp;&amp; nums[i] &gt; candidate_k.top()) &#123;</span><br><span class="line">                max_k = candidate_k.top();</span><br><span class="line">                candidate_k.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; max_k) &#123;</span><br><span class="line">                candidate_k.push(nums[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾1 Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">find132pattern</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        Deque&lt;Integer&gt; candidateK = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">        candidateK.push(nums[n - <span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">int</span> maxK = Integer.MIN_VALUE;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &lt; maxK) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (!candidateK.isEmpty() &amp;&amp; nums[i] &gt; candidateK.peek()) &#123;</span><br><span class="line">                maxK = candidateK.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; maxK) &#123;</span><br><span class="line">                candidateK.push(nums[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾1 Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find132pattern</span><span class="params">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        candidate_k = [nums[n - <span class="number">1</span>]]</span><br><span class="line">        max_k = float(<span class="string">"-inf"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n - <span class="number">2</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> nums[i] &lt; max_k:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">while</span> candidate_k <span class="keyword">and</span> nums[i] &gt; candidate_k[<span class="number">-1</span>]:</span><br><span class="line">                max_k = candidate_k[<span class="number">-1</span>]</span><br><span class="line">                candidate_k.pop()</span><br><span class="line">            <span class="keyword">if</span> nums[i] &gt; max_k:</span><br><span class="line">                candidate_k.append(nums[i])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾1 JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol2-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> find132pattern = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = nums.length;</span><br><span class="line">    <span class="keyword">const</span> candidate_k = [nums[n - <span class="number">1</span>]];</span><br><span class="line">    <span class="keyword">let</span> max_k = -<span class="built_in">Number</span>.MAX_SAFE_INTEGER;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] &lt; max_k) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (candidate_k.length &amp;&amp; nums[i] &gt; candidate_k[candidate_k.length - <span class="number">1</span>]) &#123;</span><br><span class="line">            max_k = candidate_k[candidate_k.length - <span class="number">1</span>];</span><br><span class="line">            candidate_k.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] &gt; max_k) &#123;</span><br><span class="line">            candidate_k.push(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾1 Golang</summary><figure class="highlight go"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">find132pattern</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    candidateK := []<span class="keyword">int</span>&#123;nums[n<span class="number">-1</span>]&#125;</span><br><span class="line">    maxK := math.MinInt64</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">        <span class="keyword">if</span> nums[i] &lt; maxK &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">len</span>(candidateK) &gt; <span class="number">0</span> &amp;&amp; nums[i] &gt; candidateK[<span class="built_in">len</span>(candidateK)<span class="number">-1</span>] &#123;</span><br><span class="line">            maxK = candidateK[<span class="built_in">len</span>(candidateK)<span class="number">-1</span>]</span><br><span class="line">            candidateK = candidateK[:<span class="built_in">len</span>(candidateK)<span class="number">-1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> nums[i] &gt; maxK &#123;</span><br><span class="line">            candidateK = <span class="built_in">append</span>(candidateK, nums[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾1 C</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">find132pattern</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = numsSize;</span><br><span class="line">    <span class="keyword">int</span> candidate_k[n], top = <span class="number">0</span>;</span><br><span class="line">    candidate_k[top++] = nums[n - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> max_k = INT_MIN;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] &lt; max_k) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (top &amp;&amp; nums[i] &gt; candidate_k[top - <span class="number">1</span>]) &#123;</span><br><span class="line">            max_k = candidate_k[--top];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] &gt; max_k) &#123;</span><br><span class="line">            candidate_k[top++] = nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œæšä¸¾ *i</em> çš„æ¬¡æ•°ä¸º <em>O(n)</em>ï¼Œç”±äºæ¯ä¸€ä¸ªå…ƒç´ æœ€å¤šè¢«åŠ å…¥å’Œå¼¹å‡ºå•è°ƒæ ˆå„ä¸€æ¬¡ï¼Œå› æ­¤æ“ä½œå•è°ƒæ ˆçš„æ—¶é—´å¤æ‚åº¦ä¸€å…±ä¸º <em>O(n)</em>ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå³ä¸ºå•è°ƒæ ˆéœ€è¦ä½¿ç”¨çš„ç©ºé—´ã€‚</p></li></ul><h1 id="æ–¹æ³•ä¸‰ï¼šæšä¸¾-2"><a href="#æ–¹æ³•ä¸‰ï¼šæšä¸¾-2" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šæšä¸¾ 2"></a>æ–¹æ³•ä¸‰ï¼šæšä¸¾ <em>2</em></h1><p><strong>è¯´æ˜</strong></p><p>æ–¹æ³•ä¸‰æ€è·¯éš¾åº¦è¾ƒå¤§ï¼Œéœ€è¦åœ¨å•è°ƒæ ˆä¸Šè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ã€‚å»ºè®®è¯»è€…åœ¨å®Œå…¨ç†è§£æ–¹æ³•äºŒä¹‹åï¼Œå†å°è¯•é˜…è¯»è¯¥æ–¹æ³•ã€‚</p><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>å½“æˆ‘ä»¬æšä¸¾ <em>2</em> çš„ä¸‹æ ‡ <em>k</em> æ—¶ï¼Œä¸æ–¹æ³•äºŒç›¸åï¼Œä»å·¦åˆ°å³è¿›è¡Œæšä¸¾çš„æ–¹æ³•æ˜¯ååˆ†åˆç†çš„ï¼šåœ¨æšä¸¾çš„è¿‡ç¨‹ä¸­ï¼Œ<em>i, j</em> çš„ä¸‹æ ‡èŒƒå›´éƒ½æ˜¯å¢åŠ çš„ã€‚</p><p>ç”±äºæˆ‘ä»¬éœ€è¦ä¿è¯ <em>1&lt;2</em> å¹¶ä¸” <em>2&lt;3*ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ç³»åˆ—å°½å¯èƒ½å°çš„å…ƒç´ ä½œä¸º *1</em> çš„å€™é€‰å…ƒç´ ï¼Œå¹¶ä¸”ç»´æŠ¤ä¸€ç³»åˆ—å°½å¯èƒ½å¤§çš„å…ƒç´ ä½œä¸º <em>3</em> çš„å€™é€‰å…ƒç´ ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åˆ†æƒ…å†µè¿›è¡Œè®¨è®ºï¼Œå‡è®¾å½“å‰æœ‰ä¸€ä¸ªå°å…ƒç´  <em>x_i</em> ä»¥åŠä¸€ä¸ªå¤§å…ƒç´  <em>x_j</em> è¡¨ç¤ºä¸€ä¸ªäºŒå…ƒç»„ï¼Œè€Œæˆ‘ä»¬å½“å‰éå†åˆ°äº†ä¸€ä¸ªæ–°çš„å…ƒç´  <em>x=a[k]</em>ï¼Œé‚£ä¹ˆï¼š</p><ul><li><p>å¦‚æœ <em>x &gt; x_j*ï¼Œé‚£ä¹ˆè®© *x</em> ä½œä¸º <em>3</em> æ˜¾ç„¶æ˜¯æ¯” <em>x_j</em> ä½œä¸º <em>3</em> æ›´ä¼˜ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨ <em>x</em> æ›¿ä»£ <em>x_j</em>ï¼›</p></li><li><p>å¦‚æœ <em>x &lt; x_i*ï¼Œé‚£ä¹ˆè®© *x</em> ä½œä¸º <em>1</em> æ˜¾ç„¶æ˜¯æ¯” <em>x_i</em> ä½œä¸º <em>3</em> æ›´ä¼˜ï¼Œç„¶è€Œæˆ‘ä»¬å¿…é¡»è¦æ»¡è¶³ <em>132</em> æ¨¡å¼ä¸­çš„é¡ºåºï¼Œå³ <em>1</em> å‡ºç°åœ¨ <em>3</em> ä¹‹å‰ï¼Œè¿™é‡Œå¦‚æœæˆ‘ä»¬ç®€å•åœ°ç”¨ <em>x</em> æ›¿ä»£ <em>x_i*ï¼Œé‚£ä¹ˆ *x_i=x</em> ä½œä¸º <em>1</em> æ˜¯å‡ºç°åœ¨ <em>x_j</em> ä½œä¸º <em>3</em> ä¹‹åçš„ï¼Œè¿™å¹¶ä¸æ»¡è¶³è¦æ±‚ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦ä¸º <em>x</em> æ‰¾ä¸€ä¸ªæ–°çš„å…ƒç´ ä½œä¸º <em>3</em>ã€‚ç”±äºæˆ‘ä»¬è¿˜æ²¡æœ‰éå†åˆ°åé¢çš„å…ƒç´ ï¼Œå› æ­¤å¯ä»¥ç®€å•åœ°å°† <em>x</em> åŒæ—¶çœ‹ä½œä¸€ä¸ªäºŒå…ƒç»„çš„ <em>x_i</em> å’Œ <em>x_j</em>ï¼›</p></li><li><p>å¯¹äºå…¶å®ƒçš„æƒ…å†µï¼Œxi&lt;=x&lt;=xj ï¼Œ<em>x</em> æ— è®ºä½œä¸º <em>1</em> è¿˜æ˜¯ <em>3</em> éƒ½æ²¡æœ‰å½“å‰äºŒå…ƒç»„å¯¹åº”çš„è¦ä¼˜ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¸ç”¨è€ƒè™‘ <em>x</em> ä½œä¸º <em>1</em> æˆ–è€… <em>3</em> çš„æƒ…å†µã€‚</p></li></ul><p>è¿™æ ·ä¸€æ¥ï¼Œä¸æ–¹æ³•äºŒç±»ä¼¼ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªå•è°ƒé€’å‡çš„å•è°ƒæ ˆç»´æŠ¤ä¸€ç³»åˆ—äºŒå…ƒç»„ <em>(x_i, x_j)*ï¼Œè¡¨ç¤ºä¸€ä¸ªå¯ä»¥é€‰æ‹©çš„ *1-3</em> åŒºé—´ï¼Œå¹¶ä¸”ä»æ ˆåº•åˆ°æ ˆé¡¶ <em>x_i</em> å’Œ <em>x_j</em> åˆ†åˆ«ä¸¥æ ¼å•è°ƒé€’å‡ï¼Œå› ä¸ºæ ¹æ®ä¸Šé¢çš„è®¨è®ºï¼Œæˆ‘ä»¬åªæœ‰åœ¨ <em>x &lt; x_i</em> æ—¶æ‰ä¼šå¢åŠ ä¸€ä¸ªæ–°çš„äºŒå…ƒç»„ã€‚</p><p>ç„¶è€Œä¸æ–¹æ³•äºŒä¸åŒçš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è®© <em>x</em> ä½œä¸º <em>2</em>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¹¶ä¸çŸ¥é“åˆ°åº•åº”è¯¥é€‰æ‹©å•è°ƒæ ˆä¸­çš„å“ªä¸ª <em>1-3</em> åŒºé—´ï¼Œå› æ­¤æˆ‘ä»¬åªèƒ½æ ¹æ®å•è°ƒæ€§è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼š</p><ul><li><p>å¯¹äºå•è°ƒæ ˆä¸­çš„ <em>x_i*ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾å‡ºç¬¬ä¸€ä¸ªæ»¡è¶³ *x_i &lt; x</em> çš„ä½ç½® idx_i ï¼Œè¿™æ ·ä»è¯¥ä½ç½®åˆ°æ ˆé¡¶çš„æ‰€æœ‰äºŒå…ƒç»„éƒ½æ»¡è¶³ <em>x_i &lt; x</em>ï¼›</p></li><li><p>å¯¹äºå•è°ƒæ ˆä¸­çš„ <em>x_j*ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾å‡ºæœ€åä¸€ä¸ªæ»¡è¶³ *x_j &gt; x</em> çš„ä½ç½® idx_j ï¼Œè¿™æ ·ä»æ ˆåº•åˆ°è¯¥ä½ç½®çš„æ‰€æœ‰äºŒå…ƒç»„éƒ½æ»¡è¶³ <em>x_j &gt; x</em>ï¼›</p></li><li><p>å¦‚æœ idx_i  å’Œ idx_j  éƒ½å­˜åœ¨ï¼Œå¹¶ä¸”idx_i&lt;idx_j ï¼Œé‚£ä¹ˆå°±å­˜åœ¨è‡³å°‘ä¸€ä¸ªäºŒå…ƒç»„ <em>(x_i, x_j)</em> æ»¡è¶³ <em>x_i &lt; x &lt; x_j<em>ï¼Œ</em>x</em> å°±å¯ä»¥ä½œä¸º <em>2</em>ï¼Œæˆ‘ä»¬å°±æ‰¾åˆ°äº†ä¸€ç»„æ»¡è¶³ <em>132</em> æ¨¡å¼çš„ä¸‰å…ƒç»„ã€‚</p></li></ul><p>åœ¨æšä¸¾å®Œæ‰€æœ‰çš„å…ƒç´ åï¼Œå¦‚æœä»æœªæ‰¾åˆ°æ»¡è¶³ <em>132</em> æ¨¡å¼çš„ä¸‰å…ƒç»„ï¼Œé‚£å°±è¯´æ˜å…¶ä¸å­˜åœ¨ã€‚</p><p><strong>ä»£ç </strong></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬æ˜¯åœ¨<strong>å•è°ƒé€’å‡çš„æ ˆä¸Šè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾</strong>ï¼Œå› æ­¤å¤§éƒ¨åˆ†è¯­è¨€éƒ½éœ€è¦å®ç°ä¸€ä¸ªè‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°ï¼Œæˆ–è€…å°†æ ˆä¸­çš„å…ƒç´ å–ç›¸åæ•°åå†ä½¿ç”¨é»˜è®¤çš„æ¯”è¾ƒå‡½æ•°ã€‚</p><details>    <summary>æšä¸¾2 C++</summary><figure class="highlight c++"><figcaption><span>[sol3-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">find132pattern</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; candidate_i = &#123;nums[<span class="number">0</span>]&#125;;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; candidate_j = &#123;nums[<span class="number">0</span>]&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt; n; ++k) &#123;</span><br><span class="line">            <span class="keyword">auto</span> it_i = upper_bound(candidate_i.begin(), candidate_i.end(), nums[k], greater&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">            <span class="keyword">auto</span> it_j = lower_bound(candidate_j.begin(), candidate_j.end(), nums[k], greater&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">            <span class="keyword">if</span> (it_i != candidate_i.end() &amp;&amp; it_j != candidate_j.begin()) &#123;</span><br><span class="line">                <span class="keyword">int</span> idx_i = it_i - candidate_i.begin();</span><br><span class="line">                <span class="keyword">int</span> idx_j = it_j - candidate_j.begin() - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (idx_i &lt;= idx_j) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (nums[k] &lt; candidate_i.back()) &#123;</span><br><span class="line">                candidate_i.push_back(nums[k]);</span><br><span class="line">                candidate_j.push_back(nums[k]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (nums[k] &gt; candidate_j.back()) &#123;</span><br><span class="line">                <span class="keyword">int</span> last_i = candidate_i.back();</span><br><span class="line">                <span class="keyword">while</span> (!candidate_j.empty() &amp;&amp; nums[k] &gt; candidate_j.back()) &#123;</span><br><span class="line">                    candidate_i.pop_back();</span><br><span class="line">                    candidate_j.pop_back();</span><br><span class="line">                &#125;</span><br><span class="line">                candidate_i.push_back(last_i);</span><br><span class="line">                candidate_j.push_back(nums[k]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾2 Java</summary><figure class="highlight java"><figcaption><span>[sol3-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">find132pattern</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        List&lt;Integer&gt; candidateI = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        candidateI.add(nums[<span class="number">0</span>]);</span><br><span class="line">        List&lt;Integer&gt; candidateJ = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        candidateJ.add(nums[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt; n; ++k) &#123;</span><br><span class="line">            <span class="keyword">int</span> idxI = binarySearchFirst(candidateI, nums[k]);</span><br><span class="line">            <span class="keyword">int</span> idxJ = binarySearchLast(candidateJ, nums[k]);</span><br><span class="line">            <span class="keyword">if</span> (idxI &gt;= <span class="number">0</span> &amp;&amp; idxJ &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (idxI &lt;= idxJ) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (nums[k] &lt; candidateI.get(candidateI.size() - <span class="number">1</span>)) &#123;</span><br><span class="line">                candidateI.add(nums[k]);</span><br><span class="line">                candidateJ.add(nums[k]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[k] &gt; candidateJ.get(candidateJ.size() - <span class="number">1</span>)) &#123;</span><br><span class="line">                <span class="keyword">int</span> lastI = candidateI.get(candidateI.size() - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">while</span> (!candidateJ.isEmpty() &amp;&amp; nums[k] &gt; candidateJ.get(candidateJ.size() - <span class="number">1</span>)) &#123;</span><br><span class="line">                    candidateI.remove(candidateI.size() - <span class="number">1</span>);</span><br><span class="line">                    candidateJ.remove(candidateJ.size() - <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                candidateI.add(lastI);</span><br><span class="line">                candidateJ.add(nums[k]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">binarySearchFirst</span><span class="params">(List&lt;Integer&gt; candidate, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>, high = candidate.size() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (candidate.get(high) &gt;= target) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (low &lt; high) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (high - low) / <span class="number">2</span> + low;</span><br><span class="line">            <span class="keyword">int</span> num = candidate.get(mid);</span><br><span class="line">            <span class="keyword">if</span> (num &gt;= target) &#123;</span><br><span class="line">                low = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                high = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> low;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">binarySearchLast</span><span class="params">(List&lt;Integer&gt; candidate, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>, high = candidate.size() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (candidate.get(low) &lt;= target) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (low &lt; high) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (high - low + <span class="number">1</span>) / <span class="number">2</span> + low;</span><br><span class="line">            <span class="keyword">int</span> num = candidate.get(mid);</span><br><span class="line">            <span class="keyword">if</span> (num &lt;= target) &#123;</span><br><span class="line">                high = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                low = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> low;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾2 Python</summary><figure class="highlight python"><figcaption><span>[sol3-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find132pattern</span><span class="params">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class="line">        candidate_i, candidate_j = [-nums[<span class="number">0</span>]], [-nums[<span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> v <span class="keyword">in</span> nums[<span class="number">1</span>:]:</span><br><span class="line">            idx_i = bisect.bisect_right(candidate_i, -v)</span><br><span class="line">            idx_j = bisect.bisect_left(candidate_j, -v)</span><br><span class="line">            <span class="keyword">if</span> idx_i &lt; idx_j:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> v &lt; -candidate_i[<span class="number">-1</span>]:</span><br><span class="line">                candidate_i.append(-v)</span><br><span class="line">                candidate_j.append(-v)</span><br><span class="line">            <span class="keyword">elif</span> v &gt; -candidate_j[<span class="number">-1</span>]:</span><br><span class="line">                last_i = -candidate_i[<span class="number">-1</span>]</span><br><span class="line">                <span class="keyword">while</span> candidate_j <span class="keyword">and</span> v &gt; -candidate_j[<span class="number">-1</span>]:</span><br><span class="line">                    candidate_i.pop()</span><br><span class="line">                    candidate_j.pop()</span><br><span class="line">                candidate_i.append(-last_i)</span><br><span class="line">                candidate_j.append(-v)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾2 JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol3-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> find132pattern = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = nums.length;</span><br><span class="line">    <span class="keyword">const</span> candidateI = [nums[<span class="number">0</span>]], candidateJ = [nums[<span class="number">0</span>]];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k = <span class="number">1</span>; k &lt; n; ++k) &#123;</span><br><span class="line">        <span class="keyword">const</span> idxI = binarySearchFirst(candidateI, nums[k]);</span><br><span class="line">        <span class="keyword">const</span> idxJ = binarySearchLast(candidateJ, nums[k]);</span><br><span class="line">        <span class="keyword">if</span> (idxI &gt;= <span class="number">0</span> &amp;&amp; idxJ &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (idxI &lt;= idxJ) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (nums[k] &lt; candidateI[candidateI.length - <span class="number">1</span>]) &#123;</span><br><span class="line">            candidateI.push(nums[k]);</span><br><span class="line">            candidateJ.push(nums[k]);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[k] &gt; candidateJ[candidateJ.length - <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">const</span> lastI = candidateI[candidateI.length - <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">while</span> (candidateJ.length &amp;&amp; nums[k] &gt; candidateJ[candidateJ.length - <span class="number">1</span>]) &#123;</span><br><span class="line">                candidateI.pop();</span><br><span class="line">                candidateJ.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            candidateI.push(lastI);</span><br><span class="line">            candidateJ.push(nums[k]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> binarySearchFirst = <span class="function">(<span class="params">candidate, target</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> low = <span class="number">0</span>, high = candidate.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (candidate[high] &gt;= target) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (low &lt; high) &#123;</span><br><span class="line">        <span class="keyword">const</span> mid = <span class="built_in">Math</span>.floor((high - low) / <span class="number">2</span>) + low;</span><br><span class="line">        <span class="keyword">const</span> num = candidate[mid];</span><br><span class="line">        <span class="keyword">if</span> (num &gt;= target) &#123;</span><br><span class="line">            low = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            high = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> low;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> binarySearchLast = <span class="function">(<span class="params">candidate, target</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> low = <span class="number">0</span>, high = candidate.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (candidate[low] &lt;= target) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (low &lt; high) &#123;</span><br><span class="line">        <span class="keyword">const</span> mid = <span class="built_in">Math</span>.floor((high - low + <span class="number">1</span>) / <span class="number">2</span>) + low;</span><br><span class="line">        <span class="keyword">const</span> num = candidate[mid];</span><br><span class="line">        <span class="keyword">if</span> (num &lt;= target) &#123;</span><br><span class="line">            high = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            low = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> low;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾2 Golang</summary><figure class="highlight go"><figcaption><span>[sol3-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">find132pattern</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    candidateI, candidateJ := []<span class="keyword">int</span>&#123;-nums[<span class="number">0</span>]&#125;, []<span class="keyword">int</span>&#123;-nums[<span class="number">0</span>]&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> nums[<span class="number">1</span>:] &#123;</span><br><span class="line">        idxI := sort.SearchInts(candidateI, <span class="number">1</span>-v)</span><br><span class="line">        idxJ := sort.SearchInts(candidateJ, -v)</span><br><span class="line">        <span class="keyword">if</span> idxI &lt; idxJ &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> v &lt; -candidateI[<span class="built_in">len</span>(candidateI)<span class="number">-1</span>] &#123;</span><br><span class="line">            candidateI = <span class="built_in">append</span>(candidateI, -v)</span><br><span class="line">            candidateJ = <span class="built_in">append</span>(candidateJ, -v)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> v &gt; -candidateJ[<span class="built_in">len</span>(candidateJ)<span class="number">-1</span>] &#123;</span><br><span class="line">            lastI := -candidateI[<span class="built_in">len</span>(candidateI)<span class="number">-1</span>]</span><br><span class="line">            <span class="keyword">for</span> <span class="built_in">len</span>(candidateJ) &gt; <span class="number">0</span> &amp;&amp; v &gt; -candidateJ[<span class="built_in">len</span>(candidateJ)<span class="number">-1</span>] &#123;</span><br><span class="line">                candidateI = candidateI[:<span class="built_in">len</span>(candidateI)<span class="number">-1</span>]</span><br><span class="line">                candidateJ = candidateJ[:<span class="built_in">len</span>(candidateJ)<span class="number">-1</span>]</span><br><span class="line">            &#125;</span><br><span class="line">            candidateI = <span class="built_in">append</span>(candidateI, -lastI)</span><br><span class="line">            candidateJ = <span class="built_in">append</span>(candidateJ, -v)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾2 C</summary><figure class="highlight c"><figcaption><span>[sol3-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">upper_bound</span><span class="params">(<span class="keyword">int</span>* vec, <span class="keyword">int</span> vecSize, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> low = <span class="number">0</span>, high = vecSize - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (vec[high] &gt;= target) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (low &lt; high) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (high - low) / <span class="number">2</span> + low;</span><br><span class="line">        <span class="keyword">int</span> num = vec[mid];</span><br><span class="line">        <span class="keyword">if</span> (num &gt;= target) &#123;</span><br><span class="line">            low = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            high = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> low;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lower_bound</span><span class="params">(<span class="keyword">int</span>* vec, <span class="keyword">int</span> vecSize, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> low = <span class="number">0</span>, high = vecSize - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (vec[low] &lt;= target) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (low &lt; high) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (high - low + <span class="number">1</span>) / <span class="number">2</span> + low;</span><br><span class="line">        <span class="keyword">int</span> num = vec[mid];</span><br><span class="line">        <span class="keyword">if</span> (num &lt;= target) &#123;</span><br><span class="line">            high = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            low = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> low;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">find132pattern</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = numsSize;</span><br><span class="line">    <span class="keyword">int</span> candidate_i[n], top_i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> candidate_j[n], top_j = <span class="number">0</span>;</span><br><span class="line">    candidate_i[top_i++] = nums[<span class="number">0</span>];</span><br><span class="line">    candidate_j[top_j++] = nums[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt; n; ++k) &#123;</span><br><span class="line">        <span class="keyword">int</span> it_i = upper_bound(candidate_i, top_i, nums[k]);</span><br><span class="line">        <span class="keyword">int</span> it_j = lower_bound(candidate_j, top_j, nums[k]);</span><br><span class="line">        <span class="keyword">if</span> (it_i != <span class="number">-1</span> &amp;&amp; it_j != <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (it_i &lt;= it_j) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (nums[k] &lt; candidate_i[top_i - <span class="number">1</span>]) &#123;</span><br><span class="line">            candidate_i[top_i++] = nums[k];</span><br><span class="line">            candidate_j[top_j++] = nums[k];</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[k] &gt; candidate_j[top_j - <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">int</span> last_i = candidate_i[top_i - <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">while</span> (top_j &amp;&amp; nums[k] &gt; candidate_j[top_j - <span class="number">1</span>]) &#123;</span><br><span class="line">                top_j--, top_i--;</span><br><span class="line">            &#125;</span><br><span class="line">            candidate_i[top_i++] = last_i;</span><br><span class="line">            candidate_j[top_j++] = nums[k];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn) ï¼Œæšä¸¾ <em>i</em> çš„æ¬¡æ•°ä¸º <em>O(n)</em>ï¼Œç”±äºæ¯ä¸€ä¸ªå…ƒç´ æœ€å¤šè¢«åŠ å…¥å’Œå¼¹å‡ºå•è°ƒæ ˆå„ä¸€æ¬¡ï¼Œå› æ­¤æ“ä½œå•è°ƒæ ˆçš„æ—¶é—´å¤æ‚åº¦ä¸€å…±ä¸º <em>O(n)</em>ã€‚äºŒåˆ†æŸ¥æ‰¾çš„å•æ¬¡æ—¶é—´ä¸º O(logn)  ï¼Œä¸€å…±ä¸º O(nlogn)ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn) ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå³ä¸ºå•è°ƒæ ˆéœ€è¦ä½¿ç”¨çš„ç©ºé—´ã€‚</p></li></ul><h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>åœ¨ä¸Šé¢çš„ä¸‰ç§æ–¹æ³•ä¸­ï¼Œæ–¹æ³•äºŒçš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ï¼Œæœ€ä¼˜ç§€ã€‚è€Œå‰©ä½™çš„ä¸¤ç§æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)  çš„æ–¹æ³•ä¸­ï¼Œæ–¹æ³•ä¸€ç›¸è¾ƒäºæ–¹æ³•ä¸‰ï¼Œæ— è®ºä»ç†è§£è¿˜æ˜¯ä»£ç ç¼–å†™å±‚é¢æ¥è¯´éƒ½æ›´å®¹æ˜“ä¸€äº›ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆè¿˜è¦ä»‹ç»æ–¹æ³•ä¸‰å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬å¯ä»¥å‘ç°æ–¹æ³•ä¸€å’Œæ–¹æ³•äºŒçš„ä¸è¶³ï¼š</p><ul><li><p>æ–¹æ³•ä¸€éœ€è¦æå‰çŸ¥é“æ•´ä¸ªæ•°ç»„ï¼Œå¦åˆ™å°±æ— æ³•ä½¿ç”¨æœ‰åºé›†åˆç»´æŠ¤å³ä¾§å…ƒç´ äº†ï¼›</p></li><li><p>æ–¹æ³•äºŒæ˜¯ä»åå‘å‰éå†çš„ï¼Œæœ¬è´¨ä¸Šä¹ŸåŒæ ·éœ€è¦æå‰çŸ¥é“æ•´ä¸ªæ•°ç»„ã€‚</p></li></ul><p>è€Œæ–¹æ³•ä¸‰æ˜¯ä»å‰å‘åéå†çš„ï¼Œå¹¶ä¸”ç»´æŠ¤çš„æ•°æ®ç»“æ„ä¸ä¾èµ–äºåç»­æœªçŸ¥çš„å…ƒç´ ï¼Œå› æ­¤å¦‚æœæ•°ç»„æ˜¯ä»¥ã€Œæ•°æ®æµã€çš„å½¢å¼ç»™å‡ºçš„ï¼Œé‚£ä¹ˆæ–¹æ³•ä¸‰æ˜¯å”¯ä¸€å¯ä»¥ç»§ç»­ä½¿ç”¨çš„æ–¹æ³•ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ•°ç»„ä¸­å…±æœ‰ n ä¸ªæ•´æ•°ã€‚132 æ¨¡å¼çš„å­åºåˆ— ç”±ä¸‰ä¸ªæ•´æ•° nums[i]ã€nums[j] å’Œ nums[k] ç»„æˆï¼Œå¹¶åŒæ—¶æ»¡è¶³ï¼ši &amp;lt; j &amp;lt; k å’Œ nums[i] &amp;lt; nums[k] &amp;lt; nums[j] ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ nums ä¸­å­˜åœ¨ 132 æ¨¡å¼çš„å­åºåˆ— ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Stack" scheme="http://yoursite.com/tags/Stack/"/>
    
  </entry>
  
  <entry>
    <title>1188 è®¾è®¡æœ‰é™é˜»å¡é˜Ÿåˆ—</title>
    <link href="http://yoursite.com/2021/03/18/1188%20%E8%AE%BE%E8%AE%A1%E6%9C%89%E9%99%90%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97/"/>
    <id>http://yoursite.com/2021/03/18/1188 è®¾è®¡æœ‰é™é˜»å¡é˜Ÿåˆ—/</id>
    <published>2021-03-18T08:52:12.000Z</published>
    <updated>2021-03-25T07:30:56.051Z</updated>
    
    <content type="html"><![CDATA[<p>å®ç°ä¸€ä¸ªæ‹¥æœ‰å¦‚ä¸‹æ–¹æ³•çš„çº¿ç¨‹å®‰å…¨æœ‰é™é˜»å¡é˜Ÿåˆ—ï¼š</p><a id="more"></a><ul><li>BoundedBlockingQueue(int capacity) æ„é€ æ–¹æ³•åˆå§‹åŒ–é˜Ÿåˆ—ï¼Œå…¶ä¸­capacityä»£è¡¨é˜Ÿåˆ—é•¿åº¦ä¸Šé™ã€‚</li><li>void enqueue(int element) åœ¨é˜Ÿé¦–å¢åŠ ä¸€ä¸ªelement. å¦‚æœé˜Ÿåˆ—æ»¡ï¼Œè°ƒç”¨çº¿ç¨‹è¢«é˜»å¡ç›´åˆ°é˜Ÿåˆ—éæ»¡ã€‚</li><li>int dequeue() è¿”å›é˜Ÿå°¾å…ƒç´ å¹¶ä»é˜Ÿåˆ—ä¸­å°†å…¶åˆ é™¤. å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œè°ƒç”¨çº¿ç¨‹è¢«é˜»å¡ç›´åˆ°é˜Ÿåˆ—éç©ºã€‚</li><li>int size() è¿”å›å½“å‰é˜Ÿåˆ—å…ƒç´ ä¸ªæ•°ã€‚</li></ul><p>ä½ çš„å®ç°å°†ä¼šè¢«å¤šçº¿ç¨‹åŒæ—¶è®¿é—®è¿›è¡Œæµ‹è¯•ã€‚æ¯ä¸€ä¸ªçº¿ç¨‹è¦ä¹ˆæ˜¯ä¸€ä¸ªåªè°ƒç”¨enqueueæ–¹æ³•çš„ç”Ÿäº§è€…çº¿ç¨‹ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ªåªè°ƒç”¨dequeueæ–¹æ³•çš„æ¶ˆè´¹è€…çº¿ç¨‹ã€‚sizeæ–¹æ³•å°†ä¼šåœ¨æ¯ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ä¹‹åè¿›è¡Œè°ƒç”¨ã€‚<br>è¯·ä¸è¦ä½¿ç”¨å†…ç½®çš„æœ‰é™é˜»å¡é˜Ÿåˆ—å®ç°ï¼Œå¦åˆ™é¢è¯•å°†ä¸ä¼šé€šè¿‡ã€‚</p><p>ç¤ºä¾‹ 1:</p><p>è¾“å…¥:</p><pre><code>11[â€œBoundedBlockingQueueâ€,â€œenqueueâ€,â€œdequeueâ€,â€œdequeueâ€,â€œenqueueâ€,â€œenqueueâ€,â€œenqueueâ€,â€œenqueueâ€,â€œdequeueâ€][[2],[1],[],[],[0],[2],[3],[4],[]]</code></pre><p>è¾“å‡º:</p><pre><code>[1,0,2,2]</code></pre><p>è§£é‡Š:</p><pre><code>ç”Ÿäº§è€…çº¿ç¨‹æ•°ç›® = 1æ¶ˆè´¹è€…çº¿ç¨‹æ•°ç›® = 1BoundedBlockingQueue queue = new BoundedBlockingQueue(2); // ä½¿ç”¨capacity = 2åˆå§‹åŒ–é˜Ÿåˆ—ã€‚queue.enqueue(1); // ç”Ÿäº§è€…çº¿ç¨‹å°†1æ’å…¥é˜Ÿåˆ—ã€‚queue.dequeue(); // æ¶ˆè´¹è€…çº¿ç¨‹è°ƒç”¨dequeueå¹¶è¿”å›1ã€‚queue.dequeue(); // ç”±äºé˜Ÿåˆ—ä¸ºç©ºï¼Œæ¶ˆè´¹è€…çº¿ç¨‹è¢«é˜»å¡ã€‚queue.enqueue(0); // ç”Ÿäº§è€…çº¿ç¨‹å°†0æ’å…¥é˜Ÿåˆ—ã€‚æ¶ˆè´¹è€…çº¿ç¨‹è¢«è§£é™¤é˜»å¡åŒæ—¶å°†0å¼¹å‡ºé˜Ÿåˆ—å¹¶è¿”å›ã€‚queue.enqueue(2); // ç”Ÿäº§è€…çº¿ç¨‹å°†2æ’å…¥é˜Ÿåˆ—ã€‚queue.enqueue(3); // ç”Ÿäº§è€…çº¿ç¨‹å°†3æ’å…¥é˜Ÿåˆ—ã€‚queue.enqueue(4); // ç”Ÿäº§è€…çº¿ç¨‹ç”±äºé˜Ÿåˆ—é•¿åº¦å·²è¾¾åˆ°ä¸Šé™2è€Œè¢«é˜»å¡ã€‚queue.dequeue(); // æ¶ˆè´¹è€…çº¿ç¨‹å°†2ä»é˜Ÿåˆ—å¼¹å‡ºå¹¶è¿”å›ã€‚ç”Ÿäº§è€…çº¿ç¨‹è§£é™¤é˜»å¡åŒæ—¶å°†4æ’å…¥é˜Ÿåˆ—ã€‚queue.size(); // é˜Ÿåˆ—ä¸­è¿˜æœ‰2ä¸ªå…ƒç´ ã€‚size()æ–¹æ³•åœ¨æ¯ç»„æµ‹è¯•ç”¨ä¾‹æœ€åè°ƒç”¨ã€‚</code></pre><p>ç¤ºä¾‹ 2:<br>è¾“å…¥:</p><pre><code>34[â€œBoundedBlockingQueueâ€,â€œenqueueâ€,â€œenqueueâ€,â€œenqueueâ€,â€œdequeueâ€,â€œdequeueâ€,â€œdequeueâ€,â€œenqueueâ€][[3],[1],[0],[2],[],[],[],[3]]</code></pre><p>è¾“å‡º:</p><pre><code>[1,0,2,1]</code></pre><p>è§£é‡Š:</p><pre><code>ç”Ÿäº§è€…çº¿ç¨‹æ•°ç›® = 3æ¶ˆè´¹è€…çº¿ç¨‹æ•°ç›® = 4BoundedBlockingQueue queue = new BoundedBlockingQueue(3); // ä½¿ç”¨capacity = 3åˆå§‹åŒ–é˜Ÿåˆ—ã€‚queue.enqueue(1); // ç”Ÿäº§è€…çº¿ç¨‹P1å°†1æ’å…¥é˜Ÿåˆ—ã€‚queue.enqueue(0); // ç”Ÿäº§è€…çº¿ç¨‹P2å°†0æ’å…¥é˜Ÿåˆ—ã€‚queue.enqueue(2); // ç”Ÿäº§è€…çº¿ç¨‹P3å°†2æ’å…¥é˜Ÿåˆ—ã€‚queue.dequeue(); // æ¶ˆè´¹è€…çº¿ç¨‹C1è°ƒç”¨dequeueã€‚queue.dequeue(); // æ¶ˆè´¹è€…çº¿ç¨‹C2è°ƒç”¨dequeueã€‚queue.dequeue(); // æ¶ˆè´¹è€…çº¿ç¨‹C3è°ƒç”¨dequeueã€‚queue.enqueue(3); // å…¶ä¸­ä¸€ä¸ªç”Ÿäº§è€…çº¿ç¨‹å°†3æ’å…¥é˜Ÿåˆ—ã€‚queue.size(); // é˜Ÿåˆ—ä¸­è¿˜æœ‰1ä¸ªå…ƒç´ ã€‚ç”±äºç”Ÿäº§è€…/æ¶ˆè´¹è€…çº¿ç¨‹çš„æ•°ç›®å¯èƒ½å¤§äº1ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“çº¿ç¨‹å¦‚ä½•è¢«æ“ä½œç³»ç»Ÿè°ƒåº¦ï¼Œå³ä½¿è¾“å…¥çœ‹ä¸Šå»éšå«äº†é¡ºåºã€‚å› æ­¤ä»»æ„ä¸€ç§è¾“å‡º[1,0,2]æˆ–[1,2,0]æˆ–[0,1,2]æˆ–[0,2,1]æˆ–[2,0,1]æˆ–[2,1,0]éƒ½å¯è¢«æ¥å—ã€‚</code></pre><details><summary>ç¤ºä¾‹</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class BoundedBlockingQueue &#123;</span><br><span class="line"></span><br><span class="line">    public BoundedBlockingQueue(int capacity) &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void enqueue(int element) throws InterruptedException &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public int dequeue() throws InterruptedException &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public int size() &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><details><summary>é¢˜è§£</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">class BoundedBlockingQueue &#123;</span><br><span class="line">    </span><br><span class="line">    private final LinkedList&lt;Integer&gt; queue;</span><br><span class="line"></span><br><span class="line">    private int count;</span><br><span class="line"></span><br><span class="line">    private final ReentrantLock lock = new ReentrantLock();</span><br><span class="line"></span><br><span class="line">// é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºçš„æ¡ä»¶</span><br><span class="line">    private final Condition notEmpty = lock.newCondition();</span><br><span class="line">    </span><br><span class="line">    // é˜Ÿåˆ—æ˜¯å¦å·²æ»¡çš„æ¡ä»¶</span><br><span class="line">    private final Condition notFull = lock.newCondition();</span><br><span class="line"></span><br><span class="line">    public BoundedBlockingQueue(int capacity) &#123;</span><br><span class="line">        queue = new LinkedList&lt;&gt;();</span><br><span class="line">        this.count = capacity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">      public int size() &#123;</span><br><span class="line">        return queue.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void enqueue(Integer e) throws InterruptedException &#123;</span><br><span class="line">        final ReentrantLock lock = this.lock;</span><br><span class="line">        lock.lockInterruptibly();</span><br><span class="line">        try &#123;</span><br><span class="line">            while (count == queue.size())</span><br><span class="line">                notFull.await();</span><br><span class="line">            queue.addFirst(e);</span><br><span class="line">            notEmpty.signal();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int dequeue() throws InterruptedException &#123;</span><br><span class="line">        final ReentrantLock lock = this.lock;</span><br><span class="line">        lock.lockInterruptibly();</span><br><span class="line">        try &#123;</span><br><span class="line">            while (queue.size() == 0)</span><br><span class="line">                notEmpty.await();</span><br><span class="line">            Integer e = queue.removeLast();</span><br><span class="line">            notFull.signal();</span><br><span class="line">            return e;</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å®ç°ä¸€ä¸ªæ‹¥æœ‰å¦‚ä¸‹æ–¹æ³•çš„çº¿ç¨‹å®‰å…¨æœ‰é™é˜»å¡é˜Ÿåˆ—ï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Concurrency" scheme="http://yoursite.com/tags/Concurrency/"/>
    
  </entry>
  
  <entry>
    <title>1242.å¤šçº¿ç¨‹ç½‘é¡µçˆ¬è™«</title>
    <link href="http://yoursite.com/2021/03/18/1242.%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BD%91%E9%A1%B5%E7%88%AC%E8%99%AB/"/>
    <id>http://yoursite.com/2021/03/18/1242.å¤šçº¿ç¨‹ç½‘é¡µçˆ¬è™«/</id>
    <published>2021-03-18T06:52:12.000Z</published>
    <updated>2021-03-19T08:26:46.154Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªåˆå§‹åœ°å€ startUrl å’Œä¸€ä¸ª HTML è§£æå™¨æ¥å£ HtmlParserï¼Œè¯·ä½ å®ç°ä¸€ä¸ª å¤šçº¿ç¨‹çš„ç½‘é¡µçˆ¬è™«ï¼Œç”¨äºè·å–ä¸ startUrl æœ‰ ç›¸åŒä¸»æœºå çš„æ‰€æœ‰é“¾æ¥ã€‚ </p><p>ä»¥ ä»»æ„ é¡ºåºè¿”å›çˆ¬è™«è·å–çš„è·¯å¾„ã€‚</p><p>çˆ¬è™«åº”è¯¥éµå¾ªï¼š</p><p>ä» startUrl å¼€å§‹<br>è°ƒç”¨ HtmlParser.getUrls(url) ä»æŒ‡å®šç½‘é¡µè·¯å¾„è·å¾—çš„æ‰€æœ‰è·¯å¾„ã€‚<br>ä¸è¦æŠ“å–ç›¸åŒçš„é“¾æ¥ä¸¤æ¬¡ã€‚<br>ä»…æµè§ˆä¸ startUrl ç›¸åŒä¸»æœºå çš„é“¾æ¥ã€‚</p><a id="more"></a><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸»æœºåæ˜¯ example.org ã€‚ç®€å•èµ·è§ï¼Œä½ å¯ä»¥å‡è®¾æ‰€æœ‰é“¾æ¥éƒ½é‡‡ç”¨ http åè®®ï¼Œå¹¶ä¸”æ²¡æœ‰æŒ‡å®š ç«¯å£å·ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œé“¾æ¥ <a href="http://leetcode.com/problems" target="_blank" rel="noopener">http://leetcode.com/problems</a> å’Œé“¾æ¥ <a href="http://leetcode.com/contest" target="_blank" rel="noopener">http://leetcode.com/contest</a> å±äºåŒä¸€ä¸ª ä¸»æœºåï¼Œ è€Œ <a href="http://example.org/test" target="_blank" rel="noopener">http://example.org/test</a> ä¸ <a href="http://example.com/abc" target="_blank" rel="noopener">http://example.com/abc</a> å¹¶ä¸å±äºåŒä¸€ä¸ª ä¸»æœºåã€‚</p><p>HtmlParser çš„æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š</p><pre><code>interface HtmlParser {  // Return a list of all urls from a webpage of given url.  // This is a blocking call, that means it will do HTTP request and return when this request is finished.  public List&lt;String&gt; getUrls(String url);}</code></pre><p>æ³¨æ„ä¸€ç‚¹ï¼ŒgetUrls(String url) æ¨¡æ‹Ÿæ‰§è¡Œä¸€ä¸ªHTTPçš„è¯·æ±‚ã€‚ ä½ å¯ä»¥å°†å®ƒå½“åšä¸€ä¸ªé˜»å¡å¼çš„æ–¹æ³•ï¼Œç›´åˆ°è¯·æ±‚ç»“æŸã€‚ getUrls(String url) ä¿è¯ä¼šåœ¨ 15ms å†…è¿”å›æ‰€æœ‰çš„è·¯å¾„ã€‚ å•çº¿ç¨‹çš„æ–¹æ¡ˆä¼šè¶…è¿‡æ—¶é—´é™åˆ¶ï¼Œä½ èƒ½ç”¨å¤šçº¿ç¨‹æ–¹æ¡ˆåšçš„æ›´å¥½å—ï¼Ÿ</p><p>å¯¹äºé—®é¢˜æ‰€éœ€çš„åŠŸèƒ½ï¼Œä¸‹é¢æä¾›äº†ä¸¤ä¸ªä¾‹å­ã€‚ä¸ºäº†æ–¹ä¾¿è‡ªå®šä¹‰æµ‹è¯•ï¼Œä½ å¯ä»¥å£°æ˜ä¸‰ä¸ªå˜é‡ urlsï¼Œedges å’Œ startUrlã€‚ä½†è¦æ³¨æ„ä½ åªèƒ½åœ¨ä»£ç ä¸­è®¿é—® startUrlï¼Œå¹¶ä¸èƒ½ç›´æ¥è®¿é—® urls å’Œ edgesã€‚</p><p>æ‹“å±•é—®é¢˜ï¼š</p><p>å‡è®¾æˆ‘ä»¬è¦è¦æŠ“å– 10000 ä¸ªèŠ‚ç‚¹å’Œ 10 äº¿ä¸ªè·¯å¾„ã€‚å¹¶ä¸”åœ¨æ¯ä¸ªèŠ‚ç‚¹éƒ¨ç½²ç›¸åŒçš„çš„è½¯ä»¶ã€‚è½¯ä»¶å¯ä»¥å‘ç°æ‰€æœ‰çš„èŠ‚ç‚¹ã€‚æˆ‘ä»¬å¿…é¡»å°½å¯èƒ½å‡å°‘æœºå™¨ä¹‹é—´çš„é€šè®¯ï¼Œå¹¶ç¡®ä¿æ¯ä¸ªèŠ‚ç‚¹è´Ÿè½½å‡è¡¡ã€‚ä½ å°†å¦‚ä½•è®¾è®¡è¿™ä¸ªç½‘é¡µçˆ¬è™«ï¼Ÿ<br>å¦‚æœæœ‰ä¸€ä¸ªèŠ‚ç‚¹å‘ç”Ÿæ•…éšœä¸å·¥ä½œè¯¥æ€ä¹ˆåŠï¼Ÿ<br>å¦‚ä½•ç¡®è®¤çˆ¬è™«ä»»åŠ¡å·²ç»å®Œæˆï¼Ÿ</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šurls = [  &quot;http://news.yahoo.com&quot;,  &quot;http://news.yahoo.com/news&quot;,  &quot;http://news.yahoo.com/news/topics/&quot;,  &quot;http://news.google.com&quot;,  &quot;http://news.yahoo.com/us&quot;]edges = [[2,0],[2,1],[3,2],[3,1],[0,4]]startUrl = &quot;http://news.yahoo.com/news/topics/&quot;è¾“å‡ºï¼š[  &quot;http://news.yahoo.com&quot;,  &quot;http://news.yahoo.com/news&quot;,  &quot;http://news.yahoo.com/news/topics/&quot;,  &quot;http://news.yahoo.com/us&quot;]</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šurls = [  &quot;http://news.yahoo.com&quot;,  &quot;http://news.yahoo.com/news&quot;,  &quot;http://news.yahoo.com/news/topics/&quot;,  &quot;http://news.google.com&quot;]edges = [[0,2],[2,1],[3,2],[3,1],[3,0]]startUrl = &quot;http://news.google.com&quot;è¾“å‡ºï¼š[&quot;http://news.google.com&quot;]è§£é‡Šï¼šstartUrl é“¾æ¥ä¸å…¶ä»–é¡µé¢ä¸å…±äº«ä¸€ä¸ªä¸»æœºåã€‚</code></pre><p>æç¤ºï¼š</p><p>1 &lt;= urls.length &lt;= 1000<br>1 &lt;= urls[i].length &lt;= 300</p><p>startUrl æ˜¯ urls ä¸­çš„ä¸€ä¸ªã€‚<br>ä¸»æœºåçš„é•¿åº¦å¿…é¡»ä¸º 1 åˆ° 63 ä¸ªå­—ç¬¦ï¼ˆåŒ…æ‹¬ç‚¹ . åœ¨å†…ï¼‰ï¼Œåªèƒ½åŒ…å«ä» â€œaâ€ åˆ° â€œzâ€ çš„ ASCII å­—æ¯å’Œ â€œ0â€ åˆ° â€œ9â€ çš„æ•°å­—ï¼Œä»¥åŠä¸­åˆ’çº¿ â€œ-â€ã€‚<br>ä¸»æœºåå¼€å¤´å’Œç»“å°¾ä¸èƒ½æ˜¯ä¸­åˆ’çº¿ â€œ-â€ã€‚</p><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_hostnames" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_hostnames</a><br>ä½ å¯ä»¥å‡è®¾è·¯å¾„éƒ½æ˜¯ä¸é‡å¤çš„ã€‚</p><details><summary>ç¤ºä¾‹</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * // This is the HtmlParser&apos;s API interface.</span><br><span class="line"> * // You should not implement it, or speculate about its implementation</span><br><span class="line"> * interface HtmlParser &#123;</span><br><span class="line"> *     public List&lt;String&gt; getUrls(String url) &#123;&#125;</span><br><span class="line"> * &#125;</span><br><span class="line"> */</span><br><span class="line">class Solution &#123;</span><br><span class="line">    public List&lt;String&gt; crawl(String startUrl, HtmlParser htmlParser) &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details><summary>è§£æ³•</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    private final Set&lt;String&gt; set = Collections.newSetFromMap(new ConcurrentHashMap&lt;String, Boolean&gt;());</span><br><span class="line">    private final List&lt;String&gt; result = Collections.synchronizedList(new ArrayList&lt;String&gt;());</span><br><span class="line">    private String HOSTNAME = null;</span><br><span class="line"></span><br><span class="line">    public boolean judgeHostname(String url) &#123;</span><br><span class="line">        int idx = url.indexOf(&apos;/&apos;, 7);</span><br><span class="line">        String hostName = (idx != -1) ? url.substring(0, idx) : url;</span><br><span class="line">        return hostName.equals(HOSTNAME);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void initHostName(String url) &#123;</span><br><span class="line">        int idx = url.indexOf(&apos;/&apos;, 7);</span><br><span class="line">        HOSTNAME = (idx != -1) ? url.substring(0, idx) : url;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void getUrl(String startUrl, HtmlParser htmlParser) &#123;</span><br><span class="line">        result.add(startUrl);</span><br><span class="line">        List&lt;String&gt; res = htmlParser.getUrls(startUrl);</span><br><span class="line">        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();</span><br><span class="line">        for (String url : res) &#123;</span><br><span class="line">            if (judgeHostname(url) &amp;&amp; !set.contains(url)) &#123;</span><br><span class="line">                set.add(url);</span><br><span class="line">                threads.add(new Thread(() -&gt; &#123;</span><br><span class="line">                    getUrl(url, htmlParser);</span><br><span class="line">                &#125;));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        for (Thread thread : threads) &#123;</span><br><span class="line">            thread.start();</span><br><span class="line">        &#125;</span><br><span class="line">        try &#123;</span><br><span class="line">            for (Thread thread : threads) &#123;</span><br><span class="line">                thread.join();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public List&lt;String&gt; crawl(String startUrl, HtmlParser htmlParser) &#123;</span><br><span class="line">        initHostName(startUrl);</span><br><span class="line">        set.add(startUrl);</span><br><span class="line">        getUrl(startUrl, htmlParser);</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="Thread-join-è¯¦è§£"><a href="#Thread-join-è¯¦è§£" class="headerlink" title="Thread.join()è¯¦è§£"></a>Thread.join()è¯¦è§£</h2><p>ä¸Šé¢çš„ä»£ç é‡Œç”¨åˆ°äº†joinæ–¹æ³•ï¼Œjoinæ˜¯Threadç±»çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå¯åŠ¨çº¿ç¨‹åç›´æ¥è°ƒç”¨ã€‚</p><h3 id="ä¸ºä»€ä¹ˆè¦ç”¨join-æ–¹æ³•"><a href="#ä¸ºä»€ä¹ˆè¦ç”¨join-æ–¹æ³•" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç”¨join()æ–¹æ³•"></a>ä¸ºä»€ä¹ˆè¦ç”¨join()æ–¹æ³•</h3><p>åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä¸»çº¿ç¨‹ç”Ÿæˆå¹¶èµ·åŠ¨äº†å­çº¿ç¨‹ï¼Œå¦‚æœå­çº¿ç¨‹é‡Œè¦è¿›è¡Œå¤§é‡çš„è€—æ—¶çš„è¿ç®—ï¼Œä¸»çº¿ç¨‹å¾€å¾€å°†äºå­çº¿ç¨‹ä¹‹å‰ç»“æŸï¼Œä½†æ˜¯å¦‚æœä¸»çº¿ç¨‹å¤„ç†å®Œå…¶ä»–çš„äº‹åŠ¡åï¼Œéœ€è¦ç”¨åˆ°å­çº¿ç¨‹çš„å¤„ç†ç»“æœï¼Œä¹Ÿå°±æ˜¯ä¸»çº¿ç¨‹éœ€è¦ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œæˆä¹‹åå†ç»“æŸï¼Œè¿™ä¸ªæ—¶å€™å°±è¦ç”¨åˆ°join()æ–¹æ³•äº†ã€‚</p><h3 id="joinæ–¹æ³•çš„ä½œç”¨"><a href="#joinæ–¹æ³•çš„ä½œç”¨" class="headerlink" title="joinæ–¹æ³•çš„ä½œç”¨"></a>joinæ–¹æ³•çš„ä½œç”¨</h3><p>åœ¨JDkçš„APIé‡Œå¯¹äºjoin()æ–¹æ³•æ˜¯ï¼š</p><pre><code>joinpublic final void join() throws InterruptedException Waits for this thread to die. Throws: InterruptedException  - if any thread has interrupted the current thread. The interrupted status of the current thread is cleared when this exception is thrown.</code></pre><p>å³join()çš„ä½œç”¨æ˜¯ï¼šâ€œç­‰å¾…è¯¥çº¿ç¨‹ç»ˆæ­¢â€ï¼Œè¿™é‡Œéœ€è¦ç†è§£çš„å°±æ˜¯è¯¥çº¿ç¨‹æ˜¯æŒ‡çš„ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹çš„ç»ˆæ­¢ã€‚ä¹Ÿå°±æ˜¯åœ¨å­çº¿ç¨‹è°ƒç”¨äº†join()æ–¹æ³•åé¢çš„ä»£ç ï¼Œåªæœ‰ç­‰åˆ°å­çº¿ç¨‹ç»“æŸäº†æ‰èƒ½æ‰§è¡Œã€‚</p><details>    <summary>joinæ–¹æ³•ç¤ºä¾‹</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">class BThread extends Thread &#123;</span><br><span class="line">    public BThread() &#123;</span><br><span class="line">        super(&quot;[BThread] Thread&quot;);</span><br><span class="line">    &#125;;</span><br><span class="line">    public void run() &#123;</span><br><span class="line">        String threadName = Thread.currentThread().getName();</span><br><span class="line">        System.out.println(threadName + &quot; start.&quot;);</span><br><span class="line">        try &#123;</span><br><span class="line">            for (int i = 0; i &lt; 5; i++) &#123;</span><br><span class="line">                System.out.println(threadName + &quot; loop at &quot; + i);</span><br><span class="line">                Thread.sleep(1000);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(threadName + &quot; end.&quot;);</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            System.out.println(&quot;Exception from &quot; + threadName + &quot;.run&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class AThread extends Thread &#123;</span><br><span class="line">    BThread bt;</span><br><span class="line">    public AThread(BThread bt) &#123;</span><br><span class="line">        super(&quot;[AThread] Thread&quot;);</span><br><span class="line">        this.bt = bt;</span><br><span class="line">    &#125;</span><br><span class="line">    public void run() &#123;</span><br><span class="line">        String threadName = Thread.currentThread().getName();</span><br><span class="line">        System.out.println(threadName + &quot; start.&quot;);</span><br><span class="line">        try &#123;</span><br><span class="line">            bt.join();</span><br><span class="line">            System.out.println(threadName + &quot; end.&quot;);</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            System.out.println(&quot;Exception from &quot; + threadName + &quot;.run&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">public class TestDemo &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        String threadName = Thread.currentThread().getName();</span><br><span class="line">        System.out.println(threadName + &quot; start.&quot;);</span><br><span class="line">        BThread bt = new BThread();</span><br><span class="line">        AThread at = new AThread(bt);</span><br><span class="line">        try &#123;</span><br><span class="line">            bt.start();</span><br><span class="line">            Thread.sleep(2000);</span><br><span class="line">            at.start();</span><br><span class="line">            at.join();</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            System.out.println(&quot;Exception from main&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(threadName + &quot; end!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">main start.    //ä¸»çº¿ç¨‹èµ·åŠ¨ï¼Œå› ä¸ºè°ƒç”¨äº†at.join()ï¼Œè¦ç­‰åˆ°atç»“æŸäº†ï¼Œæ­¤çº¿ç¨‹æ‰èƒ½å‘ä¸‹æ‰§è¡Œã€‚ </span><br><span class="line">[BThread] Thread start. </span><br><span class="line">[BThread] Thread loop at 0 </span><br><span class="line">[BThread] Thread loop at 1 </span><br><span class="line">[AThread] Thread start.    //çº¿ç¨‹atå¯åŠ¨ï¼Œå› ä¸ºè°ƒç”¨bt.join()ï¼Œç­‰åˆ°btç»“æŸäº†æ‰å‘ä¸‹æ‰§è¡Œã€‚ </span><br><span class="line">[BThread] Thread loop at 2 </span><br><span class="line">[BThread] Thread loop at 3 </span><br><span class="line">[BThread] Thread loop at 4 </span><br><span class="line">[BThread] Thread end. </span><br><span class="line">[AThread] Thread end.    // çº¿ç¨‹AThreadåœ¨bt.join();é˜»å¡å¤„èµ·åŠ¨ï¼Œå‘ä¸‹ç»§ç»­æ‰§è¡Œçš„ç»“æœ </span><br><span class="line">main end!      //çº¿ç¨‹AThreadç»“æŸï¼Œæ­¤çº¿ç¨‹åœ¨at.join();é˜»å¡å¤„èµ·åŠ¨ï¼Œå‘ä¸‹ç»§ç»­æ‰§è¡Œçš„ç»“æœã€‚</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸€ä¸‹ä»£ç :</p><details>    <summary>joinæ–¹æ³•ç¤ºä¾‹</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public class TestDemo &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        String threadName = Thread.currentThread().getName();</span><br><span class="line">        System.out.println(threadName + &quot; start.&quot;);</span><br><span class="line">        BThread bt = new BThread();</span><br><span class="line">        AThread at = new AThread(bt);</span><br><span class="line">        try &#123;</span><br><span class="line">            bt.start();</span><br><span class="line">            Thread.sleep(2000);</span><br><span class="line">            at.start();</span><br><span class="line">            //at.join(); //åœ¨æ­¤å¤„æ³¨é‡Šæ‰å¯¹join()çš„è°ƒç”¨</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            System.out.println(&quot;Exception from main&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(threadName + &quot; end!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">main start.    // ä¸»çº¿ç¨‹èµ·åŠ¨ï¼Œå› ä¸ºThread.sleep(2000)ï¼Œä¸»çº¿ç¨‹æ²¡æœ‰é©¬ä¸Šç»“æŸ;</span><br><span class="line"></span><br><span class="line">[BThread] Thread start.    //çº¿ç¨‹BThreadèµ·åŠ¨</span><br><span class="line">[BThread] Thread loop at 0</span><br><span class="line">[BThread] Thread loop at 1</span><br><span class="line">main end!   // åœ¨sleepä¸¤ç§’åä¸»çº¿ç¨‹ç»“æŸï¼ŒAThreadæ‰§è¡Œçš„bt.join();å¹¶ä¸ä¼šå½±å“åˆ°ä¸»çº¿ç¨‹ã€‚</span><br><span class="line">[AThread] Thread start.    //çº¿ç¨‹atèµ·åŠ¨ï¼Œå› ä¸ºè°ƒç”¨äº†bt.join()ï¼Œç­‰åˆ°btç»“æŸäº†ï¼Œæ­¤çº¿ç¨‹æ‰å‘ä¸‹æ‰§è¡Œã€‚</span><br><span class="line">[BThread] Thread loop at 2</span><br><span class="line">[BThread] Thread loop at 3</span><br><span class="line">[BThread] Thread loop at 4</span><br><span class="line">[BThread] Thread end.    //çº¿ç¨‹BThreadç»“æŸäº†</span><br><span class="line">[AThread] Thread end.    // çº¿ç¨‹AThreadåœ¨bt.join();é˜»å¡å¤„èµ·åŠ¨ï¼Œå‘ä¸‹ç»§ç»­æ‰§è¡Œçš„ç»“æœ</span><br></pre></td></tr></table></figure><h3 id="ä»æºç çœ‹join-æ–¹æ³•"><a href="#ä»æºç çœ‹join-æ–¹æ³•" class="headerlink" title="ä»æºç çœ‹join()æ–¹æ³•"></a>ä»æºç çœ‹join()æ–¹æ³•</h3><details>    <summary>ä»æºç çœ‹join()æ–¹æ³•</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">     * Waits at most &#123;@code millis&#125; milliseconds for this thread to</span><br><span class="line">     * die. A timeout of &#123;@code 0&#125; means to wait forever.</span><br><span class="line">     *</span><br><span class="line">     * &lt;p&gt; This implementation uses a loop of &#123;@code this.wait&#125; calls</span><br><span class="line">     * conditioned on &#123;@code this.isAlive&#125;. As a thread terminates the</span><br><span class="line">     * &#123;@code this.notifyAll&#125; method is invoked. It is recommended that</span><br><span class="line">     * applications not use &#123;@code wait&#125;, &#123;@code notify&#125;, or</span><br><span class="line">     * &#123;@code notifyAll&#125; on &#123;@code Thread&#125; instances.</span><br><span class="line">     *</span><br><span class="line">     * @param  millis</span><br><span class="line">     *         the time to wait in milliseconds</span><br><span class="line">     *</span><br><span class="line">     * @throws  IllegalArgumentException</span><br><span class="line">     *          if the value of &#123;@code millis&#125; is negative</span><br><span class="line">     *</span><br><span class="line">     * @throws  InterruptedException</span><br><span class="line">     *          if any thread has interrupted the current thread. The</span><br><span class="line">     *          &lt;i&gt;interrupted status&lt;/i&gt; of the current thread is</span><br><span class="line">     *          cleared when this exception is thrown.</span><br><span class="line">     */</span><br><span class="line">    public final synchronized void join(long millis)</span><br><span class="line">    throws InterruptedException &#123;</span><br><span class="line">        long base = System.currentTimeMillis();</span><br><span class="line">        long now = 0;</span><br><span class="line"></span><br><span class="line">        if (millis &lt; 0) &#123;</span><br><span class="line">            throw new IllegalArgumentException(&quot;timeout value is negative&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (millis == 0) &#123;</span><br><span class="line">            while (isAlive()) &#123;</span><br><span class="line">                wait(0);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            while (isAlive()) &#123;</span><br><span class="line">                long delay = millis - now;</span><br><span class="line">                if (delay &lt;= 0) &#123;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">                wait(delay);</span><br><span class="line">                now = System.currentTimeMillis() - base;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></details><p>å•çº¯ä»ä»£ç ä¸Šçœ‹ï¼š * å¦‚æœçº¿ç¨‹è¢«ç”Ÿæˆäº†ï¼Œä½†è¿˜æœªè¢«èµ·åŠ¨ï¼ŒisAlive()å°†è¿”å›falseï¼Œè°ƒç”¨å®ƒçš„join()æ–¹æ³•æ˜¯æ²¡æœ‰ä½œç”¨çš„ã€‚å°†ç›´æ¥ç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚ * åœ¨AThreadç±»ä¸­çš„runæ–¹æ³•ä¸­ï¼Œbt.join()æ˜¯åˆ¤æ–­btçš„activeçŠ¶æ€ï¼Œå¦‚æœbtçš„isActive()æ–¹æ³•è¿”å›falseï¼Œåœ¨bt.join(),è¿™ä¸€ç‚¹å°±ä¸ç”¨é˜»å¡äº†ï¼Œå¯ä»¥ç»§ç»­å‘ä¸‹è¿›è¡Œäº†ã€‚ä»æºç é‡Œçœ‹ï¼Œwaitæ–¹æ³•ä¸­æœ‰å‚æ•°ï¼Œä¹Ÿå°±æ˜¯ä¸ç”¨å”¤é†’è°ï¼Œåªæ˜¯ä¸å†æ‰§è¡Œwaitï¼Œå‘ä¸‹ç»§ç»­æ‰§è¡Œè€Œå·²ã€‚ * åœ¨join()æ–¹æ³•ä¸­ï¼Œå¯¹äºisAlive()å’Œwait()æ–¹æ³•çš„ä½œç”¨å¯¹è±¡æ˜¯ä¸ªæ¯”è¾ƒè®©äººå›°æƒ‘çš„é—®é¢˜ï¼š</p><p>isAlive()æ–¹æ³•çš„ç­¾åæ˜¯ï¼špublic final native boolean isAlive()ï¼Œä¹Ÿå°±æ˜¯è¯´isAlive()æ˜¯åˆ¤æ–­å½“å‰çº¿ç¨‹çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯btçš„çŠ¶æ€ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ªåˆå§‹åœ°å€ startUrl å’Œä¸€ä¸ª HTML è§£æå™¨æ¥å£ HtmlParserï¼Œè¯·ä½ å®ç°ä¸€ä¸ª å¤šçº¿ç¨‹çš„ç½‘é¡µçˆ¬è™«ï¼Œç”¨äºè·å–ä¸ startUrl æœ‰ ç›¸åŒä¸»æœºå çš„æ‰€æœ‰é“¾æ¥ã€‚ &lt;/p&gt;
&lt;p&gt;ä»¥ ä»»æ„ é¡ºåºè¿”å›çˆ¬è™«è·å–çš„è·¯å¾„ã€‚&lt;/p&gt;
&lt;p&gt;çˆ¬è™«åº”è¯¥éµå¾ªï¼š&lt;/p&gt;
&lt;p&gt;ä» startUrl å¼€å§‹&lt;br&gt;è°ƒç”¨ HtmlParser.getUrls(url) ä»æŒ‡å®šç½‘é¡µè·¯å¾„è·å¾—çš„æ‰€æœ‰è·¯å¾„ã€‚&lt;br&gt;ä¸è¦æŠ“å–ç›¸åŒçš„é“¾æ¥ä¸¤æ¬¡ã€‚&lt;br&gt;ä»…æµè§ˆä¸ startUrl ç›¸åŒä¸»æœºå çš„é“¾æ¥ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Concurrency" scheme="http://yoursite.com/tags/Concurrency/"/>
    
  </entry>
  
  <entry>
    <title>1279. çº¢ç»¿ç¯è·¯å£</title>
    <link href="http://yoursite.com/2021/03/17/1279.%20%E7%BA%A2%E7%BB%BF%E7%81%AF%E8%B7%AF%E5%8F%A3/"/>
    <id>http://yoursite.com/2021/03/17/1279. çº¢ç»¿ç¯è·¯å£/</id>
    <published>2021-03-17T08:52:12.000Z</published>
    <updated>2021-03-19T01:55:59.435Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™è¿™ä¸ªè·¯å£è®¾è®¡ä¸€ä¸ªæ²¡æœ‰æ­»é”çš„çº¢ç»¿ç¯æ§åˆ¶ç³»ç»Ÿã€‚</p><a id="more"></a><p>è¿™æ˜¯ä¸¤æ¡è·¯çš„äº¤å‰è·¯å£ã€‚ç¬¬ä¸€æ¡è·¯æ˜¯ A è·¯ï¼Œè½¦è¾†å¯æ²¿ 1 å·æ–¹å‘ç”±åŒ—å‘å—è¡Œé©¶ï¼Œä¹Ÿå¯æ²¿ 2 å·æ–¹å‘ç”±å—å‘åŒ—è¡Œé©¶ã€‚ç¬¬äºŒæ¡è·¯æ˜¯ B è·¯ï¼Œè½¦è¾†å¯æ²¿ 3 å·æ–¹å‘ç”±è¥¿å‘ä¸œè¡Œé©¶ï¼Œä¹Ÿå¯æ²¿ 4 å·æ–¹å‘ç”±ä¸œå‘è¥¿è¡Œé©¶ã€‚</p><p>æ¯æ¡è·¯åœ¨è·¯å£å‰éƒ½æœ‰ä¸€ä¸ªçº¢ç»¿ç¯ã€‚çº¢ç»¿ç¯å¯ä»¥äº®èµ·çº¢ç¯æˆ–ç»¿ç¯ã€‚</p><p>ç»¿ç¯è¡¨ç¤ºä¸¤ä¸ªæ–¹å‘çš„è½¦è¾†éƒ½å¯é€šè¿‡è·¯å£ã€‚<br>çº¢ç¯è¡¨ç¤ºä¸¤ä¸ªæ–¹å‘çš„è½¦è¾†éƒ½ä¸å¯ä»¥é€šè¿‡è·¯å£ï¼Œå¿…é¡»ç­‰å¾…ç»¿ç¯äº®èµ·ã€‚<br>ä¸¤æ¡è·¯ä¸Šçš„çº¢ç»¿ç¯ä¸å¯ä»¥åŒæ—¶ä¸ºç»¿ç¯ã€‚è¿™æ„å‘³ç€ï¼Œå½“ A è·¯ä¸Šçš„ç»¿ç¯äº®èµ·æ—¶ï¼ŒB è·¯ä¸Šçš„çº¢ç¯ä¼šäº®èµ·ï¼›å½“ B è·¯ä¸Šçš„ç»¿ç¯äº®èµ·æ—¶ï¼ŒA è·¯ä¸Šçš„çº¢ç¯ä¼šäº®èµ·.</p><p>å¼€å§‹æ—¶ï¼ŒA è·¯ä¸Šçš„ç»¿ç¯äº®èµ·ï¼ŒB è·¯ä¸Šçš„çº¢ç¯äº®èµ·ã€‚å½“ä¸€æ¡è·¯ä¸Šçš„ç»¿ç¯äº®èµ·æ—¶ï¼Œæ‰€æœ‰è½¦è¾†éƒ½å¯ä»¥ä»ä»»æ„ä¸¤ä¸ªæ–¹å‘é€šè¿‡è·¯å£ï¼Œç›´åˆ°å¦ä¸€æ¡è·¯ä¸Šçš„ç»¿ç¯äº®èµ·ã€‚ä¸åŒè·¯ä¸Šçš„è½¦è¾†ä¸å¯ä»¥åŒæ—¶é€šè¿‡è·¯å£ã€‚</p><p>ç»™è¿™ä¸ªè·¯å£è®¾è®¡ä¸€ä¸ªæ²¡æœ‰æ­»é”çš„çº¢ç»¿ç¯æ§åˆ¶ç³»ç»Ÿã€‚</p><p>å®ç°å‡½æ•° void carArrived(carId, roadId, direction, turnGreen, crossCar) :</p><ul><li>carId ä¸ºåˆ°è¾¾è½¦è¾†çš„ç¼–å·ã€‚</li><li>roadId ä¸ºè½¦è¾†æ‰€åœ¨é“è·¯çš„ç¼–å·ã€‚</li><li>direction ä¸ºè½¦è¾†çš„è¡Œè¿›æ–¹å‘ã€‚</li><li>turnGreen æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨æ­¤å‡½æ•°ä¼šä½¿å½“å‰é“è·¯ä¸Šçš„ç»¿ç¯äº®èµ·ã€‚</li><li>crossCar æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨æ­¤å‡½æ•°ä¼šå…è®¸è½¦è¾†é€šè¿‡è·¯å£ã€‚</li></ul><p>å½“ä½ çš„ç­”æ¡ˆé¿å…äº†è½¦è¾†åœ¨è·¯å£å‡ºç°æ­»é”ï¼Œæ­¤ç­”æ¡ˆä¼šè¢«è®¤å®šä¸ºæ­£ç¡®çš„ã€‚å½“è·¯å£å·²ç»äº®èµ·ç»¿ç¯æ—¶ä»æ‰“å¼€ç»¿ç¯ï¼Œæ­¤ç­”æ¡ˆä¼šè¢«è®¤å®šä¸ºé”™è¯¯çš„ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: cars = [1,3,5,2,4], directions = [2,1,2,4,3], arrivalTimes = [10,20,30,40,50]è¾“å‡º: [&quot;Car 1 Has Passed Road A In Direction 2&quot;,    // A è·¯ä¸Šçš„çº¢ç»¿ç¯ä¸ºç»¿è‰²ï¼Œ1 å·è½¦å¯é€šè¿‡è·¯å£ã€‚&quot;Car 3 Has Passed Road A In Direction 1&quot;,    // çº¢ç»¿ç¯ä»ä¸ºç»¿è‰²ï¼Œ3 å·è½¦é€šè¿‡è·¯å£ã€‚&quot;Car 5 Has Passed Road A In Direction 2&quot;,    // çº¢ç»¿ç¯ä»ä¸ºç»¿è‰²ï¼Œ5 å·è½¦é€šè¿‡è·¯å£ã€‚&quot;Traffic Light On Road B Is Green&quot;,          // 2 å·è½¦åœ¨ B è·¯è¯·æ±‚ç»¿ç¯ã€‚&quot;Car 2 Has Passed Road B In Direction 4&quot;,    // B è·¯ä¸Šçš„ç»¿ç¯ç°å·²äº®èµ·ï¼Œ2 å·è½¦é€šè¿‡è·¯å£ã€‚&quot;Car 4 Has Passed Road B In Direction 3&quot;     // çº¢ç»¿ç¯ä»ä¸ºç»¿è‰²ï¼Œ4 å·è½¦é€šè¿‡è·¯å£ã€‚]</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: cars = [1,2,3,4,5], directions = [2,4,3,3,1], arrivalTimes = [10,20,30,40,40]è¾“å‡º: [&quot;Car 1 Has Passed Road A In Direction 2&quot;,    // A è·¯ä¸Šçš„çº¢ç»¿ç¯ä¸ºç»¿è‰²ï¼Œ1 å·è½¦å¯é€šè¿‡è·¯å£ã€‚&quot;Traffic Light On Road B Is Green&quot;,          // 2 å·è½¦åœ¨ B è·¯è¯·æ±‚ç»¿ç¯ã€‚&quot;Car 2 Has Passed Road B In Direction 4&quot;,    // B è·¯ä¸Šçš„ç»¿ç¯ç°å·²äº®èµ·ï¼Œ2 å·è½¦é€šè¿‡è·¯å£ã€‚&quot;Car 3 Has Passed Road B In Direction 3&quot;,    // B è·¯ä¸Šçš„ç»¿ç¯ç°å·²äº®èµ·ï¼Œ3 å·è½¦é€šè¿‡è·¯å£ã€‚&quot;Traffic Light On Road A Is Green&quot;,          // 5 å·è½¦åœ¨ A è·¯è¯·æ±‚ç»¿ç¯ã€‚&quot;Car 5 Has Passed Road A In Direction 1&quot;,    // A è·¯ä¸Šçš„ç»¿ç¯ç°å·²äº®èµ·ï¼Œ5 å·è½¦é€šè¿‡è·¯å£ã€‚&quot;Traffic Light On Road B Is Green&quot;,          // 4 å·è½¦åœ¨ B è·¯è¯·æ±‚ç»¿ç¯ã€‚4 å·è½¦åœ¨è·¯å£ç­‰ç¯ï¼Œç›´åˆ° 5 å·è½¦é€šè¿‡è·¯å£ï¼ŒB è·¯çš„ç»¿ç¯äº®èµ·ã€‚&quot;Car 4 Has Passed Road B In Direction 3&quot;     // B è·¯ä¸Šçš„ç»¿ç¯ç°å·²äº®èµ·ï¼Œ4 å·è½¦é€šè¿‡è·¯å£ã€‚]è§£é‡Š: è¿™æ˜¯ä¸€ä¸ªæ— æ­»é”çš„æ–¹æ¡ˆã€‚æ³¨æ„ï¼Œåœ¨ A è·¯ä¸Šçš„ç»¿ç¯äº®èµ·ã€5 å·è½¦é€šè¿‡å‰è®© 4 å·è½¦é€šè¿‡ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ­£ç¡®ä¸”å¯è¢«æ¥å—çš„æ–¹æ¡ˆã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= cars.length &lt;= 20cars.length = directions.lengthcars.length = arrivalTimes.lengthcars ä¸­çš„æ‰€æœ‰å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚1 &lt;= directions[i] &lt;= 4arrivalTimes æ˜¯éé€’å‡çš„ã€‚</code></pre><details><summary>é¢˜ç›®è¦æ±‚</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class TrafficLight &#123;</span><br><span class="line"></span><br><span class="line">    public TrafficLight() &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void carArrived(</span><br><span class="line">        int carId,           // ID of the car</span><br><span class="line">        int roadId,          // ID of the road the car travels on. Can be 1 (road A) or 2 (road B)</span><br><span class="line">        int direction,       // Direction of the car</span><br><span class="line">        Runnable turnGreen,  // Use turnGreen.run() to turn light to green on current road</span><br><span class="line">        Runnable crossCar    // Use crossCar.run() to make car cross the intersection </span><br><span class="line">    ) &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><p>è¿™ä¸ªé¢˜è§£è¯´å®åœ¨æ²¡å¤ªç†è§£ï¼Œè¿™é¢˜åˆæ˜¯é“æ”¶è´¹é¢˜ç›®ï¼Œä¸‹é¢é“é¢˜è§£æ˜¯å¦èƒ½è·‘é€šæœ‰å¾…éªŒè¯ã€‚</p><details><summary>é¢˜è§£</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">class TrafficLight &#123;</span><br><span class="line">    public TrafficLight() &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    boolean lightA = true;</span><br><span class="line">    public void carArrived(</span><br><span class="line">        int carId,           // ID of the car</span><br><span class="line">        int roadId,          // ID of the road the car travels on. Can be 1 (road A) or 2 (road B)</span><br><span class="line">        int direction,       // Direction of the car</span><br><span class="line">        Runnable turnGreen,  // Use turnGreen.run() to turn light to green on current road</span><br><span class="line">        Runnable crossCar    // Use crossCar.run() to make car cross the intersection </span><br><span class="line">    ) &#123;</span><br><span class="line">        synchronized (this) </span><br><span class="line">        &#123;</span><br><span class="line">            if( roadId == 1) </span><br><span class="line">            &#123;</span><br><span class="line">                if( !lightA) &#123;</span><br><span class="line">                    turnGreen.run();</span><br><span class="line">                    lightA = true;</span><br><span class="line">                &#125;</span><br><span class="line">                crossCar.run();</span><br><span class="line">            &#125;</span><br><span class="line">            else </span><br><span class="line">            &#123;</span><br><span class="line">                if( lightA) &#123;</span><br><span class="line">                    turnGreen.run();</span><br><span class="line">                    lightA = false;</span><br><span class="line">                &#125;</span><br><span class="line">                crossCar.run();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™è¿™ä¸ªè·¯å£è®¾è®¡ä¸€ä¸ªæ²¡æœ‰æ­»é”çš„çº¢ç»¿ç¯æ§åˆ¶ç³»ç»Ÿã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Concurrency" scheme="http://yoursite.com/tags/Concurrency/"/>
    
  </entry>
  
  <entry>
    <title>953. éªŒè¯å¤–æ˜Ÿè¯­è¯å…¸</title>
    <link href="http://yoursite.com/2021/03/04/953.%20%E9%AA%8C%E8%AF%81%E5%A4%96%E6%98%9F%E8%AF%AD%E8%AF%8D%E5%85%B8/"/>
    <id>http://yoursite.com/2021/03/04/953. éªŒè¯å¤–æ˜Ÿè¯­è¯å…¸/</id>
    <published>2021-03-04T10:12:12.000Z</published>
    <updated>2021-03-04T10:30:25.352Z</updated>
    
    <content type="html"><![CDATA[<p>æŸç§å¤–æ˜Ÿè¯­ä¹Ÿä½¿ç”¨è‹±æ–‡å°å†™å­—æ¯ï¼Œä½†å¯èƒ½é¡ºåº order ä¸åŒã€‚å­—æ¯è¡¨çš„é¡ºåºï¼ˆorderï¼‰æ˜¯ä¸€äº›å°å†™å­—æ¯çš„æ’åˆ—ã€‚</p><p>ç»™å®šä¸€ç»„ç”¨å¤–æ˜Ÿè¯­ä¹¦å†™çš„å•è¯wordsï¼Œä»¥åŠå…¶å­—æ¯è¡¨çš„é¡ºåº orderï¼Œåªæœ‰å½“ç»™å®šçš„å•è¯åœ¨è¿™ç§å¤–æ˜Ÿè¯­ä¸­æŒ‰å­—å…¸åºæ’åˆ—æ—¶ï¼Œè¿”å› trueï¼›å¦åˆ™ï¼Œè¿”å› falseã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šwords = [&quot;hello&quot;,&quot;leetcode&quot;], order = &quot;hlabcdefgijkmnopqrstuvwxyz&quot;è¾“å‡ºï¼štrueè§£é‡Šï¼šåœ¨è¯¥è¯­è¨€çš„å­—æ¯è¡¨ä¸­ï¼Œ&apos;h&apos; ä½äº &apos;l&apos; ä¹‹å‰ï¼Œæ‰€ä»¥å•è¯åºåˆ—æ˜¯æŒ‰å­—å…¸åºæ’åˆ—çš„ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šwords = [&quot;word&quot;,&quot;world&quot;,&quot;row&quot;], order = &quot;worldabcefghijkmnpqstuvxyz&quot;è¾“å‡ºï¼šfalseè§£é‡Šï¼šåœ¨è¯¥è¯­è¨€çš„å­—æ¯è¡¨ä¸­ï¼Œ&apos;d&apos; ä½äº &apos;l&apos; ä¹‹åï¼Œé‚£ä¹ˆ words[0] &gt; words[1]ï¼Œå› æ­¤å•è¯åºåˆ—ä¸æ˜¯æŒ‰å­—å…¸åºæ’åˆ—çš„ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šwords = [&quot;apple&quot;,&quot;app&quot;], order = &quot;abcdefghijklmnopqrstuvwxyz&quot;è¾“å‡ºï¼šfalseè§£é‡Šï¼šå½“å‰ä¸‰ä¸ªå­—ç¬¦ &quot;app&quot; åŒ¹é…æ—¶ï¼Œç¬¬äºŒä¸ªå­—ç¬¦ä¸²ç›¸å¯¹çŸ­ä¸€äº›ï¼Œç„¶åæ ¹æ®è¯å…¸ç¼–çº‚è§„åˆ™ &quot;apple&quot; &gt; &quot;app&quot;ï¼Œå› ä¸º &apos;l&apos; &gt; &apos;âˆ…&apos;ï¼Œå…¶ä¸­ &apos;âˆ…&apos; æ˜¯ç©ºç™½å­—ç¬¦ï¼Œå®šä¹‰ä¸ºæ¯”ä»»ä½•å…¶ä»–å­—ç¬¦éƒ½å°ï¼ˆæ›´å¤šä¿¡æ¯ï¼‰ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= words.length &lt;= 1001 &lt;= words[i].length &lt;= 20order.length == 26åœ¨ words[i] å’Œ order ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯è‹±æ–‡å°å†™å­—æ¯ã€‚</code></pre><h4 id="æ–¹æ³•ä¸€ï¼š-æ£€æŸ¥ç›¸é‚»å•è¯"><a href="#æ–¹æ³•ä¸€ï¼š-æ£€æŸ¥ç›¸é‚»å•è¯" class="headerlink" title="æ–¹æ³•ä¸€ï¼š æ£€æŸ¥ç›¸é‚»å•è¯"></a>æ–¹æ³•ä¸€ï¼š æ£€æŸ¥ç›¸é‚»å•è¯</h4><p><strong>æ€è·¯</strong></p><p>åªæœ‰æ¯å¯¹ç›¸é‚»å•è¯éƒ½æ˜¯æœ‰åºçš„ï¼Œé‚£ä¹ˆæ•´ä¸ª <code>words</code> æ‰æ˜¯æœ‰åºçš„ã€‚å› ä¸ºæœ‰åºæ€§æ˜¯å¯ä»¥ä¼ é€’çš„ï¼Œä¾‹å¦‚ï¼Œ<code>a &lt;= b</code> å’Œ <code>b &lt;= c</code> å¯ä»¥æ¨å‡º <code>a &lt;= c</code>ã€‚</p><p><strong>ç®—æ³•</strong></p><p>æ£€æŸ¥ç›¸é‚»å•è¯ <code>a</code> å’Œ <code>b</code> æ˜¯å¦æ»¡è¶³ <code>a &lt;= b</code>ã€‚</p><p>ä¸ºäº†æ£€æŸ¥ç›¸é‚»å•è¯ <code>a</code>ï¼Œ<code>b</code> æ˜¯å¦æ»¡è¶³ <code>a &lt;= b</code>ï¼Œåªéœ€è¦æ£€æŸ¥å®ƒä»¬ç¬¬ä¸€ä¸ªä¸åŒçš„å­—æ¯å°±å¯ä»¥äº†ã€‚ä¾‹å¦‚ï¼Œå¯¹äº<code>&quot;applying&quot;</code> å’Œ <code>&quot;apples&quot;</code>ï¼Œç¬¬ä¸€ä¸ªä¸åŒçš„å­—æ¯æ˜¯ <code>y</code> å’Œ <code>e</code>ã€‚ä¹‹ååªéœ€è¦æ¯”è¾ƒè¿™ä¸¤ä¸ªå­—æ¯åœ¨ <code>order</code> ä¸­çš„ä¸‹æ ‡å°±å¯ä»¥äº†ã€‚ </p><p>è¿˜éœ€è¦è€ƒè™‘ä¸¤ä¸ªå•è¯é•¿åº¦ä¸ç­‰çš„æƒ…å†µã€‚ä¾‹å¦‚ï¼Œå½“æ¯”è¾ƒ <code>&quot;app&quot;</code> å’Œ <code>&quot;apply&quot;</code> çš„æ—¶å€™ï¼Œå‰ä¸‰ä¸ªå­—æ¯éƒ½æ˜¯ç›¸ç­‰çš„ï¼Œä½† <code>&quot;app&quot;</code> æ¯” <code>&quot;apply&quot;</code> æ›´çŸ­ï¼Œæ‰€ä»¥æ»¡è¶³ <code>a &lt;= b</code>ã€‚</p><details>    <summary>æ£€æŸ¥ç›¸é‚»å•è¯Java</summary><figure class="highlight java"><figcaption><span>[solution1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isAlienSorted</span><span class="params">(String[] words, String order)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] index = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; order.length(); ++i)</span><br><span class="line">            index[order.charAt(i) - <span class="string">'a'</span>] = i;</span><br><span class="line"></span><br><span class="line">        search: <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words.length - <span class="number">1</span>; ++i) &#123;</span><br><span class="line">            String word1 = words[i];</span><br><span class="line">            String word2 = words[i+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Find the first difference word1[k] != word2[k].</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; Math.min(word1.length(), word2.length()); ++k) &#123;</span><br><span class="line">                <span class="keyword">if</span> (word1.charAt(k) != word2.charAt(k)) &#123;</span><br><span class="line">                    <span class="comment">// If they compare badly, it's not sorted.</span></span><br><span class="line">                    <span class="keyword">if</span> (index[word1.charAt(k) - <span class="string">'a'</span>] &gt; index[word2.charAt(k) - <span class="string">'a'</span>])</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                    <span class="keyword">continue</span> search;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// If we didn't find a first difference, the</span></span><br><span class="line">            <span class="comment">// words are like ("app", "apple").</span></span><br><span class="line">            <span class="keyword">if</span> (word1.length() &gt; word2.length())</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ£€æŸ¥ç›¸é‚»å•è¯Python</summary><figure class="highlight python"><figcaption><span>[solution1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isAlienSorted</span><span class="params">(self, words, order)</span>:</span></span><br><span class="line">        order_index = &#123;c: i <span class="keyword">for</span> i, c <span class="keyword">in</span> enumerate(order)&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(len(words) - <span class="number">1</span>):</span><br><span class="line">            word1 = words[i]</span><br><span class="line">            word2 = words[i+<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Find the first difference word1[k] != word2[k].</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> xrange(min(len(word1), len(word2))):</span><br><span class="line">                <span class="comment"># If they compare badly, it's not sorted.</span></span><br><span class="line">                <span class="keyword">if</span> word1[k] != word2[k]:</span><br><span class="line">                    <span class="keyword">if</span> order_index[word1[k]] &gt; order_index[word2[k]]:</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># If we didn't find a first difference, the</span></span><br><span class="line">                <span class="comment"># words are like ("app", "apple").</span></span><br><span class="line">                <span class="keyword">if</span> len(word1) &gt; len(word2):</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š <em>O(C)*ï¼Œå…¶ä¸­ *C</em> æ˜¯ <code>words</code> ä¸­å•è¯æ€»é•¿åº¦å’Œã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š <em>O(1)</em>ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æŸç§å¤–æ˜Ÿè¯­ä¹Ÿä½¿ç”¨è‹±æ–‡å°å†™å­—æ¯ï¼Œä½†å¯èƒ½é¡ºåº order ä¸åŒã€‚å­—æ¯è¡¨çš„é¡ºåºï¼ˆorderï¼‰æ˜¯ä¸€äº›å°å†™å­—æ¯çš„æ’åˆ—ã€‚&lt;/p&gt;
&lt;p&gt;ç»™å®šä¸€ç»„ç”¨å¤–æ˜Ÿè¯­ä¹¦å†™çš„å•è¯wordsï¼Œä»¥åŠå…¶å­—æ¯è¡¨çš„é¡ºåº orderï¼Œåªæœ‰å½“ç»™å®šçš„å•è¯åœ¨è¿™ç§å¤–æ˜Ÿè¯­ä¸­æŒ‰å­—å…¸åºæ’åˆ—æ—¶ï¼Œè¿”å› trueï¼›å¦åˆ™ï¼Œè¿”å› falseã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
  </entry>
  
  <entry>
    <title>269.ç«æ˜Ÿè¯å…¸</title>
    <link href="http://yoursite.com/2021/02/27/269.%E7%81%AB%E6%98%9F%E8%AF%8D%E5%85%B8/"/>
    <id>http://yoursite.com/2021/02/27/269.ç«æ˜Ÿè¯å…¸/</id>
    <published>2021-02-27T06:12:12.000Z</published>
    <updated>2021-03-04T08:47:03.890Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰ä¸€ç§æ–°çš„ä½¿ç”¨æ‹‰ä¸å­—æ¯çš„å¤–æ¥è¯­è¨€ã€‚ä½†æ˜¯ï¼Œä½ ä¸çŸ¥é“å­—æ¯ä¹‹é—´çš„é¡ºåºã€‚ä½ ä¼šä»è¯å…¸ä¸­æ”¶åˆ°ä¸€ä¸ªéç©ºçš„å•è¯åˆ—è¡¨ï¼Œå…¶ä¸­çš„å•è¯åœ¨è¿™ç§æ–°è¯­è¨€çš„è§„åˆ™ä¸‹æŒ‰å­—å…¸é¡ºåºæ’åºã€‚è¯·æ¨å¯¼å‡ºè¿™ç§è¯­è¨€çš„å­—æ¯é¡ºåº</p><a id="more"></a><p>æ­¤é¢˜ä¹Ÿæ˜¯LintCodeä¸Šçš„ 892. å¤–æ˜Ÿäººå­—å…¸ï¼Œå¯ä»¥ç›´æ¥åœ¨å®˜ç½‘é“¾æ¥<a href="https://www.lintcode.com/problem/alien-dictionary?utm_source=sc-zhihuzl-sy" target="_blank" rel="noopener">^1</a>æäº¤ä»£ç æµ‹è¯•ã€‚ä¹Ÿæ›¾ç»æ˜¯æŠ–éŸ³çš„ä¸€é“é¢è¯•é¢˜ã€‚</p><ol><li>ä½ å¯ä»¥å‡è®¾æ‰€æœ‰çš„å­—æ¯éƒ½æ˜¯å°å†™ã€‚</li><li>å¦‚æœaæ˜¯bçš„å‰ç¼€ä¸”bå‡ºç°åœ¨aä¹‹å‰ï¼Œé‚£ä¹ˆè¿™ä¸ªé¡ºåºæ˜¯æ— æ•ˆçš„ã€‚</li><li>å¦‚æœé¡ºåºæ˜¯æ— æ•ˆçš„ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</li><li>è¿™é‡Œå¯èƒ½æœ‰å¤šä¸ªæœ‰æ•ˆçš„å­—æ¯é¡ºåºï¼Œè¿”å›ä»¥æ­£å¸¸å­—å…¸é¡ºåºçœ‹æ¥æœ€å°çš„ã€‚</li></ol><p>æ ·ä¾‹ 1:</p><pre><code>è¾“å…¥ï¼š[&quot;wrt&quot;,&quot;wrf&quot;,&quot;er&quot;,&quot;ett&quot;,&quot;rftt&quot;]è¾“å‡ºï¼š&quot;wertf&quot;è§£é‡Šï¼šä» &quot;wrt&quot;å’Œ&quot;wrf&quot; ,æˆ‘ä»¬å¯ä»¥å¾—åˆ° &apos;t&apos;&lt;&apos;f&apos;ä» &quot;wrt&quot;å’Œ&quot;er&quot; ,æˆ‘ä»¬å¯ä»¥å¾—åˆ°&apos;w&apos;&lt;&apos;e&apos;ä» &quot;er&quot;å’Œ&quot;ett&quot; ,æˆ‘ä»¬å¯ä»¥å¾—åˆ° get &apos;r&apos;&lt;&apos;t&apos;ä» &quot;ett&quot;å’Œ&quot;rftt&quot; ,æˆ‘ä»¬å¯ä»¥å¾—åˆ° &apos;e&apos;&lt;&apos;r&apos;æ‰€ä»¥è¿”å› &quot;wertf&quot;</code></pre><p>æ ·ä¾‹ 2:</p><pre><code>è¾“å…¥ï¼š[&quot;z&quot;,&quot;x&quot;]è¾“å‡ºï¼š&quot;zx&quot;è§£é‡Šï¼šä» &quot;z&quot; å’Œ &quot;x&quot;ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° &apos;z&apos; &lt; &apos;x&apos;æ‰€ä»¥è¿”å›&quot;zx&quot;</code></pre><h1 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h1><p>è¿™æ˜¯å¾ˆæ˜æ˜¾çš„æ‹“æ‰‘æ’åºï¼Œå¯ä»¥å‚è€ƒ210.è¯¾ç¨‹è¡¨IIçš„ä»£ç ã€‚åŒºåˆ«åœ¨äºé‚£ä¸ªæ‹“æ‰‘æ’åºæ˜¯å¯¹æ•´æ•°è€Œä¸”è¾“å…¥æ ·ä¾‹æ˜¯ç»™å¥½çš„ã€‚è¿™é“é¢˜é‡Œè¦è‡ªå·±æ•´ç†å¥½è¦æ‹“æ‰‘æ’åºçš„æ•°æ®ï¼Œè€Œä¸”å°†æ‹“æ‰‘æ’åºçš„ä»£ç æ›´æ”¹ä¸ºå¯¹å­—ç¬¦ä¸²æ’åºï¼Œåœ¨æ”¹åŠ¨çš„è¿‡ç¨‹ä¸­è¸©äº†ä¸€äº›å‘ã€‚</p><p>ç½‘ä¸Šå¾ˆå¤šåšå®¢çš„ä»£ç ä¹Ÿè¸©äº†è¿™äº›å‘ï¼Œæ¯”å¦‚å¦‚æœaæ˜¯bçš„å‰ç¼€ä¸”bå‡ºç°åœ¨aä¹‹å‰ï¼Œé‚£ä¹ˆè¿™ä¸ªé¡ºåºæ˜¯æ— æ•ˆçš„ï¼Œ[â€œabcâ€,â€abâ€]ï¼Œæ‰€ä»¥æ˜¯æ²¡æ³•é€šè¿‡çš„ã€‚</p><h2 id="æˆ‘çš„è§£æ³•"><a href="#æˆ‘çš„è§£æ³•" class="headerlink" title="æˆ‘çš„è§£æ³•"></a>æˆ‘çš„è§£æ³•</h2><details>    <summary>å®½åº¦ä¼˜å…ˆæœç´¢-æ‹“æ‰‘æ’åº</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public static String findOrder(Set&lt;Character&gt; set,Character[][] prerequisites) &#123;</span><br><span class="line">        Map&lt;Character, List&lt;Character&gt;&gt; edges;</span><br><span class="line">        Map&lt;Character,Integer&gt; indeg;</span><br><span class="line">        String res=&quot;&quot;;</span><br><span class="line"></span><br><span class="line">        edges=new HashMap&lt;&gt;();</span><br><span class="line">        indeg=new HashMap&lt;&gt;();</span><br><span class="line">        for(Character[] info: prerequisites)&#123;</span><br><span class="line">            List&lt;Character&gt; list = edges.get(info[1]);</span><br><span class="line">            if (Objects.isNull(list)) &#123;</span><br><span class="line">                list = new ArrayList&lt;Character&gt;();</span><br><span class="line">            &#125;</span><br><span class="line">            list.add(info[0]);</span><br><span class="line">            edges.put(info[1], list);</span><br><span class="line">            indeg.put(info[0], indeg.getOrDefault(info[0],0) + 1);</span><br><span class="line">        &#125;</span><br><span class="line">        //è¿™é‡Œå¯èƒ½æœ‰å¤šä¸ªæœ‰æ•ˆçš„å­—æ¯é¡ºåºï¼Œè¿”å›ä»¥æ­£å¸¸å­—å…¸é¡ºåºçœ‹æ¥æœ€å°çš„ï¼Œ[&quot;z&quot;,&quot;x&quot;,&quot;z&quot;]</span><br><span class="line">        //æ‰€ä»¥ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—</span><br><span class="line">        PriorityQueue&lt;Character&gt; queue=new PriorityQueue&lt;Character&gt;();</span><br><span class="line">        for (Character c: set) &#123;</span><br><span class="line">            if (indeg.getOrDefault(c,0) == 0) &#123;</span><br><span class="line">                queue.offer(c);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        while(!queue.isEmpty())&#123;</span><br><span class="line">            Character u=queue.poll();</span><br><span class="line">            res+=u;</span><br><span class="line">            if (!Objects.isNull(edges.get(u))) &#123;</span><br><span class="line">                for (Character v : edges.get(u)) &#123;</span><br><span class="line">                    indeg.put(v, indeg.getOrDefault(v, 0) - 1);</span><br><span class="line">                    if (indeg.getOrDefault(v, 0) == 0) &#123;</span><br><span class="line">                        queue.offer(v);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (set.size() != res.length()) &#123;</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">    /**</span><br><span class="line">     * @param words: a list of words</span><br><span class="line">     * @return: a string which is correct order</span><br><span class="line">     */</span><br><span class="line">    public String alienOrder(String[] words) &#123;</span><br><span class="line">        // Write your code here</span><br><span class="line">        Set&lt;Character&gt; set=new HashSet&lt;&gt;();</span><br><span class="line">        Set&lt;Character[]&gt; lists=new HashSet&lt;&gt;();</span><br><span class="line">        int maxlen=0;</span><br><span class="line">        for (String s : words) &#123;</span><br><span class="line">            maxlen = Math.max(s.length(), maxlen);</span><br><span class="line">        &#125;</span><br><span class="line">        for (int i = 0; i &lt; maxlen; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; words.length; j++) &#123;</span><br><span class="line">                Character c;</span><br><span class="line">                if (words[j].length() &gt; i) &#123;</span><br><span class="line">                    c = words[j].charAt(i);</span><br><span class="line">                    set.add(c);</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125;</span><br><span class="line">                for (int k = j + 1; k &lt; words.length; k++) &#123;</span><br><span class="line">                    Character d;</span><br><span class="line">                    if (words[k].length() &gt; i) &#123;</span><br><span class="line">                        d = words[k].charAt(i);</span><br><span class="line">                        set.add(d);</span><br><span class="line">                        if (d != c &amp;&amp; words[j].substring(0,i).equals(words[k].substring(0,i))) &#123;</span><br><span class="line">                            lists.add(new Character[]&#123;d,c&#125;);</span><br><span class="line">                        &#125;</span><br><span class="line">                        //å¦‚æœaæ˜¯bçš„å‰ç¼€ä¸”bå‡ºç°åœ¨aä¹‹å‰ï¼Œé‚£ä¹ˆè¿™ä¸ªé¡ºåºæ˜¯æ— æ•ˆçš„ï¼Œ[&quot;abc&quot;,&quot;ab&quot;]</span><br><span class="line">                        if (words[j].startsWith(words[k])) &#123;</span><br><span class="line">                            return &quot;&quot;;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        continue;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Character[][] character = new Character[lists.size()][];</span><br><span class="line">        int index = 0;</span><br><span class="line">        for (Character[] c : lists) &#123;</span><br><span class="line">            character[index] = c;</span><br><span class="line">            index++;</span><br><span class="line">        &#125;</span><br><span class="line">        return findOrder(set,character);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="è§£æ³•II"><a href="#è§£æ³•II" class="headerlink" title="è§£æ³•II"></a>è§£æ³•II</h2><details>    <summary>å®½åº¦ä¼˜å…ˆæœç´¢-æ‹“æ‰‘æ’åº</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public String alienOrder(String[] words) &#123;</span><br><span class="line">        Map&lt;Character, Set&lt;Character&gt;&gt; graph = constructGraph(words);</span><br><span class="line">        if (graph == null) &#123;</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        return topologicalSorting(graph);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">        </span><br><span class="line">    private Map&lt;Character, Set&lt;Character&gt;&gt; constructGraph(String[] words) &#123;</span><br><span class="line">        Map&lt;Character, Set&lt;Character&gt;&gt; graph = new HashMap&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        // create nodes</span><br><span class="line">        for (int i = 0; i &lt; words.length; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; words[i].length(); j++) &#123;</span><br><span class="line">                char c = words[i].charAt(j);</span><br><span class="line">                if (!graph.containsKey(c)) &#123;</span><br><span class="line">                    graph.put(c, new HashSet&lt;Character&gt;());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        // create edges</span><br><span class="line">        for (int i = 0; i &lt; words.length - 1; i++) &#123;</span><br><span class="line">            int index = 0;</span><br><span class="line">            while (index &lt; words[i].length() &amp;&amp; index &lt; words[i + 1].length()) &#123;</span><br><span class="line">                if (words[i].charAt(index) != words[i + 1].charAt(index)) &#123;</span><br><span class="line">                    graph.get(words[i].charAt(index)).add(words[i + 1].charAt(index));</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">            //å¦‚æœaæ˜¯bçš„å‰ç¼€ä¸”bå‡ºç°åœ¨aä¹‹å‰ï¼Œé‚£ä¹ˆè¿™ä¸ªé¡ºåºæ˜¯æ— æ•ˆçš„ï¼Œ[&quot;abc&quot;,&quot;ab&quot;]</span><br><span class="line">            if (index == Math.min(words[i].length(), words[i + 1].length())) &#123;</span><br><span class="line">                if (words[i].length() &gt; words[i + 1].length()) &#123;</span><br><span class="line">                    return null;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return graph;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    private Map&lt;Character, Integer&gt; getIndegree(Map&lt;Character, Set&lt;Character&gt;&gt; graph) &#123;</span><br><span class="line">        Map&lt;Character, Integer&gt; indegree = new HashMap&lt;&gt;();</span><br><span class="line">        for (Character u : graph.keySet()) &#123;</span><br><span class="line">            indegree.put(u, 0);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        for (Character u : graph.keySet()) &#123;</span><br><span class="line">            for (Character v : graph.get(u)) &#123;</span><br><span class="line">                indegree.put(v, indegree.get(v) + 1);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;     </span><br><span class="line">        </span><br><span class="line">        return indegree;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private String topologicalSorting(Map&lt;Character, Set&lt;Character&gt;&gt; graph) &#123;</span><br><span class="line">        // as we should return the topo order with lexicographical order</span><br><span class="line">        // we should use PriorityQueue instead of a FIFO Queue</span><br><span class="line">        Map&lt;Character, Integer&gt; indegree = getIndegree(graph);</span><br><span class="line">        Queue&lt;Character&gt; queue = new PriorityQueue&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        for (Character u : indegree.keySet()) &#123;</span><br><span class="line">            if (indegree.get(u) == 0) &#123;</span><br><span class="line">                queue.offer(u);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        StringBuilder sb = new StringBuilder();</span><br><span class="line">        while (!queue.isEmpty()) &#123;</span><br><span class="line">            Character head = queue.poll();</span><br><span class="line">            sb.append(head);</span><br><span class="line">            for (Character neighbor : graph.get(head)) &#123;</span><br><span class="line">                indegree.put(neighbor, indegree.get(neighbor) - 1);</span><br><span class="line">                if (indegree.get(neighbor) == 0) &#123;</span><br><span class="line">                    queue.offer(neighbor);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (sb.length() != indegree.size()) &#123;</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        return sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>å®˜ç½‘çš„é¢˜è§£<a href="https://www.jiuzhang.com/solutions/alien-dictionary/" target="_blank" rel="noopener">^2</a>å’Œæˆ‘è‡ªå·±é­”æ”¹çš„ç‰ˆæœ¬å…¶å®æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œä¸»è¦çš„ä¸åŒä¹‹å¤„åœ¨äºä½¿ç”¨äº†Map&lt;Character, Set<character>&gt;æ¥å­˜å‚¨æ‹“æ‰‘å›¾ï¼ŒStringBuilderæ¥ä¿å­˜æœ€ç»ˆç»“æœï¼Œä»¥åŠåˆ¤æ–­å¦‚æœaæ˜¯bçš„å‰ç¼€ä¸”bå‡ºç°åœ¨aä¹‹å‰ï¼Œé‚£ä¹ˆè¿™ä¸ªé¡ºåºæ˜¯æ— æ•ˆçš„ï¼Œ[â€œabcâ€,â€abâ€]ï¼Œå¦‚æœä½¿ç”¨Stringsè‡ªå¸¦çš„startsWithæ–¹æ³•æ•ˆç‡ä¼šæ¯”æ”¹é¢˜è§£ä¸­çš„åˆ©ç”¨ä¸‹æ ‡åˆ¤æ–­ä½ã€‚</character></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ‰ä¸€ç§æ–°çš„ä½¿ç”¨æ‹‰ä¸å­—æ¯çš„å¤–æ¥è¯­è¨€ã€‚ä½†æ˜¯ï¼Œä½ ä¸çŸ¥é“å­—æ¯ä¹‹é—´çš„é¡ºåºã€‚ä½ ä¼šä»è¯å…¸ä¸­æ”¶åˆ°ä¸€ä¸ªéç©ºçš„å•è¯åˆ—è¡¨ï¼Œå…¶ä¸­çš„å•è¯åœ¨è¿™ç§æ–°è¯­è¨€çš„è§„åˆ™ä¸‹æŒ‰å­—å…¸é¡ºåºæ’åºã€‚è¯·æ¨å¯¼å‡ºè¿™ç§è¯­è¨€çš„å­—æ¯é¡ºåº&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´2æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B42%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Breadth-first Search" scheme="http://yoursite.com/tags/Breadth-first-Search/"/>
    
      <category term="Topological sort" scheme="http://yoursite.com/tags/Topological-sort/"/>
    
  </entry>
  
  <entry>
    <title>JavaåŸºç¡€çŸ¥è¯†-è£…ç®±å’Œæ‹†ç®±</title>
    <link href="http://yoursite.com/2021/02/22/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-%E8%A3%85%E7%AE%B1%E5%92%8C%E6%8B%86%E7%AE%B1/"/>
    <id>http://yoursite.com/2021/02/22/JavaåŸºç¡€çŸ¥è¯†-è£…ç®±å’Œæ‹†ç®±/</id>
    <published>2021-02-22T03:25:12.000Z</published>
    <updated>2021-02-22T07:24:00.286Z</updated>
    
    <content type="html"><![CDATA[<p>è£…ç®±å’Œæ‹†ç®±</p><a id="more"></a><h1 id="ä»€ä¹ˆæ˜¯è£…ç®±ï¼Ÿä»€ä¹ˆæ˜¯æ‹†ç®±ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯è£…ç®±ï¼Ÿä»€ä¹ˆæ˜¯æ‹†ç®±ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯è£…ç®±ï¼Ÿä»€ä¹ˆæ˜¯æ‹†ç®±ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯è£…ç®±ï¼Ÿä»€ä¹ˆæ˜¯æ‹†ç®±ï¼Ÿ</h1><p>åœ¨javaä¸­æœ‰å…«ç§åŸºæœ¬æ•°æ®ç±»å‹å¯¹åº”æ¯ç§åŸºæœ¬ç±»å‹åˆæœ‰å…«ç§åŒ…è£…ç±»å‹ï¼š<a href="https://zhuanlan.zhihu.com/p/78590948" target="_blank" rel="noopener">^1</a></p><p>åŸºæœ¬ç±»å‹ï¼šbooleanï¼Œ charï¼Œ intï¼Œ byteï¼Œshortï¼Œlongï¼Œ floatï¼Œdouble</p><p>åŒ…è£…å™¨ç±»å‹ï¼šBooleanï¼ŒCharacterï¼ŒIntegerï¼ŒByteï¼ŒShortï¼ŒLongï¼ŒFloatï¼ŒDouble</p><p>ä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é™¤äº† charå’Œintå…¶å®ƒçš„åŒ…è£…ç±»å‹åç§°å’Œå¯¹åº”çš„åŸºæœ¬ç±»å‹ä¸€æ ·åªæ˜¯é¦–å­—æ¯å¤§å†™äº†ã€‚</p><p>æ—¢ç„¶æœ‰äº†åŸºæœ¬ç±»å‹ä¸ºä»€ä¹ˆè¿˜è¦æœ‰åŒ…è£…ç±»å‘¢ï¼Ÿæˆ‘ä»¬åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ç©¶ç«Ÿç”¨åŸºæœ¬ç±»å‹è¿˜æ˜¯åŒ…è£…ç±»å‘¢ï¼Ÿ</p><p>åœ¨æŸäº›åœºåˆä¸èƒ½ä½¿ç”¨åŸºæœ¬ç±»å‹å¿…é¡»ä½¿ç”¨åŒ…è£…ç±»ï¼Œæ¯”å¦‚é›†åˆèƒ½æ¥æ”¶çš„ç±»å‹ä¸ºObject,åŸºæœ¬ç±»å‹æ˜¯æ— æ³•æ·»åŠ è¿›å»çš„ï¼Œè¿˜æœ‰èŒƒå‹ä¹Ÿå¿…é¡»ä½¿ç”¨åŒ…è£…ç±»ã€‚</p><p>å¦å¤–å‡è®¾æˆ‘ä»¬è¦å®šä¹‰ä¸€ä¸ªå˜é‡è¡¨ç¤ºåˆ†æ•° å¦‚æœç”¨åŸºæœ¬ç±»å‹è¡¨ç¤ºçš„è¯ï¼šint score;</p><p>é»˜è®¤å€¼ä¸ºé›¶ï¼Œå¦‚æœæˆ‘æƒ³è¡¨ç¤ºåˆ†æ•°ä¸ºç©ºä¹Ÿå°±æ˜¯æ²¡æœ‰å‚åŠ è€ƒè¯•å°±æ²¡æ³•è¡¨ç°äº†å› ä¸ºå€¼ç±»å‹æ˜¯æ— æ³•èµ‹ç©ºå€¼çš„ï¼Œå¦‚æœä½¿ç”¨åŒ…è£…ç±»å‹Integer score,å°±å¯ä»¥è¡¨ç¤ºè¿™ç§æƒ…å†µï¼Œå› ä¸ºIntegerçš„é»˜è®¤å€¼ä¸ºç©ºã€‚</p><p>åœ¨Java SE5ä¹‹å‰ï¼Œå¦‚æœè¦ç”Ÿæˆä¸€ä¸ªæ•°å€¼ä¸º10çš„Integerå¯¹è±¡ï¼Œå¿…é¡»è¿™æ ·è¿›è¡Œï¼š</p><pre><code>Integer i = new Integer(10);</code></pre><p>ã€€ã€€è€Œåœ¨ä»Java SE5å¼€å§‹å°±æä¾›äº†è‡ªåŠ¨è£…ç®±çš„ç‰¹æ€§ï¼Œå¦‚æœè¦ç”Ÿæˆä¸€ä¸ªæ•°å€¼ä¸º10çš„Integerå¯¹è±¡ï¼Œåªéœ€è¦è¿™æ ·å°±å¯ä»¥äº†ï¼š</p><pre><code>Integer i = 10;</code></pre><p>ã€€ã€€è¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨æ ¹æ®æ•°å€¼åˆ›å»ºå¯¹åº”çš„ Integerå¯¹è±¡ï¼Œè¿™å°±æ˜¯è£…ç®±ã€‚</p><p>ã€€ã€€é‚£ä»€ä¹ˆæ˜¯æ‹†ç®±å‘¢ï¼Ÿé¡¾åæ€ä¹‰ï¼Œè·Ÿè£…ç®±å¯¹åº”ï¼Œå°±æ˜¯è‡ªåŠ¨å°†åŒ…è£…å™¨ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼š</p><pre><code>Integer i = 10;  //è£…ç®±int n = i;   //æ‹†ç®±</code></pre><p>ã€€ã€€<br>ã€€ã€€ç®€å•ä¸€ç‚¹è¯´ï¼Œè£…ç®±å°±æ˜¯  è‡ªåŠ¨å°†åŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢ä¸ºåŒ…è£…å™¨ç±»å‹ï¼›æ‹†ç®±å°±æ˜¯  è‡ªåŠ¨å°†åŒ…è£…å™¨ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ã€‚</p><h1 id="è£…ç®±å’Œæ‹†ç®±æ˜¯å¦‚ä½•å®ç°çš„"><a href="#è£…ç®±å’Œæ‹†ç®±æ˜¯å¦‚ä½•å®ç°çš„" class="headerlink" title="è£…ç®±å’Œæ‹†ç®±æ˜¯å¦‚ä½•å®ç°çš„"></a>è£…ç®±å’Œæ‹†ç®±æ˜¯å¦‚ä½•å®ç°çš„</h1><p>è¿™éƒ¨åˆ†ä¸»è¦å†…å®¹æ¥è‡ªäº<a href="https://www.cnblogs.com/dolphin0520/p/3780005.html" target="_blank" rel="noopener">^2</a>ï¼Œä½œè€…æ˜¯Matrixæµ·å­ï¼Œå†™çš„å¾ˆæ¸…æ¥šï¼Œè¿™é‡Œä¸ºäº†é˜…è¯»æ–¹ä¾¿è½¬è½½ä¸€ä¸‹ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><details>    <summary>è£…ç®±å’Œæ‹†ç®±æ˜¯å¦‚ä½•å®ç°çš„</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public class Main &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">         </span><br><span class="line">        Integer i = 10;</span><br><span class="line">        int n = i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>å…ˆç¼–è¯‘<code>javac Main.java</code>ï¼Œç„¶ååç¼–è¯‘classæ–‡ä»¶ <code>javap -c Main</code>å</p><p>ä»åç¼–è¯‘å¾—åˆ°çš„å­—èŠ‚ç å†…å®¹å¯ä»¥çœ‹å‡ºï¼Œåœ¨è£…ç®±çš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨çš„æ˜¯Integerçš„valueOf(int)æ–¹æ³•ã€‚è€Œåœ¨æ‹†ç®±çš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨çš„æ˜¯Integerçš„intValueæ–¹æ³•ã€‚</p><p>ã€€ã€€å…¶ä»–çš„ä¹Ÿç±»ä¼¼ï¼Œæ¯”å¦‚Doubleã€Characterï¼Œä¸ç›¸ä¿¡çš„æœ‹å‹å¯ä»¥è‡ªå·±æ‰‹åŠ¨å°è¯•ä¸€ä¸‹ã€‚</p><p>ã€€ã€€å› æ­¤å¯ä»¥ç”¨ä¸€å¥è¯æ€»ç»“è£…ç®±å’Œæ‹†ç®±çš„å®ç°è¿‡ç¨‹ï¼š</p><p>ã€€ã€€è£…ç®±è¿‡ç¨‹æ˜¯é€šè¿‡è°ƒç”¨åŒ…è£…å™¨çš„valueOfæ–¹æ³•å®ç°çš„ï¼Œè€Œæ‹†ç®±è¿‡ç¨‹æ˜¯é€šè¿‡è°ƒç”¨åŒ…è£…å™¨çš„ xxxValueæ–¹æ³•å®ç°çš„ã€‚ï¼ˆxxxä»£è¡¨å¯¹åº”çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼‰ã€‚</p><h1 id="é¢è¯•ä¸­ç›¸å…³çš„é—®é¢˜"><a href="#é¢è¯•ä¸­ç›¸å…³çš„é—®é¢˜" class="headerlink" title="é¢è¯•ä¸­ç›¸å…³çš„é—®é¢˜"></a>é¢è¯•ä¸­ç›¸å…³çš„é—®é¢˜</h1><ol><li>ä»£ç çš„è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆ<details> <summary>ä»£ç çš„è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆ</summary></details></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class Main &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">         </span><br><span class="line">        Integer i1 = 100;</span><br><span class="line">        Integer i2 = 100;</span><br><span class="line">        Integer i3 = 200;</span><br><span class="line">        Integer i4 = 200;</span><br><span class="line">         </span><br><span class="line">        System.out.println(i1==i2);</span><br><span class="line">        System.out.println(i3==i4);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœè¡¨æ˜i1å’Œi2æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œè€Œi3å’Œi4æŒ‡å‘çš„æ˜¯ä¸åŒçš„å¯¹è±¡ã€‚æ­¤æ—¶åªéœ€ä¸€çœ‹æºç ä¾¿çŸ¥ç©¶ç«Ÿ,Integerçš„valueOfæ–¹æ³•çš„å…·ä½“å®ç°å’ŒIntegerCacheç±»çš„å®ç°ï¼Œé€šè¿‡valueOfæ–¹æ³•åˆ›å»ºIntegerå¯¹è±¡çš„æ—¶å€™ï¼Œå¦‚æœæ•°å€¼åœ¨[-128,127]ä¹‹é—´ï¼Œä¾¿è¿”å›æŒ‡å‘IntegerCache.cacheä¸­å·²ç»å­˜åœ¨çš„å¯¹è±¡çš„å¼•ç”¨ï¼›å¦åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„Integerå¯¹è±¡ã€‚</p><p>ã€€ã€€ä¸Šé¢çš„ä»£ç ä¸­i1å’Œi2çš„æ•°å€¼ä¸º100ï¼Œå› æ­¤ä¼šç›´æ¥ä»cacheä¸­å–å·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼Œæ‰€ä»¥i1å’Œi2æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œè€Œi3å’Œi4åˆ™æ˜¯åˆ†åˆ«æŒ‡å‘ä¸åŒçš„å¯¹è±¡ã€‚</p><ol start="2"><li>ä»£ç çš„è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆ</li></ol><details>    <summary>ä»£ç çš„è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆ</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class Main &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">         </span><br><span class="line">        Double i1 = 100.0;</span><br><span class="line">        Double i2 = 100.0;</span><br><span class="line">        Double i3 = 200.0;</span><br><span class="line">        Double i4 = 200.0;</span><br><span class="line">         </span><br><span class="line">        System.out.println(i1==i2);</span><br><span class="line">        System.out.println(i3==i4);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>å…·ä½“ä¸ºä»€ä¹ˆï¼Œå¯ä»¥å»çœ‹Doubleç±»çš„valueOfçš„å®ç°ã€‚</p><p>ã€€ã€€åœ¨è¿™é‡Œåªè§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆDoubleç±»çš„valueOfæ–¹æ³•ä¼šé‡‡ç”¨ä¸Integerç±»çš„valueOfæ–¹æ³•ä¸åŒçš„å®ç°ã€‚å¾ˆç®€å•ï¼šåœ¨æŸä¸ªèŒƒå›´å†…çš„æ•´å‹æ•°å€¼çš„ä¸ªæ•°æ˜¯æœ‰é™çš„ï¼Œè€Œæµ®ç‚¹æ•°å´ä¸æ˜¯ã€‚</p><p>ã€€ã€€æ³¨æ„ï¼ŒIntegerã€Shortã€Byteã€Characterã€Longè¿™å‡ ä¸ªç±»çš„valueOfæ–¹æ³•çš„å®ç°æ˜¯ç±»ä¼¼çš„ã€‚</p><p>ã€€ã€€ã€€ã€€ã€€Doubleã€Floatçš„valueOfæ–¹æ³•çš„å®ç°æ˜¯ç±»ä¼¼çš„ã€‚ã€€</p><ol start="3"><li>ä»£ç çš„è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆ</li></ol><details>    <summary>ä»£ç çš„è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆ</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class Main &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line"></span><br><span class="line">        Boolean i1 = false;</span><br><span class="line">        Boolean i2 = false;</span><br><span class="line">        Boolean i3 = true;</span><br><span class="line">        Boolean i4 = true;</span><br><span class="line">         </span><br><span class="line">        System.out.println(i1==i2);</span><br><span class="line">        System.out.println(i3==i4);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>è¾“å‡ºç»“æœéƒ½æ˜¯true,è‡³äºä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªç»“æœï¼ŒåŒæ ·åœ°ï¼Œçœ‹äº†Booleanç±»çš„æºç ä¹Ÿä¼šä¸€ç›®äº†ç„¶</p><ol start="4"><li>è°ˆè°ˆInteger i = new Integer(xxx)å’ŒInteger i =xxx;è¿™ä¸¤ç§æ–¹å¼çš„åŒºåˆ«ã€‚</li></ol><p>ã€€ã€€å½“ç„¶ï¼Œè¿™ä¸ªé¢˜ç›®å±äºæ¯”è¾ƒå®½æ³›ç±»å‹çš„ã€‚ä½†æ˜¯è¦ç‚¹ä¸€å®šè¦ç­”ä¸Šï¼Œæˆ‘æ€»ç»“ä¸€ä¸‹ä¸»è¦æœ‰ä»¥ä¸‹è¿™ä¸¤ç‚¹åŒºåˆ«ï¼š</p><p>ã€€ã€€1ï¼‰ç¬¬ä¸€ç§æ–¹å¼ä¸ä¼šè§¦å‘è‡ªåŠ¨è£…ç®±çš„è¿‡ç¨‹ï¼›è€Œç¬¬äºŒç§æ–¹å¼ä¼šè§¦å‘ï¼›</p><p>ã€€ã€€2ï¼‰åœ¨æ‰§è¡Œæ•ˆç‡å’Œèµ„æºå ç”¨ä¸Šçš„åŒºåˆ«ã€‚ç¬¬äºŒç§æ–¹å¼çš„æ‰§è¡Œæ•ˆç‡å’Œèµ„æºå ç”¨åœ¨ä¸€èˆ¬æ€§æƒ…å†µä¸‹è¦ä¼˜äºç¬¬ä¸€ç§æƒ…å†µï¼ˆæ³¨æ„è¿™å¹¶ä¸æ˜¯ç»å¯¹çš„ï¼‰ã€‚</p><ol start="5"><li>ä»£ç çš„è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆ</li></ol><details>    <summary>ä»£ç çš„è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆ</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">public class Main &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">         </span><br><span class="line">        Integer a = 1;</span><br><span class="line">        Integer b = 2;</span><br><span class="line">        Integer c = 3;</span><br><span class="line">        Integer d = 3;</span><br><span class="line">        Integer e = 321;</span><br><span class="line">        Integer f = 321;</span><br><span class="line">        Long g = 3L;</span><br><span class="line">        Long h = 2L;</span><br><span class="line">         </span><br><span class="line">        System.out.println(c==d);</span><br><span class="line">        System.out.println(e==f);</span><br><span class="line">        System.out.println(c==(a+b));</span><br><span class="line">        System.out.println(c.equals(a+b));</span><br><span class="line">        System.out.println(g==(a+b));</span><br><span class="line">        System.out.println(g.equals(a+b));</span><br><span class="line">        System.out.println(g.equals(a+h));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>å½“ â€œ==â€è¿ç®—ç¬¦çš„ä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯åŒ…è£…å™¨ç±»å‹çš„å¼•ç”¨ï¼Œåˆ™æ˜¯æ¯”è¾ƒæŒ‡å‘çš„æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œè€Œå¦‚æœå…¶ä¸­æœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯è¡¨è¾¾å¼ï¼ˆå³åŒ…å«ç®—æœ¯è¿ç®—ï¼‰åˆ™æ¯”è¾ƒçš„æ˜¯æ•°å€¼ï¼ˆå³ä¼šè§¦å‘è‡ªåŠ¨æ‹†ç®±çš„è¿‡ç¨‹ï¼‰ã€‚å¦å¤–ï¼Œå¯¹äºåŒ…è£…å™¨ç±»å‹ï¼Œequalsæ–¹æ³•å¹¶ä¸ä¼šè¿›è¡Œç±»å‹è½¬æ¢ã€‚æ˜ç™½äº†è¿™2ç‚¹ä¹‹åï¼Œä¸Šé¢çš„è¾“å‡ºç»“æœä¾¿ä¸€ç›®äº†ç„¶ï¼š</p><pre><code>truefalsetruetruetruefalsetrue</code></pre><p>ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªè¾“å‡ºç»“æœæ²¡æœ‰ä»€ä¹ˆç–‘é—®ã€‚ç¬¬ä¸‰å¥ç”±äº  a+båŒ…å«äº†ç®—æœ¯è¿ç®—ï¼Œå› æ­¤ä¼šè§¦å‘è‡ªåŠ¨æ‹†ç®±è¿‡ç¨‹ï¼ˆä¼šè°ƒç”¨intValueæ–¹æ³•ï¼‰ï¼Œå› æ­¤å®ƒä»¬æ¯”è¾ƒçš„æ˜¯æ•°å€¼æ˜¯å¦ç›¸ç­‰ã€‚è€Œå¯¹äºc.equals(a+b)ä¼šå…ˆè§¦å‘è‡ªåŠ¨æ‹†ç®±è¿‡ç¨‹ï¼Œå†è§¦å‘è‡ªåŠ¨è£…ç®±è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´a+bï¼Œä¼šå…ˆå„è‡ªè°ƒç”¨intValueæ–¹æ³•ï¼Œå¾—åˆ°äº†åŠ æ³•è¿ç®—åçš„æ•°å€¼ä¹‹åï¼Œä¾¿è°ƒç”¨Integer.valueOfæ–¹æ³•ï¼Œå†è¿›è¡Œequalsæ¯”è¾ƒã€‚åŒç†å¯¹äºåé¢çš„ä¹Ÿæ˜¯è¿™æ ·ï¼Œä¸è¿‡è¦æ³¨æ„å€’æ•°ç¬¬äºŒä¸ªå’Œæœ€åä¸€ä¸ªè¾“å‡ºçš„ç»“æœï¼ˆå¦‚æœæ•°å€¼æ˜¯intç±»å‹çš„ï¼Œè£…ç®±è¿‡ç¨‹è°ƒç”¨çš„æ˜¯Integer.valueOfï¼›å¦‚æœæ˜¯longç±»å‹çš„ï¼Œè£…ç®±è°ƒç”¨çš„Long.valueOfæ–¹æ³•ï¼‰ã€‚</p><p>å¦‚æœå¯¹ä¸Šé¢çš„å…·ä½“æ‰§è¡Œè¿‡ç¨‹æœ‰ç–‘é—®ï¼Œå¯ä»¥å°è¯•è·å–åç¼–è¯‘çš„å­—èŠ‚ç å†…å®¹è¿›è¡ŒæŸ¥çœ‹ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è£…ç®±å’Œæ‹†ç®±&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´2æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B42%E6%9C%88/"/>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>JavaåŸºç¡€çŸ¥è¯†-é‡å†™ `equals` æ—¶ä¸ºä½•å¿…é¡»é‡å†™ `hashCode` æ–¹æ³•</title>
    <link href="http://yoursite.com/2021/02/22/Java%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-%E9%87%8D%E5%86%99%20%60equals%60%20%E6%97%B6%E4%B8%BA%E4%BD%95%E5%BF%85%E9%A1%BB%E9%87%8D%E5%86%99%20%60hashCode%60%20%E6%96%B9%E6%B3%95/"/>
    <id>http://yoursite.com/2021/02/22/JavaåŸºç¡€çŸ¥è¯†-é‡å†™ `equals` æ—¶ä¸ºä½•å¿…é¡»é‡å†™ `hashCode` æ–¹æ³•/</id>
    <published>2021-02-22T02:00:12.000Z</published>
    <updated>2021-02-22T02:58:44.532Z</updated>
    
    <content type="html"><![CDATA[<p>é‡å†™ <code>equals</code> æ—¶ä¸ºä½•å¿…é¡»é‡å†™ <code>hashCode</code> æ–¹æ³•</p><a id="more"></a><h1 id="hashCode-ä¸-equals"><a href="#hashCode-ä¸-equals" class="headerlink" title="hashCode()ä¸ equals()"></a>hashCode()ä¸ equals()</h1><p>é¢è¯•å®˜å¯èƒ½ä¼šé—®ä½ ï¼šâ€œä½ é‡å†™è¿‡ <code>hashcode</code> å’Œ <code>equals</code>ä¹ˆï¼Œä¸ºä»€ä¹ˆé‡å†™ <code>equals</code> æ—¶å¿…é¡»é‡å†™ <code>hashCode</code> æ–¹æ³•ï¼Ÿâ€</p><p><strong>1)hashCode()ä»‹ç»:</strong></p><p><code>hashCode()</code> çš„ä½œç”¨æ˜¯è·å–å“ˆå¸Œç ï¼Œä¹Ÿç§°ä¸ºæ•£åˆ—ç ï¼›å®ƒå®é™…ä¸Šæ˜¯è¿”å›ä¸€ä¸ª int æ•´æ•°ã€‚è¿™ä¸ªå“ˆå¸Œç çš„ä½œç”¨æ˜¯ç¡®å®šè¯¥å¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­çš„ç´¢å¼•ä½ç½®ã€‚<code>hashCode()</code>å®šä¹‰åœ¨ JDK çš„ <code>Object</code> ç±»ä¸­ï¼Œè¿™å°±æ„å‘³ç€ Java ä¸­çš„ä»»ä½•ç±»éƒ½åŒ…å«æœ‰ <code>hashCode()</code> å‡½æ•°ã€‚å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼š <code>Object</code> çš„ hashcode æ–¹æ³•æ˜¯æœ¬åœ°æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ç”¨ c è¯­è¨€æˆ– c++ å®ç°çš„ï¼Œè¯¥æ–¹æ³•é€šå¸¸ç”¨æ¥å°†å¯¹è±¡çš„ å†…å­˜åœ°å€ è½¬æ¢ä¸ºæ•´æ•°ä¹‹åè¿”å›ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">native</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><p>æ•£åˆ—è¡¨å­˜å‚¨çš„æ˜¯é”®å€¼å¯¹(key-value)ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ï¼šèƒ½æ ¹æ®â€œé”®â€å¿«é€Ÿçš„æ£€ç´¢å‡ºå¯¹åº”çš„â€œå€¼â€ã€‚è¿™å…¶ä¸­å°±åˆ©ç”¨åˆ°äº†æ•£åˆ—ç ï¼ï¼ˆå¯ä»¥å¿«é€Ÿæ‰¾åˆ°æ‰€éœ€è¦çš„å¯¹è±¡ï¼‰</p><p><strong>2)ä¸ºä»€ä¹ˆè¦æœ‰ hashCodeï¼Ÿ</strong></p><p>æˆ‘ä»¬ä»¥â€œ<code>HashSet</code> å¦‚ä½•æ£€æŸ¥é‡å¤â€ä¸ºä¾‹å­æ¥è¯´æ˜ä¸ºä»€ä¹ˆè¦æœ‰ hashCodeï¼Ÿ</p><p>å½“ä½ æŠŠå¯¹è±¡åŠ å…¥ <code>HashSet</code> æ—¶ï¼Œ<code>HashSet</code> ä¼šå…ˆè®¡ç®—å¯¹è±¡çš„ hashcode å€¼æ¥åˆ¤æ–­å¯¹è±¡åŠ å…¥çš„ä½ç½®ï¼ŒåŒæ—¶ä¹Ÿä¼šä¸å…¶ä»–å·²ç»åŠ å…¥çš„å¯¹è±¡çš„ hashcode å€¼ä½œæ¯”è¾ƒï¼Œå¦‚æœæ²¡æœ‰ç›¸ç¬¦çš„ hashcodeï¼Œ<code>HashSet</code> ä¼šå‡è®¾å¯¹è±¡æ²¡æœ‰é‡å¤å‡ºç°ã€‚ä½†æ˜¯å¦‚æœå‘ç°æœ‰ç›¸åŒ hashcode å€¼çš„å¯¹è±¡ï¼Œè¿™æ—¶ä¼šè°ƒç”¨ <code>equals()</code> æ–¹æ³•æ¥æ£€æŸ¥ hashcode ç›¸ç­‰çš„å¯¹è±¡æ˜¯å¦çœŸçš„ç›¸åŒã€‚å¦‚æœä¸¤è€…ç›¸åŒï¼Œ<code>HashSet</code> å°±ä¸ä¼šè®©å…¶åŠ å…¥æ“ä½œæˆåŠŸã€‚å¦‚æœä¸åŒçš„è¯ï¼Œå°±ä¼šé‡æ–°æ•£åˆ—åˆ°å…¶ä»–ä½ç½®ã€‚ï¼ˆæ‘˜è‡ªæˆ‘çš„ Java å¯è’™ä¹¦ã€ŠHead First Javaã€‹ç¬¬äºŒç‰ˆï¼‰ã€‚è¿™æ ·æˆ‘ä»¬å°±å¤§å¤§å‡å°‘äº† equals çš„æ¬¡æ•°ï¼Œç›¸åº”å°±å¤§å¤§æé«˜äº†æ‰§è¡Œé€Ÿåº¦ã€‚</p><p><strong>3)ä¸ºä»€ä¹ˆé‡å†™ <code>equals</code> æ—¶å¿…é¡»é‡å†™ <code>hashCode</code> æ–¹æ³•ï¼Ÿ</strong></p><p>å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œåˆ™ hashcode ä¸€å®šä¹Ÿæ˜¯ç›¸åŒçš„ã€‚ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰,å¯¹ä¸¤ä¸ªå¯¹è±¡åˆ†åˆ«è°ƒç”¨ equals æ–¹æ³•éƒ½è¿”å› trueã€‚ä½†æ˜¯ï¼Œä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„ hashcode å€¼ï¼Œå®ƒä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„ ã€‚<strong>å› æ­¤ï¼Œequals æ–¹æ³•è¢«è¦†ç›–è¿‡ï¼Œåˆ™ <code>hashCode</code> æ–¹æ³•ä¹Ÿå¿…é¡»è¢«è¦†ç›–ã€‚</strong></p><blockquote><p> <code>hashCode()</code>çš„é»˜è®¤è¡Œä¸ºæ˜¯å¯¹å †ä¸Šçš„å¯¹è±¡äº§ç”Ÿç‹¬ç‰¹å€¼ã€‚å¦‚æœæ²¡æœ‰é‡å†™ <code>hashCode()</code>ï¼Œåˆ™è¯¥ class çš„ä¸¤ä¸ªå¯¹è±¡æ— è®ºå¦‚ä½•éƒ½ä¸ä¼šç›¸ç­‰ï¼ˆå³ä½¿è¿™ä¸¤ä¸ªå¯¹è±¡æŒ‡å‘ç›¸åŒçš„æ•°æ®ï¼‰</p></blockquote><p><strong>4)ä¸ºä»€ä¹ˆä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„ hashcode å€¼ï¼Œå®ƒä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„ï¼Ÿ</strong></p><p>åœ¨è¿™é‡Œè§£é‡Šä¸€ä½å°ä¼™ä¼´çš„é—®é¢˜ã€‚ä»¥ä¸‹å†…å®¹æ‘˜è‡ªã€ŠHead Fisrt Javaã€‹ã€‚</p><p>å› ä¸º <code>hashCode()</code> æ‰€ä½¿ç”¨çš„æ‚å‡‘ç®—æ³•ä¹Ÿè®¸åˆšå¥½ä¼šè®©å¤šä¸ªå¯¹è±¡ä¼ å›ç›¸åŒçš„æ‚å‡‘å€¼ã€‚è¶Šç³Ÿç³•çš„æ‚å‡‘ç®—æ³•è¶Šå®¹æ˜“ç¢°æ’ï¼Œä½†è¿™ä¹Ÿä¸æ•°æ®å€¼åŸŸåˆ†å¸ƒçš„ç‰¹æ€§æœ‰å…³ï¼ˆæ‰€è°“ç¢°æ’ä¹Ÿå°±æ˜¯æŒ‡çš„æ˜¯ä¸åŒçš„å¯¹è±¡å¾—åˆ°ç›¸åŒçš„ <code>hashCode</code>ã€‚</p><p>æˆ‘ä»¬åˆšåˆšä¹Ÿæåˆ°äº† <code>HashSet</code>,å¦‚æœ <code>HashSet</code> åœ¨å¯¹æ¯”çš„æ—¶å€™ï¼ŒåŒæ ·çš„ hashcode æœ‰å¤šä¸ªå¯¹è±¡ï¼Œå®ƒä¼šä½¿ç”¨ <code>equals()</code> æ¥åˆ¤æ–­æ˜¯å¦çœŸçš„ç›¸åŒã€‚ä¹Ÿå°±æ˜¯è¯´ <code>hashcode</code> åªæ˜¯ç”¨æ¥ç¼©å°æŸ¥æ‰¾æˆæœ¬ã€‚</p><p>æ›´å¤šå…³äº <code>hashcode()</code> å’Œ <code>equals()</code> çš„å†…å®¹å¯ä»¥æŸ¥çœ‹ï¼š<a href="https://www.cnblogs.com/skywang12345/p/3324958.html" target="_blank" rel="noopener">Java hashCode() å’Œ equals()çš„è‹¥å¹²é—®é¢˜è§£ç­”</a></p><p>ä¸Šé¢çš„è§£é‡Šæˆ‘è¯»èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹å„¿æ‡µï¼Œä»é“¾æ¥é‡Œæˆ‘æ‰çœŸæ­£æ˜ç™½äº†ã€‚</p><p>æˆ‘ä»¬ä»¥â€œç±»çš„ç”¨é€”â€æ¥å°†â€œhashCode() å’Œ equals()çš„å…³ç³»â€åˆ†2ç§æƒ…å†µæ¥è¯´æ˜ã€‚</p><ol><li><p>ç¬¬ä¸€ç§ ä¸ä¼šåˆ›å»ºâ€œç±»å¯¹åº”çš„æ•£åˆ—è¡¨â€</p><p>è¿™é‡Œæ‰€è¯´çš„â€œä¸ä¼šåˆ›å»ºç±»å¯¹åº”çš„æ•£åˆ—è¡¨â€æ˜¯è¯´ï¼šæˆ‘ä»¬ä¸ä¼šåœ¨HashSet, Hashtable, HashMapç­‰ç­‰è¿™äº›æœ¬è´¨æ˜¯æ•£åˆ—è¡¨çš„æ•°æ®ç»“æ„ä¸­ï¼Œç”¨åˆ°è¯¥ç±»ã€‚ä¾‹å¦‚ï¼Œä¸ä¼šåˆ›å»ºè¯¥ç±»çš„HashSeté›†åˆã€‚</p></li></ol><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯¥ç±»çš„â€œhashCode() å’Œ equals() â€æ²¡æœ‰åŠæ¯›é’±å…³ç³»çš„ï¼<br>è¿™ç§æƒ…å†µä¸‹ï¼Œequals() ç”¨æ¥æ¯”è¾ƒè¯¥ç±»çš„ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚è€ŒhashCode() åˆ™æ ¹æœ¬æ²¡æœ‰ä»»ä½•ä½œç”¨ï¼Œæ‰€ä»¥ï¼Œä¸ç”¨ç†ä¼šhashCode()ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬é€šè¿‡ç¤ºä¾‹æŸ¥çœ‹ç±»çš„ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ ä»¥åŠ ä¸ç­‰æ—¶hashCode()çš„å–å€¼ã€‚</p><p>æºç å¦‚ä¸‹ (NormalHashCodeTest.java)ï¼š</p><details>    <summary>NormalHashCodeTest</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line">import java.lang.Comparable;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @desc æ¯”è¾ƒequals() è¿”å›true ä»¥åŠ è¿”å›falseæ—¶ï¼Œ hashCode()çš„å€¼ã€‚</span><br><span class="line"> *</span><br><span class="line"> * @author skywang</span><br><span class="line"> * @emai kuiwu-wang@163.com</span><br><span class="line"> */</span><br><span class="line">public class NormalHashCodeTest&#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // æ–°å»º2ä¸ªç›¸åŒå†…å®¹çš„Personå¯¹è±¡ï¼Œ</span><br><span class="line">        // å†ç”¨equalsæ¯”è¾ƒå®ƒä»¬æ˜¯å¦ç›¸ç­‰</span><br><span class="line">        Person p1 = new Person(&quot;eee&quot;, 100);</span><br><span class="line">        Person p2 = new Person(&quot;eee&quot;, 100);</span><br><span class="line">        Person p3 = new Person(&quot;aaa&quot;, 200);</span><br><span class="line">        System.out.printf(&quot;p1.equals(p2) : %s; p1(%d) p2(%d)\n&quot;, p1.equals(p2), p1.hashCode(), p2.hashCode());</span><br><span class="line">        System.out.printf(&quot;p1.equals(p3) : %s; p1(%d) p3(%d)\n&quot;, p1.equals(p3), p1.hashCode(), p3.hashCode());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * @desc Personç±»ã€‚</span><br><span class="line">     */</span><br><span class="line">    private static class Person &#123;</span><br><span class="line">        int age;</span><br><span class="line">        String name;</span><br><span class="line"></span><br><span class="line">        public Person(String name, int age) &#123;</span><br><span class="line">            this.name = name;</span><br><span class="line">            this.age = age;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public String toString() &#123;</span><br><span class="line">            return name + &quot; - &quot; +age;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * @desc è¦†ç›–equalsæ–¹æ³•</span><br><span class="line">         */</span><br><span class="line">        public boolean equals(Object obj)&#123;</span><br><span class="line">            if(obj == null)&#123;</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            //å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡è¿”å›trueï¼Œåä¹‹è¿”å›false</span><br><span class="line">            if(this == obj)&#123;</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            //åˆ¤æ–­æ˜¯å¦ç±»å‹ç›¸åŒ</span><br><span class="line">            if(this.getClass() != obj.getClass())&#123;</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Person person = (Person)obj;</span><br><span class="line">            return name.equals(person.name) &amp;&amp; age==person.age;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>è¿è¡Œç»“æœï¼š</p><pre><code>p1.equals(p2) : true; p1(1169863946) p2(1901116749)p1.equals(p3) : false; p1(1169863946) p3(2131949076)</code></pre><p>ä»ç»“æœä¹Ÿå¯ä»¥çœ‹å‡ºï¼šp1å’Œp2ç›¸ç­‰çš„æƒ…å†µä¸‹ï¼ŒhashCode()ä¹Ÿä¸ä¸€å®šç›¸ç­‰ã€‚</p><ol start="2"><li>ç¬¬äºŒç§ ä¼šåˆ›å»ºâ€œç±»å¯¹åº”çš„æ•£åˆ—è¡¨â€</li></ol><p>è¿™é‡Œæ‰€è¯´çš„â€œä¼šåˆ›å»ºç±»å¯¹åº”çš„æ•£åˆ—è¡¨â€æ˜¯è¯´ï¼šæˆ‘ä»¬ä¼šåœ¨HashSet, Hashtable, HashMapç­‰ç­‰è¿™äº›æœ¬è´¨æ˜¯æ•£åˆ—è¡¨çš„æ•°æ®ç»“æ„ä¸­ï¼Œç”¨åˆ°è¯¥ç±»ã€‚ä¾‹å¦‚ï¼Œä¼šåˆ›å»ºè¯¥ç±»çš„HashSeté›†åˆã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯¥ç±»çš„â€œhashCode() å’Œ equals() â€æ˜¯æœ‰å…³ç³»çš„ï¼š</p><p>1)ã€å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œé‚£ä¹ˆå®ƒä»¬çš„hashCode()å€¼ä¸€å®šç›¸åŒã€‚<br>      è¿™é‡Œçš„ç›¸ç­‰æ˜¯æŒ‡ï¼Œé€šè¿‡equals()æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ—¶è¿”å›trueã€‚</p><p>2)ã€å¦‚æœä¸¤ä¸ªå¯¹è±¡hashCode()ç›¸ç­‰ï¼Œå®ƒä»¬å¹¶ä¸ä¸€å®šç›¸ç­‰ã€‚<br>       å› ä¸ºåœ¨æ•£åˆ—è¡¨ä¸­ï¼ŒhashCode()ç›¸ç­‰ï¼Œå³ä¸¤ä¸ªé”®å€¼å¯¹çš„å“ˆå¸Œå€¼ç›¸ç­‰ã€‚ç„¶è€Œå“ˆå¸Œå€¼ç›¸ç­‰ï¼Œå¹¶ä¸ä¸€å®šèƒ½å¾—å‡ºé”®å€¼å¯¹ç›¸ç­‰ã€‚è¡¥å……è¯´ä¸€å¥ï¼šâ€œä¸¤ä¸ªä¸åŒçš„é”®å€¼å¯¹ï¼Œå“ˆå¸Œå€¼ç›¸ç­‰â€ï¼Œè¿™å°±æ˜¯å“ˆå¸Œå†²çªã€‚</p><p>æ­¤å¤–ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ã€‚è‹¥è¦åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œé™¤äº†è¦è¦†ç›–equals()ä¹‹å¤–ï¼Œä¹Ÿè¦è¦†ç›–hashCode()å‡½æ•°ã€‚å¦åˆ™ï¼Œequals()æ— æ•ˆã€‚<br>ä¾‹å¦‚ï¼Œåˆ›å»ºPersonç±»çš„HashSeté›†åˆï¼Œå¿…é¡»åŒæ—¶è¦†ç›–Personç±»çš„equals() å’Œ hashCode()æ–¹æ³•ã€‚<br>        å¦‚æœå•å•åªæ˜¯è¦†ç›–equals()æ–¹æ³•ã€‚æˆ‘ä»¬ä¼šå‘ç°ï¼Œequals()æ–¹æ³•æ²¡æœ‰è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚</p><p>å‚è€ƒä»£ç  (ConflictHashCodeTest1.java)ï¼š</p><details>    <summary>ConflictHashCodeTest1</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line">import java.lang.Comparable;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @desc æ¯”è¾ƒequals() è¿”å›true ä»¥åŠ è¿”å›falseæ—¶ï¼Œ hashCode()çš„å€¼ã€‚</span><br><span class="line"> *</span><br><span class="line"> * @author skywang</span><br><span class="line"> * @emai kuiwu-wang@163.com</span><br><span class="line"> */</span><br><span class="line">public class ConflictHashCodeTest1&#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // æ–°å»ºPersonå¯¹è±¡ï¼Œ</span><br><span class="line">        Person p1 = new Person(&quot;eee&quot;, 100);</span><br><span class="line">        Person p2 = new Person(&quot;eee&quot;, 100);</span><br><span class="line">        Person p3 = new Person(&quot;aaa&quot;, 200);</span><br><span class="line"></span><br><span class="line">        // æ–°å»ºHashSetå¯¹è±¡</span><br><span class="line">        HashSet set = new HashSet();</span><br><span class="line">        set.add(p1);</span><br><span class="line">        set.add(p2);</span><br><span class="line">        set.add(p3);</span><br><span class="line"></span><br><span class="line">        // æ¯”è¾ƒp1 å’Œ p2ï¼Œ å¹¶æ‰“å°å®ƒä»¬çš„hashCode()</span><br><span class="line">        System.out.printf(&quot;p1.equals(p2) : %s; p1(%d) p2(%d)\n&quot;, p1.equals(p2), p1.hashCode(), p2.hashCode());</span><br><span class="line">        // æ‰“å°set</span><br><span class="line">        System.out.printf(&quot;set:%s\n&quot;, set);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * @desc Personç±»ã€‚</span><br><span class="line">     */</span><br><span class="line">    private static class Person &#123;</span><br><span class="line">        int age;</span><br><span class="line">        String name;</span><br><span class="line"></span><br><span class="line">        public Person(String name, int age) &#123;</span><br><span class="line">            this.name = name;</span><br><span class="line">            this.age = age;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public String toString() &#123;</span><br><span class="line">            return &quot;(&quot;+name + &quot;, &quot; +age+&quot;)&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * @desc è¦†ç›–equalsæ–¹æ³•</span><br><span class="line">         */</span><br><span class="line">        @Override</span><br><span class="line">        public boolean equals(Object obj)&#123;</span><br><span class="line">            if(obj == null)&#123;</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            //å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡è¿”å›trueï¼Œåä¹‹è¿”å›false</span><br><span class="line">            if(this == obj)&#123;</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            //åˆ¤æ–­æ˜¯å¦ç±»å‹ç›¸åŒ</span><br><span class="line">            if(this.getClass() != obj.getClass())&#123;</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Person person = (Person)obj;</span><br><span class="line">            return name.equals(person.name) &amp;&amp; age==person.age;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>è¿è¡Œç»“æœï¼š<pre><code>p1.equals(p2) : true; p1(1169863946) p2(1690552137)set:[(eee, 100), (eee, 100), (aaa, 200)]</code></pre><p>ç»“æœåˆ†æï¼š</p><p>æˆ‘ä»¬é‡å†™äº†Personçš„equals()ã€‚ä½†æ˜¯ï¼Œå¾ˆå¥‡æ€ªçš„å‘ç°ï¼šHashSetä¸­ä»ç„¶æœ‰é‡å¤å…ƒç´ ï¼šp1 å’Œ p2ã€‚ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿ</p><p>è¿™æ˜¯å› ä¸ºè™½ç„¶p1 å’Œ p2çš„å†…å®¹ç›¸ç­‰ï¼Œä½†æ˜¯å®ƒä»¬çš„hashCode()ä¸ç­‰ï¼›æ‰€ä»¥ï¼ŒHashSetåœ¨æ·»åŠ p1å’Œp2çš„æ—¶å€™ï¼Œè®¤ä¸ºå®ƒä»¬ä¸ç›¸ç­‰ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬åŒæ—¶è¦†ç›–equals() å’Œ hashCode()æ–¹æ³•ã€‚</p><p>å‚è€ƒä»£ç  (ConflictHashCodeTest2.java)ï¼š</p><details>    <summary>ConflictHashCodeTest2</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">import java.util.*;</span><br><span class="line">import java.lang.Comparable;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @desc æ¯”è¾ƒequals() è¿”å›true ä»¥åŠ è¿”å›falseæ—¶ï¼Œ hashCode()çš„å€¼ã€‚</span><br><span class="line"> *</span><br><span class="line"> * @author skywang</span><br><span class="line"> * @emai kuiwu-wang@163.com</span><br><span class="line"> */</span><br><span class="line">public class ConflictHashCodeTest2&#123;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // æ–°å»ºPersonå¯¹è±¡ï¼Œ</span><br><span class="line">        Person p1 = new Person(&quot;eee&quot;, 100);</span><br><span class="line">        Person p2 = new Person(&quot;eee&quot;, 100);</span><br><span class="line">        Person p3 = new Person(&quot;aaa&quot;, 200);</span><br><span class="line">        Person p4 = new Person(&quot;EEE&quot;, 100);</span><br><span class="line"></span><br><span class="line">        // æ–°å»ºHashSetå¯¹è±¡</span><br><span class="line">        HashSet set = new HashSet();</span><br><span class="line">        set.add(p1);</span><br><span class="line">        set.add(p2);</span><br><span class="line">        set.add(p3);</span><br><span class="line"></span><br><span class="line">        // æ¯”è¾ƒp1 å’Œ p2ï¼Œ å¹¶æ‰“å°å®ƒä»¬çš„hashCode()</span><br><span class="line">        System.out.printf(&quot;p1.equals(p2) : %s; p1(%d) p2(%d)\n&quot;, p1.equals(p2), p1.hashCode(), p2.hashCode());</span><br><span class="line">        // æ¯”è¾ƒp1 å’Œ p4ï¼Œ å¹¶æ‰“å°å®ƒä»¬çš„hashCode()</span><br><span class="line">        System.out.printf(&quot;p1.equals(p4) : %s; p1(%d) p4(%d)\n&quot;, p1.equals(p4), p1.hashCode(), p4.hashCode());</span><br><span class="line">        // æ‰“å°set</span><br><span class="line">        System.out.printf(&quot;set:%s\n&quot;, set);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * @desc Personç±»ã€‚</span><br><span class="line">     */</span><br><span class="line">    private static class Person &#123;</span><br><span class="line">        int age;</span><br><span class="line">        String name;</span><br><span class="line"></span><br><span class="line">        public Person(String name, int age) &#123;</span><br><span class="line">            this.name = name;</span><br><span class="line">            this.age = age;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public String toString() &#123;</span><br><span class="line">            return name + &quot; - &quot; +age;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * @descé‡å†™hashCode</span><br><span class="line">         */</span><br><span class="line">        @Override</span><br><span class="line">        public int hashCode()&#123;</span><br><span class="line">            int nameHash =  name.toUpperCase().hashCode();</span><br><span class="line">            return nameHash ^ age;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * @desc è¦†ç›–equalsæ–¹æ³•</span><br><span class="line">         */</span><br><span class="line">        @Override</span><br><span class="line">        public boolean equals(Object obj)&#123;</span><br><span class="line">            if(obj == null)&#123;</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            //å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡è¿”å›trueï¼Œåä¹‹è¿”å›false</span><br><span class="line">            if(this == obj)&#123;</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            //åˆ¤æ–­æ˜¯å¦ç±»å‹ç›¸åŒ</span><br><span class="line">            if(this.getClass() != obj.getClass())&#123;</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Person person = (Person)obj;</span><br><span class="line">            return name.equals(person.name) &amp;&amp; age==person.age;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>è¿è¡Œç»“æœï¼š</p><pre><code>p1.equals(p2) : true; p1(68545) p2(68545)p1.equals(p4) : false; p1(68545) p4(68545)set:[aaa - 200, eee - 100]</code></pre><p>ç»“æœåˆ†æï¼š</p><p>è¿™ä¸‹ï¼Œequals()ç”Ÿæ•ˆäº†ï¼ŒHashSetä¸­æ²¡æœ‰é‡å¤å…ƒç´ ã€‚<br>æ¯”è¾ƒp1å’Œp2ï¼Œæˆ‘ä»¬å‘ç°ï¼šå®ƒä»¬çš„hashCode()ç›¸ç­‰ï¼Œé€šè¿‡equals()æ¯”è¾ƒå®ƒä»¬ä¹Ÿè¿”å›trueã€‚æ‰€ä»¥ï¼Œp1å’Œp2è¢«è§†ä¸ºç›¸ç­‰ã€‚<br>æ¯”è¾ƒp1å’Œp4ï¼Œæˆ‘ä»¬å‘ç°ï¼šè™½ç„¶å®ƒä»¬çš„hashCode()ç›¸ç­‰ï¼›ä½†æ˜¯ï¼Œé€šè¿‡equals()æ¯”è¾ƒå®ƒä»¬è¿”å›falseã€‚æ‰€ä»¥ï¼Œp1å’Œp4è¢«è§†ä¸ºä¸ç›¸ç­‰ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é‡å†™ &lt;code&gt;equals&lt;/code&gt; æ—¶ä¸ºä½•å¿…é¡»é‡å†™ &lt;code&gt;hashCode&lt;/code&gt; æ–¹æ³•&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´2æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B42%E6%9C%88/"/>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>77. ç»„åˆ</title>
    <link href="http://yoursite.com/2021/02/03/77.%20%E7%BB%84%E5%90%88/"/>
    <id>http://yoursite.com/2021/02/03/77. ç»„åˆ/</id>
    <published>2021-02-03T02:12:12.000Z</published>
    <updated>2021-02-19T08:30:24.077Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸¤ä¸ªæ•´æ•° n å’Œ kï¼Œè¿”å› 1 â€¦ n ä¸­æ‰€æœ‰å¯èƒ½çš„ k ä¸ªæ•°çš„ç»„åˆã€‚</p><a id="more"></a><p>ç¤ºä¾‹:</p><pre><code>è¾“å…¥: n = 4, k = 2è¾“å‡º:[  [2,4],  [3,4],  [2,3],  [1,2],  [1,3],  [1,4],]</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šé€’å½’å®ç°ç»„åˆå‹æšä¸¾"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’å®ç°ç»„åˆå‹æšä¸¾" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’å®ç°ç»„åˆå‹æšä¸¾"></a>æ–¹æ³•ä¸€ï¼šé€’å½’å®ç°ç»„åˆå‹æšä¸¾</h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>ä» <em>n</em> ä¸ªå½“ä¸­é€‰ <em>k</em> ä¸ªçš„æ‰€æœ‰æ–¹æ¡ˆå¯¹åº”çš„æšä¸¾æ˜¯ç»„åˆå‹æšä¸¾ã€‚åœ¨ã€Œæ–¹æ³•ä¸€ã€ä¸­æˆ‘ä»¬ç”¨é€’å½’æ¥å®ç°ç»„åˆå‹æšä¸¾ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬å…ˆå›å¿†ä¸€ä¸‹å¦‚ä½•ç”¨é€’å½’å®ç°äºŒè¿›åˆ¶æšä¸¾ï¼ˆå­é›†æšä¸¾ï¼‰ï¼Œå‡è®¾æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªé•¿åº¦ä¸º <em>n</em> çš„åºåˆ— <em>a</em> çš„æ‰€æœ‰å­åºåˆ—ï¼Œä»£ç æ¡†æ¶æ˜¯è¿™æ ·çš„ï¼š</p><details>    <summary>äºŒè¿›åˆ¶æšä¸¾</summary><figure class="highlight cpp"><figcaption><span>[demo1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (cur == n + <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// è®°å½•ç­”æ¡ˆ</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è€ƒè™‘é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">    temp.push_back(cur);</span><br><span class="line">    dfs(cur + <span class="number">1</span>, n, k);</span><br><span class="line">    temp.pop_back();</span><br><span class="line">    <span class="comment">// è€ƒè™‘ä¸é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">    dfs(cur + <span class="number">1</span>, n, k);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>è§<a href="https://leetcode-cn.com/problems/combinations/solution/zu-he-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></p><details>    <summary>äºŒè¿›åˆ¶æšä¸¾</summary><figure class="highlight cpp"><figcaption><span>[demo2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è®°å½•åˆæ³•çš„ç­”æ¡ˆ</span></span><br><span class="line">    <span class="keyword">if</span> (temp.size() == k) &#123;</span><br><span class="line">        ans.push_back(temp);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// cur == n + 1 çš„æ—¶å€™ç»“æŸé€’å½’</span></span><br><span class="line">    <span class="keyword">if</span> (cur == n + <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è€ƒè™‘é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">    temp.push_back(cur);</span><br><span class="line">    dfs(cur + <span class="number">1</span>, n, k);</span><br><span class="line">    temp.pop_back();</span><br><span class="line">    <span class="comment">// è€ƒè™‘ä¸é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">    dfs(cur + <span class="number">1</span>, n, k);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥åšä¸€ä¸ªå‰ªæï¼Œå¦‚æœå½“å‰ temp çš„å¤§å°ä¸º <em>s</em>ï¼Œæœªç¡®å®šçŠ¶æ€çš„åŒºé—´curçš„é•¿åº¦ä¸º <em>t</em>ï¼Œå¦‚æœ <em>s + t &lt; k*ï¼Œé‚£ä¹ˆå³ä½¿ *t</em> ä¸ªéƒ½è¢«é€‰ä¸­ï¼Œä¹Ÿä¸å¯èƒ½æ„é€ å‡ºä¸€ä¸ªé•¿åº¦ä¸º <em>k</em> çš„åºåˆ—ï¼Œæ•…è¿™ç§æƒ…å†µå°±æ²¡æœ‰å¿…è¦ç»§ç»­å‘ä¸‹é€’å½’ï¼Œå³æˆ‘ä»¬å¯ä»¥åœ¨æ¯æ¬¡é€’å½’å¼€å§‹çš„æ—¶å€™åšä¸€æ¬¡è¿™æ ·çš„åˆ¤æ–­ï¼š</p><figure class="highlight cpp"><figcaption><span>[demo3-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (temp.size() + (n - cur + <span class="number">1</span>) &lt; k) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç å°±å˜æˆäº†è¿™æ ·ï¼š</p><details>    <summary>äºŒè¿›åˆ¶æšä¸¾</summary><figure class="highlight cpp"><figcaption><span>[demo4-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å‰ªæï¼štemp é•¿åº¦åŠ ä¸ŠåŒºé—´ [cur, n] çš„é•¿åº¦å°äº kï¼Œä¸å¯èƒ½æ„é€ å‡ºé•¿åº¦ä¸º k çš„ temp</span></span><br><span class="line">    <span class="keyword">if</span> (temp.size() + (n - cur + <span class="number">1</span>) &lt; k) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è®°å½•åˆæ³•çš„ç­”æ¡ˆ</span></span><br><span class="line">    <span class="keyword">if</span> (temp.size() == k) &#123;</span><br><span class="line">        ans.push_back(temp);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// cur == n + 1 çš„æ—¶å€™ç»“æŸé€’å½’</span></span><br><span class="line">    <span class="keyword">if</span> (cur == n + <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è€ƒè™‘é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">    temp.push_back(cur);</span><br><span class="line">    dfs(cur + <span class="number">1</span>, n, k);</span><br><span class="line">    temp.pop_back();</span><br><span class="line">    <span class="comment">// è€ƒè™‘ä¸é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">    dfs(cur + <span class="number">1</span>, n, k);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>å‰ªææ–¹æ³•è§<a href="https://leetcode-cn.com/problems/combinations/solution/zu-he-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></p><p><strong>ä»£ç </strong></p><details>    <summary>äºŒè¿›åˆ¶æšä¸¾C++</summary><figure class="highlight cpp"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; ans;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å‰ªæï¼štemp é•¿åº¦åŠ ä¸ŠåŒºé—´ [cur, n] çš„é•¿åº¦å°äº kï¼Œä¸å¯èƒ½æ„é€ å‡ºé•¿åº¦ä¸º k çš„ temp</span></span><br><span class="line">        <span class="keyword">if</span> (temp.size() + (n - cur + <span class="number">1</span>) &lt; k) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è®°å½•åˆæ³•çš„ç­”æ¡ˆ</span></span><br><span class="line">        <span class="keyword">if</span> (temp.size() == k) &#123;</span><br><span class="line">            ans.push_back(temp);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è€ƒè™‘é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">        temp.push_back(cur);</span><br><span class="line">        dfs(cur + <span class="number">1</span>, n, k);</span><br><span class="line">        temp.pop_back();</span><br><span class="line">        <span class="comment">// è€ƒè™‘ä¸é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">        dfs(cur + <span class="number">1</span>, n, k);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; combine(<span class="keyword">int</span> n, <span class="keyword">int</span> k) &#123;</span><br><span class="line">        dfs(<span class="number">1</span>, n, k);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒè¿›åˆ¶æšä¸¾Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; temp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combine(<span class="keyword">int</span> n, <span class="keyword">int</span> k) &#123;</span><br><span class="line">        dfs(<span class="number">1</span>, n, k);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å‰ªæï¼štemp é•¿åº¦åŠ ä¸ŠåŒºé—´ [cur, n] çš„é•¿åº¦å°äº kï¼Œä¸å¯èƒ½æ„é€ å‡ºé•¿åº¦ä¸º k çš„ temp</span></span><br><span class="line">        <span class="keyword">if</span> (temp.size() + (n - cur + <span class="number">1</span>) &lt; k) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è®°å½•åˆæ³•çš„ç­”æ¡ˆ</span></span><br><span class="line">        <span class="keyword">if</span> (temp.size() == k) &#123;</span><br><span class="line">            ans.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(temp));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è€ƒè™‘é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">        temp.add(cur);</span><br><span class="line">        dfs(cur + <span class="number">1</span>, n, k);</span><br><span class="line">        temp.remove(temp.size() - <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// è€ƒè™‘ä¸é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">        dfs(cur + <span class="number">1</span>, n, k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒè¿›åˆ¶æšä¸¾JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> combine = <span class="function"><span class="keyword">function</span>(<span class="params">n, k</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> ans = [];</span><br><span class="line">    <span class="keyword">const</span> dfs = <span class="function">(<span class="params">cur, n, k, temp</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// å‰ªæï¼štemp é•¿åº¦åŠ ä¸ŠåŒºé—´ [cur, n] çš„é•¿åº¦å°äº kï¼Œä¸å¯èƒ½æ„é€ å‡ºé•¿åº¦ä¸º k çš„ temp</span></span><br><span class="line">        <span class="keyword">if</span> (temp.length + (n - cur + <span class="number">1</span>) &lt; k) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è®°å½•åˆæ³•çš„ç­”æ¡ˆ</span></span><br><span class="line">        <span class="keyword">if</span> (temp.length == k) &#123;</span><br><span class="line">            ans.push(temp);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è€ƒè™‘é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">        dfs(cur + <span class="number">1</span>, n, k, [...temp, cur]);</span><br><span class="line">        <span class="comment">// è€ƒè™‘ä¸é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">        dfs(cur + <span class="number">1</span>, n, k, temp);</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(<span class="number">1</span>, n, k, []);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒè¿›åˆ¶æšä¸¾Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">combine</span><span class="params">(n <span class="keyword">int</span>, k <span class="keyword">int</span>)</span> <span class="params">(ans [][]<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">temp := []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(<span class="keyword">int</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">dfs</span> = <span class="title">func</span><span class="params">(cur <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"><span class="comment">// å‰ªæï¼štemp é•¿åº¦åŠ ä¸ŠåŒºé—´ [cur, n] çš„é•¿åº¦å°äº kï¼Œä¸å¯èƒ½æ„é€ å‡ºé•¿åº¦ä¸º k çš„ temp</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(temp) + (n - cur + <span class="number">1</span>) &lt; k &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è®°å½•åˆæ³•çš„ç­”æ¡ˆ</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(temp) == k &#123;</span><br><span class="line">comb := <span class="built_in">make</span>([]<span class="keyword">int</span>, k)</span><br><span class="line"><span class="built_in">copy</span>(comb, temp)</span><br><span class="line">ans = <span class="built_in">append</span>(ans, comb)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è€ƒè™‘é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">temp = <span class="built_in">append</span>(temp, cur)</span><br><span class="line">dfs(cur + <span class="number">1</span>)</span><br><span class="line">temp = temp[:<span class="built_in">len</span>(temp)<span class="number">-1</span>]</span><br><span class="line"><span class="comment">// è€ƒè™‘ä¸é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">dfs(cur + <span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line">dfs(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒè¿›åˆ¶æšä¸¾C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>* temp;</span><br><span class="line"><span class="keyword">int</span> tempSize;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span>** ans;</span><br><span class="line"><span class="keyword">int</span> ansSize;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å‰ªæï¼štemp é•¿åº¦åŠ ä¸ŠåŒºé—´ [cur, n] çš„é•¿åº¦å°äº kï¼Œä¸å¯èƒ½æ„é€ å‡ºé•¿åº¦ä¸º k çš„ temp</span></span><br><span class="line">    <span class="keyword">if</span> (tempSize + (n - cur + <span class="number">1</span>) &lt; k) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è®°å½•åˆæ³•çš„ç­”æ¡ˆ</span></span><br><span class="line">    <span class="keyword">if</span> (tempSize == k) &#123;</span><br><span class="line">        <span class="keyword">int</span>* tmp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * k);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">            tmp[i] = temp[i];</span><br><span class="line">        &#125;</span><br><span class="line">        ans[ansSize++] = tmp;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è€ƒè™‘é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">    temp[tempSize++] = cur;</span><br><span class="line">    dfs(cur + <span class="number">1</span>, n, k);</span><br><span class="line">    tempSize--;</span><br><span class="line">    <span class="comment">// è€ƒè™‘ä¸é€‰æ‹©å½“å‰ä½ç½®</span></span><br><span class="line">    dfs(cur + <span class="number">1</span>, n, k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>** <span class="title">combine</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k, <span class="keyword">int</span>* returnSize, <span class="keyword">int</span>** returnColumnSizes)</span> </span>&#123;</span><br><span class="line">    temp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * k);</span><br><span class="line">    ans = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * <span class="number">10001</span>);</span><br><span class="line">    tempSize = ansSize = <span class="number">0</span>;</span><br><span class="line">    dfs(<span class="number">1</span>, n, k);</span><br><span class="line">    *returnSize = ansSize;</span><br><span class="line">    *returnColumnSizes = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * ansSize);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ansSize; i++) &#123;</span><br><span class="line">        (*returnColumnSizes)[i] = k;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><p>è§<a href="https://leetcode-cn.com/problems/combinations/solution/zu-he-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></p><h1 id="æ–¹æ³•äºŒï¼šéé€’å½’ï¼ˆå­—å…¸åºæ³•ï¼‰å®ç°ç»„åˆå‹æšä¸¾"><a href="#æ–¹æ³•äºŒï¼šéé€’å½’ï¼ˆå­—å…¸åºæ³•ï¼‰å®ç°ç»„åˆå‹æšä¸¾" class="headerlink" title="æ–¹æ³•äºŒï¼šéé€’å½’ï¼ˆå­—å…¸åºæ³•ï¼‰å®ç°ç»„åˆå‹æšä¸¾"></a>æ–¹æ³•äºŒï¼šéé€’å½’ï¼ˆå­—å…¸åºæ³•ï¼‰å®ç°ç»„åˆå‹æšä¸¾</h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p><strong>å°è´´å£«ï¼šè¿™ä¸ªæ–¹æ³•ç†è§£èµ·æ¥æ¯”ã€Œæ–¹æ³•ä¸€ã€å¤æ‚ï¼Œå»ºè®®è¯»è€…é‡åˆ°ä¸ç†è§£çš„åœ°æ–¹å¯ä»¥åœ¨è‰ç¨¿çº¸ä¸Šä¸¾ä¾‹æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹ã€‚</strong></p><p>è¿™é‡Œçš„éé€’å½’ç‰ˆä¸æ˜¯ç®€å•çš„ç”¨æ ˆæ¨¡æ‹Ÿé€’å½’è½¬åŒ–ä¸ºéé€’å½’ï¼šæˆ‘ä»¬å¸Œæœ›é€šè¿‡åˆé€‚çš„æ‰‹æ®µï¼Œæ¶ˆé™¤é€’å½’æ ˆå¸¦æ¥çš„é¢å¤–ç©ºé—´ä»£ä»·ã€‚</p><p>å‡è®¾æˆ‘ä»¬æŠŠåŸåºåˆ—ä¸­è¢«é€‰ä¸­çš„ä½ç½®è®°ä¸º <em>1</em>ï¼Œä¸è¢«é€‰ä¸­çš„ä½ç½®è®°ä¸º <em>0</em>ï¼Œå¯¹äºæ¯ä¸ªæ–¹æ¡ˆéƒ½å¯ä»¥æ„é€ å‡ºä¸€ä¸ªäºŒè¿›åˆ¶æ•°ã€‚æˆ‘ä»¬è®©åŸåºåˆ—ä»å¤§åˆ°å°æ’åˆ—ã€‚æˆ‘ä»¬å…ˆçœ‹ä¸€çœ‹ <em>n = 4<em>ï¼Œ</em>k = 2</em> çš„ä¾‹å­ï¼š</p><table><thead><tr><th>åŸåºåˆ—ä¸­è¢«é€‰ä¸­çš„æ•°</th><th>å¯¹åº”çš„äºŒè¿›åˆ¶æ•°</th><th>æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><em>43[2][1]</em></td><td><em>0011</em></td><td><em>2, 1</em></td></tr><tr><td><em>4[3]2[1]</em></td><td><em>0101</em></td><td><em>3, 1</em></td></tr><tr><td><em>4[3][2]1</em></td><td><em>0110</em></td><td><em>3, 2</em></td></tr><tr><td><em>[4]32[1]</em></td><td><em>1001</em></td><td><em>4, 1</em></td></tr><tr><td><em>[4]3[2]1</em></td><td><em>1010</em></td><td><em>4, 2</em></td></tr><tr><td><em>[4][3]21</em></td><td><em>1100</em></td><td><em>4, 3</em></td></tr></tbody></table><p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºã€Œå¯¹åº”çš„äºŒè¿›åˆ¶æ•°ã€ä¸€åˆ—åŒ…å«äº†ç”± <em>k</em> ä¸ª <em>1</em> å’Œ <em>n - k</em> ä¸ª <em>0</em> ç»„æˆçš„æ‰€æœ‰äºŒè¿›åˆ¶æ•°ï¼Œå¹¶ä¸”æŒ‰ç…§å­—å…¸åºæ’åˆ—ã€‚è¿™ç»™äº†æˆ‘ä»¬ä¸€äº›å¯å‘ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸç§æ–¹æ³•æšä¸¾ï¼Œä½¿å¾—ç”Ÿæˆçš„åºåˆ—æ˜¯æ ¹æ®å­—å…¸åºé€’å¢çš„ã€‚æˆ‘ä»¬å¯ä»¥è€ƒè™‘æˆ‘ä»¬ä¸€ä¸ªäºŒè¿›åˆ¶æ•°æ•°å­— <em>x</em>ï¼Œå®ƒç”± <em>k</em> ä¸ª <em>1</em> å’Œ <em>n - k</em> ä¸ª <em>0</em> ç»„æˆï¼Œè§<a href="https://leetcode-cn.com/problems/combinations/solution/zu-he-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></p><p><strong>ä»£ç </strong></p><details>    <summary>éé€’å½’ï¼ˆå­—å…¸åºæ³•ï¼‰å®ç°ç»„åˆå‹æšä¸¾C++</summary><figure class="highlight cpp"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; ans;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; combine(<span class="keyword">int</span> n, <span class="keyword">int</span> k) &#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">        <span class="comment">// å°† temp ä¸­ [0, k - 1] æ¯ä¸ªä½ç½® i è®¾ç½®ä¸º i + 1ï¼Œå³ [0, k - 1] å­˜ [1, k]</span></span><br><span class="line">        <span class="comment">// æœ«å°¾åŠ ä¸€ä½ n + 1 ä½œä¸ºå“¨å…µ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; ++i) &#123;</span><br><span class="line">            temp.push_back(i);</span><br><span class="line">        &#125;</span><br><span class="line">        temp.push_back(n + <span class="number">1</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (j &lt; k) &#123;</span><br><span class="line">            ans.emplace_back(temp.begin(), temp.begin() + k);</span><br><span class="line">            j = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// å¯»æ‰¾ç¬¬ä¸€ä¸ª temp[j] + 1 != temp[j + 1] çš„ä½ç½® t</span></span><br><span class="line">            <span class="comment">// æˆ‘ä»¬éœ€è¦æŠŠ [0, t - 1] åŒºé—´å†…çš„æ¯ä¸ªä½ç½®é‡ç½®æˆ [1, t]</span></span><br><span class="line">            <span class="keyword">while</span> (j &lt; k &amp;&amp; temp[j] + <span class="number">1</span> == temp[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                temp[j] = j + <span class="number">1</span>;</span><br><span class="line">                ++j;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// j æ˜¯ç¬¬ä¸€ä¸ª temp[j] + 1 != temp[j + 1] çš„ä½ç½®</span></span><br><span class="line">            ++temp[j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>éé€’å½’ï¼ˆå­—å…¸åºæ³•ï¼‰å®ç°ç»„åˆå‹æšä¸¾Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; temp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combine(<span class="keyword">int</span> n, <span class="keyword">int</span> k) &#123;</span><br><span class="line">        List&lt;Integer&gt; temp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">        <span class="comment">// å°† temp ä¸­ [0, k - 1] æ¯ä¸ªä½ç½® i è®¾ç½®ä¸º i + 1ï¼Œå³ [0, k - 1] å­˜ [1, k]</span></span><br><span class="line">        <span class="comment">// æœ«å°¾åŠ ä¸€ä½ n + 1 ä½œä¸ºå“¨å…µ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; ++i) &#123;</span><br><span class="line">            temp.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">        temp.add(n + <span class="number">1</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (j &lt; k) &#123;</span><br><span class="line">            ans.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(temp.subList(<span class="number">0</span>, k)));</span><br><span class="line">            j = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// å¯»æ‰¾ç¬¬ä¸€ä¸ª temp[j] + 1 != temp[j + 1] çš„ä½ç½® t</span></span><br><span class="line">            <span class="comment">// æˆ‘ä»¬éœ€è¦æŠŠ [0, t - 1] åŒºé—´å†…çš„æ¯ä¸ªä½ç½®é‡ç½®æˆ [1, t]</span></span><br><span class="line">            <span class="keyword">while</span> (j &lt; k &amp;&amp; temp.get(j) + <span class="number">1</span> == temp.get(j + <span class="number">1</span>)) &#123;</span><br><span class="line">                temp.set(j, j + <span class="number">1</span>);</span><br><span class="line">                ++j;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// j æ˜¯ç¬¬ä¸€ä¸ª temp[j] + 1 != temp[j + 1] çš„ä½ç½®</span></span><br><span class="line">            temp.set(j, temp.get(j) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>éé€’å½’ï¼ˆå­—å…¸åºæ³•ï¼‰å®ç°ç»„åˆå‹æšä¸¾JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol2-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> combine = <span class="function"><span class="keyword">function</span>(<span class="params">n, k</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> temp = [];</span><br><span class="line">    <span class="keyword">const</span> ans = [];</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">    <span class="comment">// å°† temp ä¸­ [0, k - 1] æ¯ä¸ªä½ç½® i è®¾ç½®ä¸º i + 1ï¼Œå³ [0, k - 1] å­˜ [1, k]</span></span><br><span class="line">    <span class="comment">// æœ«å°¾åŠ ä¸€ä½ n + 1 ä½œä¸ºå“¨å…µ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= k; ++i) &#123;</span><br><span class="line">        temp.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    temp.push(n + <span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (j &lt; k) &#123;</span><br><span class="line">        ans.push(temp.slice(<span class="number">0</span>, k));</span><br><span class="line">        j = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// å¯»æ‰¾ç¬¬ä¸€ä¸ª temp[j] + 1 != temp[j + 1] çš„ä½ç½® t</span></span><br><span class="line">        <span class="comment">// æˆ‘ä»¬éœ€è¦æŠŠ [0, t - 1] åŒºé—´å†…çš„æ¯ä¸ªä½ç½®é‡ç½®æˆ [1, t]</span></span><br><span class="line">        <span class="keyword">while</span> (j &lt; k &amp;&amp; temp[j] + <span class="number">1</span> == temp[j + <span class="number">1</span>]) &#123;</span><br><span class="line">            temp[j] = j + <span class="number">1</span>;</span><br><span class="line">            ++j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// j æ˜¯ç¬¬ä¸€ä¸ª temp[j] + 1 != temp[j + 1] çš„ä½ç½®</span></span><br><span class="line">        ++temp[j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>éé€’å½’ï¼ˆå­—å…¸åºæ³•ï¼‰å®ç°ç»„åˆå‹æšä¸¾Golang</summary><figure class="highlight go"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">combine</span><span class="params">(n <span class="keyword">int</span>, k <span class="keyword">int</span>)</span> <span class="params">(ans [][]<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line"><span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line"><span class="comment">// å°† temp ä¸­ [0, k - 1] æ¯ä¸ªä½ç½® i è®¾ç½®ä¸º i + 1ï¼Œå³ [0, k - 1] å­˜ [1, k]</span></span><br><span class="line"><span class="comment">// æœ«å°¾åŠ ä¸€ä½ n + 1 ä½œä¸ºå“¨å…µ</span></span><br><span class="line">temp := []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= k; i++ &#123;</span><br><span class="line">temp = <span class="built_in">append</span>(temp, i)</span><br><span class="line">&#125;</span><br><span class="line">temp = <span class="built_in">append</span>(temp, n+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> j := <span class="number">0</span>; j &lt; k; &#123;</span><br><span class="line">comb := <span class="built_in">make</span>([]<span class="keyword">int</span>, k)</span><br><span class="line"><span class="built_in">copy</span>(comb, temp[:k])</span><br><span class="line">ans = <span class="built_in">append</span>(ans, comb)</span><br><span class="line"><span class="comment">// å¯»æ‰¾ç¬¬ä¸€ä¸ª temp[j] + 1 != temp[j + 1] çš„ä½ç½® t</span></span><br><span class="line"><span class="comment">// æˆ‘ä»¬éœ€è¦æŠŠ [0, t - 1] åŒºé—´å†…çš„æ¯ä¸ªä½ç½®é‡ç½®æˆ [1, t]</span></span><br><span class="line"><span class="keyword">for</span> j = <span class="number">0</span>; j &lt; k &amp;&amp; temp[j]+<span class="number">1</span> == temp[j+<span class="number">1</span>]; j++ &#123;</span><br><span class="line">temp[j] = j + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// j æ˜¯ç¬¬ä¸€ä¸ª temp[j] + 1 != temp[j + 1] çš„ä½ç½®</span></span><br><span class="line">temp[j]++</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>éé€’å½’ï¼ˆå­—å…¸åºæ³•ï¼‰å®ç°ç»„åˆå‹æšä¸¾C</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span>** <span class="title">combine</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k, <span class="keyword">int</span>* returnSize, <span class="keyword">int</span>** returnColumnSizes)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>* temp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * (k + <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">int</span> tempSize = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>** ans = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * <span class="number">10001</span>);</span><br><span class="line">    <span class="keyword">int</span> ansSize = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">    <span class="comment">// å°† temp ä¸­ [0, k - 1] æ¯ä¸ªä½ç½® i è®¾ç½®ä¸º i + 1ï¼Œå³ [0, k - 1] å­˜ [1, k]</span></span><br><span class="line">    <span class="comment">// æœ«å°¾åŠ ä¸€ä½ n + 1 ä½œä¸ºå“¨å…µ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; ++i) &#123;</span><br><span class="line">        temp[i - <span class="number">1</span>] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    temp[k] = n + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (j &lt; k) &#123;</span><br><span class="line">        <span class="keyword">int</span>* tmp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * k);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">            tmp[i] = temp[i];</span><br><span class="line">        &#125;</span><br><span class="line">        ans[ansSize++] = tmp;</span><br><span class="line">        j = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// å¯»æ‰¾ç¬¬ä¸€ä¸ª temp[j] + 1 != temp[j + 1] çš„ä½ç½® t</span></span><br><span class="line">        <span class="comment">// æˆ‘ä»¬éœ€è¦æŠŠ [0, t - 1] åŒºé—´å†…çš„æ¯ä¸ªä½ç½®é‡ç½®æˆ [1, t]</span></span><br><span class="line">        <span class="keyword">while</span> (j &lt; k &amp;&amp; temp[j] + <span class="number">1</span> == temp[j + <span class="number">1</span>]) &#123;</span><br><span class="line">            temp[j] = j + <span class="number">1</span>;</span><br><span class="line">            ++j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// j æ˜¯ç¬¬ä¸€ä¸ª temp[j] + 1 != temp[j + 1] çš„ä½ç½®</span></span><br><span class="line">        ++temp[j];</span><br><span class="line">    &#125;</span><br><span class="line">    *returnSize = ansSize;</span><br><span class="line">    *returnColumnSizes = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * ansSize);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ansSize; i++) &#123;</span><br><span class="line">        (*returnColumnSizes)[i] = k;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><p>è§<a href="https://leetcode-cn.com/problems/combinations/solution/zu-he-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸¤ä¸ªæ•´æ•° n å’Œ kï¼Œè¿”å› 1 â€¦ n ä¸­æ‰€æœ‰å¯èƒ½çš„ k ä¸ªæ•°çš„ç»„åˆã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´2æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B42%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Backtracking" scheme="http://yoursite.com/tags/Backtracking/"/>
    
  </entry>
  
  <entry>
    <title>57. æ’å…¥åŒºé—´</title>
    <link href="http://yoursite.com/2021/02/02/57.%20%E6%8F%92%E5%85%A5%E5%8C%BA%E9%97%B4/"/>
    <id>http://yoursite.com/2021/02/02/57. æ’å…¥åŒºé—´/</id>
    <published>2021-02-02T09:12:12.000Z</published>
    <updated>2021-02-03T01:37:17.352Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ª æ— é‡å çš„ ï¼ŒæŒ‰ç…§åŒºé—´èµ·å§‹ç«¯ç‚¹æ’åºçš„åŒºé—´åˆ—è¡¨ã€‚</p><p>åœ¨åˆ—è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°çš„åŒºé—´ï¼Œä½ éœ€è¦ç¡®ä¿åˆ—è¡¨ä¸­çš„åŒºé—´ä»ç„¶æœ‰åºä¸”ä¸é‡å ï¼ˆå¦‚æœæœ‰å¿…è¦çš„è¯ï¼Œå¯ä»¥åˆå¹¶åŒºé—´ï¼‰ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šintervals = [[1,3],[6,9]], newInterval = [2,5]è¾“å‡ºï¼š[[1,5],[6,9]]</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šintervals = [[1,2],[3,5],[6,7],[8,10],[12,16]], newInterval = [4,8]è¾“å‡ºï¼š[[1,2],[3,10],[12,16]]è§£é‡Šï¼šè¿™æ˜¯å› ä¸ºæ–°çš„åŒºé—´ [4,8] ä¸ [3,5],[6,7],[8,10] é‡å ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šintervals = [], newInterval = [5,7]è¾“å‡ºï¼š[[5,7]]</code></pre><p>ç¤ºä¾‹ 4ï¼š</p><pre><code>è¾“å…¥ï¼šintervals = [[1,5]], newInterval = [2,3]è¾“å‡ºï¼š[[1,5]]</code></pre><p>ç¤ºä¾‹ 5ï¼š</p><pre><code>è¾“å…¥ï¼šintervals = [[1,5]], newInterval = [2,7]è¾“å‡ºï¼š[[1,7]]</code></pre><p>æç¤ºï¼š</p><pre><code>0 &lt;= intervals.length &lt;= 104intervals[i].length == 20 &lt;= intervals[i][0] &lt;= intervals[i][1] &lt;= 105intervals æ ¹æ® intervals[i][0] æŒ‰ å‡åº æ’åˆ—newInterval.length == 20 &lt;= newInterval[0] &lt;= newInterval[1] &lt;= 105</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿ"><a href="#æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿ"></a>æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿ</h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>è§<a href="https://leetcode-cn.com/problems/insert-interval/solution/cha-ru-qu-jian-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></p><p><strong>ä»£ç </strong></p><details>    <summary>æ¨¡æ‹ŸC++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; insert(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; intervals, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; newInterval) &#123;</span><br><span class="line">        <span class="keyword">int</span> left = newInterval[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> right = newInterval[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">bool</span> placed = <span class="literal">false</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; ans;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; interval: intervals) &#123;</span><br><span class="line">            <span class="keyword">if</span> (interval[<span class="number">0</span>] &gt; right) &#123;</span><br><span class="line">                <span class="comment">// åœ¨æ’å…¥åŒºé—´çš„å³ä¾§ä¸”æ— äº¤é›†</span></span><br><span class="line">                <span class="keyword">if</span> (!placed) &#123;</span><br><span class="line">                    ans.push_back(&#123;left, right&#125;);</span><br><span class="line">                    placed = <span class="literal">true</span>;                    </span><br><span class="line">                &#125;</span><br><span class="line">                ans.push_back(interval);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (interval[<span class="number">1</span>] &lt; left) &#123;</span><br><span class="line">                <span class="comment">// åœ¨æ’å…¥åŒºé—´çš„å·¦ä¾§ä¸”æ— äº¤é›†</span></span><br><span class="line">                ans.push_back(interval);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// ä¸æ’å…¥åŒºé—´æœ‰äº¤é›†ï¼Œè®¡ç®—å®ƒä»¬çš„å¹¶é›†</span></span><br><span class="line">                left = min(left, interval[<span class="number">0</span>]);</span><br><span class="line">                right = max(right, interval[<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!placed) &#123;</span><br><span class="line">            ans.push_back(&#123;left, right&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ¨¡æ‹ŸJava</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] insert(<span class="keyword">int</span>[][] intervals, <span class="keyword">int</span>[] newInterval) &#123;</span><br><span class="line">        <span class="keyword">int</span> left = newInterval[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> right = newInterval[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">boolean</span> placed = <span class="keyword">false</span>;</span><br><span class="line">        List&lt;<span class="keyword">int</span>[]&gt; ansList = <span class="keyword">new</span> ArrayList&lt;<span class="keyword">int</span>[]&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] interval : intervals) &#123;</span><br><span class="line">            <span class="keyword">if</span> (interval[<span class="number">0</span>] &gt; right) &#123;</span><br><span class="line">                <span class="comment">// åœ¨æ’å…¥åŒºé—´çš„å³ä¾§ä¸”æ— äº¤é›†</span></span><br><span class="line">                <span class="keyword">if</span> (!placed) &#123;</span><br><span class="line">                    ansList.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;left, right&#125;);</span><br><span class="line">                    placed = <span class="keyword">true</span>;                    </span><br><span class="line">                &#125;</span><br><span class="line">                ansList.add(interval);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (interval[<span class="number">1</span>] &lt; left) &#123;</span><br><span class="line">                <span class="comment">// åœ¨æ’å…¥åŒºé—´çš„å·¦ä¾§ä¸”æ— äº¤é›†</span></span><br><span class="line">                ansList.add(interval);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// ä¸æ’å…¥åŒºé—´æœ‰äº¤é›†ï¼Œè®¡ç®—å®ƒä»¬çš„å¹¶é›†</span></span><br><span class="line">                left = Math.min(left, interval[<span class="number">0</span>]);</span><br><span class="line">                right = Math.max(right, interval[<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!placed) &#123;</span><br><span class="line">            ansList.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;left, right&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>[][] ans = <span class="keyword">new</span> <span class="keyword">int</span>[ansList.size()][<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ansList.size(); ++i) &#123;</span><br><span class="line">            ans[i] = ansList.get(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ¨¡æ‹ŸPython3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span><span class="params">(self, intervals: List[List[int]], newInterval: List[int])</span> -&gt; List[List[int]]:</span></span><br><span class="line">        left, right = newInterval</span><br><span class="line">        placed = <span class="keyword">False</span></span><br><span class="line">        ans = list()</span><br><span class="line">        <span class="keyword">for</span> li, ri <span class="keyword">in</span> intervals:</span><br><span class="line">            <span class="keyword">if</span> li &gt; right:</span><br><span class="line">                <span class="comment"># åœ¨æ’å…¥åŒºé—´çš„å³ä¾§ä¸”æ— äº¤é›†</span></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> placed:</span><br><span class="line">                    ans.append([left, right])</span><br><span class="line">                    placed = <span class="keyword">True</span></span><br><span class="line">                ans.append([li, ri])</span><br><span class="line">            <span class="keyword">elif</span> ri &lt; left:</span><br><span class="line">                <span class="comment"># åœ¨æ’å…¥åŒºé—´çš„å·¦ä¾§ä¸”æ— äº¤é›†</span></span><br><span class="line">                ans.append([li, ri])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># ä¸æ’å…¥åŒºé—´æœ‰äº¤é›†ï¼Œè®¡ç®—å®ƒä»¬çš„å¹¶é›†</span></span><br><span class="line">                left = min(left, li)</span><br><span class="line">                right = max(right, ri)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> placed:</span><br><span class="line">            ans.append([left, right])</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>æ¨¡æ‹ŸGolang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">insert</span><span class="params">(intervals [][]<span class="keyword">int</span>, newInterval []<span class="keyword">int</span>)</span> <span class="params">(ans [][]<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    left, right := newInterval[<span class="number">0</span>], newInterval[<span class="number">1</span>]</span><br><span class="line">    merged := <span class="literal">false</span></span><br><span class="line">    <span class="keyword">for</span> _, interval := <span class="keyword">range</span> intervals &#123;</span><br><span class="line">        <span class="keyword">if</span> interval[<span class="number">0</span>] &gt; right &#123;</span><br><span class="line">            <span class="comment">// åœ¨æ’å…¥åŒºé—´çš„å³ä¾§ä¸”æ— äº¤é›†</span></span><br><span class="line">            <span class="keyword">if</span> !merged &#123;</span><br><span class="line">                ans = <span class="built_in">append</span>(ans, []<span class="keyword">int</span>&#123;left, right&#125;)</span><br><span class="line">                merged = <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">            ans = <span class="built_in">append</span>(ans, interval)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> interval[<span class="number">1</span>] &lt; left &#123;</span><br><span class="line">            <span class="comment">// åœ¨æ’å…¥åŒºé—´çš„å·¦ä¾§ä¸”æ— äº¤é›†</span></span><br><span class="line">            ans = <span class="built_in">append</span>(ans, interval)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// ä¸æ’å…¥åŒºé—´æœ‰äº¤é›†ï¼Œè®¡ç®—å®ƒä»¬çš„å¹¶é›†</span></span><br><span class="line">            left = min(left, interval[<span class="number">0</span>])</span><br><span class="line">            right = max(right, interval[<span class="number">1</span>])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> !merged &#123;</span><br><span class="line">        ans = <span class="built_in">append</span>(ans, []<span class="keyword">int</span>&#123;left, right&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">min</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ¨¡æ‹ŸC</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span>** <span class="title">insert</span><span class="params">(<span class="keyword">int</span>** intervals, <span class="keyword">int</span> intervalsSize, <span class="keyword">int</span>* intervalsColSize, <span class="keyword">int</span>* newInterval, <span class="keyword">int</span> newIntervalSize, <span class="keyword">int</span>* returnSize, <span class="keyword">int</span>** returnColumnSizes)</span> </span>&#123;</span><br><span class="line">    *returnSize = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> left = newInterval[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> right = newInterval[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">bool</span> placed = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">int</span>** ans = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * (intervalsSize + <span class="number">1</span>));</span><br><span class="line">    *returnColumnSizes = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * (intervalsSize + <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; intervalsSize; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span>* interval = intervals[i];</span><br><span class="line">        <span class="keyword">if</span> (interval[<span class="number">0</span>] &gt; right) &#123;</span><br><span class="line">            <span class="comment">// åœ¨æ’å…¥åŒºé—´çš„å³ä¾§ä¸”æ— äº¤é›†</span></span><br><span class="line">            <span class="keyword">if</span> (!placed) &#123;</span><br><span class="line">                <span class="keyword">int</span>* tmp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">2</span>);</span><br><span class="line">                tmp[<span class="number">0</span>] = left, tmp[<span class="number">1</span>] = right;</span><br><span class="line">                (*returnColumnSizes)[*returnSize] = <span class="number">2</span>;</span><br><span class="line">                ans[(*returnSize)++] = tmp;</span><br><span class="line">                placed = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span>* tmp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">2</span>);</span><br><span class="line">            <span class="built_in">memcpy</span>(tmp, interval, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">2</span>);</span><br><span class="line">            (*returnColumnSizes)[*returnSize] = <span class="number">2</span>;</span><br><span class="line">            ans[(*returnSize)++] = tmp;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (interval[<span class="number">1</span>] &lt; left) &#123;</span><br><span class="line">            <span class="comment">// åœ¨æ’å…¥åŒºé—´çš„å·¦ä¾§ä¸”æ— äº¤é›†</span></span><br><span class="line">            <span class="keyword">int</span>* tmp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">2</span>);</span><br><span class="line">            <span class="built_in">memcpy</span>(tmp, interval, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">2</span>);</span><br><span class="line">            (*returnColumnSizes)[*returnSize] = <span class="number">2</span>;</span><br><span class="line">            ans[(*returnSize)++] = tmp;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// ä¸æ’å…¥åŒºé—´æœ‰äº¤é›†ï¼Œè®¡ç®—å®ƒä»¬çš„å¹¶é›†</span></span><br><span class="line">            left = fmin(left, interval[<span class="number">0</span>]);</span><br><span class="line">            right = fmax(right, interval[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!placed) &#123;</span><br><span class="line">        <span class="keyword">int</span>* tmp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">2</span>);</span><br><span class="line">        tmp[<span class="number">0</span>] = left, tmp[<span class="number">1</span>] = right;</span><br><span class="line">        (*returnColumnSizes)[*returnSize] = <span class="number">2</span>;</span><br><span class="line">        ans[(*returnSize)++] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œå…¶ä¸­ *n</em> æ˜¯æ•°ç»„ intervals çš„é•¿åº¦ï¼Œå³ç»™å®šçš„åŒºé—´ä¸ªæ•°ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚é™¤äº†å­˜å‚¨è¿”å›ç­”æ¡ˆçš„ç©ºé—´ä»¥å¤–ï¼Œæˆ‘ä»¬åªéœ€è¦é¢å¤–çš„å¸¸æ•°ç©ºé—´å³å¯ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ª æ— é‡å çš„ ï¼ŒæŒ‰ç…§åŒºé—´èµ·å§‹ç«¯ç‚¹æ’åºçš„åŒºé—´åˆ—è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨åˆ—è¡¨ä¸­æ’å…¥ä¸€ä¸ªæ–°çš„åŒºé—´ï¼Œä½ éœ€è¦ç¡®ä¿åˆ—è¡¨ä¸­çš„åŒºé—´ä»ç„¶æœ‰åºä¸”ä¸é‡å ï¼ˆå¦‚æœæœ‰å¿…è¦çš„è¯ï¼Œå¯ä»¥åˆå¹¶åŒºé—´ï¼‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´2æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B42%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Sort" scheme="http://yoursite.com/tags/Sort/"/>
    
  </entry>
  
  <entry>
    <title>17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ</title>
    <link href="http://yoursite.com/2021/02/02/17.%20%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81%E7%9A%84%E5%AD%97%E6%AF%8D%E7%BB%84%E5%90%88/"/>
    <id>http://yoursite.com/2021/02/02/17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ/</id>
    <published>2021-02-02T07:12:12.000Z</published>
    <updated>2021-02-02T08:10:39.889Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— 2-9 çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚ç­”æ¡ˆå¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ã€‚</p><p>ç»™å‡ºæ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰ã€‚æ³¨æ„ 1 ä¸å¯¹åº”ä»»ä½•å­—æ¯ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šdigits = &quot;23&quot;è¾“å‡ºï¼š[&quot;ad&quot;,&quot;ae&quot;,&quot;af&quot;,&quot;bd&quot;,&quot;be&quot;,&quot;bf&quot;,&quot;cd&quot;,&quot;ce&quot;,&quot;cf&quot;]</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šdigits = &quot;&quot;è¾“å‡ºï¼š[]</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šdigits = &quot;2&quot;è¾“å‡ºï¼š[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]</code></pre><p>æç¤ºï¼š</p><pre><code>0 &lt;= digits.length &lt;= 4digits[i] æ˜¯èŒƒå›´ [&apos;2&apos;, &apos;9&apos;] çš„ä¸€ä¸ªæ•°å­—ã€‚</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šå›æº¯"><a href="#æ–¹æ³•ä¸€ï¼šå›æº¯" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå›æº¯"></a>æ–¹æ³•ä¸€ï¼šå›æº¯</h1><p>é¦–å…ˆä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ¯ä¸ªæ•°å­—å¯¹åº”çš„æ‰€æœ‰å¯èƒ½çš„å­—æ¯ï¼Œç„¶åè¿›è¡Œå›æº¯æ“ä½œã€‚</p><p>å›æº¯è¿‡ç¨‹ä¸­ç»´æŠ¤ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå·²æœ‰çš„å­—æ¯æ’åˆ—ï¼ˆå¦‚æœæœªéå†å®Œç”µè¯å·ç çš„æ‰€æœ‰æ•°å­—ï¼Œåˆ™å·²æœ‰çš„å­—æ¯æ’åˆ—æ˜¯ä¸å®Œæ•´çš„ï¼‰ã€‚è¯¥å­—ç¬¦ä¸²åˆå§‹ä¸ºç©ºã€‚æ¯æ¬¡å–ç”µè¯å·ç çš„ä¸€ä½æ•°å­—ï¼Œä»å“ˆå¸Œè¡¨ä¸­è·å¾—è¯¥æ•°å­—å¯¹åº”çš„æ‰€æœ‰å¯èƒ½çš„å­—æ¯ï¼Œå¹¶å°†å…¶ä¸­çš„ä¸€ä¸ªå­—æ¯æ’å…¥åˆ°å·²æœ‰çš„å­—æ¯æ’åˆ—åé¢ï¼Œç„¶åç»§ç»­å¤„ç†ç”µè¯å·ç çš„åä¸€ä½æ•°å­—ï¼Œç›´åˆ°å¤„ç†å®Œç”µè¯å·ç ä¸­çš„æ‰€æœ‰æ•°å­—ï¼Œå³å¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„å­—æ¯æ’åˆ—ã€‚ç„¶åè¿›è¡Œå›é€€æ“ä½œï¼Œéå†å…¶ä½™çš„å­—æ¯æ’åˆ—ã€‚</p><p>å›æº¯ç®—æ³•ç”¨äºå¯»æ‰¾æ‰€æœ‰çš„å¯è¡Œè§£ï¼Œå¦‚æœå‘ç°ä¸€ä¸ªè§£ä¸å¯è¡Œï¼Œåˆ™ä¼šèˆå¼ƒä¸å¯è¡Œçš„è§£ã€‚åœ¨è¿™é“é¢˜ä¸­ï¼Œç”±äºæ¯ä¸ªæ•°å­—å¯¹åº”çš„æ¯ä¸ªå­—æ¯éƒ½å¯èƒ½è¿›å…¥å­—æ¯ç»„åˆï¼Œå› æ­¤ä¸å­˜åœ¨ä¸å¯è¡Œçš„è§£ï¼Œç›´æ¥ç©·ä¸¾æ‰€æœ‰çš„è§£å³å¯ã€‚</p><details>    <summary>å›æº¯Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">letterCombinations</span><span class="params">(String digits)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; combinations = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">if</span> (digits.length() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> combinations;</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;Character, String&gt; phoneMap = <span class="keyword">new</span> HashMap&lt;Character, String&gt;() &#123;&#123;</span><br><span class="line">            put(<span class="string">'2'</span>, <span class="string">"abc"</span>);</span><br><span class="line">            put(<span class="string">'3'</span>, <span class="string">"def"</span>);</span><br><span class="line">            put(<span class="string">'4'</span>, <span class="string">"ghi"</span>);</span><br><span class="line">            put(<span class="string">'5'</span>, <span class="string">"jkl"</span>);</span><br><span class="line">            put(<span class="string">'6'</span>, <span class="string">"mno"</span>);</span><br><span class="line">            put(<span class="string">'7'</span>, <span class="string">"pqrs"</span>);</span><br><span class="line">            put(<span class="string">'8'</span>, <span class="string">"tuv"</span>);</span><br><span class="line">            put(<span class="string">'9'</span>, <span class="string">"wxyz"</span>);</span><br><span class="line">        &#125;&#125;;</span><br><span class="line">        backtrack(combinations, phoneMap, digits, <span class="number">0</span>, <span class="keyword">new</span> StringBuffer());</span><br><span class="line">        <span class="keyword">return</span> combinations;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;String&gt; combinations, Map&lt;Character, String&gt; phoneMap, String digits, <span class="keyword">int</span> index, StringBuffer combination)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index == digits.length()) &#123;</span><br><span class="line">            combinations.add(combination.toString());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">char</span> digit = digits.charAt(index);</span><br><span class="line">            String letters = phoneMap.get(digit);</span><br><span class="line">            <span class="keyword">int</span> lettersCount = letters.length();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; lettersCount; i++) &#123;</span><br><span class="line">                combination.append(letters.charAt(i));</span><br><span class="line">                backtrack(combinations, phoneMap, digits, index + <span class="number">1</span>, combination);</span><br><span class="line">                combination.deleteCharAt(index);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å›æº¯C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; letterCombinations(<span class="built_in">string</span> digits) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; combinations;</span><br><span class="line">        <span class="keyword">if</span> (digits.empty()) &#123;</span><br><span class="line">            <span class="keyword">return</span> combinations;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>, <span class="built_in">string</span>&gt; phoneMap&#123;</span><br><span class="line">            &#123;<span class="string">'2'</span>, <span class="string">"abc"</span>&#125;,</span><br><span class="line">            &#123;<span class="string">'3'</span>, <span class="string">"def"</span>&#125;,</span><br><span class="line">            &#123;<span class="string">'4'</span>, <span class="string">"ghi"</span>&#125;,</span><br><span class="line">            &#123;<span class="string">'5'</span>, <span class="string">"jkl"</span>&#125;,</span><br><span class="line">            &#123;<span class="string">'6'</span>, <span class="string">"mno"</span>&#125;,</span><br><span class="line">            &#123;<span class="string">'7'</span>, <span class="string">"pqrs"</span>&#125;,</span><br><span class="line">            &#123;<span class="string">'8'</span>, <span class="string">"tuv"</span>&#125;,</span><br><span class="line">            &#123;<span class="string">'9'</span>, <span class="string">"wxyz"</span>&#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="built_in">string</span> combination;</span><br><span class="line">        backtrack(combinations, phoneMap, digits, <span class="number">0</span>, combination);</span><br><span class="line">        <span class="keyword">return</span> combinations;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; combinations, <span class="keyword">const</span> <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>, <span class="built_in">string</span>&gt;&amp; phoneMap, <span class="keyword">const</span> <span class="built_in">string</span>&amp; digits, <span class="keyword">int</span> index, <span class="built_in">string</span>&amp; combination)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index == digits.length()) &#123;</span><br><span class="line">            combinations.push_back(combination);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">char</span> digit = digits[index];</span><br><span class="line">            <span class="keyword">const</span> <span class="built_in">string</span>&amp; letters = phoneMap.at(digit);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">char</span>&amp; letter: letters) &#123;</span><br><span class="line">                combination.push_back(letter);</span><br><span class="line">                backtrack(combinations, phoneMap, digits, index + <span class="number">1</span>, combination);</span><br><span class="line">                combination.pop_back();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å›æº¯Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> phoneMap <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span> = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;</span><br><span class="line">    <span class="string">"2"</span>: <span class="string">"abc"</span>,</span><br><span class="line">    <span class="string">"3"</span>: <span class="string">"def"</span>,</span><br><span class="line">    <span class="string">"4"</span>: <span class="string">"ghi"</span>,</span><br><span class="line">    <span class="string">"5"</span>: <span class="string">"jkl"</span>,</span><br><span class="line">    <span class="string">"6"</span>: <span class="string">"mno"</span>,</span><br><span class="line">    <span class="string">"7"</span>: <span class="string">"pqrs"</span>,</span><br><span class="line">    <span class="string">"8"</span>: <span class="string">"tuv"</span>,</span><br><span class="line">    <span class="string">"9"</span>: <span class="string">"wxyz"</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> combinations []<span class="keyword">string</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">letterCombinations</span><span class="params">(digits <span class="keyword">string</span>)</span> []<span class="title">string</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(digits) == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> []<span class="keyword">string</span>&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    combinations = []<span class="keyword">string</span>&#123;&#125;</span><br><span class="line">    backtrack(digits, <span class="number">0</span>, <span class="string">""</span>)</span><br><span class="line">    <span class="keyword">return</span> combinations</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">backtrack</span><span class="params">(digits <span class="keyword">string</span>, index <span class="keyword">int</span>, combination <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> index == <span class="built_in">len</span>(digits) &#123;</span><br><span class="line">        combinations = <span class="built_in">append</span>(combinations, combination)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        digit := <span class="keyword">string</span>(digits[index])</span><br><span class="line">        letters := phoneMap[digit]</span><br><span class="line">        lettersCount := <span class="built_in">len</span>(letters)</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; lettersCount; i++ &#123;</span><br><span class="line">            backtrack(digits, index + <span class="number">1</span>, combination + <span class="keyword">string</span>(letters[i]))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å›æº¯C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> phoneMap[<span class="number">11</span>][<span class="number">5</span>] = &#123;<span class="string">"\0"</span>, <span class="string">"\0"</span>, <span class="string">"abc\0"</span>, <span class="string">"def\0"</span>, <span class="string">"ghi\0"</span>, <span class="string">"jkl\0"</span>, <span class="string">"mno\0"</span>, <span class="string">"pqrs\0"</span>, <span class="string">"tuv\0"</span>, <span class="string">"wxyz\0"</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span>* digits_tmp;</span><br><span class="line"><span class="keyword">int</span> digits_size;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span>** combinations;</span><br><span class="line"><span class="keyword">int</span> combinations_size;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span>* combination;</span><br><span class="line"><span class="keyword">int</span> combination_size;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index == digits_size) &#123;</span><br><span class="line">        <span class="keyword">char</span>* tmp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">char</span>) * (combination_size + <span class="number">1</span>));</span><br><span class="line">        <span class="built_in">memcpy</span>(tmp, combination, <span class="keyword">sizeof</span>(<span class="keyword">char</span>) * (combination_size + <span class="number">1</span>));</span><br><span class="line">        combinations[combinations_size++] = tmp;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">char</span> digit = digits_tmp[index];</span><br><span class="line">        <span class="keyword">char</span>* letters = phoneMap[digit - <span class="string">'0'</span>];</span><br><span class="line">        <span class="keyword">int</span> len = <span class="built_in">strlen</span>(letters);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            combination[combination_size++] = letters[i];</span><br><span class="line">            combination[combination_size] = <span class="number">0</span>;</span><br><span class="line">            backtrack(index + <span class="number">1</span>);</span><br><span class="line">            combination[--combination_size] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">char</span>** <span class="title">letterCombinations</span><span class="params">(<span class="keyword">char</span>* digits, <span class="keyword">int</span>* returnSize)</span> </span>&#123;</span><br><span class="line">    combinations_size = combination_size = <span class="number">0</span>;</span><br><span class="line">    digits_tmp = digits;</span><br><span class="line">    digits_size = <span class="built_in">strlen</span>(digits);</span><br><span class="line">    <span class="keyword">if</span> (digits_size == <span class="number">0</span>) &#123;</span><br><span class="line">        *returnSize = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> combinations;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; digits_size; i++) num *= <span class="number">4</span>;</span><br><span class="line">    combinations = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">char</span>*) * num);</span><br><span class="line">    combination = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">char</span>*) * digits_size);</span><br><span class="line">    backtrack(<span class="number">0</span>);</span><br><span class="line">    *returnSize = combinations_size;</span><br><span class="line">    <span class="keyword">return</span> combinations;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å›æº¯Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">letterCombinations</span><span class="params">(self, digits: str)</span> -&gt; List[str]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> digits:</span><br><span class="line">            <span class="keyword">return</span> list()</span><br><span class="line">        </span><br><span class="line">        phoneMap = &#123;</span><br><span class="line">            <span class="string">"2"</span>: <span class="string">"abc"</span>,</span><br><span class="line">            <span class="string">"3"</span>: <span class="string">"def"</span>,</span><br><span class="line">            <span class="string">"4"</span>: <span class="string">"ghi"</span>,</span><br><span class="line">            <span class="string">"5"</span>: <span class="string">"jkl"</span>,</span><br><span class="line">            <span class="string">"6"</span>: <span class="string">"mno"</span>,</span><br><span class="line">            <span class="string">"7"</span>: <span class="string">"pqrs"</span>,</span><br><span class="line">            <span class="string">"8"</span>: <span class="string">"tuv"</span>,</span><br><span class="line">            <span class="string">"9"</span>: <span class="string">"wxyz"</span>,</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">backtrack</span><span class="params">(index: int)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> index == len(digits):</span><br><span class="line">                combinations.append(<span class="string">""</span>.join(combination))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                digit = digits[index]</span><br><span class="line">                <span class="keyword">for</span> letter <span class="keyword">in</span> phoneMap[digit]:</span><br><span class="line">                    combination.append(letter)</span><br><span class="line">                    backtrack(index + <span class="number">1</span>)</span><br><span class="line">                    combination.pop()</span><br><span class="line"></span><br><span class="line">        combination = list()</span><br><span class="line">        combinations = list()</span><br><span class="line">        backtrack(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> combinations</span><br></pre></td></tr></table></figure></details><details>    <summary>å›æº¯Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python3_oneliner]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">letterCombinations</span><span class="params">(self, digits: str)</span> -&gt; List[str]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> digits:</span><br><span class="line">            <span class="keyword">return</span> list()</span><br><span class="line">        </span><br><span class="line">        phoneMap = &#123;</span><br><span class="line">            <span class="string">"2"</span>: <span class="string">"abc"</span>,</span><br><span class="line">            <span class="string">"3"</span>: <span class="string">"def"</span>,</span><br><span class="line">            <span class="string">"4"</span>: <span class="string">"ghi"</span>,</span><br><span class="line">            <span class="string">"5"</span>: <span class="string">"jkl"</span>,</span><br><span class="line">            <span class="string">"6"</span>: <span class="string">"mno"</span>,</span><br><span class="line">            <span class="string">"7"</span>: <span class="string">"pqrs"</span>,</span><br><span class="line">            <span class="string">"8"</span>: <span class="string">"tuv"</span>,</span><br><span class="line">            <span class="string">"9"</span>: <span class="string">"wxyz"</span>,</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        groups = (phoneMap[digit] <span class="keyword">for</span> digit <span class="keyword">in</span> digits)</span><br><span class="line">        <span class="keyword">return</span> [<span class="string">""</span>.join(combination) <span class="keyword">for</span> combination <span class="keyword">in</span> itertools.product(*groups)]</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(3^m * 4^n)ï¼Œå…¶ä¸­ <em>m</em> æ˜¯è¾“å…¥ä¸­å¯¹åº” <em>3</em> ä¸ªå­—æ¯çš„æ•°å­—ä¸ªæ•°ï¼ˆåŒ…æ‹¬æ•°å­— <em>2</em>ã€<em>3</em>ã€<em>4</em>ã€<em>5</em>ã€<em>6</em>ã€<em>8</em>ï¼‰ï¼Œ<em>n</em> æ˜¯è¾“å…¥ä¸­å¯¹åº” <em>4</em> ä¸ªå­—æ¯çš„æ•°å­—ä¸ªæ•°ï¼ˆåŒ…æ‹¬æ•°å­— <em>7</em>ã€<em>9</em>ï¼‰ï¼Œ<em>m+n</em> æ˜¯è¾“å…¥æ•°å­—çš„æ€»ä¸ªæ•°ã€‚å½“è¾“å…¥åŒ…å« <em>m</em> ä¸ªå¯¹åº” <em>3</em> ä¸ªå­—æ¯çš„æ•°å­—å’Œ <em>n</em> ä¸ªå¯¹åº” <em>4</em> ä¸ªå­—æ¯çš„æ•°å­—æ—¶ï¼Œä¸åŒçš„å­—æ¯ç»„åˆä¸€å…±æœ‰3^m * 4^n ç§ï¼Œéœ€è¦éå†æ¯ä¸€ç§å­—æ¯ç»„åˆã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(m+n)</em>ï¼Œå…¶ä¸­ </p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— 2-9 çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚ç­”æ¡ˆå¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ã€‚&lt;/p&gt;
&lt;p&gt;ç»™å‡ºæ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰ã€‚æ³¨æ„ 1 ä¸å¯¹åº”ä»»ä½•å­—æ¯ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´2æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B42%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Depth-first Search" scheme="http://yoursite.com/tags/Depth-first-Search/"/>
    
      <category term="Backtracking" scheme="http://yoursite.com/tags/Backtracking/"/>
    
      <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
      <category term="Recursion" scheme="http://yoursite.com/tags/Recursion/"/>
    
  </entry>
  
  <entry>
    <title>909. è›‡æ¢¯æ£‹</title>
    <link href="http://yoursite.com/2021/01/28/909.%20%E8%9B%87%E6%A2%AF%E6%A3%8B/"/>
    <id>http://yoursite.com/2021/01/28/909. è›‡æ¢¯æ£‹/</id>
    <published>2021-01-28T06:23:12.000Z</published>
    <updated>2021-01-28T09:28:27.707Z</updated>
    
    <content type="html"><![CDATA[<p>N x N çš„æ£‹ç›˜ board ä¸Šï¼ŒæŒ‰ä» 1 åˆ° N<em>N çš„æ•°å­—ç»™æ–¹æ ¼ç¼–å·ï¼Œç¼–å· ä»å·¦ä¸‹è§’å¼€å§‹ï¼Œæ¯ä¸€è¡Œäº¤æ›¿æ–¹å‘ã€‚è¿”å›è¾¾åˆ°æ–¹æ ¼ N</em>N æ‰€éœ€çš„æœ€å°‘ç§»åŠ¨æ¬¡æ•°ï¼Œå¦‚æœä¸å¯èƒ½ï¼Œåˆ™è¿”å› -1ã€‚</p><a id="more"></a><p>ä¾‹å¦‚ï¼Œä¸€å— 6 x 6 å¤§å°çš„æ£‹ç›˜ï¼Œç¼–å·å¦‚ä¸‹ï¼š</p><p>r è¡Œ c åˆ—çš„æ£‹ç›˜ï¼ŒæŒ‰å‰è¿°æ–¹æ³•ç¼–å·ï¼Œæ£‹ç›˜æ ¼ä¸­å¯èƒ½å­˜åœ¨ â€œè›‡â€ æˆ– â€œæ¢¯å­â€ï¼›å¦‚æœ board[r][c] != -1ï¼Œé‚£ä¸ªè›‡æˆ–æ¢¯å­çš„ç›®çš„åœ°å°†ä¼šæ˜¯ board[r][c]ã€‚</p><p>ç©å®¶ä»æ£‹ç›˜ä¸Šçš„æ–¹æ ¼ 1 ï¼ˆæ€»æ˜¯åœ¨æœ€åä¸€è¡Œã€ç¬¬ä¸€åˆ—ï¼‰å¼€å§‹å‡ºå‘ã€‚</p><p>æ¯ä¸€å›åˆï¼Œç©å®¶éœ€è¦ä»å½“å‰æ–¹æ ¼ x å¼€å§‹å‡ºå‘ï¼ŒæŒ‰ä¸‹è¿°è¦æ±‚å‰è¿›ï¼š</p><p>é€‰å®šç›®æ ‡æ–¹æ ¼ï¼šé€‰æ‹©ä»ç¼–å· x+1ï¼Œx+2ï¼Œx+3ï¼Œx+4ï¼Œx+5ï¼Œæˆ–è€… x+6 çš„æ–¹æ ¼ä¸­é€‰å‡ºä¸€ä¸ªç›®æ ‡æ–¹æ ¼ s ï¼Œç›®æ ‡æ–¹æ ¼çš„ç¼–å· &lt;= N*Nã€‚<br>è¯¥é€‰æ‹©æ¨¡æ‹Ÿäº†æ·éª°å­çš„æƒ…æ™¯ï¼Œæ— è®ºæ£‹ç›˜å¤§å°å¦‚ä½•ï¼Œä½ çš„ç›®çš„åœ°èŒƒå›´ä¹Ÿåªèƒ½å¤„äºåŒºé—´ [x+1, x+6] ä¹‹é—´ã€‚<br>ä¼ é€ç©å®¶ï¼šå¦‚æœç›®æ ‡æ–¹æ ¼ S å¤„å­˜åœ¨è›‡æˆ–æ¢¯å­ï¼Œé‚£ä¹ˆç©å®¶ä¼šä¼ é€åˆ°è›‡æˆ–æ¢¯å­çš„ç›®çš„åœ°ã€‚å¦åˆ™ï¼Œç©å®¶ä¼ é€åˆ°ç›®æ ‡æ–¹æ ¼ Sã€‚<br>æ³¨æ„ï¼Œç©å®¶åœ¨æ¯å›åˆçš„å‰è¿›è¿‡ç¨‹ä¸­æœ€å¤šåªèƒ½çˆ¬è¿‡è›‡æˆ–æ¢¯å­ä¸€æ¬¡ï¼šå°±ç®—ç›®çš„åœ°æ˜¯å¦ä¸€æ¡è›‡æˆ–æ¢¯å­çš„èµ·ç‚¹ï¼Œä½ ä¹Ÿä¸ä¼šç»§ç»­ç§»åŠ¨ã€‚</p><p>è¿”å›è¾¾åˆ°æ–¹æ ¼ N*N æ‰€éœ€çš„æœ€å°‘ç§»åŠ¨æ¬¡æ•°ï¼Œå¦‚æœä¸å¯èƒ½ï¼Œåˆ™è¿”å› -1ã€‚</p><p>ç¤ºä¾‹ï¼š</p><pre><code>è¾“å…¥ï¼š[[-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1],[-1,35,-1,-1,13,-1],[-1,-1,-1,-1,-1,-1],[-1,15,-1,-1,-1,-1]]è¾“å‡ºï¼š4è§£é‡Šï¼šé¦–å…ˆï¼Œä»æ–¹æ ¼ 1 [ç¬¬ 5 è¡Œï¼Œç¬¬ 0 åˆ—] å¼€å§‹ã€‚ä½ å†³å®šç§»åŠ¨åˆ°æ–¹æ ¼ 2ï¼Œå¹¶å¿…é¡»çˆ¬è¿‡æ¢¯å­ç§»åŠ¨åˆ°åˆ°æ–¹æ ¼ 15ã€‚ç„¶åä½ å†³å®šç§»åŠ¨åˆ°æ–¹æ ¼ 17 [ç¬¬ 3 è¡Œï¼Œç¬¬ 5 åˆ—]ï¼Œå¿…é¡»çˆ¬è¿‡è›‡åˆ°æ–¹æ ¼ 13ã€‚ç„¶åä½ å†³å®šç§»åŠ¨åˆ°æ–¹æ ¼ 14ï¼Œä¸”å¿…é¡»é€šè¿‡æ¢¯å­ç§»åŠ¨åˆ°æ–¹æ ¼ 35ã€‚ç„¶åä½ å†³å®šç§»åŠ¨åˆ°æ–¹æ ¼ 36, æ¸¸æˆç»“æŸã€‚å¯ä»¥è¯æ˜ä½ éœ€è¦è‡³å°‘ 4 æ¬¡ç§»åŠ¨æ‰èƒ½åˆ°è¾¾ç¬¬ N*N ä¸ªæ–¹æ ¼ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ 4ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>2 &lt;= board.length = board[0].length &lt;= 20board[i][j] ä»‹äº 1 å’Œ N*N ä¹‹é—´æˆ–è€…ç­‰äº -1ã€‚ç¼–å·ä¸º 1 çš„æ–¹æ ¼ä¸Šæ²¡æœ‰è›‡æˆ–æ¢¯å­ã€‚ç¼–å·ä¸º N*N çš„æ–¹æ ¼ä¸Šæ²¡æœ‰è›‡æˆ–æ¢¯å­ã€‚</code></pre><h1 id="æ–¹æ³•-1ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•-1ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³• 1ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³• 1ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢</h1><p><strong>æƒ³æ³•</strong></p><p>ç”±äºæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€æ¡æœ€çŸ­è·¯å¾„ï¼Œå¹¿åº¦ä¼˜å…ˆæœç´¢æ˜¯ä¸€ç§ç†æƒ³çš„æ–¹æ³•ã€‚éš¾ç‚¹åœ¨äºå¦‚ä½•å¯¹æ¯ä¸ªæ–¹æ ¼æšä¸¾æ‰€æœ‰å¯èƒ½çš„ç§»åŠ¨ã€‚</p><p><strong>ç®—æ³•</strong></p><p>å‡è®¾æˆ‘ä»¬åœ¨æ–¹æ ¼ <code>s</code> ä¸Šï¼Œæˆ‘ä»¬æƒ³çŸ¥é“ä¸€æ¬¡ç§»åŠ¨ä¹‹åæ‰€æœ‰å¯èƒ½çš„ç»ˆç‚¹ <code>s2</code>ã€‚</p><p>è¿™éœ€è¦çŸ¥é“æ–¹æ ¼ <code>s2</code> çš„åæ ‡ <code>get(s2)</code>ï¼Œè¿™æœ‰ä¸€ä¸ªå°æŠ€å·§ï¼šæˆ‘ä»¬çŸ¥é“è¡Œå·æ¯ <code>N</code> ä¸ªæ–¹æ ¼æ”¹å˜ä¸€æ¬¡ï¼Œæ‰€ä»¥åªä¾èµ–äº <code>quot = (s2-1) / N</code>ï¼›åŒæ ·åˆ—å·ä¾èµ–äº <code>rem = (s2-1) % N</code>ã€‚</p><p>ç”±æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªæ ¹æ®æ–¹æ ¼ <code>s</code>  çš„ä¿¡æ¯è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚</p><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">snakesAndLadders</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> N = board.length;</span><br><span class="line"></span><br><span class="line">        Map&lt;Integer, Integer&gt; dist = <span class="keyword">new</span> HashMap();</span><br><span class="line">        dist.put(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList();</span><br><span class="line">        queue.add(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> s = queue.remove();</span><br><span class="line">            <span class="keyword">if</span> (s == N*N) <span class="keyword">return</span> dist.get(s);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> s2 = s+<span class="number">1</span>; s2 &lt;= Math.min(s+<span class="number">6</span>, N*N); ++s2) &#123;</span><br><span class="line">                <span class="keyword">int</span> rc = get(s2, N);</span><br><span class="line">                <span class="keyword">int</span> r = rc / N, c = rc % N;</span><br><span class="line">                <span class="keyword">int</span> s2Final = board[r][c] == -<span class="number">1</span> ? s2 : board[r][c];</span><br><span class="line">                <span class="keyword">if</span> (!dist.containsKey(s2Final)) &#123;</span><br><span class="line">                    dist.put(s2Final, dist.get(s) + <span class="number">1</span>);</span><br><span class="line">                    queue.add(s2Final);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Given a square num s, return board coordinates (r, c) as r*N + c</span></span><br><span class="line">        <span class="keyword">int</span> quot = (s-<span class="number">1</span>) / N;</span><br><span class="line">        <span class="keyword">int</span> rem = (s-<span class="number">1</span>) % N;</span><br><span class="line">        <span class="keyword">int</span> row = N - <span class="number">1</span> - quot;</span><br><span class="line">        <span class="keyword">int</span> col = row % <span class="number">2</span> != N % <span class="number">2</span> ? rem : N - <span class="number">1</span> - rem;</span><br><span class="line">        <span class="keyword">return</span> row * N + col;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">snakesAndLadders</span><span class="params">(self, board)</span>:</span></span><br><span class="line">        N = len(board)</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(s)</span>:</span></span><br><span class="line">            <span class="comment"># Given a square num s, return board coordinates (r, c)</span></span><br><span class="line">            quot, rem = divmod(s<span class="number">-1</span>, N)</span><br><span class="line">            row = N - <span class="number">1</span> - quot</span><br><span class="line">            col = rem <span class="keyword">if</span> row%<span class="number">2</span> != N%<span class="number">2</span> <span class="keyword">else</span> N - <span class="number">1</span> - rem</span><br><span class="line">            <span class="keyword">return</span> row, col</span><br><span class="line"></span><br><span class="line">        dist = &#123;<span class="number">1</span>: <span class="number">0</span>&#125;</span><br><span class="line">        queue = collections.deque([<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">while</span> queue:</span><br><span class="line">            s = queue.popleft()</span><br><span class="line">            <span class="keyword">if</span> s == N*N: <span class="keyword">return</span> dist[s]</span><br><span class="line">            <span class="keyword">for</span> s2 <span class="keyword">in</span> xrange(s+<span class="number">1</span>, min(s+<span class="number">6</span>, N*N) + <span class="number">1</span>):</span><br><span class="line">                r, c = get(s2)</span><br><span class="line">                <span class="keyword">if</span> board[r][c] != <span class="number">-1</span>:</span><br><span class="line">                    s2 = board[r][c]</span><br><span class="line">                <span class="keyword">if</span> s2 <span class="keyword">not</span> <span class="keyword">in</span> dist:</span><br><span class="line">                    dist[s2] = dist[s] + <span class="number">1</span></span><br><span class="line">                    queue.append(s2)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N^2)*ï¼Œå…¶ä¸­ *N</em> æ˜¯ <code>board</code> çš„é•¿åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N^2)</em>ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;N x N çš„æ£‹ç›˜ board ä¸Šï¼ŒæŒ‰ä» 1 åˆ° N&lt;em&gt;N çš„æ•°å­—ç»™æ–¹æ ¼ç¼–å·ï¼Œç¼–å· ä»å·¦ä¸‹è§’å¼€å§‹ï¼Œæ¯ä¸€è¡Œäº¤æ›¿æ–¹å‘ã€‚è¿”å›è¾¾åˆ°æ–¹æ ¼ N&lt;/em&gt;N æ‰€éœ€çš„æœ€å°‘ç§»åŠ¨æ¬¡æ•°ï¼Œå¦‚æœä¸å¯èƒ½ï¼Œåˆ™è¿”å› -1ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´1æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B41%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Breadth-first Search" scheme="http://yoursite.com/tags/Breadth-first-Search/"/>
    
  </entry>
  
  <entry>
    <title>688. â€œé©¬â€åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡</title>
    <link href="http://yoursite.com/2021/01/27/688.%20%E2%80%9C%E9%A9%AC%E2%80%9D%E5%9C%A8%E6%A3%8B%E7%9B%98%E4%B8%8A%E7%9A%84%E6%A6%82%E7%8E%87/"/>
    <id>http://yoursite.com/2021/01/27/688. â€œé©¬â€åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡/</id>
    <published>2021-01-27T09:23:12.000Z</published>
    <updated>2021-01-28T06:16:05.034Z</updated>
    
    <content type="html"><![CDATA[<p>å·²çŸ¥ä¸€ä¸ª NxN çš„å›½é™…è±¡æ£‹æ£‹ç›˜ï¼Œæ±‚ç§»åŠ¨ç»“æŸåï¼Œâ€œé©¬â€ ä»ç•™åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡ã€‚</p><a id="more"></a><p>å·²çŸ¥ä¸€ä¸ª NxN çš„å›½é™…è±¡æ£‹æ£‹ç›˜ï¼Œæ£‹ç›˜çš„è¡Œå·å’Œåˆ—å·éƒ½æ˜¯ä» 0 å¼€å§‹ã€‚å³æœ€å·¦ä¸Šè§’çš„æ ¼å­è®°ä¸º (0, 0)ï¼Œæœ€å³ä¸‹è§’çš„è®°ä¸º (N-1, N-1)ã€‚ </p><p>ç°æœ‰ä¸€ä¸ª â€œé©¬â€ï¼ˆä¹Ÿè¯‘ä½œ â€œéª‘å£«â€ï¼‰ä½äº (r, c) ï¼Œå¹¶æ‰“ç®—è¿›è¡Œ K æ¬¡ç§»åŠ¨ã€‚ </p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå›½é™…è±¡æ£‹çš„ â€œé©¬â€ æ¯ä¸€æ­¥å…ˆæ²¿æ°´å¹³æˆ–å‚ç›´æ–¹å‘ç§»åŠ¨ 2 ä¸ªæ ¼å­ï¼Œç„¶åå‘ä¸ä¹‹ç›¸å‚ç›´çš„æ–¹å‘å†ç§»åŠ¨ 1 ä¸ªæ ¼å­ï¼Œå…±æœ‰ 8 ä¸ªå¯é€‰çš„ä½ç½®ã€‚</p><p>ç°åœ¨ â€œé©¬â€ æ¯ä¸€æ­¥éƒ½ä»å¯é€‰çš„ä½ç½®ï¼ˆåŒ…æ‹¬æ£‹ç›˜å¤–éƒ¨çš„ï¼‰ä¸­ç‹¬ç«‹éšæœºåœ°é€‰æ‹©ä¸€ä¸ªè¿›è¡Œç§»åŠ¨ï¼Œç›´åˆ°ç§»åŠ¨äº† K æ¬¡æˆ–è·³åˆ°äº†æ£‹ç›˜å¤–é¢ã€‚</p><p>æ±‚ç§»åŠ¨ç»“æŸåï¼Œâ€œé©¬â€ ä»ç•™åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡ã€‚</p><p>ç¤ºä¾‹ï¼š</p><pre><code>è¾“å…¥: 3, 2, 0, 0è¾“å‡º: 0.0625è§£é‡Š: è¾“å…¥çš„æ•°æ®ä¾æ¬¡ä¸º N, K, r, cç¬¬ 1 æ­¥æ—¶ï¼Œæœ‰ä¸”åªæœ‰ 2 ç§èµ°æ³•ä»¤ â€œé©¬â€ å¯ä»¥ç•™åœ¨æ£‹ç›˜ä¸Šï¼ˆè·³åˆ°ï¼ˆ1,2ï¼‰æˆ–ï¼ˆ2,1ï¼‰ï¼‰ã€‚å¯¹äºä»¥ä¸Šçš„ä¸¤ç§æƒ…å†µï¼Œå„è‡ªåœ¨ç¬¬2æ­¥å‡æœ‰ä¸”åªæœ‰2ç§èµ°æ³•ä»¤ â€œé©¬â€ ä»ç„¶ç•™åœ¨æ£‹ç›˜ä¸Šã€‚æ‰€ä»¥ â€œé©¬â€ åœ¨ç»“æŸåä»åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡ä¸º 0.0625ã€‚</code></pre><p>æ³¨æ„ï¼š</p><pre><code>N çš„å–å€¼èŒƒå›´ä¸º [1, 25]K çš„å–å€¼èŒƒå›´ä¸º [0, 100]å¼€å§‹æ—¶ï¼Œâ€œé©¬â€ æ€»æ˜¯ä½äºæ£‹ç›˜ä¸Š</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’"><a href="#æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’"></a>æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’</h1><p><strong>ç®—æ³•ï¼š</strong></p><ul><li>ä»¤ <code>f[r][c][steps]</code> ä»£è¡¨é©¬åœ¨ä½ç½® <code>(r, c)</code> ç§»åŠ¨äº† <code>steps</code> æ¬¡ä»¥åè¿˜ç•™åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡ï¼Œæ ¹æ®é©¬çš„ç§»åŠ¨æ–¹å¼ï¼Œæˆ‘ä»¬æœ‰ä»¥ä¸‹é€’å½’ï¼š<br>  <code>f[r][c][steps]=sum(f[r+dr][c+dc][steps-1])/8.0</code></li><li>æ ¹æ®é¢˜ç›®æˆ‘ä»¬å¯ä»¥çŸ¥é“ <em>(dr, dc)</em> çš„å¯èƒ½æ•°æ®å¯¹æ˜¯ <em>(2, 1),</em> <em>(2, -1),</em> <em>(-2, 1),</em> <em>(-2, -1),</em> <em>(1, 2),</em> <em>(1, -2),</em> <em>(-1, 2),</em> <em>(-1, -2)</em>ã€‚</li><li>æˆ‘ä»¬å°†ä½¿ç”¨äºŒç»´çš„ <code>dp</code> å’Œ <code>dp2</code> æ¥å­˜å‚¨æˆ‘ä»¬çš„æ•°æ®ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¸‰ç»´æ•°ç»„ <code>f</code>ã€‚<code>dp2</code> ä»£è¡¨ <code>f[][][steps]</code>ï¼Œ<code>dp</code> ä»£è¡¨ <code>f[][][steps-1]</code>ã€‚ </li></ul><details>    <summary>åŠ¨æ€è§„åˆ’Java</summary><figure class="highlight java"><figcaption><span>[solution1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">knightProbability</span><span class="params">(<span class="keyword">int</span> N, <span class="keyword">int</span> K, <span class="keyword">int</span> sr, <span class="keyword">int</span> sc)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span>[][] dp = <span class="keyword">new</span> <span class="keyword">double</span>[N][N];</span><br><span class="line">        <span class="keyword">int</span>[] dr = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">2</span>, -<span class="number">2</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span>[] dc = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>, -<span class="number">1</span>, <span class="number">2</span>, -<span class="number">2</span>, <span class="number">2</span>, -<span class="number">2</span>, <span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line"></span><br><span class="line">        dp[sr][sc] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (; K &gt; <span class="number">0</span>; K--) &#123;</span><br><span class="line">            <span class="keyword">double</span>[][] dp2 = <span class="keyword">new</span> <span class="keyword">double</span>[N][N];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; N; r++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; N; c++) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">8</span>; k++) &#123;</span><br><span class="line">                        <span class="keyword">int</span> cr = r + dr[k];</span><br><span class="line">                        <span class="keyword">int</span> cc = c + dc[k];</span><br><span class="line">                        <span class="keyword">if</span> (<span class="number">0</span> &lt;= cr &amp;&amp; cr &lt; N &amp;&amp; <span class="number">0</span> &lt;= cc &amp;&amp; cc &lt; N) &#123;</span><br><span class="line">                            dp2[cr][cc] += dp[r][c] / <span class="number">8.0</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            dp = dp2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">double</span> ans = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">double</span>[] row: dp) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">double</span> x: row) ans += x;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">```    </span><br><span class="line">    </span><br><span class="line">&lt;/details&gt;</span><br><span class="line"></span><br><span class="line">&lt;details&gt;</span><br><span class="line">    &lt;summary&gt;åŠ¨æ€è§„åˆ’Python&lt;/summary&gt;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">```python [solution1-Python]</span><br><span class="line">class Solution(object):</span><br><span class="line">    <span class="function">def <span class="title">knightProbability</span><span class="params">(self, N, K, r, c)</span>:</span></span><br><span class="line"><span class="function">        dp </span>= [[<span class="number">0</span>] * <span class="function">N <span class="keyword">for</span> _ in <span class="title">xrange</span><span class="params">(N)</span>]</span></span><br><span class="line"><span class="function">        dp[r][c] </span>= <span class="number">1</span></span><br><span class="line">        <span class="function"><span class="keyword">for</span> _ in <span class="title">xrange</span><span class="params">(K)</span>:</span></span><br><span class="line"><span class="function">            dp2 </span>= [[<span class="number">0</span>] * <span class="function">N <span class="keyword">for</span> _ in <span class="title">xrange</span><span class="params">(N)</span>]</span></span><br><span class="line"><span class="function">            <span class="keyword">for</span> r, row in <span class="title">enumerate</span><span class="params">(dp)</span>:</span></span><br><span class="line"><span class="function">                <span class="keyword">for</span> c, val in <span class="title">enumerate</span><span class="params">(row)</span>:</span></span><br><span class="line"><span class="function">                    <span class="keyword">for</span> dr, dc <span class="title">in</span> <span class="params">((<span class="number">2</span>,<span class="number">1</span>)</span>,<span class="params">(<span class="number">2</span>,<span class="number">-1</span>)</span>,<span class="params">(<span class="number">-2</span>,<span class="number">1</span>)</span>,<span class="params">(<span class="number">-2</span>,<span class="number">-1</span>)</span>,</span></span><br><span class="line"><span class="function">                                   <span class="params">(<span class="number">1</span>,<span class="number">2</span>)</span>,<span class="params">(<span class="number">1</span>,<span class="number">-2</span>)</span>,<span class="params">(<span class="number">-1</span>,<span class="number">2</span>)</span>,<span class="params">(<span class="number">-1</span>,<span class="number">-2</span>)</span>):</span></span><br><span class="line"><span class="function">                        <span class="keyword">if</span> 0 &lt;</span>= r + dr &lt; N and <span class="number">0</span> &lt;= c + dc &lt; N:</span><br><span class="line">                            dp2[r+dr][c+dc] += val / <span class="number">8.0</span></span><br><span class="line">            dp = dp2</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sum(map(sum, dp))</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N^2 K)*ã€‚å…¶ä¸­ *N, K</em> ä¸ºé¢˜ç›®ä¸­çš„å®šä¹‰ã€‚æˆ‘ä»¬å¯¹ <em>N^2</em> å…ƒç´ çš„æ¯ä¸€å±‚ <code>dp</code> è¿›è¡Œ <em>O(1)</em> å·¥ä½œï¼Œå¹¶ä¸”è€ƒè™‘äº† <em>K</em> å±‚ã€‚ </li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N^2)</em>ï¼Œ<code>dp</code> å’Œ <code>dp2</code> çš„å¤§å°ã€‚ </li></ul><h1 id="æ–¹æ³•äºŒï¼šçŸ©é˜µæ±‚å¹‚"><a href="#æ–¹æ³•äºŒï¼šçŸ©é˜µæ±‚å¹‚" class="headerlink" title="æ–¹æ³•äºŒï¼šçŸ©é˜µæ±‚å¹‚"></a>æ–¹æ³•äºŒï¼šçŸ©é˜µæ±‚å¹‚</h1><p>æ–¹æ³• 1 ä¸­è¡¨ç¤ºçš„çŠ¶æ€é‡å¤è¡¨è¾¾äº†è¿‡æ¸¡åˆ°å…¶ä»–çš„çº¿æ€§ç»„åˆçš„çŠ¶æ€ã€‚ ä»»ä½•æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥å°†æ•´ä¸ªè½¬æ¢è¡¨ç¤ºä¸ºè¿™äº›çº¿æ€§ç»„åˆçš„çŸ©é˜µã€‚ç„¶åï¼Œè¿™ä¸ªçŸ©é˜µçš„ç¬¬ <em>n</em> æ¬¡æ–¹ä»£è¡¨äº† <em>n</em> ç§»åŠ¨çš„è½¬æ¢ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†é—®é¢˜ç®€åŒ–ä¸ºçŸ©é˜µæ±‚å¹‚é—®é¢˜ã€‚ </p><p><strong>ç®—æ³•ï¼š</strong></p><p>è§<a href="https://leetcode-cn.com/problems/knight-probability-in-chessboard/solution/ma-zai-qi-pan-shang-de-gai-lu-by-leetcode/" target="_blank" rel="noopener">^1</a></p><details>    <summary>çŸ©é˜µæ±‚å¹‚Java</summary><figure class="highlight java"><figcaption><span>[solution2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">knightProbability</span><span class="params">(<span class="keyword">int</span> N, <span class="keyword">int</span> K, <span class="keyword">int</span> sr, <span class="keyword">int</span> sc)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] dr = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, -<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, -<span class="number">2</span>, -<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span>[] dc = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">2</span>, -<span class="number">2</span>, <span class="number">2</span>, -<span class="number">2</span>, <span class="number">1</span>, -<span class="number">1</span>, <span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span>[] index = <span class="keyword">new</span> <span class="keyword">int</span>[N * N];</span><br><span class="line">        <span class="keyword">int</span> t = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; N; r++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; N; c++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (r * N + c == canonical(r, c, N)) &#123;</span><br><span class="line">                    index[r * N + c] = t;</span><br><span class="line">                    t++;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    index[r * N + c] = index[canonical(r, c, N)];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span>[][] T = <span class="keyword">new</span> <span class="keyword">double</span>[t][t];</span><br><span class="line">        <span class="keyword">int</span> curRow = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; N; r++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; N; c++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (r * N + c == canonical(r, c, N)) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">8</span>; k++) &#123;</span><br><span class="line">                        <span class="keyword">int</span> cr = r + dr[k], cc = c + dc[k];</span><br><span class="line">                        <span class="keyword">if</span> (<span class="number">0</span> &lt;= cr &amp;&amp; cr &lt; N &amp;&amp; <span class="number">0</span> &lt;= cc &amp;&amp; cc &lt; N) &#123;</span><br><span class="line">                            T[curRow][index[canonical(cr, cc, N)]] += <span class="number">0.125</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    curRow++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span>[] row = matrixExpo(T, K)[index[sr*N + sc]];</span><br><span class="line">        <span class="keyword">double</span> ans = <span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">double</span> x: row) ans += x;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">canonical</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c, <span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">2</span>*r &gt; N) r = N-<span class="number">1</span>-r;</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">2</span>*c &gt; N) c = N-<span class="number">1</span>-c;</span><br><span class="line">        <span class="keyword">if</span> (r &gt; c) &#123;</span><br><span class="line">            <span class="keyword">int</span> t = r;</span><br><span class="line">            r = c;</span><br><span class="line">            c = t;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r * N + c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">double</span>[][] matrixMult(<span class="keyword">double</span>[][] A, <span class="keyword">double</span>[][] B) &#123;</span><br><span class="line">        <span class="keyword">double</span>[][] ans = <span class="keyword">new</span> <span class="keyword">double</span>[A.length][A.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; A.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; B[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; B.length; k++) &#123;</span><br><span class="line">                    ans[i][j] += A[i][k] * B[k][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">double</span>[][] matrixExpo(<span class="keyword">double</span>[][] A, <span class="keyword">int</span> pow) &#123;</span><br><span class="line">        <span class="keyword">double</span>[][] ans = <span class="keyword">new</span> <span class="keyword">double</span>[A.length][A.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; A.length; i++) ans[i][i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (pow == <span class="number">0</span>) <span class="keyword">return</span> ans;</span><br><span class="line">        <span class="keyword">if</span> (pow == <span class="number">1</span>) <span class="keyword">return</span> A;</span><br><span class="line">        <span class="keyword">if</span> (pow % <span class="number">2</span> == <span class="number">1</span>) <span class="keyword">return</span> matrixMult(matrixExpo(A, pow-<span class="number">1</span>), A);</span><br><span class="line">        <span class="keyword">double</span>[][] B = matrixExpo(A, pow / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> matrixMult(B, B);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>çŸ©é˜µæ±‚å¹‚Python</summary><figure class="highlight python"><figcaption><span>[solution2-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">knightProbability</span><span class="params">(self, N, K, sr, sc)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">canonical</span><span class="params">(r, c)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> <span class="number">2</span> * r &gt; N: r = N - <span class="number">1</span> - r</span><br><span class="line">            <span class="keyword">if</span> <span class="number">2</span> * c &gt; N: c = N - <span class="number">1</span> - c</span><br><span class="line">            <span class="keyword">if</span> r &gt; c: r, c = c, r</span><br><span class="line">            <span class="keyword">return</span> r*N + c</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">matrix_mult</span><span class="params">(A, B)</span>:</span></span><br><span class="line">            ZB = zip(*B)</span><br><span class="line">            <span class="keyword">return</span> [[sum(a * b <span class="keyword">for</span> a, b <span class="keyword">in</span> zip(row, col))</span><br><span class="line">                     <span class="keyword">for</span> col <span class="keyword">in</span> ZB] <span class="keyword">for</span> row <span class="keyword">in</span> A]</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">matrix_expo</span><span class="params">(A, K)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> K == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> [[+(i==j) <span class="keyword">for</span> j <span class="keyword">in</span> xrange(len(A))]</span><br><span class="line">                        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(len(A))]</span><br><span class="line">            <span class="keyword">if</span> K == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> A</span><br><span class="line">            <span class="keyword">elif</span> K % <span class="number">2</span>:</span><br><span class="line">                <span class="keyword">return</span> matrix_mult(matrix_expo(A, K<span class="number">-1</span>), A)</span><br><span class="line">            B = matrix_expo(A, K/<span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> matrix_mult(B, B)</span><br><span class="line"></span><br><span class="line">        index = [<span class="number">0</span>] * (N*N)</span><br><span class="line">        t = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> xrange(N):</span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> xrange(N):</span><br><span class="line">                <span class="keyword">if</span> r*N + c == canonical(r, c):</span><br><span class="line">                    index[r*N + c] = t</span><br><span class="line">                    t += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    index[r*N + c] = index[canonical(r, c)]</span><br><span class="line"></span><br><span class="line">        T = []</span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> xrange(N):</span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> xrange(N):</span><br><span class="line">                <span class="keyword">if</span> r*N + c == canonical(r, c):</span><br><span class="line">                    row = [<span class="number">0</span>] * t</span><br><span class="line">                    <span class="keyword">for</span> dr, dc <span class="keyword">in</span> ((<span class="number">2</span>,<span class="number">1</span>),(<span class="number">2</span>,<span class="number">-1</span>),(<span class="number">-2</span>,<span class="number">1</span>),(<span class="number">-2</span>,<span class="number">-1</span>),</span><br><span class="line">                                    (<span class="number">1</span>,<span class="number">2</span>),(<span class="number">1</span>,<span class="number">-2</span>),(<span class="number">-1</span>,<span class="number">2</span>),(<span class="number">-1</span>,<span class="number">-2</span>)):</span><br><span class="line">                        <span class="keyword">if</span> <span class="number">0</span> &lt;= r+dr &lt; N <span class="keyword">and</span> <span class="number">0</span> &lt;= c+dc &lt; N:</span><br><span class="line">                            row[index[(r+dr)*N + c+dc]] += <span class="number">0.125</span></span><br><span class="line">                    T.append(row)</span><br><span class="line"></span><br><span class="line">        Tk = matrix_expo(T, K)</span><br><span class="line">        i = index[sr * N + sc]</span><br><span class="line">        <span class="keyword">return</span> sum(Tk[i])</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å·²çŸ¥ä¸€ä¸ª NxN çš„å›½é™…è±¡æ£‹æ£‹ç›˜ï¼Œæ±‚ç§»åŠ¨ç»“æŸåï¼Œâ€œé©¬â€ ä»ç•™åœ¨æ£‹ç›˜ä¸Šçš„æ¦‚ç‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´1æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B41%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Dynammic Programming" scheme="http://yoursite.com/tags/Dynammic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>782. å˜ä¸ºæ£‹ç›˜</title>
    <link href="http://yoursite.com/2021/01/27/782.%20%E5%8F%98%E4%B8%BA%E6%A3%8B%E7%9B%98/"/>
    <id>http://yoursite.com/2021/01/27/782. å˜ä¸ºæ£‹ç›˜/</id>
    <published>2021-01-27T09:23:12.000Z</published>
    <updated>2021-02-01T10:02:42.648Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€ä¸ª N x Nçš„ board ä»…ç”± 0 å’Œ 1 ç»„æˆ ã€‚æ¯æ¬¡ç§»åŠ¨ï¼Œä½ èƒ½ä»»æ„äº¤æ¢ä¸¤åˆ—æˆ–æ˜¯ä¸¤è¡Œçš„ä½ç½®ã€‚</p><p>è¾“å‡ºå°†è¿™ä¸ªçŸ©é˜µå˜ä¸º â€œæ£‹ç›˜â€ æ‰€éœ€çš„æœ€å°ç§»åŠ¨æ¬¡æ•°ã€‚â€œæ£‹ç›˜â€ æ˜¯æŒ‡ä»»æ„ä¸€æ ¼çš„ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘çš„å€¼å‡ä¸æœ¬èº«ä¸åŒçš„çŸ©é˜µã€‚å¦‚æœä¸å­˜åœ¨å¯è¡Œçš„å˜æ¢ï¼Œè¾“å‡º -1ã€‚</p><a id="more"></a><p>ç¤ºä¾‹:</p><pre><code>è¾“å…¥: board = [[0,1,1,0],[0,1,1,0],[1,0,0,1],[1,0,0,1]]è¾“å‡º: 2è§£é‡Š:ä¸€ç§å¯è¡Œçš„å˜æ¢æ–¹å¼å¦‚ä¸‹ï¼Œä»å·¦åˆ°å³ï¼š0110     1010     10100110 --&gt; 1010 --&gt; 01011001     0101     10101001     0101     0101ç¬¬ä¸€æ¬¡ç§»åŠ¨äº¤æ¢äº†ç¬¬ä¸€åˆ—å’Œç¬¬äºŒåˆ—ã€‚ç¬¬äºŒæ¬¡ç§»åŠ¨äº¤æ¢äº†ç¬¬äºŒè¡Œå’Œç¬¬ä¸‰è¡Œã€‚è¾“å…¥: board = [[0, 1], [1, 0]]è¾“å‡º: 0è§£é‡Š:æ³¨æ„å·¦ä¸Šè§’çš„æ ¼å€¼ä¸º0æ—¶ä¹Ÿæ˜¯åˆæ³•çš„æ£‹ç›˜ï¼Œå¦‚ï¼š0110ä¹Ÿæ˜¯åˆæ³•çš„æ£‹ç›˜.è¾“å…¥: board = [[1, 0], [1, 0]]è¾“å‡º: -1è§£é‡Š:ä»»æ„çš„å˜æ¢éƒ½ä¸èƒ½ä½¿è¿™ä¸ªè¾“å…¥å˜ä¸ºåˆæ³•çš„æ£‹ç›˜ã€‚æç¤ºï¼šboard æ˜¯æ–¹é˜µï¼Œä¸”è¡Œåˆ—æ•°çš„èŒƒå›´æ˜¯[2, 30]ã€‚board[i][j] å°†åªåŒ…å« 0æˆ– 1ã€‚</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šåˆ†ç»´åº¦è®¡ç®—"><a href="#æ–¹æ³•ä¸€ï¼šåˆ†ç»´åº¦è®¡ç®—" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåˆ†ç»´åº¦è®¡ç®—"></a>æ–¹æ³•ä¸€ï¼šåˆ†ç»´åº¦è®¡ç®—</h1><p><strong>æ€è·¯</strong></p><p>é¦–å…ˆéœ€è¦æ€è€ƒçš„æ˜¯ä¸€æ¬¡äº¤æ¢ä¹‹åï¼Œæ£‹ç›˜ä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œè¿™é‡Œç”¨äº¤æ¢åˆ—æ¥åšä¾‹å­ã€‚åœ¨å¯¹ä»»æ„ä¸¤åˆ—è¿›è¡Œäº¤æ¢ä¹‹åï¼Œå¯ä»¥çœ‹åˆ°åˆ—äº¤æ¢æ˜¯ä¸ä¼šæ”¹å˜ä»»æ„ä¸¤è¡Œä¹‹é—´çš„çŠ¶æ€çš„ï¼Œç®€å•çš„æ¥è¯´å¦‚æœè¿™ä¸¤è¡ŒåŸæœ¬å°±ç›¸åŒï¼Œåˆ—äº¤æ¢ä¹‹åè¿™ä¸¤è¡Œä¾æ—§ç›¸åŒï¼Œå¦‚æœè¿™ä¸¤è¡Œæœ¬æ¥å°±ä¸åŒï¼Œåˆ—äº¤æ¢ä¹‹åä¹Ÿè¿˜æ˜¯ä¸åŒã€‚ç”±äºæœ€ç»ˆçš„æ£‹ç›˜åªæœ‰ä¸¤ç§ä¸åŒçš„è¡Œï¼Œæœ€åˆçš„æ£‹ç›˜ä¹Ÿä¸€å®šåªæœ‰ä¸¤ç§ä¸åŒçš„è¡Œï¼Œå¦åˆ™ä¸ç®¡æ€ä¹ˆåšåˆ—äº¤æ¢éƒ½ä¸ä¼šå¾—åˆ°æœ€ç»ˆçš„æ£‹ç›˜ã€‚</p><p>ä¹‹åå†æ¥çœ‹æ£‹ç›˜è¡Œçš„è§„å¾‹ï¼Œæ£‹ç›˜æœ‰ä¸¤ç§è¡Œï¼Œè¿™ä¸¤ç§è¡Œæ¯ä¸€ä½éƒ½äº’ç›¸ä¸åŒã€‚åŒæ—¶å¯¹äºæ¯ä¸€è¡Œæ¥è¯´ï¼Œä¸€å®šæœ‰ä¸€åŠä¸º <code>1</code>ï¼Œä¸€åŠä¸º <code>0</code>ï¼ˆå¦‚æœé•¿åº¦ä¸ºå¥‡æ•°ï¼Œä¼šå¤šä¸€ä¸ª <code>1</code> æˆ–å¤šä¸€ä¸ª <code>0</code>ï¼‰ã€‚å¯¹äºæ£‹ç›˜çš„åˆ—ä¹Ÿæ˜¯åŒæ ·çš„è§„å¾‹ã€‚</p><p>å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œå…ˆæ¢è¡Œå†æ¢åˆ—è·Ÿå…ˆæ¢åˆ—å†æ¢è¡Œç»“æœæ˜¯ä¸€æ ·çš„ã€‚åœ¨è¿™é‡Œå…ˆå°†æ‰€æœ‰çš„è¡Œè°ƒåˆ°æ­£ç¡®çš„ä½ç½®ï¼Œå†å°†æ‰€æœ‰çš„åˆ—è°ƒåˆ°æ­£ç¡®çš„ä½ç½®ã€‚</p><p>è€ƒè™‘åˆ°åªæœ‰ä¸¤ç§ä¸åŒçš„è¡Œï¼Œå¯ä»¥åˆ†åˆ«ç”¨ 0ï¼Œ1 å¯¹å…¶è¡¨ç¤ºã€‚è¦è¾¾æˆæœ€ç»ˆçš„æ£‹ç›˜å®é™…ä¸Šç­‰ä»·äºå°†æ£‹ç›˜çš„è¡Œè¡¨ç¤ºæˆ 0ï¼Œ1ç›¸éš”çš„çŠ¶æ€ã€‚å‡è®¾åœ¨å°†æ£‹ç›˜çš„è¡Œç”¨ 0ï¼Œ1 è¡¨ç¤ºä¹‹åå¾—åˆ°æ•°ç»„ä¸º <code>[0, 1, 1, 1, 0, 0]</code>ï¼Œé‚£ä¹ˆåªéœ€æ±‚è¿™ä¸ªæ•°ç»„å˜æˆ <code>[0, 1, 0, 1, 0, 1]</code> å’Œ <code>[1, 0, 1, 0, 1, 0]</code> çš„ä»£ä»·ï¼Œä¹‹åå–å…¶ä¸­æœ€å°çš„ä»£ä»·å°±å¥½äº†ã€‚åŒç†ï¼Œå¯¹åˆ—ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œè¿™å°±å°†äºŒç»´é—®é¢˜å˜æˆäº†ä¸¤ä¸ªä¸€ç»´é—®é¢˜ã€‚</p><p><strong>ç®—æ³•</strong></p><p>é¦–å…ˆéœ€è¦ç¡®è®¤æ˜¯å¦æœ‰ä¸”åªæœ‰ä¸¤ç§è¡Œï¼ˆåˆ—ï¼‰å­˜åœ¨ï¼Œä¸”è¿™ä¸¤ç§è¡Œï¼ˆåˆ—ï¼‰çš„ 0ï¼Œ1 æ’å¸ƒåˆæ³•ï¼Œå¦‚æœä¸ç¬¦åˆæ¡ä»¶ç›´æ¥è¿”å› <code>-1</code>ã€‚ä¹‹åéœ€è¦ç”Ÿæˆç†æƒ³çš„è¡Œï¼ˆåˆ—ï¼‰çš„çŠ¶æ€ï¼ˆå³0ï¼Œ1ç›¸éš”çš„æ•°ç»„æ’åˆ—ï¼‰ï¼Œå¯¹äºæ¯ç§ç†æƒ³çŠ¶æ€ï¼Œè®¡ç®—å…¶ä¸åˆå§‹çŠ¶æ€ä¹‹é—´å˜æ¢çš„ä»£ä»·ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¯¹äº <code>[0, 1, 1, 1, 0, 0]</code> åˆå§‹çŠ¶æ€æ¥è¯´ï¼Œæœ‰ä¸¤ç§ç†æƒ³çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯ <code>[0, 1, 0, 1, 0, 1]</code> å’Œ <code>[1, 0, 1, 0, 1, 0]</code>ï¼Œå¯¹äº <code>[0, 1, 1, 1, 0]</code> åˆå§‹çŠ¶æ€åªæœ‰ä¸€ç§ç†æƒ³çŠ¶æ€ <code>[1, 0, 1, 0, 1]</code>ã€‚</p><p>åœ¨ Java å®ç°ä¸­ï¼Œç”¨æ•´å‹æ¥è¡¨ç¤ºæ¯è¡Œã€‚ä¹‹åå°†å…¶ä¸ <code>0b010101010101.....01</code> è¿›è¡Œå¼‚æˆ–æ¥è®¡ç®—åˆå§‹çŠ¶æ€è½¬æ¢åˆ°ç†æƒ³çŠ¶æ€çš„ä»£ä»·ã€‚ä¸ºäº†ä»£ç ç®€æ´ï¼Œè¿™é‡Œç»Ÿä¸€ä½¿ç”¨ <code>0xAAAAAAAA</code> å’Œ <code>0x55555555</code>ï¼Œä¸ºäº†ä¸å¼•å…¥é¢å¤–çš„è½¬æ¢ä»£ä»·ï¼Œè¿˜éœ€è¦æ ¹æ®è¡Œçš„é•¿åº¦ <code>N</code> ç”Ÿæˆ <code>0b00...0011...11</code> æ©ç ä¸ç»“æœåšä¸è¿ç®—ã€‚</p><details>    <summary>åˆ†ç»´åº¦è®¡ç®—Java</summary><figure class="highlight java"><figcaption><span>[solution1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å…³é”®ç‚¹ï¼š</span></span><br><span class="line">    <span class="comment">// 1ã€è¡Œäº¤æ¢ä¸å½±å“åˆ—ä¹‹é—´çš„ç›¸åŒä¸å¦çŠ¶æ€ï¼ˆåˆ—äº¤æ¢åŒç†ï¼‰ï¼Œå¯ä»¥åˆ†åˆ«è®¡ç®—</span></span><br><span class="line">    <span class="comment">// 2ã€æŸè¡Œï¼ˆåˆ—ï¼‰0ã€1çš„ä¸ªæ•°æ˜¯ä¸€åŠï¼ˆ+1ï¼‰</span></span><br><span class="line">    <span class="comment">// 3ã€åªæœ‰ä¸¤ç§çŠ¶æ€çš„è¡Œï¼ˆåˆ—ï¼‰ï¼Œä¸”ä¸ªæ•°æ˜¯ä¸€åŠï¼ˆ+1ï¼‰</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">movesToChessboard</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> N = board.length;</span><br><span class="line"></span><br><span class="line">        Map&lt;Integer, Integer&gt; count = <span class="keyword">new</span> HashMap();</span><br><span class="line">        <span class="comment">// å…ˆæ£€æŸ¥è¡Œå±æ€§</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] row: board) &#123; </span><br><span class="line">            <span class="keyword">int</span> code = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> x: row)  <span class="comment">// æ¯è¡Œä¸­çš„å…ƒç´ ä»¬</span></span><br><span class="line">                code = <span class="number">2</span> * code + x; <span class="comment">// codeä»£è¡¨æ­¤è¡Œçš„äºŒè¿›åˆ¶æ•°ï¼Œå³*2ï¼ˆå·¦ç§»ï¼‰+å½“å‰æ•°</span></span><br><span class="line">            <span class="comment">//æŠŠæ¯è¡Œçš„&lt;äºŒè¿›åˆ¶æ•°codeï¼Œå¯¹åº”çš„è¡Œæ•°&gt;æ”¾åˆ°map</span></span><br><span class="line">            count.put(code, count.getOrDefault(code, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> k1 = analyzeCount(count, N); <span class="comment">// è®¡ç®—è¡Œäº¤æ¢æ¬¡æ•°ï¼ˆå…¶å®æ˜¯ä½¿è¡Œæ’åˆ—æ­£ç¡®ï¼Œéœ€è¦äº¤æ¢åˆ—ï¼‰</span></span><br><span class="line">        <span class="keyword">if</span> (k1 == -<span class="number">1</span>) <span class="keyword">return</span> -<span class="number">1</span>; <span class="comment">//  è¡Œä¸æ­£ç¡®ç›´æ¥è¿”å›</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ£€æŸ¥åˆ—å±æ€§ï¼ˆå’Œè¡Œä¸€æ ·ï¼‰</span></span><br><span class="line">        count = <span class="keyword">new</span> HashMap();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; N; ++c) &#123;</span><br><span class="line">            <span class="keyword">int</span> code = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; N; ++r)</span><br><span class="line">                code = <span class="number">2</span> * code + board[r][c];</span><br><span class="line">            count.put(code, count.getOrDefault(code, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> k2 = analyzeCount(count, N); <span class="comment">// è®¡ç®—åˆ—äº¤æ¢æ¬¡æ•°</span></span><br><span class="line">        <span class="keyword">return</span> k2 &gt;= <span class="number">0</span> ? k1 + k2 : -<span class="number">1</span>;  <span class="comment">// èµ°åˆ°è¿™é‡Œè¯´æ˜è¡Œæ­£ç¡®ï¼Œè‹¥åˆ—ä¸æ­£ç¡®è¿”å›-1ï¼Œå¦åˆ™è¿”å›äºŒè€…å’Œ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">analyzeCount</span><span class="params">(Map&lt;Integer, Integer&gt; count, <span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è‹¥çŠ¶æ€ä¸æ˜¯2ç§ï¼Œè‚¯å®šä¸è¡Œï¼Œè¿”å›-1</span></span><br><span class="line">        <span class="keyword">if</span> (count.size() != <span class="number">2</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        List&lt;Integer&gt; keys = <span class="keyword">new</span> ArrayList(count.keySet());</span><br><span class="line">        <span class="keyword">int</span> k1 = keys.get(<span class="number">0</span>), k2 = keys.get(<span class="number">1</span>); <span class="comment">// k1ï¼Œk2å°±æ˜¯ä¸Šé¢çš„codeäºŒè¿›åˆ¶æ•°</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸¤ç§çŠ¶æ€çš„è¡Œï¼ˆåˆ—ï¼‰éƒ½ä¸æ˜¯ä¸€åŠï¼ˆ+1ï¼‰</span></span><br><span class="line">        <span class="keyword">if</span> (!(count.get(k1) == N/<span class="number">2</span> &amp;&amp; count.get(k2) == (N+<span class="number">1</span>)/<span class="number">2</span>) &amp;&amp;</span><br><span class="line">                !(count.get(k2) == N/<span class="number">2</span> &amp;&amp; count.get(k1) == (N+<span class="number">1</span>)/<span class="number">2</span>))</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸¤ç§ä¸ç›¸åï¼Œé”™è¯¯ï¼š</span></span><br><span class="line">        <span class="comment">// å·§å¦™çš„ç”¨å¼‚æˆ–ï¼Œå’ŒNä½1æ¯”è¾ƒ</span></span><br><span class="line">        <span class="keyword">if</span> ((k1 ^ k2) != (<span class="number">1</span>&lt;&lt;N) - <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> Nones = (<span class="number">1</span> &lt;&lt; N) - <span class="number">1</span>;<span class="comment">// Nä½1ï¼š00..0011..111ï¼Œåé¢&amp; Nonesæ˜¯ä¸ºäº†æˆªæ–­å‰é¢å¤šä½™çš„ä½æ•°ï¼Œ</span></span><br><span class="line">        <span class="keyword">int</span> ones = Integer.bitCount(k1 &amp; Nones); <span class="comment">// bitCountç»Ÿè®¡çŠ¶æ€1çš„äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">int</span> cand = Integer.MAX_VALUE;</span><br><span class="line">        <span class="comment">// ä»¥ä¸‹ä¸¤ç§æƒ…å†µéƒ½è¦è®¡ç®—ä¸€æ¬¡ï¼šè¦ä½¿è¡Œä¸­çš„æ•°å­—ç›¸é‚»ä¹‹é—´ä¸åŒï¼Œéœ€è¦äº¤æ¢åˆ—</span></span><br><span class="line">        <span class="comment">// Næ˜¯å¶æ•°ï¼Œæˆ–è€…å¥‡æ•°ä¸”1çš„ä¸ªæ•°å°äºNï¼Œé‚£ä¹ˆå°±æ˜¯0å¼€å¤´çš„çŠ¶æ€ï¼ˆAAAAæˆªNä½åˆšå¥½é¦–å°¾æ˜¯0ï¼‰</span></span><br><span class="line">        <span class="keyword">if</span> (N%<span class="number">2</span> == <span class="number">0</span> || ones * <span class="number">2</span> &lt; N) <span class="comment">// 0xAAAAAAAAï¼š10101010101010101010101010101010</span></span><br><span class="line">            <span class="comment">// æ‰¾åˆ°ä¸æ­£ç¡®çš„1010...ç›¸å·®çš„ä½æ•°ï¼Œåˆ™éœ€è¦äº¤æ¢çš„æ¬¡æ•°æ˜¯ä¸€åŠï¼ˆ/2ï¼‰</span></span><br><span class="line">            cand = Math.min(cand, Integer.bitCount(k1 ^ <span class="number">0xAAAAAAAA</span> &amp; Nones) / <span class="number">2</span>);</span><br><span class="line">        <span class="comment">// Næ˜¯å¶æ•°ï¼Œæˆ–è€…å¥‡æ•°ä¸”1çš„ä¸ªæ•°å¤§äºNï¼Œé‚£ä¹ˆå°±æ˜¯1å¼€å¤´çš„çŠ¶æ€</span></span><br><span class="line">        <span class="keyword">if</span> (N%<span class="number">2</span> == <span class="number">0</span> || ones * <span class="number">2</span> &gt; N) <span class="comment">// 0x55555555ï¼š01010101010101010101010101010101</span></span><br><span class="line">            cand = Math.min(cand, Integer.bitCount(k1 ^ <span class="number">0x55555555</span> &amp; Nones) / <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cand;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>åˆ†ç»´åº¦è®¡ç®—Python</summary><figure class="highlight python"><figcaption><span>[solution1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">movesToChessboard</span><span class="params">(self, board)</span>:</span></span><br><span class="line">        N = len(board)</span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="comment"># For each count of lines from &#123;rows, columns&#125;...</span></span><br><span class="line">        <span class="keyword">for</span> count <span class="keyword">in</span> (collections.Counter(map(tuple, board)),</span><br><span class="line">                      collections.Counter(zip(*board))):</span><br><span class="line"></span><br><span class="line">            <span class="comment"># If there are more than 2 kinds of lines,</span></span><br><span class="line">            <span class="comment"># or if the number of kinds is not appropriate ...</span></span><br><span class="line">            <span class="keyword">if</span> len(count) != <span class="number">2</span> <span class="keyword">or</span> sorted(count.values()) != [N/<span class="number">2</span>, (N+<span class="number">1</span>)/<span class="number">2</span>]:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># If the lines are not opposite each other, impossible</span></span><br><span class="line">            line1, line2 = count</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> all(x ^ y <span class="keyword">for</span> x, y <span class="keyword">in</span> zip(line1, line2)):</span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># starts = what could be the starting value of line1</span></span><br><span class="line">            <span class="comment"># If N is odd, then we have to start with the more</span></span><br><span class="line">            <span class="comment"># frequent element</span></span><br><span class="line">            starts = [+(line1.count(<span class="number">1</span>) * <span class="number">2</span> &gt; N)] <span class="keyword">if</span> N%<span class="number">2</span> <span class="keyword">else</span> [<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">            <span class="comment"># To transform line1 into the ideal line [i%2 for i ...],</span></span><br><span class="line">            <span class="comment"># we take the number of differences and divide by two</span></span><br><span class="line">            ans += min(sum((i-x) % <span class="number">2</span> <span class="keyword">for</span> i, x <span class="keyword">in</span> enumerate(line1, start))</span><br><span class="line">                       <span class="keyword">for</span> start <span class="keyword">in</span> starts) / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N^2)*ï¼Œå…¶ä¸­ *N</em> æ˜¯ <code>board</code> çš„è¡Œï¼ˆæˆ–åˆ—ï¼‰çš„é•¿åº¦ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em>ï¼Œ<code>count</code> çš„ç©ºé—´ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸€ä¸ª N x Nçš„ board ä»…ç”± 0 å’Œ 1 ç»„æˆ ã€‚æ¯æ¬¡ç§»åŠ¨ï¼Œä½ èƒ½ä»»æ„äº¤æ¢ä¸¤åˆ—æˆ–æ˜¯ä¸¤è¡Œçš„ä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;è¾“å‡ºå°†è¿™ä¸ªçŸ©é˜µå˜ä¸º â€œæ£‹ç›˜â€ æ‰€éœ€çš„æœ€å°ç§»åŠ¨æ¬¡æ•°ã€‚â€œæ£‹ç›˜â€ æ˜¯æŒ‡ä»»æ„ä¸€æ ¼çš„ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘çš„å€¼å‡ä¸æœ¬èº«ä¸åŒçš„çŸ©é˜µã€‚å¦‚æœä¸å­˜åœ¨å¯è¡Œçš„å˜æ¢ï¼Œè¾“å‡º -1ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´1æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B41%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>1275. æ‰¾å‡ºäº•å­—æ£‹çš„è·èƒœè€…</title>
    <link href="http://yoursite.com/2021/01/25/1275.%20%E6%89%BE%E5%87%BA%E4%BA%95%E5%AD%97%E6%A3%8B%E7%9A%84%E8%8E%B7%E8%83%9C%E8%80%85/"/>
    <id>http://yoursite.com/2021/01/25/1275. æ‰¾å‡ºäº•å­—æ£‹çš„è·èƒœè€…/</id>
    <published>2021-01-25T06:12:12.000Z</published>
    <updated>2021-01-27T09:22:43.454Z</updated>
    
    <content type="html"><![CDATA[<p>A å’Œ B åœ¨ä¸€ä¸ª 3 x 3 çš„ç½‘æ ¼ä¸Šç©äº•å­—æ£‹ã€‚æœ€è¿‘å¯¹æ£‹ç±»æ¸¸æˆæ ¼å¤–æ„Ÿå…´è¶£ï¼Œå‡†å¤‡æ·±å…¥ç ”ç©¶ç ”ç©¶ã€‚</p><a id="more"></a><p>äº•å­—æ£‹æ¸¸æˆçš„è§„åˆ™å¦‚ä¸‹ï¼š</p><p>ç©å®¶è½®æµå°†æ£‹å­æ”¾åœ¨ç©ºæ–¹æ ¼ (â€œ â€œ) ä¸Šã€‚<br>ç¬¬ä¸€ä¸ªç©å®¶ A æ€»æ˜¯ç”¨ â€œXâ€ ä½œä¸ºæ£‹å­ï¼Œè€Œç¬¬äºŒä¸ªç©å®¶ B æ€»æ˜¯ç”¨ â€œOâ€ ä½œä¸ºæ£‹å­ã€‚</p><p>â€œXâ€ å’Œ â€œOâ€ åªèƒ½æ”¾åœ¨ç©ºæ–¹æ ¼ä¸­ï¼Œè€Œä¸èƒ½æ”¾åœ¨å·²ç»è¢«å ç”¨çš„æ–¹æ ¼ä¸Šã€‚</p><p>åªè¦æœ‰ 3 ä¸ªç›¸åŒçš„ï¼ˆéç©ºï¼‰æ£‹å­æ’æˆä¸€æ¡ç›´çº¿ï¼ˆè¡Œã€åˆ—ã€å¯¹è§’çº¿ï¼‰æ—¶ï¼Œæ¸¸æˆç»“æŸã€‚</p><p>å¦‚æœæ‰€æœ‰æ–¹å—éƒ½æ”¾æ»¡æ£‹å­ï¼ˆä¸ä¸ºç©ºï¼‰ï¼Œæ¸¸æˆä¹Ÿä¼šç»“æŸã€‚<br>æ¸¸æˆç»“æŸåï¼Œæ£‹å­æ— æ³•å†è¿›è¡Œä»»ä½•ç§»åŠ¨ã€‚</p><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ movesï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ æ˜¯å¤§å°ä¸º 2 çš„å¦ä¸€ä¸ªæ•°ç»„ï¼ˆå…ƒç´ åˆ†åˆ«å¯¹åº”ç½‘æ ¼çš„è¡Œå’Œåˆ—ï¼‰ï¼Œå®ƒæŒ‰ç…§ A å’Œ B çš„è¡ŒåŠ¨é¡ºåºï¼ˆå…ˆ A å Bï¼‰è®°å½•äº†ä¸¤äººå„è‡ªçš„æ£‹å­ä½ç½®ã€‚</p><p>å¦‚æœæ¸¸æˆå­˜åœ¨è·èƒœè€…ï¼ˆA æˆ– Bï¼‰ï¼Œå°±è¿”å›è¯¥æ¸¸æˆçš„è·èƒœè€…ï¼›å¦‚æœæ¸¸æˆä»¥å¹³å±€ç»“æŸï¼Œåˆ™è¿”å› â€œDrawâ€ï¼›å¦‚æœä»ä¼šæœ‰è¡ŒåŠ¨ï¼ˆæ¸¸æˆæœªç»“æŸï¼‰ï¼Œåˆ™è¿”å› â€œPendingâ€ã€‚</p><p>ä½ å¯ä»¥å‡è®¾ moves éƒ½ æœ‰æ•ˆï¼ˆéµå¾ªäº•å­—æ£‹è§„åˆ™ï¼‰ï¼Œç½‘æ ¼æœ€åˆæ˜¯ç©ºçš„ï¼ŒA å°†å…ˆè¡ŒåŠ¨ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šmoves = [[0,0],[2,0],[1,1],[2,1],[2,2]]è¾“å‡ºï¼š&quot;A&quot;è§£é‡Šï¼š&quot;A&quot; è·èƒœï¼Œä»–æ€»æ˜¯å…ˆèµ°ã€‚&quot;X  &quot;    &quot;X  &quot;    &quot;X  &quot;    &quot;X  &quot;    &quot;X  &quot;&quot;   &quot; -&gt; &quot;   &quot; -&gt; &quot; X &quot; -&gt; &quot; X &quot; -&gt; &quot; X &quot;&quot;   &quot;    &quot;O  &quot;    &quot;O  &quot;    &quot;OO &quot;    &quot;OOX&quot;</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šmoves = [[0,0],[1,1],[0,1],[0,2],[1,0],[2,0]]è¾“å‡ºï¼š&quot;B&quot;è§£é‡Šï¼š&quot;B&quot; è·èƒœã€‚&quot;X  &quot;    &quot;X  &quot;    &quot;XX &quot;    &quot;XXO&quot;    &quot;XXO&quot;    &quot;XXO&quot;&quot;   &quot; -&gt; &quot; O &quot; -&gt; &quot; O &quot; -&gt; &quot; O &quot; -&gt; &quot;XO &quot; -&gt; &quot;XO &quot; &quot;   &quot;    &quot;   &quot;    &quot;   &quot;    &quot;   &quot;    &quot;   &quot;    &quot;O  &quot;</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šmoves = [[0,0],[1,1],[2,0],[1,0],[1,2],[2,1],[0,1],[0,2],[2,2]]è¾“å‡ºï¼š&quot;Draw&quot;è¾“å‡ºï¼šç”±äºæ²¡æœ‰åŠæ³•å†è¡ŒåŠ¨ï¼Œæ¸¸æˆä»¥å¹³å±€ç»“æŸã€‚&quot;XXO&quot;&quot;OOX&quot;&quot;XOX&quot;</code></pre><p>ç¤ºä¾‹ 4ï¼š</p><pre><code>è¾“å…¥ï¼šmoves = [[0,0],[1,1]]è¾“å‡ºï¼š&quot;Pending&quot;è§£é‡Šï¼šæ¸¸æˆè¿˜æ²¡æœ‰ç»“æŸã€‚&quot;X  &quot;&quot; O &quot;&quot;   &quot;</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= moves.length &lt;= 9moves[i].length == 20 &lt;= moves[i][j] &lt;= 2moves é‡Œæ²¡æœ‰é‡å¤çš„å…ƒç´ ã€‚moves éµå¾ªäº•å­—æ£‹çš„è§„åˆ™ã€‚</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿæ³•"><a href="#æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿæ³•" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿæ³•"></a>æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿæ³•</h1><p>æ¨¡æ‹Ÿæ³•æ˜¯æœ€å®¹æ˜“æƒ³åˆ°çš„ï¼Œå…ˆæƒ³åˆ°çš„æ˜¯ç›´æ¥ç”¨çŸ©é˜µæ¥æ¨¡æ‹Ÿï¼Œä½†è¿™æ ·æ—¶é—´æ•ˆç‡è¾ƒä½ï¼Œæ›´é«˜æ•ˆçš„æ–¹æ³•æ˜¯ç”¨é›†åˆæ¥å­˜å‚¨ä¸¤ä¸ªç©å®¶çš„è½å­ä½ç½®ï¼Œç„¶åç”¨ä¸€ä¸ªé›†åˆæ¥å­˜å‚¨æ‰€æœ‰çš„è·èƒœæƒ…å†µï¼Œç›´æ¥åˆ¤æ–­ç©å®¶æ˜¯å¦å‘½ä¸­è·èƒœæƒ…å†µã€‚å¦‚æœç›´åˆ°è½å­å®Œæ¯•ä»ç„¶æ²¡æœ‰ç©å®¶è·èƒœï¼Œé‚£ä¹ˆæ ¹æ®æ•°ç»„ <code>move</code> çš„é•¿åº¦è¿”å›å¹³å±€ <code>Draw</code> æˆ–æ¸¸æˆæœªç»“æŸ <code>Pending</code>ã€‚å†™è¿™ç§æ–¹æ³•æ—¶ä¸€å¼€å§‹çŠ¯äº†ä¸ªé”™è¯¯ï¼Œå¿˜è®°æœ‰å¯èƒ½ç©å®¶è½å­æ•°å¤§äº3ï¼Œè¿™æ—¶ç›´æ¥ç”¨list.contains()åˆ¤æ–­å°±ä¼šå‡ºé”™ï¼Œéœ€è¦ç”¨list.containsAll()ã€‚</p><details>    <summary>æ¨¡æ‹Ÿæ³•C++</summary><figure class="highlight c++"><figcaption><span>[sol1]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">checkwin</span><span class="params">(<span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt;&amp; S, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; wins)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> win: wins) &#123;</span><br><span class="line">            <span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> pos: win) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!S.count(pos)) &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">tictactoe</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; moves)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; wins = &#123;</span><br><span class="line">            &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>&#125;,</span><br><span class="line">            &#123;<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;,</span><br><span class="line">            &#123;<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;,</span><br><span class="line">            &#123;<span class="number">0</span>, <span class="number">3</span>, <span class="number">6</span>&#125;,</span><br><span class="line">            &#123;<span class="number">1</span>, <span class="number">4</span>, <span class="number">7</span>&#125;,</span><br><span class="line">            &#123;<span class="number">2</span>, <span class="number">5</span>, <span class="number">8</span>&#125;,</span><br><span class="line">            &#123;<span class="number">0</span>, <span class="number">4</span>, <span class="number">8</span>&#125;,</span><br><span class="line">            &#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>&#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt; A, B;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; moves.size(); ++i) &#123;</span><br><span class="line">            <span class="keyword">int</span> pos = moves[i][<span class="number">0</span>] * <span class="number">3</span> + moves[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                A.insert(pos);</span><br><span class="line">                <span class="keyword">if</span> (checkwin(A, wins)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">"A"</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                B.insert(pos);</span><br><span class="line">                <span class="keyword">if</span> (checkwin(B, wins)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">"B"</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (moves.size() == <span class="number">9</span> ? <span class="string">"Draw"</span> : <span class="string">"Pending"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ¨¡æ‹Ÿæ³•Python</summary><figure class="highlight python"><figcaption><span>[sol1]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tictactoe</span><span class="params">(self, moves: List[List[int]])</span> -&gt; str:</span></span><br><span class="line">        wins = [</span><br><span class="line">            [(<span class="number">0</span>, <span class="number">0</span>), (<span class="number">0</span>, <span class="number">1</span>), (<span class="number">0</span>, <span class="number">2</span>)],</span><br><span class="line">            [(<span class="number">1</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">2</span>)],</span><br><span class="line">            [(<span class="number">2</span>, <span class="number">0</span>), (<span class="number">2</span>, <span class="number">1</span>), (<span class="number">2</span>, <span class="number">2</span>)],</span><br><span class="line">            [(<span class="number">0</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">0</span>), (<span class="number">2</span>, <span class="number">0</span>)],</span><br><span class="line">            [(<span class="number">0</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">1</span>), (<span class="number">2</span>, <span class="number">1</span>)],</span><br><span class="line">            [(<span class="number">0</span>, <span class="number">2</span>), (<span class="number">1</span>, <span class="number">2</span>), (<span class="number">2</span>, <span class="number">2</span>)],</span><br><span class="line">            [(<span class="number">0</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">1</span>), (<span class="number">2</span>, <span class="number">2</span>)],</span><br><span class="line">            [(<span class="number">0</span>, <span class="number">2</span>), (<span class="number">1</span>, <span class="number">1</span>), (<span class="number">2</span>, <span class="number">0</span>)],</span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">checkwin</span><span class="params">(S)</span>:</span></span><br><span class="line">            <span class="keyword">for</span> win <span class="keyword">in</span> wins:</span><br><span class="line">                flag = <span class="keyword">True</span></span><br><span class="line">                <span class="keyword">for</span> pos <span class="keyword">in</span> win:</span><br><span class="line">                    <span class="keyword">if</span> pos <span class="keyword">not</span> <span class="keyword">in</span> S:</span><br><span class="line">                        flag = <span class="keyword">False</span></span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">if</span> flag:</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line">        A, B = set(), set()</span><br><span class="line">        <span class="keyword">for</span> i, (x, y) <span class="keyword">in</span> enumerate(moves):</span><br><span class="line">            <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">                A.add((x, y))</span><br><span class="line">                <span class="keyword">if</span> checkwin(A):</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">"A"</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                B.add((x, y))</span><br><span class="line">                <span class="keyword">if</span> checkwin(B):</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">"B"</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Draw"</span> <span class="keyword">if</span> len(moves) == <span class="number">9</span> <span class="keyword">else</span> <span class="string">"Pending"</span></span><br><span class="line">```    </span><br><span class="line">&lt;/details&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;details&gt;</span><br><span class="line">    &lt;summary&gt;æ¨¡æ‹Ÿæ³•Java&lt;/summary&gt;</span><br><span class="line"></span><br><span class="line">```Java [sol1]</span><br><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    public String tictactoe(int[][] moves) &#123;</span><br><span class="line">        boolean flag = true;</span><br><span class="line">        ArrayList&lt;Integer&gt; listA = new ArrayList&lt;&gt;();</span><br><span class="line">        ArrayList&lt;Integer&gt; listB = new ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (int[] m : moves) &#123;</span><br><span class="line">            <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">                listA.add(m[<span class="number">0</span>] * <span class="number">3</span> + m[<span class="number">1</span>]);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                listB.add(m[<span class="number">0</span>] * <span class="number">3</span> + m[<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            flag = !flag;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (checkwins(listA)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"A"</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (checkwins(listB)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"B"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        return listA.size() + listB.size() &lt; 9 ? "Pending" : "Draw";</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public boolean checkwins(ArrayList&lt;Integer&gt; list) &#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; arrayList1 = new ArrayList&lt;&gt;(Arrays.asList(<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>));</span><br><span class="line">        ArrayList&lt;Integer&gt; arrayList2 = new ArrayList&lt;&gt;(Arrays.asList(<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>));</span><br><span class="line">        ArrayList&lt;Integer&gt; arrayList3 = new ArrayList&lt;&gt;(Arrays.asList(<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>));</span><br><span class="line">        ArrayList&lt;Integer&gt; arrayList4 = new ArrayList&lt;&gt;(Arrays.asList(<span class="number">0</span>, <span class="number">3</span>, <span class="number">6</span>));</span><br><span class="line">        ArrayList&lt;Integer&gt; arrayList5 = new ArrayList&lt;&gt;(Arrays.asList(<span class="number">1</span>, <span class="number">4</span>, <span class="number">7</span>));</span><br><span class="line">        ArrayList&lt;Integer&gt; arrayList6 = new ArrayList&lt;&gt;(Arrays.asList(<span class="number">2</span>, <span class="number">5</span>, <span class="number">8</span>));</span><br><span class="line">        ArrayList&lt;Integer&gt; arrayList7 = new ArrayList&lt;&gt;(Arrays.asList(<span class="number">0</span>, <span class="number">4</span>, <span class="number">8</span>));</span><br><span class="line">        ArrayList&lt;Integer&gt; arrayList8 = new ArrayList&lt;&gt;(Arrays.asList(<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>));</span><br><span class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; arrayList = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;(</span><br><span class="line">                Arrays.asList(arrayList1,arrayList2,arrayList3,arrayList4,arrayList5,arrayList6,arrayList7,arrayList8)</span><br><span class="line">        ) &#123;&#125;;</span><br><span class="line">        boolean flag = false;</span><br><span class="line">        <span class="keyword">for</span> (ArrayList&lt;Integer&gt; l : arrayList) &#123;</span><br><span class="line">            <span class="keyword">if</span> (list.containsAll(l)) &#123;</span><br><span class="line">                flag = true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">```    </span><br><span class="line">&lt;/details&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">**å¤æ‚åº¦åˆ†æ**</span><br><span class="line"></span><br><span class="line">- æ—¶é—´å¤æ‚åº¦ï¼š*O(N^<span class="number">4</span>)*ï¼Œå…¶ä¸­ *N* æ˜¯æ£‹ç›˜çš„è¾¹é•¿ï¼Œåœ¨æœ¬é¢˜ä¸­ *N = <span class="number">3</span>*ã€‚é›†åˆ `wins` ä¸­å­˜æ”¾çš„æ’æˆä¸€æ¡ç›´çº¿çš„æ‰€æœ‰æƒ…å†µçš„æ•°é‡ä¸º *O(<span class="number">2</span>N+<span class="number">2</span>)=O(N)*ï¼Œå¯¹äºæ¯ä¸€æ­¥è½å­æˆ‘ä»¬éœ€è¦éå†æ‰€æœ‰çš„æƒ…å†µï¼Œè€Œæ¯ä¸€ç§æƒ…å†µæœ‰ *N* ä¸ªä½ç½®ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º *O(N^<span class="number">2</span>)*ã€‚åœ¨æœ€åæƒ…å†µä¸‹ï¼Œè½å­çš„æ•°é‡ä¸º *O(N^<span class="number">2</span>)*ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º *O(N^<span class="number">4</span>)*ã€‚</span><br><span class="line"></span><br><span class="line">- ç©ºé—´å¤æ‚åº¦ï¼š*O(N^<span class="number">2</span>)*ã€‚é›†åˆ `wins` å ç”¨çš„ç©ºé—´ä¸º *O(N^<span class="number">2</span>)*ï¼Œè€Œé›†åˆ `A` å’Œ `B` åœ¨æœ€åæƒ…å†µä¸‹å ç”¨çš„ç©ºé—´ä¹Ÿä¸º *O(N^<span class="number">2</span>)*ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–¹æ³•äºŒï¼šbitmask</span></span><br><span class="line"></span><br><span class="line">ä¹Ÿå¯ä»¥ä½¿ç”¨bitmaskæ¥å­˜å‚¨æšä¸¾çš„æˆåŠŸæƒ…å†µ,é‡ç‚¹åœ¨åˆ¤æ–­èƒ½è·èƒœçš„ä½ç½®ä¸Šæ˜¯å¦æœ‰æ£‹å­å°±å¯ä»¥</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;details&gt;</span><br><span class="line">    &lt;summary&gt;bitmask Java&lt;/summary&gt;</span><br><span class="line"></span><br><span class="line">```Java [sol1]</span><br><span class="line">class Solution &#123;</span><br><span class="line">    public String tictactoe(int[][] moves) &#123;</span><br><span class="line">        int[] wins = &#123;</span><br><span class="line">                (<span class="number">1</span>&lt;&lt;<span class="number">0</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">1</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">2</span>),</span><br><span class="line">                (<span class="number">1</span>&lt;&lt;<span class="number">3</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">4</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">5</span>),</span><br><span class="line">                (<span class="number">1</span>&lt;&lt;<span class="number">6</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">7</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">8</span>),</span><br><span class="line">                (<span class="number">1</span>&lt;&lt;<span class="number">0</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">3</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">6</span>),</span><br><span class="line">                (<span class="number">1</span>&lt;&lt;<span class="number">1</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">4</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">7</span>),</span><br><span class="line">                (<span class="number">1</span>&lt;&lt;<span class="number">2</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">5</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">8</span>),</span><br><span class="line">                (<span class="number">1</span>&lt;&lt;<span class="number">0</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">4</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">8</span>),</span><br><span class="line">                (<span class="number">1</span>&lt;&lt;<span class="number">2</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">4</span>) | (<span class="number">1</span>&lt;&lt;<span class="number">6</span>)&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (isWin(moves, wins, true)) <span class="keyword">return</span> <span class="string">"A"</span>;</span><br><span class="line">        <span class="keyword">if</span> (isWin(moves, wins, false)) <span class="keyword">return</span> <span class="string">"B"</span>;</span><br><span class="line">        return moves.length==9 ? "Draw" : "Pending";</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private boolean isWin(int[][] moves, int[] wins, boolean fromA) &#123;</span><br><span class="line">        int bitmask = <span class="number">0</span>;</span><br><span class="line">        int startIndex = fromA ? 0 : 1;</span><br><span class="line">        // ä¿è¯A/Bè‡³å°‘ä¸‹æ»¡<span class="number">3</span>æ¬¡</span><br><span class="line">        <span class="keyword">if</span> (fromA &amp;&amp; moves.length &lt; <span class="number">5</span>) <span class="keyword">return</span> false;</span><br><span class="line">        <span class="keyword">if</span> (!fromA &amp;&amp; moves.length &lt; <span class="number">6</span>) <span class="keyword">return</span> false;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (int i=startIndex; i&lt;moves.length; i+=<span class="number">2</span>) &#123;</span><br><span class="line">            int index = <span class="number">3</span> * moves[i][<span class="number">0</span>] + moves[i][<span class="number">1</span>];</span><br><span class="line">            bitmask |= <span class="number">1</span>&lt;&lt;index;</span><br><span class="line">        &#125;</span><br><span class="line">        // åˆ¤æ–­å½“å‰ä¸‹æ³•æ˜¯å¦å±äºèµ¢æ³•çš„ä¸€ç§</span><br><span class="line">        <span class="keyword">for</span> (int win: wins) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((win &amp; bitmask) == win) &#123;</span><br><span class="line">                <span class="keyword">return</span> true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">```    </span><br><span class="line">&lt;/details&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–¹æ³•ä¸‰ï¼šéæšä¸¾</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> è™½ç„¶æœ‰Aã€Bã€Pendingã€Drawå››ç§ç­”æ¡ˆçš„å¯èƒ½ã€‚æˆ‘ä»¬é¦–å…ˆåˆ¤æ–­Aã€Bè°èƒ½èµ¢ï¼Œå†è®¨è®ºAã€Béƒ½æœªèƒœçš„æƒ…å†µä¸‹æ¸¸æˆæ˜¯ç»“æŸäº†è¿˜æ˜¯ç»§ç»­è¿›è¡Œï¼›</span><br><span class="line"><span class="number">2.</span> åˆ¤æ–­Aã€Bæ˜¯å¦æœ‰äººèƒ½å–èƒœï¼Œåªéœ€è¦åˆ¤æ–­æœ€åä¸€ä¸ªè½æ£‹çš„äººæ˜¯å¦èƒ½èƒœï¼›ï¼ˆå› ä¸ºè¦æ˜¯å¦å¤–ä¸€ä¸ªäººèµ¢äº†ï¼Œæ¸¸æˆå°±ç»“æŸäº†ï¼Œä¸å†æœ‰ç»§ç»­ä¸‹æ£‹çš„æœºä¼šï¼‰</span><br><span class="line"><span class="number">3.</span> ç”¨æ•°ç»„è®°å½•æœ€åè½æ£‹è€…çš„èµ°æ£‹æƒ…å†µï¼Œå¦‚æœç­‰äºä¸‰ï¼Œæ¸¸æˆç»“æŸï¼Œæ­¤äººèƒœåˆ©ï¼›ï¼ˆä»¥<span class="number">3</span>x3ä¸ºä¾‹ï¼Œå…¶ä½™å¯ä»¥ç±»æ¨ï¼‰</span><br><span class="line"><span class="number">4.</span> æœ€åè½æ£‹è€…ä¸ºæœªèƒœæ—¶ï¼Œæ£‹ç›˜è¢«ä¸‹æ»¡åˆ™Drawï¼Œæ£‹ç›˜æœªä¸‹æ»¡åˆ™Pendingã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;details&gt;</span><br><span class="line">    &lt;summary&gt;bitmask Java&lt;/summary&gt;</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">public String tictactoe(int[][] moves) &#123;</span><br><span class="line">int m = moves.length;</span><br><span class="line">// ç”¨æ•°ç»„è®°å½•<span class="number">0</span><span class="number">-2</span>è¡Œã€<span class="number">0</span><span class="number">-2</span>åˆ—ã€æ­£å¯¹è§’çº¿ã€å‰¯å¯¹è§’çº¿æ˜¯å¦å·²æ»¡<span class="number">3</span>ä¸ªæ£‹å­</span><br><span class="line">// count[<span class="number">0</span><span class="number">-2</span>]å¯¹åº”<span class="number">0</span><span class="number">-2</span>è¡Œã€count[<span class="number">3</span><span class="number">-5</span>]å¯¹åº”<span class="number">0</span><span class="number">-2</span>åˆ—ã€count[<span class="number">6</span>]å¯¹åº”æ­£å¯¹è§’çº¿ã€count[<span class="number">7</span>]å¯¹åº”å‰¯å¯¹è§’çº¿</span><br><span class="line">int[] count = new int[<span class="number">8</span>];</span><br><span class="line">// æ€è·¯ç¬¬<span class="number">2</span>æ­¥å·²è§£é‡Šä¸ºä½•åªéœ€è€ƒè™‘æœ€åä¸€ä¸ªè½æ£‹çš„äºº</span><br><span class="line">// å€’åºç»Ÿè®¡æ­¤äººèµ°æ£‹æƒ…å†µ</span><br><span class="line"><span class="keyword">for</span>(int i = m - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i -= <span class="number">2</span>) &#123;</span><br><span class="line">// æ­¤æ£‹å¯¹è¡Œçš„å½±å“</span><br><span class="line">count[moves[i][<span class="number">0</span>]]++;</span><br><span class="line">// æ­¤æ£‹å¯¹åˆ—çš„å½±å“</span><br><span class="line">count[moves[i][<span class="number">1</span>] + <span class="number">3</span>]++;</span><br><span class="line">// æ­¤æ£‹å¯¹æ­£å¯¹è§’çº¿çš„å½±å“</span><br><span class="line"><span class="keyword">if</span>(moves[i][<span class="number">0</span>] == moves[i][<span class="number">1</span>])</span><br><span class="line">count[<span class="number">6</span>]++;</span><br><span class="line">// æ­¤æ£‹å¯¹å‰¯å¯¹è§’çº¿çš„å½±å“ (</span><br><span class="line">// æ­¤å¤„ä¸º<span class="number">3</span>x3çš„æƒ…å†µï¼Œå…¶ä½™å¤§å°çš„æ£‹ç›˜å¯ä»¥ç±»æ¨</span><br><span class="line"><span class="keyword">if</span>(moves[i][<span class="number">0</span>] + moves[i][<span class="number">1</span>] == <span class="number">2</span>)</span><br><span class="line">count[<span class="number">7</span>]++;</span><br><span class="line">// æ»¡<span class="number">3</span>ä¸ªæ£‹å­åˆ™èƒœåˆ©</span><br><span class="line"><span class="keyword">if</span>(count[moves[i][<span class="number">0</span>]] == <span class="number">3</span> || count[moves[i][<span class="number">1</span>] + <span class="number">3</span>] == <span class="number">3</span> || </span><br><span class="line">count[<span class="number">6</span>] == <span class="number">3</span> || count[<span class="number">7</span>] == <span class="number">3</span>) </span><br><span class="line">// Aå…ˆBå åˆ™æ€»é•¿åº¦ä¸ºå¶æ—¶ æœ€åä¸ºB åä¹‹ä¸ºA</span><br><span class="line">return m % 2 == 0 ? "B" : "A";</span><br><span class="line">&#125;</span><br><span class="line">// æœªèƒœæ—¶ï¼Œæ£‹ç›˜æœªä¸‹æ»¡åˆ™ç»§ç»­</span><br><span class="line"><span class="keyword">if</span>(moves.length &lt; <span class="number">9</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="string">"Pending"</span>;</span><br><span class="line">// æœªèƒœæ—¶ï¼Œæ£‹ç›˜ä¸‹æ»¡åˆ™å¹³å±€ç»“æŸ</span><br><span class="line"><span class="keyword">return</span> <span class="string">"Draw"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(m) mä¸ºmoves.length</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(1) æ£‹ç›˜å›ºå®š åˆ™ç©ºé—´å¼€é”€å›ºå®š</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;A å’Œ B åœ¨ä¸€ä¸ª 3 x 3 çš„ç½‘æ ¼ä¸Šç©äº•å­—æ£‹ã€‚æœ€è¿‘å¯¹æ£‹ç±»æ¸¸æˆæ ¼å¤–æ„Ÿå…´è¶£ï¼Œå‡†å¤‡æ·±å…¥ç ”ç©¶ç ”ç©¶ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´1æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B41%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
  </entry>
  
  <entry>
    <title>312. æˆ³æ°”çƒ</title>
    <link href="http://yoursite.com/2020/12/29/312.%20%E6%88%B3%E6%B0%94%E7%90%83/"/>
    <id>http://yoursite.com/2020/12/29/312. æˆ³æ°”çƒ/</id>
    <published>2020-12-29T02:57:12.000Z</published>
    <updated>2021-01-11T02:32:24.714Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰ n ä¸ªæ°”çƒï¼Œç¼–å·ä¸º0 åˆ° n-1ï¼Œæ¯ä¸ªæ°”çƒä¸Šéƒ½æ ‡æœ‰ä¸€ä¸ªæ•°å­—ï¼Œè¿™äº›æ•°å­—å­˜åœ¨æ•°ç»„ nums ä¸­ã€‚</p><a id="more"></a><p>ç°åœ¨è¦æ±‚ä½ æˆ³ç ´æ‰€æœ‰çš„æ°”çƒã€‚å¦‚æœä½ æˆ³ç ´æ°”çƒ i ï¼Œå°±å¯ä»¥è·å¾— nums[left] * nums[i] * nums[right] ä¸ªç¡¬å¸ã€‚ è¿™é‡Œçš„ left å’Œ right ä»£è¡¨å’Œ i ç›¸é‚»çš„ä¸¤ä¸ªæ°”çƒçš„åºå·ã€‚æ³¨æ„å½“ä½ æˆ³ç ´äº†æ°”çƒ i åï¼Œæ°”çƒ left å’Œæ°”çƒ right å°±å˜æˆäº†ç›¸é‚»çš„æ°”çƒã€‚</p><p>æ±‚æ‰€èƒ½è·å¾—ç¡¬å¸çš„æœ€å¤§æ•°é‡ã€‚</p><p>è¯´æ˜:</p><p>ä½ å¯ä»¥å‡è®¾ nums[-1] = nums[n] = 1ï¼Œä½†æ³¨æ„å®ƒä»¬ä¸æ˜¯çœŸå®å­˜åœ¨çš„æ‰€ä»¥å¹¶ä¸èƒ½è¢«æˆ³ç ´ã€‚<br>0 â‰¤ n â‰¤ 500, 0 â‰¤ nums[i] â‰¤ 100<br>ç¤ºä¾‹:</p><pre><code>è¾“å…¥: [3,1,5,8]è¾“å‡º: 167 è§£é‡Š: nums = [3,1,5,8] --&gt; [3,5,8] --&gt;   [3,8]   --&gt;  [8]  --&gt; []     coins =  3*1*5      +  3*5*8    +  1*3*8      + 1*8*1   = 167</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢"><a href="#æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢" class="headerlink" title="æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢"></a>æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢</h1><p><strong>æ€è·¯åŠç®—æ³•</strong><br><a href="https://leetcode-cn.com/problems/burst-balloons/solution/chuo-qi-qiu-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></p><p><strong>ä»£ç </strong></p><details>    <summary>è®°å¿†åŒ–æœç´¢C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; rec;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; val;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (left &gt;= right - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (rec[left][right] != <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> rec[left][right];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = left + <span class="number">1</span>; i &lt; right; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = val[left] * val[i] * val[right];</span><br><span class="line">            sum += solve(left, i) + solve(i, right);</span><br><span class="line">            rec[left][right] = max(rec[left][right], sum);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> rec[left][right];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxCoins</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        val.resize(n + <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            val[i] = nums[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        val[<span class="number">0</span>] = val[n + <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        rec.resize(n + <span class="number">2</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n + <span class="number">2</span>, <span class="number">-1</span>));</span><br><span class="line">        <span class="keyword">return</span> solve(<span class="number">0</span>, n + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>è®°å¿†åŒ–æœç´¢Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] rec;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] val;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxCoins</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        val = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            val[i] = nums[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        val[<span class="number">0</span>] = val[n + <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        rec = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">2</span>][n + <span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            Arrays.fill(rec[i], -<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> solve(<span class="number">0</span>, n + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (left &gt;= right - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (rec[left][right] != -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> rec[left][right];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = left + <span class="number">1</span>; i &lt; right; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = val[left] * val[i] * val[right];</span><br><span class="line">            sum += solve(left, i) + solve(i, right);</span><br><span class="line">            rec[left][right] = Math.max(rec[left][right], sum);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> rec[left][right];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>è®°å¿†åŒ–æœç´¢Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxCoins</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        val = [<span class="number">1</span>] + nums + [<span class="number">1</span>]</span><br><span class="line">        </span><br><span class="line"><span class="meta">        @lru_cache(None)</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">solve</span><span class="params">(left: int, right: int)</span> -&gt; int:</span></span><br><span class="line">            <span class="keyword">if</span> left &gt;= right - <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            </span><br><span class="line">            best = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(left + <span class="number">1</span>, right):</span><br><span class="line">                total = val[left] * val[i] * val[right]</span><br><span class="line">                total += solve(left, i) + solve(i, right)</span><br><span class="line">                best = max(best, total)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> best</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> solve(<span class="number">0</span>, n + <span class="number">1</span>)</span><br></pre></td></tr></table></figure></details><details>    <summary>è®°å¿†åŒ–æœç´¢Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxCoins</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    val := <span class="built_in">make</span>([]<span class="keyword">int</span>, n + <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= n; i++ &#123;</span><br><span class="line">        val[i] = nums[i - <span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    val[<span class="number">0</span>], val[n+<span class="number">1</span>] = <span class="number">1</span>, <span class="number">1</span></span><br><span class="line">    rec := <span class="built_in">make</span>([][]<span class="keyword">int</span>, n + <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(rec); i++ &#123;</span><br><span class="line">        rec[i] = <span class="built_in">make</span>([]<span class="keyword">int</span>, n + <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="built_in">len</span>(rec[i]); j++ &#123;</span><br><span class="line">            rec[i][j] = <span class="number">-1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> solve(<span class="number">0</span>, n + <span class="number">1</span>, val, rec)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">solve</span><span class="params">(left, right <span class="keyword">int</span>, val []<span class="keyword">int</span>, rec [][]<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> left &gt;= right - <span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> rec[left][right] != <span class="number">-1</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> rec[left][right]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := left + <span class="number">1</span>; i &lt; right; i++ &#123;</span><br><span class="line">        sum := val[left] * val[i] * val[right]</span><br><span class="line">        sum += solve(left, i, val, rec) + solve(i, right, val, rec)</span><br><span class="line">        rec[left][right] = max(rec[left][right], sum)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rec[left][right]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x &gt; y &#123;</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>è®°å¿†åŒ–æœç´¢C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> rec[<span class="number">502</span>][<span class="number">502</span>];</span><br><span class="line"><span class="keyword">int</span> val[<span class="number">502</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left &gt;= right - <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (rec[left][right] != <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> rec[left][right];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = left + <span class="number">1</span>; i &lt; right; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> sum = val[left] * val[i] * val[right];</span><br><span class="line">        sum += solve(left, i) + solve(i, right);</span><br><span class="line">        rec[left][right] = fmax(rec[left][right], sum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rec[left][right];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxCoins</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(rec, <span class="number">-1</span>, <span class="keyword">sizeof</span>(rec));</span><br><span class="line">    val[<span class="number">0</span>] = val[numsSize + <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= numsSize; i++) &#123;</span><br><span class="line">        val[i] = nums[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> solve(<span class="number">0</span>, numsSize + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"><a href="#æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"></a>æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’</h1><p><strong>æ€è·¯åŠç®—æ³•</strong><br><a href="https://leetcode-cn.com/problems/burst-balloons/solution/chuo-qi-qiu-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></p><p><strong>ä»£ç </strong></p><details>    <summary>åŠ¨æ€è§„åˆ’C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxCoins</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; rec(n + <span class="number">2</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n + <span class="number">2</span>));</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; val(n + <span class="number">2</span>);</span><br><span class="line">        val[<span class="number">0</span>] = val[n + <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            val[i] = nums[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">2</span>; j &lt;= n + <span class="number">1</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = i + <span class="number">1</span>; k &lt; j; k++) &#123;</span><br><span class="line">                    <span class="keyword">int</span> sum = val[i] * val[k] * val[j];</span><br><span class="line">                    sum += rec[i][k] + rec[k][j];</span><br><span class="line">                    rec[i][j] = max(rec[i][j], sum);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> rec[<span class="number">0</span>][n + <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxCoins</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">int</span>[][] rec = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">2</span>][n + <span class="number">2</span>];</span><br><span class="line">        <span class="keyword">int</span>[] val = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">2</span>];</span><br><span class="line">        val[<span class="number">0</span>] = val[n + <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            val[i] = nums[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">2</span>; j &lt;= n + <span class="number">1</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = i + <span class="number">1</span>; k &lt; j; k++) &#123;</span><br><span class="line">                    <span class="keyword">int</span> sum = val[i] * val[k] * val[j];</span><br><span class="line">                    sum += rec[i][k] + rec[k][j];</span><br><span class="line">                    rec[i][j] = Math.max(rec[i][j], sum);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> rec[<span class="number">0</span>][n + <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’Python</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxCoins</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        rec = [[<span class="number">0</span>] * (n + <span class="number">2</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range(n + <span class="number">2</span>)]</span><br><span class="line">        val = [<span class="number">1</span>] + nums + [<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n - <span class="number">1</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(i + <span class="number">2</span>, n + <span class="number">2</span>):</span><br><span class="line">                <span class="keyword">for</span> k <span class="keyword">in</span> range(i + <span class="number">1</span>, j):</span><br><span class="line">                    total = val[i] * val[k] * val[j]</span><br><span class="line">                    total += rec[i][k] + rec[k][j]</span><br><span class="line">                    rec[i][j] = max(rec[i][j], total)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> rec[<span class="number">0</span>][n + <span class="number">1</span>]</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’Golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxCoins</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    rec := <span class="built_in">make</span>([][]<span class="keyword">int</span>, n + <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n + <span class="number">2</span>; i++ &#123;</span><br><span class="line">        rec[i] = <span class="built_in">make</span>([]<span class="keyword">int</span>, n + <span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    val := <span class="built_in">make</span>([]<span class="keyword">int</span>, n + <span class="number">2</span>)</span><br><span class="line">    val[<span class="number">0</span>], val[n+<span class="number">1</span>] = <span class="number">1</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= n; i++ &#123;</span><br><span class="line">        val[i] = nums[i<span class="number">-1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">        <span class="keyword">for</span> j := i + <span class="number">2</span>; j &lt;= n + <span class="number">1</span>; j++ &#123;</span><br><span class="line">            <span class="keyword">for</span> k := i + <span class="number">1</span>; k &lt; j; k++ &#123;</span><br><span class="line">                sum := val[i] * val[k] * val[j]</span><br><span class="line">                sum += rec[i][k] + rec[k][j]</span><br><span class="line">                rec[i][j] = max(rec[i][j], sum)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rec[<span class="number">0</span>][n+<span class="number">1</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x &gt; y &#123;</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’C</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxCoins</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> rec[numsSize + <span class="number">2</span>][numsSize + <span class="number">2</span>];</span><br><span class="line">    <span class="built_in">memset</span>(rec, <span class="number">0</span>, <span class="keyword">sizeof</span>(rec));</span><br><span class="line">    <span class="keyword">int</span> val[numsSize + <span class="number">2</span>];</span><br><span class="line">    val[<span class="number">0</span>] = val[numsSize + <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= numsSize; i++) &#123;</span><br><span class="line">        val[i] = nums[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = numsSize - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">2</span>; j &lt;= numsSize + <span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = i + <span class="number">1</span>; k &lt; j; k++) &#123;</span><br><span class="line">                <span class="keyword">int</span> sum = val[i] * val[k] * val[j];</span><br><span class="line">                sum += rec[i][k] + rec[k][j];</span><br><span class="line">                rec[i][j] = fmax(rec[i][j], sum);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rec[<span class="number">0</span>][numsSize + <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ‰ n ä¸ªæ°”çƒï¼Œç¼–å·ä¸º0 åˆ° n-1ï¼Œæ¯ä¸ªæ°”çƒä¸Šéƒ½æ ‡æœ‰ä¸€ä¸ªæ•°å­—ï¼Œè¿™äº›æ•°å­—å­˜åœ¨æ•°ç»„ nums ä¸­ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´12æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
      <category term="Divide and Conquer" scheme="http://yoursite.com/tags/Divide-and-Conquer/"/>
    
  </entry>
  
  <entry>
    <title>406. æ ¹æ®èº«é«˜é‡å»ºé˜Ÿåˆ—</title>
    <link href="http://yoursite.com/2020/12/23/406.%20%E6%A0%B9%E6%8D%AE%E8%BA%AB%E9%AB%98%E9%87%8D%E5%BB%BA%E9%98%9F%E5%88%97/"/>
    <id>http://yoursite.com/2020/12/23/406. æ ¹æ®èº«é«˜é‡å»ºé˜Ÿåˆ—/</id>
    <published>2020-12-23T08:12:12.000Z</published>
    <updated>2020-12-24T03:33:03.081Z</updated>
    
    <content type="html"><![CDATA[<p>å‡è®¾æœ‰æ‰“ä¹±é¡ºåºçš„ä¸€ç¾¤äººç«™æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ•°ç»„ people è¡¨ç¤ºé˜Ÿåˆ—ä¸­ä¸€äº›äººçš„å±æ€§ï¼ˆä¸ä¸€å®šæŒ‰é¡ºåºï¼‰ã€‚æ¯ä¸ª people[i] = [hi, ki] è¡¨ç¤ºç¬¬ i ä¸ªäººçš„èº«é«˜ä¸º hi ï¼Œå‰é¢ æ­£å¥½ æœ‰ ki ä¸ªèº«é«˜å¤§äºæˆ–ç­‰äº hi çš„äººã€‚</p><p>è¯·ä½ é‡æ–°æ„é€ å¹¶è¿”å›è¾“å…¥æ•°ç»„ people æ‰€è¡¨ç¤ºçš„é˜Ÿåˆ—ã€‚è¿”å›çš„é˜Ÿåˆ—åº”è¯¥æ ¼å¼åŒ–ä¸ºæ•°ç»„ queue ï¼Œå…¶ä¸­ queue[j] = [hj, kj] æ˜¯é˜Ÿåˆ—ä¸­ç¬¬ j ä¸ªäººçš„å±æ€§ï¼ˆqueue[0] æ˜¯æ’åœ¨é˜Ÿåˆ—å‰é¢çš„äººï¼‰ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼špeople = [[7,0],[4,4],[7,1],[5,0],[6,1],[5,2]]è¾“å‡ºï¼š[[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]]è§£é‡Šï¼šç¼–å·ä¸º 0 çš„äººèº«é«˜ä¸º 5 ï¼Œæ²¡æœ‰èº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ã€‚ç¼–å·ä¸º 1 çš„äººèº«é«˜ä¸º 7 ï¼Œæ²¡æœ‰èº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ã€‚ç¼–å·ä¸º 2 çš„äººèº«é«˜ä¸º 5 ï¼Œæœ‰ 2 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 0 å’Œ 1 çš„äººã€‚ç¼–å·ä¸º 3 çš„äººèº«é«˜ä¸º 6 ï¼Œæœ‰ 1 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 1 çš„äººã€‚ç¼–å·ä¸º 4 çš„äººèº«é«˜ä¸º 4 ï¼Œæœ‰ 4 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 0ã€1ã€2ã€3 çš„äººã€‚ç¼–å·ä¸º 5 çš„äººèº«é«˜ä¸º 7 ï¼Œæœ‰ 1 ä¸ªèº«é«˜æ›´é«˜æˆ–è€…ç›¸åŒçš„äººæ’åœ¨ä»–å‰é¢ï¼Œå³ç¼–å·ä¸º 1 çš„äººã€‚å› æ­¤ [[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]] æ˜¯é‡æ–°æ„é€ åçš„é˜Ÿåˆ—ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼špeople = [[6,0],[5,0],[4,0],[3,2],[2,2],[1,4]]è¾“å‡ºï¼š[[4,0],[5,0],[2,2],[3,2],[1,4],[6,0]]</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= people.length &lt;= 20000 &lt;= hi &lt;= 1060 &lt;= ki &lt; people.lengthé¢˜ç›®æ•°æ®ç¡®ä¿é˜Ÿåˆ—å¯ä»¥è¢«é‡å»º</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šä»ä½åˆ°é«˜è€ƒè™‘"><a href="#æ–¹æ³•ä¸€ï¼šä»ä½åˆ°é«˜è€ƒè™‘" class="headerlink" title="æ–¹æ³•ä¸€ï¼šä»ä½åˆ°é«˜è€ƒè™‘"></a>æ–¹æ³•ä¸€ï¼šä»ä½åˆ°é«˜è€ƒè™‘</h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>å½“æ¯ä¸ªäººçš„èº«é«˜éƒ½ä¸ç›¸åŒæ—¶ï¼Œå¦‚æœæˆ‘ä»¬å°†ä»–ä»¬æŒ‰ç…§èº«é«˜ä»å°åˆ°å¤§è¿›è¡Œæ’åºï¼Œé‚£ä¹ˆå°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿˜åŸå‡ºåŸå§‹çš„é˜Ÿåˆ—äº†ã€‚</p><p>ä¸ºäº†å™è¿°æ–¹ä¾¿ï¼Œæˆ‘ä»¬è®¾äººæ•°ä¸º <em>n</em>ï¼Œåœ¨è¿›è¡Œæ’åºåï¼Œå®ƒä»¬çš„èº«é«˜ä¾æ¬¡ä¸ºh0,h1,â€¦,hn-1 ï¼Œä¸”æ’åœ¨ç¬¬ <em>i</em> ä¸ªäººå‰é¢èº«é«˜<strong>å¤§äº</strong> <em>h_i</em> çš„äººæ•°ä¸º <em>k_i*ã€‚å¦‚æœæˆ‘ä»¬æŒ‰ç…§æ’å®Œåºåçš„é¡ºåºï¼Œä¾æ¬¡å°†æ¯ä¸ªäººæ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬æ”¾å…¥ç¬¬ *i</em> ä¸ªäººæ—¶ï¼š</p><ul><li><p>ç¬¬ 0,â€¦,i-1 ä¸ªäººå·²ç»åœ¨é˜Ÿåˆ—ä¸­è¢«å®‰æ’äº†ä½ç½®ï¼Œå¹¶ä¸”ä»–ä»¬æ— è®ºç«™åœ¨å“ªé‡Œï¼Œå¯¹ç¬¬ <em>i</em> ä¸ªäººéƒ½æ²¡æœ‰ä»»ä½•å½±å“ï¼Œå› ä¸ºä»–ä»¬éƒ½æ¯”ç¬¬ <em>i</em> ä¸ªäººçŸ®ï¼›</p></li><li><p>è€Œç¬¬ i+1,â€¦,n-1 ä¸ªäººè¿˜æ²¡æœ‰è¢«æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œä½†ä»–ä»¬åªè¦ç«™åœ¨ç¬¬ <em>i</em> ä¸ªäººçš„å‰é¢ï¼Œå°±ä¼šå¯¹ç¬¬ <em>i</em> ä¸ªäººäº§ç”Ÿå½±å“ï¼Œå› ä¸ºä»–ä»¬éƒ½æ¯”ç¬¬ <em>i</em> ä¸ªäººé«˜ã€‚</p></li></ul><p>å¦‚æœæˆ‘ä»¬åœ¨åˆå§‹æ—¶å»ºç«‹ä¸€ä¸ªåŒ…å« <em>n</em> ä¸ªä½ç½®çš„ç©ºé˜Ÿåˆ—ï¼Œè€Œæˆ‘ä»¬æ¯æ¬¡å°†ä¸€ä¸ªäººæ”¾å…¥é˜Ÿåˆ—ä¸­æ—¶ï¼Œä¼šå°†ä¸€ä¸ªã€Œç©ºã€ä½ç½®å˜æˆã€Œæ»¡ã€ä½ç½®ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬æ”¾å…¥ç¬¬ <em>i</em> ä¸ªäººæ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç»™ä»–å®‰æ’ä¸€ä¸ªã€Œç©ºã€ä½ç½®ï¼Œå¹¶ä¸”è¿™ä¸ªã€Œç©ºã€ä½ç½®å‰é¢æ°å¥½è¿˜æœ‰ <em>k_i</em> ä¸ªã€Œç©ºã€ä½ç½®ï¼Œç”¨æ¥å®‰æ’ç»™åé¢èº«é«˜æ›´é«˜çš„äººã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>ç¬¬ <em>i</em> ä¸ªäººçš„ä½ç½®ï¼Œå°±æ˜¯é˜Ÿåˆ—ä¸­ä»å·¦å¾€å³æ•°ç¬¬ <em>k_i+1</em> ä¸ªã€Œç©ºã€ä½ç½®</strong>ã€‚</p><p>é‚£ä¹ˆå¦‚æœæœ‰èº«é«˜ç›¸åŒçš„äººï¼Œä¸Šè¿° <em>k_i</em> å®šä¹‰ä¸­çš„<strong>å¤§äº</strong>å°±ä¸é¢˜ç›®æè¿°ä¸­è¦æ±‚çš„<strong>å¤§äºç­‰äº</strong>ä¸ç­‰ä»·äº†ï¼Œæ­¤æ—¶åº”è¯¥æ€ä¹ˆä¿®æ”¹ä¸Šé¢çš„æ–¹æ³•å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥è¿™æ ·æƒ³ï¼Œå¦‚æœç¬¬ <em>i</em> ä¸ªäººå’Œç¬¬ <em>j</em> ä¸ªäººçš„èº«é«˜ç›¸åŒï¼Œå³ <em>h_i = h_j<em>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŠŠåœ¨é˜Ÿåˆ—ä¸­å¤„äºè¾ƒåä½ç½®çš„é‚£ä¸ªäººçš„èº«é«˜å‡å°ä¸€ç‚¹ç‚¹ã€‚æ¢å¥è¯è¯´ï¼Œå¯¹äºæŸä¸€ä¸ªèº«é«˜å€¼ *h</em>ï¼Œæˆ‘ä»¬å°†é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªèº«é«˜ä¸º *h</em> çš„äººä¿æŒä¸å˜ï¼Œç¬¬äºŒä¸ªèº«é«˜ä¸º <em>h</em> çš„äººçš„èº«é«˜å‡å°‘ deltaï¼Œç¬¬ä¸‰ä¸ªèº«é«˜ä¸º <em>h</em> çš„äººçš„èº«é«˜å‡å°‘ 2deltaï¼Œä»¥æ­¤ç±»æ¨ï¼Œå…¶ä¸­ delta  æ˜¯ä¸€ä¸ªå¾ˆå°çš„å¸¸æ•°ï¼Œå®ƒä½¿å¾—ä»»ä½•èº«é«˜ä¸º <em>h</em> çš„äººä¸ä¼šä¸å…¶å®ƒï¼ˆèº«é«˜ä¸ä¸º <em>h</em> çš„ï¼‰äººé€ æˆå½±å“ã€‚</p><p>å¦‚ä½•æ‰¾åˆ°ç¬¬ä¸€ä¸ªã€ç¬¬äºŒä¸ªã€ç¬¬ä¸‰ä¸ªèº«é«˜ä¸º <em>h</em> çš„äººå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å€ŸåŠ© <em>k</em> å€¼ï¼Œå¯ä»¥å‘ç°ï¼šå½“ <em>h_i=h_j</em> æ—¶ï¼Œå¦‚æœ <em>k_i &gt; k_j*ï¼Œé‚£ä¹ˆè¯´æ˜ *i</em> ä¸€å®šç›¸å¯¹äº <em>j</em> åœ¨é˜Ÿåˆ—ä¸­å¤„äºè¾ƒåçš„ä½ç½®ï¼ˆå› ä¸ºåœ¨ç¬¬ <em>j</em> ä¸ªäººä¹‹å‰æ¯”ä»–é«˜çš„æ‰€æœ‰äººï¼Œä¸€å®šéƒ½æ¯”ç¬¬ <em>i</em> ä¸ªäººè¦é«˜ï¼‰ï¼ŒæŒ‰ç…§ä¿®æ”¹ä¹‹åçš„ç»“æœï¼Œ<em>h_i</em> ç•¥å°äº <em>h_j*ï¼Œç¬¬ *i</em> ä¸ªäººåœ¨æ’åºååº”è¯¥å…ˆäºç¬¬ <em>j</em> ä¸ªäººè¢«æ”¾å…¥é˜Ÿåˆ—ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸å¿…çœŸçš„å»å¯¹èº«é«˜è¿›è¡Œä¿®æ”¹ï¼Œè€Œåªéœ€è¦æŒ‰ç…§ <em>h_i</em> ä¸ºç¬¬ä¸€å…³é”®å­—å‡åºï¼Œ<em>k_i</em> ä¸ºç¬¬äºŒå…³é”®å­—é™åºè¿›è¡Œæ’åºå³å¯ã€‚æ­¤æ—¶ï¼Œå…·æœ‰ç›¸åŒèº«é«˜çš„äººä¼šæŒ‰ç…§å®ƒä»¬åœ¨é˜Ÿåˆ—ä¸­çš„ä½ç½®é€†åºè¿›è¡Œæ’åˆ—ï¼Œä¹Ÿå°±é—´æ¥å®ç°äº†ä¸Šé¢å°†èº«é«˜å‡å°‘ delta è¿™ä¸€æ“ä½œçš„æ•ˆæœã€‚</p><p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ä¸€å¼€å§‹æåˆ°çš„æ–¹æ³•ï¼Œå°†ç¬¬ <em>i</em> ä¸ªäººæ”¾å…¥é˜Ÿåˆ—ä¸­çš„ç¬¬ <em>k_i+1</em> ä¸ªç©ºä½ç½®ï¼Œå³å¯å¾—åˆ°åŸå§‹çš„é˜Ÿåˆ—ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>ä»ä½åˆ°é«˜è€ƒè™‘C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; reconstructQueue(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; people) &#123;</span><br><span class="line">        sort(people.begin(), people.end(), [](<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; u, <span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; v) &#123;</span><br><span class="line">            <span class="keyword">return</span> u[<span class="number">0</span>] &lt; v[<span class="number">0</span>] || (u[<span class="number">0</span>] == v[<span class="number">0</span>] &amp;&amp; u[<span class="number">1</span>] &gt; v[<span class="number">1</span>]);</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">int</span> n = people.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; ans(n);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; person: people) &#123;</span><br><span class="line">            <span class="keyword">int</span> spaces = person[<span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> (ans[i].empty()) &#123;</span><br><span class="line">                    --spaces;</span><br><span class="line">                    <span class="keyword">if</span> (!spaces) &#123;</span><br><span class="line">                        ans[i] = person;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>ä»ä½åˆ°é«˜è€ƒè™‘Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] reconstructQueue(<span class="keyword">int</span>[][] people) &#123;</span><br><span class="line">        Arrays.sort(people, <span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] person1, <span class="keyword">int</span>[] person2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (person1[<span class="number">0</span>] != person2[<span class="number">0</span>]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> person1[<span class="number">0</span>] - person2[<span class="number">0</span>];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> person2[<span class="number">1</span>] - person1[<span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">int</span> n = people.length;</span><br><span class="line">        <span class="keyword">int</span>[][] ans = <span class="keyword">new</span> <span class="keyword">int</span>[n][];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] person : people) &#123;</span><br><span class="line">            <span class="keyword">int</span> spaces = person[<span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> (ans[i] == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    --spaces;</span><br><span class="line">                    <span class="keyword">if</span> (spaces == <span class="number">0</span>) &#123;</span><br><span class="line">                        ans[i] = person;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ä»ä½åˆ°é«˜è€ƒè™‘Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reconstructQueue</span><span class="params">(self, people: List[List[int]])</span> -&gt; List[List[int]]:</span></span><br><span class="line">        people.sort(key=<span class="keyword">lambda</span> x: (x[<span class="number">0</span>], -x[<span class="number">1</span>]))</span><br><span class="line">        n = len(people)</span><br><span class="line">        ans = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n)]</span><br><span class="line">        <span class="keyword">for</span> person <span class="keyword">in</span> people:</span><br><span class="line">            spaces = person[<span class="number">1</span>] + <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> ans[i]:</span><br><span class="line">                    spaces -= <span class="number">1</span></span><br><span class="line">                    <span class="keyword">if</span> spaces == <span class="number">0</span>:</span><br><span class="line">                        ans[i] = person</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>ä»ä½åˆ°é«˜è€ƒè™‘Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reconstructQueue</span><span class="params">(people [][]<span class="keyword">int</span>)</span> [][]<span class="title">int</span></span> &#123;</span><br><span class="line">    sort.Slice(people, <span class="function"><span class="keyword">func</span><span class="params">(i, j <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">        a, b := people[i], people[j]</span><br><span class="line">        <span class="keyword">return</span> a[<span class="number">0</span>] &lt; b[<span class="number">0</span>] || a[<span class="number">0</span>] == b[<span class="number">0</span>] &amp;&amp; a[<span class="number">1</span>] &gt; b[<span class="number">1</span>]</span><br><span class="line">    &#125;)</span><br><span class="line">    ans := <span class="built_in">make</span>([][]<span class="keyword">int</span>, <span class="built_in">len</span>(people))</span><br><span class="line">    <span class="keyword">for</span> _, person := <span class="keyword">range</span> people &#123;</span><br><span class="line">        spaces := person[<span class="number">1</span>] + <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i := <span class="keyword">range</span> ans &#123;</span><br><span class="line">            <span class="keyword">if</span> ans[i] == <span class="literal">nil</span> &#123;</span><br><span class="line">                spaces--</span><br><span class="line">                <span class="keyword">if</span> spaces == <span class="number">0</span> &#123;</span><br><span class="line">                    ans[i] = person</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ä»ä½åˆ°é«˜è€ƒè™‘C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmp</span><span class="params">(<span class="keyword">const</span> <span class="keyword">void</span>* _a, <span class="keyword">const</span> <span class="keyword">void</span>* _b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *a = *(<span class="keyword">int</span>**)_a, *b = *(<span class="keyword">int</span>**)_b;</span><br><span class="line">    <span class="keyword">return</span> a[<span class="number">0</span>] == b[<span class="number">0</span>] ? b[<span class="number">1</span>] - a[<span class="number">1</span>] : a[<span class="number">0</span>] - b[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>** <span class="title">reconstructQueue</span><span class="params">(<span class="keyword">int</span>** people, <span class="keyword">int</span> peopleSize, <span class="keyword">int</span>* peopleColSize, <span class="keyword">int</span>* returnSize, <span class="keyword">int</span>** returnColumnSizes)</span> </span>&#123;</span><br><span class="line">    qsort(people, peopleSize, <span class="keyword">sizeof</span>(<span class="keyword">int</span>*), cmp);</span><br><span class="line">    <span class="keyword">int</span>** ans = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * peopleSize);</span><br><span class="line">    *returnSize = peopleSize;</span><br><span class="line">    *returnColumnSizes = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * peopleSize);</span><br><span class="line">    <span class="built_in">memset</span>(*returnColumnSizes, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * peopleSize);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; peopleSize; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> spaces = people[i][<span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; peopleSize; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((*returnColumnSizes)[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                spaces--;</span><br><span class="line">                <span class="keyword">if</span> (!spaces) &#123;</span><br><span class="line">                    (*returnColumnSizes)[j] = <span class="number">2</span>;</span><br><span class="line">                    ans[j] = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">2</span>);</span><br><span class="line">                    ans[j][<span class="number">0</span>] = people[i][<span class="number">0</span>], ans[j][<span class="number">1</span>] = people[i][<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n^2)*ï¼Œå…¶ä¸­ *n</em> æ˜¯æ•°ç»„ people çš„é•¿åº¦ã€‚æˆ‘ä»¬éœ€è¦O(nlogn) çš„æ—¶é—´è¿›è¡Œæ’åºï¼Œéšåéœ€è¦ <em>O(n^2)</em> çš„æ—¶é—´éå†æ¯ä¸€ä¸ªäººå¹¶å°†ä»–ä»¬æ”¾å…¥é˜Ÿåˆ—ä¸­ã€‚ç”±äºå‰è€…åœ¨æ¸è¿‘æ„ä¹‰ä¸‹å°äºåè€…ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n^2)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(logn) ï¼Œå³ä¸ºæ’åºéœ€è¦ä½¿ç”¨çš„æ ˆç©ºé—´ã€‚</p></li></ul><h1 id="æ–¹æ³•äºŒï¼šä»é«˜åˆ°ä½è€ƒè™‘"><a href="#æ–¹æ³•äºŒï¼šä»é«˜åˆ°ä½è€ƒè™‘" class="headerlink" title="æ–¹æ³•äºŒï¼šä»é«˜åˆ°ä½è€ƒè™‘"></a>æ–¹æ³•äºŒï¼šä»é«˜åˆ°ä½è€ƒè™‘</h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>åŒæ ·åœ°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†æ¯ä¸ªäººæŒ‰ç…§èº«é«˜ä»å¤§åˆ°å°è¿›è¡Œæ’åºï¼Œå¤„ç†èº«é«˜ç›¸åŒçš„äººä½¿ç”¨çš„æ–¹æ³•ç±»ä¼¼ï¼Œå³ï¼šæŒ‰ç…§ <em>h_i</em> ä¸ºç¬¬ä¸€å…³é”®å­—é™åºï¼Œ<em>k_i</em> ä¸ºç¬¬äºŒå…³é”®å­—å‡åºè¿›è¡Œæ’åºã€‚å¦‚æœæˆ‘ä»¬æŒ‰ç…§æ’å®Œåºåçš„é¡ºåºï¼Œä¾æ¬¡å°†æ¯ä¸ªäººæ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬æ”¾å…¥ç¬¬ <em>i</em> ä¸ªäººæ—¶ï¼š</p><ul><li><p>ç¬¬ 0,â€¦,i-1 ä¸ªäººå·²ç»åœ¨é˜Ÿåˆ—ä¸­è¢«å®‰æ’äº†ä½ç½®ï¼Œä»–ä»¬åªè¦ç«™åœ¨ç¬¬ <em>i</em> ä¸ªäººçš„å‰é¢ï¼Œå°±ä¼šå¯¹ç¬¬ <em>i</em> ä¸ªäººäº§ç”Ÿå½±å“ï¼Œå› ä¸ºä»–ä»¬éƒ½æ¯”ç¬¬ <em>i</em> ä¸ªäººé«˜ï¼›</p></li><li><p>è€Œç¬¬ i+1,â€¦,n-1 ä¸ªäººè¿˜æ²¡æœ‰è¢«æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œå¹¶ä¸”ä»–ä»¬æ— è®ºç«™åœ¨å“ªé‡Œï¼Œå¯¹ç¬¬ <em>i</em> ä¸ªäººéƒ½æ²¡æœ‰ä»»ä½•å½±å“ï¼Œå› ä¸ºä»–ä»¬éƒ½æ¯”ç¬¬ <em>i</em> ä¸ªäººçŸ®ã€‚</p></li></ul><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ— ä»å¾—çŸ¥åº”è¯¥ç»™åé¢çš„äººå®‰æ’å¤šå°‘ä¸ªã€Œç©ºã€ä½ç½®ï¼Œå› æ­¤å°±ä¸èƒ½æ²¿ç”¨æ–¹æ³•ä¸€ã€‚ä½†æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåé¢çš„äººæ—¢ç„¶ä¸ä¼šå¯¹ç¬¬ <em>i</em> ä¸ªäººé€ æˆå½±å“ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ã€Œæ’ç©ºã€çš„æ–¹æ³•ï¼Œä¾æ¬¡ç»™æ¯ä¸€ä¸ªäººåœ¨å½“å‰çš„é˜Ÿåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªæ’å…¥çš„ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬æ”¾å…¥ç¬¬ <em>i</em> ä¸ªäººæ—¶ï¼Œåªéœ€è¦å°†å…¶æ’å…¥é˜Ÿåˆ—ä¸­ï¼Œä½¿å¾—ä»–çš„å‰é¢æ°å¥½æœ‰ <em>k_i</em> ä¸ªäººå³å¯ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>ä»é«˜åˆ°ä½è€ƒè™‘C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; reconstructQueue(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; people) &#123;</span><br><span class="line">        sort(people.begin(), people.end(), [](<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; u, <span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; v) &#123;</span><br><span class="line">            <span class="keyword">return</span> u[<span class="number">0</span>] &gt; v[<span class="number">0</span>] || (u[<span class="number">0</span>] == v[<span class="number">0</span>] &amp;&amp; u[<span class="number">1</span>] &lt; v[<span class="number">1</span>]);</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; ans;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; person: people) &#123;</span><br><span class="line">            ans.insert(ans.begin() + person[<span class="number">1</span>], person);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>ä»é«˜åˆ°ä½è€ƒè™‘Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] reconstructQueue(<span class="keyword">int</span>[][] people) &#123;</span><br><span class="line">        Arrays.sort(people, <span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] person1, <span class="keyword">int</span>[] person2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (person1[<span class="number">0</span>] != person2[<span class="number">0</span>]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> person2[<span class="number">0</span>] - person1[<span class="number">0</span>];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> person1[<span class="number">1</span>] - person2[<span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        List&lt;<span class="keyword">int</span>[]&gt; ans = <span class="keyword">new</span> ArrayList&lt;<span class="keyword">int</span>[]&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] person : people) &#123;</span><br><span class="line">            ans.add(person[<span class="number">1</span>], person);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans.toArray(<span class="keyword">new</span> <span class="keyword">int</span>[ans.size()][]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ä»é«˜åˆ°ä½è€ƒè™‘Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reconstructQueue</span><span class="params">(self, people: List[List[int]])</span> -&gt; List[List[int]]:</span></span><br><span class="line">        people.sort(key=<span class="keyword">lambda</span> x: (-x[<span class="number">0</span>], x[<span class="number">1</span>]))</span><br><span class="line">        n = len(people)</span><br><span class="line">        ans = list()</span><br><span class="line">        <span class="keyword">for</span> person <span class="keyword">in</span> people:</span><br><span class="line">            ans[person[<span class="number">1</span>]:person[<span class="number">1</span>]] = [person]</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>ä»é«˜åˆ°ä½è€ƒè™‘Golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reconstructQueue</span><span class="params">(people [][]<span class="keyword">int</span>)</span> <span class="params">(ans [][]<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    sort.Slice(people, <span class="function"><span class="keyword">func</span><span class="params">(i, j <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">        a, b := people[i], people[j]</span><br><span class="line">        <span class="keyword">return</span> a[<span class="number">0</span>] &gt; b[<span class="number">0</span>] || a[<span class="number">0</span>] == b[<span class="number">0</span>] &amp;&amp; a[<span class="number">1</span>] &lt; b[<span class="number">1</span>]</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">for</span> _, person := <span class="keyword">range</span> people &#123;</span><br><span class="line">        idx := person[<span class="number">1</span>]</span><br><span class="line">        ans = <span class="built_in">append</span>(ans[:idx], <span class="built_in">append</span>([][]<span class="keyword">int</span>&#123;person&#125;, ans[idx:]...)...)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ä»é«˜åˆ°ä½è€ƒè™‘C</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmp</span><span class="params">(<span class="keyword">const</span> <span class="keyword">void</span>* _a, <span class="keyword">const</span> <span class="keyword">void</span>* _b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *a = *(<span class="keyword">int</span>**)_a, *b = *(<span class="keyword">int</span>**)_b;</span><br><span class="line">    <span class="keyword">return</span> a[<span class="number">0</span>] == b[<span class="number">0</span>] ? a[<span class="number">1</span>] - b[<span class="number">1</span>] : b[<span class="number">0</span>] - a[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>** <span class="title">reconstructQueue</span><span class="params">(<span class="keyword">int</span>** people, <span class="keyword">int</span> peopleSize, <span class="keyword">int</span>* peopleColSize, <span class="keyword">int</span>* returnSize, <span class="keyword">int</span>** returnColumnSizes)</span> </span>&#123;</span><br><span class="line">    qsort(people, peopleSize, <span class="keyword">sizeof</span>(<span class="keyword">int</span>*), cmp);</span><br><span class="line">    <span class="keyword">int</span>** ans = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * peopleSize);</span><br><span class="line">    *returnSize = <span class="number">0</span>;</span><br><span class="line">    *returnColumnSizes = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * peopleSize);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; peopleSize; i++) &#123;</span><br><span class="line">        (*returnColumnSizes)[i] = <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; peopleSize; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span>* person = people[i];</span><br><span class="line">        (*returnSize)++;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = (*returnSize) - <span class="number">1</span>; j &gt; person[<span class="number">1</span>]; j--) &#123;</span><br><span class="line">            ans[j] = ans[j - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>* tmp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">2</span>);</span><br><span class="line">        tmp[<span class="number">0</span>] = person[<span class="number">0</span>], tmp[<span class="number">1</span>] = person[<span class="number">1</span>];</span><br><span class="line">        ans[person[<span class="number">1</span>]] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n^2)*ï¼Œå…¶ä¸­ *n</em> æ˜¯æ•°ç»„people çš„é•¿åº¦ã€‚æˆ‘ä»¬éœ€è¦ O(nlogn)  çš„æ—¶é—´è¿›è¡Œæ’åºï¼Œéšåéœ€è¦ <em>O(n^2)</em> çš„æ—¶é—´éå†æ¯ä¸€ä¸ªäººå¹¶å°†ä»–ä»¬æ”¾å…¥é˜Ÿåˆ—ä¸­ã€‚ç”±äºå‰è€…åœ¨æ¸è¿‘æ„ä¹‰ä¸‹å°äºåè€…ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n^2)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(logn) ã€‚</p></li></ul><h1 id="æ–¹æ³•ä¸‰ï¼šæ‹“æ‰‘æ’åº"><a href="#æ–¹æ³•ä¸‰ï¼šæ‹“æ‰‘æ’åº" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šæ‹“æ‰‘æ’åº"></a>æ–¹æ³•ä¸‰ï¼šæ‹“æ‰‘æ’åº</h1><p>æ¯æ¬¡éƒ½æ‰¾ç¬¬äºŒä¸ªå…ƒç´ ä¸º0çš„æœ€çŸ®çš„äººæ’å…¥ï¼Œç„¶åå°†æ‰€æœ‰èº«é«˜æ¯”è¿™ä¸ªäººè¿˜çŸ®çš„ç¬¬äºŒä¸ªå…ƒç´ å‡ä¸€ï¼Œå¾ªç¯næ¬¡å³å¯ã€‚</p><details>    <summary>æ‹“æ‰‘æ’åºC++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; reconstructQueue(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; people) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; ans;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; peo(people.begin(),people.end());</span><br><span class="line">        <span class="keyword">int</span> n=people.size();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> temp=<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(people[j][<span class="number">1</span>]==<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(temp==<span class="number">-1</span>) temp=j;</span><br><span class="line">                    <span class="keyword">else</span> temp=people[temp][<span class="number">0</span>]&lt;people[j][<span class="number">0</span>]?temp:j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ans.push_back(peo[temp]);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(people[j][<span class="number">0</span>]&lt;=people[temp][<span class="number">0</span>]) people[j][<span class="number">1</span>]--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å‡è®¾æœ‰æ‰“ä¹±é¡ºåºçš„ä¸€ç¾¤äººç«™æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ•°ç»„ people è¡¨ç¤ºé˜Ÿåˆ—ä¸­ä¸€äº›äººçš„å±æ€§ï¼ˆä¸ä¸€å®šæŒ‰é¡ºåºï¼‰ã€‚æ¯ä¸ª people[i] = [hi, ki] è¡¨ç¤ºç¬¬ i ä¸ªäººçš„èº«é«˜ä¸º hi ï¼Œå‰é¢ æ­£å¥½ æœ‰ ki ä¸ªèº«é«˜å¤§äºæˆ–ç­‰äº hi çš„äººã€‚&lt;/p&gt;
&lt;p&gt;è¯·ä½ é‡æ–°æ„é€ å¹¶è¿”å›è¾“å…¥æ•°ç»„ people æ‰€è¡¨ç¤ºçš„é˜Ÿåˆ—ã€‚è¿”å›çš„é˜Ÿåˆ—åº”è¯¥æ ¼å¼åŒ–ä¸ºæ•°ç»„ queue ï¼Œå…¶ä¸­ queue[j] = [hj, kj] æ˜¯é˜Ÿåˆ—ä¸­ç¬¬ j ä¸ªäººçš„å±æ€§ï¼ˆqueue[0] æ˜¯æ’åœ¨é˜Ÿåˆ—å‰é¢çš„äººï¼‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´12æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Greedy" scheme="http://yoursite.com/tags/Greedy/"/>
    
  </entry>
  
</feed>
