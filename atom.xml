<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yiye Li</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-09-14T08:51:15.789Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Yiye Li</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>200. å²›å±¿æ•°é‡</title>
    <link href="http://yoursite.com/2020/09/14/200.%20%E5%B2%9B%E5%B1%BF%E6%95%B0%E9%87%8F/"/>
    <id>http://yoursite.com/2020/09/14/200. å²›å±¿æ•°é‡/</id>
    <published>2020-09-14T07:45:12.000Z</published>
    <updated>2020-09-14T08:51:15.789Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªç”± â€˜1â€™ï¼ˆé™†åœ°ï¼‰å’Œ â€˜0â€™ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚</p><a id="more"></a><p>å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚</p><p>æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥:[[&apos;1&apos;,&apos;1&apos;,&apos;1&apos;,&apos;1&apos;,&apos;0&apos;],[&apos;1&apos;,&apos;1&apos;,&apos;0&apos;,&apos;1&apos;,&apos;0&apos;],[&apos;1&apos;,&apos;1&apos;,&apos;0&apos;,&apos;0&apos;,&apos;0&apos;],[&apos;0&apos;,&apos;0&apos;,&apos;0&apos;,&apos;0&apos;,&apos;0&apos;]]è¾“å‡º: 1</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥:[[&apos;1&apos;,&apos;1&apos;,&apos;0&apos;,&apos;0&apos;,&apos;0&apos;],[&apos;1&apos;,&apos;1&apos;,&apos;0&apos;,&apos;0&apos;,&apos;0&apos;],[&apos;0&apos;,&apos;0&apos;,&apos;1&apos;,&apos;0&apos;,&apos;0&apos;],[&apos;0&apos;,&apos;0&apos;,&apos;0&apos;,&apos;1&apos;,&apos;1&apos;]]è¾“å‡º: 3è§£é‡Š: æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³å’Œ/æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥è€Œæˆã€‚</code></pre><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="0a3f7b6f-abd0-4af8-87ef-89c565b967d4">LeetCode 200 ZYH.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</h2><p>æˆ‘ä»¬å¯ä»¥å°†äºŒç»´ç½‘æ ¼çœ‹æˆä¸€ä¸ªæ— å‘å›¾ï¼Œç«–ç›´æˆ–æ°´å¹³ç›¸é‚»çš„ <em>1</em> ä¹‹é—´æœ‰è¾¹ç›¸è¿ã€‚</p><p>ä¸ºäº†æ±‚å‡ºå²›å±¿çš„æ•°é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ‰«ææ•´ä¸ªäºŒç»´ç½‘æ ¼ã€‚å¦‚æœä¸€ä¸ªä½ç½®ä¸º <em>1</em>ï¼Œåˆ™ä»¥å…¶ä¸ºèµ·å§‹èŠ‚ç‚¹å¼€å§‹è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ã€‚åœ¨æ·±åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªæœç´¢åˆ°çš„ <em>1</em> éƒ½ä¼šè¢«é‡æ–°æ ‡è®°ä¸º <em>0</em>ã€‚</p><p>æœ€ç»ˆå²›å±¿çš„æ•°é‡å°±æ˜¯æˆ‘ä»¬è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢çš„æ¬¡æ•°ã€‚</p><p>ä¸‹é¢çš„åŠ¨ç”»å±•ç¤ºäº†æ•´ä¸ªç®—æ³•ã€‚</p><p> <a href="https://pic.leetcode-cn.com/5dae0de2a06f4eae5113f9cadfa5c51bbcf0b9347c5861aa73c93d7bc1d50b34-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/61a98091fe75de107bf886a608e87d5bb29d810b9e7eb1e00c541f49194ea543-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/6d060f275561dc390841f78d85124fd193efb0801ea2dc865b2767f1093e4f3a-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/233368eab82832268c3c7266fd7fe65c78626de9fd89cb90b3f36a7b4e52860d-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/bf055c3d5f6b310f6a110ada65d503de6d7793276f5638731c81c53b4276b835-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/195ba530a5350e0a8f8e372319d061c85316c1064017d5c00d7cfc2b0c055de6-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/c21a88bde9450ad83d6164c2df4677b16154fa5990408459a2a45982b9cd70fd-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/0cfddec2d15ed9a56c434f470ff07eb3dfc83dccbda0160583d1bce469077274-image.png" target="_blank" rel="noopener">image.png</a> </p><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; grid, <span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> nr = grid.size();</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].size();</span><br><span class="line"></span><br><span class="line">        grid[r][c] = <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">if</span> (r - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[r<span class="number">-1</span>][c] == <span class="string">'1'</span>) dfs(grid, r - <span class="number">1</span>, c);</span><br><span class="line">        <span class="keyword">if</span> (r + <span class="number">1</span> &lt; nr &amp;&amp; grid[r+<span class="number">1</span>][c] == <span class="string">'1'</span>) dfs(grid, r + <span class="number">1</span>, c);</span><br><span class="line">        <span class="keyword">if</span> (c - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[r][c<span class="number">-1</span>] == <span class="string">'1'</span>) dfs(grid, r, c - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (c + <span class="number">1</span> &lt; nc &amp;&amp; grid[r][c+<span class="number">1</span>] == <span class="string">'1'</span>) dfs(grid, r, c + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> nr = grid.size();</span><br><span class="line">        <span class="keyword">if</span> (!nr) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].size();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> num_islands = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; nr; ++r) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; nc; ++c) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[r][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    ++num_islands;</span><br><span class="line">                    dfs(grid, r, c);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> num_islands;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] grid, <span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> nr = grid.length;</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].length;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (r &lt; <span class="number">0</span> || c &lt; <span class="number">0</span> || r &gt;= nr || c &gt;= nc || grid[r][c] == <span class="string">'0'</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        grid[r][c] = <span class="string">'0'</span>;</span><br><span class="line">        dfs(grid, r - <span class="number">1</span>, c);</span><br><span class="line">        dfs(grid, r + <span class="number">1</span>, c);</span><br><span class="line">        dfs(grid, r, c - <span class="number">1</span>);</span><br><span class="line">        dfs(grid, r, c + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> nr = grid.length;</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> num_islands = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; nr; ++r) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; nc; ++c) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[r][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    ++num_islands;</span><br><span class="line">                    dfs(grid, r, c);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> num_islands;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(self, grid, r, c)</span>:</span></span><br><span class="line">        grid[r][c] = <span class="number">0</span></span><br><span class="line">        nr, nc = len(grid), len(grid[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">for</span> x, y <span class="keyword">in</span> [(r - <span class="number">1</span>, c), (r + <span class="number">1</span>, c), (r, c - <span class="number">1</span>), (r, c + <span class="number">1</span>)]:</span><br><span class="line">            <span class="keyword">if</span> <span class="number">0</span> &lt;= x &lt; nr <span class="keyword">and</span> <span class="number">0</span> &lt;= y &lt; nc <span class="keyword">and</span> grid[x][y] == <span class="string">"1"</span>:</span><br><span class="line">                self.dfs(grid, x, y)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numIslands</span><span class="params">(self, grid: List[List[str]])</span> -&gt; int:</span></span><br><span class="line">        nr = len(grid)</span><br><span class="line">        <span class="keyword">if</span> nr == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        nc = len(grid[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">        num_islands = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> range(nr):</span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> range(nc):</span><br><span class="line">                <span class="keyword">if</span> grid[r][c] == <span class="string">"1"</span>:</span><br><span class="line">                    num_islands += <span class="number">1</span></span><br><span class="line">                    self.dfs(grid, r, c)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> num_islands</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(MN)*ï¼Œå…¶ä¸­ *M</em> å’Œ <em>N</em> åˆ†åˆ«ä¸ºè¡Œæ•°å’Œåˆ—æ•°ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(MN)</em>ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ•´ä¸ªç½‘æ ¼å‡ä¸ºé™†åœ°ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢çš„æ·±åº¦è¾¾åˆ° <em>M N</em>ã€‚</p></li></ul><h2 id="æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢</h2><p>åŒæ ·åœ°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ä»£æ›¿æ·±åº¦ä¼˜å…ˆæœç´¢ã€‚</p><p>ä¸ºäº†æ±‚å‡ºå²›å±¿çš„æ•°é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ‰«ææ•´ä¸ªäºŒç»´ç½‘æ ¼ã€‚å¦‚æœä¸€ä¸ªä½ç½®ä¸º <em>1</em>ï¼Œåˆ™å°†å…¶åŠ å…¥é˜Ÿåˆ—ï¼Œå¼€å§‹è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªæœç´¢åˆ°çš„ <em>1</em> éƒ½ä¼šè¢«é‡æ–°æ ‡è®°ä¸º <em>0</em>ã€‚ç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºï¼Œæœç´¢ç»“æŸã€‚</p><p>æœ€ç»ˆå²›å±¿çš„æ•°é‡å°±æ˜¯æˆ‘ä»¬è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ¬¡æ•°ã€‚</p><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> nr = grid.size();</span><br><span class="line">        <span class="keyword">if</span> (!nr) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].size();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> num_islands = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; nr; ++r) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; nc; ++c) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[r][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    ++num_islands;</span><br><span class="line">                    grid[r][c] = <span class="string">'0'</span>;</span><br><span class="line">                    <span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; neighbors;</span><br><span class="line">                    neighbors.push(&#123;r, c&#125;);</span><br><span class="line">                    <span class="keyword">while</span> (!neighbors.empty()) &#123;</span><br><span class="line">                        <span class="keyword">auto</span> rc = neighbors.front();</span><br><span class="line">                        neighbors.pop();</span><br><span class="line">                        <span class="keyword">int</span> row = rc.first, col = rc.second;</span><br><span class="line">                        <span class="keyword">if</span> (row - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[row<span class="number">-1</span>][col] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.push(&#123;row<span class="number">-1</span>, col&#125;);</span><br><span class="line">                            grid[row<span class="number">-1</span>][col] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (row + <span class="number">1</span> &lt; nr &amp;&amp; grid[row+<span class="number">1</span>][col] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.push(&#123;row+<span class="number">1</span>, col&#125;);</span><br><span class="line">                            grid[row+<span class="number">1</span>][col] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (col - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[row][col<span class="number">-1</span>] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.push(&#123;row, col<span class="number">-1</span>&#125;);</span><br><span class="line">                            grid[row][col<span class="number">-1</span>] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (col + <span class="number">1</span> &lt; nc &amp;&amp; grid[row][col+<span class="number">1</span>] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.push(&#123;row, col+<span class="number">1</span>&#125;);</span><br><span class="line">                            grid[row][col+<span class="number">1</span>] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> num_islands;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> nr = grid.length;</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> num_islands = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; nr; ++r) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; nc; ++c) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[r][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    ++num_islands;</span><br><span class="line">                    grid[r][c] = <span class="string">'0'</span>;</span><br><span class="line">                    Queue&lt;Integer&gt; neighbors = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">                    neighbors.add(r * nc + c);</span><br><span class="line">                    <span class="keyword">while</span> (!neighbors.isEmpty()) &#123;</span><br><span class="line">                        <span class="keyword">int</span> id = neighbors.remove();</span><br><span class="line">                        <span class="keyword">int</span> row = id / nc;</span><br><span class="line">                        <span class="keyword">int</span> col = id % nc;</span><br><span class="line">                        <span class="keyword">if</span> (row - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[row-<span class="number">1</span>][col] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.add((row-<span class="number">1</span>) * nc + col);</span><br><span class="line">                            grid[row-<span class="number">1</span>][col] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (row + <span class="number">1</span> &lt; nr &amp;&amp; grid[row+<span class="number">1</span>][col] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.add((row+<span class="number">1</span>) * nc + col);</span><br><span class="line">                            grid[row+<span class="number">1</span>][col] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (col - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[row][col-<span class="number">1</span>] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.add(row * nc + col-<span class="number">1</span>);</span><br><span class="line">                            grid[row][col-<span class="number">1</span>] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (col + <span class="number">1</span> &lt; nc &amp;&amp; grid[row][col+<span class="number">1</span>] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.add(row * nc + col+<span class="number">1</span>);</span><br><span class="line">                            grid[row][col+<span class="number">1</span>] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> num_islands;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Python</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numIslands</span><span class="params">(self, grid: List[List[str]])</span> -&gt; int:</span></span><br><span class="line">        nr = len(grid)</span><br><span class="line">        <span class="keyword">if</span> nr == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        nc = len(grid[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">        num_islands = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> range(nr):</span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> range(nc):</span><br><span class="line">                <span class="keyword">if</span> grid[r][c] == <span class="string">"1"</span>:</span><br><span class="line">                    num_islands += <span class="number">1</span></span><br><span class="line">                    grid[r][c] = <span class="string">"0"</span></span><br><span class="line">                    neighbors = collections.deque([(r, c)])</span><br><span class="line">                    <span class="keyword">while</span> neighbors:</span><br><span class="line">                        row, col = neighbors.popleft()</span><br><span class="line">                        <span class="keyword">for</span> x, y <span class="keyword">in</span> [(row - <span class="number">1</span>, col), (row + <span class="number">1</span>, col), (row, col - <span class="number">1</span>), (row, col + <span class="number">1</span>)]:</span><br><span class="line">                            <span class="keyword">if</span> <span class="number">0</span> &lt;= x &lt; nr <span class="keyword">and</span> <span class="number">0</span> &lt;= y &lt; nc <span class="keyword">and</span> grid[x][y] == <span class="string">"1"</span>:</span><br><span class="line">                                neighbors.append((x, y))</span><br><span class="line">                                grid[x][y] = <span class="string">"0"</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> num_islands</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(MN)*ï¼Œå…¶ä¸­ *M</em> å’Œ <em>N</em> åˆ†åˆ«ä¸ºè¡Œæ•°å’Œåˆ—æ•°ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(min(M,N)) ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ•´ä¸ªç½‘æ ¼å‡ä¸ºé™†åœ°ï¼Œé˜Ÿåˆ—çš„å¤§å°å¯ä»¥è¾¾åˆ° min(M,N)ã€‚</p></li></ul><h2 id="æ–¹æ³•ä¸‰ï¼šå¹¶æŸ¥é›†"><a href="#æ–¹æ³•ä¸‰ï¼šå¹¶æŸ¥é›†" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šå¹¶æŸ¥é›†"></a>æ–¹æ³•ä¸‰ï¼šå¹¶æŸ¥é›†</h2><p>åŒæ ·åœ°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å¹¶æŸ¥é›†ä»£æ›¿æœç´¢ã€‚</p><p>ä¸ºäº†æ±‚å‡ºå²›å±¿çš„æ•°é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ‰«ææ•´ä¸ªäºŒç»´ç½‘æ ¼ã€‚å¦‚æœä¸€ä¸ªä½ç½®ä¸º <em>1</em>ï¼Œåˆ™å°†å…¶ä¸ç›¸é‚»å››ä¸ªæ–¹å‘ä¸Šçš„ <em>1</em> åœ¨å¹¶æŸ¥é›†ä¸­è¿›è¡Œåˆå¹¶ã€‚</p><p>æœ€ç»ˆå²›å±¿çš„æ•°é‡å°±æ˜¯å¹¶æŸ¥é›†ä¸­è¿é€šåˆ†é‡çš„æ•°ç›®ã€‚</p><p>ä¸‹é¢çš„åŠ¨ç”»å±•ç¤ºäº†æ•´ä¸ªç®—æ³•ã€‚</p><p> <a href="https://pic.leetcode-cn.com/41b6ce1794ba80a7a82b31dc4c0642b26ccd280457d254d2fdad37a1f5a73ca6-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/82fa6f7b52294fdd8a2f4a0a28d4ca2dd3d71e86e7ddf5fa5ef4b18a13d3c438-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/773a3ac931ca2b397b0ba6cac17a15a0dd21fe2d0f2887d6b90405d9025c3f85-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/6c1a18d84a24f74c18654e0f20b17c263646a9fad911e6bb227e665688abb037-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/1a35068b177ce3ed70de37d3e7a1fb3e91ba0e5588ab3e3633ddb963f3d64f68-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/6f35cbfc7410e54ec80f96af3123c5eed5e5b8f73e6a1cc2fa4aea0f911e919c-image.png" target="_blank" rel="noopener">image.png</a> </p><details>    <summary>å¹¶æŸ¥é›†C++</summary><figure class="highlight c++"><figcaption><span>[sol3-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnionFind</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    UnionFind(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; grid) &#123;</span><br><span class="line">        count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> m = grid.size();</span><br><span class="line">        <span class="keyword">int</span> n = grid[<span class="number">0</span>].size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    parent.push_back(i * n + j);</span><br><span class="line">                    ++count;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    parent.push_back(<span class="number">-1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                rank.push_back(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (parent[i] != i) &#123;</span><br><span class="line">            parent[i] = find(parent[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> parent[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">unite</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> rootx = find(x);</span><br><span class="line">        <span class="keyword">int</span> rooty = find(y);</span><br><span class="line">        <span class="keyword">if</span> (rootx != rooty) &#123;</span><br><span class="line">            <span class="keyword">if</span> (rank[rootx] &lt; rank[rooty]) &#123;</span><br><span class="line">                swap(rootx, rooty);</span><br><span class="line">            &#125;</span><br><span class="line">            parent[rooty] = rootx;</span><br><span class="line">            <span class="keyword">if</span> (rank[rootx] == rank[rooty]) rank[rootx] += <span class="number">1</span>;</span><br><span class="line">            --count;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; parent;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; rank;</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> nr = grid.size();</span><br><span class="line">        <span class="keyword">if</span> (!nr) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].size();</span><br><span class="line"></span><br><span class="line">        <span class="function">UnionFind <span class="title">uf</span><span class="params">(grid)</span></span>;</span><br><span class="line">        <span class="keyword">int</span> num_islands = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; nr; ++r) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; nc; ++c) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[r][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    grid[r][c] = <span class="string">'0'</span>;</span><br><span class="line">                    <span class="keyword">if</span> (r - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[r<span class="number">-1</span>][c] == <span class="string">'1'</span>) uf.unite(r * nc + c, (r<span class="number">-1</span>) * nc + c);</span><br><span class="line">                    <span class="keyword">if</span> (r + <span class="number">1</span> &lt; nr &amp;&amp; grid[r+<span class="number">1</span>][c] == <span class="string">'1'</span>) uf.unite(r * nc + c, (r+<span class="number">1</span>) * nc + c);</span><br><span class="line">                    <span class="keyword">if</span> (c - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[r][c<span class="number">-1</span>] == <span class="string">'1'</span>) uf.unite(r * nc + c, r * nc + c - <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (c + <span class="number">1</span> &lt; nc &amp;&amp; grid[r][c+<span class="number">1</span>] == <span class="string">'1'</span>) uf.unite(r * nc + c, r * nc + c + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> uf.getCount();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¶æŸ¥é›†Java</summary><figure class="highlight java"><figcaption><span>[sol3-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">UnionFind</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> count;</span><br><span class="line">        <span class="keyword">int</span>[] parent;</span><br><span class="line">        <span class="keyword">int</span>[] rank;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">UnionFind</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">            count = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> m = grid.length;</span><br><span class="line">            <span class="keyword">int</span> n = grid[<span class="number">0</span>].length;</span><br><span class="line">            parent = <span class="keyword">new</span> <span class="keyword">int</span>[m * n];</span><br><span class="line">            rank = <span class="keyword">new</span> <span class="keyword">int</span>[m * n];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (grid[i][j] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                        parent[i * n + j] = i * n + j;</span><br><span class="line">                        ++count;</span><br><span class="line">                    &#125;</span><br><span class="line">                    rank[i * n + j] = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (parent[i] != i) parent[i] = find(parent[i]);</span><br><span class="line">            <span class="keyword">return</span> parent[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> rootx = find(x);</span><br><span class="line">            <span class="keyword">int</span> rooty = find(y);</span><br><span class="line">            <span class="keyword">if</span> (rootx != rooty) &#123;</span><br><span class="line">                <span class="keyword">if</span> (rank[rootx] &gt; rank[rooty]) &#123;</span><br><span class="line">                    parent[rooty] = rootx;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rank[rootx] &lt; rank[rooty]) &#123;</span><br><span class="line">                    parent[rootx] = rooty;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    parent[rooty] = rootx;</span><br><span class="line">                    rank[rootx] += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                --count;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> count;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> nr = grid.length;</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> num_islands = <span class="number">0</span>;</span><br><span class="line">        UnionFind uf = <span class="keyword">new</span> UnionFind(grid);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; nr; ++r) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; nc; ++c) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[r][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    grid[r][c] = <span class="string">'0'</span>;</span><br><span class="line">                    <span class="keyword">if</span> (r - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[r-<span class="number">1</span>][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                        uf.union(r * nc + c, (r-<span class="number">1</span>) * nc + c);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (r + <span class="number">1</span> &lt; nr &amp;&amp; grid[r+<span class="number">1</span>][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                        uf.union(r * nc + c, (r+<span class="number">1</span>) * nc + c);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (c - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[r][c-<span class="number">1</span>] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                        uf.union(r * nc + c, r * nc + c - <span class="number">1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (c + <span class="number">1</span> &lt; nc &amp;&amp; grid[r][c+<span class="number">1</span>] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                        uf.union(r * nc + c, r * nc + c + <span class="number">1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> uf.getCount();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¶æŸ¥é›†Python</summary><figure class="highlight python"><figcaption><span>[sol3-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnionFind</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, grid)</span>:</span></span><br><span class="line">        m, n = len(grid), len(grid[<span class="number">0</span>])</span><br><span class="line">        self.count = <span class="number">0</span></span><br><span class="line">        self.parent = [<span class="number">-1</span>] * (m * n)</span><br><span class="line">        self.rank = [<span class="number">0</span>] * (m * n)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j] == <span class="string">"1"</span>:</span><br><span class="line">                    self.parent[i * n + j] = i * n + j</span><br><span class="line">                    self.count += <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, i)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.parent[i] != i:</span><br><span class="line">            self.parent[i] = self.find(self.parent[i])</span><br><span class="line">        <span class="keyword">return</span> self.parent[i]</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        rootx = self.find(x)</span><br><span class="line">        rooty = self.find(y)</span><br><span class="line">        <span class="keyword">if</span> rootx != rooty:</span><br><span class="line">            <span class="keyword">if</span> self.rank[rootx] &lt; self.rank[rooty]:</span><br><span class="line">                rootx, rooty = rooty, rootx</span><br><span class="line">            self.parent[rooty] = rootx</span><br><span class="line">            <span class="keyword">if</span> self.rank[rootx] == self.rank[rooty]:</span><br><span class="line">                self.rank[rootx] += <span class="number">1</span></span><br><span class="line">            self.count -= <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getCount</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.count</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numIslands</span><span class="params">(self, grid: List[List[str]])</span> -&gt; int:</span></span><br><span class="line">        nr = len(grid)</span><br><span class="line">        <span class="keyword">if</span> nr == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        nc = len(grid[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">        uf = UnionFind(grid)</span><br><span class="line">        num_islands = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> range(nr):</span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> range(nc):</span><br><span class="line">                <span class="keyword">if</span> grid[r][c] == <span class="string">"1"</span>:</span><br><span class="line">                    grid[r][c] = <span class="string">"0"</span></span><br><span class="line">                    <span class="keyword">for</span> x, y <span class="keyword">in</span> [(r - <span class="number">1</span>, c), (r + <span class="number">1</span>, c), (r, c - <span class="number">1</span>), (r, c + <span class="number">1</span>)]:</span><br><span class="line">                        <span class="keyword">if</span> <span class="number">0</span> &lt;= x &lt; nr <span class="keyword">and</span> <span class="number">0</span> &lt;= y &lt; nc <span class="keyword">and</span> grid[x][y] == <span class="string">"1"</span>:</span><br><span class="line">                            uf.union(r * nc + c, x * nc + y)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> uf.getCount()</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(MN*\alpha(MN))</span><br></pre></td></tr></table></figure></li></ul><p>ï¼Œå…¶ä¸­ <em>M</em> å’Œ <em>N</em> åˆ†åˆ«ä¸ºè¡Œæ•°å’Œåˆ—æ•°ã€‚æ³¨æ„å½“ä½¿ç”¨è·¯å¾„å‹ç¼©ï¼ˆè§ <code>find</code> å‡½æ•°ï¼‰å’ŒæŒ‰ç§©åˆå¹¶ï¼ˆè§æ•°ç»„ <code>rank</code>ï¼‰å®ç°å¹¶æŸ¥é›†æ—¶ï¼Œå•æ¬¡æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\alpha(MN)</span><br></pre></td></tr></table></figure><p>ï¼Œå…¶ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\alpha(x)</span><br></pre></td></tr></table></figure><p>ä¸ºåé˜¿å…‹æ›¼å‡½æ•°ï¼Œå½“è‡ªå˜é‡ <em>x</em> çš„å€¼åœ¨äººç±»å¯è§‚æµ‹çš„èŒƒå›´å†…ï¼ˆå®‡å®™ä¸­ç²’å­çš„æ•°é‡ï¼‰æ—¶ï¼Œå‡½æ•° </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\alpha(x)</span><br></pre></td></tr></table></figure><p>çš„å€¼ä¸ä¼šè¶…è¿‡ <em>5</em>ï¼Œå› æ­¤ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯å¸¸æ•°æ—¶é—´å¤æ‚åº¦ã€‚</p><ul><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(MN)</em>ï¼Œè¿™æ˜¯å¹¶æŸ¥é›†éœ€è¦ä½¿ç”¨çš„ç©ºé—´ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ªç”± â€˜1â€™ï¼ˆé™†åœ°ï¼‰å’Œ â€˜0â€™ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Breadth-first Search" scheme="http://yoursite.com/tags/Breadth-first-Search/"/>
    
      <category term="Depth-first Search" scheme="http://yoursite.com/tags/Depth-first-Search/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Union Find" scheme="http://yoursite.com/tags/Union-Find/"/>
    
  </entry>
  
  <entry>
    <title>127. å•è¯æ¥é¾™</title>
    <link href="http://yoursite.com/2020/09/09/127.%20%E5%8D%95%E8%AF%8D%E6%8E%A5%E9%BE%99/"/>
    <id>http://yoursite.com/2020/09/09/127. å•è¯æ¥é¾™/</id>
    <published>2020-09-09T09:45:12.000Z</published>
    <updated>2020-09-14T07:42:39.750Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸¤ä¸ªå•è¯ï¼ˆbeginWord å’Œ endWordï¼‰å’Œä¸€ä¸ªå­—å…¸ï¼Œæ‰¾åˆ°ä» beginWord åˆ° endWord çš„æœ€çŸ­è½¬æ¢åºåˆ—çš„é•¿åº¦ã€‚</p><a id="more"></a><p>è½¬æ¢éœ€éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š</p><ul><li>æ¯æ¬¡è½¬æ¢åªèƒ½æ”¹å˜ä¸€ä¸ªå­—æ¯ã€‚</li><li>è½¬æ¢è¿‡ç¨‹ä¸­çš„ä¸­é—´å•è¯å¿…é¡»æ˜¯å­—å…¸ä¸­çš„å•è¯ã€‚</li></ul><p>è¯´æ˜:</p><ul><li>å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è½¬æ¢åºåˆ—ï¼Œè¿”å› 0ã€‚</li><li>æ‰€æœ‰å•è¯å…·æœ‰ç›¸åŒçš„é•¿åº¦ã€‚</li><li>æ‰€æœ‰å•è¯åªç”±å°å†™å­—æ¯ç»„æˆã€‚</li><li>å­—å…¸ä¸­ä¸å­˜åœ¨é‡å¤çš„å•è¯ã€‚</li><li>ä½ å¯ä»¥å‡è®¾ beginWord å’Œ endWord æ˜¯éç©ºçš„ï¼Œä¸”äºŒè€…ä¸ç›¸åŒã€‚</li></ul><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥:beginWord = &quot;hit&quot;,endWord = &quot;cog&quot;,wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;,&quot;cog&quot;]è¾“å‡º: 5è§£é‡Š: ä¸€ä¸ªæœ€çŸ­è½¬æ¢åºåˆ—æ˜¯ &quot;hit&quot; -&gt; &quot;hot&quot; -&gt; &quot;dot&quot; -&gt; &quot;dog&quot; -&gt; &quot;cog&quot;, è¿”å›å®ƒçš„é•¿åº¦ 5ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥:beginWord = &quot;hit&quot;endWord = &quot;cog&quot;wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;]è¾“å‡º: 0è§£é‡Š: endWord &quot;cog&quot; ä¸åœ¨å­—å…¸ä¸­ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œè½¬æ¢ã€‚</code></pre><h1 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h1><p>æ‹¥æœ‰ä¸€ä¸ª <code>beginWord</code> å’Œä¸€ä¸ª <code>endWord</code>ï¼Œåˆ†åˆ«è¡¨ç¤ºå›¾ä¸Šçš„ <code>start node</code> å’Œ  <code>end node</code>ã€‚æˆ‘ä»¬å¸Œæœ›åˆ©ç”¨ä¸€äº›ä¸­é—´èŠ‚ç‚¹ï¼ˆå•è¯ï¼‰ä»  <code>start node</code> åˆ°  <code>end node</code>ï¼Œä¸­é—´èŠ‚ç‚¹æ˜¯ <code>wordList</code> ç»™å®šçš„å•è¯ã€‚æˆ‘ä»¬å¯¹è¿™ä¸ªå•è¯æ¥é¾™æ¯ä¸ªæ­¥éª¤çš„å”¯ä¸€æ¡ä»¶æ˜¯ç›¸é‚»å•è¯åªå¯ä»¥æ”¹å˜<code>ä¸€ä¸ªå­—æ¯</code>ã€‚</p><p><a href="https://pic.leetcode-cn.com/fc3a60e60cb7a80723feea0689c25a6f1637df8c64cfec0d70a264eee7e88254-Word_Ladder_1.png" target="_blank" rel="noopener">Word_Ladder_1.png</a></p><p>æˆ‘ä»¬å°†é—®é¢˜æŠ½è±¡åœ¨ä¸€ä¸ªæ— å‘æ— æƒå›¾ä¸­ï¼Œæ¯ä¸ªå•è¯ä½œä¸ºèŠ‚ç‚¹ï¼Œå·®è·åªæœ‰ä¸€ä¸ªå­—æ¯çš„ä¸¤ä¸ªå•è¯ä¹‹é—´è¿ä¸€æ¡è¾¹ã€‚é—®é¢˜å˜æˆæ‰¾åˆ°ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œå¦‚æœå­˜åœ¨çš„è¯ã€‚å› æ­¤å¯ä»¥ä½¿ç”¨<code>å¹¿åº¦ä¼˜å…ˆæœç´¢</code>æ–¹æ³•ã€‚</p><p>ç®—æ³•ä¸­æœ€é‡è¦çš„æ­¥éª¤æ˜¯æ‰¾å‡ºç›¸é‚»çš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯åªå·®ä¸€ä¸ªå­—æ¯çš„ä¸¤ä¸ªå•è¯ã€‚ä¸ºäº†å¿«é€Ÿçš„æ‰¾åˆ°è¿™äº›ç›¸é‚»èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯¹ç»™å®šçš„ <code>wordList</code> åšä¸€ä¸ªé¢„å¤„ç†ï¼Œå°†å•è¯ä¸­çš„æŸä¸ªå­—æ¯ç”¨ <code>*</code> ä»£æ›¿ã€‚</p><p><a href="https://pic.leetcode-cn.com/7212249f3e224d9d5ccbc292e902e48b572f965236378e034d8e03924404cba2-Word_Ladder_2.png" target="_blank" rel="noopener">Word_Ladder_2.png</a></p><p>è¿™ä¸ªé¢„å¤„ç†å¸®æˆ‘ä»¬æ„é€ äº†ä¸€ä¸ªå•è¯å˜æ¢çš„é€šç”¨çŠ¶æ€ã€‚ä¾‹å¦‚ï¼š<code>Dog ----&gt; D*g &lt;---- Dig</code>ï¼Œ<code>Dog</code> å’Œ <code>Dig</code> éƒ½æŒ‡å‘äº†ä¸€ä¸ªé€šç”¨çŠ¶æ€ <code>D*g</code>ã€‚</p><p>è¿™æ­¥é¢„å¤„ç†æ‰¾å‡ºäº†å•è¯è¡¨ä¸­æ‰€æœ‰å•è¯æ”¹å˜æŸä¸ªå­—æ¯åçš„é€šç”¨çŠ¶æ€ï¼Œå¹¶å¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿ä¹Ÿæ›´å¿«çš„æ‰¾åˆ°ç›¸é‚»èŠ‚ç‚¹ã€‚å¦åˆ™ï¼Œå¯¹äºæ¯ä¸ªå•è¯æˆ‘ä»¬éœ€è¦éå†æ•´ä¸ªå­—æ¯è¡¨æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå•è¯ä¸å®ƒç›¸å·®ä¸€ä¸ªå­—æ¯ï¼Œè¿™å°†èŠ±è´¹å¾ˆå¤šæ—¶é—´ã€‚é¢„å¤„ç†æ“ä½œåœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢ä¹‹å‰é«˜æ•ˆçš„å»ºç«‹äº†é‚»æ¥è¡¨ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨å¹¿æœæ—¶æˆ‘ä»¬éœ€è¦è®¿é—® <code>Dug</code> çš„æ‰€æœ‰é‚»æ¥ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆç”Ÿæˆ <code>Dug</code> çš„æ‰€æœ‰é€šç”¨çŠ¶æ€ï¼š</p><ol><li><code>Dug =&gt; *ug</code></li><li><code>Dug =&gt; D*g</code></li><li><code>Dug =&gt; Du*</code></li></ol><p>ç¬¬äºŒä¸ªå˜æ¢ <code>D*g</code> å¯ä»¥åŒæ—¶æ˜ å°„åˆ° <code>Dog</code> æˆ–è€… <code>Dig</code>ï¼Œå› ä¸ºä»–ä»¬éƒ½æœ‰ç›¸åŒçš„é€šç”¨çŠ¶æ€ã€‚æ‹¥æœ‰ç›¸åŒçš„é€šç”¨çŠ¶æ€æ„å‘³ç€ä¸¤ä¸ªå•è¯åªç›¸å·®ä¸€ä¸ªå­—æ¯ï¼Œä»–ä»¬çš„èŠ‚ç‚¹æ˜¯ç›¸è¿çš„ã€‚</p><h1 id="æ–¹æ³•-1ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•-1ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³• 1ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³• 1ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢</h1><p><strong>æƒ³æ³•</strong></p><p>åˆ©ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢æœç´¢ä» <code>beginWord</code> åˆ° <code>endWord</code> çš„è·¯å¾„ã€‚</p><p><strong>ç®—æ³•</strong></p><ol><li><p>å¯¹ç»™å®šçš„ <code>wordList</code> åšé¢„å¤„ç†ï¼Œæ‰¾å‡ºæ‰€æœ‰çš„é€šç”¨çŠ¶æ€ã€‚å°†é€šç”¨çŠ¶æ€è®°å½•åœ¨å­—å…¸ä¸­ï¼Œé”®æ˜¯é€šç”¨çŠ¶æ€ï¼Œå€¼æ˜¯æ‰€æœ‰å…·æœ‰é€šç”¨çŠ¶æ€çš„å•è¯ã€‚</p></li><li><p>å°†åŒ…å« <code>beginWord</code> å’Œ <code>1</code> çš„å…ƒç»„æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œ<code>1</code> ä»£è¡¨èŠ‚ç‚¹çš„å±‚æ¬¡ã€‚æˆ‘ä»¬éœ€è¦è¿”å› <code>endWord</code> çš„å±‚æ¬¡ä¹Ÿå°±æ˜¯ä» <code>beginWord</code> å‡ºå‘çš„æœ€çŸ­è·ç¦»ã€‚</p></li><li><p>ä¸ºäº†é˜²æ­¢å‡ºç°ç¯ï¼Œä½¿ç”¨è®¿é—®æ•°ç»„è®°å½•ã€‚</p></li><li><p>å½“é˜Ÿåˆ—ä¸­æœ‰å…ƒç´ çš„æ—¶å€™ï¼Œå–å‡ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè®°ä¸º <code>current_word</code>ã€‚</p></li><li><p>æ‰¾åˆ° <code>current_word</code> çš„æ‰€æœ‰é€šç”¨çŠ¶æ€ï¼Œå¹¶æ£€æŸ¥è¿™äº›é€šç”¨çŠ¶æ€æ˜¯å¦å­˜åœ¨å…¶å®ƒå•è¯çš„æ˜ å°„ï¼Œè¿™ä¸€æ­¥é€šè¿‡æ£€æŸ¥ <code>all_combo_dict</code> æ¥å®ç°ã€‚</p></li><li><p>ä» <code>all_combo_dict</code> è·å¾—çš„æ‰€æœ‰å•è¯ï¼Œéƒ½å’Œ <code>current_word</code> å…±æœ‰ä¸€ä¸ªé€šç”¨çŠ¶æ€ï¼Œæ‰€ä»¥éƒ½å’Œ <code>current_word</code> ç›¸è¿ï¼Œå› æ­¤å°†ä»–ä»¬åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ã€‚</p></li><li><p>å¯¹äºæ–°è·å¾—çš„æ‰€æœ‰å•è¯ï¼Œå‘é˜Ÿåˆ—ä¸­åŠ å…¥å…ƒç´  <code>(word, level + 1)</code> å…¶ä¸­ <code>level</code> æ˜¯ <code>current_word</code> çš„å±‚æ¬¡ã€‚</p></li><li><p>æœ€ç»ˆå½“ä½ åˆ°è¾¾æœŸæœ›çš„å•è¯ï¼Œå¯¹åº”çš„å±‚æ¬¡å°±æ˜¯æœ€çŸ­å˜æ¢åºåˆ—çš„é•¿åº¦ã€‚</p><blockquote><p>æ ‡å‡†å¹¿åº¦ä¼˜å…ˆæœç´¢çš„ç»ˆæ­¢æ¡ä»¶å°±æ˜¯æ‰¾åˆ°ç»“æŸå•è¯ã€‚</p></blockquote></li></ol><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Java</summary><figure class="highlight java"><figcaption><span>[solution1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Since all words are of same length.</span></span><br><span class="line">    <span class="keyword">int</span> L = beginWord.length();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Dictionary to hold combination of words that can be formed,</span></span><br><span class="line">    <span class="comment">// from any given word. By changing one letter at a time.</span></span><br><span class="line">    Map&lt;String, List&lt;String&gt;&gt; allComboDict = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    wordList.forEach(</span><br><span class="line">        word -&gt; &#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L; i++) &#123;</span><br><span class="line">            <span class="comment">// Key is the generic word</span></span><br><span class="line">            <span class="comment">// Value is a list of words which have the same intermediate generic word.</span></span><br><span class="line">            String newWord = word.substring(<span class="number">0</span>, i) + <span class="string">'*'</span> + word.substring(i + <span class="number">1</span>, L);</span><br><span class="line">            List&lt;String&gt; transformations = allComboDict.getOrDefault(newWord, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">            transformations.add(word);</span><br><span class="line">            allComboDict.put(newWord, transformations);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Queue for BFS</span></span><br><span class="line">    Queue&lt;Pair&lt;String, Integer&gt;&gt; Q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Q.add(<span class="keyword">new</span> Pair(beginWord, <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Visited to make sure we don't repeat processing same word.</span></span><br><span class="line">    Map&lt;String, Boolean&gt; visited = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    visited.put(beginWord, <span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!Q.isEmpty()) &#123;</span><br><span class="line">      Pair&lt;String, Integer&gt; node = Q.remove();</span><br><span class="line">      String word = node.getKey();</span><br><span class="line">      <span class="keyword">int</span> level = node.getValue();</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L; i++) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Intermediate words for current word</span></span><br><span class="line">        String newWord = word.substring(<span class="number">0</span>, i) + <span class="string">'*'</span> + word.substring(i + <span class="number">1</span>, L);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Next states are all the words which share the same intermediate state.</span></span><br><span class="line">        <span class="keyword">for</span> (String adjacentWord : allComboDict.getOrDefault(newWord, <span class="keyword">new</span> ArrayList&lt;&gt;())) &#123;</span><br><span class="line">          <span class="comment">// If at any point if we find what we are looking for</span></span><br><span class="line">          <span class="comment">// i.e. the end word - we can return with the answer.</span></span><br><span class="line">          <span class="keyword">if</span> (adjacentWord.equals(endWord)) &#123;</span><br><span class="line">            <span class="keyword">return</span> level + <span class="number">1</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// Otherwise, add it to the BFS Queue. Also mark it visited</span></span><br><span class="line">          <span class="keyword">if</span> (!visited.containsKey(adjacentWord)) &#123;</span><br><span class="line">            visited.put(adjacentWord, <span class="keyword">true</span>);</span><br><span class="line">            Q.add(<span class="keyword">new</span> Pair(adjacentWord, level + <span class="number">1</span>));</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Python</summary><figure class="highlight python"><figcaption><span>[solution1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ladderLength</span><span class="params">(self, beginWord, endWord, wordList)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type beginWord: str</span></span><br><span class="line"><span class="string">        :type endWord: str</span></span><br><span class="line"><span class="string">        :type wordList: List[str]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> endWord <span class="keyword">not</span> <span class="keyword">in</span> wordList <span class="keyword">or</span> <span class="keyword">not</span> endWord <span class="keyword">or</span> <span class="keyword">not</span> beginWord <span class="keyword">or</span> <span class="keyword">not</span> wordList:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Since all words are of same length.</span></span><br><span class="line">        L = len(beginWord)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Dictionary to hold combination of words that can be formed,</span></span><br><span class="line">        <span class="comment"># from any given word. By changing one letter at a time.</span></span><br><span class="line">        all_combo_dict = defaultdict(list)</span><br><span class="line">        <span class="keyword">for</span> word <span class="keyword">in</span> wordList:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(L):</span><br><span class="line">                <span class="comment"># Key is the generic word</span></span><br><span class="line">                <span class="comment"># Value is a list of words which have the same intermediate generic word.</span></span><br><span class="line">                all_combo_dict[word[:i] + <span class="string">"*"</span> + word[i+<span class="number">1</span>:]].append(word)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Queue for BFS</span></span><br><span class="line">        queue = [(beginWord, <span class="number">1</span>)]</span><br><span class="line">        <span class="comment"># Visited to make sure we don't repeat processing same word.</span></span><br><span class="line">        visited = &#123;beginWord: <span class="keyword">True</span>&#125;</span><br><span class="line">        <span class="keyword">while</span> queue:</span><br><span class="line">            current_word, level = queue.pop(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(L):</span><br><span class="line">                <span class="comment"># Intermediate words for current word</span></span><br><span class="line">                intermediate_word = current_word[:i] + <span class="string">"*"</span> + current_word[i+<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line">                <span class="comment"># Next states are all the words which share the same intermediate state.</span></span><br><span class="line">                <span class="keyword">for</span> word <span class="keyword">in</span> all_combo_dict[intermediate_word]:</span><br><span class="line">                    <span class="comment"># If at any point if we find what we are looking for</span></span><br><span class="line">                    <span class="comment"># i.e. the end word - we can return with the answer.</span></span><br><span class="line">                    <span class="keyword">if</span> word == endWord:</span><br><span class="line">                        <span class="keyword">return</span> level + <span class="number">1</span></span><br><span class="line">                    <span class="comment"># Otherwise, add it to the BFS Queue. Also mark it visited</span></span><br><span class="line">                    <span class="keyword">if</span> word <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                        visited[word] = <span class="keyword">True</span></span><br><span class="line">                        queue.append((word, level + <span class="number">1</span>))</span><br><span class="line">                all_combo_dict[intermediate_word] = []</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(M\times N)</span><br></pre></td></tr></table></figure></li></ul><p>ï¼Œå…¶ä¸­ <em>M</em> æ˜¯å•è¯çš„é•¿åº¦ <em>N</em> æ˜¯å•è¯è¡¨ä¸­å•è¯çš„æ€»æ•°ã€‚æ‰¾åˆ°æ‰€æœ‰çš„å˜æ¢éœ€è¦å¯¹æ¯ä¸ªå•è¯åš <em>M</em> æ¬¡æ“ä½œã€‚åŒæ—¶ï¼Œæœ€åæƒ…å†µä¸‹å¹¿åº¦ä¼˜å…ˆæœç´¢ä¹Ÿè¦è®¿é—®æ‰€æœ‰çš„ <em>N</em> ä¸ªå•è¯ã€‚</p><ul><li>ç©ºé—´å¤æ‚åº¦ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(M\times N)</span><br></pre></td></tr></table></figure></li></ul><p>ï¼Œè¦åœ¨ <code>all_combo_dict</code> å­—å…¸ä¸­è®°å½•æ¯ä¸ªå•è¯çš„ <em>M</em> ä¸ªé€šç”¨çŠ¶æ€ã€‚è®¿é—®æ•°ç»„çš„å¤§å°æ˜¯ <em>N</em>ã€‚å¹¿æœé˜Ÿåˆ—æœ€åæƒ…å†µä¸‹éœ€è¦å­˜å‚¨ <em>N</em> ä¸ªå•è¯ã€‚</p><h1 id="æ–¹æ³•-2ï¼šåŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•-2ï¼šåŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³• 2ï¼šåŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³• 2ï¼šåŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢</h1><p><strong>æƒ³æ³•</strong></p><p>æ ¹æ®ç»™å®šå­—å…¸æ„é€ çš„å›¾å¯èƒ½ä¼šå¾ˆå¤§ï¼Œè€Œå¹¿åº¦ä¼˜å…ˆæœç´¢çš„æœç´¢ç©ºé—´å¤§å°ä¾èµ–äºæ¯å±‚èŠ‚ç‚¹çš„åˆ†æ”¯æ•°é‡ã€‚å‡å¦‚æ¯ä¸ªèŠ‚ç‚¹çš„åˆ†æ”¯æ•°é‡ç›¸åŒï¼Œæœç´¢ç©ºé—´ä¼šéšç€å±‚æ•°çš„å¢é•¿æŒ‡æ•°çº§çš„å¢åŠ ã€‚è€ƒè™‘ä¸€ä¸ªç®€å•çš„äºŒå‰æ ‘ï¼Œæ¯ä¸€å±‚éƒ½æ˜¯æ»¡äºŒå‰æ ‘çš„æ‰©å±•ï¼ŒèŠ‚ç‚¹çš„æ•°é‡ä¼šä»¥ <code>2</code> ä¸ºåº•æ•°å‘ˆæŒ‡æ•°å¢é•¿ã€‚</p><p>å¦‚æœä½¿ç”¨ä¸¤ä¸ªåŒæ—¶è¿›è¡Œçš„å¹¿æœå¯ä»¥æœ‰æ•ˆåœ°å‡å°‘æœç´¢ç©ºé—´ã€‚ä¸€è¾¹ä» <code>beginWord</code> å¼€å§‹ï¼Œå¦ä¸€è¾¹ä» <code>endWord</code> å¼€å§‹ã€‚æˆ‘ä»¬æ¯æ¬¡ä»ä¸¤è¾¹å„æ‰©å±•ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½“å‘ç°æŸä¸€æ—¶åˆ»ä¸¤è¾¹éƒ½è®¿é—®äº†æŸä¸€é¡¶ç‚¹æ—¶å°±åœæ­¢æœç´¢ã€‚è¿™å°±æ˜¯<code>åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢</code>ï¼Œå®ƒå¯ä»¥å¯è§‚åœ°å‡å°‘æœç´¢ç©ºé—´å¤§å°ï¼Œä»è€Œé™ä½æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ã€‚</p><p><a href="https://pic.leetcode-cn.com/be92086801e264f49bb1c01593dbfee5b08e52c600b62576c5fa0c1ef2d54eb8-Word_Ladder_3.png" target="_blank" rel="noopener">Word_Ladder_3.png</a></p><p><strong>ç®—æ³•</strong></p><ol><li><p>ç®—æ³•ä¸ä¹‹å‰æè¿°çš„æ ‡å‡†å¹¿æœæ–¹æ³•ç›¸ç±»ä¼¼ã€‚</p></li><li><p>å”¯ä¸€çš„ä¸åŒæ˜¯æˆ‘ä»¬ä»ä¸¤ä¸ªèŠ‚ç‚¹åŒæ—¶å¼€å§‹æœç´¢ï¼ŒåŒæ—¶æœç´¢çš„ç»“æŸæ¡ä»¶ä¹Ÿæœ‰æ‰€å˜åŒ–ã€‚</p></li><li><p>æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ªè®¿é—®æ•°ç»„ï¼Œåˆ†åˆ«è®°å½•ä»å¯¹åº”çš„èµ·ç‚¹æ˜¯å¦å·²ç»è®¿é—®äº†è¯¥èŠ‚ç‚¹ã€‚</p></li><li><p>å¦‚æœæˆ‘ä»¬å‘ç°ä¸€ä¸ªèŠ‚ç‚¹è¢«ä¸¤ä¸ªæœç´¢åŒæ—¶è®¿é—®ï¼Œå°±ç»“æŸæœç´¢è¿‡ç¨‹ã€‚å› ä¸ºæˆ‘ä»¬æ‰¾åˆ°äº†åŒå‘æœç´¢çš„äº¤ç‚¹ã€‚è¿‡ç¨‹å¦‚åŒä»ä¸­é—´ç›¸é‡è€Œä¸æ˜¯æ²¿ç€æœç´¢è·¯å¾„ä¸€ç›´èµ°ã€‚</p><blockquote><p>åŒå‘æœç´¢çš„ç»“æŸæ¡ä»¶æ˜¯æ‰¾åˆ°ä¸€ä¸ªå•è¯è¢«ä¸¤è¾¹æœç´¢éƒ½è®¿é—®è¿‡äº†ã€‚</p></blockquote></li><li><p>æœ€çŸ­å˜æ¢åºåˆ—çš„é•¿åº¦å°±æ˜¯ä¸­é—´èŠ‚ç‚¹åœ¨ä¸¤è¾¹çš„å±‚æ¬¡ä¹‹å’Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è®¿é—®æ•°ç»„ä¸­è®°å½•èŠ‚ç‚¹çš„å±‚æ¬¡ã€‚</p></li></ol><p><a href="https://pic.leetcode-cn.com/77ff942730428bad804a3f3e8bcddb618ce7b26a2df85cae104c5c2563803dde-Word_Ladder_4.png" target="_blank" rel="noopener">Word_Ladder_4.png</a></p><details>    <summary>åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢Java</summary><figure class="highlight java"><figcaption><span>[solution2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> L;</span><br><span class="line">  <span class="keyword">private</span> Map&lt;String, List&lt;String&gt;&gt; allComboDict;</span><br><span class="line"></span><br><span class="line">  Solution() &#123;</span><br><span class="line">    <span class="keyword">this</span>.L = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Dictionary to hold combination of words that can be formed,</span></span><br><span class="line">    <span class="comment">// from any given word. By changing one letter at a time.</span></span><br><span class="line">    <span class="keyword">this</span>.allComboDict = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">visitWordNode</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">      Queue&lt;Pair&lt;String, Integer&gt;&gt; Q,</span></span></span><br><span class="line"><span class="function"><span class="params">      Map&lt;String, Integer&gt; visited,</span></span></span><br><span class="line"><span class="function"><span class="params">      Map&lt;String, Integer&gt; othersVisited)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    Pair&lt;String, Integer&gt; node = Q.remove();</span><br><span class="line">    String word = node.getKey();</span><br><span class="line">    <span class="keyword">int</span> level = node.getValue();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.L; i++) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Intermediate words for current word</span></span><br><span class="line">      String newWord = word.substring(<span class="number">0</span>, i) + <span class="string">'*'</span> + word.substring(i + <span class="number">1</span>, L);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Next states are all the words which share the same intermediate state.</span></span><br><span class="line">      <span class="keyword">for</span> (String adjacentWord : <span class="keyword">this</span>.allComboDict.getOrDefault(newWord, <span class="keyword">new</span> ArrayList&lt;&gt;())) &#123;</span><br><span class="line">        <span class="comment">// If at any point if we find what we are looking for</span></span><br><span class="line">        <span class="comment">// i.e. the end word - we can return with the answer.</span></span><br><span class="line">        <span class="keyword">if</span> (othersVisited.containsKey(adjacentWord)) &#123;</span><br><span class="line">          <span class="keyword">return</span> level + othersVisited.get(adjacentWord);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!visited.containsKey(adjacentWord)) &#123;</span><br><span class="line"></span><br><span class="line">          <span class="comment">// Save the level as the value of the dictionary, to save number of hops.</span></span><br><span class="line">          visited.put(adjacentWord, level + <span class="number">1</span>);</span><br><span class="line">          Q.add(<span class="keyword">new</span> Pair(adjacentWord, level + <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!wordList.contains(endWord)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Since all words are of same length.</span></span><br><span class="line">    <span class="keyword">this</span>.L = beginWord.length();</span><br><span class="line"></span><br><span class="line">    wordList.forEach(</span><br><span class="line">        word -&gt; &#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L; i++) &#123;</span><br><span class="line">            <span class="comment">// Key is the generic word</span></span><br><span class="line">            <span class="comment">// Value is a list of words which have the same intermediate generic word.</span></span><br><span class="line">            String newWord = word.substring(<span class="number">0</span>, i) + <span class="string">'*'</span> + word.substring(i + <span class="number">1</span>, L);</span><br><span class="line">            List&lt;String&gt; transformations =</span><br><span class="line">                <span class="keyword">this</span>.allComboDict.getOrDefault(newWord, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">            transformations.add(word);</span><br><span class="line">            <span class="keyword">this</span>.allComboDict.put(newWord, transformations);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Queues for birdirectional BFS</span></span><br><span class="line">    <span class="comment">// BFS starting from beginWord</span></span><br><span class="line">    Queue&lt;Pair&lt;String, Integer&gt;&gt; Q_begin = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">// BFS starting from endWord</span></span><br><span class="line">    Queue&lt;Pair&lt;String, Integer&gt;&gt; Q_end = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Q_begin.add(<span class="keyword">new</span> Pair(beginWord, <span class="number">1</span>));</span><br><span class="line">    Q_end.add(<span class="keyword">new</span> Pair(endWord, <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Visited to make sure we don't repeat processing same word.</span></span><br><span class="line">    Map&lt;String, Integer&gt; visitedBegin = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    Map&lt;String, Integer&gt; visitedEnd = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    visitedBegin.put(beginWord, <span class="number">1</span>);</span><br><span class="line">    visitedEnd.put(endWord, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!Q_begin.isEmpty() &amp;&amp; !Q_end.isEmpty()) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// One hop from begin word</span></span><br><span class="line">      <span class="keyword">int</span> ans = visitWordNode(Q_begin, visitedBegin, visitedEnd);</span><br><span class="line">      <span class="keyword">if</span> (ans &gt; -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// One hop from end word</span></span><br><span class="line">      ans = visitWordNode(Q_end, visitedEnd, visitedBegin);</span><br><span class="line">      <span class="keyword">if</span> (ans &gt; -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢Python</summary><figure class="highlight python"><figcaption><span>[solution2-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.length = <span class="number">0</span></span><br><span class="line">        <span class="comment"># Dictionary to hold combination of words that can be formed,</span></span><br><span class="line">        <span class="comment"># from any given word. By changing one letter at a time.</span></span><br><span class="line">        self.all_combo_dict = defaultdict(list)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">visitWordNode</span><span class="params">(self, queue, visited, others_visited)</span>:</span></span><br><span class="line">        current_word, level = queue.pop(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(self.length):</span><br><span class="line">            <span class="comment"># Intermediate words for current word</span></span><br><span class="line">            intermediate_word = current_word[:i] + <span class="string">"*"</span> + current_word[i+<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Next states are all the words which share the same intermediate state.</span></span><br><span class="line">            <span class="keyword">for</span> word <span class="keyword">in</span> self.all_combo_dict[intermediate_word]:</span><br><span class="line">                <span class="comment"># If the intermediate state/word has already been visited from the</span></span><br><span class="line">                <span class="comment"># other parallel traversal this means we have found the answer.</span></span><br><span class="line">                <span class="keyword">if</span> word <span class="keyword">in</span> others_visited:</span><br><span class="line">                    <span class="keyword">return</span> level + others_visited[word]</span><br><span class="line">                <span class="keyword">if</span> word <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                    <span class="comment"># Save the level as the value of the dictionary, to save number of hops.</span></span><br><span class="line">                    visited[word] = level + <span class="number">1</span></span><br><span class="line">                    queue.append((word, level + <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ladderLength</span><span class="params">(self, beginWord, endWord, wordList)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type beginWord: str</span></span><br><span class="line"><span class="string">        :type endWord: str</span></span><br><span class="line"><span class="string">        :type wordList: List[str]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> endWord <span class="keyword">not</span> <span class="keyword">in</span> wordList <span class="keyword">or</span> <span class="keyword">not</span> endWord <span class="keyword">or</span> <span class="keyword">not</span> beginWord <span class="keyword">or</span> <span class="keyword">not</span> wordList:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Since all words are of same length.</span></span><br><span class="line">        self.length = len(beginWord)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> word <span class="keyword">in</span> wordList:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(self.length):</span><br><span class="line">                <span class="comment"># Key is the generic word</span></span><br><span class="line">                <span class="comment"># Value is a list of words which have the same intermediate generic word.</span></span><br><span class="line">                self.all_combo_dict[word[:i] + <span class="string">"*"</span> + word[i+<span class="number">1</span>:]].append(word)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Queues for birdirectional BFS</span></span><br><span class="line">        queue_begin = [(beginWord, <span class="number">1</span>)] <span class="comment"># BFS starting from beginWord</span></span><br><span class="line">        queue_end = [(endWord, <span class="number">1</span>)] <span class="comment"># BFS starting from endWord</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Visited to make sure we don't repeat processing same word</span></span><br><span class="line">        visited_begin = &#123;beginWord: <span class="number">1</span>&#125;</span><br><span class="line">        visited_end = &#123;endWord: <span class="number">1</span>&#125;</span><br><span class="line">        ans = <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># We do a birdirectional search starting one pointer from begin</span></span><br><span class="line">        <span class="comment"># word and one pointer from end word. Hopping one by one.</span></span><br><span class="line">        <span class="keyword">while</span> queue_begin <span class="keyword">and</span> queue_end:</span><br><span class="line"></span><br><span class="line">            <span class="comment"># One hop from begin word</span></span><br><span class="line">            ans = self.visitWordNode(queue_begin, visited_begin, visited_end)</span><br><span class="line">            <span class="keyword">if</span> ans:</span><br><span class="line">                <span class="keyword">return</span> ans</span><br><span class="line">            <span class="comment"># One hop from end word</span></span><br><span class="line">            ans = self.visitWordNode(queue_end, visited_end, visited_begin)</span><br><span class="line">            <span class="keyword">if</span> ans:</span><br><span class="line">                <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(M\times N)</span><br></pre></td></tr></table></figure></li></ul><p>ï¼Œå…¶ä¸­ <em>M</em> æ˜¯å•è¯çš„é•¿åº¦ <em>N</em> æ˜¯å•è¯è¡¨ä¸­å•è¯çš„æ€»æ•°ã€‚ä¸å•å‘æœç´¢ç›¸åŒçš„æ˜¯ï¼Œæ‰¾åˆ°æ‰€æœ‰çš„å˜æ¢éœ€è¦ <em>M * N</em> æ¬¡æ“ä½œã€‚ä½†æ˜¯æœç´¢æ—¶é—´ä¼šè¢«ç¼©å°ä¸€åŠï¼Œå› ä¸ºä¸¤ä¸ªæœç´¢ä¼šåœ¨ä¸­é—´æŸå¤„ç›¸é‡ã€‚</p><ul><li>ç©ºé—´å¤æ‚åº¦ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(M\times N)</span><br></pre></td></tr></table></figure><p>ï¼Œè¦åœ¨ <code>all_combo_dict</code> å­—å…¸ä¸­è®°å½•æ¯ä¸ªå•è¯çš„ <em>M</em> ä¸ªé€šç”¨çŠ¶æ€ï¼Œè¿™ä¸å•å‘æœç´¢ç›¸åŒã€‚ä½†æ˜¯å› ä¸ºä¼šåœ¨ä¸­é—´ç›¸é‡ï¼Œæ‰€ä»¥åŒå‘æœç´¢çš„æœç´¢ç©ºé—´å˜å°ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸¤ä¸ªå•è¯ï¼ˆbeginWord å’Œ endWordï¼‰å’Œä¸€ä¸ªå­—å…¸ï¼Œæ‰¾åˆ°ä» beginWord åˆ° endWord çš„æœ€çŸ­è½¬æ¢åºåˆ—çš„é•¿åº¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Breadth-first Search" scheme="http://yoursite.com/tags/Breadth-first-Search/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
  </entry>
  
  <entry>
    <title>322. é›¶é’±å…‘æ¢</title>
    <link href="http://yoursite.com/2020/09/08/322.%20%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2/"/>
    <id>http://yoursite.com/2020/09/08/322. é›¶é’±å…‘æ¢/</id>
    <published>2020-09-08T11:51:12.000Z</published>
    <updated>2020-09-09T07:34:37.632Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸ coins å’Œä¸€ä¸ªæ€»é‡‘é¢ amountã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› -1ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: coins = [1, 2, 5], amount = 11è¾“å‡º: 3 è§£é‡Š: 11 = 5 + 5 + 1</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: coins = [2], amount = 3è¾“å‡º: -1</code></pre><p>è¯´æ˜:<br>    ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„ã€‚</p><h1 id="é¢„å¤‡çŸ¥è¯†ï¼š"><a href="#é¢„å¤‡çŸ¥è¯†ï¼š" class="headerlink" title="é¢„å¤‡çŸ¥è¯†ï¼š"></a>é¢„å¤‡çŸ¥è¯†ï¼š</h1><ul><li>æœç´¢å›æº¯</li><li>åŠ¨æ€è§„åˆ’</li></ul><h1 id="æ–¹æ³•ä¸€ã€æœç´¢å›æº¯-è¶…å‡ºæ—¶é—´é™åˆ¶"><a href="#æ–¹æ³•ä¸€ã€æœç´¢å›æº¯-è¶…å‡ºæ—¶é—´é™åˆ¶" class="headerlink" title="æ–¹æ³•ä¸€ã€æœç´¢å›æº¯ [è¶…å‡ºæ—¶é—´é™åˆ¶]"></a>æ–¹æ³•ä¸€ã€æœç´¢å›æº¯ [è¶…å‡ºæ—¶é—´é™åˆ¶]</h1><p>å‚è€ƒ<a href="https://leetcode-cn.com/problems/coin-change/solution/322-ling-qian-dui-huan-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></p><details>    <summary>æœç´¢å›æº¯Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="keyword">int</span>[] coins, <span class="keyword">int</span> amount)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> coinChange(<span class="number">0</span>, coins, amount);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="keyword">int</span> idxCoin, <span class="keyword">int</span>[] coins, <span class="keyword">int</span> amount)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (amount == <span class="number">0</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (idxCoin &lt; coins.length &amp;&amp; amount &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">int</span> maxVal = amount / coins[idxCoin];</span><br><span class="line">      <span class="keyword">int</span> minCost = Integer.MAX_VALUE;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt;= maxVal; x++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (amount &gt;= x * coins[idxCoin]) &#123;</span><br><span class="line">          <span class="keyword">int</span> res = coinChange(idxCoin + <span class="number">1</span>, coins, amount - x * coins[idxCoin]);</span><br><span class="line">          <span class="keyword">if</span> (res != -<span class="number">1</span>)</span><br><span class="line">            minCost = Math.min(minCost, res + x);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> (minCost == Integer.MAX_VALUE)? -<span class="number">1</span>: minCost;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Time Limit Exceeded</span></span><br></pre></td></tr></table></figure></details><details>    <summary>æœç´¢å›æº¯C++</summary><figure class="highlight c++"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="keyword">int</span> idxCoin, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; coins, <span class="keyword">int</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (amount == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (idxCoin &lt; coins.size() &amp;&amp; amount &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> maxVal = amount / coins[idxCoin];</span><br><span class="line">            <span class="keyword">int</span> minCost = INT_MAX;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt;= maxVal; x++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (amount &gt;= x * coins[idxCoin]) &#123;</span><br><span class="line">                    <span class="keyword">int</span> res = coinChange(idxCoin + <span class="number">1</span>, coins, amount - x * coins[idxCoin]);</span><br><span class="line">                    <span class="keyword">if</span> (res != <span class="number">-1</span>) minCost = min(minCost, res + x);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> minCost == INT_MAX ? <span class="number">-1</span>: minCost;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; coins, <span class="keyword">int</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> coinChange(<span class="number">0</span>, coins, amount);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Time Limit Exceeded</span></span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><p>å‚è€ƒ<a href="https://leetcode-cn.com/problems/coin-change/solution/322-ling-qian-dui-huan-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></p><h1 id="æ–¹æ³•äºŒã€åŠ¨æ€è§„åˆ’-è‡ªä¸Šè€Œä¸‹-é€šè¿‡"><a href="#æ–¹æ³•äºŒã€åŠ¨æ€è§„åˆ’-è‡ªä¸Šè€Œä¸‹-é€šè¿‡" class="headerlink" title="æ–¹æ³•äºŒã€åŠ¨æ€è§„åˆ’-è‡ªä¸Šè€Œä¸‹ [é€šè¿‡]"></a>æ–¹æ³•äºŒã€åŠ¨æ€è§„åˆ’-è‡ªä¸Šè€Œä¸‹ [é€šè¿‡]</h1><p>æˆ‘ä»¬èƒ½æ”¹è¿›ä¸Šé¢çš„æŒ‡æ•°æ—¶é—´å¤æ‚åº¦çš„è§£å—ï¼Ÿå½“ç„¶å¯ä»¥ï¼Œåˆ©ç”¨åŠ¨æ€è§„åˆ’ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¤šé¡¹å¼çš„æ—¶é—´èŒƒå›´å†…æ±‚è§£ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ï¼š</p><ul><li><p><em>F(S)*ï¼šç»„æˆé‡‘é¢ *S</em> æ‰€éœ€çš„æœ€å°‘ç¡¬å¸æ•°é‡ </p></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[c_0,...,c_&#123;n-1&#125;]ï¼šå¯é€‰çš„ n æšç¡¬å¸é¢é¢å€¼</span><br></pre></td></tr></table></figure></li></ul><p>æˆ‘ä»¬æ³¨æ„åˆ°è¿™ä¸ªé—®é¢˜æœ‰ä¸€ä¸ªæœ€ä¼˜çš„å­ç»“æ„æ€§è´¨ï¼Œè¿™æ˜¯è§£å†³åŠ¨æ€è§„åˆ’é—®é¢˜çš„å…³é”®ã€‚æœ€ä¼˜è§£å¯ä»¥ä»å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£æ„é€ å‡ºæ¥ã€‚å¦‚ä½•å°†é—®é¢˜åˆ†è§£æˆå­é—®é¢˜ï¼Ÿå‡è®¾æˆ‘ä»¬çŸ¥é“ <em>F(S)</em> ï¼Œå³ç»„æˆé‡‘é¢ <em>S</em> æœ€å°‘çš„ç¡¬å¸æ•°ï¼Œæœ€åä¸€æšç¡¬å¸çš„é¢å€¼æ˜¯ <em>C</em>ã€‚é‚£ä¹ˆç”±äºé—®é¢˜çš„æœ€ä¼˜å­ç»“æ„ï¼Œè½¬ç§»æ–¹ç¨‹åº”ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">F(S) = F(S - C) + 1</span><br></pre></td></tr></table></figure><p>ä½†æˆ‘ä»¬ä¸çŸ¥é“æœ€åä¸€æšç¡¬å¸çš„é¢å€¼æ˜¯å¤šå°‘ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æšä¸¾æ¯ä¸ªç¡¬å¸é¢é¢å€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c_0,...,c_&#123;n-1&#125;</span><br></pre></td></tr></table></figure><p>å¹¶é€‰æ‹©å…¶ä¸­çš„æœ€å°å€¼ã€‚ä¸‹åˆ—é€’æ¨å…³ç³»æˆç«‹ï¼š </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">F(S)=\mathop &#123;min&#125;_&#123;i=0...n-1&#125;F(S-c_i)+1 \ subject\ to \ S-c_i \ge 0 </span><br><span class="line"></span><br><span class="line">F(S)=0,when \ S=0</span><br><span class="line"></span><br><span class="line">F(S)=-1,when \  n=0</span><br></pre></td></tr></table></figure><p><a href="https://pic.leetcode-cn.com/e0fd2252775b89649ceb6e867ff0e546ec77621edb566693482c8588a98066b8-file_1583404923188" target="_blank" rel="noopener">é€’å½’æ ‘</a></p><p>åœ¨ä¸Šé¢çš„é€’å½’æ ‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è®¸å¤šå­é—®é¢˜è¢«å¤šæ¬¡è®¡ç®—ã€‚ä¾‹å¦‚ï¼Œ <em>F(1)</em> è¢«è®¡ç®—äº† <em>13</em> æ¬¡ã€‚ä¸ºäº†é¿å…é‡å¤çš„è®¡ç®—ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªå­é—®é¢˜çš„ç­”æ¡ˆå­˜åœ¨ä¸€ä¸ªæ•°ç»„ä¸­è¿›è¡Œè®°å¿†åŒ–ï¼Œå¦‚æœä¸‹æ¬¡è¿˜è¦è®¡ç®—è¿™ä¸ªé—®é¢˜çš„å€¼ç›´æ¥ä»æ•°ç»„ä¸­å–å‡ºè¿”å›å³å¯ï¼Œè¿™æ ·èƒ½ä¿è¯æ¯ä¸ªå­é—®é¢˜æœ€å¤šåªè¢«è®¡ç®—ä¸€æ¬¡ã€‚ </p><details>    <summary>åŠ¨æ€è§„åˆ’-è‡ªä¸Šè€Œä¸‹Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="keyword">int</span>[] coins, <span class="keyword">int</span> amount)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (amount &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> coinChange(coins, amount, <span class="keyword">new</span> <span class="keyword">int</span>[amount]);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="keyword">int</span>[] coins, <span class="keyword">int</span> rem, <span class="keyword">int</span>[] count)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (rem &lt; <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (rem == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (count[rem - <span class="number">1</span>] != <span class="number">0</span>) <span class="keyword">return</span> count[rem - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> min = Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> coin : coins) &#123;</span><br><span class="line">      <span class="keyword">int</span> res = coinChange(coins, rem - coin, count);</span><br><span class="line">      <span class="keyword">if</span> (res &gt;= <span class="number">0</span> &amp;&amp; res &lt; min)</span><br><span class="line">        min = <span class="number">1</span> + res;</span><br><span class="line">    &#125;</span><br><span class="line">    count[rem - <span class="number">1</span>] = (min == Integer.MAX_VALUE) ? -<span class="number">1</span> : min;</span><br><span class="line">    <span class="keyword">return</span> count[rem - <span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’-è‡ªä¸Šè€Œä¸‹C++</summary><figure class="highlight c++"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;count;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">dp</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; coins, <span class="keyword">int</span> rem)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (rem &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">if</span> (rem == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (count[rem - <span class="number">1</span>] != <span class="number">0</span>) <span class="keyword">return</span> count[rem - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> Min = INT_MAX;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> coin:coins) &#123;</span><br><span class="line">            <span class="keyword">int</span> res = dp(coins, rem - coin);</span><br><span class="line">            <span class="keyword">if</span> (res &gt;= <span class="number">0</span> &amp;&amp; res &lt; Min) &#123;</span><br><span class="line">                Min = res + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        count[rem - <span class="number">1</span>] = Min == INT_MAX ? <span class="number">-1</span> : Min;</span><br><span class="line">        <span class="keyword">return</span> count[rem - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; coins, <span class="keyword">int</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (amount &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        count.resize(amount);</span><br><span class="line">        <span class="keyword">return</span> dp(coins, amount);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’-è‡ªä¸Šè€Œä¸‹Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> functools</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">coinChange</span><span class="params">(self, coins: List[int], amount: int)</span> -&gt; int:</span></span><br><span class="line"><span class="meta">        @functools.lru_cache(amount)</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dp</span><span class="params">(rem)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> rem &lt; <span class="number">0</span>: <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">            <span class="keyword">if</span> rem == <span class="number">0</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            mini = int(<span class="number">1e9</span>)</span><br><span class="line">            <span class="keyword">for</span> coin <span class="keyword">in</span> self.coins:</span><br><span class="line">                res = dp(rem - coin)</span><br><span class="line">                <span class="keyword">if</span> res &gt;= <span class="number">0</span> <span class="keyword">and</span> res &lt; mini:</span><br><span class="line">                    mini = res + <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> mini <span class="keyword">if</span> mini &lt; int(<span class="number">1e9</span>) <span class="keyword">else</span> <span class="number">-1</span></span><br><span class="line"></span><br><span class="line">        self.coins = coins</span><br><span class="line">        <span class="keyword">if</span> amount &lt; <span class="number">1</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> dp(amount)</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(Sn)*ï¼Œå…¶ä¸­ *S</em> æ˜¯é‡‘é¢ï¼Œ<em>n</em> æ˜¯é¢é¢æ•°ã€‚æˆ‘ä»¬ä¸€å…±éœ€è¦è®¡ç®— <em>S</em> ä¸ªçŠ¶æ€çš„ç­”æ¡ˆï¼Œä¸”æ¯ä¸ªçŠ¶æ€ <em>F(S)</em> ç”±äºä¸Šé¢çš„è®°å¿†åŒ–çš„æªæ–½åªè®¡ç®—äº†ä¸€æ¬¡ï¼Œè€Œè®¡ç®—ä¸€ä¸ªçŠ¶æ€çš„ç­”æ¡ˆéœ€è¦æšä¸¾ <em>n</em> ä¸ªé¢é¢å€¼ï¼Œæ‰€ä»¥ä¸€å…±éœ€è¦ <em>O(Sn)</em> çš„æ—¶é—´å¤æ‚åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(S)*ï¼Œæˆ‘ä»¬éœ€è¦é¢å¤–å¼€ä¸€ä¸ªé•¿ä¸º *S</em> çš„æ•°ç»„æ¥å­˜å‚¨è®¡ç®—å‡ºæ¥çš„ç­”æ¡ˆ <em>F(S)</em> ã€‚</li></ul><p>è¿™ç§è‡ªä¸Šè€Œä¸‹çš„åŠ¨æ€è§„åˆ’æ²¡æœ‰å¤ªç†è§£ï¼Œæˆ‘æ„Ÿè§‰ä¸‹æ¬¡é‡åˆ°æ—¶ä¹Ÿå¾ˆéš¾æƒ³åˆ°è¿™ç§æ–¹æ³•ï¼Œç›´æ¥è¿˜æ˜¯çœ‹ç¬¬ä¸‰ç§è§£æ³•å§ã€‚</p><h1 id="æ–¹æ³•ä¸‰ã€åŠ¨æ€è§„åˆ’ï¼šè‡ªä¸‹è€Œä¸Š-æ¨è"><a href="#æ–¹æ³•ä¸‰ã€åŠ¨æ€è§„åˆ’ï¼šè‡ªä¸‹è€Œä¸Š-æ¨è" class="headerlink" title="æ–¹æ³•ä¸‰ã€åŠ¨æ€è§„åˆ’ï¼šè‡ªä¸‹è€Œä¸Š [æ¨è]"></a>æ–¹æ³•ä¸‰ã€åŠ¨æ€è§„åˆ’ï¼šè‡ªä¸‹è€Œä¸Š [æ¨è]</h1><p>è¿™ç§æ–¹æ³•æ¯”è¾ƒå®¹æ˜“ç†è§£ã€‚</p><p><strong>ç®—æ³•ï¼š</strong></p><p>æˆ‘ä»¬é‡‡ç”¨è‡ªä¸‹è€Œä¸Šçš„æ–¹å¼è¿›è¡Œæ€è€ƒã€‚ä»å®šä¹‰ <em>F(i)</em> ä¸ºç»„æˆé‡‘é¢ <em>i</em> æ‰€éœ€æœ€å°‘çš„ç¡¬å¸æ•°é‡ï¼Œå‡è®¾åœ¨è®¡ç®— <em>F(i)</em> ä¹‹å‰ï¼Œæˆ‘ä»¬å·²ç»è®¡ç®—å‡º <em>F(0)-F(i-1)</em> çš„ç­”æ¡ˆã€‚ åˆ™ <em>F(i)</em> å¯¹åº”çš„è½¬ç§»æ–¹ç¨‹åº”ä¸º </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">F(i)=\mathop &#123;min&#125;_&#123;j=0...n-1&#125;F(i-c_i)+1</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <em>c_j</em> ä»£è¡¨çš„æ˜¯ç¬¬ <em>j</em> æšç¡¬å¸çš„é¢å€¼ï¼Œå³æˆ‘ä»¬æšä¸¾æœ€åä¸€æšç¡¬å¸é¢é¢æ˜¯ <em>c_j*ï¼Œé‚£ä¹ˆéœ€è¦ä» *i-c_j</em> è¿™ä¸ªé‡‘é¢çš„çŠ¶æ€ <em>F(i-c_j)</em> è½¬ç§»è¿‡æ¥ï¼Œå†ç®—ä¸Šæšä¸¾çš„è¿™æšç¡¬å¸æ•°é‡ <em>1</em> çš„è´¡çŒ®ï¼Œç”±äºè¦ç¡¬å¸æ•°é‡æœ€å°‘ï¼Œæ‰€ä»¥ <em>F(i)</em> ä¸ºå‰é¢èƒ½è½¬ç§»è¿‡æ¥çš„çŠ¶æ€çš„æœ€å°å€¼åŠ ä¸Šæšä¸¾çš„ç¡¬å¸æ•°é‡ <em>1</em> ã€‚</p><p>ä¾‹å­1ï¼šå‡è®¾</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">coins = [1, 2, 5], amount = 11</span><br></pre></td></tr></table></figure><p>åˆ™ï¼Œå½“ <em>i==0</em> æ—¶æ— æ³•ç”¨ç¡¬å¸ç»„æˆï¼Œä¸º 0 ã€‚å½“ <em>i&lt;0</em> æ—¶ï¼Œå¿½ç•¥ <em>F(i)</em><br>| F(i)  | æœ€å°ç¡¬å¸æ•°é‡                                 |<br>| â€”â€“ | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“ |<br>| F(0)  | 0 //é‡‘é¢ä¸º0ä¸èƒ½ç”±ç¡¬å¸ç»„æˆ                    |<br>| F(1)  | 1 //<em>F(1)=min(F(1-1),F(1-2),F(1-5))+1=1</em>     |<br>| F(2)  | 1 //<em>F(2)=min(F(2-1),F(2-2),F(2-5))+1=1</em>     |<br>| F(3)  | 2 //<em>F(3)=min(F(3-1),F(3-2),F(3-5))+1=2</em>     |<br>| F(4)  | 2 //<em>F(4)=min(F(4-1),F(4-2),F(4-5))+1=2</em>     |<br>| â€¦   | â€¦                                          |<br>| F(11) | 3 //<em>F(11)=min(F(11-1),F(11-2),F(11-5))+1=3</em> |<br>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é—®é¢˜çš„ç­”æ¡ˆæ˜¯é€šè¿‡å­é—®é¢˜çš„æœ€ä¼˜è§£å¾—åˆ°çš„ã€‚</p><p>ä¾‹å­2ï¼šå‡è®¾</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">coins = [1, 2, 3], amount = 6</span><br></pre></td></tr></table></figure><p><a href="https://pic.leetcode-cn.com/f4fd96a19871ff55282b0fa90e86ee4768a267ee7e5c446fb6b1837bc215fe2e-file_1583404923197" target="_blank" rel="noopener">ä¾‹å­2</a></p><p>åœ¨ä¸Šå›¾ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ï¼š </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">F(3)=min(F(3âˆ’c_1),F(3âˆ’c_2),F(3âˆ’c_3))+1</span><br><span class="line"></span><br><span class="line">=min(F(3âˆ’1),F(3âˆ’2),F(3âˆ’3))+1</span><br><span class="line"></span><br><span class="line">=min(F(2),F(1),F(0))+1</span><br><span class="line"></span><br><span class="line">=min(1,1,0)+1</span><br><span class="line"></span><br><span class="line">=1</span><br></pre></td></tr></table></figure><details>    <summary>åŠ¨æ€è§„åˆ’ï¼šè‡ªä¸‹è€Œä¸ŠPython</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">coinChange</span><span class="params">(self, coins: List[int], amount: int)</span> -&gt; int:</span></span><br><span class="line">        dp = [float(<span class="string">'inf'</span>)] * (amount + <span class="number">1</span>)</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> coin <span class="keyword">in</span> coins:</span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> range(coin, amount + <span class="number">1</span>):</span><br><span class="line">                dp[x] = min(dp[x], dp[x - coin] + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> dp[amount] <span class="keyword">if</span> dp[amount] != float(<span class="string">'inf'</span>) <span class="keyword">else</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’ï¼šè‡ªä¸‹è€Œä¸ŠJava</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="keyword">int</span>[] coins, <span class="keyword">int</span> amount)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> max = amount + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[amount + <span class="number">1</span>];</span><br><span class="line">    Arrays.fill(dp, max);</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= amount; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; coins.length; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (coins[j] &lt;= i) &#123;</span><br><span class="line">          dp[i] = Math.min(dp[i], dp[i - coins[j]] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[amount] &gt; amount ? -<span class="number">1</span> : dp[amount];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’ï¼šè‡ªä¸‹è€Œä¸ŠC++</summary><figure class="highlight c++"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; coins, <span class="keyword">int</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> Max = amount + <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(amount + <span class="number">1</span>, Max);</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= amount; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; (<span class="keyword">int</span>)coins.size(); ++j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (coins[j] &lt;= i) &#123;</span><br><span class="line">                    dp[i] = min(dp[i], dp[i - coins[j]] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[amount] &gt; amount ? <span class="number">-1</span> : dp[amount];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(Sn)*ï¼Œå…¶ä¸­ *S</em> æ˜¯é‡‘é¢ï¼Œ<em>n</em> æ˜¯é¢é¢æ•°ã€‚æˆ‘ä»¬ä¸€å…±éœ€è¦è®¡ç®— <em>O(S)</em> ä¸ªçŠ¶æ€ï¼Œ<em>S</em> ä¸ºé¢˜ç›®æ‰€ç»™çš„æ€»é‡‘é¢ã€‚å¯¹äºæ¯ä¸ªçŠ¶æ€ï¼Œæ¯æ¬¡éœ€è¦æšä¸¾ <em>n</em> ä¸ªé¢é¢æ¥è½¬ç§»çŠ¶æ€ï¼Œæ‰€ä»¥ä¸€å…±éœ€è¦ <em>O(Sn)</em> çš„æ—¶é—´å¤æ‚åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(S)*ã€‚DP æ•°ç»„éœ€è¦å¼€é•¿åº¦ä¸ºæ€»é‡‘é¢ *S</em> çš„ç©ºé—´ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸ coins å’Œä¸€ä¸ªæ€»é‡‘é¢ amountã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› -1ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>329. çŸ©é˜µä¸­çš„æœ€é•¿é€’å¢è·¯å¾„</title>
    <link href="http://yoursite.com/2020/09/08/329.%20%E7%9F%A9%E9%98%B5%E4%B8%AD%E7%9A%84%E6%9C%80%E9%95%BF%E9%80%92%E5%A2%9E%E8%B7%AF%E5%BE%84/"/>
    <id>http://yoursite.com/2020/09/08/329. çŸ©é˜µä¸­çš„æœ€é•¿é€’å¢è·¯å¾„/</id>
    <published>2020-09-08T11:51:12.000Z</published>
    <updated>2020-09-09T09:42:02.474Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæ•´æ•°çŸ©é˜µï¼Œæ‰¾å‡ºæœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦ã€‚</p><a id="more"></a><p>å¯¹äºæ¯ä¸ªå•å…ƒæ ¼ï¼Œä½ å¯ä»¥å¾€ä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³å››ä¸ªæ–¹å‘ç§»åŠ¨ã€‚ ä½ ä¸èƒ½åœ¨å¯¹è§’çº¿æ–¹å‘ä¸Šç§»åŠ¨æˆ–ç§»åŠ¨åˆ°è¾¹ç•Œå¤–ï¼ˆå³ä¸å…è®¸ç¯ç»•ï¼‰ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: nums = [  [9,9,4],  [6,6,8],  [2,1,1]] è¾“å‡º: 4 </code></pre><p>è§£é‡Š: æœ€é•¿é€’å¢è·¯å¾„ä¸º [1, 2, 6, 9]ã€‚<br>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: nums = [  [3,4,5],  [3,2,6],  [2,2,1]] è¾“å‡º: 4 </code></pre><p>è§£é‡Š: æœ€é•¿é€’å¢è·¯å¾„æ˜¯ [3, 4, 5, 6]ã€‚æ³¨æ„ä¸å…è®¸åœ¨å¯¹è§’çº¿æ–¹å‘ä¸Šç§»åŠ¨ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æ·±åº¦ä¼˜å…ˆæœç´¢</h1><p>å°†çŸ©é˜µçœ‹æˆä¸€ä¸ªæœ‰å‘å›¾ï¼Œæ¯ä¸ªå•å…ƒæ ¼å¯¹åº”å›¾ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœç›¸é‚»çš„ä¸¤ä¸ªå•å…ƒæ ¼çš„å€¼ä¸ç›¸ç­‰ï¼Œåˆ™åœ¨ç›¸é‚»çš„ä¸¤ä¸ªå•å…ƒæ ¼ä¹‹é—´å­˜åœ¨ä¸€æ¡ä»è¾ƒå°å€¼æŒ‡å‘è¾ƒå¤§å€¼çš„æœ‰å‘è¾¹ã€‚é—®é¢˜è½¬åŒ–æˆåœ¨æœ‰å‘å›¾ä¸­å¯»æ‰¾æœ€é•¿è·¯å¾„ã€‚</p><p>æ·±åº¦ä¼˜å…ˆæœç´¢æ˜¯éå¸¸ç›´è§‚çš„æ–¹æ³•ã€‚ä»ä¸€ä¸ªå•å…ƒæ ¼å¼€å§‹è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå³å¯æ‰¾åˆ°ä»è¯¥å•å…ƒæ ¼å¼€å§‹çš„æœ€é•¿é€’å¢è·¯å¾„ã€‚å¯¹æ¯ä¸ªå•å…ƒæ ¼åˆ†åˆ«è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ä¹‹åï¼Œå³å¯å¾—åˆ°çŸ©é˜µä¸­çš„æœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦ã€‚</p><p>ä½†æ˜¯å¦‚æœä½¿ç”¨æœ´ç´ æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯æŒ‡æ•°çº§ï¼Œä¼šè¶…å‡ºæ—¶é—´é™åˆ¶ï¼Œå› æ­¤å¿…é¡»åŠ ä»¥ä¼˜åŒ–ã€‚</p><p>æœ´ç´ æ·±åº¦ä¼˜å…ˆæœç´¢çš„æ—¶é—´å¤æ‚åº¦è¿‡é«˜çš„åŸå› æ˜¯è¿›è¡Œäº†å¤§é‡çš„é‡å¤è®¡ç®—ï¼ŒåŒä¸€ä¸ªå•å…ƒæ ¼ä¼šè¢«è®¿é—®å¤šæ¬¡ï¼Œæ¯æ¬¡è®¿é—®éƒ½è¦é‡æ–°è®¡ç®—ã€‚ç”±äºåŒä¸€ä¸ªå•å…ƒæ ¼å¯¹åº”çš„æœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦æ˜¯å›ºå®šä¸å˜çš„ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨è®°å¿†åŒ–çš„æ–¹æ³•è¿›è¡Œä¼˜åŒ–ã€‚ç”¨çŸ©é˜µmemo ä½œä¸ºç¼“å­˜çŸ©é˜µï¼Œå·²ç»è®¡ç®—è¿‡çš„å•å…ƒæ ¼çš„ç»“æœå­˜å‚¨åˆ°ç¼“å­˜çŸ©é˜µä¸­ã€‚</p><p>ä½¿ç”¨è®°å¿†åŒ–æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå½“è®¿é—®åˆ°ä¸€ä¸ªå•å…ƒæ ¼ <em>(i,j)</em> æ—¶ï¼Œå¦‚æœ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">memo[i][j]\neq0</span><br><span class="line"></span><br><span class="line">``` </span><br><span class="line">ï¼Œè¯´æ˜è¯¥å•å…ƒæ ¼çš„ç»“æœå·²ç»è®¡ç®—è¿‡ï¼Œåˆ™ç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–ç»“æœï¼Œå¦‚æœ</span><br><span class="line">```math</span><br><span class="line">memo[i][j]=0</span><br><span class="line"></span><br><span class="line">``` </span><br><span class="line">ï¼Œè¯´æ˜è¯¥å•å…ƒæ ¼çš„ç»“æœå°šæœªè¢«è®¡ç®—è¿‡ï¼Œåˆ™è¿›è¡Œæœç´¢ï¼Œå¹¶å°†è®¡ç®—å¾—åˆ°çš„ç»“æœå­˜å…¥ç¼“å­˜ä¸­ã€‚</span><br><span class="line"></span><br><span class="line">éå†å®ŒçŸ©é˜µä¸­çš„æ‰€æœ‰å•å…ƒæ ¼ä¹‹åï¼Œå³å¯å¾—åˆ°çŸ©é˜µä¸­çš„æœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦ã€‚</span><br><span class="line"></span><br><span class="line">&lt;details&gt;</span><br><span class="line">    &lt;summary&gt;è®°å¿†åŒ–æ·±åº¦ä¼˜å…ˆæœç´¢Java&lt;/summary&gt;</span><br><span class="line">```Java [sol1-Java]</span><br><span class="line">class Solution &#123;</span><br><span class="line">    public int[][] dirs = &#123;&#123;-1, 0&#125;, &#123;1, 0&#125;, &#123;0, -1&#125;, &#123;0, 1&#125;&#125;;</span><br><span class="line">    public int rows, columns;</span><br><span class="line"></span><br><span class="line">    public int longestIncreasingPath(int[][] matrix) &#123;</span><br><span class="line">        if (matrix == null || matrix.length == 0 || matrix[0].length == 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        rows = matrix.length;</span><br><span class="line">        columns = matrix[0].length;</span><br><span class="line">        int[][] memo = new int[rows][columns];</span><br><span class="line">        int ans = 0;</span><br><span class="line">        for (int i = 0; i &lt; rows; ++i) &#123;</span><br><span class="line">            for (int j = 0; j &lt; columns; ++j) &#123;</span><br><span class="line">                ans = Math.max(ans, dfs(matrix, i, j, memo));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int dfs(int[][] matrix, int row, int column, int[][] memo) &#123;</span><br><span class="line">        if (memo[row][column] != 0) &#123;</span><br><span class="line">            return memo[row][column];</span><br><span class="line">        &#125;</span><br><span class="line">        ++memo[row][column];</span><br><span class="line">        for (int[] dir : dirs) &#123;</span><br><span class="line">            int newRow = row + dir[0], newColumn = column + dir[1];</span><br><span class="line">            if (newRow &gt;= 0 &amp;&amp; newRow &lt; rows &amp;&amp; newColumn &gt;= 0 &amp;&amp; newColumn &lt; columns &amp;&amp; matrix[newRow][newColumn] &gt; matrix[row][column]) &#123;</span><br><span class="line">                memo[row][column] = Math.max(memo[row][column], dfs(matrix, newRow, newColumn, memo) + 1);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return memo[row][column];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><details>    <summary>è®°å¿†åŒ–æ·±åº¦ä¼˜å…ˆæœç´¢C++</summary><figure class="highlight cpp"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">int</span> dirs[<span class="number">4</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">-1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">-1</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;&#125;;</span><br><span class="line">    <span class="keyword">int</span> rows, columns;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">longestIncreasingPath</span><span class="params">(<span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; &amp;matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix.size() == <span class="number">0</span> || matrix[<span class="number">0</span>].size() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        rows = matrix.size();</span><br><span class="line">        columns = matrix[<span class="number">0</span>].size();</span><br><span class="line">        <span class="keyword">auto</span> memo = <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; (rows, <span class="built_in">vector</span> &lt;<span class="keyword">int</span>&gt; (columns));</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; columns; ++j) &#123;</span><br><span class="line">                ans = max(ans, dfs(matrix, i, j, memo));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; &amp;matrix, <span class="keyword">int</span> row, <span class="keyword">int</span> column, <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; &amp;memo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (memo[row][column] != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> memo[row][column];</span><br><span class="line">        &#125;</span><br><span class="line">        ++memo[row][column];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</span><br><span class="line">            <span class="keyword">int</span> newRow = row + dirs[i][<span class="number">0</span>], newColumn = column + dirs[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (newRow &gt;= <span class="number">0</span> &amp;&amp; newRow &lt; rows &amp;&amp; newColumn &gt;= <span class="number">0</span> &amp;&amp; newColumn &lt; columns &amp;&amp; matrix[newRow][newColumn] &gt; matrix[row][column]) &#123;</span><br><span class="line">                memo[row][column] = max(memo[row][column], dfs(matrix, newRow, newColumn, memo) + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> memo[row][column];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>è®°å¿†åŒ–æ·±åº¦ä¼˜å…ˆæœç´¢Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    </span><br><span class="line">    DIRS = [(<span class="number">-1</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">0</span>), (<span class="number">0</span>, <span class="number">-1</span>), (<span class="number">0</span>, <span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestIncreasingPath</span><span class="params">(self, matrix: List[List[int]])</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> matrix:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        </span><br><span class="line"><span class="meta">        @lru_cache(None)</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(row: int, column: int)</span> -&gt; int:</span></span><br><span class="line">            best = <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> dx, dy <span class="keyword">in</span> Solution.DIRS:</span><br><span class="line">                newRow, newColumn = row + dx, column + dy</span><br><span class="line">                <span class="keyword">if</span> <span class="number">0</span> &lt;= newRow &lt; rows <span class="keyword">and</span> <span class="number">0</span> &lt;= newColumn &lt; columns <span class="keyword">and</span> matrix[newRow][newColumn] &gt; matrix[row][column]:</span><br><span class="line">                    best = max(best, dfs(newRow, newColumn) + <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> best</span><br><span class="line"></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        rows, columns = len(matrix), len(matrix[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(columns):</span><br><span class="line">                ans = max(ans, dfs(i, j))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>è®°å¿†åŒ–æ·±åº¦ä¼˜å…ˆæœç´¢C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> dirs[<span class="number">4</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">-1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">-1</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">int</span> rows, columns;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">longestIncreasingPath</span><span class="params">(<span class="keyword">int</span>** matrix, <span class="keyword">int</span> matrixSize, <span class="keyword">int</span>* matrixColSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (matrixSize == <span class="number">0</span> || matrixColSize[<span class="number">0</span>] == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    rows = matrixSize;</span><br><span class="line">    columns = matrixColSize[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>** memo = (<span class="keyword">int</span>**)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * rows);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line">        memo[i] = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * columns);</span><br><span class="line">        <span class="built_in">memset</span>(memo[i], <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * columns);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; columns; ++j) &#123;</span><br><span class="line">            ans = fmax(ans, dfs(matrix, i, j, memo));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(memo);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>** matrix, <span class="keyword">int</span> row, <span class="keyword">int</span> column, <span class="keyword">int</span>** memo)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (memo[row][column] != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> memo[row][column];</span><br><span class="line">    &#125;</span><br><span class="line">    ++memo[row][column];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> newRow = row + dirs[i][<span class="number">0</span>], newColumn = column + dirs[i][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (newRow &gt;= <span class="number">0</span> &amp;&amp; newRow &lt; rows &amp;&amp; newColumn &gt;= <span class="number">0</span> &amp;&amp; newColumn &lt; columns &amp;&amp; matrix[newRow][newColumn] &gt; matrix[row][column]) &#123;</span><br><span class="line">            memo[row][column] = fmax(memo[row][column], dfs(matrix, newRow, newColumn, memo) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> memo[row][column];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>è®°å¿†åŒ–æ·±åº¦ä¼˜å…ˆæœç´¢Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    dirs = [][]<span class="keyword">int</span>&#123;[]<span class="keyword">int</span>&#123;<span class="number">-1</span>, <span class="number">0</span>&#125;, []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">-1</span>&#125;, []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">1</span>&#125;&#125;</span><br><span class="line">    rows, columns <span class="keyword">int</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">longestIncreasingPath</span><span class="params">(matrix [][]<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(matrix) == <span class="number">0</span> || <span class="built_in">len</span>(matrix[<span class="number">0</span>]) == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    rows, columns = <span class="built_in">len</span>(matrix), <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">    memo := <span class="built_in">make</span>([][]<span class="keyword">int</span>, rows)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; rows; i++ &#123;</span><br><span class="line">        memo[i] = <span class="built_in">make</span>([]<span class="keyword">int</span>, columns)</span><br><span class="line">    &#125;</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; rows; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; columns; j++ &#123;</span><br><span class="line">            ans = max(ans, dfs(matrix, i, j, memo))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(matrix [][]<span class="keyword">int</span>, row, column <span class="keyword">int</span>, memo [][]<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> memo[row][column] != <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> memo[row][column]</span><br><span class="line">    &#125;</span><br><span class="line">    memo[row][column]++</span><br><span class="line">    <span class="keyword">for</span> _, dir := <span class="keyword">range</span> dirs &#123;</span><br><span class="line">        newRow, newColumn := row + dir[<span class="number">0</span>], column + dir[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">if</span> newRow &gt;= <span class="number">0</span> &amp;&amp; newRow &lt; rows &amp;&amp; newColumn &gt;= <span class="number">0</span> &amp;&amp; newColumn &lt; columns &amp;&amp; matrix[newRow][newColumn] &gt; matrix[row][column] &#123;</span><br><span class="line">            memo[row][column] = max(memo[row][column], dfs(matrix, newRow, newColumn, memo) + <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> memo[row][column]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x &gt; y &#123;</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(mn)*ï¼Œå…¶ä¸­ *m</em> å’Œ <em>n</em> åˆ†åˆ«æ˜¯çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ã€‚æ·±åº¦ä¼˜å…ˆæœç´¢çš„æ—¶é—´å¤æ‚åº¦æ˜¯ <em>O(V+E)*ï¼Œå…¶ä¸­ *V</em> æ˜¯èŠ‚ç‚¹æ•°ï¼Œ<em>E</em> æ˜¯è¾¹æ•°ã€‚åœ¨çŸ©é˜µä¸­ï¼Œ</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">O(V)=O(mn)</span><br><span class="line"></span><br><span class="line">O(E) \approx O(4mn)=O(mn)</span><br></pre></td></tr></table></figure><ul><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(mn)*ï¼Œå…¶ä¸­ *m</em> å’Œ <em>n</em> åˆ†åˆ«æ˜¯çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºç¼“å­˜å’Œé€’å½’è°ƒç”¨æ·±åº¦ï¼Œç¼“å­˜çš„ç©ºé—´å¤æ‚åº¦æ˜¯ <em>O(mn)</em>ï¼Œé€’å½’è°ƒç”¨æ·±åº¦ä¸ä¼šè¶…è¿‡ <em>mn</em>ã€‚</li></ul><h1 id="æ–¹æ³•äºŒï¼šæ‹“æ‰‘æ’åº"><a href="#æ–¹æ³•äºŒï¼šæ‹“æ‰‘æ’åº" class="headerlink" title="æ–¹æ³•äºŒï¼šæ‹“æ‰‘æ’åº"></a>æ–¹æ³•äºŒï¼šæ‹“æ‰‘æ’åº</h1><p>ä»æ–¹æ³•ä¸€å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ªå•å…ƒæ ¼å¯¹åº”çš„æœ€é•¿é€’å¢è·¯å¾„çš„ç»“æœåªå’Œç›¸é‚»å•å…ƒæ ¼çš„ç»“æœæœ‰å…³ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£ï¼Ÿ</p><p>æ ¹æ®æ–¹æ³•ä¸€çš„åˆ†æï¼ŒåŠ¨æ€è§„åˆ’çš„çŠ¶æ€å®šä¹‰å’ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹éƒ½å¾ˆå®¹æ˜“å¾—åˆ°ã€‚æ–¹æ³•ä¸€ä¸­ä½¿ç”¨çš„ç¼“å­˜çŸ©é˜µ memo  å³ä¸ºçŠ¶æ€å€¼ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">memo[i][j]=max&#123;memo[x][y]&#125;+1</span><br><span class="line"></span><br><span class="line">å…¶ä¸­(x,y)ä¸(i,j)åœ¨çŸ©é˜µä¸­ç›¸é‚»ï¼Œå¹¶ä¸”memo[x][y]&gt;memo[i][j]</span><br></pre></td></tr></table></figure><p>åŠ¨æ€è§„åˆ’é™¤äº†çŠ¶æ€å®šä¹‰å’ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œè¿˜éœ€è¦è€ƒè™‘è¾¹ç•Œæƒ…å†µã€‚è¿™é‡Œçš„è¾¹ç•Œæƒ…å†µæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å¦‚æœä¸€ä¸ªå•å…ƒæ ¼çš„å€¼æ¯”å®ƒçš„æ‰€æœ‰ç›¸é‚»å•å…ƒæ ¼çš„å€¼éƒ½è¦å¤§ï¼Œé‚£ä¹ˆè¿™ä¸ªå•å…ƒæ ¼å¯¹åº”çš„æœ€é•¿é€’å¢è·¯å¾„æ˜¯ <em>1</em>ï¼Œè¿™å°±æ˜¯è¾¹ç•Œæ¡ä»¶ã€‚è¿™ä¸ªè¾¹ç•Œæ¡ä»¶å¹¶ä¸ç›´è§‚ï¼Œè€Œæ˜¯éœ€è¦æ ¹æ®çŸ©é˜µä¸­çš„æ¯ä¸ªå•å…ƒæ ¼çš„å€¼æ‰¾åˆ°ä½œä¸ºè¾¹ç•Œæ¡ä»¶çš„å•å…ƒæ ¼ã€‚</p><p>ä»ç„¶ä½¿ç”¨æ–¹æ³•ä¸€çš„æ€æƒ³ï¼Œå°†çŸ©é˜µçœ‹æˆä¸€ä¸ªæœ‰å‘å›¾ï¼Œè®¡ç®—æ¯ä¸ªå•å…ƒæ ¼å¯¹åº”çš„å‡ºåº¦ï¼Œå³æœ‰å¤šå°‘æ¡è¾¹ä»è¯¥å•å…ƒæ ¼å‡ºå‘ã€‚å¯¹äºä½œä¸ºè¾¹ç•Œæ¡ä»¶çš„å•å…ƒæ ¼ï¼Œè¯¥å•å…ƒæ ¼çš„å€¼æ¯”æ‰€æœ‰çš„ç›¸é‚»å•å…ƒæ ¼çš„å€¼éƒ½è¦å¤§ï¼Œå› æ­¤ä½œä¸ºè¾¹ç•Œæ¡ä»¶çš„å•å…ƒæ ¼çš„å‡ºåº¦éƒ½æ˜¯ <em>0</em>ã€‚</p><p>åŸºäºå‡ºåº¦çš„æ¦‚å¿µï¼Œå¯ä»¥ä½¿ç”¨æ‹“æ‰‘æ’åºæ±‚è§£ã€‚ä»æ‰€æœ‰å‡ºåº¦ä¸º <em>0</em> çš„å•å…ƒæ ¼å¼€å§‹å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œæ¯ä¸€è½®æœç´¢éƒ½ä¼šéå†å½“å‰å±‚çš„æ‰€æœ‰å•å…ƒæ ¼ï¼Œæ›´æ–°å…¶ä½™å•å…ƒæ ¼çš„å‡ºåº¦ï¼Œå¹¶å°†å‡ºåº¦å˜ä¸º <em>0</em> çš„å•å…ƒæ ¼åŠ å…¥ä¸‹ä¸€å±‚æœç´¢ã€‚å½“æœç´¢ç»“æŸæ—¶ï¼Œæœç´¢çš„æ€»å±‚æ•°å³ä¸ºçŸ©é˜µä¸­çš„æœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦ã€‚</p><details>    <summary>æ‹“æ‰‘æ’åºJava</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] dirs = &#123;&#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;&#125;;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> rows, columns;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestIncreasingPath</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        rows = matrix.length;</span><br><span class="line">        columns = matrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span>[][] outdegrees = <span class="keyword">new</span> <span class="keyword">int</span>[rows][columns];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; columns; ++j) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</span><br><span class="line">                    <span class="keyword">int</span> newRow = i + dir[<span class="number">0</span>], newColumn = j + dir[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (newRow &gt;= <span class="number">0</span> &amp;&amp; newRow &lt; rows &amp;&amp; newColumn &gt;= <span class="number">0</span> &amp;&amp; newColumn &lt; columns &amp;&amp; matrix[newRow][newColumn] &gt; matrix[i][j]) &#123;</span><br><span class="line">                        ++outdegrees[i][j];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;<span class="keyword">int</span>[]&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; columns; ++j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (outdegrees[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                    queue.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i, j&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            ++ans;</span><br><span class="line">            <span class="keyword">int</span> size = queue.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">                <span class="keyword">int</span>[] cell = queue.poll();</span><br><span class="line">                <span class="keyword">int</span> row = cell[<span class="number">0</span>], column = cell[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</span><br><span class="line">                    <span class="keyword">int</span> newRow = row + dir[<span class="number">0</span>], newColumn = column + dir[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (newRow &gt;= <span class="number">0</span> &amp;&amp; newRow &lt; rows &amp;&amp; newColumn &gt;= <span class="number">0</span> &amp;&amp; newColumn &lt; columns &amp;&amp; matrix[newRow][newColumn] &lt; matrix[row][column]) &#123;</span><br><span class="line">                        --outdegrees[newRow][newColumn];</span><br><span class="line">                        <span class="keyword">if</span> (outdegrees[newRow][newColumn] == <span class="number">0</span>) &#123;</span><br><span class="line">                            queue.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;newRow, newColumn&#125;);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ‹“æ‰‘æ’åºcpp</summary><figure class="highlight cpp"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">int</span> dirs[<span class="number">4</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">-1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">-1</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;&#125;;</span><br><span class="line">    <span class="keyword">int</span> rows, columns;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">longestIncreasingPath</span><span class="params">(<span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; &amp;matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix.size() == <span class="number">0</span> || matrix[<span class="number">0</span>].size() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        rows = matrix.size();</span><br><span class="line">        columns = matrix[<span class="number">0</span>].size();</span><br><span class="line">        <span class="keyword">auto</span> outdegrees = <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; (rows, <span class="built_in">vector</span> &lt;<span class="keyword">int</span>&gt; (columns));</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; columns; ++j) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; ++k) &#123;</span><br><span class="line">                    <span class="keyword">int</span> newRow = i + dirs[k][<span class="number">0</span>], newColumn = j + dirs[k][<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (newRow &gt;= <span class="number">0</span> &amp;&amp; newRow &lt; rows &amp;&amp; newColumn &gt;= <span class="number">0</span> &amp;&amp; newColumn &lt; columns &amp;&amp; matrix[newRow][newColumn] &gt; matrix[i][j]) &#123;</span><br><span class="line">                        ++outdegrees[i][j];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">queue</span> &lt; pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; q;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; columns; ++j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (outdegrees[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                    q.push(&#123;i, j&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">            ++ans;</span><br><span class="line">            <span class="keyword">int</span> size = q.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">                <span class="keyword">auto</span> cell = q.front(); q.pop();</span><br><span class="line">                <span class="keyword">int</span> row = cell.first, column = cell.second;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; ++k) &#123;</span><br><span class="line">                    <span class="keyword">int</span> newRow = row + dirs[k][<span class="number">0</span>], newColumn = column + dirs[k][<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (newRow &gt;= <span class="number">0</span> &amp;&amp; newRow &lt; rows &amp;&amp; newColumn &gt;= <span class="number">0</span> &amp;&amp; newColumn &lt; columns &amp;&amp; matrix[newRow][newColumn] &lt; matrix[row][column]) &#123;</span><br><span class="line">                        --outdegrees[newRow][newColumn];</span><br><span class="line">                        <span class="keyword">if</span> (outdegrees[newRow][newColumn] == <span class="number">0</span>) &#123;</span><br><span class="line">                            q.push(&#123;newRow, newColumn&#125;);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ‹“æ‰‘æ’åºPython</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"></span><br><span class="line">    DIRS = [(<span class="number">-1</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">0</span>), (<span class="number">0</span>, <span class="number">-1</span>), (<span class="number">0</span>, <span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestIncreasingPath</span><span class="params">(self, matrix: List[List[int]])</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> matrix:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        rows, columns = len(matrix), len(matrix[<span class="number">0</span>])</span><br><span class="line">        outdegrees = [[<span class="number">0</span>] * columns <span class="keyword">for</span> _ <span class="keyword">in</span> range(rows)]</span><br><span class="line">        queue = collections.deque()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(rows):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(columns):</span><br><span class="line">                <span class="keyword">for</span> dx, dy <span class="keyword">in</span> Solution.DIRS:</span><br><span class="line">                    newRow, newColumn = i + dx, j + dy</span><br><span class="line">                    <span class="keyword">if</span> <span class="number">0</span> &lt;= newRow &lt; rows <span class="keyword">and</span> <span class="number">0</span> &lt;= newColumn &lt; columns <span class="keyword">and</span> matrix[newRow][newColumn] &gt; matrix[i][j]:</span><br><span class="line">                        outdegrees[i][j] += <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> outdegrees[i][j] == <span class="number">0</span>:</span><br><span class="line">                    queue.append((i, j))</span><br><span class="line"></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> queue:</span><br><span class="line">            ans += <span class="number">1</span></span><br><span class="line">            size = len(queue)</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(size):</span><br><span class="line">                row, column = queue.popleft()</span><br><span class="line">                <span class="keyword">for</span> dx, dy <span class="keyword">in</span> Solution.DIRS:</span><br><span class="line">                    newRow, newColumn = row + dx, column + dy</span><br><span class="line">                    <span class="keyword">if</span> <span class="number">0</span> &lt;= newRow &lt; rows <span class="keyword">and</span> <span class="number">0</span> &lt;= newColumn &lt; columns <span class="keyword">and</span> matrix[newRow][newColumn] &lt; matrix[row][column]:</span><br><span class="line">                        outdegrees[newRow][newColumn] -= <span class="number">1</span></span><br><span class="line">                        <span class="keyword">if</span> outdegrees[newRow][newColumn] == <span class="number">0</span>:</span><br><span class="line">                            queue.append((newRow, newColumn))</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>æ‹“æ‰‘æ’åºC</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> dirs[<span class="number">4</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">-1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">-1</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">int</span> rows, columns;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">point</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> x, y;</span><br><span class="line">&#125; point;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">longestIncreasingPath</span><span class="params">(<span class="keyword">int</span>** matrix, <span class="keyword">int</span> matrixSize, <span class="keyword">int</span>* matrixColSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (matrixSize == <span class="number">0</span> || matrixColSize[<span class="number">0</span>] == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    rows = matrixSize;</span><br><span class="line">    columns = matrixColSize[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>** outdegrees = (<span class="keyword">int</span>**)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * rows);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line">        outdegrees[i] = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * columns);</span><br><span class="line">        <span class="built_in">memset</span>(outdegrees[i], <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * columns);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; columns; ++j) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; ++k) &#123;</span><br><span class="line">                <span class="keyword">int</span> newRow = i + dirs[k][<span class="number">0</span>], newColumn = j + dirs[k][<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (newRow &gt;= <span class="number">0</span> &amp;&amp; newRow &lt; rows &amp;&amp; newColumn &gt;= <span class="number">0</span> &amp;&amp; newColumn &lt; columns &amp;&amp; matrix[newRow][newColumn] &gt; matrix[i][j]) &#123;</span><br><span class="line">                    ++outdegrees[i][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    point* q = (point*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(point) * rows * columns);</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; columns; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (outdegrees[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                q[r++] = (point)&#123;i, j&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">        ++ans;</span><br><span class="line">        <span class="keyword">int</span> size = r - l;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">            point cell = q[l++];</span><br><span class="line">            <span class="keyword">int</span> row = cell.x, column = cell.y;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; ++k) &#123;</span><br><span class="line">                <span class="keyword">int</span> newRow = row + dirs[k][<span class="number">0</span>], newColumn = column + dirs[k][<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (newRow &gt;= <span class="number">0</span> &amp;&amp; newRow &lt; rows &amp;&amp; newColumn &gt;= <span class="number">0</span> &amp;&amp; newColumn &lt; columns &amp;&amp; matrix[newRow][newColumn] &lt; matrix[row][column]) &#123;</span><br><span class="line">                    --outdegrees[newRow][newColumn];</span><br><span class="line">                    <span class="keyword">if</span> (outdegrees[newRow][newColumn] == <span class="number">0</span>) &#123;</span><br><span class="line">                        q[r++] = (point)&#123;newRow, newColumn&#125;;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ‹“æ‰‘æ’åºGolang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    dirs = [][]<span class="keyword">int</span>&#123;[]<span class="keyword">int</span>&#123;<span class="number">-1</span>, <span class="number">0</span>&#125;, []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">-1</span>&#125;, []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">1</span>&#125;&#125;</span><br><span class="line">    rows, columns <span class="keyword">int</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">longestIncreasingPath</span><span class="params">(matrix [][]<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(matrix) == <span class="number">0</span> || <span class="built_in">len</span>(matrix[<span class="number">0</span>]) == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    rows, columns = <span class="built_in">len</span>(matrix), <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">    outdegrees := <span class="built_in">make</span>([][]<span class="keyword">int</span>, rows)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; rows; i++ &#123;</span><br><span class="line">        outdegrees[i] = <span class="built_in">make</span>([]<span class="keyword">int</span>, columns)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; rows; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; columns; j++ &#123;</span><br><span class="line">            <span class="keyword">for</span> _, dir := <span class="keyword">range</span> dirs &#123;</span><br><span class="line">                newRow, newColumn := i + dir[<span class="number">0</span>], j + dir[<span class="number">1</span>]</span><br><span class="line">                <span class="keyword">if</span> newRow &gt;= <span class="number">0</span> &amp;&amp; newRow &lt; rows &amp;&amp; newColumn &gt;= <span class="number">0</span> &amp;&amp; newColumn &lt; columns &amp;&amp; matrix[newRow][newColumn] &gt; matrix[i][j] &#123;</span><br><span class="line">                    outdegrees[i][j]++</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    queue := [][]<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; rows; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; columns; j++ &#123;</span><br><span class="line">            <span class="keyword">if</span> outdegrees[i][j] == <span class="number">0</span> &#123;</span><br><span class="line">                queue = <span class="built_in">append</span>(queue, []<span class="keyword">int</span>&#123;i, j&#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">len</span>(queue) != <span class="number">0</span> &#123;</span><br><span class="line">        ans++</span><br><span class="line">        size := <span class="built_in">len</span>(queue)</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; size; i++ &#123;</span><br><span class="line">            cell := queue[<span class="number">0</span>]</span><br><span class="line">            queue = queue[<span class="number">1</span>:]</span><br><span class="line">            row, column := cell[<span class="number">0</span>], cell[<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">for</span> _, dir := <span class="keyword">range</span> dirs &#123;</span><br><span class="line">                newRow, newColumn := row + dir[<span class="number">0</span>], column + dir[<span class="number">1</span>]</span><br><span class="line">                <span class="keyword">if</span> newRow &gt;= <span class="number">0</span> &amp;&amp; newRow &lt; rows &amp;&amp; newColumn &gt;= <span class="number">0</span> &amp;&amp; newColumn &lt; columns &amp;&amp; matrix[newRow][newColumn] &lt; matrix[row][column] &#123;</span><br><span class="line">                    outdegrees[newRow][newColumn]--</span><br><span class="line">                    <span class="keyword">if</span> outdegrees[newRow][newColumn] == <span class="number">0</span> &#123;</span><br><span class="line">                        queue = <span class="built_in">append</span>(queue, []<span class="keyword">int</span>&#123;newRow, newColumn&#125;)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(mn)*ï¼Œå…¶ä¸­ *m</em> å’Œ <em>n</em> åˆ†åˆ«æ˜¯çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ã€‚æ‹“æ‰‘æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯ <em>O(V+E)*ï¼Œå…¶ä¸­ *V</em> æ˜¯èŠ‚ç‚¹æ•°ï¼Œ<em>E</em> æ˜¯è¾¹æ•°ã€‚åœ¨çŸ©é˜µä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">O(V)=O(mn)</span><br><span class="line"></span><br><span class="line">O(E) \approx O(4mn)=O(mn)</span><br></pre></td></tr></table></figure></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(mn)*ï¼Œå…¶ä¸­ *m</em> å’Œ <em>n</em> åˆ†åˆ«æ˜¯çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé˜Ÿåˆ—ï¼Œé˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ªæ•°ä¸ä¼šè¶…è¿‡ <em>mn</em>ã€‚</p></li></ul><p>è¿™ç§æ–¹æ³•æˆ‘çœ‹çš„è¿˜æ˜¯æœ‰ç‚¹å„¿æ‡µï¼Œç‰¹åˆ«æ˜¯è¿™æ®µ</p><p>åŸºäºå‡ºåº¦çš„æ¦‚å¿µï¼Œå¯ä»¥ä½¿ç”¨æ‹“æ‰‘æ’åºæ±‚è§£ã€‚ä»æ‰€æœ‰å‡ºåº¦ä¸º <em>0</em> çš„å•å…ƒæ ¼å¼€å§‹å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œæ¯ä¸€è½®æœç´¢éƒ½ä¼šéå†å½“å‰å±‚çš„æ‰€æœ‰å•å…ƒæ ¼ï¼Œæ›´æ–°å…¶ä½™å•å…ƒæ ¼çš„å‡ºåº¦ï¼Œå¹¶å°†å‡ºåº¦å˜ä¸º <em>0</em> çš„å•å…ƒæ ¼åŠ å…¥ä¸‹ä¸€å±‚æœç´¢ã€‚å½“æœç´¢ç»“æŸæ—¶ï¼Œæœç´¢çš„æ€»å±‚æ•°å³ä¸ºçŸ©é˜µä¸­çš„æœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦ã€‚</p><h1 id="æ€è€ƒé¢˜"><a href="#æ€è€ƒé¢˜" class="headerlink" title="æ€è€ƒé¢˜"></a>æ€è€ƒé¢˜</h1><p>ä¸ºäº†è®©å¤§å®¶æ›´å¥½åœ°ç†è§£è¿™é“é¢˜ï¼Œå‡ºäº†å››é“æ€è€ƒé¢˜</p><ul><li><p>ã€Œæ–¹æ³•ä¸€ã€ä¸­ä½¿ç”¨äº†è®°å¿†åŒ–å­˜å‚¨å’Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œè¿™é‡Œçš„æ·±åº¦ä¼˜å…ˆæœç´¢å¯ä»¥æ›¿æ¢æˆå¹¿åº¦ä¼˜å…ˆæœç´¢å—ï¼Ÿ</p></li><li><p>ã€Œæ–¹æ³•äºŒã€ä¸­åŸºäºæ‹“æ‰‘æ’åºå¯¹æ’åºåçš„æœ‰å‘æ— ç¯å›¾åšäº†å±‚æ¬¡éå†ï¼Œå¦‚æœæ²¡æœ‰æ‹“æ‰‘æ’åºç›´æ¥è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p></li><li><p>ã€Œæ–¹æ³•äºŒã€ä¸­å¦‚æœä¸ä½¿ç”¨æ‹“æ‰‘æ’åºï¼Œè€Œæ˜¯ç›´æ¥æŒ‰ç…§çŸ©é˜µä¸­å…ƒç´ çš„å€¼<strong>ä»å¤§åˆ°å°</strong>è¿›è¡Œæ’åºï¼Œå¹¶ä¾æ­¤é¡ºåºè¿›è¡ŒçŠ¶æ€è½¬ç§»ï¼Œé‚£ä¹ˆå¯ä»¥å¾—åˆ°æ­£ç¡®çš„ç­”æ¡ˆå—ï¼Ÿå¦‚æœæ˜¯<strong>ä»å°åˆ°å¤§</strong>è¿›è¡Œæ’åºå‘¢ï¼Ÿ</p></li><li><p>ã€Œå˜å¼ã€ç»™å®šä¸€ä¸ªæ•´æ•°çŸ©é˜µï¼Œæ‰¾å‡ºç¬¦åˆä»¥ä¸‹æ¡ä»¶çš„è·¯å¾„çš„æ•°é‡ï¼šè¿™ä¸ªè·¯å¾„æ˜¯ä¸¥æ ¼é€’å¢çš„ï¼Œä¸”å®ƒçš„é•¿åº¦è‡³å°‘æ˜¯ <em>3</em>ã€‚çŸ©é˜µçš„è¾¹é•¿æœ€å¤§ä¸º <em>10^3*ï¼Œç­”æ¡ˆå¯¹ *10^9 + 7</em> å–æ¨¡ã€‚å…¶ä»–æ¡ä»¶å’Œé¢˜ç›®ç›¸åŒã€‚<strong>æ€è€ƒï¼šæ˜¯å¦å¯ä»¥å€Ÿé‰´è¿™é“é¢˜çš„æ–¹æ³•ï¼Ÿ</strong></p></li></ul><p>è§£ç­”å‚è§<a href="https://leetcode-cn.com/problems/longest-increasing-path-in-a-matrix/solution/ju-zhen-zhong-de-zui-chang-di-zeng-lu-jing-by-le-2/" target="_blank" rel="noopener">^1</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæ•´æ•°çŸ©é˜µï¼Œæ‰¾å‡ºæœ€é•¿é€’å¢è·¯å¾„çš„é•¿åº¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Depth-first Search" scheme="http://yoursite.com/tags/Depth-first-Search/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Topological Sort" scheme="http://yoursite.com/tags/Topological-Sort/"/>
    
      <category term="Memoization" scheme="http://yoursite.com/tags/Memoization/"/>
    
  </entry>
  
  <entry>
    <title>300. æœ€é•¿ä¸Šå‡å­åºåˆ—</title>
    <link href="http://yoursite.com/2020/09/08/300.%20%E6%9C%80%E9%95%BF%E4%B8%8A%E5%8D%87%E5%AD%90%E5%BA%8F%E5%88%97/"/>
    <id>http://yoursite.com/2020/09/08/300. æœ€é•¿ä¸Šå‡å­åºåˆ—/</id>
    <published>2020-09-08T02:51:12.000Z</published>
    <updated>2020-09-08T11:43:19.567Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæ— åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾åˆ°å…¶ä¸­æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚</p><a id="more"></a><p>ç¤ºä¾‹:</p><pre><code>è¾“å…¥: [10,9,2,5,3,7,101,18]è¾“å‡º: 4 è§£é‡Š: æœ€é•¿çš„ä¸Šå‡å­åºåˆ—æ˜¯[2,3,7,101]ï¼Œå®ƒçš„é•¿åº¦æ˜¯ 4ã€‚</code></pre><p>è¯´æ˜:</p><p>å¯èƒ½ä¼šæœ‰å¤šç§æœ€é•¿ä¸Šå‡å­åºåˆ—çš„ç»„åˆï¼Œä½ åªéœ€è¦è¾“å‡ºå¯¹åº”çš„é•¿åº¦å³å¯ã€‚<br>ä½ ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸ºO(n^2) ã€‚</p><p>è¿›é˜¶: ä½ èƒ½å°†ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é™ä½åˆ°O(n log n) å—?</p><h1 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h1><p>æœ€å¼€å§‹çš„æƒ³æ³•æƒ³å…ˆç”¨æš´åŠ›æ–¹æ³•åšå‡ºæ¥ï¼Œä½†æ˜¯é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œ[2, 5, 3, 4]è¿™ä¸ªæµ‹è¯•ç”¨ä¾‹é•¿åº¦åº”è¯¥æ˜¯3ï¼Œä½†æ˜¯æˆ‘çš„æš´åŠ›æ–¹æ³•ç»“æœæ˜¯2ï¼Œå› ä¸ºå¤–å±‚éå†åˆ°2ï¼Œå†…å±‚éå†åˆ°5æ—¶å°±å·²ç»è®¤ä¸ºæ‰¾åˆ°äº†ä¸Šå‡åºåˆ—ï¼Œä¸ä¼šå†æ›´æ–°åé¢çš„3å’Œ4.</p><h1 id="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’"><a href="#æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’"></a>æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’</h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>å®šä¹‰ <em>dp[i]</em> ä¸ºè€ƒè™‘å‰ <em>i</em> ä¸ªå…ƒç´ ï¼Œä»¥ç¬¬ <em>i</em> ä¸ªæ•°å­—ç»“å°¾çš„æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ï¼Œ<strong>æ³¨æ„nums[i] å¿…é¡»è¢«é€‰å–</strong>ã€‚</p><p>æˆ‘ä»¬ä»å°åˆ°å¤§è®¡ç®— <em>dp[]</em> æ•°ç»„çš„å€¼ï¼Œåœ¨è®¡ç®— <em>dp[i]</em> ä¹‹å‰ï¼Œæˆ‘ä»¬å·²ç»è®¡ç®—å‡º dp[0..i-1] çš„å€¼ï¼Œåˆ™çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dp[i]=max(dp[j])+1,å…¶ä¸­0&lt;=j&lt;iä¸”num[j]&lt;num[i]</span><br></pre></td></tr></table></figure><p>å³è€ƒè™‘å¾€ dp[0..i-1] ä¸­æœ€é•¿çš„ä¸Šå‡å­åºåˆ—åé¢å†åŠ ä¸€ä¸ª nums[i] ã€‚ç”±äº <em>dp[j]</em> ä»£è¡¨ nums[0â€¦j] ä¸­ä»¥ nums[j] ç»“å°¾çš„æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼Œæ‰€ä»¥å¦‚æœèƒ½ä» <em>dp[j]</em> è¿™ä¸ªçŠ¶æ€è½¬ç§»è¿‡æ¥ï¼Œé‚£ä¹ˆ nums[i] å¿…ç„¶è¦å¤§äºnums[j]ï¼Œæ‰èƒ½å°†  nums[i]  æ”¾åœ¨nums[j]åé¢ä»¥å½¢æˆæ›´é•¿çš„ä¸Šå‡å­åºåˆ—ã€‚</p><p>æœ€åï¼Œæ•´ä¸ªæ•°ç»„çš„æœ€é•¿ä¸Šå‡å­åºåˆ—å³æ‰€æœ‰ <em>dp[i]</em> ä¸­çš„æœ€å¤§å€¼ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LIS_&#123;length&#125;=max(dp[j]),å…¶ä¸­0&lt;=i&lt;n</span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹åŠ¨ç”»æ¼”ç¤ºäº†è¯¥æ–¹æ³•ï¼š </p><p> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide1.PNG" target="_blank" rel="noopener">1</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide2.PNG" target="_blank" rel="noopener">2</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide3.PNG" target="_blank" rel="noopener">3</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide4.PNG" target="_blank" rel="noopener">4</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide5.PNG" target="_blank" rel="noopener">5</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide6.PNG" target="_blank" rel="noopener">6</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide7.PNG" target="_blank" rel="noopener">7</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide8.PNG" target="_blank" rel="noopener">8</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide9.PNG" target="_blank" rel="noopener">9</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide10.PNG" target="_blank" rel="noopener">10</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide11.PNG" target="_blank" rel="noopener">11</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide12.PNG" target="_blank" rel="noopener">12</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide13.PNG" target="_blank" rel="noopener">13</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide14.PNG" target="_blank" rel="noopener">14</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide15.PNG" target="_blank" rel="noopener">15</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide16.PNG" target="_blank" rel="noopener">16</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide17.PNG" target="_blank" rel="noopener">17</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide18.PNG" target="_blank" rel="noopener">18</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide19.PNG" target="_blank" rel="noopener">19</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide20.PNG" target="_blank" rel="noopener">20</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide21.PNG" target="_blank" rel="noopener">21</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide22.PNG" target="_blank" rel="noopener">22</a> <a href="https://pic.leetcode-cn.com/Figures/300_LISSlide23.PNG" target="_blank" rel="noopener">23</a> </p><details>    <summary>åŠ¨æ€è§„åˆ’Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLIS</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> maxans = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; dp.length; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> maxval = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[i] &gt; nums[j]) &#123;</span><br><span class="line">                    maxval = Math.max(maxval, dp[j]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            dp[i] = maxval + <span class="number">1</span>;</span><br><span class="line">            maxans = Math.max(maxans, dp[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">lengthOfLIS</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n=(<span class="keyword">int</span>)nums.size();</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(n, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            dp[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; ++j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[j] &lt; nums[i]) &#123;</span><br><span class="line">                    dp[i] = max(dp[i], dp[j] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> *max_element(dp.begin(), dp.end());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’Python3</summary><figure class="highlight plain"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def lengthOfLIS(self, nums: List[int]) -&gt; int:</span><br><span class="line">        if not nums:</span><br><span class="line">            return 0</span><br><span class="line">        dp = []</span><br><span class="line">        for i in range(len(nums)):</span><br><span class="line">            dp.append(1)</span><br><span class="line">            for j in range(i):</span><br><span class="line">                if nums[i] &gt; nums[j]:</span><br><span class="line">                    dp[i] = max(dp[i], dp[j] + 1)</span><br><span class="line">        return max(dp)</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n^2)*ï¼Œå…¶ä¸­ *n</em> ä¸ºæ•°ç»„nums çš„é•¿åº¦ã€‚åŠ¨æ€è§„åˆ’çš„çŠ¶æ€æ•°ä¸º <em>n</em>ï¼Œè®¡ç®—çŠ¶æ€ <em>dp[i]</em> æ—¶ï¼Œéœ€è¦ <em>O(n)</em> çš„æ—¶é—´éå† dp[0â€¦i-1]çš„æ‰€æœ‰çŠ¶æ€ï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n^2)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œéœ€è¦é¢å¤–ä½¿ç”¨é•¿åº¦ä¸º *n</em> çš„ <em>dp</em> æ•°ç»„ã€‚</p></li></ul><h1 id="æ–¹æ³•äºŒï¼šè´ªå¿ƒ-äºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•äºŒï¼šè´ªå¿ƒ-äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•äºŒï¼šè´ªå¿ƒ + äºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•äºŒï¼šè´ªå¿ƒ + äºŒåˆ†æŸ¥æ‰¾</h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>è€ƒè™‘ä¸€ä¸ªç®€å•çš„è´ªå¿ƒï¼Œå¦‚æœæˆ‘ä»¬è¦ä½¿ä¸Šå‡å­åºåˆ—å°½å¯èƒ½çš„é•¿ï¼Œåˆ™æˆ‘ä»¬éœ€è¦è®©åºåˆ—ä¸Šå‡å¾—å°½å¯èƒ½æ…¢ï¼Œå› æ­¤æˆ‘ä»¬å¸Œæœ›æ¯æ¬¡åœ¨ä¸Šå‡å­åºåˆ—æœ€ååŠ ä¸Šçš„é‚£ä¸ªæ•°å°½å¯èƒ½çš„å°ã€‚</p><p>åŸºäºä¸Šé¢çš„è´ªå¿ƒæ€è·¯ï¼Œæˆ‘ä»¬ç»´æŠ¤ä¸€ä¸ªæ•°ç»„ <em>d[i]</em> ï¼Œè¡¨ç¤ºé•¿åº¦ä¸º <em>i</em> çš„æœ€é•¿ä¸Šå‡å­åºåˆ—çš„æœ«å°¾å…ƒç´ çš„æœ€å°å€¼ï¼Œç”¨ len è®°å½•ç›®å‰æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ï¼Œèµ·å§‹æ—¶ <em>len</em> ä¸º <em>1</em>ï¼Œd[1]=nums[0]ã€‚</p><p>åŒæ—¶æˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ° <em>d[i]</em> æ˜¯å…³äº <em>i</em> å•è°ƒé€’å¢çš„ã€‚å› ä¸ºå¦‚æœ d[j]&gt;=d[i] ä¸” <em>j &lt; i*ï¼Œæˆ‘ä»¬è€ƒè™‘ä»é•¿åº¦ä¸º *i</em> çš„æœ€é•¿ä¸Šå‡å­åºåˆ—çš„æœ«å°¾åˆ é™¤ <em>i-j</em> ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆè¿™ä¸ªåºåˆ—é•¿åº¦å˜ä¸º <em>j</em> ï¼Œä¸”ç¬¬ <em>j</em> ä¸ªå…ƒç´  <em>x</em>ï¼ˆæœ«å°¾å…ƒç´ ï¼‰å¿…ç„¶å°äº <em>d[i]<em>ï¼Œä¹Ÿå°±å°äº *d[j]</em>ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±æ‰¾åˆ°äº†ä¸€ä¸ªé•¿åº¦ä¸º *j</em> çš„æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼Œå¹¶ä¸”æœ«å°¾å…ƒç´ æ¯” <em>d[j]</em> å°ï¼Œä»è€Œäº§ç”Ÿäº†çŸ›ç›¾ã€‚å› æ­¤æ•°ç»„ <em>d[]</em> çš„å•è°ƒæ€§å¾—è¯ã€‚</p><p>æˆ‘ä»¬ä¾æ¬¡éå†æ•°ç»„ nums[] ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶æ›´æ–°æ•°ç»„ <em>d[]</em> å’Œ <em>len</em> çš„å€¼ã€‚å¦‚æœ nums[i]&gt;d[len]  åˆ™æ›´æ–° <em>len = len + 1</em>ï¼Œå¦åˆ™åœ¨ d[1â€¦len]ä¸­æ‰¾æ»¡è¶³d[i-1]&lt;nums[j]&lt;d[i] çš„ä¸‹æ ‡ <em>i</em>ï¼Œå¹¶æ›´æ–° d[i]=nums[j] ã€‚</p><p>æ ¹æ® <em>d</em> æ•°ç»„çš„å•è°ƒæ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾å¯»æ‰¾ä¸‹æ ‡ <em>i</em>ï¼Œä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ã€‚</p><p>æœ€åæ•´ä¸ªç®—æ³•æµç¨‹ä¸ºï¼š</p><ul><li><p>è®¾å½“å‰å·²æ±‚å‡ºçš„æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ä¸ºlen ï¼ˆåˆå§‹æ—¶ä¸º <em>1</em>ï¼‰ï¼Œä»å‰å¾€åéå†æ•°ç»„ numsï¼Œåœ¨éå†åˆ° nums[i] æ—¶ï¼š</p><ul><li><p>å¦‚æœ nums[i]&gt;d[len]  ï¼Œåˆ™ç›´æ¥åŠ å…¥åˆ° <em>d</em> æ•°ç»„æœ«å°¾ï¼Œå¹¶æ›´æ–°len=len+1ï¼›</p></li><li><p>å¦åˆ™ï¼Œåœ¨ <em>d</em> æ•°ç»„ä¸­äºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”nums[i] å°çš„æ•° <em>d[k]</em> ï¼Œå¹¶æ›´æ–°d[k+1]=nums[i]ã€‚</p></li></ul></li></ul><p>ä»¥è¾“å…¥åºåˆ— <em>[0, 8, 4, 12, 2]</em> ä¸ºä¾‹ï¼š</p><ul><li><p>ç¬¬ä¸€æ­¥æ’å…¥ <em>0</em>ï¼Œ<em>d = [0]</em>ï¼›</p></li><li><p>ç¬¬äºŒæ­¥æ’å…¥ <em>8</em>ï¼Œ<em>d = [0, 8]</em>ï¼›</p></li><li><p>ç¬¬ä¸‰æ­¥æ’å…¥ <em>4</em>ï¼Œ<em>d = [0, 4]</em>ï¼›</p></li><li><p>ç¬¬å››æ­¥æ’å…¥ <em>12</em>ï¼Œ<em>d = [0, 4, 12]</em>ï¼›</p></li><li><p>ç¬¬äº”æ­¥æ’å…¥ <em>2</em>ï¼Œ<em>d = [0, 2, 12]</em>ã€‚</p></li></ul><p>æœ€ç»ˆå¾—åˆ°æœ€å¤§é€’å¢å­åºåˆ—é•¿åº¦ä¸º <em>3</em>ã€‚</p><details>    <summary>è´ªå¿ƒ + äºŒåˆ†æŸ¥æ‰¾C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">lengthOfLIS</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">1</span>, n = (<span class="keyword">int</span>)nums.size();</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; d(n + <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">        d[len] = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; d[len]) d[++len] = nums[i];</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">int</span> l = <span class="number">1</span>, r = len, pos = <span class="number">0</span>; <span class="comment">// å¦‚æœæ‰¾ä¸åˆ°è¯´æ˜æ‰€æœ‰çš„æ•°éƒ½æ¯” nums[i] å¤§ï¼Œæ­¤æ—¶è¦æ›´æ–° d[1]ï¼Œæ‰€ä»¥è¿™é‡Œå°† pos è®¾ä¸º 0</span></span><br><span class="line">                <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">                    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">if</span> (d[mid] &lt; nums[i]) &#123;</span><br><span class="line">                        pos = mid;</span><br><span class="line">                        l = mid + <span class="number">1</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> r = mid - <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                d[pos + <span class="number">1</span>] = nums[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> len;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>è´ªå¿ƒ + äºŒåˆ†æŸ¥æ‰¾Python</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLIS</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        d = []</span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> d <span class="keyword">or</span> n &gt; d[<span class="number">-1</span>]:</span><br><span class="line">                d.append(n)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                l, r = <span class="number">0</span>, len(d) - <span class="number">1</span></span><br><span class="line">                loc = r</span><br><span class="line">                <span class="keyword">while</span> l &lt;= r:</span><br><span class="line">                    mid = (l + r) // <span class="number">2</span></span><br><span class="line">                    <span class="keyword">if</span> d[mid] &gt;= n:</span><br><span class="line">                        loc = mid</span><br><span class="line">                        r = mid - <span class="number">1</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        l = mid + <span class="number">1</span></span><br><span class="line">                d[loc] = n</span><br><span class="line">        <span class="keyword">return</span> len(d)</span><br></pre></td></tr></table></figure></details><details>    <summary>è´ªå¿ƒ + äºŒåˆ†æŸ¥æ‰¾Java</summary> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"> class Solution &#123;</span><br><span class="line">    public int lengthOfLIS(int[] nums) &#123;</span><br><span class="line">        // len è®°å½•ç›®å‰æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦</span><br><span class="line">        int len = 1, n = nums.length;</span><br><span class="line">        if (n == 0)&#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        //d[]è¡¨ç¤ºé•¿åº¦ä¸º i çš„æœ€é•¿ä¸Šå‡å­åºåˆ—çš„æœ«å°¾å…ƒç´ çš„æœ€å°å€¼</span><br><span class="line">        int[] d=new int[n+1];</span><br><span class="line">        d[len] = nums[0];</span><br><span class="line">        for (int i = 1; i &lt; n; ++i) &#123;</span><br><span class="line">            if (nums[i] &gt; d[len])&#123;</span><br><span class="line">                d[++len] = nums[i];</span><br><span class="line">            &#125;</span><br><span class="line">            else&#123;</span><br><span class="line">                int l = 1, r = len, pos = 0; // å¦‚æœæ‰¾ä¸åˆ°è¯´æ˜æ‰€æœ‰çš„æ•°éƒ½æ¯” nums[i] å¤§ï¼Œæ­¤æ—¶è¦æ›´æ–° d[1]ï¼Œæ‰€ä»¥è¿™é‡Œå°† pos è®¾ä¸º 0</span><br><span class="line">                while (l &lt;= r) &#123;</span><br><span class="line">                    int mid = (l + r) &gt;&gt; 1;</span><br><span class="line">                    if (d[mid] &lt; nums[i]) &#123;</span><br><span class="line">                        pos = mid;</span><br><span class="line">                        l = mid + 1;</span><br><span class="line">                    &#125;</span><br><span class="line">                    else&#123;</span><br><span class="line">                        r = mid - 1;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                d[pos + 1] = nums[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return len;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ã€‚æ•°ç»„ nums çš„é•¿åº¦ä¸º <em>n</em>ï¼Œæˆ‘ä»¬ä¾æ¬¡ç”¨æ•°ç»„ä¸­çš„å…ƒç´ å»æ›´æ–° <em>d</em> æ•°ç»„ï¼Œè€Œæ›´æ–° <em>d</em> æ•°ç»„æ—¶éœ€è¦è¿›è¡Œ O(logn) çš„äºŒåˆ†æœç´¢ï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(nlogn) ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œéœ€è¦é¢å¤–ä½¿ç”¨é•¿åº¦ä¸º *n</em> çš„ <em>d</em> æ•°ç»„ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæ— åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾åˆ°å…¶ä¸­æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
  </entry>
  
  <entry>
    <title>279. å®Œå…¨å¹³æ–¹æ•°</title>
    <link href="http://yoursite.com/2020/09/03/279.%20%E5%AE%8C%E5%85%A8%E5%B9%B3%E6%96%B9%E6%95%B0/"/>
    <id>http://yoursite.com/2020/09/03/279. å®Œå…¨å¹³æ–¹æ•°/</id>
    <published>2020-09-03T11:41:12.000Z</published>
    <updated>2020-09-08T02:48:13.638Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šæ­£æ•´æ•° nï¼Œæ‰¾åˆ°è‹¥å¹²ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼ˆæ¯”å¦‚ 1, 4, 9, 16, â€¦ï¼‰ä½¿å¾—å®ƒä»¬çš„å’Œç­‰äº nã€‚ä½ éœ€è¦è®©ç»„æˆå’Œçš„å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•°æœ€å°‘ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: n = 12è¾“å‡º: 3 è§£é‡Š: 12 = 4 + 4 + 4.</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: n = 13è¾“å‡º: 2è§£é‡Š: 13 = 4 + 9.</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šæš´åŠ›æšä¸¾æ³•-è¶…å‡ºæ—¶é—´é™åˆ¶"><a href="#æ–¹æ³•ä¸€ï¼šæš´åŠ›æšä¸¾æ³•-è¶…å‡ºæ—¶é—´é™åˆ¶" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæš´åŠ›æšä¸¾æ³• [è¶…å‡ºæ—¶é—´é™åˆ¶]"></a>æ–¹æ³•ä¸€ï¼šæš´åŠ›æšä¸¾æ³• [è¶…å‡ºæ—¶é—´é™åˆ¶]</h1><p>è¿™ä¸ªé—®é¢˜è¦æ±‚æˆ‘ä»¬æ‰¾å‡ºç”±å®Œå…¨å¹³æ–¹æ•°ç»„åˆæˆç»™å®šæ•°å­—çš„æœ€å°ä¸ªæ•°ã€‚æˆ‘ä»¬å°†é—®é¢˜é‡æ–°è¡¨è¿°æˆï¼š</p><p>ç»™å®šä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°åˆ—è¡¨å’Œæ­£æ•´æ•° <code>n</code>ï¼Œæ±‚å‡ºå®Œå…¨å¹³æ–¹æ•°ç»„åˆæˆ <code>n</code> çš„ç»„åˆï¼Œè¦æ±‚ç»„åˆä¸­çš„è§£æ‹¥æœ‰å®Œå…¨å¹³æ–¹æ•°çš„æœ€å°ä¸ªæ•°ã€‚</p><p>æ³¨ï¼šå¯ä»¥é‡å¤ä½¿ç”¨åˆ—è¡¨ä¸­çš„å®Œå…¨å¹³æ–¹æ•°ã€‚</p><p>ä»ä¸Šé¢å¯¹è¿™ä¸ªé—®é¢˜çš„å™è¿°æ¥çœ‹ï¼Œå®ƒä¼¼ä¹æ˜¯ä¸€ä¸ªç»„åˆé—®é¢˜ï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªç›´è§‚çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨æš´åŠ›æšä¸¾æ³•ï¼Œæˆ‘ä»¬æšä¸¾æ‰€æœ‰å¯èƒ½çš„ç»„åˆï¼Œå¹¶æ‰¾åˆ°å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•°æœ€å°çš„ä¸€ä¸ªã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„å…¬å¼æ¥è¡¨è¿°è¿™ä¸ªé—®é¢˜ï¼š</p><p><code>numSquares(n)=min(numSquares(n-k)+1) âˆ€kâˆˆ square numbers</code></p><p>ä»ä¸Šé¢çš„å…¬å¼ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è½¬æ¢ä¸ºé€’å½’è§£å†³æ–¹æ¡ˆã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ã€‚</p><p><strong>ç®—æ³•ï¼š</strong></p><details>    <summary>æš´åŠ›æšä¸¾æ³•</summary><figure class="highlight python"><figcaption><span>[solution1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numSquares</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        square_nums = [i**<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, int(math.sqrt(n))+<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">minNumSquares</span><span class="params">(k)</span>:</span></span><br><span class="line">            <span class="string">""" recursive solution """</span></span><br><span class="line">            <span class="comment"># bottom cases: find a square number</span></span><br><span class="line">            <span class="keyword">if</span> k <span class="keyword">in</span> square_nums:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">            min_num = float(<span class="string">'inf'</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Find the minimal value among all possible solutions</span></span><br><span class="line">            <span class="keyword">for</span> square <span class="keyword">in</span> square_nums:</span><br><span class="line">                <span class="keyword">if</span> k &lt; square:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                new_num = minNumSquares(k-square) + <span class="number">1</span></span><br><span class="line">                min_num = min(min_num, new_num)</span><br><span class="line">            <span class="keyword">return</span> min_num</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> minNumSquares(n)</span><br></pre></td></tr></table></figure></details><p>ä¸Šé¢çš„è§£å†³æ–¹æ¡ˆå¯ä»¥é€‚ç”¨äºè¾ƒå°çš„æ­£æ•´æ•° <code>n</code>ã€‚ç„¶è€Œï¼Œä¼šå‘ç°å¯¹äºä¸­ç­‰å¤§å°çš„æ•°å­—ï¼ˆä¾‹å¦‚ 55ï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿä¼šå¾ˆå¿«é‡åˆ°è¶…å‡ºæ—¶é—´é™åˆ¶çš„é—®é¢˜ã€‚</p><p>ç®€å•çš„è¯´ï¼Œå¯èƒ½ä¼šç”±äºè¿‡åº¦é€’å½’ï¼Œäº§ç”Ÿå †æ ˆæº¢å‡ºã€‚</p><h1 id="æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"><a href="#æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"></a>æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’</h1><p>ä½¿ç”¨æš´åŠ›æšä¸¾æ³•ä¼šè¶…å‡ºæ—¶é—´é™åˆ¶çš„åŸå› å¾ˆç®€å•ï¼Œå› ä¸ºæˆ‘ä»¬é‡å¤çš„è®¡ç®—äº†ä¸­é—´è§£ã€‚æˆ‘ä»¬ä»¥å‰çš„å…¬å¼ä»ç„¶æ˜¯æœ‰æ•ˆçš„ã€‚æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•å®ç°è¿™ä¸ªå…¬å¼ã€‚</p><p><code>numSquares(n)=min(numSquares(n-k)+1) âˆ€kâˆˆ square numbers</code></p><p>ä½ å¯èƒ½æ³¨æ„åˆ°ä»å…¬å¼çœ‹æ¥ï¼Œè¿™ä¸ªé—®é¢˜å’Œ<a href="https://leetcode.com/problems/fibonacci-number/" target="_blank" rel="noopener">æ–æ³¢é‚£å¥‘æ•°é—®é¢˜</a>ç±»ä¼¼ã€‚å’Œæ–æ³¢é‚£å¥‘æ•°ä¸€æ ·ï¼Œæˆ‘ä»¬ç”±å‡ ç§æ›´æœ‰æ•ˆçš„æ–¹æ³•æ¥è®¡ç®—è§£ï¼Œè€Œä¸æ˜¯ç®€å•çš„é€’å½’ã€‚</p><p>è§£å†³é€’å½’ä¸­å †æ ˆæº¢å‡ºçš„é—®é¢˜çš„ä¸€ä¸ªæ€è·¯å°±æ˜¯ä½¿ç”¨åŠ¨æ€è§„åˆ’ï¼ˆDPï¼‰æŠ€æœ¯ï¼Œè¯¥æŠ€æœ¯å»ºç«‹åœ¨é‡ç”¨ä¸­é—´è§£çš„ç»“æœæ¥è®¡ç®—ç»ˆè§£çš„æ€æƒ³ä¹‹ä¸Šã€‚</p><p>è¦è®¡ç®—numSquares(n) çš„å€¼ï¼Œé¦–å…ˆè¦è®¡ç®— <em>n</em> ä¹‹å‰çš„æ‰€æœ‰å€¼ï¼Œå³ numSquares(n-k) ã€‚å¦‚æœæˆ‘ä»¬å·²ç»åœ¨æŸä¸ªåœ°æ–¹ä¿ç•™äº†æ•°å­— <em>n-k</em> çš„è§£ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦ä½¿ç”¨é€’å½’è®¡ç®—ã€‚</p><p><strong>ç®—æ³•ï¼š</strong></p><p>åŸºäºä¸Šè¿°æ‰€è¯´ï¼Œæˆ‘ä¹ˆå¯ä»¥åœ¨ä»¥ä¸‹æ­¥éª¤å®ç° DP è§£å†³æ–¹æ¡ˆã€‚</p><ul><li>å‡ ä¹æ‰€æœ‰çš„åŠ¨æ€è§„åˆ’è§£å†³æ–¹æ¡ˆï¼Œé¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ªä¸€ç»´æˆ–å¤šç»´æ•°ç»„ DP æ¥ä¿å­˜ä¸­é—´å­è§£çš„å€¼ï¼Œä»¥åŠé€šå¸¸æ•°ç»„æœ€åä¸€ä¸ªå€¼ä»£è¡¨æœ€ç»ˆè§£ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªè™šæ„çš„å…ƒç´  <code>dp[0]=0</code> æ¥ç®€åŒ–é€»è¾‘ï¼Œè¿™æœ‰åŠ©äºåœ¨åœ¨ä½™æ•° (<code>n-k</code>ï¼‰æ°å¥½æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°çš„æƒ…å†µä¸‹ã€‚</li><li>æˆ‘ä»¬è¿˜éœ€è¦é¢„è®¡ç®—å°äºç»™å®šæ•°å­— <code>n</code> çš„å®Œå…¨å¹³æ–¹æ•°åˆ—è¡¨ï¼ˆå³ <code>square_nums</code>ï¼‰ã€‚</li><li>åœ¨ä¸»è¦æ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬ä»æ•°å­— <code>1</code> å¾ªç¯åˆ° <code>n</code>ï¼Œè®¡ç®—æ¯ä¸ªæ•°å­— <code>i</code> çš„è§£ï¼ˆå³ <code>numSquares(i)</code>ï¼‰ã€‚æ¯æ¬¡è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬å°† <code>numSquares(i)</code> çš„ç»“æœä¿å­˜åœ¨ <code>dp[i]</code> ä¸­ã€‚</li><li>åœ¨å¾ªç¯ç»“æŸæ—¶ï¼Œæˆ‘ä»¬è¿”å›æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ä½œä¸ºè§£å†³æ–¹æ¡ˆçš„ç»“æœã€‚</li><li>åœ¨ä¸‹å›¾ä¸­ï¼Œæˆ‘ä»¬æ¼”ç¤ºäº†å¦‚ä½•è®¡ç®—ä¸ <code>dp[4]</code> å’Œ <code>dp[5]</code> ç›¸å¯¹åº”çš„ <code>numSquares(4)</code> å’Œ <code>numSquares(5)</code> çš„ç»“æœã€‚</li></ul><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMubGVldGNvZGUtY24uY29tL0ZpZ3VyZXMvMjc5LzI3OV9kcC5wbmc?x-oss-process=image/format,png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¸‹é¢æ˜¯ç¤ºä¾‹å®ç°ï¼Œå…¶ä¸­ Python è§£å†³æ–¹æ¡ˆèŠ±è´¹äº†çº¦ 3500 msï¼Œè¿™æ¯”å½“æ—¶ 50% çš„æäº¤è¦å¿«ã€‚</p><p>æ³¨æ„ï¼šä»¥ä¸‹ Python è§£å†³æ–¹æ¡ˆä»…é€‚ç”¨äº Python2ã€‚å‡ºäºæŸç§æœªçŸ¥çš„åŸå› ï¼ŒPython3 è¿è¡Œç›¸åŒçš„ä»£ç éœ€è¦æ›´é•¿çš„æ—¶é—´ã€‚</p><details>    <summary>åŠ¨æ€è§„åˆ’Python</summary><figure class="highlight python"><figcaption><span>[solution2-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numSquares</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        square_nums = [i**<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, int(math.sqrt(n))+<span class="number">1</span>)]</span><br><span class="line">        </span><br><span class="line">        dp = [float(<span class="string">'inf'</span>)] * (n+<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># bottom case</span></span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> square <span class="keyword">in</span> square_nums:</span><br><span class="line">                <span class="keyword">if</span> i &lt; square:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                dp[i] = min(dp[i], dp[i-square] + <span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">-1</span>]</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’Java</summary><figure class="highlight java"><figcaption><span>[solution2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSquares</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> dp[] = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    Arrays.fill(dp, Integer.MAX_VALUE);</span><br><span class="line">    <span class="comment">// bottom case</span></span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// pre-calculate the square numbers.</span></span><br><span class="line">    <span class="keyword">int</span> max_square_index = (<span class="keyword">int</span>) Math.sqrt(n) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> square_nums[] = <span class="keyword">new</span> <span class="keyword">int</span>[max_square_index];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; max_square_index; ++i) &#123;</span><br><span class="line">      square_nums[i] = i * i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> s = <span class="number">1</span>; s &lt; max_square_index; ++s) &#123;</span><br><span class="line">        <span class="comment">//ä¸ºäº†ä½¿dp[i - square_nums[s]] æ•°ç»„ä¸è¶Šç•Œ</span></span><br><span class="line">        <span class="keyword">if</span> (i &lt; square_nums[s])</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        dp[i] = Math.min(dp[i], dp[i - square_nums[s]] + <span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(n<em>n^1/2) ï¼Œåœ¨ä¸»æ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªåµŒå¥—å¾ªç¯ï¼Œå…¶ä¸­å¤–éƒ¨å¾ªç¯æ˜¯ *n</em> æ¬¡è¿­ä»£ï¼Œè€Œå†…éƒ¨å¾ªç¯æœ€å¤šéœ€è¦ n^1/2  è¿­ä»£ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(n) ï¼Œä½¿ç”¨äº†ä¸€ä¸ªä¸€ç»´æ•°ç»„ dpã€‚</li></ul><h1 id="æ–¹æ³•ä¸‰ï¼šè´ªå¿ƒæšä¸¾"><a href="#æ–¹æ³•ä¸‰ï¼šè´ªå¿ƒæšä¸¾" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šè´ªå¿ƒæšä¸¾"></a>æ–¹æ³•ä¸‰ï¼šè´ªå¿ƒæšä¸¾</h1><p>é€’å½’è§£å†³æ–¹æ³•ä¸ºæˆ‘ä»¬ç†è§£é—®é¢˜æä¾›äº†ç®€æ´ç›´è§‚çš„æ–¹æ³•ã€‚æˆ‘ä»¬ä»ç„¶å¯ä»¥ç”¨é€’å½’è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä¸ºäº†æ”¹è¿›ä¸Šè¿°æš´åŠ›æšä¸¾è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é€’å½’ä¸­åŠ å…¥è´ªå¿ƒã€‚æˆ‘ä»¬å¯ä»¥å°†æšä¸¾é‡æ–°æ ¼å¼åŒ–å¦‚ä¸‹ï¼š</p><p>ä»ä¸€ä¸ªæ•°å­—åˆ°å¤šä¸ªæ•°å­—çš„ç»„åˆå¼€å§‹ï¼Œä¸€æ—¦æˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªå¯ä»¥ç»„åˆæˆç»™å®šæ•°å­— <code>n</code> çš„ç»„åˆï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¯´æˆ‘ä»¬æ‰¾åˆ°äº†æœ€å°çš„ç»„åˆï¼Œå› ä¸ºæˆ‘ä»¬è´ªå¿ƒçš„ä»å°åˆ°å¤§çš„æšä¸¾ç»„åˆã€‚</p><p>ä¸ºäº†æ›´å¥½çš„è§£é‡Šï¼Œæˆ‘ä»¬é¦–å…ˆå®šä¹‰ä¸€ä¸ªåä¸º <code>is_divided_by(n, count)</code> çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ•°å­— <code>n</code> æ˜¯å¦å¯ä»¥è¢«ä¸€ä¸ªæ•°å­— <code>count</code> ç»„åˆï¼Œè€Œä¸æ˜¯åƒå‰é¢å‡½æ•° <code>numSquares(n)</code> è¿”å›ç»„åˆçš„ç¡®åˆ‡å¤§å°ã€‚</p><p> <code>numSquares(n)=argmin(is_divided_by(n,count)  countâˆˆ[1,2,...,n]</code></p><p>ä¸é€’å½’å‡½æ•° <code>numSquare(n)</code> ä¸åŒï¼Œ<code>is_divided_by(n, count)</code> çš„é€’å½’è¿‡ç¨‹å¯ä»¥å½’ç»“ä¸ºåº•éƒ¨æƒ…å†µï¼ˆå³ <code>count==1</code>ï¼‰æ›´å¿«ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå…³äºå‡½æ•° <code>is_divided_by(n, count)</code> çš„ä¾‹å­ï¼Œå®ƒå¯¹ è¾“å…¥ <code>n=5</code> å’Œ <code>count=2</code> è¿›è¡Œäº†åˆ†è§£ã€‚</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMubGVldGNvZGUtY24uY29tL0ZpZ3VyZXMvMjc5LzI3OV9ncmVlZHkucG5n?x-oss-process=image/format,png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>é€šè¿‡è¿™ç§é‡æ–°æ„é€ çš„æŠ€å·§ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾è‘—é™ä½å †æ ˆæº¢å‡ºçš„é£é™©ã€‚</p><p><strong>ç®—æ³•ï¼š</strong></p><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬å‡†å¤‡ä¸€ä¸ªå°äºç»™å®šæ•°å­— <code>n</code> çš„å®Œå…¨å¹³æ–¹æ•°åˆ—è¡¨ï¼ˆç§°ä¸º <code>square_nums</code>ï¼‰ã€‚</li><li>åœ¨ä¸»å¾ªç¯ä¸­ï¼Œå°†ç»„åˆçš„å¤§å°ï¼ˆç§°ä¸º <code>count</code>ï¼‰ä» <code>1</code> è¿­ä»£åˆ° <code>n</code>ï¼Œæˆ‘ä»¬æ£€æŸ¥æ•°å­— <code>n</code> æ˜¯å¦å¯ä»¥é™¤ä»¥ç»„åˆçš„å’Œï¼Œå³ <code>is_divided_by(n, count)</code>ã€‚</li><li>å‡½æ•° <code>is_divided_by(n, count)</code> å¯ä»¥ç”¨é€’å½’çš„å½¢å¼å®ç°ï¼Œæ±ä¸Šé¢æ‰€è¯´ã€‚</li><li>åœ¨æœ€ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æœ‰ <code>count==1</code>ï¼Œæˆ‘ä»¬åªéœ€æ£€æŸ¥æ•°å­— <code>n</code> æ˜¯å¦æœ¬èº«æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ã€‚å¯ä»¥åœ¨ <code>square_nums</code> ä¸­æ£€æŸ¥ï¼Œå³ <code>n âˆˆ square_nums</code> ã€‚å¦‚æœ <code>square_nums</code> ä½¿ç”¨çš„æ˜¯é›†åˆæ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—æ¯” <code>n == int(sqrt(n)) ^ 2</code> æ›´å¿«çš„è¿è¡Œæ—¶é—´ã€‚</li></ul><p>å…³äºç®—æ³•çš„æ­£ç¡®æ€§ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åè¯æ³•æ¥è¯æ˜è´ªå¿ƒç®—æ³•ã€‚è¿™ä¹Ÿä¸ä¾‹å¤–ã€‚å‡è®¾æˆ‘ä»¬å‘ç° <code>count=m</code> å¯ä»¥é™¤ä»¥ <code>n</code>ï¼Œå¹¶ä¸”å‡è®¾åœ¨ä»¥åçš„è¿­ä»£ä¸­å­˜åœ¨å¦ä¸€ä¸ª <code>count=p</code> ä¹Ÿå¯ä»¥é™¤ä»¥ <code>n</code>ï¼Œå¹¶ä¸”è¿™ä¸ªæ•°çš„ç»„åˆå°äºæ‰¾åˆ°çš„æ•°ï¼Œå³ <code>p&lt;m</code>ã€‚å¦‚æœç»™å®šè¿­ä»£çš„é¡ºåºï¼Œ<code>count = p</code> ä¼šåœ¨ <code>count=m</code> ä¹‹å‰è¢«å‘ç°ï¼Œå› æ­¤ï¼Œè¯¥ç®—æ³•æ€»æ˜¯èƒ½å¤Ÿæ‰¾åˆ°ç»„åˆçš„æœ€å°å¤§å°ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€äº›ç¤ºä¾‹å®ç°ã€‚Python è§£å†³æ–¹æ¡ˆéœ€è¦å¤§çº¦ 70msï¼Œè¿™æ¯”å½“æ—¶å¤§çº¦ 90% çš„æäº¤è¦å¿«ã€‚</p><details>    <summary>è´ªå¿ƒæšä¸¾Python</summary><figure class="highlight python"><figcaption><span>[solution3-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numSquares</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">is_divided_by</span><span class="params">(n, count)</span>:</span></span><br><span class="line">            <span class="string">"""</span></span><br><span class="line"><span class="string">                return: true if "n" can be decomposed into "count" number of perfect square numbers.</span></span><br><span class="line"><span class="string">                e.g. n=12, count=3:  true.</span></span><br><span class="line"><span class="string">                     n=12, count=2:  false</span></span><br><span class="line"><span class="string">            """</span></span><br><span class="line">            <span class="keyword">if</span> count == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> n <span class="keyword">in</span> square_nums</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> square_nums:</span><br><span class="line">                <span class="keyword">if</span> is_divided_by(n - k, count - <span class="number">1</span>):</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line">        square_nums = set([i * i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, int(n**<span class="number">0.5</span>)+<span class="number">1</span>)])</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">for</span> count <span class="keyword">in</span> range(<span class="number">1</span>, n+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> is_divided_by(n, count):</span><br><span class="line">                <span class="keyword">return</span> count</span><br></pre></td></tr></table></figure></details><details>    <summary>è´ªå¿ƒæšä¸¾Java</summary><figure class="highlight java"><figcaption><span>[solution3-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  Set&lt;Integer&gt; square_nums = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">is_divided_by</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> count)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (count == <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> square_nums.contains(n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (Integer square : square_nums) &#123;</span><br><span class="line">      <span class="keyword">if</span> (is_divided_by(n - square, count - <span class="number">1</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSquares</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.square_nums.clear();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i * i &lt;= n; ++i) &#123;</span><br><span class="line">      <span class="keyword">this</span>.square_nums.add(i * i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (; count &lt;= n; ++count) &#123;</span><br><span class="line">      <span class="keyword">if</span> (is_divided_by(n, count))</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><p>å‚è§<a href="https://leetcode-cn.com/problems/perfect-squares/solution/wan-quan-ping-fang-shu-by-leetcode/" target="_blank" rel="noopener">^1</a></p><h1 id="æ–¹æ³•å››ï¼šè´ªå¿ƒ-BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰"><a href="#æ–¹æ³•å››ï¼šè´ªå¿ƒ-BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰" class="headerlink" title="æ–¹æ³•å››ï¼šè´ªå¿ƒ + BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰"></a>æ–¹æ³•å››ï¼šè´ªå¿ƒ + BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰</h1><p>æ­£å¦‚ä¸Šè¿°è´ªå¿ƒç®—æ³•çš„å¤æ‚æ€§åˆ†æç§æåˆ°çš„ï¼Œè°ƒç”¨å †æ ˆçš„è½¨è¿¹å½¢æˆä¸€é¢— N å…ƒæ ‘ï¼Œå…¶ä¸­æ¯ä¸ªç»“ç‚¹ä»£è¡¨ <code>is_divided_by(n, count)</code> å‡½æ•°çš„è°ƒç”¨ã€‚åŸºäºä¸Šè¿°æƒ³æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠåŸæ¥çš„é—®é¢˜é‡æ–°è¡¨è¿°å¦‚ä¸‹ï¼š</p><p>ç»™å®šä¸€ä¸ª N å…ƒæ ‘ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºæ•°å­— n çš„ä½™æ•°å‡å»ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°çš„ç»„åˆï¼Œæˆ‘ä»¬çš„ä»»åŠ¡æ˜¯åœ¨æ ‘ä¸­æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š</p><p>(1) èŠ‚ç‚¹çš„å€¼ï¼ˆå³ä½™æ•°ï¼‰ä¹Ÿæ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ã€‚<br>(2) åœ¨æ»¡è¶³æ¡ä»¶ï¼ˆ1ï¼‰çš„æ‰€æœ‰èŠ‚ç‚¹ä¸­ï¼ŒèŠ‚ç‚¹å’Œæ ¹ä¹‹é—´çš„è·ç¦»åº”è¯¥æœ€å°ã€‚</p><p>ä¸‹é¢æ˜¯è¿™æ£µæ ‘çš„æ ·å­ã€‚</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMubGVldGNvZGUtY24uY29tL0ZpZ3VyZXMvMjc5LzI3OV9ncmVlZHlfdHJlZS5wbmc?x-oss-process=image/format,png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>åœ¨å‰é¢çš„æ–¹æ³•3ä¸­ï¼Œç”±äºæˆ‘ä»¬æ‰§è¡Œè°ƒç”¨çš„è´ªå¿ƒç­–ç•¥ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯ä»ä¸Šåˆ°ä¸‹é€å±‚æ„é€  N å…ƒæ ‘ã€‚æˆ‘ä»¬ä»¥ BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰çš„æ–¹å¼éå†å®ƒã€‚åœ¨ N å…ƒæ ‘çš„æ¯ä¸€çº§ï¼Œæˆ‘ä»¬éƒ½åœ¨æšä¸¾ç›¸åŒå¤§å°çš„ç»„åˆã€‚</p><p>éå†çš„é¡ºåºæ˜¯ BFSï¼Œè€Œä¸æ˜¯ DFSï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰ï¼Œè¿™æ˜¯å› ä¸ºåœ¨ç”¨å°½å›ºå®šæ•°é‡çš„å®Œå…¨å¹³æ–¹æ•°åˆ†è§£æ•°å­— n çš„æ‰€æœ‰å¯èƒ½æ€§ä¹‹å‰ï¼Œæˆ‘ä»¬ä¸ä¼šæ¢ç´¢ä»»ä½•éœ€è¦æ›´å¤šå…ƒç´ çš„æ½œåœ¨ç»„åˆã€‚</p><p><strong>ç®—æ³•ï¼š</strong></p><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬å‡†å¤‡å°äºç»™å®šæ•°å­— <code>n</code> çš„å®Œå…¨å¹³æ–¹æ•°åˆ—è¡¨ï¼ˆå³ <code>square_nums</code>ï¼‰ã€‚</li><li>ç„¶ååˆ›å»º <code>queue</code> éå†ï¼Œè¯¥å˜é‡å°†ä¿å­˜æ‰€æœ‰å‰©ä½™é¡¹åœ¨æ¯ä¸ªçº§åˆ«çš„æšä¸¾ã€‚</li><li>åœ¨ä¸»å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬è¿­ä»£ <code>queue</code> å˜é‡ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬æ£€æŸ¥ä½™æ•°æ˜¯å¦æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ã€‚å¦‚æœä½™æ•°ä¸æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œå°±ç”¨å…¶ä¸­ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°å‡å»å®ƒï¼Œå¾—åˆ°ä¸€ä¸ªæ–°ä½™æ•°ï¼Œç„¶åå°†æ–°ä½™æ•°æ·»åŠ åˆ° <code>next_queue</code> ä¸­ï¼Œä»¥è¿›è¡Œä¸‹ä¸€çº§çš„è¿­ä»£ã€‚ä¸€æ—¦é‡åˆ°ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°çš„ä½™æ•°ï¼Œæˆ‘ä»¬å°±ä¼šè·³å‡ºå¾ªç¯ï¼Œè¿™ä¹Ÿæ„å‘³ç€æˆ‘ä»¬æ‰¾åˆ°äº†è§£ã€‚</li></ul><p>æ³¨æ„ï¼šåœ¨å…¸å‹çš„ BFS ç®—æ³•ä¸­ï¼Œ<code>queue</code> å˜é‡é€šå¸¸æ˜¯æ•°ç»„æˆ–åˆ—è¡¨ç±»å‹ã€‚ä½†æ˜¯ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ <code>set</code> ç±»å‹ï¼Œä»¥æ¶ˆé™¤åŒä¸€çº§åˆ«ä¸­çš„å‰©ä½™é¡¹çš„å†—ä½™ã€‚äº‹å®è¯æ˜ï¼Œè¿™ä¸ªå°æŠ€å·§ç”šè‡³å¯ä»¥å¢åŠ  5 å€çš„è¿è¡ŒåŠ é€Ÿã€‚</p><p>åœ¨ä¸‹å›¾ä¸­ï¼Œæˆ‘ä»¬ä»¥ <code>numSquares(7)</code> ä¸ºä¾‹è¯´æ˜é˜Ÿåˆ—çš„å¸ƒå±€ã€‚</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMubGVldGNvZGUtY24uY29tL0ZpZ3VyZXMvMjc5LzI3OV9ncmVlZHlfYmZzLnBuZw?x-oss-process=image/format,png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><details>    <summary>è´ªå¿ƒ + BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰Python</summary><figure class="highlight python"><figcaption><span>[solution4-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numSquares</span><span class="params">(self, n)</span>:</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># list of square numbers that are less than `n`</span></span><br><span class="line">        square_nums = [i * i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, int(n**<span class="number">0.5</span>)+<span class="number">1</span>)]</span><br><span class="line">    </span><br><span class="line">        level = <span class="number">0</span></span><br><span class="line">        queue = &#123;n&#125;</span><br><span class="line">        <span class="keyword">while</span> queue:</span><br><span class="line">            level += <span class="number">1</span></span><br><span class="line">            <span class="comment">#! Important: use set() instead of list() to eliminate the redundancy,</span></span><br><span class="line">            <span class="comment"># which would even provide a 5-times speedup, 200ms vs. 1000ms.</span></span><br><span class="line">            next_queue = set()</span><br><span class="line">            <span class="comment"># construct the queue for the next level</span></span><br><span class="line">            <span class="keyword">for</span> remainder <span class="keyword">in</span> queue:</span><br><span class="line">                <span class="keyword">for</span> square_num <span class="keyword">in</span> square_nums:    </span><br><span class="line">                    <span class="keyword">if</span> remainder == square_num:</span><br><span class="line">                        <span class="keyword">return</span> level  <span class="comment"># find the node!</span></span><br><span class="line">                    <span class="keyword">elif</span> remainder &lt; square_num:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        next_queue.add(remainder - square_num)</span><br><span class="line">            queue = next_queue</span><br><span class="line">        <span class="keyword">return</span> level</span><br></pre></td></tr></table></figure></details><details>    <summary>è´ªå¿ƒ + BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰Java</summary><figure class="highlight java"><figcaption><span>[solution4-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSquares</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    ArrayList&lt;Integer&gt; square_nums = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i * i &lt;= n; ++i) &#123;</span><br><span class="line">      square_nums.add(i * i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Set&lt;Integer&gt; queue = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line">    queue.add(n);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> level = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (queue.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      level += <span class="number">1</span>;</span><br><span class="line">      Set&lt;Integer&gt; next_queue = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (Integer remainder : queue) &#123;</span><br><span class="line">        <span class="keyword">for</span> (Integer square : square_nums) &#123;</span><br><span class="line">          <span class="keyword">if</span> (remainder.equals(square)) &#123;</span><br><span class="line">            <span class="keyword">return</span> level;</span><br><span class="line">          &#125; <span class="keyword">else</span> <span class="keyword">if</span> (remainder &lt; square) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            next_queue.add(remainder - square);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      queue = next_queue;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> level;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><p>å‚è§<a href="https://leetcode-cn.com/problems/perfect-squares/solution/wan-quan-ping-fang-shu-by-leetcode/" target="_blank" rel="noopener">^1</a></p><h1 id="æ–¹æ³•äº”ï¼šæ•°å­¦è¿ç®—"><a href="#æ–¹æ³•äº”ï¼šæ•°å­¦è¿ç®—" class="headerlink" title="æ–¹æ³•äº”ï¼šæ•°å­¦è¿ç®—"></a>æ–¹æ³•äº”ï¼šæ•°å­¦è¿ç®—</h1><p>å‚è§<a href="https://leetcode-cn.com/problems/perfect-squares/solution/wan-quan-ping-fang-shu-by-leetcode/" target="_blank" rel="noopener">^1</a></p><p>éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå·²ç»æå‡ºå¹¶è¯æ˜çš„æ•°å­¦å®šç†å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æŠŠè¿™ä¸ªé—®é¢˜åˆ†æˆå‡ ä¸ªä¾‹å­ã€‚</p><p>1770 å¹´ï¼Œ<a href="https://en.wikipedia.org/wiki/Lagrange%27s_four-square_theorem" target="_blank" rel="noopener">Joseph Louis Lagrange</a>è¯æ˜äº†ä¸€ä¸ªå®šç†ï¼Œç§°ä¸ºå››å¹³æ–¹å’Œå®šç†ï¼Œä¹Ÿç§°ä¸º Bachet çŒœæƒ³ï¼Œå®ƒæŒ‡å‡ºæ¯ä¸ªè‡ªç„¶æ•°éƒ½å¯ä»¥è¡¨ç¤ºä¸ºå››ä¸ªæ•´æ•°å¹³æ–¹å’Œï¼š</p><p><em>p=a_{0}^{2}+a_{1}^{2}+a_{2}^{2}+a_{3}^{2}</em></p><p>å…¶ä¸­ <em>a_{0},a_{1},a_{2},a_{3}</em> è¡¨ç¤ºæ•´æ•°ã€‚</p><p>ä¾‹å¦‚ï¼Œ3ï¼Œ31 å¯ä»¥è¢«è¡¨ç¤ºä¸ºå››å¹³æ–¹å’Œå¦‚ä¸‹ï¼š<br><img src="./p__3=1%5E%7B2%7D+1%5E%7B2%7D+1%5E%7B2%7D+0%5E%7B2%7D_qquad_31=5%5E%7B2%7D+2%5E%7B2%7D+1%5E%7B2%7D+1%5E%7B2%7D_.png" alt="3=1^{2}+1^{2}+1^{2}+0^{2}\qquad31=5^{2}+2^{2}+1^{2}+1^{2} "> </p><p>æƒ…å†µ 1ï¼šæ‹‰æ ¼æœ—æ—¥å››å¹³æ–¹å®šç†è®¾ç½®äº†é—®é¢˜ç»“æœçš„ä¸Šç•Œï¼Œå³å¦‚æœæ•° <code>n</code> ä¸èƒ½åˆ†è§£ä¸ºè¾ƒå°‘çš„å®Œå…¨å¹³æ–¹æ•°ï¼Œåˆ™è‡³å°‘å¯ä»¥åˆ†è§£ä¸º 4ä¸ªå®Œå…¨å¹³æ–¹æ•°ä¹‹å’Œï¼Œå³ <img src="./p__text%7BnumSquares%7D_n__le_4_.png" alt="\text{numSquares}(n)\le4 "> ã€‚</p><p>æ­£å¦‚æˆ‘ä»¬åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­å¯èƒ½æ³¨æ„åˆ°çš„ï¼Œæ•°å­— 0 ä¹Ÿè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®¤ä¸ºæ•°å­— 3 å¯ä»¥åˆ†è§£ä¸º 3 ä¸ªæˆ–  4 ä¸ªå®Œå…¨å¹³æ–¹æ•°ã€‚</p><p>ç„¶è€Œï¼Œæ‹‰æ ¼æœ—æ—¥å››å¹³æ–¹å®šç†å¹¶æ²¡æœ‰ç›´æ¥å‘Šè¯‰æˆ‘ä»¬ç”¨æœ€å°å¹³æ–¹æ•°æ¥åˆ†è§£è‡ªç„¶æ•°ã€‚</p><p>åæ¥ï¼Œåœ¨ 1797 å¹´ï¼Œ<a href="https://en.wikipedia.org/wiki/Adrien-Marie_Legendre" target="_blank" rel="noopener">Adrien Marie Legendre</a>ç”¨ä»–çš„ä¸‰å¹³æ–¹å®šç†å®Œæˆäº†å››å¹³æ–¹å®šç†ï¼Œè¯æ˜äº†æ­£æ•´æ•°å¯ä»¥è¡¨ç¤ºä¸ºä¸‰ä¸ªå¹³æ–¹å’Œçš„ä¸€ä¸ªç‰¹æ®Šæ¡ä»¶ï¼š</p><p><img src="./p__n_ne_4%5E%7Bk%7D_8m+7__iff_n_=_a_%7B0%7D%5E%7B2%7D+a_%7B1%7D%5E%7B2%7D+a_%7B2%7D%5E%7B2%7D_.png" alt="n\ne4^{k}(8m+7)\iffn=a_{0}^{2}+a_{1}^{2}+a_{2}^{2} "> </p><p>å…¶ä¸­ <em>k</em> å’Œ <em>m</em> æ˜¯æ•´æ•°ã€‚</p><p>æƒ…å†µ 2ï¼šä¸å››å¹³æ–¹å®šç†ä¸åŒï¼ŒAdrien-Marie-Legendre çš„ä¸‰å¹³æ–¹å®šç†ç»™äº†æˆ‘ä»¬ä¸€ä¸ªå……åˆ†å¿…è¦çš„æ¡ä»¶æ¥æ£€éªŒè¿™ä¸ªæ•°æ˜¯å¦åªèƒ½åˆ†è§£æˆ 4 ä¸ªå¹³æ–¹ã€‚</p><p>ä»ä¸‰å¹³æ–¹å®šç†çœ‹æˆ‘ä»¬åœ¨ç¬¬ 2 ç§æƒ…å†µä¸‹å¾—å‡ºçš„ç»“è®ºå¯èƒ½å¾ˆéš¾ã€‚è®©æˆ‘ä»¬è¯¦ç»†è¯´æ˜ä¸€ä¸‹æ¨è®ºè¿‡ç¨‹ã€‚</p><p>é¦–å…ˆï¼Œä¸‰å¹³æ–¹å®šç†å‘Šè¯‰æˆ‘ä»¬ï¼Œå¦‚æœ <code>n</code> çš„å½¢å¼æ˜¯ <em>n = 4^{k}(8m+7)</em>ï¼Œé‚£ä¹ˆ <code>n</code> ä¸èƒ½åˆ†è§£ä¸º 3 ä¸ªå¹³æ–¹çš„å’Œã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ–­è¨€ <code>n</code> ä¸èƒ½åˆ†è§£ä¸ºä¸¤ä¸ªå¹³æ–¹å’Œï¼Œæ•°æœ¬èº«ä¹Ÿä¸æ˜¯å®Œå…¨å¹³æ–¹æ•°ã€‚å› ä¸ºå‡è®¾æ•° <code>n</code> å¯ä»¥åˆ†è§£ä¸º <em>n = a_{0}^{2}+a_{1}^{2}</em>ï¼Œç„¶åé€šè¿‡åœ¨è¡¨è¾¾å¼ä¸­æ·»åŠ å¹³æ–¹æ•° 0ï¼Œå³ <em>n = a_{0}^{2}+a_{1}^{2} + 0^2</em>ï¼Œæˆ‘ä»¬å¾—åˆ°äº†æ•° <code>n</code> å¯ä»¥åˆ†è§£ä¸º 3 ä¸ªå¹³æ–¹çš„ç»“è®ºï¼Œè¿™ä¸ä¸‰å¹³æ–¹å®šç†ç›¸çŸ›ç›¾ã€‚å› æ­¤ï¼Œç»“åˆå››å¹³æ–¹å®šç†ï¼Œæˆ‘ä»¬å¯ä»¥æ–­è¨€ï¼Œå¦‚æœè¿™ä¸ªæ•°ä¸æ»¡è¶³ä¸‰å¹³æ–¹å®šç†çš„æ¡ä»¶ï¼Œå®ƒåªèƒ½åˆ†è§£æˆå››ä¸ªå¹³æ–¹å’Œã€‚</p><p>å¦‚æœè¿™ä¸ªæ•°æ»¡è¶³ä¸‰å¹³æ–¹å®šç†çš„æ¡ä»¶ï¼Œåˆ™å¯ä»¥åˆ†è§£æˆä¸‰ä¸ªå®Œå…¨å¹³æ–¹æ•°ã€‚ä½†æˆ‘ä»¬ä¸çŸ¥é“çš„æ˜¯ï¼Œå¦‚æœè¿™ä¸ªæ•°å¯ä»¥åˆ†è§£æˆæ›´å°‘çš„å®Œå…¨å¹³æ–¹æ•°ï¼Œå³ä¸€ä¸ªæˆ–ä¸¤ä¸ªå®Œå…¨å¹³æ–¹æ•°ã€‚</p><p>æ‰€ä»¥åœ¨æˆ‘ä»¬æŠŠè¿™ä¸ªæ•°è§†ä¸ºåº•éƒ¨æƒ…å†µï¼ˆä¸‰å¹³æ–¹å®šç†ï¼‰ä¹‹å‰ï¼Œè¿˜æœ‰ä¸¤ç§æƒ…å†µéœ€è¦æ£€æŸ¥ï¼Œå³ï¼š</p><p>æƒ…å†µ 3.1ï¼šå¦‚æœæ•°å­—æœ¬èº«æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œè¿™å¾ˆå®¹æ˜“æ£€æŸ¥ï¼Œä¾‹å¦‚ <code>n == int(sqrt(n)) ^ 2</code>ã€‚</p><p>æƒ…å†µ 3.2ï¼šå¦‚æœè¿™ä¸ªæ•°å¯ä»¥åˆ†è§£æˆä¸¤ä¸ªå®Œå…¨å¹³æ–¹æ•°å’Œã€‚ä¸å¹¸çš„æ˜¯ï¼Œæ²¡æœ‰ä»»ä½•æ•°å­¦å®šç†å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ£€æŸ¥è¿™ä¸ªæƒ…å†µã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨æšä¸¾æ–¹æ³•ã€‚</p><p><strong>ç®—æ³•ï¼š</strong></p><p>å¯ä»¥æŒ‰ç…§ä¸Šé¢çš„ä¾‹å­æ¥å®ç°è§£å†³æ–¹æ¡ˆã€‚</p><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬æ£€æŸ¥æ•°å­— <code>n</code> çš„å½¢å¼æ˜¯å¦ä¸º <em>n = 4^{k}(8m+7)</em>ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ç›´æ¥è¿”å› 4ã€‚</li><li>å¦åˆ™ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥æ£€æŸ¥è¿™ä¸ªæ•°æœ¬èº«æ˜¯å¦æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œæˆ–è€…è¿™ä¸ªæ•°æ˜¯å¦å¯ä»¥åˆ†è§£ä¸ºä¸¤ä¸ªå®Œå…¨å¹³æ–¹æ•°å’Œã€‚</li><li>åœ¨åº•éƒ¨çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ•°å¯ä»¥åˆ†è§£ä¸º 3 ä¸ªå¹³æ–¹å’Œï¼Œä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®å››å¹³æ–¹å®šç†ï¼Œé€šè¿‡åŠ é›¶ï¼ŒæŠŠå®ƒåˆ†è§£ä¸º 4 ä¸ªå¹³æ–¹ã€‚ä½†æ˜¯æˆ‘ä»¬è¢«è¦æ±‚æ‰¾å‡ºæœ€å°çš„å¹³æ–¹æ•°ã€‚</li></ul><details>    <summary>æ•°å­¦è¿ç®—Python</summary><figure class="highlight python"><figcaption><span>[solution5-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isSquare</span><span class="params">(self, n: int)</span> -&gt; bool:</span></span><br><span class="line">        sq = int(math.sqrt(n))</span><br><span class="line">        <span class="keyword">return</span> sq*sq == n</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numSquares</span><span class="params">(self, n: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># four-square and three-square theorems</span></span><br><span class="line">        <span class="keyword">while</span> (n &amp; <span class="number">3</span>) == <span class="number">0</span>:</span><br><span class="line">            n &gt;&gt;= <span class="number">2</span>      <span class="comment"># reducing the 4^k factor from number</span></span><br><span class="line">        <span class="keyword">if</span> (n &amp; <span class="number">7</span>) == <span class="number">7</span>: <span class="comment"># mod 8</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">4</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> self.isSquare(n):</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="comment"># check if the number can be decomposed into sum of two squares</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, int(n**(<span class="number">0.5</span>)) + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> self.isSquare(n - i*i):</span><br><span class="line">                <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">        <span class="comment"># bottom case from the three-square theorem</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span></span><br></pre></td></tr></table></figure></details><details>    <summary>æ•°å­¦è¿ç®—Java</summary><figure class="highlight java"><figcaption><span>[solution5-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">isSquare</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sq = (<span class="keyword">int</span>) Math.sqrt(n);</span><br><span class="line">    <span class="keyword">return</span> n == sq * sq;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSquares</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// four-square and three-square theorems.</span></span><br><span class="line">    <span class="keyword">while</span> (n % <span class="number">4</span> == <span class="number">0</span>)</span><br><span class="line">      n /= <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">if</span> (n % <span class="number">8</span> == <span class="number">7</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.isSquare(n))</span><br><span class="line">      <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// enumeration to check if the number can be decomposed into sum of two squares.</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i * i &lt;= n; ++i) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.isSquare(n - i * i))</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// bottom case of three-square theorem.</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><p>å‚è§<a href="https://leetcode-cn.com/problems/perfect-squares/solution/wan-quan-ping-fang-shu-by-leetcode/" target="_blank" rel="noopener">^1</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šæ­£æ•´æ•° nï¼Œæ‰¾åˆ°è‹¥å¹²ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼ˆæ¯”å¦‚ 1, 4, 9, 16, â€¦ï¼‰ä½¿å¾—å®ƒä»¬çš„å’Œç­‰äº nã€‚ä½ éœ€è¦è®©ç»„æˆå’Œçš„å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•°æœ€å°‘ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Breadth-first Search" scheme="http://yoursite.com/tags/Breadth-first-Search/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>337. æ‰“å®¶åŠ«èˆIII</title>
    <link href="http://yoursite.com/2020/09/03/337.%20%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8DIII/"/>
    <id>http://yoursite.com/2020/09/03/337. æ‰“å®¶åŠ«èˆIII/</id>
    <published>2020-09-03T09:08:12.000Z</published>
    <updated>2020-09-03T10:29:43.500Z</updated>
    
    <content type="html"><![CDATA[<p>è®¡ç®—åœ¨ä¸è§¦åŠ¨è­¦æŠ¥çš„æƒ…å†µä¸‹ï¼Œå°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ã€‚</p><a id="more"></a><p>åœ¨ä¸Šæ¬¡æ‰“åŠ«å®Œä¸€æ¡è¡—é“ä¹‹åå’Œä¸€åœˆæˆ¿å±‹åï¼Œå°å·åˆå‘ç°äº†ä¸€ä¸ªæ–°çš„å¯è¡Œçªƒçš„åœ°åŒºã€‚è¿™ä¸ªåœ°åŒºåªæœ‰ä¸€ä¸ªå…¥å£ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œæ ¹â€ã€‚ é™¤äº†â€œæ ¹â€ä¹‹å¤–ï¼Œæ¯æ ‹æˆ¿å­æœ‰ä¸”åªæœ‰ä¸€ä¸ªâ€œçˆ¶â€œæˆ¿å­ä¸ä¹‹ç›¸è¿ã€‚ä¸€ç•ªä¾¦å¯Ÿä¹‹åï¼Œèªæ˜çš„å°å·æ„è¯†åˆ°â€œè¿™ä¸ªåœ°æ–¹çš„æ‰€æœ‰æˆ¿å±‹çš„æ’åˆ—ç±»ä¼¼äºä¸€æ£µäºŒå‰æ ‘â€ã€‚ å¦‚æœä¸¤ä¸ªç›´æ¥ç›¸è¿çš„æˆ¿å­åœ¨åŒä¸€å¤©æ™šä¸Šè¢«æ‰“åŠ«ï¼Œæˆ¿å±‹å°†è‡ªåŠ¨æŠ¥è­¦ã€‚</p><p>è®¡ç®—åœ¨ä¸è§¦åŠ¨è­¦æŠ¥çš„æƒ…å†µä¸‹ï¼Œå°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: [3,2,3,null,3,null,1]     3    / \   2   3    \   \      3   1è¾“å‡º: 7 è§£é‡Š: å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = 3 + 3 + 1 = 7.</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: [3,4,5,1,3,null,1]     3    / \   4   5  / \   \  1   3   1è¾“å‡º: 9è§£é‡Š: å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = 4 + 5 = 9.</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’"><a href="#æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’"></a>æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’</h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>ç®€åŒ–ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼šä¸€æ£µäºŒå‰æ ‘ï¼Œæ ‘ä¸Šçš„æ¯ä¸ªç‚¹éƒ½æœ‰å¯¹åº”çš„æƒå€¼ï¼Œæ¯ä¸ªç‚¹æœ‰ä¸¤ç§çŠ¶æ€ï¼ˆé€‰ä¸­å’Œä¸é€‰ä¸­ï¼‰ï¼Œé—®åœ¨ä¸èƒ½åŒæ—¶é€‰ä¸­æœ‰çˆ¶å­å…³ç³»çš„ç‚¹çš„æƒ…å†µä¸‹ï¼Œèƒ½é€‰ä¸­çš„ç‚¹çš„æœ€å¤§æƒå€¼å’Œæ˜¯å¤šå°‘ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç”¨ <em>f(o)</em> è¡¨ç¤ºé€‰æ‹© <em>o</em> èŠ‚ç‚¹çš„æƒ…å†µä¸‹ï¼Œ<em>o</em> èŠ‚ç‚¹çš„å­æ ‘ä¸Šè¢«é€‰æ‹©çš„èŠ‚ç‚¹çš„æœ€å¤§æƒå€¼å’Œï¼›<em>g(o)</em> è¡¨ç¤ºä¸é€‰æ‹© <em>o</em> èŠ‚ç‚¹çš„æƒ…å†µä¸‹ï¼Œ<em>o</em> èŠ‚ç‚¹çš„å­æ ‘ä¸Šè¢«é€‰æ‹©çš„èŠ‚ç‚¹çš„æœ€å¤§æƒå€¼å’Œï¼›<em>l</em> å’Œ <em>r</em> ä»£è¡¨ <em>o</em> çš„å·¦å³å­©å­ã€‚</p><ul><li>å½“ <em>o</em> è¢«é€‰ä¸­æ—¶ï¼Œ<em>o</em> çš„å·¦å³å­©å­éƒ½ä¸èƒ½è¢«é€‰ä¸­ï¼Œæ•… <em>o</em> è¢«é€‰ä¸­æƒ…å†µä¸‹å­æ ‘ä¸Šè¢«é€‰ä¸­ç‚¹çš„æœ€å¤§æƒå€¼å’Œä¸º <em>l</em> å’Œ <em>r</em> ä¸è¢«é€‰ä¸­çš„æœ€å¤§æƒå€¼å’Œç›¸åŠ ï¼Œå³ <em>f(o) = g(l) + g(r)</em>ã€‚</li><li>å½“ <em>o</em> ä¸è¢«é€‰ä¸­æ—¶ï¼Œ<em>o</em> çš„å·¦å³å­©å­å¯ä»¥è¢«é€‰ä¸­ï¼Œä¹Ÿå¯ä»¥ä¸è¢«é€‰ä¸­ã€‚å¯¹äº <em>o</em> çš„æŸä¸ªå…·ä½“çš„å­©å­ <em>x</em>ï¼Œå®ƒå¯¹ <em>o</em> çš„è´¡çŒ®æ˜¯ <em>x</em> è¢«é€‰ä¸­å’Œä¸è¢«é€‰ä¸­æƒ…å†µä¸‹æƒå€¼å’Œçš„è¾ƒå¤§å€¼ã€‚æ•…<code>g(o)=max{f(l),g(l)}+max{f(r),g(r)}</code>ã€‚</li></ul><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å“ˆå¸Œæ˜ å°„æ¥å­˜ <em>f</em> å’Œ <em>g</em> çš„å‡½æ•°å€¼ï¼Œç”¨æ·±åº¦ä¼˜å…ˆæœç´¢çš„åŠæ³•ååºéå†è¿™æ£µäºŒå‰æ ‘ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„ <em>f</em> å’Œ <em>g</em>ã€‚æ ¹èŠ‚ç‚¹çš„ <em>f</em> å’Œ <em>g</em> çš„æœ€å¤§å€¼å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„ç­”æ¡ˆã€‚</p><p>æˆ‘ä»¬ä¸éš¾ç»™å‡ºè¿™æ ·çš„å®ç°ï¼š</p><details>    <summary>åŠ¨æ€è§„åˆ’C++</summary><figure class="highlight cpp"><figcaption><span>[sol0-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">unordered_map</span> &lt;TreeNode*, <span class="keyword">int</span>&gt; f, g;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode* o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!o) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(o-&gt;left);</span><br><span class="line">        dfs(o-&gt;right);</span><br><span class="line">        f[o] = o-&gt;val + g[o-&gt;left] + g[o-&gt;right];</span><br><span class="line">        g[o] = max(f[o-&gt;left], g[o-&gt;left]) + max(f[o-&gt;right], g[o-&gt;right]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">rob</span><span class="params">(TreeNode* o)</span> </span>&#123;</span><br><span class="line">        dfs(o);</span><br><span class="line">        <span class="keyword">return</span> max(f[o], g[o]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’Java</summary><figure class="highlight java"><figcaption><span>[sol0-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    Map&lt;TreeNode, Integer&gt; f = <span class="keyword">new</span> HashMap&lt;TreeNode, Integer&gt;();</span><br><span class="line">    Map&lt;TreeNode, Integer&gt; g = <span class="keyword">new</span> HashMap&lt;TreeNode, Integer&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rob</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        dfs(root);</span><br><span class="line">        <span class="keyword">return</span> Math.max(f.getOrDefault(root, <span class="number">0</span>), g.getOrDefault(root, <span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode node)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(node.left);</span><br><span class="line">        dfs(node.right);</span><br><span class="line">        f.put(node, node.val + g.getOrDefault(node.left, <span class="number">0</span>) + g.getOrDefault(node.right, <span class="number">0</span>));</span><br><span class="line">        g.put(node, Math.max(f.getOrDefault(node.left, <span class="number">0</span>), g.getOrDefault(node.left, <span class="number">0</span>)) + Math.max(f.getOrDefault(node.right, <span class="number">0</span>), g.getOrDefault(node.right, <span class="number">0</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol0-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rob = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> f = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">    <span class="keyword">const</span> g = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> dfs = <span class="function">(<span class="params">node</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node === <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(node.left);</span><br><span class="line">        dfs(node.right);</span><br><span class="line">        f.set(node, node.val + (g.get(node.left) || <span class="number">0</span>) + (g.get(node.right) || <span class="number">0</span>));</span><br><span class="line">        g.set(node, <span class="built_in">Math</span>.max(f.get(node.left) || <span class="number">0</span>, g.get(node.left) || <span class="number">0</span>) + <span class="built_in">Math</span>.max(f.get(node.right) || <span class="number">0</span>, g.get(node.right) || <span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    dfs(root);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max(f.get(root) || <span class="number">0</span>, g.get(root) || <span class="number">0</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><p>å‡è®¾äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ä¸º <em>n</em>ã€‚</p><p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œä»¥ä¸Šçš„ç®—æ³•å¯¹äºŒå‰æ ‘åšäº†ä¸€æ¬¡ååºéå†ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ <em>O(n)</em>ï¼›ç”±äºé€’å½’ä¼šä½¿ç”¨åˆ°æ ˆç©ºé—´ï¼Œç©ºé—´ä»£ä»·æ˜¯ <em>O(n)</em>ï¼Œå“ˆå¸Œæ˜ å°„çš„ç©ºé—´ä»£ä»·ä¹Ÿæ˜¯ <em>O(n)</em>ï¼Œæ•…ç©ºé—´å¤æ‚åº¦ä¹Ÿæ˜¯ <em>O(n)</em>ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åšä¸€ä¸ªå°å°çš„ä¼˜åŒ–ï¼Œæˆ‘ä»¬å‘ç°æ— è®ºæ˜¯ <em>f(o)</em> è¿˜æ˜¯ <em>g(o)<em>ï¼Œä»–ä»¬æœ€ç»ˆçš„å€¼åªå’Œ *f(l)</em>ã€<em>g(l)</em>ã€<em>f(r)</em>ã€*g(r)</em> æœ‰å…³ï¼Œæ‰€ä»¥å¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬åªå…³å¿ƒå®ƒçš„å­©å­èŠ‚ç‚¹ä»¬çš„ <em>f</em> å’Œ <em>g</em> æ˜¯å¤šå°‘ã€‚æˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€ä¸ªç»“æ„ï¼Œè¡¨ç¤ºæŸä¸ªèŠ‚ç‚¹çš„ <em>f</em> å’Œ <em>g</em> å€¼ï¼Œåœ¨æ¯æ¬¡é€’å½’è¿”å›çš„æ—¶å€™ï¼Œéƒ½æŠŠè¿™ä¸ªç‚¹å¯¹åº”çš„ <em>f</em> å’Œ <em>g</em> è¿”å›ç»™ä¸Šä¸€çº§è°ƒç”¨ï¼Œè¿™æ ·å¯ä»¥çœå»å“ˆå¸Œæ˜ å°„çš„ç©ºé—´ã€‚</p><p>ä»£ç å¦‚ä¸‹ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>åŠ¨æ€è§„åˆ’C++</summary><figure class="highlight cpp"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SubtreeStatus</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> selected;</span><br><span class="line">    <span class="keyword">int</span> notSelected;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">SubtreeStatus <span class="title">dfs</span><span class="params">(TreeNode* o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!o) &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;<span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">auto</span> l = dfs(o-&gt;left);</span><br><span class="line">        <span class="keyword">auto</span> r = dfs(o-&gt;right);</span><br><span class="line">        <span class="keyword">int</span> selected = o-&gt;val + l.notSelected + r.notSelected;</span><br><span class="line">        <span class="keyword">int</span> notSelected = max(l.selected, l.notSelected) + max(r.selected, r.notSelected);</span><br><span class="line">        <span class="keyword">return</span> &#123;selected, notSelected&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">rob</span><span class="params">(TreeNode* o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">auto</span> rootStatus = dfs(o);</span><br><span class="line">        <span class="keyword">return</span> max(rootStatus.selected, rootStatus.notSelected);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rob</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] rootStatus = dfs(root);</span><br><span class="line">        <span class="keyword">return</span> Math.max(rootStatus[<span class="number">0</span>], rootStatus[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] dfs(TreeNode node) &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>[] l = dfs(node.left);</span><br><span class="line">        <span class="keyword">int</span>[] r = dfs(node.right);</span><br><span class="line">        <span class="keyword">int</span> selected = node.val + l[<span class="number">1</span>] + r[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> notSelected = Math.max(l[<span class="number">0</span>], l[<span class="number">1</span>]) + Math.max(r[<span class="number">0</span>], r[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;selected, notSelected&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rob = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> dfs = <span class="function">(<span class="params">node</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node === <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> [<span class="number">0</span>, <span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">const</span> l = dfs(node.left);</span><br><span class="line">        <span class="keyword">const</span> r = dfs(node.right);</span><br><span class="line">        <span class="keyword">const</span> selected = node.val + l[<span class="number">1</span>] + r[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">const</span> notSelected = <span class="built_in">Math</span>.max(l[<span class="number">0</span>], l[<span class="number">1</span>]) + <span class="built_in">Math</span>.max(r[<span class="number">0</span>], r[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">return</span> [selected, notSelected];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> rootStatus = dfs(root);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max(rootStatus[<span class="number">0</span>], rootStatus[<span class="number">1</span>]);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">rob</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    val := dfs(root)</span><br><span class="line">    <span class="keyword">return</span> max(val[<span class="number">0</span>], val[<span class="number">1</span>])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(node *TreeNode)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> node == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> []<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">0</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    l, r := dfs(node.Left), dfs(node.Right)</span><br><span class="line">    selected := node.Val + l[<span class="number">1</span>] + r[<span class="number">1</span>]</span><br><span class="line">    notSelected := max(l[<span class="number">0</span>], l[<span class="number">1</span>]) + max(r[<span class="number">0</span>], r[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">return</span> []<span class="keyword">int</span>&#123;selected, notSelected&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x &gt; y &#123;</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SubtreeStatus</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> selected;</span><br><span class="line">    <span class="keyword">int</span> notSelected;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">struct SubtreeStatus <span class="title">dfs</span><span class="params">(struct TreeNode *root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!root) &#123;</span><br><span class="line">        <span class="keyword">return</span> (struct SubtreeStatus)&#123;<span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">SubtreeStatus</span> <span class="title">l</span> = <span class="title">dfs</span>(<span class="title">root</span>-&gt;<span class="title">left</span>);</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">SubtreeStatus</span> <span class="title">r</span> = <span class="title">dfs</span>(<span class="title">root</span>-&gt;<span class="title">right</span>);</span></span><br><span class="line">    <span class="keyword">int</span> selected = root-&gt;val + l.notSelected + r.notSelected;</span><br><span class="line">    <span class="keyword">int</span> notSelected = fmax(l.selected, l.notSelected) + fmax(r.selected, r.notSelected);</span><br><span class="line">    <span class="keyword">return</span> (struct SubtreeStatus)&#123;selected, notSelected&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rob</span><span class="params">(struct TreeNode *root)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">SubtreeStatus</span> <span class="title">rootStatus</span> = <span class="title">dfs</span>(<span class="title">root</span>);</span></span><br><span class="line">    <span class="keyword">return</span> fmax(rootStatus.selected, rootStatus.notSelected);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ã€‚ä¸Šæ–‡ä¸­å·²åˆ†æã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ã€‚è™½ç„¶ä¼˜åŒ–è¿‡çš„ç‰ˆæœ¬çœå»äº†å“ˆå¸Œæ˜ å°„çš„ç©ºé—´ï¼Œä½†æ˜¯æ ˆç©ºé—´çš„ä½¿ç”¨ä»£ä»·ä¾æ—§æ˜¯ <em>O(n)</em>ï¼Œæ•…ç©ºé—´å¤æ‚åº¦ä¸å˜ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®¡ç®—åœ¨ä¸è§¦åŠ¨è­¦æŠ¥çš„æƒ…å†µä¸‹ï¼Œå°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>213. æ‰“å®¶åŠ«èˆII</title>
    <link href="http://yoursite.com/2020/09/03/213.%20%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8DII/"/>
    <id>http://yoursite.com/2020/09/03/213. æ‰“å®¶åŠ«èˆII/</id>
    <published>2020-09-03T08:57:12.000Z</published>
    <updated>2020-09-03T09:07:32.382Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ ï¼Œä¸€å¤œä¹‹å†…èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚</p><a id="more"></a><p>ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ï¼Œæ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ã€‚è¿™ä¸ªåœ°æ–¹æ‰€æœ‰çš„æˆ¿å±‹éƒ½å›´æˆä¸€åœˆï¼Œè¿™æ„å‘³ç€ç¬¬ä¸€ä¸ªæˆ¿å±‹å’Œæœ€åä¸€ä¸ªæˆ¿å±‹æ˜¯ç´§æŒ¨ç€çš„ã€‚åŒæ—¶ï¼Œç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œå¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦ã€‚</p><p>ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½ åœ¨ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: [2,3,2]è¾“å‡º: 3è§£é‡Š: ä½ ä¸èƒ½å…ˆå·çªƒ 1 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 2ï¼‰ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 2ï¼‰, å› ä¸ºä»–ä»¬æ˜¯ç›¸é‚»çš„ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: [1,2,3,1]è¾“å‡º: 4è§£é‡Š: ä½ å¯ä»¥å…ˆå·çªƒ 1 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 1ï¼‰ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 3ï¼‰ã€‚     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 1 + 3 = 4 ã€‚</code></pre><h1 id="è§£é¢˜æ€è·¯ï¼š"><a href="#è§£é¢˜æ€è·¯ï¼š" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h1><h2 id="æ€»ä½“æ€è·¯ï¼š"><a href="#æ€»ä½“æ€è·¯ï¼š" class="headerlink" title="æ€»ä½“æ€è·¯ï¼š"></a>æ€»ä½“æ€è·¯ï¼š</h2><ul><li><p><strong>æ­¤é¢˜æ˜¯ <a href="https://leetcode-cn.com/problems/house-robber/solution/da-jia-jie-she-dong-tai-gui-hua-jie-gou-hua-si-lu-/" target="_blank" rel="noopener">198. æ‰“å®¶åŠ«èˆ</a> çš„æ‹“å±•ç‰ˆï¼š</strong> å”¯ä¸€çš„åŒºåˆ«æ˜¯æ­¤é¢˜ä¸­çš„æˆ¿é—´æ˜¯<strong>ç¯çŠ¶æ’åˆ—</strong>çš„ï¼ˆå³é¦–å°¾ç›¸æ¥ï¼‰ï¼Œè€Œ <em>198.</em> é¢˜ä¸­çš„æˆ¿é—´æ˜¯<strong>å•æ’æ’åˆ—</strong>çš„ï¼›è€Œè¿™ä¹Ÿæ˜¯æ­¤é¢˜çš„éš¾ç‚¹ã€‚</p></li><li><p><strong>ç¯çŠ¶æ’åˆ—</strong>æ„å‘³ç€ç¬¬ä¸€ä¸ªæˆ¿å­å’Œæœ€åä¸€ä¸ªæˆ¿å­ä¸­<strong>åªèƒ½é€‰æ‹©ä¸€ä¸ªå·çªƒ</strong>ï¼Œå› æ­¤å¯ä»¥æŠŠæ­¤<strong>ç¯çŠ¶æ’åˆ—æˆ¿é—´</strong>é—®é¢˜çº¦åŒ–ä¸ºä¸¤ä¸ª<strong>å•æ’æ’åˆ—æˆ¿é—´</strong>å­é—®é¢˜ï¼š</p><ol><li>åœ¨ä¸å·çªƒç¬¬ä¸€ä¸ªæˆ¿å­çš„æƒ…å†µä¸‹ï¼ˆå³ <em>nums[1:]*ï¼‰ï¼Œæœ€å¤§é‡‘é¢æ˜¯ *p_1</em> ï¼›</li><li>åœ¨ä¸å·çªƒæœ€åä¸€ä¸ªæˆ¿å­çš„æƒ…å†µä¸‹ï¼ˆå³ <em>nums[:n-1]*ï¼‰ï¼Œæœ€å¤§é‡‘é¢æ˜¯ *p_2</em> ã€‚</li></ol><ul><li><strong>ç»¼åˆå·çªƒæœ€å¤§é‡‘é¢ï¼š</strong> ä¸ºä»¥ä¸Šä¸¤ç§æƒ…å†µçš„è¾ƒå¤§å€¼ï¼Œå³ <em>max(p1,p2)</em> ã€‚</li></ul></li><li><p>ä¸‹é¢çš„ä»»åŠ¡åˆ™æ˜¯è§£å†³ <strong>å•æ’æ’åˆ—æˆ¿é—´ï¼ˆå³ <a href="https://leetcode-cn.com/problems/house-robber/solution/da-jia-jie-she-dong-tai-gui-hua-jie-gou-hua-si-lu-/" target="_blank" rel="noopener">198. æ‰“å®¶åŠ«èˆ</a>ï¼‰</strong> é—®é¢˜ã€‚æ¨èå¯ä»¥å…ˆæŠŠ <em>198.</em> åšå®Œå†åšè¿™é“é¢˜ã€‚</p></li></ul><h2 id="198-è§£é¢˜æ€è·¯ï¼š"><a href="#198-è§£é¢˜æ€è·¯ï¼š" class="headerlink" title="198. è§£é¢˜æ€è·¯ï¼š"></a>198. è§£é¢˜æ€è·¯ï¼š</h2><p>å…¸å‹çš„åŠ¨æ€è§„åˆ’ï¼Œä»¥ä¸‹æŒ‰ç…§æ ‡å‡†æµç¨‹è§£é¢˜ã€‚</p><ul><li><strong>çŠ¶æ€å®šä¹‰ï¼š</strong><ul><li>è®¾åŠ¨æ€è§„åˆ’åˆ—è¡¨ <em>dp</em> ï¼Œ<em>dp[i]</em> ä»£è¡¨å‰ <em>i</em> ä¸ªæˆ¿å­åœ¨æ»¡è¶³æ¡ä»¶ä¸‹çš„èƒ½å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚</li></ul></li><li><strong>è½¬ç§»æ–¹ç¨‹ï¼š</strong><ul><li><strong>è®¾ï¼š</strong> æœ‰ <em>n</em> ä¸ªæˆ¿å­ï¼Œå‰ <em>n</em> é—´èƒ½å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢æ˜¯ <em>dp[n]</em> ï¼Œå‰ <em>n-1</em> é—´èƒ½å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢æ˜¯ <em>dp[n-1]</em> ï¼Œæ­¤æ—¶å‘è¿™äº›æˆ¿å­ååŠ ä¸€é—´æˆ¿ï¼Œæ­¤æˆ¿é—´ä»·å€¼ä¸º <em>num</em> ï¼›</li><li><strong>åŠ ä¸€é—´æˆ¿é—´åï¼š</strong> ç”±äºä¸èƒ½æŠ¢ç›¸é‚»çš„æˆ¿å­ï¼Œæ„å‘³ç€æŠ¢ç¬¬ <em>n+1</em> é—´å°±ä¸èƒ½æŠ¢ç¬¬ <em>n</em> é—´ï¼›é‚£ä¹ˆå‰ <em>n+1</em> é—´æˆ¿èƒ½å·å–åˆ°çš„æœ€é«˜é‡‘é¢ <em>dp[n+1]</em> ä¸€å®šæ˜¯ä»¥ä¸‹ä¸¤ç§æƒ…å†µçš„ <strong>è¾ƒå¤§å€¼</strong> ï¼š<ol><li>ä¸æŠ¢ç¬¬ <em>n+1</em> ä¸ªæˆ¿é—´ï¼Œå› æ­¤ç­‰äºå‰ <em>n</em> ä¸ªæˆ¿å­çš„æœ€é«˜é‡‘é¢ï¼Œå³ <em>dp[n+1] = dp[n]</em> ï¼›</li><li>æŠ¢ç¬¬ <em>n+1</em> ä¸ªæˆ¿é—´ï¼Œæ­¤æ—¶ä¸èƒ½æŠ¢ç¬¬ <em>n</em> ä¸ªæˆ¿é—´ï¼›å› æ­¤ç­‰äºå‰ <em>n-1</em> ä¸ªæˆ¿å­çš„æœ€é«˜é‡‘é¢åŠ ä¸Šå½“å‰æˆ¿é—´ä»·å€¼ï¼Œå³ <em>dp[n+1] = dp[n-1] + num</em> ï¼›</li></ol></li><li><strong>ç»†å¿ƒçš„æˆ‘ä»¬å‘ç°ï¼š</strong> éš¾é“åœ¨å‰ <em>n</em> é—´çš„æœ€é«˜é‡‘é¢ <em>dp[n]</em> æƒ…å†µä¸‹ï¼Œç¬¬ <em>n</em> é—´ä¸€å®šè¢«å·äº†å—ï¼Ÿå‡è®¾æ²¡æœ‰è¢«å·ï¼Œé‚£ <em>n+1</em> é—´çš„æœ€å¤§å€¼åº”è¯¥ä¹Ÿå¯èƒ½æ˜¯  <em>dp[n+1] = dp[n] + num</em> å§ï¼Ÿå…¶å®è¿™ç§å‡è®¾çš„æƒ…å†µå¯ä»¥è¢«çœç•¥ï¼Œè¿™æ˜¯å› ä¸ºï¼š<ol><li>å‡è®¾ç¬¬ <em>n</em> é—´æ²¡æœ‰è¢«å·ï¼Œé‚£ä¹ˆæ­¤æ—¶ <em>dp[n] = dp[n-1]</em> ï¼Œæ­¤æ—¶ <em>dp[n+1] = dp[n] + num = dp[n-1] + num</em> ï¼Œå³å¯ä»¥å°† <strong>ä¸¤ç§æƒ…å†µåˆå¹¶ä¸ºä¸€ç§æƒ…å†µ</strong> è€ƒè™‘ï¼›</li><li>å‡è®¾ç¬¬ <em>n</em> é—´è¢«å·ï¼Œé‚£ä¹ˆæ­¤æ—¶ <em>dp[n+1] = dp[n] + num</em> <strong>ä¸å¯å–</strong> ï¼Œå› ä¸ºå·äº†ç¬¬ <em>n</em> é—´å°±ä¸èƒ½å·ç¬¬ <em>n+1</em> é—´ã€‚</li></ol></li><li><strong>æœ€ç»ˆçš„è½¬ç§»æ–¹ç¨‹ï¼š</strong> <em>dp[n+1] = max(dp[n],dp[n-1]+num)</em></li></ul></li><li><strong>åˆå§‹çŠ¶æ€ï¼š</strong><ul><li>å‰ <em>0</em> é—´æˆ¿å­çš„æœ€å¤§å·çªƒä»·å€¼ä¸º <em>0</em> ï¼Œå³ <em>dp[0] = 0</em> ã€‚</li></ul></li><li><strong>è¿”å›å€¼ï¼š</strong><ul><li>è¿”å› <em>dp</em> åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ å€¼ï¼Œå³æ‰€æœ‰æˆ¿é—´çš„æœ€å¤§å·çªƒä»·å€¼ã€‚</li></ul></li><li><strong>ç®€åŒ–ç©ºé—´å¤æ‚åº¦ï¼š</strong><ul><li>æˆ‘ä»¬å‘ç° <em>dp[n]</em> åªä¸ <em>dp[n-1]</em> å’Œ <em>dp[n-2]</em> æœ‰å…³ç³»ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®¾ä¸¤ä¸ªå˜é‡ <code>cur</code>å’Œ <code>pre</code> äº¤æ›¿è®°å½•ï¼Œå°†ç©ºé—´å¤æ‚åº¦é™åˆ° <em>O(1)</em> ã€‚</li></ul></li></ul><h3 id="å¤æ‚åº¦åˆ†æï¼š"><a href="#å¤æ‚åº¦åˆ†æï¼š" class="headerlink" title="å¤æ‚åº¦åˆ†æï¼š"></a>å¤æ‚åº¦åˆ†æï¼š</h3><ul><li><p><strong>æ—¶é—´å¤æ‚åº¦ <em>O(N)</em> ï¼š</strong> ä¸¤æ¬¡éå† <code>nums</code> éœ€è¦çº¿æ€§æ—¶é—´ï¼›</p></li><li><p><strong>ç©ºé—´å¤æ‚åº¦ <em>O(1)</em> ï¼š</strong> <code>cur</code>å’Œ <code>pre</code> ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p><p><a href="https://pic.leetcode-cn.com/ae512395fc10a22fdc4e22e2fcab394c3321eac42d8d1f28b306fefe1fa43b11-Picture1.png" target="_blank" rel="noopener">Picture1.png</a> <a href="https://pic.leetcode-cn.com/8c0542b663c975914a70e9d4c5753e50c00b10272846118f2c8f21717a5db639-Picture2.png" target="_blank" rel="noopener">Picture2.png</a> <a href="https://pic.leetcode-cn.com/0c802bf6ed5137d747794b406ee97d3b49772bf0c14e044914f86b01a72b9a94-Picture3.png" target="_blank" rel="noopener">Picture3.png</a> <a href="https://pic.leetcode-cn.com/cf6e6cab02fb996d9e6b77972758f4ff5ca9a0163c5224fd4b5d50778101f1a0-Picture4.png" target="_blank" rel="noopener">Picture4.png</a> <a href="https://pic.leetcode-cn.com/e5b4e986b1e815760226205fbb4aaa4aedace195c4b29e84cc0138b374605798-Picture5.png" target="_blank" rel="noopener">Picture5.png</a> <a href="https://pic.leetcode-cn.com/34e1af2897fda8d541a93cb79072e250feca60691dfa0a46150082ebf79603c1-Picture6.png" target="_blank" rel="noopener">Picture6.png</a> <a href="https://pic.leetcode-cn.com/b466bb392ca7bdef75cfaeae18dcbcd8722ad08e913c43dbcbac83fa9868b8f9-Picture7.png" target="_blank" rel="noopener">Picture7.png</a> <a href="https://pic.leetcode-cn.com/7e645390e53efb4f7754ac218875bd5fa3c639da577eedb24b198d7b50b4ac5a-Picture8.png" target="_blank" rel="noopener">Picture8.png</a> </p></li></ul><h2 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h2><details>    <summary>åŠ¨æ€è§„åˆ’python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rob</span><span class="params">(self, nums: [int])</span> -&gt; int:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">my_rob</span><span class="params">(nums)</span>:</span></span><br><span class="line">            cur, pre = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">                cur, pre = max(pre + num, cur), cur</span><br><span class="line">            <span class="keyword">return</span> cur</span><br><span class="line">        <span class="keyword">return</span> max(my_rob(nums[:<span class="number">-1</span>]),my_rob(nums[<span class="number">1</span>:])) <span class="keyword">if</span> len(nums) != <span class="number">1</span> <span class="keyword">else</span> nums[<span class="number">0</span>]</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rob</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums.length == <span class="number">1</span>) <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">return</span> Math.max(myRob(Arrays.copyOfRange(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>)), </span><br><span class="line">                        myRob(Arrays.copyOfRange(nums, <span class="number">1</span>, nums.length)));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">myRob</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> pre = <span class="number">0</span>, cur = <span class="number">0</span>, tmp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            tmp = cur;</span><br><span class="line">            cur = Math.max(pre + num, cur);</span><br><span class="line">            pre = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cur;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>è¿™ç§æ–¹æ³•æ³¨æ„æ•°ç»„é•¿åº¦ä»…ä¸º2æ—¶æ‹†åˆ†åä¸è¦æ•°ç»„è¶Šç•Œã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ ï¼Œä¸€å¤œä¹‹å†…èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>198. æ‰“å®¶åŠ«èˆ</title>
    <link href="http://yoursite.com/2020/09/03/198.%20%E6%89%93%E5%AE%B6%E5%8A%AB%E8%88%8D/"/>
    <id>http://yoursite.com/2020/09/03/198. æ‰“å®¶åŠ«èˆ/</id>
    <published>2020-09-03T07:57:12.000Z</published>
    <updated>2020-09-03T11:39:33.665Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ ï¼Œä¸€å¤œä¹‹å†…èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚</p><a id="more"></a><p>ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ã€‚æ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ï¼Œå½±å“ä½ å·çªƒçš„å”¯ä¸€åˆ¶çº¦å› ç´ å°±æ˜¯ç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œå¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦ã€‚</p><p>ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ ï¼Œä¸€å¤œä¹‹å†…èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼š[1,2,3,1]è¾“å‡ºï¼š4è§£é‡Šï¼šå·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 1) ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 3)ã€‚     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 1 + 3 = 4 ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼š[2,7,9,3,1]è¾“å‡ºï¼š12è§£é‡Šï¼šå·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 2), å·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 9)ï¼Œæ¥ç€å·çªƒ 5 å·æˆ¿å±‹ (é‡‘é¢ = 1)ã€‚     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 2 + 9 + 1 = 12 ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>0 &lt;= nums.length &lt;= 1000 &lt;= nums[i] &lt;= 400</code></pre><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="0c807bbf-a976-48e3-8db5-cfbe7a9c80d7">198.æ‰“å®¶åŠ«èˆ.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’-æ»šåŠ¨æ•°ç»„"><a href="#æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’-æ»šåŠ¨æ•°ç»„" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’ + æ»šåŠ¨æ•°ç»„"></a>æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’ + æ»šåŠ¨æ•°ç»„</h2><p>é¦–å…ˆè€ƒè™‘æœ€ç®€å•çš„æƒ…å†µã€‚å¦‚æœåªæœ‰ä¸€é—´æˆ¿å±‹ï¼Œåˆ™å·çªƒè¯¥æˆ¿å±‹ï¼Œå¯ä»¥å·çªƒåˆ°æœ€é«˜æ€»é‡‘é¢ã€‚å¦‚æœåªæœ‰ä¸¤é—´æˆ¿å±‹ï¼Œåˆ™ç”±äºä¸¤é—´æˆ¿å±‹ç›¸é‚»ï¼Œä¸èƒ½åŒæ—¶å·çªƒï¼Œåªèƒ½å·çªƒå…¶ä¸­çš„ä¸€é—´æˆ¿å±‹ï¼Œå› æ­¤é€‰æ‹©å…¶ä¸­é‡‘é¢è¾ƒé«˜çš„æˆ¿å±‹è¿›è¡Œå·çªƒï¼Œå¯ä»¥å·çªƒåˆ°æœ€é«˜æ€»é‡‘é¢ã€‚</p><p>å¦‚æœæˆ¿å±‹æ•°é‡å¤§äºä¸¤é—´ï¼Œåº”è¯¥å¦‚ä½•è®¡ç®—èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜æ€»é‡‘é¢å‘¢ï¼Ÿå¯¹äºç¬¬ <em>k~(k&gt;2)</em> é—´æˆ¿å±‹ï¼Œæœ‰ä¸¤ä¸ªé€‰é¡¹ï¼š</p><ol><li><p>å·çªƒç¬¬ <em>k</em> é—´æˆ¿å±‹ï¼Œé‚£ä¹ˆå°±ä¸èƒ½å·çªƒç¬¬ <em>k-1</em> é—´æˆ¿å±‹ï¼Œå·çªƒæ€»é‡‘é¢ä¸ºå‰ <em>k-2</em> é—´æˆ¿å±‹çš„æœ€é«˜æ€»é‡‘é¢ä¸ç¬¬ <em>k</em> é—´æˆ¿å±‹çš„é‡‘é¢ä¹‹å’Œã€‚</p></li><li><p>ä¸å·çªƒç¬¬ <em>k</em> é—´æˆ¿å±‹ï¼Œå·çªƒæ€»é‡‘é¢ä¸ºå‰ <em>k-1</em> é—´æˆ¿å±‹çš„æœ€é«˜æ€»é‡‘é¢ã€‚</p></li></ol><p>åœ¨ä¸¤ä¸ªé€‰é¡¹ä¸­é€‰æ‹©å·çªƒæ€»é‡‘é¢è¾ƒå¤§çš„é€‰é¡¹ï¼Œè¯¥é€‰é¡¹å¯¹åº”çš„å·çªƒæ€»é‡‘é¢å³ä¸ºå‰ <em>k</em> é—´æˆ¿å±‹èƒ½å·çªƒåˆ°çš„æœ€é«˜æ€»é‡‘é¢ã€‚</p><p>ç”¨ <em>dp[i]</em> è¡¨ç¤ºå‰ <em>i</em> é—´æˆ¿å±‹èƒ½å·çªƒåˆ°çš„æœ€é«˜æ€»é‡‘é¢ï¼Œé‚£ä¹ˆå°±æœ‰å¦‚ä¸‹çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p><pre><code>dp[i]=max(dp[i-2]+nums[i],dp[i-1])</code></pre><p>è¾¹ç•Œæ¡ä»¶ä¸ºï¼š</p><pre><code>dp[0]=nums[0]       åªæœ‰ä¸€é—´æˆ¿å±‹ï¼Œåˆ™å·çªƒè¯¥æˆ¿å±‹dp[1]=max(nums[0],nums[1])  åªæœ‰ä¸¤é—´æˆ¿å±‹ï¼Œé€‰æ‹©å…¶ä¸­é‡‘é¢è¾ƒé«˜çš„æˆ¿å±‹è¿›è¡Œå·çªƒ</code></pre><p>æœ€ç»ˆçš„ç­”æ¡ˆå³ä¸ºdp[n-1] ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚</p><p> <a href="https://assets.leetcode-cn.com/solution-static/198/1.PNG" target="_blank" rel="noopener">fig1</a> <a href="https://assets.leetcode-cn.com/solution-static/198/2.PNG" target="_blank" rel="noopener">fig2</a> <a href="https://assets.leetcode-cn.com/solution-static/198/3.PNG" target="_blank" rel="noopener">fig3</a> <a href="https://assets.leetcode-cn.com/solution-static/198/4.PNG" target="_blank" rel="noopener">fig4</a> <a href="https://assets.leetcode-cn.com/solution-static/198/5.PNG" target="_blank" rel="noopener">fig5</a> <a href="https://assets.leetcode-cn.com/solution-static/198/6.PNG" target="_blank" rel="noopener">fig6</a> </p><details>    <summary>åŠ¨æ€è§„åˆ’Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rob</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> length = nums.length;</span><br><span class="line">        <span class="keyword">if</span> (length == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">        dp[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">        dp[<span class="number">1</span>] = Math.max(nums[<span class="number">0</span>], nums[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; length; i++) &#123;</span><br><span class="line">            dp[i] = Math.max(dp[i - <span class="number">2</span>] + nums[i], dp[i - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[length - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">rob</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums.empty()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> size = nums.size();</span><br><span class="line">        <span class="keyword">if</span> (size == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp = <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(size, <span class="number">0</span>);</span><br><span class="line">        dp[<span class="number">0</span>] = nums[<span class="number">0</span>];</span><br><span class="line">        dp[<span class="number">1</span>] = max(nums[<span class="number">0</span>], nums[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; size; i++) &#123;</span><br><span class="line">            dp[i] = max(dp[i - <span class="number">2</span>] + nums[i], dp[i - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[size - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rob</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        size = len(nums)</span><br><span class="line">        <span class="keyword">if</span> size == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>]</span><br><span class="line">        </span><br><span class="line">        dp = [<span class="number">0</span>] * size</span><br><span class="line">        dp[<span class="number">0</span>] = nums[<span class="number">0</span>]</span><br><span class="line">        dp[<span class="number">1</span>] = max(nums[<span class="number">0</span>], nums[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, size):</span><br><span class="line">            dp[i] = max(dp[i - <span class="number">2</span>] + nums[i], dp[i - <span class="number">1</span>])</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dp[size - <span class="number">1</span>]</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">rob</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">0</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    dp := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="built_in">len</span>(nums))</span><br><span class="line">    dp[<span class="number">0</span>] = nums[<span class="number">0</span>]</span><br><span class="line">    dp[<span class="number">1</span>] = max(nums[<span class="number">0</span>], nums[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">2</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line">        dp[i] = max(dp[i<span class="number">-2</span>] + nums[i], dp[i<span class="number">-1</span>])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="built_in">len</span>(nums)<span class="number">-1</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x &gt; y &#123;</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>ä¸Šè¿°æ–¹æ³•ä½¿ç”¨äº†æ•°ç»„å­˜å‚¨ç»“æœã€‚è€ƒè™‘åˆ°æ¯é—´æˆ¿å±‹çš„æœ€é«˜æ€»é‡‘é¢åªå’Œè¯¥æˆ¿å±‹çš„å‰ä¸¤é—´æˆ¿å±‹çš„æœ€é«˜æ€»é‡‘é¢ç›¸å…³ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨æ»šåŠ¨æ•°ç»„ï¼Œåœ¨æ¯ä¸ªæ—¶åˆ»åªéœ€è¦å­˜å‚¨å‰ä¸¤é—´æˆ¿å±‹çš„æœ€é«˜æ€»é‡‘é¢ã€‚</p><details>    <summary>åŠ¨æ€è§„åˆ’ + æ»šåŠ¨æ•°ç»„Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rob</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> length = nums.length;</span><br><span class="line">        <span class="keyword">if</span> (length == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> first = nums[<span class="number">0</span>], second = Math.max(nums[<span class="number">0</span>], nums[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> temp = second;</span><br><span class="line">            second = Math.max(first + nums[i], second);</span><br><span class="line">            first = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> second;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’ + æ»šåŠ¨æ•°ç»„C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">rob</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums.empty()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> size = nums.size();</span><br><span class="line">        <span class="keyword">if</span> (size == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> first = nums[<span class="number">0</span>], second = max(nums[<span class="number">0</span>], nums[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> temp = second;</span><br><span class="line">            second = max(first + nums[i], second);</span><br><span class="line">            first = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> second;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’ + æ»šåŠ¨æ•°ç»„Python</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rob</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        size = len(nums)</span><br><span class="line">        <span class="keyword">if</span> size == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>]</span><br><span class="line">        </span><br><span class="line">        first, second = nums[<span class="number">0</span>], max(nums[<span class="number">0</span>], nums[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, size):</span><br><span class="line">            first, second = second, max(first + nums[i], second)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> second</span><br></pre></td></tr></table></figure></details><details>    <summary>åŠ¨æ€è§„åˆ’ + æ»šåŠ¨æ•°ç»„golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">rob</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">0</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    first := nums[<span class="number">0</span>]</span><br><span class="line">    second := max(nums[<span class="number">0</span>], nums[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">2</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line">        first, second = second, max(first + nums[i], second)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> second</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x &gt; y &#123;</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œå…¶ä¸­ *n</em> æ˜¯æ•°ç»„é•¿åº¦ã€‚åªéœ€è¦å¯¹æ•°ç»„éå†ä¸€æ¬¡ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚ä½¿ç”¨æ»šåŠ¨æ•°ç»„ï¼Œå¯ä»¥åªå­˜å‚¨å‰ä¸¤é—´æˆ¿å±‹çš„æœ€é«˜æ€»é‡‘é¢ï¼Œè€Œä¸éœ€è¦å­˜å‚¨æ•´ä¸ªæ•°ç»„çš„ç»“æœï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦æ˜¯ <em>O(1)</em>ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ ï¼Œä¸€å¤œä¹‹å†…èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</title>
    <link href="http://yoursite.com/2020/08/31/124.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E7%9A%84%E6%9C%80%E5%A4%A7%E8%B7%AF%E5%BE%84%E5%92%8C/"/>
    <id>http://yoursite.com/2020/08/31/124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ/</id>
    <published>2020-08-31T07:20:12.000Z</published>
    <updated>2020-08-31T08:28:38.431Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªéç©ºäºŒå‰æ ‘ï¼Œè¿”å›å…¶æœ€å¤§è·¯å¾„å’Œã€‚</p><a id="more"></a><p>æœ¬é¢˜ä¸­ï¼Œè·¯å¾„è¢«å®šä¹‰ä¸ºä¸€æ¡ä»æ ‘ä¸­ä»»æ„èŠ‚ç‚¹å‡ºå‘ï¼Œè¾¾åˆ°ä»»æ„èŠ‚ç‚¹çš„åºåˆ—ã€‚è¯¥è·¯å¾„è‡³å°‘åŒ…å«ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸”ä¸ä¸€å®šç»è¿‡æ ¹èŠ‚ç‚¹ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: [1,2,3]       1      / \     2   3è¾“å‡º: 6</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: [-10,9,20,null,null,15,7]   -10   / \  9  20    /  \   15   7è¾“å‡º: 42</code></pre><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="0fc716bb-576b-482f-8ec4-a1659b427b4f">124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šé€’å½’"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’"></a>æ–¹æ³•ä¸€ï¼šé€’å½’</h2><p>é¦–å…ˆï¼Œè€ƒè™‘å®ç°ä¸€ä¸ªç®€åŒ–çš„å‡½æ•° <code>maxGain(node)</code>ï¼Œè¯¥å‡½æ•°è®¡ç®—äºŒå‰æ ‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ï¼Œå…·ä½“è€Œè¨€ï¼Œå°±æ˜¯åœ¨ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ä¸­å¯»æ‰¾ä»¥è¯¥èŠ‚ç‚¹ä¸ºèµ·ç‚¹çš„ä¸€æ¡è·¯å¾„ï¼Œä½¿å¾—è¯¥è·¯å¾„ä¸Šçš„èŠ‚ç‚¹å€¼ä¹‹å’Œæœ€å¤§ã€‚</p><p>å…·ä½“è€Œè¨€ï¼Œè¯¥å‡½æ•°çš„è®¡ç®—å¦‚ä¸‹ã€‚</p><ul><li><p>ç©ºèŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ç­‰äº <em>0</em>ã€‚</p></li><li><p>éç©ºèŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ç­‰äºèŠ‚ç‚¹å€¼ä¸å…¶å­èŠ‚ç‚¹ä¸­çš„æœ€å¤§è´¡çŒ®å€¼ä¹‹å’Œï¼ˆå¯¹äºå¶èŠ‚ç‚¹è€Œè¨€ï¼Œæœ€å¤§è´¡çŒ®å€¼ç­‰äºèŠ‚ç‚¹å€¼ï¼‰ã€‚</p></li></ul><p>ä¾‹å¦‚ï¼Œè€ƒè™‘å¦‚ä¸‹äºŒå‰æ ‘ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> -10</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure><p>å¶èŠ‚ç‚¹ <em>9</em>ã€<em>15<em>ã€</em>7</em> çš„æœ€å¤§è´¡çŒ®å€¼åˆ†åˆ«ä¸º <em>9</em>ã€<em>15</em>ã€<em>7</em>ã€‚</p><p>å¾—åˆ°å¶èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ä¹‹åï¼Œå†è®¡ç®—éå¶èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ã€‚èŠ‚ç‚¹ <em>20</em> çš„æœ€å¤§è´¡çŒ®å€¼ç­‰äº 20+max(15,7)=35ï¼ŒèŠ‚ç‚¹ <em>-10</em> çš„æœ€å¤§è´¡çŒ®å€¼ç­‰äº-10+max(9,35)=25  ã€‚</p><p>ä¸Šè¿°è®¡ç®—è¿‡ç¨‹æ˜¯é€’å½’çš„è¿‡ç¨‹ï¼Œå› æ­¤ï¼Œå¯¹æ ¹èŠ‚ç‚¹è°ƒç”¨å‡½æ•° <code>maxGain</code>ï¼Œå³å¯å¾—åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ã€‚</p><p>æ ¹æ®å‡½æ•° <code>maxGain</code> å¾—åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ä¹‹åï¼Œå¦‚ä½•å¾—åˆ°äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œï¼Ÿå¯¹äºäºŒå‰æ ‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå–å†³äºè¯¥èŠ‚ç‚¹çš„å€¼ä¸è¯¥èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ï¼Œå¦‚æœå­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ä¸ºæ­£ï¼Œåˆ™è®¡å…¥è¯¥èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œï¼Œå¦åˆ™ä¸è®¡å…¥è¯¥èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œã€‚ç»´æŠ¤ä¸€ä¸ªå…¨å±€å˜é‡ <code>maxSum</code> å­˜å‚¨æœ€å¤§è·¯å¾„å’Œï¼Œåœ¨é€’å½’è¿‡ç¨‹ä¸­æ›´æ–° <code>maxSum</code> çš„å€¼ï¼Œæœ€åå¾—åˆ°çš„ <code>maxSum</code> çš„å€¼å³ä¸ºäºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œã€‚</p><p> <a href="https://assets.leetcode-cn.com/solution-static/124/1.PNG" target="_blank" rel="noopener">fig1</a> <a href="https://assets.leetcode-cn.com/solution-static/124/2.PNG" target="_blank" rel="noopener">fig2</a> <a href="https://assets.leetcode-cn.com/solution-static/124/3.PNG" target="_blank" rel="noopener">fig3</a> <a href="https://assets.leetcode-cn.com/solution-static/124/4.PNG" target="_blank" rel="noopener">fig4</a> <a href="https://assets.leetcode-cn.com/solution-static/124/5.PNG" target="_blank" rel="noopener">fig5</a> <a href="https://assets.leetcode-cn.com/solution-static/124/6.PNG" target="_blank" rel="noopener">fig6</a> <a href="https://assets.leetcode-cn.com/solution-static/124/7.PNG" target="_blank" rel="noopener">fig7</a> </p><p>è¿™é¢˜ç›®çš„éš¾ç‚¹åœ¨äºç†è§£é¢˜æ„å’Œè½¬åŒ–é¢˜æ„ã€‚<br>æˆ‘ä»¬å¯ä»¥ç»“åˆ æ•°ç»„çš„æœ€å¤§å­æ•°ç»„å’Œ çš„æ€è·¯å»è§£é¢˜ã€‚</p><ol><li><p>ã€Œå¯ä»¥ä»ä»»æ„èŠ‚ç‚¹å‡ºå‘, åˆ°è¾¾ä»»æ„èŠ‚ç‚¹ã€ çš„è·¯å¾„,<br>ä¸€å®šæ˜¯å…ˆä¸Šå‡ï¼ˆ 0 ï½ n ä¸ªï¼‰èŠ‚ç‚¹, åˆ°è¾¾é¡¶ç‚¹, åä¸‹é™ï¼ˆ 0 ï½ n ä¸ªï¼‰èŠ‚ç‚¹ã€‚<br>æˆ‘ä»¬å¯ä»¥é€šè¿‡æšä¸¾é¡¶ç‚¹çš„æ–¹å¼æ¥æšä¸¾è·¯å¾„ã€‚</p></li><li><p>æˆ‘ä»¬æšä¸¾é¡¶ç‚¹æ—¶, å¯ä»¥æŠŠè·¯å¾„åˆ†æ‹†æˆ3éƒ¨åˆ†ï¼š å·¦ä¾§è·¯å¾„ã€å³ä¾§è·¯å¾„å’Œé¡¶ç‚¹ã€‚</p><pre><code> å¦‚ä¸‹é¢çš„è·¯å¾„, é¡¶ç‚¹ä¸º 20, å·¦ä¾§è·¯å¾„ä¸º 6 -&gt; 15, å³ä¾§ä¸º 6 -&gt; 7ã€‚   -10   / \  9 [20]    /  \  [15] [7]  /    / \[6]   4  [6]   </code></pre><p>ä»¥å½“å‰èŠ‚ç‚¹ä¸ºé¡¶ç‚¹çš„è·¯å¾„ä¸­, æœ€å¤§å’Œä¸º ä¸¤ä¾§è·¯å¾„çš„æœ€å¤§å’Œ + èŠ‚ç‚¹çš„å€¼ã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯, ä¸¤ä¾§è·¯å¾„ä¹Ÿå¯èƒ½ä¸é€‰, æ­¤æ—¶å– 0ã€‚</p></li><li><p>å¦‚ä½•æ±‚ä¸¤ä¾§è·¯å¾„æœ€å¤§å’Œï¼Ÿ çœ‹ä¸€ä¸ªç±»ä¼¼é—®é¢˜ï¼šæ±‚æ•°ç»„çš„æœ€å¤§å­æ•°ç»„å’Œã€‚<br>åŠ¨æ€è§„åˆ’ï¼š dp[i] ä»£è¡¨ä»¥ nums[i] ä¸ºç»“å°¾çš„å­æ•°ç»„çš„æœ€å¤§å’Œã€‚<br>è½¬ç§»æ–¹ç¨‹ï¼š dp[i] = max(dp[i-1], 0) + nums[i]ã€‚</p></li><li><p>åœ¨æ ‘ä¸Š, è®¾ dp[C] ä»£è¡¨ä»¥å½“å‰èŠ‚ç‚¹ä¸ºç»“å°¾çš„æœ€å¤§ä¸Šå‡è·¯å¾„å’Œ,<br>åˆ™æˆ‘ä»¬éœ€è¦å¯¹èŠ‚ç‚¹çš„å·¦å³å­æ ‘åšä¸€ä¸ªé€‰æ‹©, æœ‰<br>dp[C] = max(max(dp[L], 0), max(dp[R], 0)) + C.val<br>å¼ä¸­, C,L,R åˆ†åˆ«ä»£æŒ‡ å½“å‰èŠ‚ç‚¹ã€å·¦å­èŠ‚ç‚¹ã€å³å­èŠ‚ç‚¹ã€‚</p></li><li><p>æœ€å, ä»¥å½“å‰èŠ‚ç‚¹ä¸ºé¡¶ç‚¹çš„è·¯å¾„ä¸­, æœ€å¤§çš„å’Œä¸º<br>max(dp[L], 0) + max(dp[R], 0) + C.valã€‚<br>æˆ‘ä»¬æšä¸¾é¡¶ç‚¹, å¹¶è®°å½•æœ€å¤§ç­”æ¡ˆã€‚</p></li></ol><details>    <summary>é€’å½’Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> maxSum = Integer.MIN_VALUE;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxPathSum</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        maxGain(root);</span><br><span class="line">        <span class="keyword">return</span> maxSum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxGain</span><span class="params">(TreeNode node)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// é€’å½’è®¡ç®—å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="comment">// åªæœ‰åœ¨æœ€å¤§è´¡çŒ®å€¼å¤§äº 0 æ—¶ï¼Œæ‰ä¼šé€‰å–å¯¹åº”å­èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> leftGain = Math.max(maxGain(node.left), <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> rightGain = Math.max(maxGain(node.right), <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå–å†³äºè¯¥èŠ‚ç‚¹çš„å€¼ä¸è¯¥èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="keyword">int</span> priceNewpath = node.val + leftGain + rightGain;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">        maxSum = Math.max(maxSum, priceNewpath);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å›èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="keyword">return</span> node.val + Math.max(leftGain, rightGain);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.maxSum = float(<span class="string">"-inf"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxPathSum</span><span class="params">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">maxGain</span><span class="params">(node)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> node:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># é€’å½’è®¡ç®—å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">            <span class="comment"># åªæœ‰åœ¨æœ€å¤§è´¡çŒ®å€¼å¤§äº 0 æ—¶ï¼Œæ‰ä¼šé€‰å–å¯¹åº”å­èŠ‚ç‚¹</span></span><br><span class="line">            leftGain = max(maxGain(node.left), <span class="number">0</span>)</span><br><span class="line">            rightGain = max(maxGain(node.right), <span class="number">0</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå–å†³äºè¯¥èŠ‚ç‚¹çš„å€¼ä¸è¯¥èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">            priceNewpath = node.val + leftGain + rightGain</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">            self.maxSum = max(self.maxSum, priceNewpath)</span><br><span class="line">        </span><br><span class="line">            <span class="comment"># è¿”å›èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">            <span class="keyword">return</span> node.val + max(leftGain, rightGain)</span><br><span class="line">   </span><br><span class="line">        maxGain(root)</span><br><span class="line">        <span class="keyword">return</span> self.maxSum</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> maxSum = INT_MIN;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxGain</span><span class="params">(TreeNode* node)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// é€’å½’è®¡ç®—å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="comment">// åªæœ‰åœ¨æœ€å¤§è´¡çŒ®å€¼å¤§äº 0 æ—¶ï¼Œæ‰ä¼šé€‰å–å¯¹åº”å­èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> leftGain = max(maxGain(node-&gt;left), <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> rightGain = max(maxGain(node-&gt;right), <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå–å†³äºè¯¥èŠ‚ç‚¹çš„å€¼ä¸è¯¥èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="keyword">int</span> priceNewpath = node-&gt;val + leftGain + rightGain;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">        maxSum = max(maxSum, priceNewpath);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å›èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="keyword">return</span> node-&gt;val + max(leftGain, rightGain);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxPathSum</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        maxGain(root);</span><br><span class="line">        <span class="keyword">return</span> maxSum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxPathSum</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    maxSum := math.MinInt32</span><br><span class="line">    <span class="keyword">var</span> maxGain <span class="function"><span class="keyword">func</span><span class="params">(*TreeNode)</span> <span class="title">int</span></span></span><br><span class="line"><span class="function">    <span class="title">maxGain</span> = <span class="title">func</span><span class="params">(node *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> node == <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€’å½’è®¡ç®—å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="comment">// åªæœ‰åœ¨æœ€å¤§è´¡çŒ®å€¼å¤§äº 0 æ—¶ï¼Œæ‰ä¼šé€‰å–å¯¹åº”å­èŠ‚ç‚¹</span></span><br><span class="line">        leftGain := max(maxGain(node.Left), <span class="number">0</span>)</span><br><span class="line">        rightGain := max(maxGain(node.Right), <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå–å†³äºè¯¥èŠ‚ç‚¹çš„å€¼ä¸è¯¥èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        priceNewPath := node.Val + leftGain + rightGain</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">        maxSum = max(maxSum, priceNewPath)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å›èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="keyword">return</span> node.Val + max(leftGain, rightGain)</span><br><span class="line">    &#125;</span><br><span class="line">    maxGain(root)</span><br><span class="line">    <span class="keyword">return</span> maxSum</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x &gt; y &#123;</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’C#</summary><figure class="highlight csharp"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Solution</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> maxSum = <span class="keyword">int</span>.MinValue;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">MaxPathSum</span>(<span class="params">TreeNode root</span>) </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        MaxGain(root);</span><br><span class="line">        <span class="keyword">return</span> maxSum;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">MaxGain</span>(<span class="params">TreeNode node</span>) </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// é€’å½’è®¡ç®—å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="comment">// åªæœ‰åœ¨æœ€å¤§è´¡çŒ®å€¼å¤§äº 0 æ—¶ï¼Œæ‰ä¼šé€‰å–å¯¹åº”å­èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> leftGain = Math.Max(MaxGain(node.left), <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> rightGain = Math.Max(MaxGain(node.right), <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå–å†³äºè¯¥èŠ‚ç‚¹çš„å€¼ä¸è¯¥èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="keyword">int</span> priceNewpath = node.val + leftGain + rightGain;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">        maxSum = Math.Max(maxSum, priceNewpath);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å›èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="keyword">return</span> node.val + Math.Max(leftGain, rightGain);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> æ˜¯äºŒå‰æ ‘ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚å¯¹æ¯ä¸ªèŠ‚ç‚¹è®¿é—®ä¸è¶…è¿‡ <em>2</em> æ¬¡ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> æ˜¯äºŒå‰æ ‘ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé€’å½’è°ƒç”¨å±‚æ•°ï¼Œæœ€å¤§å±‚æ•°ç­‰äºäºŒå‰æ ‘çš„é«˜åº¦ï¼Œæœ€åæƒ…å†µä¸‹ï¼ŒäºŒå‰æ ‘çš„é«˜åº¦ç­‰äºäºŒå‰æ ‘ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªéç©ºäºŒå‰æ ‘ï¼Œè¿”å›å…¶æœ€å¤§è·¯å¾„å’Œã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
      <category term="Depth-first Search" scheme="http://yoursite.com/tags/Depth-first-Search/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
  </entry>
  
  <entry>
    <title>128. æœ€é•¿è¿ç»­åºåˆ—</title>
    <link href="http://yoursite.com/2020/08/31/128.%20%E6%9C%80%E9%95%BF%E8%BF%9E%E7%BB%AD%E5%BA%8F%E5%88%97/"/>
    <id>http://yoursite.com/2020/08/31/128. æœ€é•¿è¿ç»­åºåˆ—/</id>
    <published>2020-08-31T07:20:12.000Z</published>
    <updated>2020-09-03T07:54:39.379Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºæœ€é•¿è¿ç»­åºåˆ—çš„é•¿åº¦ã€‚</p><a id="more"></a><p>è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚</p><p>ç¤ºä¾‹:</p><pre><code>è¾“å…¥: [100, 4, 200, 1, 3, 2]è¾“å‡º: 4è§£é‡Š: æœ€é•¿è¿ç»­åºåˆ—æ˜¯ [1, 2, 3, 4]ã€‚å®ƒçš„é•¿åº¦ä¸º 4ã€‚</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šæ’åº"><a href="#æ–¹æ³•ä¸€ï¼šæ’åº" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ’åº"></a>æ–¹æ³•ä¸€ï¼šæ’åº</h1><h2 id="å‚è€ƒä»£ç "><a href="#å‚è€ƒä»£ç " class="headerlink" title="å‚è€ƒä»£ç "></a>å‚è€ƒä»£ç </h2><details>    <summary>æ’åº</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// max æœ€ç»ˆç»“æœ, curr å½“å‰é•¿åº¦, last ä¸Šä¸ªæ•°å­—</span></span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">1</span>, curr = <span class="number">1</span>, last = nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] == last) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] == last + <span class="number">1</span>) curr++; <span class="comment">// ç¬¦åˆè¿ç»­ï¼Œé•¿åº¦ +1</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            max = Math.max(max, curr); <span class="comment">// è¿ä¸ä¸Šäº†ï¼Œè®°å½•é•¿åº¦</span></span><br><span class="line">            curr = <span class="number">1</span>; <span class="comment">// é‡æ–°å¼€å§‹</span></span><br><span class="line">        &#125;</span><br><span class="line">        last = nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    max = Math.max(max, curr); <span class="comment">// åˆ«å¿˜äº†æœ€åä¸€æ®µçš„è¿ç»­åŒºé—´</span></span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>## å¤æ‚åº¦åˆ†æ<ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(nlog(n))</em></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em><ul><li>å‰¯ä½œç”¨ï¼šå½±å“åŸæ•°ç»„</li></ul></li></ul><hr><h1 id="æ–¹æ³•äºŒï¼šé›†åˆ"><a href="#æ–¹æ³•äºŒï¼šé›†åˆ" class="headerlink" title="æ–¹æ³•äºŒï¼šé›†åˆ"></a>æ–¹æ³•äºŒï¼šé›†åˆ</h1><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ul><li>åˆ©ç”¨ <em>O(1)</em> æ—¶é—´å¤æ‚åº¦ã€ŒæŸ¥è¯¢æ˜¯å¦æœ‰ä¸‹ä¸€ä¸ªã€</li><li>ä¼˜åŒ–ï¼šå¦‚æœæœ‰æ¯”è‡ªå·±å°ä¸€ç‚¹çš„ï¼Œé‚£è‡ªå·±ä¸æŸ¥ï¼Œè®©å°çš„å»æŸ¥ï¼ˆè¯¦è§ä»£ç ï¼‰<ul><li>è´ªå¿ƒæ€æƒ³ï¼Ÿ</li></ul></li></ul><h2 id="å‚è€ƒä»£ç -1"><a href="#å‚è€ƒä»£ç -1" class="headerlink" title="å‚è€ƒä»£ç "></a>å‚è€ƒä»£ç </h2><details>    <summary>é›†åˆ</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n = nums.length, max = <span class="number">1</span>;</span><br><span class="line">    Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v : nums) set.add(v);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v : nums) &#123;</span><br><span class="line">        <span class="comment">// æŠ€å·§ï¼šå¦‚æœæœ‰æ¯”è‡ªå·±å°ä¸€ç‚¹çš„ï¼Œé‚£è‡ªå·±ä¸æŸ¥ï¼Œè®©å°çš„å»æŸ¥</span></span><br><span class="line">        <span class="keyword">if</span> (set.contains(v - <span class="number">1</span>)) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> r = v; <span class="comment">// r: right è¡¨ç¤ºã€Œä»¥ v å¼€å¤´ï¼Œèƒ½è¿ç»­åˆ°å¤šå°‘ã€</span></span><br><span class="line">        <span class="keyword">while</span> (set.contains(r + <span class="number">1</span>)) r++; <span class="comment">// é€ä¸ªæŸ¥çœ‹</span></span><br><span class="line">        max = Math.max(max, r - v + <span class="number">1</span>); <span class="comment">// è®°å½•åŒºé—´ [v, r] é•¿åº¦</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>## å¤æ‚åº¦åˆ†æ<ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em><ul><li>è™½ <code>for</code> å†…æœ‰ <code>while</code>ï¼Œä½†æ¯ä¸ªå…ƒç´ æœ€å¤šè¢«æŸ¥ <code>2</code> æ¬¡</li><li>ç¬¬ä¸€æ¬¡åœ¨ <code>set.contains(v - 1)</code>ï¼Œå¦‚å…ƒç´  <code>5</code> è¢« <code>6</code> æŸ¥</li><li>ç¬¬äºŒæ¬¡åœ¨ <code>set.contains(r + 1)</code>ï¼Œå¦‚å…ƒç´  <code>5</code> è¢« <code>4</code> æŸ¥</li></ul></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em></li></ul><hr><h1 id="æ–¹æ³•ä¸‰ï¼šå“ˆå¸Œè¡¨"><a href="#æ–¹æ³•ä¸‰ï¼šå“ˆå¸Œè¡¨" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šå“ˆå¸Œè¡¨"></a>æ–¹æ³•ä¸‰ï¼šå“ˆå¸Œè¡¨</h1><h2 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ul><li>è™½ç„¶ä»£ç ç»“æ„ä¸ä¸Šè¿° ã€Œæ–¹æ³•äºŒï¼šé›†åˆã€ååˆ†ç›¸ä¼¼ï¼Œä½†æ€è·¯ç”±å·®å¼‚ï¼Œå€¼å¾—æåŠ</li><li>å°‘äº†æ–¹æ³•äºŒçš„ä¼˜åŒ–ï¼šåªå¯¹å°çš„æ‰§è¡ŒæŸ¥è¯¢</li><li>åˆ©ç”¨å‰é¢å·²çŸ¥çš„å³è¾¹ç•Œï¼Œå¿«é€Ÿæ‰¾åˆ°å½“å‰éœ€è¦çš„å³è¾¹ç•Œï¼ˆè¯¦è§ä»£ç ï¼‰<ul><li>è®°å¿†åŒ–</li></ul></li></ul><h2 id="å‚è€ƒä»£ç -2"><a href="#å‚è€ƒä»£ç -2" class="headerlink" title="å‚è€ƒä»£ç "></a>å‚è€ƒä»£ç </h2><details>    <summary>å“ˆå¸Œè¡¨</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;(); <span class="comment">// è®°å½•åŒºé—´ [v, r]</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v : nums) map.put(v, v);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v : nums) &#123;</span><br><span class="line">        <span class="keyword">int</span> r = v;</span><br><span class="line">        <span class="keyword">while</span> (map.containsKey(r + <span class="number">1</span>))</span><br><span class="line">            r = map.get(r + <span class="number">1</span>); <span class="comment">// åˆ©ç”¨å‰é¢å·²çŸ¥çš„å³è¾¹ç•Œï¼Œå¿«é€Ÿæ‰¾åˆ°å½“å‰éœ€è¦çš„å³è¾¹ç•Œ</span></span><br><span class="line">        map.put(v, r);</span><br><span class="line">        max = Math.max(max, r - v + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>## å¤æ‚åº¦åˆ†æ<ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em></li></ul><hr><h1 id="æ–¹æ³•å››ï¼šå¹¶æŸ¥é›†"><a href="#æ–¹æ³•å››ï¼šå¹¶æŸ¥é›†" class="headerlink" title="æ–¹æ³•å››ï¼šå¹¶æŸ¥é›†"></a>æ–¹æ³•å››ï¼šå¹¶æŸ¥é›†</h1><h2 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ul><li>åˆå§‹ï¼šæ‰€æœ‰å…ƒç´ å„è‡ªä¸ºæˆ˜</li><li>é¦–æ¬¡éå†ï¼šæ‰€æœ‰å…ƒç´  <code>x</code> å‘å„è‡ªé‚»å±… <code>x + 1</code>ï¼Œå‘èµ·ç»“ç›Ÿï¼Œå¹¶ã€Œä»¥å¤§è€…ä¸ºé¢†é˜Ÿã€<ul><li>è‹¥æœ‰é‚»å±…ï¼Œæ‰ç»“ç›ŸæˆåŠŸ</li><li>é¢†é˜Ÿï¼Œå³ åŒºé—´å³è¾¹ç•Œ</li><li>ä¸åªæ˜¯å…ƒç´  <code>x</code> ä¸é‚»å±… <code>x + 1</code> ç»“ç›Ÿï¼Œè€Œæ˜¯æ•´ä¸ª <code>x</code> æ‰€åœ¨é˜Ÿä¼ä¸æ•´ä¸ª <code>x + 1</code> æ‰€åœ¨é˜Ÿä¼ç»“ç›Ÿ<ul><li>å¦‚ <code>[1, 2, 3]</code> ä¸ <code>[4, 5]</code> ä¸¤ä¸ªé˜Ÿä¼ç»“ç›Ÿ</li></ul></li></ul></li><li>äºŒæ¬¡éå†ï¼šè®°å½•æ‰€æœ‰äººä¸å…¶é¢†é˜Ÿè·ç¦»<ul><li>è·ç¦»ï¼Œå³ åŒºé—´å³è¾¹ç•Œ - å½“å‰å…ƒç´  + 1</li></ul></li></ul><h2 id="å‚è€ƒä»£ç -3"><a href="#å‚è€ƒä»£ç -3" class="headerlink" title="å‚è€ƒä»£ç "></a>å‚è€ƒä»£ç </h2><details>    <summary>å¹¶æŸ¥é›†</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é¦–æ¬¡éå†ï¼Œä¸é‚»å±…ç»“ç›Ÿ</span></span><br><span class="line">    UnionFind uf = <span class="keyword">new</span> UnionFind(nums);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v : nums)</span><br><span class="line">        uf.union(v, v + <span class="number">1</span>); <span class="comment">// uf.union() ç»“ç›Ÿ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// äºŒæ¬¡éå†ï¼Œè®°å½•é¢†é˜Ÿè·ç¦»</span></span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v : nums)</span><br><span class="line">        max = Math.max(max, uf.find(v) - v + <span class="number">1</span>); <span class="comment">// uf.find() æŸ¥æ‰¾é¢†é˜Ÿ</span></span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¶æŸ¥é›†å®šä¹‰ï¼Œæ”¾åœ¨ä¸€èµ·å³å¯é€šè¿‡</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnionFind</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count;<span class="comment">//è¿˜å‰©å‡ æ”¯é˜Ÿä¼</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;Integer, Integer&gt; parent; <span class="comment">// (curr, leader)</span></span><br><span class="line"></span><br><span class="line">    UnionFind(<span class="keyword">int</span>[] arr) &#123;</span><br><span class="line">        count = arr.length;</span><br><span class="line">        parent = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v : arr)</span><br><span class="line">            parent.put(v, v); <span class="comment">// åˆå§‹æ—¶ï¼Œå„è‡ªä¸ºæˆ˜ï¼Œè‡ªå·±æ˜¯è‡ªå·±çš„é¢†é˜Ÿ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»“ç›Ÿ</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä¸åªæ˜¯ p ä¸ q ç»“ç›Ÿï¼Œè€Œæ˜¯æ•´ä¸ª p æ‰€åœ¨é˜Ÿä¼ ä¸ q æ‰€åœ¨é˜Ÿä¼ç»“ç›Ÿ</span></span><br><span class="line">        <span class="comment">// ç»“ç›Ÿéœ€å„é¢†é˜Ÿå‡ºé¢ï¼Œè€Œä¸æ˜¯å°å¼Ÿå‡ºé¢</span></span><br><span class="line">        Integer rootP = find(p), rootQ = find(q);</span><br><span class="line">        <span class="keyword">if</span> (rootP == rootQ) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (rootP == <span class="keyword">null</span> || rootQ == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç»“ç›Ÿ</span></span><br><span class="line">        parent.put(rootP, rootQ); <span class="comment">// è°å¤§å¬è°</span></span><br><span class="line">        <span class="comment">// åº”å– maxï¼Œè€Œæœ¬é¢˜å·²æ˜ç¡® p &lt; q æ‰å¯è¿™ä¹ˆå†™</span></span><br><span class="line">        <span class="comment">// å½“å‰å†™æ³•æœ‰æŸå°è£…æ€§ï¼Œç®—æ³•é¢˜å¯ä¸çº ç»“</span></span><br><span class="line"></span><br><span class="line">        count--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾é¢†é˜Ÿ</span></span><br><span class="line">    <span class="function">Integer <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!parent.containsKey(p))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€’å½’å‘ä¸Šæ‰¾é¢†é˜Ÿ</span></span><br><span class="line">        <span class="keyword">int</span> root = p;</span><br><span class="line">        <span class="keyword">while</span> (root != parent.get(root))</span><br><span class="line">            root = parent.get(root);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·¯å¾„å‹ç¼©ï¼šæ‰å¹³åŒ–ç®¡ç†ï¼Œé¿å…æ—¥åæ‰¾é¢†é˜Ÿå±‚çº§è¿‡æ·±</span></span><br><span class="line">        <span class="keyword">while</span> (p != parent.get(p)) &#123;</span><br><span class="line">            <span class="keyword">int</span> curr = p;</span><br><span class="line">            p = parent.get(p);</span><br><span class="line">            parent.put(curr, root);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>## å¤æ‚åº¦åˆ†æ<ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºæœ€é•¿è¿ç»­åºåˆ—çš„é•¿åº¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Union Find" scheme="http://yoursite.com/tags/Union-Find/"/>
    
  </entry>
  
  <entry>
    <title>395. è‡³å°‘æœ‰Kä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</title>
    <link href="http://yoursite.com/2020/08/31/395.%20%E8%87%B3%E5%B0%91%E6%9C%89K%E4%B8%AA%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/"/>
    <id>http://yoursite.com/2020/08/31/395. è‡³å°‘æœ‰Kä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²/</id>
    <published>2020-08-31T02:40:12.000Z</published>
    <updated>2020-08-31T07:17:03.148Z</updated>
    
    <content type="html"><![CDATA[<p>æ‰¾åˆ°ç»™å®šå­—ç¬¦ä¸²ï¼ˆç”±å°å†™å­—ç¬¦ç»„æˆï¼‰ä¸­çš„æœ€é•¿å­ä¸² T ï¼Œ è¦æ±‚ T ä¸­çš„æ¯ä¸€å­—ç¬¦å‡ºç°æ¬¡æ•°éƒ½ä¸å°‘äº k ã€‚è¾“å‡º T çš„é•¿åº¦ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥:s = &quot;aaabb&quot;, k = 3è¾“å‡º:3</code></pre><p>æœ€é•¿å­ä¸²ä¸º â€œaaaâ€ ï¼Œå…¶ä¸­ â€˜aâ€™ é‡å¤äº† 3 æ¬¡ã€‚<br>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥:s = &quot;ababbc&quot;, k = 2è¾“å‡º:5</code></pre><p>æœ€é•¿å­ä¸²ä¸º â€œababbâ€ ï¼Œå…¶ä¸­ â€˜aâ€™ é‡å¤äº† 2 æ¬¡ï¼Œ â€˜bâ€™ é‡å¤äº† 3 æ¬¡ã€‚</p><h1 id="Javaé€’å½’"><a href="#Javaé€’å½’" class="headerlink" title="Javaé€’å½’"></a>Javaé€’å½’</h1><p>è§£é¢˜æ€è·¯ï¼šé€’å½’æ‹†åˆ†å­ä¸²ï¼Œåˆ†æ²»ã€‚å…ˆç»Ÿè®¡å‡ºæ¯ä¸ªå­—ç¬¦å‡ºç°çš„é¢‘æ¬¡ï¼Œç»´æŠ¤ä¸€å¯¹åŒæŒ‡é’ˆï¼Œä»é¦–å°¾å¼€å§‹ç»Ÿè®¡ï¼Œä»é¦–å°¾å¾€ä¸­é—´æ’é™¤ï¼Œå¦‚æœå‡ºç°æ¬¡æ•°å°äºkåˆ™ä¸å¯èƒ½å‡ºç°åœ¨æœ€ç»ˆå­ä¸²ä¸­ï¼Œæ’é™¤å¹¶æŒªåŠ¨æŒ‡é’ˆï¼Œç„¶åå¾—åˆ°ä¸´æ—¶å­ä¸²ï¼Œä¾æ¬¡ä»å¤´éå†ï¼Œä¸€æ—¦å‘ç°å‡ºç°é¢‘æ¬¡å°äºkçš„å­—ç¬¦ï¼Œä»¥è¯¥å­—ç¬¦ä¸ºåˆ†å‰²çº¿ï¼Œåˆ†åˆ«é€’å½’æ±‚å…¶æœ€å¤§å€¼è¿”å›ã€‚</p><details>    <summary>é€’å½’</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int longestSubstring(String s, int k) &#123;</span><br><span class="line">        int len = s.length();</span><br><span class="line">        if (len == 0 || k &gt; len) return 0;</span><br><span class="line">        if (k &lt; 2) return len;</span><br><span class="line"></span><br><span class="line">        return count(s.toCharArray(), k, 0, len - 1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static int count(char[] chars, int k, int p1, int p2) &#123;</span><br><span class="line">        if (p2 - p1 + 1 &lt; k) return 0;</span><br><span class="line">        int[] times = new int[26];  //  26ä¸ªå­—æ¯</span><br><span class="line">        //  ç»Ÿè®¡å‡ºç°é¢‘æ¬¡</span><br><span class="line">        for (int i = p1; i &lt;= p2; ++i) &#123;</span><br><span class="line">            ++times[chars[i] - &apos;a&apos;];</span><br><span class="line">        &#125;</span><br><span class="line">        //  å¦‚æœè¯¥å­—ç¬¦å‡ºç°é¢‘æ¬¡å°äºkï¼Œåˆ™ä¸å¯èƒ½å‡ºç°åœ¨ç»“æœå­ä¸²ä¸­</span><br><span class="line">        //  åˆ†åˆ«æ’é™¤ï¼Œç„¶åæŒªåŠ¨ä¸¤ä¸ªæŒ‡é’ˆ</span><br><span class="line">        while (p2 - p1 + 1 &gt;= k &amp;&amp; times[chars[p1] - &apos;a&apos;] &lt; k) &#123;</span><br><span class="line">            ++p1;</span><br><span class="line">        &#125;</span><br><span class="line">        while (p2 - p1 + 1 &gt;= k &amp;&amp; times[chars[p2] - &apos;a&apos;] &lt; k) &#123;</span><br><span class="line">            --p2;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (p2 - p1 + 1 &lt; k) return 0;</span><br><span class="line">        //  å¾—åˆ°ä¸´æ—¶å­ä¸²ï¼Œå†é€’å½’å¤„ç†</span><br><span class="line">        for (int i = p1; i &lt;= p2; ++i) &#123;</span><br><span class="line">            //  å¦‚æœç¬¬iä¸ªä¸ç¬¦åˆè¦æ±‚ï¼Œåˆ‡åˆ†æˆå·¦å³ä¸¤æ®µåˆ†åˆ«é€’å½’æ±‚å¾—</span><br><span class="line">            if (times[chars[i] - &apos;a&apos;] &lt; k) &#123;</span><br><span class="line">                return Math.max(count(chars, k, p1, i - 1), count(chars, k, i + 1, p2));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return p2 - p1 + 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ‰¾åˆ°ç»™å®šå­—ç¬¦ä¸²ï¼ˆç”±å°å†™å­—ç¬¦ç»„æˆï¼‰ä¸­çš„æœ€é•¿å­ä¸² T ï¼Œ è¦æ±‚ T ä¸­çš„æ¯ä¸€å­—ç¬¦å‡ºç°æ¬¡æ•°éƒ½ä¸å°‘äº k ã€‚è¾“å‡º T çš„é•¿åº¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡ offer51.æ•°ç»„ä¸­çš„é€†åºå¯¹</title>
    <link href="http://yoursite.com/2020/08/26/%E5%89%91%E6%8C%87%20offer51.%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E9%80%86%E5%BA%8F%E5%AF%B9/"/>
    <id>http://yoursite.com/2020/08/26/å‰‘æŒ‡ offer51.æ•°ç»„ä¸­çš„é€†åºå¯¹/</id>
    <published>2020-08-26T07:15:12.000Z</published>
    <updated>2020-08-26T10:06:27.373Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¦‚æœå‰é¢ä¸€ä¸ªæ•°å­—å¤§äºåé¢çš„æ•°å­—ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ±‚å‡ºè¿™ä¸ªæ•°ç»„ä¸­çš„é€†åºå¯¹çš„æ€»æ•°ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1: </p><pre><code>è¾“å…¥: [7,5,6,4]è¾“å‡º: 5 </code></pre><p> é™åˆ¶ï¼š </p><p> 0 &lt;= æ•°ç»„é•¿åº¦ &lt;= 50000</p><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="0a3b59f0-4902-4b35-b605-cf2ded591a8b">é¢è¯•é¢˜ 51. æ•°ç»„ä¸­çš„é€†åºå¯¹.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šå½’å¹¶æ’åº"><a href="#æ–¹æ³•ä¸€ï¼šå½’å¹¶æ’åº" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå½’å¹¶æ’åº"></a>æ–¹æ³•ä¸€ï¼šå½’å¹¶æ’åº</h2><p><strong>é¢„å¤‡çŸ¥è¯†</strong></p><p>ã€Œå½’å¹¶æ’åºã€æ˜¯åˆ†æ²»æ€æƒ³çš„å…¸å‹åº”ç”¨ï¼Œå®ƒåŒ…å«è¿™æ ·ä¸‰ä¸ªæ­¥éª¤ï¼š</p><ul><li><strong>åˆ†è§£ï¼š</strong> å¾…æ’åºçš„åŒºé—´ä¸º <em>[l, r]*ï¼Œä»¤m=(l+r)/2ï¼Œæˆ‘ä»¬æŠŠ *[l, r]</em> åˆ†æˆ <em>[l, m]</em> å’Œ <em>[m + 1, r]</em></li><li><strong>è§£å†³ï¼š</strong> ä½¿ç”¨å½’å¹¶æ’åºé€’å½’åœ°æ’åºä¸¤ä¸ªå­åºåˆ—</li><li><strong>åˆå¹¶ï¼š</strong> æŠŠä¸¤ä¸ªå·²ç»æ’å¥½åºçš„å­åºåˆ— <em>[l, m]</em> å’Œ <em>[m + 1, r]</em> åˆå¹¶èµ·æ¥</li></ul><p>åœ¨å¾…æ’åºåºåˆ—é•¿åº¦ä¸º <em>1</em> çš„æ—¶å€™ï¼Œé€’å½’å¼€å§‹ã€Œå›å‡ã€ï¼Œå› ä¸ºæˆ‘ä»¬é»˜è®¤é•¿åº¦ä¸º <em>1</em> çš„åºåˆ—æ˜¯æ’å¥½åºçš„ã€‚</p><p><strong>æ€è·¯</strong></p><p>é‚£ä¹ˆæ±‚é€†åºå¯¹å’Œå½’å¹¶æ’åºåˆæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿå…³é”®å°±åœ¨äºã€Œå½’å¹¶ã€å½“ä¸­ã€Œå¹¶ã€çš„è¿‡ç¨‹ã€‚æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®ä¾‹æ¥çœ‹çœ‹ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªå·²æ’åºçš„åºåˆ—ç­‰å¾…åˆå¹¶ï¼Œåˆ†åˆ«æ˜¯ L={8,12,16,22,100} å’Œ R={9,26,55,64,91}ã€‚ä¸€å¼€å§‹æˆ‘ä»¬ç”¨æŒ‡é’ˆ <code>lPtr = 0</code> æŒ‡å‘ <em>L</em> çš„é¦–éƒ¨ï¼Œ<code>rPtr = 0</code> æŒ‡å‘ <em>R</em> çš„å¤´éƒ¨ã€‚è®°å·²ç»åˆå¹¶å¥½çš„éƒ¨åˆ†ä¸º <em>M</em>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [8, 12, 16, 22, 100]   R = [9, 26, 55, 64, 91]  M = []</span><br><span class="line">     |                          |</span><br><span class="line">   lPtr                       rPtr</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç° <code>lPtr</code> æŒ‡å‘çš„å…ƒç´ å°äº <code>rPtr</code> æŒ‡å‘çš„å…ƒç´ ï¼Œäºæ˜¯æŠŠ <code>lPtr</code> æŒ‡å‘çš„å…ƒç´ æ”¾å…¥ç­”æ¡ˆï¼Œå¹¶æŠŠ <code>lPtr</code> åç§»ä¸€ä½ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [8, 12, 16, 22, 100]   R = [9, 26, 55, 64, 91]  M = [8]</span><br><span class="line">        |                       |</span><br><span class="line">      lPtr                     rPtr</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æŠŠå·¦è¾¹çš„ <em>8</em> åŠ å…¥äº†ç­”æ¡ˆï¼Œæˆ‘ä»¬å‘ç°å³è¾¹æ²¡æœ‰æ•°æ¯” <em>8</em> å°ï¼Œæ‰€ä»¥ <em>8</em> å¯¹é€†åºå¯¹æ€»æ•°çš„ã€Œè´¡çŒ®ã€ä¸º <em>0</em>ã€‚</p><p>æ¥ç€æˆ‘ä»¬ç»§ç»­åˆå¹¶ï¼ŒæŠŠ <em>9</em> åŠ å…¥äº†ç­”æ¡ˆï¼Œæ­¤æ—¶ <code>lPtr</code> æŒ‡å‘ <em>12</em>ï¼Œ<code>rPtr</code> æŒ‡å‘ <em>26</em>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [8, 12, 16, 22, 100]   R = [9, 26, 55, 64, 91]  M = [8, 9]</span><br><span class="line">        |                          |</span><br><span class="line">       lPtr                       rPtr</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ <code>lPtr</code> æ¯” <code>rPtr</code> å°ï¼ŒæŠŠ <code>lPtr</code> å¯¹åº”çš„æ•°åŠ å…¥ç­”æ¡ˆï¼Œå¹¶è€ƒè™‘å®ƒå¯¹é€†åºå¯¹æ€»æ•°çš„è´¡çŒ®ä¸º <code>rPtr</code> ç›¸å¯¹ <em>R</em> é¦–ä½ç½®çš„åç§» <em>1</em>ï¼ˆå³å³è¾¹åªæœ‰ä¸€ä¸ªæ•°æ¯” <em>12</em> å°ï¼Œæ‰€ä»¥åªæœ‰å®ƒå’Œ <em>12</em> æ„æˆé€†åºå¯¹ï¼‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>æˆ‘ä»¬å‘ç°ç”¨è¿™ç§ã€Œç®—è´¡çŒ®ã€çš„æ€æƒ³åœ¨åˆå¹¶çš„è¿‡ç¨‹ä¸­è®¡ç®—é€†åºå¯¹çš„æ•°é‡çš„æ—¶å€™ï¼Œåªåœ¨ <code>lPtr</code> å³ç§»çš„æ—¶å€™è®¡ç®—ï¼Œæ˜¯åŸºäºè¿™æ ·çš„äº‹å®ï¼šå½“å‰ <code>lPtr</code> æŒ‡å‘çš„æ•°å­—æ¯” <code>rPtr</code> å°ï¼Œä½†æ˜¯æ¯” <em>R</em> ä¸­ <code>[0 ... rPtr - 1]</code> çš„å…¶ä»–æ•°å­—å¤§ï¼Œ<code>[0 ... rPtr - 1]</code> çš„å…¶ä»–æ•°å­—æœ¬åº”å½“æ’åœ¨ <code>lPtr</code> å¯¹åº”æ•°å­—çš„å·¦è¾¹ï¼Œä½†æ˜¯å®ƒæ’åœ¨äº†å³è¾¹ï¼Œæ‰€ä»¥è¿™é‡Œå°±è´¡çŒ®äº† <code>rPtr</code> ä¸ªé€†åºå¯¹ã€‚</p><p>åˆ©ç”¨è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºå¦‚ä¸‹ä»£ç ã€‚å®˜æ–¹é¢˜è§£å†™çš„æ¯”è¾ƒæ™¦æ¶©ï¼Œæˆ‘åœ¨Javaç‰ˆä»£ç é‡Œæ¢äº†ä¸€ç§ç›¸å½“å®¹æ˜“ç†è§£çš„å½¢å¼ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>å½’å¹¶æ’åºC++ </summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">mergeSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; tmp, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l &gt;= r) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> inv_count = mergeSort(nums, tmp, l, mid) + mergeSort(nums, tmp, mid + <span class="number">1</span>, r);</span><br><span class="line">        <span class="keyword">int</span> i = l, j = mid + <span class="number">1</span>, pos = l;</span><br><span class="line">        <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &lt;= nums[j]) &#123;</span><br><span class="line">                tmp[pos] = nums[i];</span><br><span class="line">                ++i;</span><br><span class="line">                inv_count += (j - (mid + <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                tmp[pos] = nums[j];</span><br><span class="line">                ++j;</span><br><span class="line">            &#125;</span><br><span class="line">            ++pos;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = i; k &lt;= mid; ++k) &#123;</span><br><span class="line">            tmp[pos++] = nums[k];</span><br><span class="line">            inv_count += (j - (mid + <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = j; k &lt;= r; ++k) &#123;</span><br><span class="line">            tmp[pos++] = nums[k];</span><br><span class="line">        &#125;</span><br><span class="line">        copy(tmp.begin() + l, tmp.begin() + r + <span class="number">1</span>, nums.begin() + l);</span><br><span class="line">        <span class="keyword">return</span> inv_count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">reversePairs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp(n);</span><br><span class="line">        <span class="keyword">return</span> mergeSort(nums, tmp, <span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å½’å¹¶æ’åºPython</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mergeSort</span><span class="params">(self, nums, tmp, l, r)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> l &gt;= r:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        mid = (l + r) // <span class="number">2</span></span><br><span class="line">        inv_count = self.mergeSort(nums, tmp, l, mid) + self.mergeSort(nums, tmp, mid + <span class="number">1</span>, r)</span><br><span class="line">        i, j, pos = l, mid + <span class="number">1</span>, l</span><br><span class="line">        <span class="keyword">while</span> i &lt;= mid <span class="keyword">and</span> j &lt;= r:</span><br><span class="line">            <span class="keyword">if</span> nums[i] &lt;= nums[j]:</span><br><span class="line">                tmp[pos] = nums[i]</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                inv_count += (j - (mid + <span class="number">1</span>))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                tmp[pos] = nums[j]</span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">            pos += <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> range(i, mid + <span class="number">1</span>):</span><br><span class="line">            tmp[pos] = nums[k]</span><br><span class="line">            inv_count += (j - (mid + <span class="number">1</span>))</span><br><span class="line">            pos += <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> range(j, r + <span class="number">1</span>):</span><br><span class="line">            tmp[pos] = nums[k]</span><br><span class="line">            pos += <span class="number">1</span></span><br><span class="line">        nums[l:r+<span class="number">1</span>] = tmp[l:r+<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> inv_count</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reversePairs</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        tmp = [<span class="number">0</span>] * n</span><br><span class="line">        <span class="keyword">return</span> self.mergeSort(nums, tmp, <span class="number">0</span>, n - <span class="number">1</span>)</span><br></pre></td></tr></table></figure></details><details>    <summary>å½’å¹¶æ’åºGolang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reversePairs</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> mergeSort(nums, <span class="number">0</span>, <span class="built_in">len</span>(nums)<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mergeSort</span><span class="params">(nums []<span class="keyword">int</span>, start, end <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> start &gt;= end &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    mid := start + (end - start)/<span class="number">2</span></span><br><span class="line">    cnt := mergeSort(nums, start, mid) + mergeSort(nums, mid + <span class="number">1</span>, end)</span><br><span class="line">    tmp := []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">    i, j := start, mid + <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i &lt;= mid &amp;&amp; j &lt;= end &#123;</span><br><span class="line">        <span class="keyword">if</span> nums[i] &lt;= nums[j] &#123;</span><br><span class="line">            tmp = <span class="built_in">append</span>(tmp, nums[i])</span><br><span class="line">            cnt += j - (mid + <span class="number">1</span>)</span><br><span class="line">            i++</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tmp = <span class="built_in">append</span>(tmp, nums[j])</span><br><span class="line">            j++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> ; i &lt;= mid; i++ &#123;</span><br><span class="line">        tmp = <span class="built_in">append</span>(tmp, nums[i])</span><br><span class="line">        cnt += end - (mid + <span class="number">1</span>) + <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> ; j &lt;= end; j++ &#123;</span><br><span class="line">        tmp = <span class="built_in">append</span>(tmp, nums[j])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := start; i &lt;= end; i++ &#123;</span><br><span class="line">        nums[i] = tmp[i - start]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å½’å¹¶æ’åºjava</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">reversePairs</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        mergeCount(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mergeCount</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums.length &lt; <span class="number">2</span> || nums == <span class="keyword">null</span> || left == right) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        mergeCount(nums, left, mid);</span><br><span class="line">        mergeCount(nums, mid + <span class="number">1</span>, right);</span><br><span class="line">        merge(nums, left, mid, right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * nums[left..mid] æœ‰åºï¼Œnums[mid + 1..right] æœ‰åºï¼Œè®¡ç®—é€†åºå¯¹ä¸ªæ•°å¹¶ä¸”æ’åº</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> left, <span class="keyword">int</span> mid, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] help = <span class="keyword">new</span> <span class="keyword">int</span>[right - left + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> p = help.length - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//ä¿å­˜ä¸­é—´çš„ä½ç½®ï¼Œå› ä¸ºåé¢midçš„å€¼ä¼šæ”¹å˜</span></span><br><span class="line">        <span class="keyword">int</span> temp = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (mid &gt;= left &amp;&amp; right &gt;= temp) &#123;</span><br><span class="line">            <span class="comment">//è®°å½•ä¸‹å½“å‰ä¸¤ä¸ªæœ‰åºæ•°ç»„ä¸­çš„é€†åºå¯¹ä¸ªæ•°</span></span><br><span class="line">            result = nums[mid] &gt; nums[right] ? result + right - temp+<span class="number">1</span> : result;</span><br><span class="line">            <span class="comment">//helpæ•°ç»„é‡Œä»å³å‘å·¦å¼€å§‹é™åºå­˜å‚¨numsæ•°ç»„ä¸­çš„å…ƒç´ </span></span><br><span class="line">            help[p--] = nums[mid] &gt; nums[right] ? nums[mid--] : nums[right--];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (mid &gt;= left) &#123;</span><br><span class="line">            help[p--] = nums[mid--];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (right &gt;= temp) &#123;</span><br><span class="line">            help[p--] = nums[right--];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//helpæ•°ç»„å­˜å‚¨çš„æ˜¯ä¸¤ä¸ªåˆå¹¶åçš„æœ‰åºæ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; help.length; i++) &#123;</span><br><span class="line">            nums[left + i] = help[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦**<p>è®°åºåˆ—é•¿åº¦ä¸º <em>n</em>ã€‚</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šåŒå½’å¹¶æ’åº O(nlogn) ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šåŒå½’å¹¶æ’åº <em>O(n)</em>ï¼Œå› ä¸ºå½’å¹¶æ’åºéœ€è¦ç”¨åˆ°ä¸€ä¸ªä¸´æ—¶æ•°ç»„ã€‚</li></ul><h2 id="æ–¹æ³•äºŒï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„"><a href="#æ–¹æ³•äºŒï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„" class="headerlink" title="æ–¹æ³•äºŒï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„"></a>æ–¹æ³•äºŒï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„</h2><p><strong>é¢„å¤‡çŸ¥è¯†</strong></p><p>ã€Œæ ‘çŠ¶æ•°ç»„ã€æ˜¯ä¸€ç§å¯ä»¥åŠ¨æ€ç»´æŠ¤åºåˆ—å‰ç¼€å’Œçš„æ•°æ®ç»“æ„ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ï¼š</p><ul><li><strong>å•ç‚¹æ›´æ–° <code>update(i, v)</code>ï¼š</strong> æŠŠåºåˆ— <em>i</em> ä½ç½®çš„æ•°åŠ ä¸Šä¸€ä¸ªå€¼ <em>v</em>ï¼Œè¿™é¢˜ <em>v = 1</em></li><li><strong>åŒºé—´æŸ¥è¯¢ <code>query(i)</code>ï¼š</strong> æŸ¥è¯¢åºåˆ—[1,â€¦,i] åŒºé—´çš„åŒºé—´å’Œï¼Œå³ <em>i</em> ä½ç½®çš„å‰ç¼€å’Œ</li></ul><p>ä¿®æ”¹å’ŒæŸ¥è¯¢çš„æ—¶é—´ä»£ä»·éƒ½æ˜¯ O(logn) ï¼Œå…¶ä¸­ <em>n</em> ä¸ºéœ€è¦ç»´æŠ¤å‰ç¼€å’Œçš„åºåˆ—çš„é•¿åº¦ã€‚</p><p><strong>æ€è·¯</strong></p><p>è®°é¢˜ç›®ç»™å®šçš„åºåˆ—ä¸º <em>a</em>ï¼Œæˆ‘ä»¬è§„å®š <em>a_i</em> çš„å–å€¼é›†åˆä¸º <em>a</em> çš„ã€Œå€¼åŸŸã€ã€‚æˆ‘ä»¬ç”¨æ¡¶æ¥è¡¨ç¤ºå€¼åŸŸä¸­çš„æ¯ä¸€ä¸ªæ•°ï¼Œæ¡¶ä¸­è®°å½•è¿™äº›æ•°å­—å‡ºç°çš„æ¬¡æ•°ã€‚å‡è®¾a={5,5,2,3,6} ï¼Œé‚£ä¹ˆéå†è¿™ä¸ªåºåˆ—å¾—åˆ°çš„æ¡¶æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">index  -&gt;  1 2 3 4 5 6 7 8 9</span><br><span class="line">value  -&gt;  0 1 1 0 2 1 0 0 0</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå®ƒç¬¬ <em>i - 1</em> ä½çš„å‰ç¼€å’Œè¡¨ç¤ºã€Œæœ‰å¤šå°‘ä¸ªæ•°æ¯” <em>i</em> å°ã€ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä»åå¾€å‰éå†åºåˆ— <em>a</em>ï¼Œè®°å½“å‰éå†åˆ°çš„å…ƒç´ ä¸º <em>a_i*ï¼Œæˆ‘ä»¬æŠŠ *a_i</em> å¯¹åº”çš„æ¡¶çš„å€¼è‡ªå¢ <em>1</em>ï¼ŒæŠŠ <em>i - 1</em> ä½ç½®çš„å‰ç¼€å’ŒåŠ å…¥åˆ°ç­”æ¡ˆä¸­ç®—è´¡çŒ®ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆåšæ˜¯å¯¹çš„å‘¢ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨å¾ªç¯çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æŠŠåŸåºåˆ—åˆ†æˆäº†ä¸¤éƒ¨åˆ†ï¼ŒååŠéƒ¨éƒ¨åˆ†å·²ç»éå†è¿‡ï¼ˆå·²å…¥æ¡¶ï¼‰ï¼Œå‰åŠéƒ¨åˆ†æ˜¯å¾…éå†çš„ï¼ˆæœªå…¥æ¡¶ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ±‚åˆ°çš„ <em>i - 1</em> ä½ç½®çš„å‰ç¼€å’Œå°±æ˜¯ã€Œå·²å…¥æ¡¶ã€çš„å…ƒç´ ä¸­æ¯” <em>a_i</em> å°çš„å…ƒç´ çš„æ€»å’Œï¼Œè€Œè¿™äº›å…ƒç´ åœ¨åŸåºåˆ—ä¸­æ’åœ¨ <em>a_i</em> çš„åé¢ï¼Œä½†å®ƒä»¬æœ¬åº”è¯¥æ’åœ¨ <em>a_i</em> çš„å‰é¢ï¼Œè¿™æ ·å°±å½¢æˆäº†é€†åºå¯¹ã€‚</p><p>æˆ‘ä»¬æ˜¾ç„¶å¯ä»¥ç”¨æ•°ç»„æ¥å®ç°è¿™ä¸ªæ¡¶ï¼Œå¯é—®é¢˜æ˜¯å¦‚æœ <em>a_i</em> ä¸­æœ‰å¾ˆå¤§çš„å…ƒç´ ï¼Œæ¯”å¦‚ <em>10^9*ï¼Œæˆ‘ä»¬å°±è¦å¼€ä¸€ä¸ªå¤§å°ä¸º *10^9</em> çš„æ¡¶ï¼Œå†…å­˜ä¸­æ˜¯å­˜ä¸ä¸‹çš„ã€‚è¿™ä¸ªæ¡¶æ•°ç»„ä¸­å¾ˆå¤šä½ç½®æ˜¯ <em>0</em>ï¼Œæœ‰æ•ˆä½ç½®æ˜¯ç¨€ç–çš„ï¼Œæˆ‘ä»¬è¦æƒ³ä¸€ä¸ªåŠæ³•è®©æœ‰æ•ˆçš„ä½ç½®å…¨èšé›†åˆ°ä¸€èµ·ï¼Œå‡å°‘æ— æ•ˆä½ç½®çš„å‡ºç°ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ–¹æ³•â€”â€”ç¦»æ•£åŒ–ã€‚</p><p>ç¦»æ•£åŒ–ä¸€ä¸ªåºåˆ—çš„å‰ææ˜¯æˆ‘ä»¬åªå…³å¿ƒè¿™ä¸ªåºåˆ—é‡Œé¢å…ƒç´ çš„ç›¸å¯¹å¤§å°ï¼Œè€Œä¸å…³å¿ƒç»å¯¹å¤§å°ï¼ˆå³åªå…³å¿ƒå…ƒç´ åœ¨åºåˆ—ä¸­çš„æ’åï¼‰ï¼›ç¦»æ•£åŒ–çš„ç›®çš„æ˜¯è®©åŸæ¥åˆ†å¸ƒé›¶æ•£çš„å€¼èšé›†åˆ°ä¸€èµ·ï¼Œå‡å°‘ç©ºé—´æµªè´¹ã€‚é‚£ä¹ˆå¦‚ä½•è·å¾—å…ƒç´ æ’åå‘¢ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹åŸåºåˆ—æ’åºåå»é‡ï¼Œå¯¹äºæ¯ä¸€ä¸ª <em>a_i</em> é€šè¿‡äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼è®¡ç®—æ’åä½œä¸ºç¦»æ•£åŒ–ä¹‹åçš„å€¼ã€‚å½“ç„¶è¿™é‡Œä¹Ÿå¯ä»¥ä¸å»é‡ï¼Œä¸å½±å“æ’åã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BIT</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tree;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BIT(<span class="keyword">int</span> _n): n(_n), tree(_n + <span class="number">1</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (x) &#123;</span><br><span class="line">            ret += tree[x];</span><br><span class="line">            x -= lowbit(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (x &lt;= n) &#123;</span><br><span class="line">            ++tree[x];</span><br><span class="line">            x += lowbit(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">reversePairs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp = nums;</span><br><span class="line">        <span class="comment">// ç¦»æ•£åŒ–</span></span><br><span class="line">        sort(tmp.begin(), tmp.end());</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>&amp; num: nums) &#123;</span><br><span class="line">            num = lower_bound(tmp.begin(), tmp.end(), num) - tmp.begin() + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ ‘çŠ¶æ•°ç»„ç»Ÿè®¡é€†åºå¯¹</span></span><br><span class="line">        <span class="function">BIT <span class="title">bit</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            ans += bit.query(nums[i] - <span class="number">1</span>);</span><br><span class="line">            bit.update(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„Python</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BIT</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.n = n</span><br><span class="line">        self.tree = [<span class="number">0</span>] * (n + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lowbit</span><span class="params">(x)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> x &amp; (-x)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">query</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        ret = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> x &gt; <span class="number">0</span>:</span><br><span class="line">            ret += self.tree[x]</span><br><span class="line">            x -= BIT.lowbit(x)</span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> x &lt;= self.n:</span><br><span class="line">            self.tree[x] += <span class="number">1</span></span><br><span class="line">            x += BIT.lowbit(x)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reversePairs</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        <span class="comment"># ç¦»æ•£åŒ–</span></span><br><span class="line">        tmp = sorted(nums)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            nums[i] = bisect.bisect_left(tmp, nums[i]) + <span class="number">1</span></span><br><span class="line">        <span class="comment"># æ ‘çŠ¶æ•°ç»„ç»Ÿè®¡é€†åºå¯¹</span></span><br><span class="line">        bit = BIT(n)</span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n - <span class="number">1</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">            ans += bit.query(nums[i] - <span class="number">1</span>)</span><br><span class="line">            bit.update(nums[i])</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„Golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reversePairs</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">     n := <span class="built_in">len</span>(nums)</span><br><span class="line">     tmp := <span class="built_in">make</span>([]<span class="keyword">int</span>, n)</span><br><span class="line">     <span class="built_in">copy</span>(tmp, nums)</span><br><span class="line">     sort.Ints(tmp)</span><br><span class="line"></span><br><span class="line">     <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">         nums[i] = sort.SearchInts(tmp, nums[i]) + <span class="number">1</span></span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     bit := BIT&#123;</span><br><span class="line">         n: n,</span><br><span class="line">         tree: <span class="built_in">make</span>([]<span class="keyword">int</span>, n + <span class="number">1</span>),</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     ans := <span class="number">0</span></span><br><span class="line">     <span class="keyword">for</span> i := n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">         ans += bit.query(nums[i] - <span class="number">1</span>)</span><br><span class="line">         bit.update(nums[i])</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> BIT <span class="keyword">struct</span> &#123;</span><br><span class="line">    n <span class="keyword">int</span></span><br><span class="line">    tree []<span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b BIT)</span> <span class="title">lowbit</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123; <span class="keyword">return</span> x &amp; (-x) &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b BIT)</span> <span class="title">query</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    ret := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> x &gt; <span class="number">0</span> &#123;</span><br><span class="line">        ret += b.tree[x]</span><br><span class="line">        x -= b.lowbit(x)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b BIT)</span> <span class="title">update</span><span class="params">(x <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> x &lt;= b.n &#123;</span><br><span class="line">        b.tree[x]++</span><br><span class="line">        x += b.lowbit(x)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šç¦»æ•£åŒ–çš„è¿‡ç¨‹ä¸­ä½¿ç”¨äº†æ—¶é—´ä»£ä»·ä¸ºO(nlogn) çš„æ’åºï¼Œå•æ¬¡äºŒåˆ†çš„æ—¶é—´ä»£ä»·ä¸ºO(logn)ï¼Œä¸€å…±æœ‰ <em>n</em> æ¬¡ï¼Œæ€»æ—¶é—´ä»£ä»·ä¸º O(nlogn)ï¼›å¾ªç¯æ‰§è¡Œ <em>n</em> æ¬¡ï¼Œæ¯æ¬¡è¿›è¡Œ O(logn) çš„ä¿®æ”¹å’Œ O(logn) çš„æŸ¥æ‰¾ï¼Œæ€»æ—¶é—´ä»£ä»·ä¸º  O(nlogn)ã€‚æ•…æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º  O(nlogn)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šæ ‘çŠ¶æ•°ç»„éœ€è¦ä½¿ç”¨é•¿åº¦ä¸º <em>n</em> çš„æ•°ç»„ä½œä¸ºè¾…åŠ©ç©ºé—´ï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¦‚æœå‰é¢ä¸€ä¸ªæ•°å­—å¤§äºåé¢çš„æ•°å­—ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ±‚å‡ºè¿™ä¸ªæ•°ç»„ä¸­çš„é€†åºå¯¹çš„æ€»æ•°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Coding Interviews" scheme="http://yoursite.com/tags/Coding-Interviews/"/>
    
  </entry>
  
  <entry>
    <title>315. è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°</title>
    <link href="http://yoursite.com/2020/08/26/315.%20%E8%AE%A1%E7%AE%97%E5%8F%B3%E4%BE%A7%E5%B0%8F%E4%BA%8E%E5%BD%93%E5%89%8D%E5%85%83%E7%B4%A0%E7%9A%84%E4%B8%AA%E6%95%B0/"/>
    <id>http://yoursite.com/2020/08/26/315. è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°/</id>
    <published>2020-08-26T06:12:12.000Z</published>
    <updated>2020-08-31T07:17:30.728Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼ŒæŒ‰è¦æ±‚è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ countsã€‚æ•°ç»„ counts æœ‰è¯¥æ€§è´¨ï¼š counts[i] çš„å€¼æ˜¯  nums[i] å³ä¾§å°äº nums[i] çš„å…ƒç´ çš„æ•°é‡ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [5,2,6,1]è¾“å‡ºï¼š[2,1,1,0] è§£é‡Šï¼š5 çš„å³ä¾§æœ‰ 2 ä¸ªæ›´å°çš„å…ƒç´  (2 å’Œ 1)2 çš„å³ä¾§ä»…æœ‰ 1 ä¸ªæ›´å°çš„å…ƒç´  (1)6 çš„å³ä¾§æœ‰ 1 ä¸ªæ›´å°çš„å…ƒç´  (1)1 çš„å³ä¾§æœ‰ 0 ä¸ªæ›´å°çš„å…ƒç´ </code></pre><p>æç¤ºï¼š</p><p>0 &lt;= nums.length &lt;= 10^5<br>-10^4 &lt;= nums[i] &lt;= 10^4</p><h1 id="æ–¹æ³•ä¸€ï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„"><a href="#æ–¹æ³•ä¸€ï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„" class="headerlink" title="æ–¹æ³•ä¸€ï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„"></a>æ–¹æ³•ä¸€ï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„</h1><p><strong>é¢„å¤‡çŸ¥è¯†</strong></p><p>ã€Œæ ‘çŠ¶æ•°ç»„ã€æ˜¯ä¸€ç§å¯ä»¥åŠ¨æ€ç»´æŠ¤åºåˆ—å‰ç¼€å’Œçš„æ•°æ®ç»“æ„ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ï¼š</p><ul><li><strong>å•ç‚¹æ›´æ–° <code>update(i, v)</code>ï¼š</strong> æŠŠåºåˆ— <em>i</em> ä½ç½®çš„æ•°åŠ ä¸Šä¸€ä¸ªå€¼ <em>v</em>ï¼Œåœ¨è¯¥é¢˜ä¸­ <em>v = 1</em></li><li><strong>åŒºé—´æŸ¥è¯¢ <code>query(i)</code>ï¼š</strong> æŸ¥è¯¢åºåˆ— [1,â€¦,i] åŒºé—´çš„åŒºé—´å’Œï¼Œå³ <em>i</em> ä½ç½®çš„å‰ç¼€å’Œ</li></ul><p>ä¿®æ”¹å’ŒæŸ¥è¯¢çš„æ—¶é—´ä»£ä»·éƒ½æ˜¯ O(logn) ï¼Œå…¶ä¸­ <em>n</em> ä¸ºéœ€è¦ç»´æŠ¤å‰ç¼€å’Œçš„åºåˆ—çš„é•¿åº¦ã€‚</p><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>è®°é¢˜ç›®ç»™å®šçš„åºåˆ—ä¸º <em>a</em>ï¼Œæˆ‘ä»¬è§„å®š <em>a_i</em> çš„å–å€¼é›†åˆä¸º <em>a</em> çš„ã€Œå€¼åŸŸã€ã€‚æˆ‘ä»¬ç”¨æ¡¶æ¥è¡¨ç¤ºå€¼åŸŸä¸­çš„æ¯ä¸€ä¸ªæ•°ï¼Œæ¡¶ä¸­è®°å½•è¿™äº›æ•°å­—å‡ºç°çš„æ¬¡æ•°ã€‚å‡è®¾{5,5,2,3,6} ï¼Œé‚£ä¹ˆéå†è¿™ä¸ªåºåˆ—å¾—åˆ°çš„æ¡¶æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">index  -&gt;  1 2 3 4 5 6 7 8 9</span><br><span class="line">value  -&gt;  0 1 1 0 2 1 0 0 0</span><br></pre></td></tr></table></figure><p><strong>è½¬åŒ–ä¸ºåŠ¨æ€ç»´æŠ¤å‰ç¼€å’Œé—®é¢˜</strong> </p><p>è®° <code>value</code> åºåˆ—ä¸º <em>v</em>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºå®ƒç¬¬ <em>i - 1</em> ä½çš„å‰ç¼€å’Œè¡¨ç¤ºã€Œæœ‰å¤šå°‘ä¸ªæ•°æ¯” <em>i</em> å°ã€ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä»åå¾€å‰éå†åºåˆ— <em>a</em>ï¼Œè®°å½“å‰éå†åˆ°çš„å…ƒç´ ä¸º <em>a_i*ï¼Œæˆ‘ä»¬æŠŠ *a_i</em> å¯¹åº”çš„æ¡¶çš„å€¼è‡ªå¢ <em>1</em>ï¼Œè®° <em>a_i = p*ï¼ŒæŠŠ *v</em> åºåˆ— <em>p - 1</em> ä½ç½®çš„å‰ç¼€å’ŒåŠ å…¥åˆ°ç­”æ¡ˆä¸­ç®—è´¡çŒ®ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆåšæ˜¯å¯¹çš„å‘¢ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨å¾ªç¯çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æŠŠåŸåºåˆ—åˆ†æˆäº†ä¸¤éƒ¨åˆ†ï¼ŒååŠéƒ¨éƒ¨åˆ†å·²ç»éå†è¿‡ï¼ˆå·²å…¥æ¡¶ï¼‰ï¼Œå‰åŠéƒ¨åˆ†æ˜¯å¾…éå†çš„ï¼ˆæœªå…¥æ¡¶ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ±‚åˆ°çš„ <em>p - 1</em> ä½ç½®çš„å‰ç¼€å’Œå°±æ˜¯ã€Œå·²å…¥æ¡¶ã€çš„å…ƒç´ ä¸­æ¯” <em>p</em> å°çš„å…ƒç´ çš„ä¸ªæ•°æ€»å’Œã€‚<strong>è¿™ç§åŠ¨æ€ç»´æŠ¤å‰ç¼€å’Œçš„é—®é¢˜æˆ‘ä»¬å¯ä»¥ç”¨ã€Œæ ‘çŠ¶æ•°ç»„ã€æ¥è§£å†³</strong>ã€‚</p><p><strong>ç”¨ç¦»æ•£åŒ–ä¼˜åŒ–ç©ºé—´</strong> </p><p>æˆ‘ä»¬æ˜¾ç„¶å¯ä»¥ç”¨æ•°ç»„æ¥å®ç°è¿™ä¸ªæ¡¶ï¼Œå¯é—®é¢˜æ˜¯å¦‚æœ <em>a_i</em> ä¸­æœ‰å¾ˆå¤§çš„å…ƒç´ ï¼Œæ¯”å¦‚ <em>10^9*ï¼Œæˆ‘ä»¬å°±è¦å¼€ä¸€ä¸ªå¤§å°ä¸º *10^9</em> çš„æ¡¶ï¼Œå†…å­˜ä¸­æ˜¯å­˜ä¸ä¸‹çš„ã€‚è¿™ä¸ªæ¡¶æ•°ç»„ä¸­å¾ˆå¤šä½ç½®æ˜¯ <em>0</em>ï¼Œæœ‰æ•ˆä½ç½®æ˜¯ç¨€ç–çš„ï¼Œæˆ‘ä»¬è¦æƒ³ä¸€ä¸ªåŠæ³•è®©æœ‰æ•ˆçš„ä½ç½®å…¨èšé›†åˆ°ä¸€èµ·ï¼Œå‡å°‘æ— æ•ˆä½ç½®çš„å‡ºç°ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ–¹æ³•â€”â€”ç¦»æ•£åŒ–ã€‚<strong>ç¦»æ•£åŒ–çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œä½†æ˜¯ç›®çš„æ˜¯ä¸€æ ·çš„ï¼Œå³æŠŠåŸåºåˆ—çš„å€¼åŸŸæ˜ å°„åˆ°ä¸€ä¸ªè¿ç»­çš„æ•´æ•°åŒºé—´ï¼Œå¹¶ä¿è¯å®ƒä»¬çš„ååºå…³ç³»ä¸å˜ã€‚</strong> è¿™é‡Œæˆ‘ä»¬å°†åŸæ•°ç»„å»é‡åæ’åºï¼ŒåŸæ•°ç»„æ¯ä¸ªæ•°æ˜ å°„åˆ°å»é‡æ’åºåè¿™ä¸ªæ•°å¯¹åº”ä½ç½®çš„ä¸‹æ ‡ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªä¸‹æ ‡ä¸ºè¿™ä¸ªå¯¹åº”æ•°å­—çš„ idã€‚å·²çŸ¥æ•°å­—è·å– id  å¯ä»¥åœ¨å»é‡æ’åºåçš„æ•°ç»„é‡Œé¢åšäºŒåˆ†æŸ¥æ‰¾ï¼Œå·²çŸ¥id è·å–æ•°å­—å¯ä»¥ç›´æ¥æŠŠidä½œä¸ºä¸‹æ ‡è®¿é—®å»é‡æ’åºæ•°ç»„çš„å¯¹åº”ä½ç½®ã€‚å¤§å®¶å¯ä»¥å‚è€ƒä»£ç å’Œå›¾æ¥ç†è§£è¿™ä¸ªè¿‡ç¨‹ã€‚</p><p> <a href="https://assets.leetcode-cn.com/solution-static/315/1.png" target="_blank" rel="noopener">fig1</a> <a href="https://assets.leetcode-cn.com/solution-static/315/2.png" target="_blank" rel="noopener">fig2</a> <a href="https://assets.leetcode-cn.com/solution-static/315/3.png" target="_blank" rel="noopener">fig3</a> <a href="https://assets.leetcode-cn.com/solution-static/315/4.png" target="_blank" rel="noopener">fig4</a> <a href="https://assets.leetcode-cn.com/solution-static/315/5.png" target="_blank" rel="noopener">fig5</a> <a href="https://assets.leetcode-cn.com/solution-static/315/6.png" target="_blank" rel="noopener">fig6</a> <a href="https://assets.leetcode-cn.com/solution-static/315/7.png" target="_blank" rel="noopener">fig7</a> <a href="https://assets.leetcode-cn.com/solution-static/315/8.png" target="_blank" rel="noopener">fig8</a> <a href="https://assets.leetcode-cn.com/solution-static/315/9.png" target="_blank" rel="noopener">fig9</a> <a href="https://assets.leetcode-cn.com/solution-static/315/10.png" target="_blank" rel="noopener">fig10</a> </p><p>å…¶å®ï¼Œè®¡ç®—æ¯ä¸ªæ•°å­—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘ä»¬åœ¨ <a href="https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/" target="_blank" rel="noopener">ã€Œå‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹ã€</a> é¢˜è§£çš„ã€Œæ–¹æ³•äºŒï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„ã€ä¸­é‡åˆ°è¿‡ï¼Œåœ¨ç»Ÿè®¡é€†åºå¯¹çš„æ—¶å€™ï¼Œåªéœ€è¦ç»Ÿè®¡æ¯ä¸ªä½ç½®å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°ï¼Œå†å¯¹å®ƒä»¬æ±‚å’Œï¼Œå°±å¯ä»¥å¾—åˆ°é€†åºå¯¹çš„æ€»æ•°ã€‚è¿™é“é€†åºå¯¹çš„é¢˜å¯ä»¥ä½œä¸ºæœ¬é¢˜çš„è¡¥å……ç»ƒä¹ ã€‚</p><p>ä»£ç å¦‚ä¸‹ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„C#</summary><figure class="highlight csharp"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Solution</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] c;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] a;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Init</span>(<span class="params"><span class="keyword">int</span> length</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        c = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">        Array.Fill(c, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">LowBit</span>(<span class="params"><span class="keyword">int</span> x</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>(<span class="params"><span class="keyword">int</span> pos</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (pos &lt; c.Length)</span><br><span class="line">        &#123;</span><br><span class="line">            c[pos] += <span class="number">1</span>;</span><br><span class="line">            pos += LowBit(pos);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">Query</span>(<span class="params"><span class="keyword">int</span> pos</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (pos &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ret += c[pos];</span><br><span class="line">            pos -= LowBit(pos);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Discretization</span>(<span class="params"><span class="keyword">int</span>[] nums</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        a = (<span class="keyword">int</span>[])nums.Clone();</span><br><span class="line">        <span class="keyword">var</span> hashSet = <span class="keyword">new</span> HashSet&lt;<span class="keyword">int</span>&gt;(a);</span><br><span class="line">        a = hashSet.ToArray();</span><br><span class="line">        Array.Sort(a);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">GetId</span>(<span class="params"><span class="keyword">int</span> x</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Array.BinarySearch(a, x) + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IList&lt;<span class="keyword">int</span>&gt; <span class="title">CountSmaller</span>(<span class="params"><span class="keyword">int</span>[] nums</span>) </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> resultList = <span class="keyword">new</span> List&lt;<span class="keyword">int</span>&gt;(); </span><br><span class="line"></span><br><span class="line">        Discretization(nums);</span><br><span class="line"></span><br><span class="line">        Init(nums.Length + <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = nums.Length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> id = GetId(nums[i]);</span><br><span class="line">            resultList.Add(Query(id - <span class="number">1</span>));</span><br><span class="line">            Update(id);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        resultList.Reverse();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] c;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] a;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">countSmaller</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; resultList = <span class="keyword">new</span> ArrayList&lt;Integer&gt;(); </span><br><span class="line">        discretization(nums);</span><br><span class="line">        init(nums.length + <span class="number">5</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = nums.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">int</span> id = getId(nums[i]);</span><br><span class="line">            resultList.add(query(id - <span class="number">1</span>));</span><br><span class="line">            update(id);</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.reverse(resultList);</span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">        c = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">        Arrays.fill(c, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">lowBit</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> pos)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (pos &lt; c.length) &#123;</span><br><span class="line">            c[pos] += <span class="number">1</span>;</span><br><span class="line">            pos += lowBit(pos);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> pos)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (pos &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            ret += c[pos];</span><br><span class="line">            pos -= lowBit(pos);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">discretization</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            set.add(num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> size = set.size();</span><br><span class="line">        a = <span class="keyword">new</span> <span class="keyword">int</span>[size];</span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : set) &#123;</span><br><span class="line">            a[index++] = num;</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(a);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Arrays.binarySearch(a, x) + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; c;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Init</span><span class="params">(<span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">        c.resize(length, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">LowBit</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span><span class="params">(<span class="keyword">int</span> pos)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (pos &lt; c.size()) &#123;</span><br><span class="line">            c[pos] += <span class="number">1</span>;</span><br><span class="line">            pos += LowBit(pos);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">Query</span><span class="params">(<span class="keyword">int</span> pos)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (pos &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            ret += c[pos];</span><br><span class="line">            pos -= LowBit(pos);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Discretization</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        a.assign(nums.begin(), nums.end());</span><br><span class="line">        sort(a.begin(), a.end());</span><br><span class="line">        a.erase(unique(a.begin(), a.end()), a.end());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getId</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lower_bound(a.begin(), a.end(), x) - a.begin() + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; countSmaller(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; resultList;</span><br><span class="line"></span><br><span class="line">        Discretization(nums);</span><br><span class="line"></span><br><span class="line">        Init(nums.size() + <span class="number">5</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = (<span class="keyword">int</span>)nums.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">int</span> id = getId(nums[i]);</span><br><span class="line">            resultList.push_back(Query(id - <span class="number">1</span>));</span><br><span class="line">            Update(id);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        reverse(resultList.begin(), resultList.end());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a, c []<span class="keyword">int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">countSmaller</span><span class="params">(nums []<span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    resultList := []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">    discretization(nums)</span><br><span class="line">    c = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="built_in">len</span>(nums) + <span class="number">5</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="built_in">len</span>(nums) - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">        id := getId(nums[i])</span><br><span class="line">        resultList = <span class="built_in">append</span>(resultList, query(id - <span class="number">1</span>))</span><br><span class="line">        update(id)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(resultList)/<span class="number">2</span>; i++ &#123;</span><br><span class="line">        resultList[i], resultList[<span class="built_in">len</span>(resultList)<span class="number">-1</span>-i] = resultList[<span class="built_in">len</span>(resultList)<span class="number">-1</span>-i], resultList[i]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> resultList</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lowBit</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x &amp; (-x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">update</span><span class="params">(pos <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> pos &lt; <span class="built_in">len</span>(c) &#123;</span><br><span class="line">        c[pos]++</span><br><span class="line">        pos += lowBit(pos)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">query</span><span class="params">(pos <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    ret := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> pos &gt; <span class="number">0</span> &#123;</span><br><span class="line">        ret += c[pos]</span><br><span class="line">        pos -= lowBit(pos)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">discretization</span><span class="params">(nums []<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    set := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">struct</span>&#123;&#125;&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> _, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        set[num] = <span class="keyword">struct</span>&#123;&#125;&#123;&#125; </span><br><span class="line">    &#125;</span><br><span class="line">    a = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">0</span>, <span class="built_in">len</span>(nums))</span><br><span class="line">    <span class="keyword">for</span> num := <span class="keyword">range</span> set &#123;</span><br><span class="line">        a = <span class="built_in">append</span>(a, num)</span><br><span class="line">    &#125;</span><br><span class="line">    sort.Ints(a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getId</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> sort.SearchInts(a, x) + <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LowBit</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123; <span class="keyword">return</span> x &amp; (-x); &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span><span class="params">(<span class="keyword">int</span>* c, <span class="keyword">int</span> n, <span class="keyword">int</span> pos)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (pos &lt; n) &#123;</span><br><span class="line">        c[pos] += <span class="number">1</span>;</span><br><span class="line">        pos += LowBit(pos);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Query</span><span class="params">(<span class="keyword">int</span>* c, <span class="keyword">int</span> n, <span class="keyword">int</span> pos)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (pos &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        ret += c[pos];</span><br><span class="line">        pos -= LowBit(pos);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lower_bound</span><span class="params">(<span class="keyword">int</span>* a, <span class="keyword">int</span> n, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = n;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (a[mid] &lt; x) &#123;</span><br><span class="line">            l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            r = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">comp</span><span class="params">(<span class="keyword">const</span> <span class="keyword">void</span>* a, <span class="keyword">const</span> <span class="keyword">void</span>* b)</span> </span>&#123; <span class="keyword">return</span> (*(<span class="keyword">int</span>*)a - *(<span class="keyword">int</span>*)b); &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Discretization</span><span class="params">(<span class="keyword">int</span>* a, <span class="keyword">int</span>* nums, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memcpy</span>(a, nums, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * n);</span><br><span class="line">    qsort(a, n, <span class="keyword">sizeof</span>(<span class="keyword">int</span>), comp);</span><br><span class="line">    <span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (a[i] &gt; a[m]) &#123;</span><br><span class="line">            a[++m] = a[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> m + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span>* <span class="title">countSmaller</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize, <span class="keyword">int</span>* returnSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>* a = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numsSize);</span><br><span class="line">    <span class="keyword">int</span>* c = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * (numsSize + <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">int</span>* ret = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numsSize);</span><br><span class="line">    <span class="built_in">memset</span>(a, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numsSize);</span><br><span class="line">    <span class="built_in">memset</span>(c, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * (numsSize + <span class="number">1</span>));</span><br><span class="line">    <span class="built_in">memset</span>(ret, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numsSize);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> m = Discretization(a, nums, numsSize);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = numsSize - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        <span class="keyword">int</span> id = lower_bound(a, m, nums[i]) + <span class="number">1</span>;</span><br><span class="line">        ret[i] = Query(c, m + <span class="number">1</span>, id - <span class="number">1</span>);</span><br><span class="line">        Update(c, m + <span class="number">1</span>, id);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(a);</span><br><span class="line">    <span class="built_in">free</span>(c);</span><br><span class="line">    *returnSize = numsSize;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><p>å‡è®¾é¢˜ç›®ç»™å‡ºçš„åºåˆ—é•¿åº¦ä¸º <em>n</em>ã€‚</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šæˆ‘ä»¬æ¢³ç†ä¸€ä¸‹è¿™ä¸ªç®—æ³•çš„æµç¨‹ï¼Œè¿™é‡Œç¦»æ•£åŒ–ä½¿ç”¨å“ˆå¸Œè¡¨å»é‡ï¼Œç„¶åå†å¯¹å»é‡çš„æ•°ç»„è¿›è¡Œæ’åºï¼Œæ—¶é—´ä»£ä»·ä¸º O(nlogn)ï¼›åˆå§‹åŒ–æ ‘çŠ¶æ•°ç»„çš„æ—¶é—´ä»£ä»·æ˜¯ <em>O(n)</em>ï¼›é€šè¿‡å€¼è·å–ç¦»æ•£åŒ– id  çš„æ“ä½œå•æ¬¡æ—¶é—´ä»£ä»·ä¸ºO(logn) ï¼›å¯¹äºæ¯ä¸ªåºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œéƒ½ä¼šåšä¸€æ¬¡æŸ¥è¯¢ idã€å•ç‚¹ä¿®æ”¹å’Œå‰ç¼€å’ŒæŸ¥è¯¢ï¼Œæ€»çš„æ—¶é—´ä»£ä»·ä¸º O(nlogn) ã€‚æ•…æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šè¿™é‡Œç”¨åˆ°çš„ç¦»æ•£åŒ–æ•°ç»„ã€æ ‘çŠ¶æ•°ç»„ã€å“ˆå¸Œè¡¨çš„ç©ºé—´ä»£ä»·éƒ½æ˜¯ <em>O(n)</em>ï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li></ul><h1 id="æ–¹æ³•äºŒï¼šå½’å¹¶æ’åº"><a href="#æ–¹æ³•äºŒï¼šå½’å¹¶æ’åº" class="headerlink" title="æ–¹æ³•äºŒï¼šå½’å¹¶æ’åº"></a>æ–¹æ³•äºŒï¼šå½’å¹¶æ’åº</h1><p><strong>é¢„å¤‡çŸ¥è¯†</strong></p><p>è¿™é‡Œå‡è®¾è¯»è€…å·²ç»çŸ¥é“å¦‚ä½•ä½¿ç”¨å½’å¹¶æ’åºçš„æ–¹æ³•è®¡ç®—åºåˆ—çš„é€†åºå¯¹æ•°ï¼Œå¦‚æœè¯»è€…è¿˜ä¸çŸ¥é“çš„è¯å¯ä»¥å‚è€ƒ <a href="https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/" target="_blank" rel="noopener">ã€Œå‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹ã€</a> çš„å®˜æ–¹é¢˜è§£å“¦ã€‚</p><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>æˆ‘ä»¬å‘ç°ã€Œç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„ã€çš„æ–¹æ³•å‡ ä¹äº <a href="https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/" target="_blank" rel="noopener">ã€Œå‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹ã€</a> ä¸­çš„å®Œå…¨ç›¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä¸å¯ä»¥å€Ÿé‰´é€†åºå¯¹é—®é¢˜ä¸­çš„å½’å¹¶æ’åºçš„æ–¹æ³•å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬è¿˜æ˜¯è¦åœ¨ã€Œå½’å¹¶æ’åºã€çš„ã€Œå¹¶ã€ä¸­åšæ–‡ç« ã€‚æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®ä¾‹æ¥çœ‹çœ‹ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªå·²æ’åºçš„åºåˆ—ç­‰å¾…åˆå¹¶ï¼Œåˆ†åˆ«æ˜¯L={8,12,16,22,100}å’ŒR={7,26,55,64,91}ã€‚ä¸€å¼€å§‹æˆ‘ä»¬ç”¨æŒ‡é’ˆ <code>lPtr = 0</code> æŒ‡å‘ <em>L</em> çš„å¤´éƒ¨ï¼Œ<code>rPtr = 0</code> æŒ‡å‘ <em>R</em> çš„å¤´éƒ¨ã€‚è®°å·²ç»åˆå¹¶å¥½çš„éƒ¨åˆ†ä¸º <em>M</em>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [8, 12, 16, 22, 100]   R = [7, 26, 55, 64, 91]  M = []</span><br><span class="line">     |                          |</span><br><span class="line">   lPtr                       rPtr</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç° <code>lPtr</code> æŒ‡å‘çš„å…ƒç´ å¤§äº <code>rPtr</code> æŒ‡å‘çš„å…ƒç´ ï¼Œäºæ˜¯æŠŠ <code>rPtr</code> æŒ‡å‘çš„å…ƒç´ æ”¾å…¥ç­”æ¡ˆï¼Œå¹¶æŠŠ <code>rPtr</code> åç§»ä¸€ä½ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [8, 12, 16, 22, 100]   R = [7, 26, 55, 64, 91]  M = [7]</span><br><span class="line">     |                              |</span><br><span class="line">    lPtr                          rPtr</span><br></pre></td></tr></table></figure><p>æ¥ç€æˆ‘ä»¬ç»§ç»­åˆå¹¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [8, 12, 16, 22, 100]   R = [7, 26, 55, 64, 91]  M = [8, 9]</span><br><span class="line">        |                          |</span><br><span class="line">       lPtr                       rPtr</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ <code>lPtr</code> æ¯” <code>rPtr</code> å°ï¼ŒæŠŠ <code>lPtr</code> å¯¹åº”çš„æ•°åŠ å…¥ç­”æ¡ˆã€‚å¦‚æœæˆ‘ä»¬è¦ç»Ÿè®¡ <em>8</em> çš„å³è¾¹æ¯” <em>8</em> å°çš„å…ƒç´ ï¼Œè¿™é‡Œ <em>7</em> å¯¹å®ƒåšäº†ä¸€æ¬¡è´¡çŒ®ã€‚å¦‚æœå¸¦åˆå¹¶çš„åºåˆ— L={8,12,16,22,100} ï¼ŒR={7,7,7,26,55,64,91} ï¼Œé‚£ä¹ˆä¸€å®šæœ‰ä¸€ä¸ªæ—¶åˆ»ï¼Œ<code>lPtr</code> å’Œ <code>rPtr</code> åˆ†åˆ«æŒ‡å‘è¿™äº›å¯¹åº”çš„ä½ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [8, 12, 16, 22, 100]   R = [7, 7, 7, 26, 55, 64, 91]  M = [7, 7, 7]</span><br><span class="line">     |                                   |</span><br><span class="line">    lPtr                                rPtr</span><br></pre></td></tr></table></figure><p>ä¸‹ä¸€æ­¥æˆ‘ä»¬å°±æ˜¯æŠŠ <em>8</em> åŠ å…¥ <em>M</em> ä¸­ï¼Œæ­¤æ—¶ä¸‰ä¸ª <em>7</em> å¯¹ <em>8</em> çš„å³è¾¹æ¯” <em>8</em> å°çš„å…ƒç´ çš„è´¡çŒ®ä¸º <em>3</em>ã€‚ä»¥æ­¤ç±»æ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€è¾¹åˆå¹¶ä¸€è¾¹è®¡ç®— <em>R</em> çš„å¤´éƒ¨åˆ° <code>rPtr</code> å‰ä¸€ä¸ªæ•°å­—å¯¹å½“å‰ <code>lPtr</code> æŒ‡å‘çš„æ•°å­—çš„è´¡çŒ®ã€‚</p><p>æˆ‘ä»¬å‘ç°ç”¨è¿™ç§ã€Œç®—è´¡çŒ®ã€çš„æ€æƒ³åœ¨åˆå¹¶çš„è¿‡ç¨‹ä¸­è®¡ç®—é€†åºå¯¹çš„æ•°é‡çš„æ—¶å€™ï¼Œåªåœ¨ <code>lPtr</code> å³ç§»çš„æ—¶å€™è®¡ç®—ï¼Œæ˜¯åŸºäºè¿™æ ·çš„äº‹å®ï¼šå½“å‰ <code>lPtr</code> æŒ‡å‘çš„æ•°å­—æ¯” <code>rPtr</code> å°ï¼Œä½†æ˜¯æ¯” <em>R</em> ä¸­ <code>[0 ... rPtr - 1]</code> çš„å…¶ä»–æ•°å­—å¤§ï¼Œ<code>[0 ... rPtr - 1]</code> çš„æ•°å­—æ˜¯åœ¨ <code>lPtr</code> å³è¾¹ä½†æ˜¯æ¯” <code>lPtr</code> å¯¹åº”æ•°å°çš„æ•°å­—ï¼Œè´¡çŒ®ä¸ºè¿™äº›æ•°å­—çš„ä¸ªæ•°ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬åˆé‡åˆ°äº†æ–°çš„é—®é¢˜ï¼Œåœ¨ã€Œå¹¶ã€çš„è¿‡ç¨‹ä¸­ <em>8</em> çš„ä½ç½®ä¸€ç›´åœ¨å‘ç”Ÿæ”¹å˜ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠè®¡ç®—çš„è´¡çŒ®ä¿å­˜åˆ°å“ªé‡Œå‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¼•å…¥ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œæ¥è®°å½•æ¯ä¸ªæ•°å­—å¯¹åº”çš„åŸæ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">    a = [8, 9, 1, 5, 2]</span><br><span class="line">index = [0, 1, 2, 3, 4]</span><br></pre></td></tr></table></figure><p>æ’åºçš„æ—¶å€™åŸæ•°ç»„å’Œè¿™ä¸ªä¸‹æ ‡æ•°ç»„åŒæ—¶å˜åŒ–ï¼Œåˆ™æ’åºåæˆ‘ä»¬å¾—åˆ°è¿™æ ·çš„ä¸¤ä¸ªæ•°ç»„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">    a = [1, 2, 5, 8, 9]</span><br><span class="line">index = [2, 4, 3, 0, 1]</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç”¨ä¸€ä¸ªæ•°ç»„ <code>ans</code> æ¥è®°å½•è´¡çŒ®ã€‚æˆ‘ä»¬å¯¹æŸä¸ªå…ƒç´ è®¡ç®—è´¡çŒ®çš„æ—¶å€™ï¼Œå¦‚æœå®ƒå¯¹åº”çš„ä¸‹æ ‡ä¸º <code>p</code>ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ <code>ans[p]</code> ä¸ŠåŠ ä¸Šè´¡çŒ®å³å¯ã€‚</p><p>å¤§å®¶å¯ä»¥å‚è€ƒä»£ç æ¥ç†è§£è¿™ä¸ªè¿‡ç¨‹ã€‚Javaç‰ˆçš„è¿™ç§è§£æ³•æˆ‘è¿˜æ˜¯æ²¡æœ‰åƒé€ï¼Œå¯ä»¥å‚è§<a href="https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/" target="_blank" rel="noopener">ã€Œå‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹ã€</a> çš„ç›¸åº”åšå®¢ä¸­æœ‰ä¸€ç§ç›¸å¯¹æ˜“äºç†è§£çš„è§£æ³•ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>å½’å¹¶æ’åºC#</summary><figure class="highlight csharp"><figcaption><span>[sol2-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] index;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] temp;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] tempIndex;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] ans;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Merge</span>(<span class="params"><span class="keyword">int</span>[] a, <span class="keyword">int</span> l, <span class="keyword">int</span> mid, <span class="keyword">int</span> r</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = l, j = mid + <span class="number">1</span>, p = l;</span><br><span class="line">        <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (a[i] &lt;= a[j])</span><br><span class="line">            &#123;</span><br><span class="line">                temp[p] = a[i];</span><br><span class="line">                tempIndex[p] = index[i];</span><br><span class="line">                ans[index[i]] += (j - mid - <span class="number">1</span>);</span><br><span class="line">                ++i;</span><br><span class="line">                ++p;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">            &#123;</span><br><span class="line">                temp[p] = a[j];</span><br><span class="line">                tempIndex[p] = index[j];</span><br><span class="line">                ++j;</span><br><span class="line">                ++p;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (i &lt;= mid) </span><br><span class="line">        &#123;</span><br><span class="line">            temp[p] = a[i];</span><br><span class="line">            tempIndex[p] = index[i];</span><br><span class="line">            ans[index[i]] += (j - mid - <span class="number">1</span>);</span><br><span class="line">            ++i;</span><br><span class="line">            ++p;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (j &lt;= r)</span><br><span class="line">        &#123;</span><br><span class="line">            temp[p] = a[j];</span><br><span class="line">            tempIndex[p] = index[j];</span><br><span class="line">            ++j;</span><br><span class="line">            ++p;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = l; k &lt;= r; ++k)</span><br><span class="line">        &#123;</span><br><span class="line">            index[k] = tempIndex[k];</span><br><span class="line">            a[k] = temp[k];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MergeSort</span>(<span class="params"><span class="keyword">int</span>[] a, <span class="keyword">int</span> l, <span class="keyword">int</span> r</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l &gt;= r) </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        MergeSort(a, l, mid);</span><br><span class="line">        MergeSort(a, mid + <span class="number">1</span>, r);</span><br><span class="line">        Merge(a, l, mid, r);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IList&lt;<span class="keyword">int</span>&gt; <span class="title">CountSmaller</span>(<span class="params"><span class="keyword">int</span>[] nums</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.index = <span class="keyword">new</span> <span class="keyword">int</span>[nums.Length];</span><br><span class="line">        <span class="keyword">this</span>.temp = <span class="keyword">new</span> <span class="keyword">int</span>[nums.Length];</span><br><span class="line">        <span class="keyword">this</span>.tempIndex = <span class="keyword">new</span> <span class="keyword">int</span>[nums.Length];</span><br><span class="line">        <span class="keyword">this</span>.ans = <span class="keyword">new</span> <span class="keyword">int</span>[nums.Length];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.Length; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            index[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = nums.Length - <span class="number">1</span>;</span><br><span class="line">        MergeSort(nums, l, r);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> List&lt;<span class="keyword">int</span>&gt;(ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å½’å¹¶æ’åºJava</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] index;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] aux;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] counter;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">countSmaller</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> len = nums.length;</span><br><span class="line">        <span class="keyword">if</span> (len == <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line">        aux = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        counter = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        index = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) index[i] = iï¼›</span><br><span class="line">        <span class="comment">//å½’å¹¶æ’åºå¹¶ç»Ÿè®¡</span></span><br><span class="line">        mergeAndCount(nums, <span class="number">0</span>, len - <span class="number">1</span>);</span><br><span class="line">        <span class="comment">//éå†è·å–ç»Ÿè®¡ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            res.add(counter[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å½’å¹¶æ’åºå…¥å£</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">mergeAndCount</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l == r) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> m = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">        mergeAndCount(nums, l, m);</span><br><span class="line">        mergeAndCount(nums, m + <span class="number">1</span>, r);</span><br><span class="line">        <span class="comment">//æ£€æŸ¥å·²æ’åºçš„éƒ¨åˆ†</span></span><br><span class="line">        <span class="keyword">if</span> (nums[index[m]] &gt; nums[index[m + <span class="number">1</span>]]) &#123;</span><br><span class="line">            sortAndCount(nums, l, m, r);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å­æ•°ç»„æ’åºå¹¶ç»Ÿè®¡</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">sortAndCount</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> m, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = l; i &lt;= r; i++) aux[i] = index[i];</span><br><span class="line">        <span class="keyword">int</span> i = l, j = m + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = l; k &lt;= r; k++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; m) &#123;</span><br><span class="line">                index[k] = aux[j++];</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j &gt; r) &#123;</span><br><span class="line">                index[k] = aux[i++];</span><br><span class="line">                <span class="comment">//æ’åºçš„æ˜¯ç´¢å¼•æ•°ç»„ï¼Œä»ç„¶å¯ä»¥é€šè¿‡ç´¢å¼•æ‰¾åˆ°åŸæ¥æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå¹¶æ›´æ–°ç»Ÿè®¡å€¼</span></span><br><span class="line">                <span class="comment">//å³è¾¹å…ˆèµ°å®Œï¼Œé‚£ä¹ˆå³è¾¹çš„éƒ½æ˜¯é€†åº</span></span><br><span class="line">                counter[index[k]] += (r - m);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[aux[i]] &lt;= nums[aux[j]]) &#123;</span><br><span class="line">                index[k] = aux[i++];</span><br><span class="line">                <span class="comment">//æ’å…¥å·¦è¾¹çš„å…ƒç´ æ—¶ï¼Œç»Ÿè®¡å·²ç»äº§ç”Ÿçš„é€†åºéƒ¨åˆ†</span></span><br><span class="line">                counter[index[k]] += (j - m - <span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                index[k] = aux[j++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ï¼Œå³å½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œè¿™é‡Œå½’å¹¶æ’åºçš„ä¸´æ—¶æ•°ç»„ã€ä¸‹æ ‡æ˜ å°„æ•°ç»„ä»¥åŠç­”æ¡ˆæ•°ç»„çš„ç©ºé—´ä»£ä»·å‡ä¸º <em>O(n)</em>ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼ŒæŒ‰è¦æ±‚è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ countsã€‚æ•°ç»„ counts æœ‰è¯¥æ€§è´¨ï¼š counts[i] çš„å€¼æ˜¯  nums[i] å³ä¾§å°äº nums[i] çš„å…ƒç´ çš„æ•°é‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
      <category term="Binary Indexed Tree" scheme="http://yoursite.com/tags/Binary-Indexed-Tree/"/>
    
      <category term="Segment Tree" scheme="http://yoursite.com/tags/Segment-Tree/"/>
    
      <category term="Divide and Conque" scheme="http://yoursite.com/tags/Divide-and-Conque/"/>
    
  </entry>
  
  <entry>
    <title>287. å¯»æ‰¾é‡å¤æ•°</title>
    <link href="http://yoursite.com/2020/08/25/287.%20%E5%AF%BB%E6%89%BE%E9%87%8D%E5%A4%8D%E6%95%B0/"/>
    <id>http://yoursite.com/2020/08/25/287. å¯»æ‰¾é‡å¤æ•°/</id>
    <published>2020-08-25T08:12:12.000Z</published>
    <updated>2020-08-26T06:33:03.611Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªåŒ…å« n + 1 ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œå…¶æ•°å­—éƒ½åœ¨ 1 åˆ° n ä¹‹é—´ï¼ˆåŒ…æ‹¬ 1 å’Œ nï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚å‡è®¾åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•´æ•°ï¼Œæ‰¾å‡ºè¿™ä¸ªé‡å¤çš„æ•°ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: [1,3,4,2,2]è¾“å‡º: 2</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: [3,1,3,4,2]è¾“å‡º: 3</code></pre><p>è¯´æ˜ï¼š</p><pre><code>ä¸èƒ½æ›´æ”¹åŸæ•°ç»„ï¼ˆå‡è®¾æ•°ç»„æ˜¯åªè¯»çš„ï¼‰ã€‚åªèƒ½ä½¿ç”¨é¢å¤–çš„ O(1) çš„ç©ºé—´ã€‚æ—¶é—´å¤æ‚åº¦å°äº O(n2) ã€‚æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•°å­—ï¼Œä½†å®ƒå¯èƒ½ä¸æ­¢é‡å¤å‡ºç°ä¸€æ¬¡ã€‚</code></pre><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="95ade126-7621-420e-97fb-4fe2784fad01">287. å¯»æ‰¾é‡å¤æ•°.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾</h2><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>æˆ‘ä»¬å®šä¹‰ cnt[i] è¡¨ç¤º nums[]  æ•°ç»„ä¸­å°äºç­‰äº <em>i</em> çš„æ•°æœ‰å¤šå°‘ä¸ªï¼Œå‡è®¾æˆ‘ä»¬é‡å¤çš„æ•°æ˜¯ target ï¼Œé‚£ä¹ˆ [1,target-1] é‡Œçš„æ‰€æœ‰æ•°æ»¡è¶³ cnt[i] &lt;=iï¼Œ<em>[target,n]</em> é‡Œçš„æ‰€æœ‰æ•°æ»¡è¶³ cnt[i] &gt; iï¼Œå…·æœ‰å•è°ƒæ€§ã€‚</p><p>ä»¥ç¤ºä¾‹ 1 ä¸ºä¾‹ï¼Œæˆ‘ä»¬åˆ—å‡ºæ¯ä¸ªæ•°å­—çš„ cnt  å€¼ï¼š</p><table><thead><tr><th align="center">nums</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th></tr></thead><tbody><tr><td align="center">cnt</td><td align="center">1</td><td align="center">3</td><td align="center">4</td><td align="center">5</td></tr></tbody></table><p>ç¤ºä¾‹ä¸­é‡å¤çš„æ•´æ•°æ˜¯ <em>2</em>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° <em>[1,1]</em> ä¸­çš„æ•°æ»¡è¶³ cnt[i] &lt;=iï¼Œ<em>[2,4]</em> ä¸­çš„æ•°æ»¡è¶³cnt[i] &gt; i ã€‚</p><p>å¦‚æœçŸ¥é“  cnt[]  æ•°ç»„éšæ•°å­— <em>i</em> é€æ¸å¢å¤§å…·æœ‰å•è°ƒæ€§ï¼ˆå³ target  å‰ cnt[i] &lt;=iï¼Œtarget  å cnt[i] &gt; iï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥æ‰¾åˆ°é‡å¤çš„æ•°ã€‚</p><p>ä½†è¿™ä¸ªæ€§è´¨ä¸€å®šæ˜¯æ­£ç¡®çš„å—ï¼Ÿè€ƒè™‘ nums[]  æ•°ç»„ä¸€å…±æœ‰ <em>n+1</em> ä¸ªä½ç½®ï¼Œæˆ‘ä»¬å¡«å…¥çš„æ•°å­—éƒ½åœ¨ <em>[1,n]</em> é—´ï¼Œæœ‰ä¸”åªæœ‰ä¸€ä¸ªæ•°é‡å¤æ”¾äº†ä¸¤æ¬¡ä»¥ä¸Šã€‚å¯¹äºæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ï¼Œè€ƒè™‘ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p><ul><li><p>å¦‚æœæµ‹è¯•ç”¨ä¾‹çš„æ•°ç»„ä¸­target å‡ºç°äº†ä¸¤æ¬¡ï¼Œå…¶ä½™çš„æ•°å„å‡ºç°äº†ä¸€æ¬¡ï¼Œè¿™ä¸ªæ—¶å€™è‚¯å®šæ»¡è¶³ä¸Šæ–‡æåŠçš„æ€§è´¨ï¼Œå› ä¸ºå°äº target çš„æ•° <em>i</em> æ»¡è¶³ cnt[i]=i ï¼Œå¤§äºç­‰äº target  çš„æ•° <em>j</em> æ»¡è¶³ <em>cnt[j]=j+1</em>ã€‚</p></li><li><p>å¦‚æœæµ‹è¯•ç”¨ä¾‹çš„æ•°ç»„ä¸­ target å‡ºç°äº†ä¸‰æ¬¡åŠä»¥ä¸Šï¼Œé‚£ä¹ˆå¿…ç„¶æœ‰ä¸€äº›æ•°ä¸åœ¨ nums[]  æ•°ç»„ä¸­äº†ï¼Œè¿™ä¸ªæ—¶å€™ç›¸å½“äºæˆ‘ä»¬ç”¨ target å»æ›¿æ¢äº†è¿™äº›æ•°ï¼Œæˆ‘ä»¬è€ƒè™‘æ›¿æ¢çš„æ—¶å€™å¯¹ cnt[]æ•°ç»„çš„å½±å“ã€‚å¦‚æœæ›¿æ¢çš„æ•° <em>i</em> å°äº target ï¼Œé‚£ä¹ˆ[i,target-1] çš„ cntå€¼å‡å‡ä¸€ï¼Œå…¶ä»–ä¸å˜ï¼Œæ»¡è¶³æ¡ä»¶ã€‚å¦‚æœæ›¿æ¢çš„æ•° <em>j</em> å¤§äºç­‰äº targetï¼Œé‚£ä¹ˆ[target,j-1]çš„ cnt å€¼å‡åŠ ä¸€ï¼Œå…¶ä»–ä¸å˜ï¼Œäº¦æ»¡è¶³æ¡ä»¶ã€‚</p></li></ul><p>å› æ­¤æˆ‘ä»¬ç”Ÿæˆçš„æ•°ç»„ä¸€å®šå…·æœ‰ä¸Šè¿°æ€§è´¨çš„ã€‚</p><details>    <summary>äºŒåˆ†æŸ¥æ‰¾C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">1</span>, r = n - <span class="number">1</span>, ans = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">                cnt += nums[i] &lt;= mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (cnt &lt;= mid) &#123;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">                ans = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒåˆ†æŸ¥æ‰¾JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> findDuplicate = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = nums.length;</span><br><span class="line">    <span class="keyword">let</span> l = <span class="number">1</span>, r = n - <span class="number">1</span>, ans = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">        <span class="keyword">let</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">let</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            cnt += nums[i] &lt;= mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cnt &lt;= mid) &#123;</span><br><span class="line">            l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            r = mid - <span class="number">1</span>;</span><br><span class="line">            ans = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒåˆ†æŸ¥æ‰¾Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">1</span>, r = n - <span class="number">1</span>, ans = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[i] &lt;= mid) &#123;</span><br><span class="line">                    cnt++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (cnt &lt;= mid) &#123;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">                ans = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒåˆ†æŸ¥æ‰¾golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findDuplicate</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    l, r := <span class="number">1</span>, n - <span class="number">1</span></span><br><span class="line">    ans := <span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> l &lt;= r &#123;</span><br><span class="line">        mid := (l + r) &gt;&gt; <span class="number">1</span></span><br><span class="line">        cnt := <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">            <span class="keyword">if</span> nums[i] &lt;= mid &#123;</span><br><span class="line">                cnt++</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> cnt &lt;= mid &#123;</span><br><span class="line">            l = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            r = mid - <span class="number">1</span></span><br><span class="line">            ans = mid</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)  ï¼Œå…¶ä¸­ <em>n</em> ä¸º nums[] æ•°ç»„çš„é•¿åº¦ã€‚äºŒåˆ†æŸ¥æ‰¾æœ€å¤šéœ€è¦äºŒåˆ† O(logn)æ¬¡ï¼Œæ¯æ¬¡åˆ¤æ–­çš„æ—¶å€™éœ€è¦<em>O(n)</em> éå† nums[]  æ•°ç»„æ±‚è§£å°äºç­‰äºmidçš„æ•°çš„ä¸ªæ•°ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚æˆ‘ä»¬åªéœ€è¦å¸¸æ•°ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡ã€‚</p></li></ul><h2 id="æ–¹æ³•äºŒï¼šäºŒè¿›åˆ¶"><a href="#æ–¹æ³•äºŒï¼šäºŒè¿›åˆ¶" class="headerlink" title="æ–¹æ³•äºŒï¼šäºŒè¿›åˆ¶"></a>æ–¹æ³•äºŒï¼šäºŒè¿›åˆ¶</h2><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>è¿™ä¸ªæ–¹æ³•æˆ‘ä»¬æ¥å°†æ‰€æœ‰æ•°äºŒè¿›åˆ¶å±•å¼€æŒ‰ä½è€ƒè™‘å¦‚ä½•æ‰¾å‡ºé‡å¤çš„æ•°ï¼Œå¦‚æœæˆ‘ä»¬èƒ½ç¡®å®šé‡å¤æ•°æ¯ä¸€ä½æ˜¯ <em>1</em> è¿˜æ˜¯ <em>0</em> å°±å¯ä»¥æŒ‰ä½è¿˜åŸå‡ºé‡å¤çš„æ•°æ˜¯ä»€ä¹ˆã€‚</p><p>è€ƒè™‘åˆ°ç¬¬ <em>i</em> ä½ï¼Œæˆ‘ä»¬è®° nums[] æ•°ç»„ä¸­äºŒè¿›åˆ¶å±•å¼€åç¬¬ <em>i</em> ä½ä¸º <em>1</em> çš„æ•°æœ‰ <em>x</em> ä¸ªï¼Œæ•°å­— <em>[1,n]</em> è¿™ <em>n</em> ä¸ªæ•°äºŒè¿›åˆ¶å±•å¼€åç¬¬ <em>i</em> ä½ä¸º <em>1</em> çš„æ•°æœ‰ <em>y</em> ä¸ªï¼Œé‚£ä¹ˆé‡å¤çš„æ•°ç¬¬ <em>i</em> ä½ä¸º <em>1</em> å½“ä¸”ä»…å½“ <em>x&gt;y</em>ã€‚</p><p>ä»ç„¶ä»¥ç¤ºä¾‹ 1 ä¸ºä¾‹ï¼Œå¦‚ä¸‹çš„è¡¨æ ¼åˆ—å‡ºäº†æ¯ä¸ªæ•°å­—äºŒè¿›åˆ¶ä¸‹æ¯ä¸€ä½æ˜¯ <em>1</em> è¿˜æ˜¯ <em>0</em> ä»¥åŠå¯¹åº”ä½çš„ <em>x</em> å’Œ <em>y</em> æ˜¯å¤šå°‘ï¼š</p><table><thead><tr><th align="center">&nbsp;</th><th align="center">1</th><th align="center">3</th><th align="center">4</th><th align="center">2</th><th align="center">2</th><th align="center">x</th><th align="center">y</th></tr></thead><tbody><tr><td align="center">ç¬¬ 0 ä½</td><td align="center">1</td><td align="center">1</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">2</td><td align="center">2</td></tr><tr><td align="center">ç¬¬ 1 ä½</td><td align="center">0</td><td align="center">1</td><td align="center">0</td><td align="center">1</td><td align="center">1</td><td align="center">3</td><td align="center">2</td></tr><tr><td align="center">ç¬¬ 2 ä½</td><td align="center">0</td><td align="center">0</td><td align="center">1</td><td align="center">0</td><td align="center">0</td><td align="center">1</td><td align="center">1</td></tr></tbody></table><p>æ›´å¤šæ€è·¯è¯¦è§£è§<a href="https://leetcode-cn.com/problems/find-the-duplicate-number/solution/xun-zhao-zhong-fu-shu-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></p><details>    <summary>äºŒè¿›åˆ¶C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size(), ans = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// ç¡®å®šäºŒè¿›åˆ¶ä¸‹æœ€é«˜ä½æ˜¯å¤šå°‘</span></span><br><span class="line">        <span class="keyword">int</span> bit_max = <span class="number">31</span>;</span><br><span class="line">        <span class="keyword">while</span> (!((n - <span class="number">1</span>) &gt;&gt; bit_max)) &#123;</span><br><span class="line">            bit_max -= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> bit = <span class="number">0</span>; bit &lt;= bit_max; ++bit) &#123;</span><br><span class="line">            <span class="keyword">int</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[i] &amp; (<span class="number">1</span> &lt;&lt; bit)) &#123;</span><br><span class="line">                    x += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i &gt;= <span class="number">1</span> &amp;&amp; (i &amp; (<span class="number">1</span> &lt;&lt; bit))) &#123;</span><br><span class="line">                    y += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (x &gt; y) &#123;</span><br><span class="line">                ans |= <span class="number">1</span> &lt;&lt; bit;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒè¿›åˆ¶JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol2-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> findDuplicate = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = nums.length;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// ç¡®å®šäºŒè¿›åˆ¶ä¸‹æœ€é«˜ä½æ˜¯å¤šå°‘</span></span><br><span class="line">    <span class="keyword">let</span> bit_max = <span class="number">31</span>;</span><br><span class="line">    <span class="keyword">while</span> (!((n - <span class="number">1</span>) &gt;&gt; bit_max)) &#123;</span><br><span class="line">        bit_max -= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> bit = <span class="number">0</span>; bit &lt;= bit_max; ++bit) &#123;</span><br><span class="line">        <span class="keyword">let</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &amp; (<span class="number">1</span> &lt;&lt; bit)) &#123;</span><br><span class="line">                x += <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= <span class="number">1</span> &amp;&amp; (i &amp; (<span class="number">1</span> &lt;&lt; bit))) &#123;</span><br><span class="line">                y += <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (x &gt; y) &#123;</span><br><span class="line">            ans |= <span class="number">1</span> &lt;&lt; bit;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒè¿›åˆ¶Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length, ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> bit_max = <span class="number">31</span>;</span><br><span class="line">        <span class="comment">//ä»¤bit_maxä¸ºn-1çš„æœ€é«˜ä½æ•°</span></span><br><span class="line">        <span class="keyword">while</span> (((n - <span class="number">1</span>) &gt;&gt; bit_max) == <span class="number">0</span>) &#123;</span><br><span class="line">            bit_max -= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> bit = <span class="number">0</span>; bit &lt;= bit_max; ++bit) &#123;</span><br><span class="line">            <span class="keyword">int</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((nums[i] &amp; (<span class="number">1</span> &lt;&lt; bit)) != <span class="number">0</span>) &#123;</span><br><span class="line">                    x += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (((i &amp; (<span class="number">1</span> &lt;&lt; bit)) != <span class="number">0</span>)) &#123;</span><br><span class="line">                    y += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (x &gt; y) &#123;</span><br><span class="line">                ans |= <span class="number">1</span> &lt;&lt; bit;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒè¿›åˆ¶golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findDuplicate</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line">    bit_max := <span class="number">31</span></span><br><span class="line">    <span class="keyword">for</span> ((n<span class="number">-1</span>) &gt;&gt; bit_max) == <span class="number">0</span> &#123;</span><br><span class="line">        bit_max--</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> bit := <span class="number">0</span>; bit &lt;= bit_max; bit++ &#123;</span><br><span class="line">        x, y := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &amp; (<span class="number">1</span> &lt;&lt; bit)) &gt; <span class="number">0</span> &#123;</span><br><span class="line">                x++</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> i &gt;= <span class="number">1</span> &amp;&amp; (i &amp; (<span class="number">1</span> &lt;&lt; bit)) &gt; <span class="number">0</span> &#123;</span><br><span class="line">                y++</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> x &gt; y &#123;</span><br><span class="line">            ans |= <span class="number">1</span> &lt;&lt; bit</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦è¯æ˜</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚æˆ‘ä»¬åªéœ€è¦å¸¸æ•°ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡ã€‚</p></li></ul><h2 id="æ–¹æ³•ä¸‰ï¼šå¿«æ…¢æŒ‡é’ˆ"><a href="#æ–¹æ³•ä¸‰ï¼šå¿«æ…¢æŒ‡é’ˆ" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šå¿«æ…¢æŒ‡é’ˆ"></a>æ–¹æ³•ä¸‰ï¼šå¿«æ…¢æŒ‡é’ˆ</h2><p>æ›´å¤šæ€è·¯è¯¦è§£è§<a href="https://leetcode-cn.com/problems/find-the-duplicate-number/solution/xun-zhao-zhong-fu-shu-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></p><details>    <summary>å¿«æ…¢æŒ‡é’ˆC++</summary><figure class="highlight c++"><figcaption><span>[sol3-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> slow = <span class="number">0</span>, fast = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            slow = nums[slow];</span><br><span class="line">            fast = nums[nums[fast]];</span><br><span class="line">        &#125; <span class="keyword">while</span> (slow != fast);</span><br><span class="line">        slow = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (slow != fast) &#123;</span><br><span class="line">            slow = nums[slow];</span><br><span class="line">            fast = nums[fast];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> slow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¿«æ…¢æŒ‡é’ˆJavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol3-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> findDuplicate = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> slow = <span class="number">0</span>, fast = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        slow = nums[slow];</span><br><span class="line">        fast = nums[nums[fast]];</span><br><span class="line">    &#125; <span class="keyword">while</span> (slow != fast);</span><br><span class="line">    slow = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (slow != fast) &#123;</span><br><span class="line">        slow = nums[slow];</span><br><span class="line">        fast = nums[fast];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> slow;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¿«æ…¢æŒ‡é’ˆJava</summary><figure class="highlight java"><figcaption><span>[sol3-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> slow = <span class="number">0</span>, fast = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            slow = nums[slow];</span><br><span class="line">            fast = nums[nums[fast]];</span><br><span class="line">        &#125; <span class="keyword">while</span> (slow != fast);</span><br><span class="line">        slow = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (slow != fast) &#123;</span><br><span class="line">            slow = nums[slow];</span><br><span class="line">            fast = nums[fast];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> slow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¿«æ…¢æŒ‡é’ˆgolang</summary><figure class="highlight golang"><figcaption><span>[sol3-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findDuplicate</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    slow, fast := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> slow, fast = nums[slow], nums[nums[fast]]; slow != fast; slow, fast = nums[slow], nums[nums[fast]] &#123; &#125;</span><br><span class="line">    slow = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> slow != fast &#123;</span><br><span class="line">        slow = nums[slow]</span><br><span class="line">        fast = nums[fast]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> slow</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ã€‚ã€ŒFloyd åˆ¤åœˆç®—æ³•ã€æ—¶é—´å¤æ‚åº¦ä¸ºçº¿æ€§çš„æ—¶é—´å¤æ‚åº¦ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚æˆ‘ä»¬åªéœ€è¦å¸¸æ•°ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªåŒ…å« n + 1 ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œå…¶æ•°å­—éƒ½åœ¨ 1 åˆ° n ä¹‹é—´ï¼ˆåŒ…æ‹¬ 1 å’Œ nï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚å‡è®¾åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•´æ•°ï¼Œæ‰¾å‡ºè¿™ä¸ªé‡å¤çš„æ•°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Two Pointers" scheme="http://yoursite.com/tags/Two-Pointers/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
  </entry>
  
  <entry>
    <title>162. å¯»æ‰¾å³°å€¼</title>
    <link href="http://yoursite.com/2020/08/24/162.%20%E5%AF%BB%E6%89%BE%E5%B3%B0%E5%80%BC/"/>
    <id>http://yoursite.com/2020/08/24/162. å¯»æ‰¾å³°å€¼/</id>
    <published>2020-08-24T09:55:12.000Z</published>
    <updated>2020-08-25T08:00:48.057Z</updated>
    
    <content type="html"><![CDATA[<p>å³°å€¼å…ƒç´ æ˜¯æŒ‡å…¶å€¼å¤§äºå·¦å³ç›¸é‚»å€¼çš„å…ƒç´ ã€‚</p><p>ç»™å®šä¸€ä¸ªè¾“å…¥æ•°ç»„ numsï¼Œå…¶ä¸­ nums[i] â‰  nums[i+1]ï¼Œæ‰¾åˆ°å³°å€¼å…ƒç´ å¹¶è¿”å›å…¶ç´¢å¼•ã€‚</p><a id="more"></a><p>æ•°ç»„å¯èƒ½åŒ…å«å¤šä¸ªå³°å€¼ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿”å›ä»»ä½•ä¸€ä¸ªå³°å€¼æ‰€åœ¨ä½ç½®å³å¯ã€‚</p><p>ä½ å¯ä»¥å‡è®¾ nums[-1] = nums[n] = -âˆã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: nums = [1,2,3,1]è¾“å‡º: 2è§£é‡Š: 3 æ˜¯å³°å€¼å…ƒç´ ï¼Œä½ çš„å‡½æ•°åº”è¯¥è¿”å›å…¶ç´¢å¼• 2ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: nums = [1,2,1,3,5,6,4]è¾“å‡º: 1 æˆ– 5 è§£é‡Š: ä½ çš„å‡½æ•°å¯ä»¥è¿”å›ç´¢å¼• 1ï¼Œå…¶å³°å€¼å…ƒç´ ä¸º 2ï¼›æˆ–è€…è¿”å›ç´¢å¼• 5ï¼Œ å…¶å³°å€¼å…ƒç´ ä¸º 6ã€‚</code></pre><p>è¯´æ˜:</p><p>ä½ çš„è§£æ³•åº”è¯¥æ˜¯ O(logN) æ—¶é—´å¤æ‚åº¦çš„ã€‚</p><h1 id="æ–¹æ³•ä¸€-çº¿æ€§æ‰«æ"><a href="#æ–¹æ³•ä¸€-çº¿æ€§æ‰«æ" class="headerlink" title="æ–¹æ³•ä¸€: çº¿æ€§æ‰«æ"></a>æ–¹æ³•ä¸€: çº¿æ€§æ‰«æ</h1><p>æœ¬æ–¹æ³•åˆ©ç”¨äº†è¿ç»­çš„ä¸¤ä¸ªå…ƒç´  <em>nums[j]</em> å’Œ <em>nums[j + 1]</em> ä¸ä¼šç›¸ç­‰è¿™ä¸€äº‹å®ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä»å¤´å¼€å§‹éå† <em>nums</em> æ•°ç»„ã€‚æ¯å½“æˆ‘ä»¬é‡åˆ°æ•°å­— <em>nums[i]*ï¼Œåªéœ€è¦æ£€æŸ¥å®ƒæ˜¯å¦å¤§äºä¸‹ä¸€ä¸ªå…ƒç´  *nums[i+1]</em> å³å¯åˆ¤æ–­ <em>nums[i]</em> æ˜¯å¦æ˜¯å³°å€¼ã€‚å¯ä»¥é€šè¿‡åˆ†åˆ«è®¨è®ºé—®é¢˜çš„å…¨éƒ¨ä¸‰ç§å¯èƒ½æƒ…å†µæ¥ç†è§£æœ¬æ–¹æ³•çš„æ€è·¯ã€‚</p><p>æƒ…å†µ 1. </p><p>æ‰€æœ‰çš„æ•°å­—ä»¥é™åºæ’åˆ—ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ å³ä¸ºå³°å€¼ã€‚æˆ‘ä»¬é¦–å…ˆæ£€æŸ¥å½“å‰å…ƒç´ æ˜¯å¦å¤§äºä¸‹ä¸ªå…ƒç´ ã€‚ç¬¬ä¸€ä¸ªå…ƒç´ æ»¡è¶³è¿™ä¸€æ¡ä»¶ï¼Œå› æ­¤è¢«æ­£ç¡®åˆ¤æ–­ä¸ºå³°å€¼ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç»§ç»­å‘ä¸‹åˆ¤æ–­ï¼Œä¹Ÿå°±ä¸ä¼šæœ‰éœ€è¦åˆ¤æ–­ <em>nums[i]</em> å’Œä¸Šä¸€ä¸ªå…ƒç´  <em>nums[i-1]</em> çš„å¤§å°çš„æƒ…å†µã€‚</p><p><a href="https://pic.leetcode-cn.com/fafef6e2070c9c444541d03e5d24c6c06f2f50f94026a22a9a86903e9d5ffcb1-image.png" target="_blank" rel="noopener">image.png</a></p><p>æƒ…å†µ 2. </p><p>æ‰€æœ‰çš„æ•°å­—ä»¥å‡åºæ’åˆ—ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šä¸€ç›´æ¯”è¾ƒ <em>nums[i]</em> ä¸ <em>nums[i+1]</em> ä»¥åˆ¤æ–­ <em>nums[i]</em> æ˜¯å¦æ˜¯å³°å€¼å…ƒç´ ã€‚æ²¡æœ‰å…ƒç´ ç¬¦åˆè¿™ä¸€æ¡ä»¶ï¼Œè¯´æ˜å¤„äºä¸Šå¡è€Œéå³°å€¼ã€‚äºæ˜¯ï¼Œåœ¨ç»“å°¾ï¼Œæˆ‘ä»¬è¿”å›æœ«å°¾å…ƒç´ ä½œä¸ºå³°å€¼å…ƒç´ ï¼Œå¾—åˆ°æ­£ç¡®ç»“æœã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åŒæ ·ä¸éœ€è¦æ¯”è¾ƒ <em>nums[i]</em> å’Œä¸Šä¸€ä¸ªå…ƒç´  <em>nums[i-1]*ï¼Œå› ä¸ºå¤„äºä¸Šå¡æ˜¯ *nums[i]</em> ä¸æ˜¯å³°å€¼çš„å……åˆ†æ¡ä»¶ã€‚</p><p><a href="https://pic.leetcode-cn.com/06cbc777aee1d0d0a906aefd408e539014f783727e401f136b66581d0856aa6d-image.png" target="_blank" rel="noopener">image.png</a></p><p>æƒ…å†µ 3. </p><p>å³°å€¼å‡ºç°åœ¨ä¸­é—´æŸå¤„ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå½“éå†ä¸Šå‡éƒ¨åˆ†æ—¶ï¼Œä¸æƒ…å†µ 2 ç›¸åŒï¼Œæ²¡æœ‰å…ƒç´ æ»¡è¶³ <em>nums[i] &gt; nums[i + 1]*ã€‚æˆ‘ä»¬ä¸éœ€è¦æ¯”è¾ƒ *nums[i]</em> å’Œä¸Šä¸€ä¸ªå…ƒç´  <em>nums[i-1]<em>ã€‚å½“åˆ°è¾¾å³°å€¼å…ƒç´ æ—¶ï¼Œ</em>nums[i] &gt; nums[i + 1]</em> æ¡ä»¶æ»¡è¶³ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬åŒæ ·ä¸éœ€è¦æ¯”è¾ƒ <em>nums[i]</em> å’Œä¸Šä¸€ä¸ªå…ƒç´  <em>nums[i-1]*ã€‚è¿™æ˜¯ç”±äºâ€œéå†ä¼šåˆ°è¾¾ç¬¬iä¸ªå…ƒç´ â€æœ¬èº«å°±è¯´æ˜ä¸Šä¸€ä¸ªå…ƒç´ ï¼ˆç¬¬i- 1ä¸ªï¼‰ä¸æ»¡è¶³ *nums[i] &gt; nums[i + 1]</em> è¿™ä¸€æ¡ä»¶ï¼Œä¹Ÿå°±è¯´æ˜ <em>nums[i-1] &lt; nums[i]</em>ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥å¾—åˆ°æ­£ç¡®ç»“æœã€‚</p><p><a href="https://pic.leetcode-cn.com/802bad70c4444bf708f4c63e30e054a33c27ace43b3c7b4fa64a0ffb8201fb7d-image.png" target="_blank" rel="noopener">image.png</a></p><details>    <summary>çº¿æ€§æ‰«æ</summary><figure class="highlight java"><figcaption><span>[solution 1]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findPeakElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; nums[i + <span class="number">1</span>])</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums.length - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ : <em>O(n)*ã€‚ æˆ‘ä»¬å¯¹é•¿åº¦ä¸º *n</em> çš„æ•°ç»„ <em>nums</em> åªè¿›è¡Œä¸€æ¬¡éå†ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ : <em>O(1)</em>ã€‚ åªä½¿ç”¨äº†å¸¸æ•°ç©ºé—´ã€‚<br><br></li></ul><hr><h1 id="æ–¹æ³•äºŒï¼šé€’å½’äºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•äºŒï¼šé€’å½’äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•äºŒï¼šé€’å½’äºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•äºŒï¼šé€’å½’äºŒåˆ†æŸ¥æ‰¾</h1><p><strong>ç®—æ³•</strong></p><p>æˆ‘ä»¬å¯ä»¥å°† <em>nums</em> æ•°ç»„ä¸­çš„ä»»ä½•ç»™å®šåºåˆ—è§†ä¸ºäº¤æ›¿çš„å‡åºå’Œé™åºåºåˆ—ã€‚é€šè¿‡åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œä»¥åŠâ€œå¯ä»¥è¿”å›ä»»ä½•ä¸€ä¸ªå³°ä½œä¸ºç»“æœâ€çš„è¦æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥æ‰¾åˆ°æ‰€éœ€çš„å³°å€¼å…ƒç´ ã€‚</p><p>åœ¨ç®€å•çš„äºŒåˆ†æŸ¥æ‰¾ä¸­ï¼Œæˆ‘ä»¬å¤„ç†çš„æ˜¯ä¸€ä¸ªæœ‰åºæ•°åˆ—ï¼Œå¹¶é€šè¿‡åœ¨æ¯ä¸€æ­¥å‡å°‘æœç´¢ç©ºé—´æ¥æ‰¾åˆ°æ‰€éœ€è¦çš„æ•°å­—ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯¹äºŒåˆ†æŸ¥æ‰¾è¿›è¡Œä¸€ç‚¹ä¿®æ”¹ã€‚é¦–å…ˆä»æ•°ç»„ <em>nums</em> ä¸­æ‰¾åˆ°ä¸­é—´çš„å…ƒç´  <em>mid*ã€‚è‹¥è¯¥å…ƒç´ æ°å¥½ä½äºé™åºåºåˆ—æˆ–è€…ä¸€ä¸ªå±€éƒ¨ä¸‹é™å¡åº¦ä¸­ï¼ˆé€šè¿‡å°† *nums[i]</em> ä¸å³ä¾§æ¯”è¾ƒåˆ¤æ–­)ï¼Œåˆ™è¯´æ˜å³°å€¼ä¼šåœ¨æœ¬å…ƒç´ çš„å·¦è¾¹ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å°†æœç´¢ç©ºé—´ç¼©å°ä¸º <em>mid</em> çš„å·¦è¾¹(åŒ…æ‹¬å…¶æœ¬èº«)ï¼Œå¹¶åœ¨å·¦ä¾§å­æ•°ç»„ä¸Šé‡å¤ä¸Šè¿°è¿‡ç¨‹ã€‚</p><p>è‹¥è¯¥å…ƒç´ æ°å¥½ä½äºå‡åºåºåˆ—æˆ–è€…ä¸€ä¸ªå±€éƒ¨ä¸Šå‡å¡åº¦ä¸­ï¼ˆé€šè¿‡å°† <em>nums[i]</em> ä¸å³ä¾§æ¯”è¾ƒåˆ¤æ–­)ï¼Œåˆ™è¯´æ˜å³°å€¼ä¼šåœ¨æœ¬å…ƒç´ çš„å³è¾¹ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å°†æœç´¢ç©ºé—´ç¼©å°ä¸º <em>mid</em> çš„å³è¾¹ï¼Œå¹¶åœ¨å³ä¾§å­æ•°ç»„ä¸Šé‡å¤ä¸Šè¿°è¿‡ç¨‹ã€‚</p><p>å°±è¿™æ ·ï¼Œæˆ‘ä»¬ä¸æ–­åœ°ç¼©å°æœç´¢ç©ºé—´ï¼Œç›´åˆ°æœç´¢ç©ºé—´ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œè¯¥å…ƒç´ å³ä¸ºå³°å€¼å…ƒç´ ã€‚</p><p>ä¸ºäº†ç†è§£æœ¬æ–¹æ³•çš„åŸç†ï¼Œè®©æˆ‘ä»¬å†æ¬¡è®¨è®ºå‰æ–‡æåˆ°çš„å…¨éƒ¨ä¸‰ç§æƒ…å†µã€‚</p><p>æƒ…å†µ 1. è¿™ç§æƒ…å†µä¸‹ï¼Œé¦–å…ˆæ‰¾åˆ°ä¸­é—´å…ƒç´  <em>3</em>ã€‚ç”±äºå®ƒå¤„äºä¸‹é™å¡åº¦ï¼Œå°†æœç´¢ç©ºé—´ç¼©å°åˆ° <code>[1, 2, 3]</code>ã€‚å¯¹äºæ­¤å­æ•°ç»„ï¼Œ<em>2</em> ä¸ºä¸­é—´å…ƒç´ ï¼Œä¹Ÿå¤„äºä¸‹é™å¡åº¦ä¸­ï¼Œäºæ˜¯å°†æœç´¢ç©ºé—´ç¼©å°åˆ° <code>[1, 2]</code>ã€‚ç°åœ¨ <em>1</em> æ˜¯ä¸­é—´å…ƒç´ å¹¶åŒæ ·å¤„äºä¸‹é™å¡åº¦ï¼Œäºæ˜¯å°†æœç´¢ç©ºé—´ç¼©å°åˆ° <code>[1]</code>ã€‚ æœ€ç»ˆ <em>1</em> ä½œä¸ºç­”æ¡ˆè¢«æ­£ç¡®è¿”å›ã€‚</p><p> <a href="https://pic.leetcode-cn.com/63177d2c44aab77a657c0eb4589f7b7f45e754cf3408d9872bc3371e680c5908-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/317e900368f211d02e3f107e288824a0e351d39963aae9a210b1fe3730ef1eec-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/1a26071c6f370ccd84a417a4edbfcf7178b1daf78ed3270285861af4f77c6496-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/8a511427f1c0c1b7c58776fa238124f44c300fc632d13658e1f381f6fd23fa03-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/17974218262fc0e235fac8bfe9252058015de312546ce35ac217ab428360b780-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/7d34f6f13915860f01f1e18409534a06db73504ffa3ab7dc66422801697a8a39-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/e2edf7bcc45863a10d438dd92b8c4c6b6b63ff834aa11f05e4a104b5cbf859fc-image.png" target="_blank" rel="noopener">image.png</a> </p><p>æƒ…å†µ 2. è¿™ç§æƒ…å†µä¸‹ï¼Œé¦–å…ˆæ‰¾åˆ°ä¸­é—´å…ƒç´  <em>3</em>ã€‚ç”±äºå®ƒå¤„äºä¸Šå‡å¡åº¦ï¼Œå°†æœç´¢ç©ºé—´ç¼©å°åˆ° <code>[4, 5]</code>ã€‚å¯¹äºæ­¤å­æ•°ç»„ï¼Œ<em>4</em> ä¸ºä¸­é—´å…ƒç´ ï¼Œä¹Ÿå¤„äºä¸Šå‡å¡åº¦ä¸­ï¼Œäºæ˜¯å°†æœç´¢ç©ºé—´ç¼©å°åˆ° <code>[5]</code>ã€‚ æœ€ç»ˆ <em>5</em> ä½œä¸ºç­”æ¡ˆè¢«æ­£ç¡®è¿”å›ã€‚</p><p> <a href="https://pic.leetcode-cn.com/935aeb721c5901d8f70a64aafc0bff14be030db7cf44605c051e5c87de2890c0-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/fb6d1262315867c62d818b0606b2628b6537d4b1b9c337bbaf3708fad257391c-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/6de90b2f77920d015f7a45191090b9265a49dae0c4585e8d514b1aaa39afd2b9-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/d359a685a16480ac4d6ad3d7e5df1f3b00524a74580982920bc01de72a9dd837-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/a976733e8b2e4817b2d88616b519bc58ca471ca15e9ee3f77fcc377a329e0d46-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/b0c6a62e9a0ebdc7a92995a1d633da7176cc82f9f3fe5e9e8f4b921b3d8fc4cc-image.png" target="_blank" rel="noopener">image.png</a> </p><p>æƒ…å†µ 3. è¿™ç§æƒ…å†µä¸‹ï¼Œ å³°å€¼ä½äºä¸­é—´æŸå¤„ã€‚ç¬¬ä¸€ä¸ªä¸­é—´å…ƒç´ æ˜¯ <em>4</em>ã€‚å®ƒä½äºä¸Šå‡å¡åº¦ï¼Œè¡¨æ˜å³°å€¼åœ¨å…¶å³ä¾§ã€‚äºæ˜¯ï¼Œæœç´¢ç©ºé—´ç¼©å°ä¸º <code>[5, 1]</code>ã€‚ ç°åœ¨ï¼Œ<em>5</em> ä½äºä¸‹é™å¡åº¦ï¼ˆç›¸å¯¹å…¶å³ä¾§ç›¸é‚»å…ƒç´ ï¼‰, æœç´¢ç©ºé—´ä¸‹é™ä¸º <code>[5]</code>ã€‚äºæ˜¯ï¼Œ<em>5</em> è¢«æ­£ç¡®è¯†åˆ«ã€‚</p><p> <a href="https://pic.leetcode-cn.com/3e49bacacecbf67aed75bcee9387dab5ccb7e7160dcc7c33be1be9e7a3acc563-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/8ee64c7b12c6b64b282324be43ecb89d29ac70d15dc3a35f2c62113cea7c23d8-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/78f6084e3bdfe12c05f2304d6a8b8c15e224f1b7f01f254bc04c0832c24c53b2-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/94cae61b8d045a3682d6a479417069776cabf13cc8bed930d07e088bcc2df575-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/03d56e48600ff839e6a6c8819d859d488e8bafd4c052fc61b7bdba09ed78ff8c-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/95f33e0a46ed380e3e5c2db5cb5a93479bb65463e7fcf6a7c953e3a039fe0461-image.png" target="_blank" rel="noopener">image.png</a> </p><details>    <summary>é€’å½’äºŒåˆ†æŸ¥æ‰¾</summary><figure class="highlight java"><figcaption><span>[solution 2]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findPeakElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> search(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l == r)</span><br><span class="line">            <span class="keyword">return</span> l;</span><br><span class="line">        <span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &gt; nums[mid + <span class="number">1</span>])</span><br><span class="line">            <span class="keyword">return</span> search(nums, l, mid);</span><br><span class="line">        <span class="keyword">return</span> search(nums, mid + <span class="number">1</span>, r);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ :  O(log_2(n)) ã€‚æ¯ä¸€æ­¥éƒ½å°†æœç´¢ç©ºé—´å‡åŠã€‚å› æ­¤ï¼Œæ€»çš„æœç´¢ç©ºé—´åªéœ€è¦ <em>log_2(n)</em> æ­¥ã€‚å…¶ä¸­ <em>n</em> ä¸º <em>nums</em> æ•°ç»„çš„é•¿åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦: O(log_2(n))  ã€‚æ¯ä¸€æ­¥éƒ½å°†æœç´¢ç©ºé—´å‡åŠã€‚å› æ­¤ï¼Œæ€»çš„æœç´¢ç©ºé—´åªéœ€è¦ <em>log_2(n)</em> æ­¥ã€‚äºæ˜¯ï¼Œé€’å½’æ ‘çš„æ·±åº¦ä¸º <em>log_2(n)</em>ã€‚<br><br></li></ul><hr><h1 id="æ–¹æ³•ä¸‰ï¼šè¿­ä»£äºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•ä¸‰ï¼šè¿­ä»£äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šè¿­ä»£äºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•ä¸‰ï¼šè¿­ä»£äºŒåˆ†æŸ¥æ‰¾</h1><p><strong>ç®—æ³•</strong></p><p>ä¸Šè¿°äºŒåˆ†æŸ¥æ‰¾æ–¹æ³•ä½¿ç”¨äº†é€’å½’ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿­ä»£è¾¾åˆ°åŒæ ·çš„æ•ˆæœã€‚æœ¬æ–¹æ³•å³ä¸ºè¿­ä»£å®ç°äºŒåˆ†æŸ¥æ‰¾ã€‚</p><details>    <summary>è¿­ä»£äºŒåˆ†æŸ¥æ‰¾</summary><figure class="highlight java"><figcaption><span>[solution 3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findPeakElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] &gt; nums[mid + <span class="number">1</span>])</span><br><span class="line">                r = mid;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li>æ—¶é—´å¤æ‚åº¦ : O(log_2(n))ã€‚ æ¯ä¸€æ­¥éƒ½å°†æœç´¢ç©ºé—´å‡åŠã€‚å› æ­¤ï¼Œæ€»çš„æœç´¢ç©ºé—´åªéœ€è¦ <em>log_2(n)</em> æ­¥ã€‚å…¶ä¸­ <em>n</em> ä¸º <em>nums</em> æ•°ç»„çš„é•¿åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ : <em>O(1)</em>ã€‚ åªä½¿ç”¨äº†å¸¸æ•°ç©ºé—´ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å³°å€¼å…ƒç´ æ˜¯æŒ‡å…¶å€¼å¤§äºå·¦å³ç›¸é‚»å€¼çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;ç»™å®šä¸€ä¸ªè¾“å…¥æ•°ç»„ numsï¼Œå…¶ä¸­ nums[i] â‰  nums[i+1]ï¼Œæ‰¾åˆ°å³°å€¼å…ƒç´ å¹¶è¿”å›å…¶ç´¢å¼•ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
  </entry>
  
  <entry>
    <title>324. æ‘†åŠ¨æ’åº II</title>
    <link href="http://yoursite.com/2020/08/24/324.%20%E6%91%86%E5%8A%A8%E6%8E%92%E5%BA%8F%20II/"/>
    <id>http://yoursite.com/2020/08/24/324. æ‘†åŠ¨æ’åº II/</id>
    <published>2020-08-24T08:40:12.000Z</published>
    <updated>2020-08-24T09:54:43.599Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæ— åºçš„æ•°ç»„ numsï¼Œå°†å®ƒé‡æ–°æ’åˆ—æˆ nums[0] &lt; nums[1] &gt; nums[2] &lt; nums[3]â€¦ çš„é¡ºåºã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: nums = [1, 5, 1, 1, 6, 4]è¾“å‡º: ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ [1, 4, 1, 5, 1, 6]</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: nums = [1, 3, 2, 2, 3, 1]è¾“å‡º: ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ [2, 3, 1, 3, 1, 2]</code></pre><p>è¯´æ˜:<br>ä½ å¯ä»¥å‡è®¾æ‰€æœ‰è¾“å…¥éƒ½ä¼šå¾—åˆ°æœ‰æ•ˆçš„ç»“æœã€‚</p><p>è¿›é˜¶:<br>ä½ èƒ½ç”¨ O(n) æ—¶é—´å¤æ‚åº¦å’Œ / æˆ–åŸåœ° O(1) é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ</p><p>è¿™é“é¢˜æ¯”è¾ƒç®€å•,ä¸»è¦è¯´ä¸€ä¸‹æ€æƒ³:         </p><h2 id="æœ‰ä¸€ä¸ªæ•°ç»„-a1-a2-â€¦-an-ï¼Œæˆ‘ä»¬æ€ä¹ˆæŠŠå®ƒæ’æˆæ‘‡æ‘†åºåˆ—å‘¢ï¼Ÿ"><a href="#æœ‰ä¸€ä¸ªæ•°ç»„-a1-a2-â€¦-an-ï¼Œæˆ‘ä»¬æ€ä¹ˆæŠŠå®ƒæ’æˆæ‘‡æ‘†åºåˆ—å‘¢ï¼Ÿ" class="headerlink" title="æœ‰ä¸€ä¸ªæ•°ç»„[a1,a2,â€¦,an]ï¼Œæˆ‘ä»¬æ€ä¹ˆæŠŠå®ƒæ’æˆæ‘‡æ‘†åºåˆ—å‘¢ï¼Ÿ"></a>æœ‰ä¸€ä¸ªæ•°ç»„[a1,a2,â€¦,an]ï¼Œæˆ‘ä»¬æ€ä¹ˆæŠŠå®ƒæ’æˆæ‘‡æ‘†åºåˆ—å‘¢ï¼Ÿ</h2><p>ç”±æ‘‡æ‘†åºåˆ—çš„å®šä¹‰:<code>nums[0] &lt; nums[1] &gt; nums[2] &lt; nums[3]...</code>ï¼Œæˆ‘ä»¬çŸ¥é“äº†å¯ä»¥åˆ†æˆè¾ƒå¤§ä¸€éƒ¨åˆ†çš„æ•°å’Œè¾ƒå°ä¸€éƒ¨åˆ†æ•°ï¼Œç„¶åäº’ç›¸ç©¿æ’å³å¯ã€‚æ¯”å¦‚ä¸€ä¸ªæ•°ç»„æ’åºåä¸ºï¼š<code>A=[a1,a2,...,an]</code> <code>(a1&lt;=a2&lt;=....&lt;=an)</code>ï¼Œç„¶ååˆ†æˆè¾ƒå°å’Œè¾ƒå¤§çš„ä¸¤éƒ¨åˆ†<code>[a1,a2,...,a(n/2)]</code>ï¼Œ<code>[a(n/2+1),...,an]</code>ï¼ˆæ•°ç»„é•¿åº¦ä¸ºå¥‡æ•°æ—¶ä¸å½±å“ï¼‰ï¼Œå†è¿›è¡Œç©¿æ’æ“ä½œã€‚</p><h2 id="é‚£æ˜¯ä¸æ˜¯ç©¿æ’æˆ-a1-a-n-2-1-a2-a-n-2-2-â€¦-an-å°±è¡Œäº†å‘¢ï¼Ÿ"><a href="#é‚£æ˜¯ä¸æ˜¯ç©¿æ’æˆ-a1-a-n-2-1-a2-a-n-2-2-â€¦-an-å°±è¡Œäº†å‘¢ï¼Ÿ" class="headerlink" title="é‚£æ˜¯ä¸æ˜¯ç©¿æ’æˆ[a1,a(n/2+1),a2,a(n/2+2),â€¦,an]å°±è¡Œäº†å‘¢ï¼Ÿ"></a>é‚£æ˜¯ä¸æ˜¯ç©¿æ’æˆ[a1,a(n/2+1),a2,a(n/2+2),â€¦,an]å°±è¡Œäº†å‘¢ï¼Ÿ</h2><p>å…¶å®ä¸å¯¹ï¼Œå¯ä»¥éªŒè¯ç‰¹æ®Šæƒ…å†µï¼šnæ¯”è¾ƒå°æ—¶ä¸”ä¸ºå¶æ•°æ—¶ï¼Œç©¿æ’åçš„åºåˆ—éœ€è¦æ»¡è¶³<code>a(n/2+1)&gt;a2</code>ï¼Œå¦‚æœ<code>a1&lt;a2&lt;=a(n/2+1)&lt;an</code>ï¼Œ<code>a(n/2+1)</code>æ­£å¥½æ˜¯<code>a2</code>çš„åä¸€é¡¹ä¸”ä¸<code>a2</code>ç›¸ç­‰å‘¢ï¼Ÿå³å¦‚æœæ˜¯<code>[4,5,5,6]</code>çš„æƒ…å†µå‘¢ï¼Ÿ<br>é‚£å°±åˆ†æˆäº†<code>[4,5]</code>ï¼Œ<code>[5,6]</code>ä¸¤éƒ¨åˆ†ï¼Œä¹‹åç©¿æ’æˆçš„æ˜¯<code>[4,5,5,6]</code>å¹¶ä¸æ˜¯æ‘‡æ‘†åºåˆ—ã€‚</p><h2 id="åº”è¯¥æ€æ ·æ’åˆ—å‘¢ï¼Ÿ"><a href="#åº”è¯¥æ€æ ·æ’åˆ—å‘¢ï¼Ÿ" class="headerlink" title="åº”è¯¥æ€æ ·æ’åˆ—å‘¢ï¼Ÿ"></a>åº”è¯¥æ€æ ·æ’åˆ—å‘¢ï¼Ÿ</h2><ol><li>æŠŠè¾ƒå°å’Œè¾ƒå¤§çš„ä¸¤éƒ¨åˆ†<code>[a1,a2,...,a(n/2)]</code>ï¼Œ<code>[a(n/2+1),...,an]</code>ç¿»è½¬æˆ<code>[a(n/2),...,a1]</code>ï¼Œ<code>[an,...,a(n/2+1)]</code></li><li>æ’åˆ—æˆ<code>B=[a(n/2),a(n),a(n/2-1),a(n-1),...,a1,a(n/2+1)]</code>å³å¯ã€‚</li></ol><p>è¿™æ ·ç›¸é‚»ä¸¤ä¸ªæ•°ä¸€å®šä¸å­˜åœ¨ç›¸ç­‰çš„æƒ…å†µï¼Œè€Œä¸”æ»¡è¶³æ‘‡æ‘†åºåˆ—çš„è¦æ±‚ã€‚</p><ul><li><p><code>n=1</code>æ—¶æ˜¾ç„¶æ­£ç¡®</p></li><li><p><code>n=2æˆ–n=3</code>æ—¶ä¹Ÿæ˜¾ç„¶æ­£ç¡®ã€‚</p></li><li><p><code>n&gt;=4æ—¶</code>ï¼š</p><ol><li><p>é¦–å…ˆï¼Œåˆ¤æ–­ç›¸é‚»çš„æƒ…å†µï¼Œå¦‚æœBä¸­ç°åœ¨ç›¸é‚»ä¸¤æ•°åœ¨åŸæ¥çš„æœ‰åºåºåˆ—Aä¹Ÿç›¸é‚»ï¼Œæ­¤æ—¶ä»¤<code>n-n/2=1ï¼Œ (n-1)-(n/2-1)=1ï¼Œ...</code>éƒ½è§£å¾—<code>n=2</code>ï¼Œæ„æ€æ˜¯<code>n=2</code>æ˜¯ä»–ä»¬çš„å…¬å…±è§£ï¼Œè€Œ<code>n&gt;=4</code>æ—¶ï¼Œ<code>n-n/2ï¼Œ (n-1)-(n/2-1)</code>ç­‰äº<code>n/2&gt;=2</code>ï¼Œè¯´æ˜Bä¸­ç›¸é‚»ä¸¤æ•°ä¸€å®šåœ¨åŸæ¥çš„æœ‰åºåºåˆ—Aä¸­ä¸ç›¸é‚»ï¼›</p></li><li><p>æœ‰äººä¼šè¯´ä¹Ÿå­˜åœ¨åŸæœ¬(åœ¨Aä¸­)ä¸ç›¸é‚»ä½†æ˜¯ç›¸ç­‰çš„æƒ…å†µï¼Œå³å‡ ä¸ªæ•°è¿ç»­ç›¸ç­‰ï¼Œä½†å…¶ä¸­ä¸¤ä¸ªç›¸ç­‰çš„æ•°å¹¶ä¸ç›¸é‚»ï¼Œæ¯”å¦‚<code>aq=a(q+1)=a(q+2)</code>ï¼Œ<code>aq=a(q+2)</code>ç›¸ç­‰ä½†æ˜¯ä¸ç›¸é‚»ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“å¦‚æœ<code>a(n/2-k)=a(n-k)</code>å³ä¸ç›¸é‚»ç›¸ç­‰ï¼Œé‚£ä¹ˆç”±äºä»–ä»¬ä¸­é—´çš„æ‰€æœ‰æ•°éƒ½è¦ç›¸ç­‰ï¼Œè€Œä¸”ä¸è¿™ä¸¤ä¸ªæ•°ç›¸ç­‰æ‰èƒ½ä¿è¯ä¸ç›¸é‚»ç›¸ç­‰ï¼šå³<code>a(n/2-k)=a(n/2-k+1)=a(n/2-k+2)=...=a(n-k-2)=a(n-k-1)=a(n-k)</code>ï¼Œä¸€å…±<code>n/2+1</code>ä¸ªæ•°ç›¸ç­‰ã€‚</p></li><li><p>è€Œä¸ç›¸é‚»ç›¸ç­‰è¿™ç§æƒ…å†µæ˜¯ä¸è¡Œçš„ï¼šè™½ç„¶åªæœ‰<code>a(n/2-k),a(n-k)</code>ï¼ˆåœ¨Bä¸­ç›¸é‚»ï¼‰åœ¨åŸåºåˆ—Aä¸­ä¸ç›¸é‚»ç›¸ç­‰ï¼Œä½†ä¹Ÿè¿èƒŒäº†æ‘‡æ‘†åºåˆ—çš„å®šä¹‰ï¼Œæ‰€ä»¥è¿™é“é¢˜æœ‰ä¸€ä¸ªéšè—çš„æ¡ä»¶ï¼šè¾“å…¥åºåˆ—åœ¨æ’åºåæœ€å¤šåªæœ‰åºåˆ—é•¿åº¦ä¸€åŠ(<code>n/2</code>)çš„ç›¸é‚»çš„æ•°è¿ç»­ç›¸ç­‰ã€‚</p></li></ol></li><li><p>åœ¨è¿™ä¸ªæ¡ä»¶ä¸‹ï¼šè¿™é“é¢˜æŒ‰æ­¤æ’åˆ—å°±æ²¡é—®é¢˜ã€‚å¤§å®¶å¯ä»¥ç”¨ğŸ–ŠéªŒè¯ä¸€ä¸‹ã€‚</p></li></ul><p>ä»£ç å¦‚ä¸‹:</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å…ˆæ’åºå†ç©¿æ’</span></span><br><span class="line"><span class="comment">     * O(nlogn)+O(n)=O(nlogn)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="keyword">int</span> len = nums.length;</span><br><span class="line">    <span class="keyword">int</span> smalllen = (len % <span class="number">2</span> == <span class="number">0</span>) ? len / <span class="number">2</span> : (len / <span class="number">2</span> + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span>[] smaller = <span class="keyword">new</span> <span class="keyword">int</span>[smalllen], bigger = <span class="keyword">new</span> <span class="keyword">int</span>[len / <span class="number">2</span>];</span><br><span class="line">    System.arraycopy(nums, <span class="number">0</span>, smaller, <span class="number">0</span>, smaller.length);</span><br><span class="line">    System.arraycopy(nums,smaller.length,bigger,<span class="number">0</span>,bigger.length);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len/<span class="number">2</span>; i++) &#123;</span><br><span class="line">        nums[<span class="number">2</span> * i] = smaller[smaller.length - <span class="number">1</span> - i];</span><br><span class="line">        nums[<span class="number">2</span> * i + <span class="number">1</span>] = bigger[bigger.length-i-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (len % <span class="number">2</span> != <span class="number">0</span>) &#123;</span><br><span class="line">        nums[len - <span class="number">1</span>] = smaller[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæ— åºçš„æ•°ç»„ numsï¼Œå°†å®ƒé‡æ–°æ’åˆ—æˆ nums[0] &amp;lt; nums[1] &amp;gt; nums[2] &amp;lt; nums[3]â€¦ çš„é¡ºåºã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Sort" scheme="http://yoursite.com/tags/Sort/"/>
    
  </entry>
  
  <entry>
    <title>179. æœ€å¤§æ•°</title>
    <link href="http://yoursite.com/2020/08/24/179.%20%E6%9C%80%E5%A4%A7%E6%95%B0/"/>
    <id>http://yoursite.com/2020/08/24/179. æœ€å¤§æ•°/</id>
    <published>2020-08-24T08:00:12.000Z</published>
    <updated>2020-08-24T08:39:23.127Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ç»„éè´Ÿæ•´æ•°ï¼Œé‡æ–°æ’åˆ—å®ƒä»¬çš„é¡ºåºä½¿ä¹‹ç»„æˆä¸€ä¸ªæœ€å¤§çš„æ•´æ•°ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: [10,2]è¾“å‡º: 210</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: [3,30,34,5,9]è¾“å‡º: 9534330</code></pre><p>è¯´æ˜: è¾“å‡ºç»“æœå¯èƒ½éå¸¸å¤§ï¼Œæ‰€ä»¥ä½ éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ˜¯æ•´æ•°ã€‚</p><h1 id="è‡ªå®šä¹‰æ’åºï¼š"><a href="#è‡ªå®šä¹‰æ’åºï¼š" class="headerlink" title="è‡ªå®šä¹‰æ’åºï¼š"></a>è‡ªå®šä¹‰æ’åºï¼š</h1><p><strong>æƒ³æ³•</strong></p><p>ä¸ºäº†æ„å»ºæœ€å¤§æ•°å­—ï¼Œæˆ‘ä»¬å¸Œæœ›è¶Šé«˜ä½çš„æ•°å­—è¶Šå¤§è¶Šå¥½ã€‚</p><p><strong>ç®—æ³•</strong></p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†æ¯ä¸ªæ•´æ•°å˜æˆå­—ç¬¦ä¸²ã€‚ç„¶åè¿›è¡Œæ’åºã€‚</p><p>å¦‚æœä»…æŒ‰é™åºæ’åºï¼Œæœ‰ç›¸åŒçš„å¼€å¤´æ•°å­—çš„æ—¶å€™ä¼šå‡ºç°é—®é¢˜ã€‚æ¯”æ–¹è¯´ï¼Œæ ·ä¾‹ 2 æŒ‰é™åºæ’åºå¾—åˆ°çš„æ•°å­—æ˜¯ <em>95343303</em> ï¼Œç„¶è€Œäº¤æ¢ <em>3</em> å’Œ <em>30</em> çš„ä½ç½®å¯ä»¥å¾—åˆ°æ­£ç¡®ç­”æ¡ˆ <em>9534330</em> ã€‚å› æ­¤ï¼Œæ¯ä¸€å¯¹æ•°åœ¨æ’åºçš„æ¯”è¾ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ¯”è¾ƒä¸¤ç§è¿æ¥é¡ºåºå“ªä¸€ç§æ›´å¥½ã€‚æˆ‘ä»¬å¯ä»¥è¯æ˜è¿™æ ·çš„åšæ³•æ˜¯æ­£ç¡®çš„ï¼š</p><p>å‡è®¾ï¼ˆä¸æ˜¯ä¸€èˆ¬æ€§ï¼‰ï¼ŒæŸä¸€å¯¹æ•´æ•° <em>a</em> å’Œ <em>b</em> ï¼Œæˆ‘ä»¬çš„æ¯”è¾ƒç»“æœæ˜¯ <em>a</em> åº”è¯¥åœ¨ <em>b</em> å‰é¢ï¼Œè¿™æ„å‘³ç€ a ^ b&gt;b ^ a ï¼Œå…¶ä¸­ ^  è¡¨ç¤ºè¿æ¥ã€‚å¦‚æœæ’åºç»“æœæ˜¯é”™çš„ï¼Œè¯´æ˜å­˜åœ¨ä¸€ä¸ª <em>c</em> ï¼Œ <em>b</em> åœ¨ <em>c</em> å‰é¢ä¸” <em>c</em> åœ¨ <em>a</em> çš„å‰é¢ã€‚è¿™äº§ç”Ÿäº†çŸ›ç›¾ï¼Œå› ä¸ºa ^ b&gt;b ^ a  å’Œb ^c &gt;c ^ b æ„å‘³ç€ a ^ c &gt;c ^ a  ã€‚æ¢è¨€ä¹‹ï¼Œæˆ‘ä»¬çš„è‡ªå®šä¹‰æ¯”è¾ƒæ–¹æ³•ä¿è¯äº†ä¼ é€’æ€§ï¼Œæ‰€ä»¥è¿™æ ·å­æ’åºæ˜¯å¯¹çš„ã€‚</p><p>ä¸€æ—¦æ•°ç»„æ’å¥½äº†åºï¼Œæœ€â€œé‡è¦â€çš„æ•°å­—ä¼šåœ¨æœ€å‰é¢ã€‚æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„æƒ…å†µæ˜¯å¦‚æœæ•°ç»„åªåŒ…å« 0 ï¼Œæˆ‘ä»¬ç›´æ¥è¿”å›ç»“æœ <em>0</em> å³å¯ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬ç”¨æ’å¥½åºçš„æ•°ç»„å½¢æˆä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›ã€‚</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">LargerNumberComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String a, String b)</span> </span>&#123;</span><br><span class="line">            String order1 = a + b;</span><br><span class="line">            String order2 = b + a;</span><br><span class="line">           <span class="keyword">return</span> order2.compareTo(order1);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">largestNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Get input integers as strings.</span></span><br><span class="line">        String[] asStrs = <span class="keyword">new</span> String[nums.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            asStrs[i] = String.valueOf(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Sort strings according to custom comparator.</span></span><br><span class="line">        Arrays.sort(asStrs, <span class="keyword">new</span> LargerNumberComparator());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// If, after being sorted, the largest number is `0`, the entire number</span></span><br><span class="line">        <span class="comment">// is zero.</span></span><br><span class="line">        <span class="keyword">if</span> (asStrs[<span class="number">0</span>].equals(<span class="string">"0"</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Build largest number from sorted array.</span></span><br><span class="line">        String largestNumberStr = <span class="keyword">new</span> String();</span><br><span class="line">        <span class="keyword">for</span> (String numAsStr : asStrs) &#123;</span><br><span class="line">            largestNumberStr += numAsStr;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> largestNumberStr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LargerNumKey</span><span class="params">(str)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span><span class="params">(x, y)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> x+y &gt; y+x</span><br><span class="line">        </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        largest_num = <span class="string">''</span>.join(sorted(map(str, nums), key=LargerNumKey))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'0'</span> <span class="keyword">if</span> largest_num[<span class="number">0</span>] == <span class="string">'0'</span> <span class="keyword">else</span> largest_num</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(nlgn)</em></p><p>  å°½ç®¡æˆ‘ä»¬åœ¨æ¯”è¾ƒå‡½æ•°ä¸­åšäº†ä¸€äº›é¢å¤–çš„å·¥ä½œï¼Œä½†æ˜¯è¿™åªæ˜¯ä¸€ä¸ªå¸¸æ•°å› å­ã€‚æ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ç”±æ’åºå†³å®šçš„ï¼Œåœ¨ Python å’Œ Java ä¸­éƒ½æ˜¯ <em>O(nlgn)</em> ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em></p><p>  è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº† <em>O(n)</em> çš„é¢å¤–ç©ºé—´å»ä¿å­˜ <code>nums</code> çš„å‰¯æœ¬ã€‚å°½ç®¡æˆ‘ä»¬å°±åœ°è¿›è¡Œäº†ä¸€äº›é¢å¤–çš„å·¥ä½œï¼Œä½†æœ€åè¿”å›çš„æ•°ç»„éœ€è¦ <em>O(n)</em> çš„ç©ºé—´ã€‚å› æ­¤ï¼Œéœ€è¦çš„é¢å¤–ç©ºé—´ä¸ <code>nums</code> å¤§å°æˆçº¿æ€§å…³ç³»ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ç»„éè´Ÿæ•´æ•°ï¼Œé‡æ–°æ’åˆ—å®ƒä»¬çš„é¡ºåºä½¿ä¹‹ç»„æˆä¸€ä¸ªæœ€å¤§çš„æ•´æ•°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Sort" scheme="http://yoursite.com/tags/Sort/"/>
    
  </entry>
  
  <entry>
    <title>297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</title>
    <link href="http://yoursite.com/2020/08/24/297.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
    <id>http://yoursite.com/2020/08/24/297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–/</id>
    <published>2020-08-24T03:19:12.000Z</published>
    <updated>2020-08-24T06:54:22.665Z</updated>
    
    <content type="html"><![CDATA[<p>åºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œè¿›è€Œå¯ä»¥å°†è½¬æ¢åçš„æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒï¼Œé‡‡å–ç›¸åæ–¹å¼é‡æ„å¾—åˆ°åŸæ•°æ®ã€‚</p><a id="more"></a><p>è¯·è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥å®ç°äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚è¿™é‡Œä¸é™å®šä½ çš„åºåˆ— / ååºåˆ—åŒ–ç®—æ³•æ‰§è¡Œé€»è¾‘ï¼Œä½ åªéœ€è¦ä¿è¯ä¸€ä¸ªäºŒå‰æ ‘å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å¹¶ä¸”å°†è¿™ä¸ªå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºåŸå§‹çš„æ ‘ç»“æ„ã€‚</p><p>ç¤ºä¾‹: </p><pre><code>ä½ å¯ä»¥å°†ä»¥ä¸‹äºŒå‰æ ‘ï¼š    1   / \  2   3     / \    4   5åºåˆ—åŒ–ä¸º &quot;[1,2,3,null,null,4,5]&quot;</code></pre><p>æç¤º: è¿™ä¸ LeetCode ç›®å‰ä½¿ç”¨çš„æ–¹å¼ä¸€è‡´ï¼Œè¯¦æƒ…è¯·å‚é˜… LeetCode åºåˆ—åŒ–äºŒå‰æ ‘çš„æ ¼å¼ã€‚ä½ å¹¶éå¿…é¡»é‡‡å–è¿™ç§æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥é‡‡ç”¨å…¶ä»–çš„æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>è¯´æ˜: ä¸è¦ä½¿ç”¨ç±»çš„æˆå‘˜ / å…¨å±€ / é™æ€å˜é‡æ¥å­˜å‚¨çŠ¶æ€ï¼Œä½ çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ç®—æ³•åº”è¯¥æ˜¯æ— çŠ¶æ€çš„ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</h1><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>äºŒå‰æ ‘çš„åºåˆ—åŒ–æœ¬è´¨ä¸Šæ˜¯å¯¹å…¶å€¼è¿›è¡Œç¼–ç ï¼Œæ›´é‡è¦çš„æ˜¯å¯¹å…¶ç»“æ„è¿›è¡Œç¼–ç ã€‚å¯ä»¥éå†æ ‘æ¥å®Œæˆä¸Šè¿°ä»»åŠ¡ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œæˆ‘ä»¬ä¸€èˆ¬æœ‰ä¸¤ä¸ªç­–ç•¥ï¼šBFS / DFSã€‚</p><ul><li>BFS å¯ä»¥æŒ‰ç…§å±‚æ¬¡çš„é¡ºåºä»ä¸Šåˆ°ä¸‹éå†æ‰€æœ‰çš„èŠ‚ç‚¹</li><li>DFS å¯ä»¥ä»ä¸€ä¸ªæ ¹å¼€å§‹ï¼Œä¸€ç›´å»¶ä¼¸åˆ°æŸä¸ªå¶ï¼Œç„¶åå›åˆ°æ ¹ï¼Œåˆ°è¾¾å¦ä¸€ä¸ªåˆ†æ”¯ã€‚æ ¹æ®æ ¹èŠ‚ç‚¹ã€å·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹ä¹‹é—´çš„ç›¸å¯¹é¡ºåºï¼Œå¯ä»¥è¿›ä¸€æ­¥å°†DFSç­–ç•¥åŒºåˆ†ä¸ºï¼š<ul><li>å…ˆåºéå†</li><li>ä¸­åºéå†</li><li>ååºéå†</li></ul></li></ul><p>è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©å…ˆåºéå†çš„ç¼–ç æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™æ ·ä¸€ä¸ªä¾‹å­ç®€å•ç†è§£ï¼š</p><p> <a href="https://assets.leetcode-cn.com/solution-static/297/1.PNG" target="_blank" rel="noopener">fig1</a> <a href="https://assets.leetcode-cn.com/solution-static/297/2.PNG" target="_blank" rel="noopener">fig2</a> <a href="https://assets.leetcode-cn.com/solution-static/297/3.PNG" target="_blank" rel="noopener">fig3</a> <a href="https://assets.leetcode-cn.com/solution-static/297/4.PNG" target="_blank" rel="noopener">fig4</a> <a href="https://assets.leetcode-cn.com/solution-static/297/5.PNG" target="_blank" rel="noopener">fig5</a> <a href="https://assets.leetcode-cn.com/solution-static/297/6.PNG" target="_blank" rel="noopener">fig6</a> <a href="https://assets.leetcode-cn.com/solution-static/297/7.PNG" target="_blank" rel="noopener">fig7</a> <a href="https://assets.leetcode-cn.com/solution-static/297/8.PNG" target="_blank" rel="noopener">fig8</a> <a href="https://assets.leetcode-cn.com/solution-static/297/9.PNG" target="_blank" rel="noopener">fig9</a> <a href="https://assets.leetcode-cn.com/solution-static/297/10.PNG" target="_blank" rel="noopener">fig10</a> <a href="https://assets.leetcode-cn.com/solution-static/297/11.PNG" target="_blank" rel="noopener">fig11</a> <a href="https://assets.leetcode-cn.com/solution-static/297/12.PNG" target="_blank" rel="noopener">fig12</a> </p><p>æˆ‘ä»¬ä»æ ¹èŠ‚ç‚¹ <code>1</code> å¼€å§‹ï¼Œåºåˆ—åŒ–å­—ç¬¦ä¸²æ˜¯ <code>1,</code>ã€‚ç„¶åæˆ‘ä»¬è·³åˆ°æ ¹èŠ‚ç‚¹ <code>2</code> çš„å·¦å­æ ‘ï¼Œåºåˆ—åŒ–å­—ç¬¦ä¸²å˜æˆ <code>1,2,</code>ã€‚ç°åœ¨ä»èŠ‚ç‚¹ <code>2</code> å¼€å§‹ï¼Œæˆ‘ä»¬è®¿é—®å®ƒçš„å·¦èŠ‚ç‚¹ <code>3</code>ï¼ˆ<code>1,2,3,None,None,</code>ï¼‰å’Œå³èŠ‚ç‚¹ <code>4</code>(<code>1,2,3,None,None,4,None,None</code>)ã€‚<code>None,None,</code> æ˜¯ç”¨æ¥æ ‡è®°ç¼ºå°‘å·¦ã€å³å­èŠ‚ç‚¹ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬åœ¨åºåˆ—åŒ–æœŸé—´ä¿å­˜æ ‘ç»“æ„çš„æ–¹å¼ã€‚æœ€åï¼Œæˆ‘ä»¬å›åˆ°æ ¹èŠ‚ç‚¹ <code>1</code> å¹¶è®¿é—®å®ƒçš„å³å­æ ‘ï¼Œå®ƒæ°å¥½æ˜¯å¶èŠ‚ç‚¹ <code>5</code>ã€‚æœ€åï¼Œåºåˆ—åŒ–å­—ç¬¦ä¸²æ˜¯ <code>1,2,3,None,None,4,None,None,5,None,None,</code>ã€‚</p><p>å³æˆ‘ä»¬å¯ä»¥å…ˆåºéå†è¿™é¢—äºŒå‰æ ‘ï¼Œé‡åˆ°ç©ºå­æ ‘çš„æ—¶å€™åºåˆ—åŒ–æˆ <code>None</code>ï¼Œå¦åˆ™ç»§ç»­é€’å½’åºåˆ—åŒ–ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ååºåˆ—åŒ–å‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬éœ€è¦æ ¹æ® <code>,</code> æŠŠåŸå…ˆçš„åºåˆ—åˆ†å‰²å¼€æ¥å¾—åˆ°å…ˆåºéå†çš„å…ƒç´ åˆ—è¡¨ï¼Œç„¶åä»å·¦å‘å³éå†è¿™ä¸ªåºåˆ—ï¼š</p><ul><li>å¦‚æœå½“å‰çš„å…ƒç´ ä¸º <code>None</code>ï¼Œåˆ™å½“å‰ä¸ºç©ºæ ‘</li><li>å¦åˆ™å…ˆè§£æè¿™æ£µæ ‘çš„å·¦å­æ ‘ï¼Œå†è§£æå®ƒçš„å³å­æ ‘</li></ul><p>å…·ä½“è¯·å‚è€ƒä¸‹é¢çš„ä»£ç ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">rserialize</span><span class="params">(TreeNode root, String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            str += <span class="string">"None,"</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            str += str.valueOf(root.val) + <span class="string">","</span>;</span><br><span class="line">            str = rserialize(root.left, str);</span><br><span class="line">            str = rserialize(root.right, str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> rserialize(root, <span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">rdeserialize</span><span class="params">(List&lt;String&gt; l)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l.get(<span class="number">0</span>).equals(<span class="string">"None"</span>)) &#123;</span><br><span class="line">            l.remove(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        TreeNode root = <span class="keyword">new</span> TreeNode(Integer.valueOf(l.get(<span class="number">0</span>)));</span><br><span class="line">        l.remove(<span class="number">0</span>);</span><br><span class="line">        root.left = rdeserialize(l);</span><br><span class="line">        root.right = rdeserialize(l);</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">        String[] data_array = data.split(<span class="string">","</span>);</span><br><span class="line">        List&lt;String&gt; data_list = <span class="keyword">new</span> LinkedList&lt;String&gt;(Arrays.asList(data_array));</span><br><span class="line">        <span class="keyword">return</span> rdeserialize(data_list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Codec <span class="keyword">struct</span> &#123;</span><br><span class="line">    l []<span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Constructor</span><span class="params">()</span> <span class="title">Codec</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> Codec&#123;&#125;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">rserialize</span><span class="params">(root *TreeNode, str <span class="keyword">string</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">        str += <span class="string">"null,"</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        str += strconv.Itoa(root.Val) + <span class="string">","</span></span><br><span class="line">        str = rserialize(root.Left, str)</span><br><span class="line">        str = rserialize(root.Right, str)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Serializes a tree to a single string.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Codec)</span> <span class="title">serialize</span><span class="params">(root *TreeNode)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> rserialize(root, <span class="string">""</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Deserializes your encoded data to tree.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Codec)</span> <span class="title">deserialize</span><span class="params">(data <span class="keyword">string</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    l := strings.Split(data, <span class="string">","</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(l); i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> l[i] != <span class="string">""</span> &#123;</span><br><span class="line">            this.l = <span class="built_in">append</span>(this.l, l[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> this.rdeserialize()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Codec)</span> <span class="title">rdeserialize</span><span class="params">()</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> this.l[<span class="number">0</span>] == <span class="string">"null"</span> &#123;</span><br><span class="line">        this.l = this.l[<span class="number">1</span>:]</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    val, _ := strconv.Atoi(this.l[<span class="number">0</span>])</span><br><span class="line">    root := &amp;TreeNode&#123;Val: val&#125;</span><br><span class="line">    this.l = this.l[<span class="number">1</span>:]</span><br><span class="line">    root.Left = this.rdeserialize()</span><br><span class="line">    root.Right = this.rdeserialize()</span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šåœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åªè®¿é—®æ¯ä¸ªèŠ‚ç‚¹ä¸€æ¬¡ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)*ï¼Œå…¶ä¸­ *n</em> æ˜¯èŠ‚ç‚¹æ•°ï¼Œå³æ ‘çš„å¤§å°ã€‚ </li><li>ç©ºé—´å¤æ‚åº¦ï¼šåœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é€’å½’ä¼šä½¿ç”¨æ ˆç©ºé—´ï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚ </li></ul><h1 id="æ–¹æ³•äºŒï¼šæ‹¬å·è¡¨ç¤ºç¼–ç -é€’å½’ä¸‹é™è§£ç "><a href="#æ–¹æ³•äºŒï¼šæ‹¬å·è¡¨ç¤ºç¼–ç -é€’å½’ä¸‹é™è§£ç " class="headerlink" title="æ–¹æ³•äºŒï¼šæ‹¬å·è¡¨ç¤ºç¼–ç  + é€’å½’ä¸‹é™è§£ç "></a>æ–¹æ³•äºŒï¼šæ‹¬å·è¡¨ç¤ºç¼–ç  + é€’å½’ä¸‹é™è§£ç </h1><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·è¡¨ç¤ºä¸€é¢—äºŒå‰æ ‘ï¼š</p><ul><li>å¦‚æœå½“å‰çš„æ ‘ä¸ºç©ºï¼Œåˆ™è¡¨ç¤ºä¸º <code>X</code></li><li>å¦‚æœå½“å‰çš„æ ‘ä¸ä¸ºç©ºï¼Œåˆ™è¡¨ç¤ºä¸º <code>(&lt;LEFT_SUB_TREE&gt;)CUR_NUM(RIGHT_SUB_TREE)</code>ï¼Œå…¶ä¸­ï¼š<ul><li><code>&lt;LEFT_SUB_TREE&gt;</code> æ˜¯å·¦å­æ ‘åºåˆ—åŒ–ä¹‹åçš„ç»“æœ</li><li><code>&lt;RIGHT_SUB_TREE&gt;</code> æ˜¯å³å­æ ‘åºåˆ—åŒ–ä¹‹åçš„ç»“æœ</li><li><code>CUR_NUM</code> æ˜¯å½“å‰èŠ‚ç‚¹çš„å€¼</li></ul></li></ul><p>æ ¹æ®è¿™æ ·çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¾ˆå¥½å†™å‡ºåºåˆ—åŒ–çš„è¿‡ç¨‹ï¼Œååºéå†è¿™é¢—äºŒå‰æ ‘å³å¯ï¼Œé‚£å¦‚ä½•ååºåˆ—åŒ–å‘¢ï¼Ÿæ ¹æ®å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥æ¨å¯¼å‡ºè¿™æ ·çš„å·´ç§‘æ–¯èŒƒå¼ï¼ˆBNFï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">T -&gt; (T) num (T) | X</span><br></pre></td></tr></table></figure><p>å®ƒçš„æ„ä¹‰æ˜¯ï¼šç”¨ <code>T</code> ä»£è¡¨ä¸€æ£µæ ‘åºåˆ—åŒ–ä¹‹åçš„ç»“æœï¼Œ<code>|</code> è¡¨ç¤º <code>T</code> çš„æ„æˆä¸º <code>(T) num (T)</code> æˆ–è€… <code>X</code>ï¼Œ<code>|</code> å·¦è¾¹æ˜¯å¯¹ <code>T</code> çš„é€’å½’å®šä¹‰ï¼Œå³è¾¹è§„å®šäº†é€’å½’ç»ˆæ­¢çš„è¾¹ç•Œæ¡ä»¶ã€‚</p><p>å› ä¸ºï¼š</p><ul><li><code>T</code> çš„å®šä¹‰ä¸­ï¼Œåºåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è¦ä¹ˆæ˜¯ <code>X</code>ï¼Œè¦ä¹ˆæ˜¯ <code>(</code>ï¼Œæ‰€ä»¥è¿™ä¸ªå®šä¹‰æ˜¯ä¸å«å·¦é€’å½’çš„</li><li>å½“æˆ‘ä»¬å¼€å§‹è§£æä¸€ä¸ªå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå¦‚æœå¼€å¤´æ˜¯ <code>X</code>ï¼Œæˆ‘ä»¬å°±çŸ¥é“è¿™ä¸€å®šæ˜¯è§£æä¸€ä¸ªã€Œç©ºæ ‘ã€çš„ç»“æ„ï¼Œå¦‚æœå¼€å¤´æ˜¯ <code>(</code>ï¼Œæˆ‘ä»¬å°±çŸ¥é“éœ€è¦è§£æ <code>(T) num (T)</code> çš„ç»“æ„ï¼Œå› æ­¤è¿™é‡Œä¸¤ç§å¼€å¤´å’Œä¸¤ç§è§£ææ–¹æ³•ä¸€ä¸€å¯¹åº”ï¼Œå¯ä»¥ç¡®å®šè¿™æ˜¯ä¸€ä¸ªæ— äºŒä¹‰æ€§çš„æ–‡æ³•</li><li>æˆ‘ä»¬åªéœ€è¦é€šè¿‡å¼€å¤´çš„ç¬¬ä¸€ä¸ªå­—æ¯æ˜¯ <code>X</code> è¿˜æ˜¯ <code>(</code> æ¥åˆ¤æ–­ä½¿ç”¨å“ªä¸€ç§è§£ææ–¹æ³•</li></ul><p>æ‰€ä»¥è¿™ä¸ªæ–‡æ³•æ˜¯ LL(1) å‹æ–‡æ³•ï¼Œ<strong>å¦‚æœä½ ä¸çŸ¥é“ä»€ä¹ˆæ˜¯ LL(1) å‹æ–‡æ³•ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œä½ åªéœ€è¦çŸ¥é“å®ƒå®šä¹‰äº†ä¸€ç§é€’å½’çš„æ–¹æ³•æ¥ååºåˆ—åŒ–ï¼Œä¹Ÿä¿è¯äº†è¿™ä¸ªæ–¹æ³•çš„æ­£ç¡®æ€§â€”â€”æˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€ä¸ªé€’å½’å‡½æ•°ï¼š</strong></p><ul><li>è¿™ä¸ªé€’å½’å‡½æ•°ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œå¸¦è§£æçš„å­—ç¬¦ä¸²å’Œå½“å‰å½“è§£æçš„ä½ç½® <code>ptr</code>ï¼Œ<code>ptr</code> ä¹‹å‰çš„ä½ç½®æ˜¯å·²ç»è§£æçš„ï¼Œ<code>ptr</code> å’Œ <code>ptr</code> åé¢çš„å­—ç¬¦ä¸²æ˜¯å¾…è§£æçš„</li><li>å¦‚æœå½“å‰ä½ç½®ä¸º <code>X</code> è¯´æ˜è§£æåˆ°äº†ä¸€æ£µç©ºæ ‘ï¼Œç›´æ¥è¿”å›</li><li>å¦åˆ™å½“å‰ä½ç½®ä¸€å®šæ˜¯ <code>(</code>ï¼Œå¯¹æ‹¬å·å†…éƒ¨æŒ‰ç…§ <code>(T) num (T)</code> çš„æ¨¡å¼è§£æ</li></ul><p>å…·ä½“è¯·å‚è€ƒä¸‹é¢çš„ä»£ç ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>æ‹¬å·è¡¨ç¤ºç¼–ç  + é€’å½’ä¸‹é™è§£ç cpp</summary><figure class="highlight cpp"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Codec</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">serialize</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="string">"X"</span>;</span><br><span class="line">        <span class="keyword">auto</span> l = <span class="string">"("</span> + serialize(root-&gt;left) + <span class="string">")"</span>;</span><br><span class="line">        <span class="keyword">auto</span> r = <span class="string">"("</span> + serialize(root-&gt;right) + <span class="string">")"</span>;</span><br><span class="line">        <span class="keyword">return</span>  l + to_string(root-&gt;val) + r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> TreeNode* <span class="title">parseSubtree</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;data, <span class="keyword">int</span> &amp;ptr)</span> </span>&#123;</span><br><span class="line">        ++ptr; <span class="comment">// è·³è¿‡å·¦æ‹¬å·</span></span><br><span class="line">        <span class="keyword">auto</span> subtree = parse(data, ptr);</span><br><span class="line">        ++ptr; <span class="comment">// è·³è¿‡å³æ‹¬å·</span></span><br><span class="line">        <span class="keyword">return</span> subtree;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">parseInt</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;data, <span class="keyword">int</span> &amp;ptr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>, sgn = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">isdigit</span>(data[ptr])) &#123;</span><br><span class="line">            sgn = <span class="number">-1</span>;</span><br><span class="line">            ++ptr;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">isdigit</span>(data[ptr])) &#123;</span><br><span class="line">            x = x * <span class="number">10</span> + data[ptr++] - <span class="string">'0'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x * sgn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">TreeNode* <span class="title">parse</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;data, <span class="keyword">int</span> &amp;ptr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (data[ptr] == <span class="string">'X'</span>) &#123;</span><br><span class="line">            ++ptr;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">auto</span> cur = <span class="keyword">new</span> TreeNode(<span class="number">0</span>);</span><br><span class="line">        cur-&gt;left = parseSubtree(data, ptr);</span><br><span class="line">        cur-&gt;val = parseInt(data, ptr);</span><br><span class="line">        cur-&gt;right = parseSubtree(data, ptr);</span><br><span class="line">        <span class="keyword">return</span> cur;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">TreeNode* <span class="title">deserialize</span><span class="params">(<span class="built_in">string</span> data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ptr = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> parse(data, ptr);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ‹¬å·è¡¨ç¤ºç¼–ç  + é€’å½’ä¸‹é™è§£ç java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"X"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        String l = <span class="string">"("</span> + serialize(root.left) + <span class="string">")"</span>;</span><br><span class="line">        String r = <span class="string">"("</span> + serialize(root.right) + <span class="string">")"</span>;</span><br><span class="line">        <span class="keyword">return</span>  l + root.val + r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] ptr = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">return</span> parse(data, ptr);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">parse</span><span class="params">(String data, <span class="keyword">int</span>[] ptr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (data.charAt(ptr[<span class="number">0</span>]) == <span class="string">'X'</span>) &#123;</span><br><span class="line">            ++ptr[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        TreeNode cur = <span class="keyword">new</span> TreeNode(<span class="number">0</span>);</span><br><span class="line">        cur.left = parseSubtree(data, ptr);</span><br><span class="line">        cur.val = parseInt(data, ptr);</span><br><span class="line">        cur.right = parseSubtree(data, ptr);</span><br><span class="line">        <span class="keyword">return</span> cur;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">parseSubtree</span><span class="params">(String data, <span class="keyword">int</span>[] ptr)</span> </span>&#123;</span><br><span class="line">        ++ptr[<span class="number">0</span>]; <span class="comment">// è·³è¿‡å·¦æ‹¬å·</span></span><br><span class="line">        TreeNode subtree = parse(data, ptr);</span><br><span class="line">        ++ptr[<span class="number">0</span>]; <span class="comment">// è·³è¿‡å³æ‹¬å·</span></span><br><span class="line">        <span class="keyword">return</span> subtree;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">parseInt</span><span class="params">(String data, <span class="keyword">int</span>[] ptr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>, sgn = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (!Character.isDigit(data.charAt(ptr[<span class="number">0</span>]))) &#123;</span><br><span class="line">            sgn = -<span class="number">1</span>;</span><br><span class="line">            ++ptr[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (Character.isDigit(data.charAt(ptr[<span class="number">0</span>]))) &#123;</span><br><span class="line">            x = x * <span class="number">10</span> + data.charAt(ptr[<span class="number">0</span>]++) - <span class="string">'0'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x * sgn;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šåºåˆ—åŒ–æ—¶åšäº†ä¸€æ¬¡éå†ï¼Œæ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚ååºåˆ—åŒ–æ—¶ï¼Œåœ¨è§£æå­—ç¬¦ä¸²çš„æ—¶å€™ <code>ptr</code> æŒ‡é’ˆå¯¹å­—ç¬¦ä¸²åšäº†ä¸€æ¬¡é¡ºåºéå†ï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¸º <em>O(n)</em>ï¼Œæ•…è¿™é‡Œçš„æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šè€ƒè™‘é€’å½’ä½¿ç”¨çš„æ ˆç©ºé—´çš„å¤§å°ï¼Œè¿™é‡Œæ ˆç©ºé—´çš„ä½¿ç”¨å’Œé€’å½’æ·±åº¦æœ‰å…³ï¼Œé€’å½’æ·±åº¦åˆå’ŒäºŒå‰æ ‘çš„æ·±åº¦æœ‰å…³ï¼Œåœ¨æœ€å·®æƒ…å†µä¸‹ï¼ŒäºŒå‰æ ‘é€€åŒ–æˆä¸€æ¡é“¾ï¼Œæ•…è¿™é‡Œçš„æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œè¿›è€Œå¯ä»¥å°†è½¬æ¢åçš„æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒï¼Œé‡‡å–ç›¸åæ–¹å¼é‡æ„å¾—åˆ°åŸæ•°æ®ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
  </entry>
  
  <entry>
    <title>236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</title>
    <link href="http://yoursite.com/2020/08/24/236.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88/"/>
    <id>http://yoursite.com/2020/08/24/236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ/</id>
    <published>2020-08-24T01:48:12.000Z</published>
    <updated>2020-08-24T03:19:02.216Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p><a id="more"></a><p>ç™¾åº¦ç™¾ç§‘ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªç»“ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªç»“ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆï¼‰ã€‚â€</p><p>ä¾‹å¦‚ï¼Œç»™å®šå¦‚ä¸‹äºŒå‰æ ‘:  root = [3,5,1,6,2,0,8,null,null,7,4]</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1è¾“å‡º: 3è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 1 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 3ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 4è¾“å‡º: 5è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 5ã€‚å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚</code></pre><p>è¯´æ˜:</p><pre><code>æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚pã€q ä¸ºä¸åŒèŠ‚ç‚¹ä¸”å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æ ‘ä¸­ã€‚</code></pre><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="6258a388-b9c6-486c-9d92-c09571d373a9">236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šé€’å½’"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’"></a>æ–¹æ³•ä¸€ï¼šé€’å½’</h2><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>æˆ‘ä»¬é€’å½’éå†æ•´æ£µäºŒå‰æ ‘ï¼Œå®šä¹‰ <em>f_x</em> è¡¨ç¤º <em>x</em> èŠ‚ç‚¹çš„å­æ ‘ä¸­æ˜¯å¦åŒ…å« <em>p</em> èŠ‚ç‚¹æˆ– <em>q</em> èŠ‚ç‚¹ï¼Œå¦‚æœåŒ…å«ä¸º <code>true</code>ï¼Œå¦åˆ™ä¸º <code>false</code>ã€‚é‚£ä¹ˆç¬¦åˆæ¡ä»¶çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ <em>x</em> ä¸€å®šæ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š</p><pre><code>(flson&amp;&amp;frson)âˆ£âˆ£((x=pâˆ£âˆ£x=q)&amp;&amp;(flsonâˆ£âˆ£frson))</code></pre><p>å…¶ä¸­ flson å’Œfrsonåˆ†åˆ«ä»£è¡¨ <em>x</em> èŠ‚ç‚¹çš„å·¦å­©å­å’Œå³å­©å­ã€‚åˆçœ‹å¯èƒ½ä¼šæ„Ÿè§‰æ¡ä»¶åˆ¤æ–­æœ‰ç‚¹å¤æ‚ï¼Œæˆ‘ä»¬æ¥ä¸€æ¡æ¡çœ‹ï¼Œflson&amp;&amp;frsonè¯´æ˜å·¦å­æ ‘å’Œå³å­æ ‘å‡åŒ…å« <em>p</em> èŠ‚ç‚¹æˆ– <em>q</em> èŠ‚ç‚¹ï¼Œå¦‚æœå·¦å­æ ‘åŒ…å«çš„æ˜¯ <em>p</em> èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå³å­æ ‘åªèƒ½åŒ…å« <em>q</em> èŠ‚ç‚¹ï¼Œåä¹‹äº¦ç„¶ï¼Œå› ä¸º <em>p</em> èŠ‚ç‚¹å’Œ <em>q</em> èŠ‚ç‚¹éƒ½æ˜¯ä¸åŒä¸”å”¯ä¸€çš„èŠ‚ç‚¹ï¼Œå› æ­¤å¦‚æœæ»¡è¶³è¿™ä¸ªåˆ¤æ–­æ¡ä»¶å³å¯è¯´æ˜ <em>x</em> å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚å†æ¥çœ‹ç¬¬äºŒæ¡åˆ¤æ–­æ¡ä»¶ï¼Œè¿™ä¸ªåˆ¤æ–­æ¡ä»¶å³æ˜¯è€ƒè™‘äº† <em>x</em> æ°å¥½æ˜¯ <em>p</em> èŠ‚ç‚¹æˆ– <em>q</em> èŠ‚ç‚¹ä¸”å®ƒçš„å·¦å­æ ‘æˆ–å³å­æ ‘æœ‰ä¸€ä¸ªåŒ…å«äº†å¦ä¸€ä¸ªèŠ‚ç‚¹çš„æƒ…å†µï¼Œå› æ­¤å¦‚æœæ»¡è¶³è¿™ä¸ªåˆ¤æ–­æ¡ä»¶äº¦å¯è¯´æ˜ <em>x</em> å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p><p>ä½ å¯èƒ½ä¼šç–‘æƒ‘è¿™æ ·æ‰¾å‡ºæ¥çš„å…¬å…±ç¥–å…ˆæ·±åº¦æ˜¯å¦æ˜¯æœ€å¤§çš„ã€‚å…¶å®æ˜¯æœ€å¤§çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯è‡ªåº•å‘ä¸Šä»å¶å­èŠ‚ç‚¹å¼€å§‹æ›´æ–°çš„ï¼Œæ‰€ä»¥åœ¨æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„å…¬å…±ç¥–å…ˆä¸­ä¸€å®šæ˜¯æ·±åº¦æœ€å¤§çš„ç¥–å…ˆå…ˆè¢«è®¿é—®åˆ°ï¼Œä¸”ç”±äº <em>f_x</em> æœ¬èº«çš„å®šä¹‰å¾ˆå·§å¦™ï¼Œåœ¨æ‰¾åˆ°æœ€è¿‘å…¬å…±ç¥–å…ˆ <em>x</em> ä»¥åï¼Œ<em>f_x</em> æŒ‰å®šä¹‰è¢«è®¾ç½®ä¸º <code>true</code> ï¼Œå³å‡å®šäº†è¿™ä¸ªå­æ ‘ä¸­åªæœ‰ä¸€ä¸ª <em>p</em> èŠ‚ç‚¹æˆ– <em>q</em> èŠ‚ç‚¹ï¼Œå› æ­¤å…¶ä»–å…¬å…±ç¥–å…ˆä¸ä¼šå†è¢«åˆ¤æ–­ä¸ºç¬¦åˆæ¡ä»¶ã€‚</p><p>ä¸‹å›¾å±•ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹ï¼Œæœç´¢æ ‘ä¸­ä¸¤ä¸ªèŠ‚ç‚¹ <code>9</code> å’Œ <code>11</code> çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p><p> <a href="https://assets.leetcode-cn.com/solution-static/236/1.PNG" target="_blank" rel="noopener">fig1</a> <a href="https://assets.leetcode-cn.com/solution-static/236/2.PNG" target="_blank" rel="noopener">fig2</a> <a href="https://assets.leetcode-cn.com/solution-static/236/3.PNG" target="_blank" rel="noopener">fig3</a> <a href="https://assets.leetcode-cn.com/solution-static/236/4.PNG" target="_blank" rel="noopener">fig4</a> <a href="https://assets.leetcode-cn.com/solution-static/236/5.PNG" target="_blank" rel="noopener">fig5</a> <a href="https://assets.leetcode-cn.com/solution-static/236/6.PNG" target="_blank" rel="noopener">fig6</a> <a href="https://assets.leetcode-cn.com/solution-static/236/7.PNG" target="_blank" rel="noopener">fig7</a> <a href="https://assets.leetcode-cn.com/solution-static/236/8.PNG" target="_blank" rel="noopener">fig8</a> <a href="https://assets.leetcode-cn.com/solution-static/236/9.PNG" target="_blank" rel="noopener">fig9</a> <a href="https://assets.leetcode-cn.com/solution-static/236/10.PNG" target="_blank" rel="noopener">fig10</a> <a href="https://assets.leetcode-cn.com/solution-static/236/11.PNG" target="_blank" rel="noopener">fig11</a> </p><details>    <summary>é€’å½’C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    TreeNode* ans;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(TreeNode* root, TreeNode* p, TreeNode* q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">bool</span> lson = dfs(root-&gt;left, p, q);</span><br><span class="line">        <span class="keyword">bool</span> rson = dfs(root-&gt;right, p, q);</span><br><span class="line">        <span class="keyword">if</span> ((lson &amp;&amp; rson) || ((root-&gt;val == p-&gt;val || root-&gt;val == q-&gt;val) &amp;&amp; (lson || rson))) &#123;</span><br><span class="line">            ans = root;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">return</span> lson || rson || (root-&gt;val == p-&gt;val || root-&gt;val == q-&gt;val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">TreeNode* <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode* root, TreeNode* p, TreeNode* q)</span> </span>&#123;</span><br><span class="line">        dfs(root, p, q);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lowestCommonAncestor = <span class="function"><span class="keyword">function</span>(<span class="params">root, p, q</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> ans;</span><br><span class="line">    <span class="keyword">const</span> dfs = <span class="function">(<span class="params">root, p, q</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">const</span> lson = dfs(root.left, p, q);</span><br><span class="line">        <span class="keyword">const</span> rson = dfs(root.right, p, q);</span><br><span class="line">        <span class="keyword">if</span> ((lson &amp;&amp; rson) || ((root.val === p.val || root.val === q.val) &amp;&amp; (lson || rson))) &#123;</span><br><span class="line">            ans = root;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">return</span> lson || rson || (root.val === p.val || root.val === q.val);</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root, p, q);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TreeNode ans;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.ans = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">boolean</span> lson = dfs(root.left, p, q);</span><br><span class="line">        <span class="keyword">boolean</span> rson = dfs(root.right, p, q);</span><br><span class="line">        <span class="keyword">if</span> ((lson &amp;&amp; rson) || ((root.val == p.val || root.val == q.val) &amp;&amp; (lson || rson))) &#123;</span><br><span class="line">            ans = root;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">return</span> lson || rson || (root.val == p.val || root.val == q.val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dfs(root, p, q);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lowestCommonAncestor</span><span class="params">(root, p, q *TreeNode)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> root.Val == p.Val || root.Val == q.Val &#123;</span><br><span class="line">        <span class="keyword">return</span> root</span><br><span class="line">    &#125;</span><br><span class="line">    left := lowestCommonAncestor(root.Left, p, q)</span><br><span class="line">    right := lowestCommonAncestor(root.Right, p, q)</span><br><span class="line">    <span class="keyword">if</span> left != <span class="literal">nil</span> &amp;&amp; right != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> root</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> left == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> right</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚äºŒå‰æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æœ‰ä¸”åªä¼šè¢«è®¿é—®ä¸€æ¬¡ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º <em>O(N)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em> ï¼Œå…¶ä¸­ <em>N</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚é€’å½’è°ƒç”¨çš„æ ˆæ·±åº¦å–å†³äºäºŒå‰æ ‘çš„é«˜åº¦ï¼ŒäºŒå‰æ ‘æœ€åæƒ…å†µä¸‹ä¸ºä¸€æ¡é“¾ï¼Œæ­¤æ—¶é«˜åº¦ä¸º <em>N</em>ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º <em>O(N)</em>ã€‚</p></li></ul><h4 id="æ–¹æ³•äºŒï¼šå­˜å‚¨çˆ¶èŠ‚ç‚¹"><a href="#æ–¹æ³•äºŒï¼šå­˜å‚¨çˆ¶èŠ‚ç‚¹" class="headerlink" title="æ–¹æ³•äºŒï¼šå­˜å‚¨çˆ¶èŠ‚ç‚¹"></a>æ–¹æ³•äºŒï¼šå­˜å‚¨çˆ¶èŠ‚ç‚¹</h4><p><strong>æ€è·¯</strong></p><p>æˆ‘ä»¬å¯ä»¥ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ‰€æœ‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¿¡æ¯ä» <code>p</code> ç»“ç‚¹å¼€å§‹ä¸æ–­å¾€ä¸Šè·³ï¼Œå¹¶è®°å½•å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œå†ä» <code>q</code> èŠ‚ç‚¹å¼€å§‹ä¸æ–­å¾€ä¸Šè·³ï¼Œå¦‚æœç¢°åˆ°å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p><p><strong>ç®—æ³•</strong></p><ol><li>ä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†æ•´æ£µäºŒå‰æ ‘ï¼Œç”¨å“ˆå¸Œè¡¨è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æŒ‡é’ˆã€‚</li><li>ä» <code>p</code> èŠ‚ç‚¹å¼€å§‹ä¸æ–­å¾€å®ƒçš„ç¥–å…ˆç§»åŠ¨ï¼Œå¹¶ç”¨æ•°æ®ç»“æ„è®°å½•å·²ç»è®¿é—®è¿‡çš„ç¥–å…ˆèŠ‚ç‚¹ã€‚</li><li>åŒæ ·ï¼Œæˆ‘ä»¬å†ä» <code>q</code> èŠ‚ç‚¹å¼€å§‹ä¸æ–­å¾€å®ƒçš„ç¥–å…ˆç§»åŠ¨ï¼Œå¦‚æœæœ‰ç¥–å…ˆå·²ç»è¢«è®¿é—®è¿‡ï¼Œå³æ„å‘³ç€è¿™æ˜¯ <code>p</code> å’Œ <code>q</code> çš„æ·±åº¦æœ€æ·±çš„å…¬å…±ç¥–å…ˆï¼Œå³ LCA èŠ‚ç‚¹ã€‚</li></ol><details>    <summary>å­˜å‚¨çˆ¶èŠ‚ç‚¹C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, TreeNode*&gt; fa;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">bool</span>&gt; vis;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode* root)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;left != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            fa[root-&gt;left-&gt;val] = root;</span><br><span class="line">            dfs(root-&gt;left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;right != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            fa[root-&gt;right-&gt;val] = root;</span><br><span class="line">            dfs(root-&gt;right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">TreeNode* <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode* root, TreeNode* p, TreeNode* q)</span> </span>&#123;</span><br><span class="line">        fa[root-&gt;val] = <span class="literal">nullptr</span>;</span><br><span class="line">        dfs(root);</span><br><span class="line">        <span class="keyword">while</span> (p != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            vis[p-&gt;val] = <span class="literal">true</span>;</span><br><span class="line">            p = fa[p-&gt;val];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (q != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (vis[q-&gt;val]) <span class="keyword">return</span> q;</span><br><span class="line">            q = fa[q-&gt;val];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å­˜å‚¨çˆ¶èŠ‚ç‚¹Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    Map&lt;Integer, TreeNode&gt; parent = <span class="keyword">new</span> HashMap&lt;Integer, TreeNode&gt;();</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            parent.put(root.left.val, root);</span><br><span class="line">            dfs(root.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            parent.put(root.right.val, root);</span><br><span class="line">            dfs(root.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">        dfs(root);</span><br><span class="line">        <span class="keyword">while</span> (p != <span class="keyword">null</span>) &#123;</span><br><span class="line">            visited.add(p.val);</span><br><span class="line">            p = parent.get(p.val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (q != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited.contains(q.val)) &#123;</span><br><span class="line">                <span class="keyword">return</span> q;</span><br><span class="line">            &#125;</span><br><span class="line">            q = parent.get(q.val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å­˜å‚¨çˆ¶èŠ‚ç‚¹golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lowestCommonAncestor</span><span class="params">(root, p, q *TreeNode)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    parent := <span class="keyword">map</span>[<span class="keyword">int</span>]*TreeNode&#123;&#125;</span><br><span class="line">    visited := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">bool</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(*TreeNode)</span></span></span><br><span class="line"><span class="function">    <span class="title">dfs</span> = <span class="title">func</span><span class="params">(r *TreeNode)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> r == <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> r.Left != <span class="literal">nil</span> &#123;</span><br><span class="line">            parent[r.Left.Val] = r</span><br><span class="line">            dfs(r.Left)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> r.Right != <span class="literal">nil</span> &#123;</span><br><span class="line">            parent[r.Right.Val] = r</span><br><span class="line">            dfs(r.Right)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> p != <span class="literal">nil</span> &#123;</span><br><span class="line">        visited[p.Val] = <span class="literal">true</span></span><br><span class="line">        p = parent[p.Val]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> q != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> visited[q.Val] &#123;</span><br><span class="line">            <span class="keyword">return</span> q</span><br><span class="line">        &#125;</span><br><span class="line">        q = parent[q.Val]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚äºŒå‰æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æœ‰ä¸”åªä¼šè¢«è®¿é—®ä¸€æ¬¡ï¼Œä» <code>p</code> å’Œ <code>q</code> èŠ‚ç‚¹å¾€ä¸Šè·³ç»è¿‡çš„ç¥–å…ˆèŠ‚ç‚¹ä¸ªæ•°ä¸ä¼šè¶…è¿‡ <em>N</em>ï¼Œå› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(N)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em> ï¼Œå…¶ä¸­ <em>N</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚é€’å½’è°ƒç”¨çš„æ ˆæ·±åº¦å–å†³äºäºŒå‰æ ‘çš„é«˜åº¦ï¼ŒäºŒå‰æ ‘æœ€åæƒ…å†µä¸‹ä¸ºä¸€æ¡é“¾ï¼Œæ­¤æ—¶é«˜åº¦ä¸º <em>N</em>ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º <em>O(N)*ï¼Œå“ˆå¸Œè¡¨å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¹Ÿéœ€è¦ *O(N)</em> çš„ç©ºé—´å¤æ‚åº¦ï¼Œå› æ­¤æœ€åæ€»çš„ç©ºé—´å¤æ‚åº¦ä¸º <em>O(N)</em>ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
  </entry>
  
</feed>
