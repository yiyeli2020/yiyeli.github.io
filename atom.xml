<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yiye Li</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2021-11-28T12:05:13.304Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Yiye Li</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>739. æ¯æ—¥æ¸©åº¦</title>
    <link href="http://yoursite.com/2021/11/26/739.%20%E6%AF%8F%E6%97%A5%E6%B8%A9%E5%BA%A6/"/>
    <id>http://yoursite.com/2021/11/26/739. æ¯æ—¥æ¸©åº¦/</id>
    <published>2021-11-26T11:12:12.000Z</published>
    <updated>2021-11-28T12:05:13.304Z</updated>
    
    <content type="html"><![CDATA[<p>è¯·æ ¹æ®æ¯æ—¥ æ°”æ¸© åˆ—è¡¨ temperatures ï¼Œè¯·è®¡ç®—åœ¨æ¯ä¸€å¤©éœ€è¦ç­‰å‡ å¤©æ‰ä¼šæœ‰æ›´é«˜çš„æ¸©åº¦ã€‚å¦‚æœæ°”æ¸©åœ¨è¿™ä¹‹åéƒ½ä¸ä¼šå‡é«˜ï¼Œè¯·åœ¨è¯¥ä½ç½®ç”¨ 0 æ¥ä»£æ›¿ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: temperatures = [73,74,75,71,69,72,76,73]è¾“å‡º: [1,1,4,2,1,1,0,0]</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: temperatures = [30,40,50,60]è¾“å‡º: [1,1,1,0]</code></pre><p>ç¤ºä¾‹ 3:</p><pre><code>è¾“å…¥: temperatures = [30,60,90]è¾“å‡º: [1,1,0]</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= temperatures.length &lt;= 10530 &lt;= temperatures[i] &lt;= 100</code></pre><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šæš´åŠ›"><a href="#æ–¹æ³•ä¸€ï¼šæš´åŠ›" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæš´åŠ›"></a>æ–¹æ³•ä¸€ï¼šæš´åŠ›</h2><p>å¯¹äºæ¸©åº¦åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´  <code>temperatures[i]</code>ï¼Œéœ€è¦æ‰¾åˆ°æœ€å°çš„ä¸‹æ ‡ <code>j</code>ï¼Œä½¿å¾— <code>i &lt; j</code> ä¸” <code>temperatures[i] &lt; temperatures[j]</code>ã€‚</p><p>ç”±äºæ¸©åº¦èŒƒå›´åœ¨ <code>[30, 100]</code> ä¹‹å†…ï¼Œå› æ­¤å¯ä»¥ç»´æŠ¤ä¸€ä¸ªæ•°ç»„ <code>next</code> è®°å½•æ¯ä¸ªæ¸©åº¦ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ã€‚æ•°ç»„ <code>next</code> ä¸­çš„å…ƒç´ åˆå§‹åŒ–ä¸ºæ— ç©·å¤§ï¼Œåœ¨éå†æ¸©åº¦åˆ—è¡¨çš„è¿‡ç¨‹ä¸­æ›´æ–° <code>next</code> çš„å€¼ã€‚</p><p>åå‘éå†æ¸©åº¦åˆ—è¡¨ã€‚å¯¹äºæ¯ä¸ªå…ƒç´  <code>temperatures[i]</code>ï¼Œåœ¨æ•°ç»„ <code>next</code> ä¸­æ‰¾åˆ°ä» <code>temperatures[i] + 1</code> åˆ° <code>100</code> ä¸­æ¯ä¸ªæ¸©åº¦ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ï¼Œå°†å…¶ä¸­çš„æœ€å°ä¸‹æ ‡è®°ä¸º <code>warmerIndex</code>ï¼Œåˆ™ <code>warmerIndex</code> ä¸ºä¸‹ä¸€æ¬¡æ¸©åº¦æ¯”å½“å¤©é«˜çš„ä¸‹æ ‡ã€‚å¦‚æœ <code>warmerIndex</code> ä¸ä¸ºæ— ç©·å¤§ï¼Œåˆ™ <code>warmerIndex - i</code> å³ä¸ºä¸‹ä¸€æ¬¡æ¸©åº¦æ¯”å½“å¤©é«˜çš„ç­‰å¾…å¤©æ•°ï¼Œæœ€åä»¤ <code>next[temperatures[i]] = i</code>ã€‚</p><p>ä¸ºä»€ä¹ˆä¸Šè¿°åšæ³•å¯ä»¥ä¿è¯æ­£ç¡®å‘¢ï¼Ÿå› ä¸ºéå†æ¸©åº¦åˆ—è¡¨çš„æ–¹å‘æ˜¯åå‘ï¼Œå½“éå†åˆ°å…ƒç´  <code>temperatures[i]</code> æ—¶ï¼Œåªæœ‰ <code>temperatures[i]</code> åé¢çš„å…ƒç´ è¢«è®¿é—®è¿‡ï¼Œå³å¯¹äºä»»æ„ <code>t</code>ï¼Œå½“ <code>next[t]</code> ä¸ä¸ºæ— ç©·å¤§æ—¶ï¼Œä¸€å®šå­˜åœ¨ <code>j</code> ä½¿å¾— <code>temperatures[j] == t</code> ä¸” <code>i &lt; j</code>ã€‚åˆç”±äºéå†åˆ°æ¸©åº¦åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ æ—¶éƒ½ä¼šæ›´æ–°æ•°ç»„ <code>next</code> ä¸­çš„å¯¹åº”æ¸©åº¦çš„å…ƒç´ å€¼ï¼Œå› æ­¤å¯¹äºä»»æ„ <code>t</code>ï¼Œå½“ <code>next[t]</code> ä¸ä¸ºæ— ç©·å¤§æ—¶ï¼Œä»¤ <code>j = next[t]</code>ï¼Œåˆ™ <code>j</code> æ˜¯æ»¡è¶³ <code>temperatures[j] == t</code> ä¸” <code>i &lt; j</code> çš„æœ€å°ä¸‹æ ‡ã€‚</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] dailyTemperatures(<span class="keyword">int</span>[] temperatures) &#123;</span><br><span class="line">        <span class="keyword">int</span> length = temperatures.length;</span><br><span class="line">        <span class="keyword">int</span>[] ans = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">        <span class="keyword">int</span>[] next = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">101</span>];</span><br><span class="line">        Arrays.fill(next, Integer.MAX_VALUE);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">int</span> warmerIndex = Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> t = temperatures[i] + <span class="number">1</span>; t &lt;= <span class="number">100</span>; ++t) &#123;</span><br><span class="line">                <span class="keyword">if</span> (next[t] &lt; warmerIndex) &#123;</span><br><span class="line">                    warmerIndex = next[t];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (warmerIndex &lt; Integer.MAX_VALUE) &#123;</span><br><span class="line">                ans[i] = warmerIndex - i;</span><br><span class="line">            &#125;</span><br><span class="line">            next[temperatures[i]] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dailyTemperatures</span><span class="params">(self, temperatures: List[int])</span> -&gt; List[int]:</span></span><br><span class="line">        n = len(temperatures)</span><br><span class="line">        ans, nxt, big = [<span class="number">0</span>] * n, dict(), <span class="number">10</span>**<span class="number">9</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n - <span class="number">1</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">            warmer_index = min(nxt.get(t, big) <span class="keyword">for</span> t <span class="keyword">in</span> range(temperatures[i] + <span class="number">1</span>, <span class="number">102</span>))</span><br><span class="line">            <span class="keyword">if</span> warmer_index != big:</span><br><span class="line">                ans[i] = warmer_index - i</span><br><span class="line">            nxt[temperatures[i]] = i</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dailyTemperatures(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; temperatures) &#123;</span><br><span class="line">        <span class="keyword">int</span> n = temperatures.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans(n), next(<span class="number">101</span>, INT_MAX);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">int</span> warmerIndex = INT_MAX;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> t = temperatures[i] + <span class="number">1</span>; t &lt;= <span class="number">100</span>; ++t) &#123;</span><br><span class="line">                warmerIndex = min(warmerIndex, next[t]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (warmerIndex != INT_MAX) &#123;</span><br><span class="line">                ans[i] = warmerIndex - i;</span><br><span class="line">            &#125;</span><br><span class="line">            next[temperatures[i]] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dailyTemperatures</span><span class="params">(temperatures []<span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    length := <span class="built_in">len</span>(temperatures)</span><br><span class="line">    ans := <span class="built_in">make</span>([]<span class="keyword">int</span>, length)</span><br><span class="line">    next := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">101</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">101</span>; i++ &#123;</span><br><span class="line">        next[i] = math.MaxInt32</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">        warmerIndex := math.MaxInt32</span><br><span class="line">        <span class="keyword">for</span> t := temperatures[i] + <span class="number">1</span>; t &lt;= <span class="number">100</span>; t++ &#123;</span><br><span class="line">            <span class="keyword">if</span> next[t] &lt; warmerIndex &#123;</span><br><span class="line">                warmerIndex = next[t]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> warmerIndex &lt; math.MaxInt32 &#123;</span><br><span class="line">            ans[i] = warmerIndex - i</span><br><span class="line">        &#125;</span><br><span class="line">        next[temperatures[i]] = i</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(nm)*ï¼Œå…¶ä¸­ *n</em> æ˜¯æ¸©åº¦åˆ—è¡¨çš„é•¿åº¦ï¼Œ<em>m</em> æ˜¯æ•°ç»„ <code>next</code> çš„é•¿åº¦ï¼Œåœ¨æœ¬é¢˜ä¸­æ¸©åº¦ä¸è¶…è¿‡ <em>100*ï¼Œæ‰€ä»¥ *m</em> çš„å€¼ä¸º <em>100</em>ã€‚åå‘éå†æ¸©åº¦åˆ—è¡¨ä¸€éï¼Œå¯¹äºæ¸©åº¦åˆ—è¡¨ä¸­çš„æ¯ä¸ªå€¼ï¼Œéƒ½è¦éå†æ•°ç»„ <code>next</code> ä¸€éã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(m)*ï¼Œå…¶ä¸­ *m</em> æ˜¯æ•°ç»„ <code>next</code> çš„é•¿åº¦ã€‚é™¤äº†è¿”å›å€¼ä»¥å¤–ï¼Œéœ€è¦ç»´æŠ¤é•¿åº¦ä¸º <em>m</em> çš„æ•°ç»„ <code>next</code> è®°å½•æ¯ä¸ªæ¸©åº¦ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ä½ç½®ã€‚</p></li></ul><h2 id="æ–¹æ³•äºŒï¼šå•è°ƒæ ˆ"><a href="#æ–¹æ³•äºŒï¼šå•è°ƒæ ˆ" class="headerlink" title="æ–¹æ³•äºŒï¼šå•è°ƒæ ˆ"></a>æ–¹æ³•äºŒï¼šå•è°ƒæ ˆ</h2><p>å¯ä»¥ç»´æŠ¤ä¸€ä¸ªå­˜å‚¨ä¸‹æ ‡çš„å•è°ƒæ ˆï¼Œä»æ ˆåº•åˆ°æ ˆé¡¶çš„ä¸‹æ ‡å¯¹åº”çš„æ¸©åº¦åˆ—è¡¨ä¸­çš„æ¸©åº¦ä¾æ¬¡é€’å‡ã€‚å¦‚æœä¸€ä¸ªä¸‹æ ‡åœ¨å•è°ƒæ ˆé‡Œï¼Œåˆ™è¡¨ç¤ºå°šæœªæ‰¾åˆ°ä¸‹ä¸€æ¬¡æ¸©åº¦æ›´é«˜çš„ä¸‹æ ‡ã€‚</p><p>æ­£å‘éå†æ¸©åº¦åˆ—è¡¨ã€‚å¯¹äºæ¸©åº¦åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´  <code>temperatures[i]</code>ï¼Œå¦‚æœæ ˆä¸ºç©ºï¼Œåˆ™ç›´æ¥å°† <code>i</code> è¿›æ ˆï¼Œå¦‚æœæ ˆä¸ä¸ºç©ºï¼Œåˆ™æ¯”è¾ƒæ ˆé¡¶å…ƒç´  <code>prevIndex</code> å¯¹åº”çš„æ¸©åº¦ <code>temperatures[prevIndex]</code> å’Œå½“å‰æ¸©åº¦ <code>temperatures[i]</code>ï¼Œå¦‚æœ <code>temperatures[i] &gt; temperatures[prevIndex]</code>ï¼Œåˆ™å°† <code>prevIndex</code> ç§»é™¤ï¼Œå¹¶å°† <code>prevIndex</code> å¯¹åº”çš„ç­‰å¾…å¤©æ•°èµ‹ä¸º <code>i - prevIndex</code>ï¼Œé‡å¤ä¸Šè¿°æ“ä½œç›´åˆ°æ ˆä¸ºç©ºæˆ–è€…æ ˆé¡¶å…ƒç´ å¯¹åº”çš„æ¸©åº¦å°äºç­‰äºå½“å‰æ¸©åº¦ï¼Œç„¶åå°† <code>i</code> è¿›æ ˆã€‚</p><p>ä¸ºä»€ä¹ˆå¯ä»¥åœ¨å¼¹æ ˆçš„æ—¶å€™æ›´æ–° <code>ans[prevIndex]</code> å‘¢ï¼Ÿå› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå³å°†è¿›æ ˆçš„ <code>i</code> å¯¹åº”çš„ <code>temperatures[i]</code> ä¸€å®šæ˜¯ <code>temperatures[prevIndex]</code> å³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ ï¼Œè¯•æƒ³å¦‚æœ <code>prevIndex</code> å’Œ <code>i</code> æœ‰æ¯”å®ƒå¤§çš„å…ƒç´ ï¼Œå‡è®¾ä¸‹æ ‡ä¸º <code>j</code>ï¼Œé‚£ä¹ˆ <code>prevIndex</code> ä¸€å®šä¼šåœ¨ä¸‹æ ‡ <code>j</code> çš„é‚£ä¸€è½®è¢«å¼¹æ‰ã€‚</p><p>ç”±äºå•è°ƒæ ˆæ»¡è¶³ä»æ ˆåº•åˆ°æ ˆé¡¶å…ƒç´ å¯¹åº”çš„æ¸©åº¦é€’å‡ï¼Œå› æ­¤æ¯æ¬¡æœ‰å…ƒç´ è¿›æ ˆæ—¶ï¼Œä¼šå°†æ¸©åº¦æ›´ä½çš„å…ƒç´ å…¨éƒ¨ç§»é™¤ï¼Œå¹¶æ›´æ–°å‡ºæ ˆå…ƒç´ å¯¹åº”çš„ç­‰å¾…å¤©æ•°ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿ç­‰å¾…å¤©æ•°ä¸€å®šæ˜¯æœ€å°çš„ã€‚</p><p>ä»¥ä¸‹ç”¨ä¸€ä¸ªå…·ä½“çš„ä¾‹å­å¸®åŠ©è¯»è€…ç†è§£å•è°ƒæ ˆã€‚å¯¹äºæ¸©åº¦åˆ—è¡¨ *[73,74,75,71,69,72,76,73]<em>ï¼Œå•è°ƒæ ˆstack  çš„åˆå§‹çŠ¶æ€ä¸ºç©ºï¼Œç­”æ¡ˆ ans çš„åˆå§‹çŠ¶æ€æ˜¯ *[0,0,0,0,0,0,0,0]</em>ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ›´æ–°å•è°ƒæ ˆå’Œç­”æ¡ˆï¼Œå…¶ä¸­å•è°ƒæ ˆå†…çš„å…ƒç´ éƒ½æ˜¯ä¸‹æ ‡ï¼Œæ‹¬å·å†…çš„æ•°å­—è¡¨ç¤ºä¸‹æ ‡åœ¨æ¸©åº¦åˆ—è¡¨ä¸­å¯¹åº”çš„æ¸©åº¦ã€‚</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] dailyTemperatures(<span class="keyword">int</span>[] temperatures) &#123;</span><br><span class="line">        <span class="keyword">int</span> length = temperatures.length;</span><br><span class="line">        <span class="keyword">int</span>[] ans = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">        Deque&lt;Integer&gt; stack = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> temperature = temperatures[i];</span><br><span class="line">            <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; temperature &gt; temperatures[stack.peek()]) &#123;</span><br><span class="line">                <span class="keyword">int</span> prevIndex = stack.pop();</span><br><span class="line">                ans[prevIndex] = i - prevIndex;</span><br><span class="line">            &#125;</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dailyTemperatures</span><span class="params">(self, temperatures: List[int])</span> -&gt; List[int]:</span></span><br><span class="line">        length = len(temperatures)</span><br><span class="line">        ans = [<span class="number">0</span>] * length</span><br><span class="line">        stack = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(length):</span><br><span class="line">            temperature = temperatures[i]</span><br><span class="line">            <span class="keyword">while</span> stack <span class="keyword">and</span> temperature &gt; temperatures[stack[<span class="number">-1</span>]]:</span><br><span class="line">                prev_index = stack.pop()</span><br><span class="line">                ans[prev_index] = i - prev_index</span><br><span class="line">            stack.append(i)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dailyTemperatures(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; temperatures) &#123;</span><br><span class="line">        <span class="keyword">int</span> n = temperatures.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans(n);</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!s.empty() &amp;&amp; temperatures[i] &gt; temperatures[s.top()]) &#123;</span><br><span class="line">                <span class="keyword">int</span> previousIndex = s.top();</span><br><span class="line">                ans[previousIndex] = i - previousIndex;</span><br><span class="line">                s.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            s.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dailyTemperatures</span><span class="params">(temperatures []<span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    length := <span class="built_in">len</span>(temperatures)</span><br><span class="line">    ans := <span class="built_in">make</span>([]<span class="keyword">int</span>, length)</span><br><span class="line">    stack := []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; length; i++ &#123;</span><br><span class="line">        temperature := temperatures[i]</span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">len</span>(stack) &gt; <span class="number">0</span> &amp;&amp; temperature &gt; temperatures[stack[<span class="built_in">len</span>(stack)<span class="number">-1</span>]] &#123;</span><br><span class="line">            prevIndex := stack[<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">            stack = stack[:<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">            ans[prevIndex] = i - prevIndex</span><br><span class="line">        &#125;</span><br><span class="line">        stack = <span class="built_in">append</span>(stack, i)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œå…¶ä¸­ *n</em> æ˜¯æ¸©åº¦åˆ—è¡¨çš„é•¿åº¦ã€‚æ­£å‘éå†æ¸©åº¦åˆ—è¡¨ä¸€éï¼Œå¯¹äºæ¸©åº¦åˆ—è¡¨ä¸­çš„æ¯ä¸ªä¸‹æ ‡ï¼Œæœ€å¤šæœ‰ä¸€æ¬¡è¿›æ ˆå’Œå‡ºæ ˆçš„æ“ä½œã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œå…¶ä¸­ *n</em> æ˜¯æ¸©åº¦åˆ—è¡¨çš„é•¿åº¦ã€‚éœ€è¦ç»´æŠ¤ä¸€ä¸ªå•è°ƒæ ˆå­˜å‚¨æ¸©åº¦åˆ—è¡¨ä¸­çš„ä¸‹æ ‡ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¯·æ ¹æ®æ¯æ—¥ æ°”æ¸© åˆ—è¡¨ temperatures ï¼Œè¯·è®¡ç®—åœ¨æ¯ä¸€å¤©éœ€è¦ç­‰å‡ å¤©æ‰ä¼šæœ‰æ›´é«˜çš„æ¸©åº¦ã€‚å¦‚æœæ°”æ¸©åœ¨è¿™ä¹‹åéƒ½ä¸ä¼šå‡é«˜ï¼Œè¯·åœ¨è¯¥ä½ç½®ç”¨ 0 æ¥ä»£æ›¿ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Stack" scheme="http://yoursite.com/tags/Stack/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Monotonic Stack" scheme="http://yoursite.com/tags/Monotonic-Stack/"/>
    
  </entry>
  
  <entry>
    <title>396. æ—‹è½¬å‡½æ•°</title>
    <link href="http://yoursite.com/2021/11/23/396.%20%E6%97%8B%E8%BD%AC%E5%87%BD%E6%95%B0/"/>
    <id>http://yoursite.com/2021/11/23/396. æ—‹è½¬å‡½æ•°/</id>
    <published>2021-11-23T14:12:12.000Z</published>
    <updated>2021-11-23T15:46:20.503Z</updated>
    
    <content type="html"><![CDATA[<p>è®¡ç®—F(0), F(1), â€¦, F(n-1)ä¸­çš„æœ€å¤§å€¼ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°æ•°ç»„ A ã€‚</p><p>å‡è®¾ Bk æ˜¯æ•°ç»„ A é¡ºæ—¶é’ˆæ—‹è½¬ k ä¸ªä½ç½®åçš„æ•°ç»„ï¼Œæˆ‘ä»¬å®šä¹‰ A çš„â€œæ—‹è½¬å‡½æ•°â€ F ä¸ºï¼š</p><p>F(k) = 0 * Bk[0] + 1 * Bk[1] + â€¦ + (n-1) * Bk[n-1]ã€‚</p><p>è®¡ç®—F(0), F(1), â€¦, F(n-1)ä¸­çš„æœ€å¤§å€¼ã€‚</p><p>æ³¨æ„:<br>å¯ä»¥è®¤ä¸º n çš„å€¼å°äº 105ã€‚</p><p>ç¤ºä¾‹:</p><pre><code>A = [4, 3, 2, 6]F(0) = (0 * 4) + (1 * 3) + (2 * 2) + (3 * 6) = 0 + 3 + 4 + 18 = 25F(1) = (0 * 6) + (1 * 4) + (2 * 3) + (3 * 2) = 0 + 4 + 6 + 6 = 16F(2) = (0 * 2) + (1 * 6) + (2 * 4) + (3 * 3) = 0 + 6 + 8 + 9 = 23F(3) = (0 * 3) + (1 * 2) + (2 * 6) + (3 * 4) = 0 + 2 + 12 + 12 = 26</code></pre><p>æ‰€ä»¥ F(0), F(1), F(2), F(3) ä¸­çš„æœ€å¤§å€¼æ˜¯ F(3) = 26 ã€‚</p><h1 id="æš´åŠ›è§£æ³•"><a href="#æš´åŠ›è§£æ³•" class="headerlink" title="æš´åŠ›è§£æ³•"></a>æš´åŠ›è§£æ³•</h1><p>æœ€å…ˆæƒ³åˆ°çš„è‡ªç„¶æ˜¯æŒ‰ä¸ªæ—‹è½¬æ±‚å€¼ï¼Œä½†è¶…æ—¶äº†</p><details>    <summary>Java</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    public int maxRotateFunction(int[] A) &#123;</span><br><span class="line">        int len = A.length, max = Integer.MIN_VALUE;</span><br><span class="line">        for (int i = 0; i &lt; len; i++) &#123;</span><br><span class="line">            int[] B = new int[len];</span><br><span class="line">            for (int j = 0; j &lt; len; j++) &#123;</span><br><span class="line">                B[j] = A[j];</span><br><span class="line">            &#125;</span><br><span class="line">            max = Math.max(max, rotate(B, i));</span><br><span class="line">        &#125;</span><br><span class="line">        return max;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int rotate(int[] A, int k) &#123;</span><br><span class="line">        reverse(A, 0, A.length - 1 - k);</span><br><span class="line">        reverse(A, A.length - k, A.length - 1);</span><br><span class="line">        reverse(A, 0, A.length - 1);</span><br><span class="line">        int sum = 0;</span><br><span class="line">        for (int i = 0; i &lt; A.length; i++) &#123;</span><br><span class="line">            sum += i * A[i];</span><br><span class="line">        &#125;</span><br><span class="line">        return sum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void reverse(int[] A, int start, int end) &#123;</span><br><span class="line">        int temp = 0;</span><br><span class="line">        while (start &lt;= end) &#123;</span><br><span class="line">            temp = A[start];</span><br><span class="line">            A[start] = A[end];</span><br><span class="line">            A[end] = temp;</span><br><span class="line">            start++;</span><br><span class="line">            end--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h1><p>å…ˆè®¡ç®—å‡º<code>f[0]</code>, ä¸”çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º<code>f[i] = f[i - 1] + sum - n * nums[n - i]</code>ï¼Œsumä¸ºnumsçš„å’Œ</p><details>    <summary>JavaåŠ¨æ€è§„åˆ’</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxRotateFunction</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">int</span>[] f = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            sum += nums[i];</span><br><span class="line">            f[<span class="number">0</span>] += nums[i] * i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = f[<span class="number">0</span>]; </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            f[i] = f[i - <span class="number">1</span>] + sum - n * nums[n - i];</span><br><span class="line">            ans = Math.max(f[i], ans);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>ç©ºé—´å‹ç¼©</p><details>    <summary>Javaç©ºé—´å‹ç¼©</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxRotateFunction</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">int</span> f = <span class="number">0</span>, sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            sum += nums[i];</span><br><span class="line">            f += nums[i] * i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = f; </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            f = f + sum - n * nums[n - i];</span><br><span class="line">            ans = Math.max(f, ans);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®¡ç®—F(0), F(1), â€¦, F(n-1)ä¸­çš„æœ€å¤§å€¼ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>525. è¿ç»­æ•°ç»„</title>
    <link href="http://yoursite.com/2021/11/21/525.%20%E8%BF%9E%E7%BB%AD%E6%95%B0%E7%BB%84/"/>
    <id>http://yoursite.com/2021/11/21/525. è¿ç»­æ•°ç»„/</id>
    <published>2021-11-21T10:12:12.000Z</published>
    <updated>2021-11-23T14:22:16.698Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ nums , æ‰¾åˆ°å«æœ‰ç›¸åŒæ•°é‡çš„ 0 å’Œ 1 çš„æœ€é•¿è¿ç»­å­æ•°ç»„ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„çš„é•¿åº¦ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: nums = [0,1]è¾“å‡º: 2è¯´æ˜: [0, 1] æ˜¯å…·æœ‰ç›¸åŒæ•°é‡ 0 å’Œ 1 çš„æœ€é•¿è¿ç»­å­æ•°ç»„ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: nums = [0,1,0]è¾“å‡º: 2è¯´æ˜: [0, 1] (æˆ– [1, 0]) æ˜¯å…·æœ‰ç›¸åŒæ•°é‡0å’Œ1çš„æœ€é•¿è¿ç»­å­æ•°ç»„ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= nums.length &lt;= 105nums[i] ä¸æ˜¯ 0 å°±æ˜¯ 1</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šå‰ç¼€å’Œ-å“ˆå¸Œè¡¨-1"><a href="#æ–¹æ³•ä¸€ï¼šå‰ç¼€å’Œ-å“ˆå¸Œè¡¨-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå‰ç¼€å’Œ + å“ˆå¸Œè¡¨^1"></a>æ–¹æ³•ä¸€ï¼šå‰ç¼€å’Œ + å“ˆå¸Œè¡¨<a href="https://leetcode-cn.com/problems/contiguous-array/solution/lian-xu-shu-zu-by-leetcode-solution-mvnm/" target="_blank" rel="noopener">^1</a></h1><p>ç”±äºã€Œ<em>0</em> å’Œ <em>1</em> çš„æ•°é‡ç›¸åŒã€ç­‰ä»·äºã€Œ<em>1</em> çš„æ•°é‡å‡å» <em>0</em> çš„æ•°é‡ç­‰äº <em>0</em>ã€ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•°ç»„ä¸­çš„ <em>0</em> è§†ä½œ <em>-1</em>ï¼Œåˆ™åŸé—®é¢˜è½¬æ¢æˆã€Œæ±‚æœ€é•¿çš„è¿ç»­å­æ•°ç»„ï¼Œå…¶å…ƒç´ å’Œä¸º <em>0</em>ã€ã€‚</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMaxLength</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> maxLength = <span class="number">0</span>;</span><br><span class="line">        Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;Integer, Integer&gt;();</span><br><span class="line">        <span class="keyword">int</span> counter = <span class="number">0</span>;</span><br><span class="line">        map.put(counter, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> num = nums[i];</span><br><span class="line">            <span class="keyword">if</span> (num == <span class="number">1</span>) &#123;</span><br><span class="line">                counter++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                counter--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (map.containsKey(counter)) &#123;</span><br><span class="line">                <span class="keyword">int</span> prevIndex = map.get(counter);</span><br><span class="line">                maxLength = Math.max(maxLength, i - prevIndex);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                map.put(counter, i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int FindMaxLength(int[] nums) &#123;</span><br><span class="line">        int maxLength = 0;</span><br><span class="line">        Dictionary&lt;int, int&gt; dictionary = new Dictionary&lt;int, int&gt;();</span><br><span class="line">        int counter = 0;</span><br><span class="line">        dictionary.Add(counter, -1);</span><br><span class="line">        int n = nums.Length;</span><br><span class="line">        for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">            int num = nums[i];</span><br><span class="line">            if (num == 1) &#123;</span><br><span class="line">                counter++;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                counter--;</span><br><span class="line">            &#125;</span><br><span class="line">            if (dictionary.ContainsKey(counter)) &#123;</span><br><span class="line">                int prevIndex = dictionary[counter];</span><br><span class="line">                maxLength = Math.Max(maxLength, i - prevIndex);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                dictionary.Add(counter, i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> findMaxLength = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> maxLength = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">    <span class="keyword">let</span> counter = <span class="number">0</span>;</span><br><span class="line">    map.set(counter, <span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">const</span> n = nums.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> num = nums[i];</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">1</span>) &#123;</span><br><span class="line">            counter++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            counter--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (map.has(counter)) &#123;</span><br><span class="line">            <span class="keyword">const</span> prevIndex = map.get(counter);</span><br><span class="line">            maxLength = <span class="built_in">Math</span>.max(maxLength, i - prevIndex);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            map.set(counter, i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLength;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findMaxLength</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="params">(maxLength <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    mp := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>&#123;<span class="number">0</span>: <span class="number">-1</span>&#125;</span><br><span class="line">    counter := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        <span class="keyword">if</span> num == <span class="number">1</span> &#123;</span><br><span class="line">            counter++</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            counter--</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> prevIndex, has := mp[counter]; has &#123;</span><br><span class="line">            maxLength = max(maxLength, i-prevIndex)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            mp[counter] = i</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findMaxLength</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> maxLength = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; mp;</span><br><span class="line">        <span class="keyword">int</span> counter = <span class="number">0</span>;</span><br><span class="line">        mp[counter] = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> num = nums[i];</span><br><span class="line">            <span class="keyword">if</span> (num == <span class="number">1</span>) &#123;</span><br><span class="line">                counter++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                counter--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (mp.count(counter)) &#123;</span><br><span class="line">                <span class="keyword">int</span> prevIndex = mp[counter];</span><br><span class="line">                maxLength = max(maxLength, i - prevIndex);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                mp[counter] = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> key, val;</span><br><span class="line">    UT_hash_handle hh;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findMaxLength</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> maxLength = <span class="number">0</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span>* <span class="title">hashTable</span> = <span class="title">NULL</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span>* <span class="title">tmp</span> = <span class="title">malloc</span>(<span class="title">sizeof</span>(<span class="title">struct</span> <span class="title">HashTable</span>));</span></span><br><span class="line">    tmp-&gt;key = <span class="number">0</span>, tmp-&gt;val = <span class="number">-1</span>;</span><br><span class="line">    HASH_ADD_INT(hashTable, key, tmp);</span><br><span class="line">    <span class="keyword">int</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n = numsSize;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> num = nums[i];</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">1</span>) &#123;</span><br><span class="line">            counter++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            counter--;</span><br><span class="line">        &#125;</span><br><span class="line">        HASH_FIND_INT(hashTable, &amp;counter, tmp);</span><br><span class="line">        <span class="keyword">if</span> (tmp != <span class="literal">NULL</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> prevIndex = tmp-&gt;val;</span><br><span class="line">            maxLength = fmax(maxLength, i - prevIndex);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tmp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct HashTable));</span><br><span class="line">            tmp-&gt;key = counter, tmp-&gt;val = i;</span><br><span class="line">            HASH_ADD_INT(hashTable, key, tmp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLength;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ nums , æ‰¾åˆ°å«æœ‰ç›¸åŒæ•°é‡çš„ 0 å’Œ 1 çš„æœ€é•¿è¿ç»­å­æ•°ç»„ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„çš„é•¿åº¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Prefix Sum" scheme="http://yoursite.com/tags/Prefix-Sum/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•å†™å‡ºä¸€ä»½ä¼˜ç§€çš„å·¥ä½œå‘¨æŠ¥ï¼Ÿ</title>
    <link href="http://yoursite.com/2021/11/18/%E5%A6%82%E4%BD%95%E5%86%99%E5%87%BA%E4%B8%80%E4%BB%BD%E4%BC%98%E7%A7%80%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%91%A8%E6%8A%A5/"/>
    <id>http://yoursite.com/2021/11/18/å¦‚ä½•å†™å‡ºä¸€ä»½ä¼˜ç§€çš„å·¥ä½œå‘¨æŠ¥/</id>
    <published>2021-11-18T11:12:12.000Z</published>
    <updated>2021-11-18T10:43:31.063Z</updated>
    
    <content type="html"><![CDATA[<p>å¦‚ä½•å†™å‡ºä¸€ä»½ä¼˜ç§€çš„å·¥ä½œå‘¨æŠ¥ï¼Ÿ(é™„90åˆ†å‘¨æŠ¥æ¨¡æ¿)</p><a id="more"></a><p>[TOC]</p><p>æ¥ï¼Œå…ˆè¯´è¯´çœ‹å‘¨æŠ¥çš„äººçœ‹ä»€ä¹ˆï¼Œç„¶åå†è¯´è¯´æ€ä¹ˆå†™ã€‚<br>ä»¥ä¸‹ä¸ºç›®å½•ï¼š </p><h1 id="1-å‘¨æŠ¥ï¼Œæœ€ä¸ºåŸºæœ¬çš„è¦æ±‚æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1-å‘¨æŠ¥ï¼Œæœ€ä¸ºåŸºæœ¬çš„è¦æ±‚æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1 å‘¨æŠ¥ï¼Œæœ€ä¸ºåŸºæœ¬çš„è¦æ±‚æ˜¯ä»€ä¹ˆï¼Ÿ"></a>1 å‘¨æŠ¥ï¼Œæœ€ä¸ºåŸºæœ¬çš„è¦æ±‚æ˜¯ä»€ä¹ˆï¼Ÿ</h1><p>10 å¤šå¹´å·¥ä½œï¼Œè‡ªå·±ä¹Ÿå†™å‘¨æŠ¥ï¼Œåæ¥çœ‹åˆ«äººå†™å‘¨æŠ¥ã€‚å…ˆç»™å¤§å®¶è¯„ä¸ªåˆ†æ•°ï¼Œçœ‹çœ‹å“ªäº›è‚¯å®šä¸åˆæ ¼ï¼š </p><h2 id="è´Ÿåˆ†ç‰ˆæœ¬ï¼š"><a href="#è´Ÿåˆ†ç‰ˆæœ¬ï¼š" class="headerlink" title="- è´Ÿåˆ†ç‰ˆæœ¬ï¼š"></a>- è´Ÿåˆ†ç‰ˆæœ¬ï¼š</h2><p>ã€Œæœ¬å‘¨å®Œæˆæ—¢å®šå·¥ä½œï¼Œå¤„ç†äº¤åŠä»»åŠ¡ï¼Œä¸‹å‘¨æŒ‰å‘¨äº”ä¼šè®®è®¡åˆ’æ‰§è¡Œã€<br>éè¦ä»ç†è®ºä¸Šè¯´ï¼Œä¹Ÿæ²¡é”™ã€‚<br>ä½†æ˜¯æ‰‹ä¸‹çš„äººå¤šäº†ï¼Œæ¯ä¸ªäººå•¥å«æ—¢å®šä»»åŠ¡ã€äº¤åŠäº†ä»€ä¹ˆä»»åŠ¡ã€ä½ çš„è®¡åˆ’æ˜¯å•¥<br>â€”â€”æˆ‘çœŸä¸ä¸€å®šèƒ½è®°ä½ã€‚<br>è¿™ç§è¡¨è¿°ï¼Œæ²¡æœ‰è¾¾åˆ°å‘¨æŠ¥çš„åŸºæœ¬è¦æ±‚:<br>â€”â€”ä½œä¸ºæ—¥å¸¸å·¥ä½œçš„å¤‡å¿˜ã€‚<br>è¿˜èŠ±äº†æˆ‘ 20 ç§’æ—¶é—´æ‰“å¼€é‚®ç®±ï¼Œåªèƒ½ç»™è´Ÿåˆ†ã€‚</p><h2 id="30-åˆ†ç‰ˆæœ¬ï¼š"><a href="#30-åˆ†ç‰ˆæœ¬ï¼š" class="headerlink" title="- 30 åˆ†ç‰ˆæœ¬ï¼š"></a>- 30 åˆ†ç‰ˆæœ¬ï¼š</h2><p>ä¸»çº¿å·¥ä½œï¼šå®Œæˆ xxxxxã€æœªå®Œæˆ xxxï¼›<br>ä¸´æ—¶æ€§ä»»åŠ¡ï¼šå®Œæˆ xxxxxã€æœªå®Œæˆ xxxï¼›<br>äº‹åŠ¡æ€§å·¥ä½œï¼šå®Œæˆ xxxxxï¼›<br>åŸ¹è®­ï¼šå®Œæˆ xxxxxï¼›<br>ä¸‹å‘¨ï¼šxxxxxx<br>è¿™ä¸ªç»“æ„çœ‹å¾—å‡ºæäº¤è€…åšäº†ä¸é”™çš„åˆ†ç±»ï¼Œå®Œæˆçš„å·¥ä½œå’Œæœªå®Œæˆçš„å·¥ä½œè¿›è¡Œäº†æ¢³ç†ã€‚<br>ä½†æ˜¯åœ¨å·¥ä½œä¸­ï¼Œå¯ä¸æ˜¯æˆ‘ä»¬ç½‘ä¸Šåˆ·è®ºå›ï¼Œä½ è¯´è‡ªå·± 985 æˆ–è€…å¹´å…¥ç™¾ä¸‡åˆ«äººå°±ä¼šä¿¡ã€‚<br>å‘¨æŠ¥é‡Œä½ æåˆ°çš„æ‰€æœ‰æˆæœï¼Œéƒ½å¿…é¡»æœ‰ä¸€ä¸ªå…ƒç´ ï¼š<br> è¯æ˜ã€‚ </p><ul><li>å¦‚æœä½ æ˜¯åšä¸šåŠ¡çš„ï¼Œå°±æŠŠé”€å”®æ•°æ®æ‰”ä¸Šå»ï¼› </li><li>å¦‚æœä½ æ˜¯åšå¼€å‘çš„ï¼Œå°±å·¥ä½œé‡è¯æ˜æ‰”ä¸Šå»ï¼› </li><li>â€¦â€¦<br>å¦‚æœæ²¡æœ‰æ•°æ®æˆ–è€…å¯è¢«éªŒè¯çš„èµ„æ–™è¯æ˜è‡ªå·±ç¡®å®å®Œæˆäº†è¿™äº›å·¥ä½œï¼Œä»ç„¶æ˜¯ä¸€ä»½ä¸åŠæ ¼çš„å‘¨æŠ¥ã€‚<br>å¦‚æœæˆªå›¾å¤ªå¤§æˆ–è€…æœ‰ä¸“é—¨çš„å·¥ä½œé‡ç»Ÿè®¡è¡¨æ ¼ï¼Œå¯ä»¥æ”¾åœ¨é™„ä»¶ã€‚ </li></ul><h2 id="60-åˆ†ç‰ˆæœ¬ï¼š"><a href="#60-åˆ†ç‰ˆæœ¬ï¼š" class="headerlink" title="- 60 åˆ†ç‰ˆæœ¬ï¼š"></a>- 60 åˆ†ç‰ˆæœ¬ï¼š</h2><p>ä¸»çº¿å·¥ä½œï¼šå®Œæˆ xxxxxï¼ˆè¯¦è§ yyyyï¼‰ã€æœªå®Œæˆ xxxï¼›<br>ä¸´æ—¶æ€§ä»»åŠ¡ï¼šå®Œæˆ xxxxxï¼ˆè¯¦è§ yyyyï¼‰ã€æœªå®Œæˆ xxxï¼›<br>äº‹åŠ¡æ€§å·¥ä½œï¼šå®Œæˆ xxxxxï¼ˆè¯¦è§ yyyyï¼‰ï¼›<br>åŸ¹è®­ï¼šå®Œæˆ xxxxxï¼ˆè¯¦è§ yyyyï¼‰ï¼›<br>ä¸‹å‘¨ï¼šxxxxxx<br>å¾ˆå¤šæœ‹å‹å¦‚æœèƒ½å¤Ÿå®Œæˆè¿™ç±»å‘¨æŠ¥ï¼Œå°±å·²ç»è¾¾åˆ°äº†åŠæ ¼çº¿çš„æ ‡å‡†ã€‚</p><p> ç‰¹åˆ«æ˜¯å¯¹äºå®ä¹ ç”Ÿã€åˆšæ¯•ä¸šä¸åˆ° 1 å¹´çš„èŒåœºæ–°äººã€‚<br>èƒ½å¤Ÿå¯¹è¿‡å»ä¸€å‘¨å®Œæˆã€æœªå®Œæˆçš„å·¥ä½œè¿›è¡Œä¸€ä¸ªæœ‰æ•ˆçš„åˆ†ç±»ï¼Œä¸Šçº§åœ¨å’Œä½ èŠå¤©çš„æ—¶å€™åŸºæœ¬å¯ä»¥ä¸ç”¨é‡å¤å·²ç»å‘ç”Ÿçš„äº‹å®ã€‚<br> ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥åšå¾—æ›´å¥½ã€‚</p><h1 id="2-å‘¨æŠ¥çš„æ ¸å¿ƒä½œç”¨ï¼Œä»¥åŠä»€ä¹ˆæ˜¯æ›´é«˜çº§çš„ä¿¡æ¯ä¼ é€’"><a href="#2-å‘¨æŠ¥çš„æ ¸å¿ƒä½œç”¨ï¼Œä»¥åŠä»€ä¹ˆæ˜¯æ›´é«˜çº§çš„ä¿¡æ¯ä¼ é€’" class="headerlink" title="2 å‘¨æŠ¥çš„æ ¸å¿ƒä½œç”¨ï¼Œä»¥åŠä»€ä¹ˆæ˜¯æ›´é«˜çº§çš„ä¿¡æ¯ä¼ é€’"></a>2 å‘¨æŠ¥çš„æ ¸å¿ƒä½œç”¨ï¼Œä»¥åŠä»€ä¹ˆæ˜¯æ›´é«˜çº§çš„ä¿¡æ¯ä¼ é€’</h1><p>ä»»ä½•è´Ÿè´£äººé˜…è¯»å‘¨æŠ¥éƒ½æœ‰ä¸¤ä¸ªä½œç”¨ï¼šæŸ¥çœ‹äº‹å®ã€å‘ç°é—®é¢˜ã€‚<br>è¿™é‡Œæˆ‘æƒ³ä¹Ÿä¸ç”¨å¤šè¯´äº†ï¼Œå¤§å®¶è‚¯å®šå¯Ÿè§‰åˆ°ï¼Œè®©é¢†å¯¼å’ŒåŒäº‹å‘ç°é—®é¢˜æ‰æ˜¯å‘¨æŠ¥çš„æ ¸å¿ƒä½œç”¨ã€‚<br>æ˜¾ç„¶ä¸Šé¢ 60 åˆ†çš„å‘¨æŠ¥ï¼Œå¹¶æ²¡æœ‰å¾ˆå¥½åœ°å±•ç¤ºè¿™ä¸ªä¿¡æ¯ï¼Œæˆ‘ä»¬ä¸‹é¢æ¥è¯´ä¸€è¯´ã€‚<br>ä»€ä¹ˆæ˜¯é—®é¢˜ï¼Ÿ<br>å¾ˆå¤šæœ‹å‹æƒ³å½“ç„¶ä¼šè®¤ä¸ºé—®é¢˜å°±æ˜¯å›°éš¾ï¼Œå°±æ˜¯å·¥ä½œä»»åŠ¡æ²¡å®Œæˆ<br>â€”â€”å¯¹ï¼Œä½†ä¹Ÿä¸å…¨é¢ã€‚<br>å’±ä»¬å°±è¯´å‘¨æŠ¥é‡Œçš„è¿™äº›å†…å®¹ï¼Œæˆ‘æ¥ä¸¾å‡ ä¸ªä¾‹å­ï¼š<br>æœ¬å‘¨å®Œæˆ xxxxxï¼ˆ80% è¿›åº¦ï¼‰ã€‚<br>å¦‚æœæœ¬å‘¨é¢„è®¡åº”è¯¥å®Œæˆ 60%ï¼Œé‚£ä¹ˆ 80% ç®—æ˜¯è¶…é¢„æœŸï¼›<br>å¦‚æœæœ¬å‘¨é¢„è®¡åº”è¯¥å®Œæˆ 90%ï¼Œé‚£ä¹ˆ 80% ç®—æ˜¯è½åè¿›åº¦ã€‚<br>æœ¬å‘¨è§„å®šçš„ä¸¤ç¯‡æŠ¥å‘Šï¼Œå®Œæˆä¸€ç¯‡ï¼›<br>å¦‚æœæ˜¯æ²¡æœ‰å…¶ä»–ä»»åŠ¡ï¼Œé‚£ä¹ˆæ˜¾ç„¶æ²¡æœ‰è¾¾æˆ KPIï¼Œä½†æ˜¯å¦‚æœå› ä¸ºæœ‰çªå‘ä»»åŠ¡æ¯”å¦‚ç»„ç»‡å¤§å‹ä¼šè®®ï¼Œé‚£ä¹ˆè¿™å°±ä¸ç®—æ˜¯ KPI ä¸è¾¾æ ‡ã€‚</p><p>æ‰€ä»¥åœ¨æ€»ç»“çš„æ—¶å€™ï¼Œä¸€å®šè¦æŠŠé¢„æœŸå’Œå®é™…åšå¯¹æ¯”ï¼š </p><ul><li>æœ¬å‘¨å®Œæˆ 50%ï¼ˆåŸè®¡åˆ’å®Œæˆ 40%ï¼‰ï¼› </li><li>æœ¬å‘¨å®Œæˆ xxxx è°ˆåˆ¤ï¼ˆåŸè®¡åˆ’æˆæœ 2 ä¸‡/é¡¹ç›®ï¼Œå®é™… 1.75 ä¸‡/é¡¹ç›®ï¼‰ï¼› </li><li>æœ¬å‘¨å®Œæˆ xxxxï¼ˆåŸè®¡åˆ’èŠ±è´¹ 20 å·¥æ—¶ï¼Œå®é™…èŠ±è´¹ 30 å·¥æ—¶ï¼‰<br>å½“æˆ‘ä»¬åœ¨å‘¨æŠ¥ä¸­æè¿°äº†é¢„æœŸå’Œå®é™…çš„åå·®ï¼Œé¢†å¯¼å’ŒåŒäº‹å°±ä¼šå¾ˆæ˜ç¡®åœ°æ„è¯†åˆ°é—®é¢˜ã€‚<br>å®é™…å·¥ä½œä¸­ï¼Œæœ‰äº›é¢†å¯¼ä¼šæŠŠä½ çš„å„ç§å·¥ä½œç›®æ ‡å’Œé¢„æœŸè®°å¾—å¾ˆæ¸…æ¥šã€‚<br>ä½†æ˜¯å·¥ä½œç¹å¿™çš„äººï¼Œå¸¦çš„äººæ¯”è¾ƒå¤šï¼Œä¸€èˆ¬è®°ä¸ä½ã€‚<br>ä¸ºäº†é«˜æ•ˆä¼ é€’ä¿¡æ¯ï¼Œæˆ‘è¿˜æ˜¯å»ºè®®å¤§å®¶æŠŠé¢„æœŸå’Œå®é™…å·¥ä½œæˆæœåˆ—æ¸…æ¥šã€‚<br>åˆ—ä¸¾é—®é¢˜çš„æ—¶å€™ï¼Œé¢†å¯¼å’Œæˆ‘ä»¬æ²Ÿé€šå°±å˜å¾—æ›´æœ‰é’ˆå¯¹æ€§ã€‚<br>ä¸€èˆ¬æ¥è¯´ï¼Œç»™å‡ºè‡ªå·±çš„åˆ†æå’Œæ€è€ƒï¼Œå¯ä»¥èŠ‚çœåŒäº‹å¤ç›˜çš„æ—¶é—´ï¼Œå³ä½¿è¿™äº›ç†ç”±è¢«é¢†å¯¼éƒ½å¦æ‰ï¼Œä½ çš„æ€è€ƒä¹Ÿèƒ½å¤Ÿä¸ºè§£å†³é—®é¢˜æä¾›æ–¹å‘ä¸Šçš„æŒ‡å¼•ã€‚</li></ul><h1 id="3-ä¸€ä¸ªå‘¨æŠ¥çš„æ¨¡æ¿"><a href="#3-ä¸€ä¸ªå‘¨æŠ¥çš„æ¨¡æ¿" class="headerlink" title="3 ä¸€ä¸ªå‘¨æŠ¥çš„æ¨¡æ¿"></a>3 ä¸€ä¸ªå‘¨æŠ¥çš„æ¨¡æ¿</h1><p>è¿™é‡Œï¼Œè¿˜æ˜¯è¦ç»™åˆ°å¤§å®¶ä¸€ä¸ªæ¨¡æ¿ï¼Œæ»¡è¶³ 90 åˆ†è¦æ±‚ã€‚</p><h2 id="3-1-å®Œæˆäº‹é¡¹"><a href="#3-1-å®Œæˆäº‹é¡¹" class="headerlink" title="3-1 å®Œæˆäº‹é¡¹"></a>3-1 å®Œæˆäº‹é¡¹</h2><p>æŒ‰ç…§å·¥ä½œæ€§è´¨æˆ–è€…å·¥ä½œç‰ˆå—å¯¹ä¸€å‘¨çš„å·¥ä½œè¿›è¡Œåˆ†ç±»ï¼Œç„¶ååˆ†åˆ«æè¿°è¿›åº¦ï¼Œå¸¸è§çš„åˆ†ç±»æ‰‹æ³•å¦‚ä¸‹ï¼š </p><ul><li>å›ºå®šå·¥ä½œã€ä¸´æ—¶å·¥ä½œï¼› </li><li>ä¸»çº¿å·¥ä½œã€å‰¯çº¿å·¥ä½œï¼› </li><li>ä¸šåŠ¡å·¥ä½œã€äº‹åŠ¡å·¥ä½œï¼› </li><li>è‡ªä¸»å·¥ä½œã€é¢†å¯¼äº¤åŠå·¥ä½œï¼›<br>æ³¨æ„åœ¨æè¿°å·¥ä½œæ—¶åŠ å…¥å…·ä½“æ•°æ®å’Œè¯æ˜å·¥ä½œå®Œæˆçš„è¯æ®ã€‚</li></ul><h2 id="3-2-æœªå®Œæˆäº‹é¡¹-é‡åˆ°é—®é¢˜çš„å·¥ä½œ"><a href="#3-2-æœªå®Œæˆäº‹é¡¹-é‡åˆ°é—®é¢˜çš„å·¥ä½œ" class="headerlink" title="3-2 æœªå®Œæˆäº‹é¡¹/é‡åˆ°é—®é¢˜çš„å·¥ä½œ"></a>3-2 æœªå®Œæˆäº‹é¡¹/é‡åˆ°é—®é¢˜çš„å·¥ä½œ</h2><p>æœªæŒ‰ç…§é¢„æœŸå®Œæˆçš„å·¥ä½œï¼Œæˆ–è€…æœªæŒ‰ç…§åŸå®šéš¾åº¦å®Œæˆçš„å·¥ä½œæˆ‘ä»¬é€šå¸¸è®¤ä¸ºæ˜¯å·¥ä½œçš„é—®é¢˜ï¼Œåº”å½“æé†’é¢†å¯¼æ³¨æ„ã€‚<br>åœ¨è¿›è¡Œæœ‰æ•ˆåˆ†ç±»çš„åŸºç¡€ä¸Šï¼Œå»ºè®®æ·»åŠ å¦‚ä¸‹ç»†èŠ‚ï¼š </p><ul><li>åŸå·¥ä½œé¢„æœŸï¼ˆæˆæœã€éš¾åº¦ã€æ—¶é—´ç­‰ï¼‰Vs å®é™…ç»“æœï¼› </li><li>å¯¹äº§ç”Ÿè¿™ç±»åå·®çš„åŸå› è¿›è¡Œå¯èƒ½çš„åˆ†æï¼›</li><li></li></ul><h2 id="3-3-é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ"><a href="#3-3-é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="3-3 é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ"></a>3-3 é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ</h2><p>å…ˆè‡ªå·±æƒ³ï¼Œå¦‚æœæ²¡æœ‰ç­”æ¡ˆå¯ä»¥åœ¨è‡ªå·±çš„ç¬”è®°ä¸­å¯»æ‰¾ç±»ä¼¼é—®é¢˜æˆ–è€…è¯·æ±‚åŒäº‹ååŠ©<br>æˆ‘ä»¬å·¥ä½œä¸­ç»å¤§å¤šæ•°å·¥ä½œè§£å†³æ–¹æ¡ˆå…¶å®æ¯”è¾ƒå•ä¸€ã€‚<br>æ²¡æ‰¾åˆ°äººä¸‹å‘¨è¡¥ä¸Šã€æ²¡å†™å®Œç¨‹åºåŠ ç­å†™ä¸Šã€è¿œç¨‹è§£å†³ä¸äº†é—®é¢˜å‡ºå·®è¿‡å»ã€‚<br>æˆ‘è¦æé†’çš„æ˜¯æ¯”è¾ƒå¤æ‚çš„é—®é¢˜ï¼Œæœ€å¥½ç»™å‡ºå¤šä¸ªè§£å†³æ–¹æ¡ˆï¼Œè®©é¢†å¯¼åšé€‰æ‹©é¢˜ã€‚</p><h2 id="3-4-å¾…åŠå·¥ä½œ"><a href="#3-4-å¾…åŠå·¥ä½œ" class="headerlink" title="3-4 å¾…åŠå·¥ä½œ"></a>3-4 å¾…åŠå·¥ä½œ</h2><p>å¾…åŠå·¥ä½œåŒ…æ‹¬ä¸¤å¤§ç±»ï¼Œç¬¬ä¸€ç±»æ˜¯æŒ‰ç…§å·¥ä½œè®¡åˆ’æœ¬åº”è¯¥å®Œæˆçš„å·¥ä½œï¼›<br>ç¬¬äºŒç±»æ˜¯æœ¬å‘¨é—ç•™çš„é—®é¢˜åœ¨ä¸‹å‘¨å¯ä»¥ç€æ‰‹è§£å†³çš„å·¥ä½œã€‚<br>ç¬¬ä¸€ç±»ï¼š<br> å¾ˆå¤šå…¬å¸çš„å·¥ä½œè®¡åˆ’éƒ½æ˜¯æŒ‰ç…§å­£åº¦æˆ–è€…æœˆåº¦ç¼–åˆ¶çš„ï¼Œå¦‚æœè®¡åˆ’æ²¡æœ‰å˜æ›´ï¼Œç”¨æœ€ç®€å•çš„æè¿°ï¼Œè¯´ä¸€ä¸‹æœªæ¥ä¸€å‘¨çš„å·¥ä½œå†…å®¹å°±å¯ä»¥äº†ã€‚å¦‚æœè®¤ä¸ºæœ‰å¿…è¦å¯ä»¥ç”¨é™„ä»¶å½¢å¼æŠŠè®¡åˆ’è´´ä¸Šå»ã€‚<br>ç¬¬äºŒç±»ï¼š<br>é¢†å¯¼ä¸€èˆ¬æ›´å…³å¿ƒé—ç•™é—®é¢˜è§£å†³ã€‚<br>æ—¥å¸¸å·¥ä½œä¸­å¾ˆå¤šå·¥ä½œè‚¯å®šä¸æ˜¯è¿™å‘¨å‡ºé—®é¢˜ã€ä¸‹å‘¨å°±èƒ½è§£å†³ï¼Œåœ¨è¿™é‡Œå»ºè®®å¯¹è¿™ç±»å‹å¾…åŠå·¥ä½œè¿›è¡Œæ’åºã€‚ </p><ul><li>å¯ä»¥æŒ‰ç…§é—®é¢˜é—ç•™æ—¶é—´æ’åºï¼Œæ¯”å¦‚æ‹–äº† 1 ä¸ªæœˆçš„å·¥ä½œæ”¾åœ¨ä¸Šé¢ï¼Œæ‹–äº† 2 å‘¨åœ°æ”¾åœ¨ä¸‹é¢ï¼› </li><li>å¯ä»¥æŒ‰ç…§é—®é¢˜é‡è¦æ€§æ’åºï¼Œæ¯”å¦‚é›†å›¢çº§&gt;å…¬å¸çº§&gt;éƒ¨é—¨çº§&gt;å°ç»„çº§ï¼›<br>è¿™è¯´æ˜ä½ å·¥ä½œä¸­çŸ¥é“æ‰¾é‡ç‚¹ã€‚</li></ul><p>è¯´æ˜ï¼šå†…å®¹è½¬è‡ªçŸ¥ä¹ï¼Œ(ç­”ä¸»ï¼šç‹å®¶CFA)</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¦‚ä½•å†™å‡ºä¸€ä»½ä¼˜ç§€çš„å·¥ä½œå‘¨æŠ¥ï¼Ÿ(é™„90åˆ†å‘¨æŠ¥æ¨¡æ¿)&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="blog" scheme="http://yoursite.com/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>1044. æœ€é•¿é‡å¤å­ä¸²</title>
    <link href="http://yoursite.com/2021/11/17/1044.%20%E6%9C%80%E9%95%BF%E9%87%8D%E5%A4%8D%E5%AD%90%E4%B8%B2/"/>
    <id>http://yoursite.com/2021/11/17/1044. æœ€é•¿é‡å¤å­ä¸²/</id>
    <published>2021-11-17T07:12:12.000Z</published>
    <updated>2021-11-23T14:22:11.538Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å‡ºä¸€ä¸ªå­—ç¬¦ä¸²Sï¼Œè€ƒè™‘å…¶æ‰€æœ‰é‡å¤å­ä¸²ï¼ˆS çš„è¿ç»­å­ä¸²ï¼Œå‡ºç°ä¸¤æ¬¡æˆ–å¤šæ¬¡ï¼Œå¯èƒ½ä¼šæœ‰é‡å ï¼‰ã€‚</p><p>è¿”å›ä»»ä½•å…·æœ‰æœ€é•¿å¯èƒ½é•¿åº¦çš„é‡å¤å­ä¸²ã€‚ï¼ˆå¦‚æœ Sä¸å«é‡å¤å­ä¸²ï¼Œé‚£ä¹ˆç­”æ¡ˆä¸ºâ€â€ã€‚ï¼‰</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼š&quot;banana&quot;è¾“å‡ºï¼š&quot;ana&quot;</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼š&quot;abcd&quot;è¾“å‡ºï¼š&quot;&quot;</code></pre><p>æç¤ºï¼š</p><pre><code>2 &lt;= S.length &lt;= 10^5S ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆã€‚</code></pre><p>å¾ˆå¤šè¯„è®ºé‡Œæœ‰æåˆ°æ˜¯å­—èŠ‚ä¸€é¢çš„é¢è¯•é¢˜ï¼Œç¡®å®æœ‰éš¾åº¦</p><h1 id="æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾-Rabin-Karp-å­—ç¬¦ä¸²ç¼–ç -1"><a href="#æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾-Rabin-Karp-å­—ç¬¦ä¸²ç¼–ç -1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾ + Rabin-Karp å­—ç¬¦ä¸²ç¼–ç ^1"></a>æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾ + Rabin-Karp å­—ç¬¦ä¸²ç¼–ç <a href="https://leetcode-cn.com/problems/longest-duplicate-substring/solution/zui-chang-zhong-fu-zi-chuan-by-leetcode/" target="_blank" rel="noopener">^1</a></h1><p><strong>åˆ†æ</strong></p><p>æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªé—®é¢˜åˆ†è§£æˆä¸¤ä¸ªå­é—®é¢˜ï¼š</p><ol><li><p>ä» <code>1</code> åˆ° <code>N</code> ä¸­é€‰å–å­ä¸²çš„é•¿åº¦ <code>L</code>ï¼›</p></li><li><p>æ£€æŸ¥å­—ç¬¦ä¸²ä¸­æ˜¯å¦å­˜åœ¨é•¿åº¦ä¸º <code>L</code> çš„é‡å¤å­ä¸²ã€‚</p></li></ol><p><strong>å­ä»»åŠ¡ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾</strong></p><p>è§£å†³å­é—®é¢˜ä¸€çš„æœ€ç®€å•çš„æ–¹æ³•æ˜¯ï¼Œæˆ‘ä»¬ä» <code>L = N - 1</code> å¼€å§‹ï¼Œä¾æ¬¡é€’å‡é€‰å–å­ä¸²çš„é•¿åº¦ï¼Œå¹¶è¿›è¡Œåˆ¤æ–­ã€‚å¦‚æœå‘ç°å­˜åœ¨é•¿åº¦ä¸º <code>L</code> çš„é‡å¤å­ä¸²ï¼Œå°±è¡¨ç¤º <code>L</code> æ˜¯æœ€é•¿çš„å¯èƒ½é•¿åº¦ã€‚</p><p>ä½†æˆ‘ä»¬å‘ç°ï¼Œå¦‚æœå­—ç¬¦ä¸²ä¸­å­˜åœ¨é•¿åº¦ä¸º <code>L</code> çš„é‡å¤å­ä¸²ï¼Œé‚£ä¹ˆä¸€å®šå­˜åœ¨é•¿åº¦ä¸º <code>L0 &lt; L</code> çš„é‡å¤å­ä¸²ï¼ˆé€‰å–é•¿åº¦ä¸º <code>L</code> çš„é‡å¤å­ä¸²çš„æŸä¸ªé•¿åº¦ä¸º <code>L0</code> çš„å­ä¸²å³å¯ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹æ³•ï¼Œæ‰¾åˆ°æœ€å¤§çš„ <code>L</code>ã€‚</p><p><strong>å­ä»»åŠ¡äºŒï¼šRabin-Karp å­—ç¬¦ä¸²ç¼–ç </strong></p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Rabin-Karp</code> ç®—æ³•å°†å­—ç¬¦ä¸²è¿›è¡Œç¼–ç ï¼Œè¿™æ ·åªè¦æœ‰ä¸¤ä¸ªç¼–ç ç›¸åŒï¼Œå°±è¯´æ˜å­˜åœ¨é‡å¤å­ä¸²ã€‚å¯¹äºé€‰å–çš„é•¿åº¦ <code>L</code>ï¼š</p><ul><li><p>ä½¿ç”¨é•¿åº¦ä¸º <code>L</code> çš„æ»‘åŠ¨çª—å£åœ¨é•¿åº¦ä¸º <code>N</code> çš„å­—ç¬¦ä¸²ä¸Šä»å·¦å‘å³æ»‘åŠ¨ï¼›</p></li><li><p>æ£€æŸ¥å½“å‰å¤„äºæ»‘åŠ¨çª—å£ä¸­çš„å­ä¸²çš„ç¼–ç æ˜¯å¦å·²ç»å‡ºç°è¿‡ï¼ˆç”¨ä¸€ä¸ªé›†åˆå­˜å‚¨å·²ç»å‡ºç°è¿‡çš„ç¼–ç ï¼‰ï¼›</p><ul><li><p>è‹¥å·²ç»å‡ºç°è¿‡ï¼Œå°±è¯´æ˜æ‰¾åˆ°äº†é•¿åº¦ä¸º <code>L</code> çš„é‡å¤å­ä¸²ï¼›</p></li><li><p>è‹¥æ²¡æœ‰å‡ºç°è¿‡ï¼Œå°±æŠŠå½“å‰å­ä¸²çš„ç¼–ç åŠ å…¥åˆ°é›†åˆä¸­ã€‚</p></li></ul></li></ul><p>å¯ä»¥çœ‹å‡ºï¼Œ<code>Rabin-Karp</code> å­—ç¬¦ä¸²ç¼–ç çš„æœ¬è´¨æ˜¯å¯¹å­—ç¬¦ä¸²è¿›è¡Œå“ˆå¸Œï¼Œå°†å­—ç¬¦ä¸²ä¹‹é—´çš„æ¯”è¾ƒè½¬åŒ–ä¸ºç¼–ç ä¹‹é—´çš„æ¯”è¾ƒã€‚æ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯ï¼Œåœ¨æ»‘åŠ¨çª—å£ä»å·¦å‘å³æ»‘åŠ¨æ—¶ï¼Œå¦‚ä½•å¿«é€Ÿè®¡ç®—å‡ºå½“å‰å­ä¸²çš„ç¼–ç å‘¢ï¼Ÿå¦‚æœéœ€è¦åœ¨ <em>O(L)</em> çš„æ—¶é—´å†…ç®—å‡ºç¼–ç ï¼Œè¿™ç§æ–¹æ³•å°±æ²¡æœ‰æ„ä¹‰äº†ï¼Œå› ä¸ºè¿™ä¸ªç›´æ¥è¿›è¡Œå­—ç¬¦ä¸²æ¯”è¾ƒéœ€è¦çš„æ—¶é—´ç›¸åŒã€‚</p><p>ä¸ºäº†èƒ½å¤Ÿå¿«é€Ÿè®¡ç®—å‡ºå­—ç¬¦ä¸²ç¼–ç ï¼Œæˆ‘ä»¬å¯ä»¥å°†å­—ç¬¦ä¸²çœ‹æˆä¸€ä¸ª 26 è¿›åˆ¶çš„æ•°ï¼ˆå› ä¸ºå­—ç¬¦ä¸²ä¸­ä»…åŒ…å«å°å†™å­—æ¯ï¼‰ï¼Œå®ƒå¯¹åº”çš„ 10 è¿›åˆ¶çš„å€¼å°±æ˜¯å­—ç¬¦ä¸²çš„ç¼–ç å€¼ã€‚é¦–å…ˆå°†å­—ç¬¦è½¬æ¢ä¸º 26 è¿›åˆ¶ä¸­çš„ 0-25ï¼Œå³é€šè¿‡ <code>arr[i] = (int)S.charAt(i) - (int)&#39;a&#39;</code>ï¼Œå¯ä»¥å°†å­—ç¬¦ä¸² <code>abcd</code> è½¬æ¢ä¸º <code>[0, 1, 2, 3]</code>ï¼Œå®ƒå¯¹åº”çš„ 10 è¿›åˆ¶å€¼ä¸ºï¼š</p><p>æˆ‘ä»¬å°†è¿™ä¸ªè¡¨è¾¾å¼å†™å¾—æ›´é€šç”¨ä¸€äº›ï¼Œè®¾ <em>c_i</em> ä¸ºå­—ç¬¦ä¸²ä¸­ç¬¬ <code>i</code> ä¸ªå­—ç¬¦å¯¹åº”çš„æ•°å­—ï¼Œ<em>a = 26</em> ä¸ºå­—ç¬¦ä¸²çš„è¿›åˆ¶ï¼Œé‚£ä¹ˆæœ‰ï¼š</p><p>å½“æˆ‘ä»¬å‘å³ç§»åŠ¨æ»‘åŠ¨çª—å£æ—¶ï¼Œä¾‹å¦‚ä» <code>abcd</code> å˜æˆ <code>bcde</code>ï¼Œæ­¤æ—¶å­—ç¬¦ä¸²å¯¹åº”çš„å€¼ä» <code>[0, 1, 2, 3]</code> å˜æˆ <code>[1, 2, 3, 4]</code>ï¼Œç§»é™¤äº†æœ€é«˜ä½çš„ <code>0</code>ï¼Œå¹¶ä¸”åœ¨æœ€ä½ä½æ·»åŠ äº† <code>4</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å¿«é€Ÿåœ°è®¡ç®—å‡ºæ–°çš„å­—ç¬¦ä¸²çš„ç¼–ç ï¼š</p><p>æ›´åŠ é€šç”¨çš„å†™æ³•æ˜¯ï¼š</p><p>*<br>h_1 = (h_0 a - c_0 a^L) + c_{L + 1}<br>*</p><p>è¿™æ ·ï¼Œæˆ‘ä»¬åªéœ€è¦ <em>O(L)</em> çš„æ—¶é—´å¤æ‚åº¦è®¡ç®—å‡ºæœ€å·¦ä¾§å­ä¸²çš„ç¼–ç ï¼Œè¿™ä¸ª <em>O(L)</em> å’Œæ»‘åŠ¨çª—å£çš„å¾ªç¯æ˜¯ç‹¬ç«‹çš„ã€‚åœ¨æ»‘åŠ¨çª—å£å‘å³æ»‘åŠ¨æ—¶ï¼Œè®¡ç®—æ–°çš„å­ä¸²çš„ç¼–ç çš„æ—¶é—´å¤æ‚åº¦ä»…ä¸º <em>O(1)</em>ã€‚</p><p>æœ€åä¸€ä¸ªéœ€è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼Œåœ¨å®é™…çš„ç¼–ç è®¡ç®—ä¸­ï¼Œ<em>a^L</em> çš„å€¼å¯èƒ½ä¼šéå¸¸å¤§ï¼Œåœ¨ C++ å’Œ Java è¯­è¨€ä¸­ï¼Œä¼šå¯¼è‡´æ•´æ•°çš„ä¸Šæº¢å‡ºã€‚ä¸€èˆ¬çš„è§£å†³æ–¹æ³•æ—¶ï¼Œå¯¹ç¼–ç å€¼è¿›è¡Œå–æ¨¡ï¼Œå°†ç¼–ç æ§åˆ¶åœ¨ä¸€å®šçš„èŒƒå›´å†…ï¼Œé˜²æ­¢æº¢å‡ºï¼Œå³<code>h = h % modulus</code>ã€‚æ ¹æ® <a href="https://baike.baidu.com/item/%E7%94%9F%E6%97%A5%E6%82%96%E8%AE%BA" target="_blank" rel="noopener">ç”Ÿæ—¥æ‚–è®º</a>ï¼Œæ¨¡æ•°ä¸€èˆ¬éœ€è¦å’Œè¢«ç¼–ç çš„ä¿¡æ¯æ•°é‡çš„å¹³æ–¹æ ¹çš„æ•°é‡çº§ç›¸åŒï¼Œåœ¨æœ¬é¢˜ä¸­ï¼Œç›¸åŒé•¿åº¦çš„å­ä¸²çš„æ•°é‡ä¸ä¼šè¶…è¿‡ <em>N</em> ä¸ªï¼Œå› æ­¤é€‰å–æ¨¡æ•°æ˜¯ <em>2^{32}</em>ï¼ˆæ— ç¬¦å·æ•´å‹æ•°çš„æœ€å¤§å€¼ï¼‰æ˜¯è¶³å¤Ÿçš„ã€‚åœ¨ Java ä¸­å¯ä»¥ç”¨å¦‚ä¸‹çš„ä»£ç å®ç°å–æ¨¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">h = (h * a - nums[start - <span class="number">1</span>] * aL % modulus + modulus) % modulus;</span><br><span class="line">h = (h + nums[start + L - <span class="number">1</span>]) % modulus;</span><br></pre></td></tr></table></figure><p>è€Œåœ¨ Python ä¸­ï¼Œæ•´å‹æ•°æ²¡æœ‰æœ€å¤§å€¼ï¼Œå› æ­¤å¯ä»¥åœ¨è¿ç®—çš„æœ€åå†å–æ¨¡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h = (h * a - nums[start - <span class="number">1</span>] * aL + nums[start + L - <span class="number">1</span>]) % modulus</span><br></pre></td></tr></table></figure><p>åœ¨è§£å†³ç®—æ³•é¢˜æ—¶ï¼Œæˆ‘ä»¬åªè¦åˆ¤æ–­ä¸¤ä¸ªç¼–ç æ˜¯å¦ç›¸åŒï¼Œå°±è¡¨ç¤ºå®ƒä»¬å¯¹åº”çš„å­—ç¬¦ä¸²æ˜¯å¦ç›¸åŒã€‚ä½†åœ¨å®é™…çš„åº”ç”¨åœºæ™¯ä¸­ï¼Œä¼šå‡ºç°å­—ç¬¦ä¸²ä¸åŒä½†ç¼–ç ç›¸åŒçš„æƒ…å†µï¼Œå› æ­¤åœ¨å®é™…åœºæ™¯ä¸­ä½¿ç”¨ <code>Rabin-Karp</code> å­—ç¬¦ä¸²ç¼–ç æ—¶ï¼Œæ¨èåœ¨ç¼–ç ç›¸åŒæ—¶å†å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œé˜²æ­¢å‡ºç°é”™è¯¯ã€‚</p><details>    <summary>Pythonæœªæ£€æµ‹ç¢°æ’ï¼ˆæœªé€šè¿‡ï¼‰</summary><figure class="highlight python"><figcaption><span>[sol1]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">search</span><span class="params">(self, L: int, a: int, modulus: int, n: int, nums: List[int])</span> -&gt; str:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Rabin-Karp with polynomial rolling hash.</span></span><br><span class="line"><span class="string">        Search a substring of given length</span></span><br><span class="line"><span class="string">        that occurs at least 2 times.</span></span><br><span class="line"><span class="string">        @return start position if the substring exits and -1 otherwise.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># compute the hash of string S[:L]</span></span><br><span class="line">        h = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(L):</span><br><span class="line">            h = (h * a + nums[i]) % modulus</span><br><span class="line">              </span><br><span class="line">        <span class="comment"># already seen hashes of strings of length L</span></span><br><span class="line">        seen = &#123;h&#125; </span><br><span class="line">        <span class="comment"># const value to be used often : a**L % modulus</span></span><br><span class="line">        aL = pow(a, L, modulus) </span><br><span class="line">        <span class="keyword">for</span> start <span class="keyword">in</span> range(<span class="number">1</span>, n - L + <span class="number">1</span>):</span><br><span class="line">            <span class="comment"># compute rolling hash in O(1) time</span></span><br><span class="line">            h = (h * a - nums[start - <span class="number">1</span>] * aL + nums[start + L - <span class="number">1</span>]) % modulus</span><br><span class="line">            <span class="keyword">if</span> h <span class="keyword">in</span> seen:</span><br><span class="line">                <span class="keyword">return</span> start</span><br><span class="line">            seen.add(h)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestDupSubstring</span><span class="params">(self, S: str)</span> -&gt; str:</span></span><br><span class="line">        n = len(S)</span><br><span class="line">        <span class="comment"># convert string to array of integers</span></span><br><span class="line">        <span class="comment"># to implement constant time slice</span></span><br><span class="line">        nums = [ord(S[i]) - ord(<span class="string">'a'</span>) <span class="keyword">for</span> i <span class="keyword">in</span> range(n)]</span><br><span class="line">        <span class="comment"># base value for the rolling hash function</span></span><br><span class="line">        a = <span class="number">26</span></span><br><span class="line">        <span class="comment"># modulus value for the rolling hash function to avoid overflow</span></span><br><span class="line">        modulus = <span class="number">2</span>**<span class="number">32</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># binary search, L = repeating string length</span></span><br><span class="line">        left, right = <span class="number">1</span>, n</span><br><span class="line">        <span class="keyword">while</span> left != right:</span><br><span class="line">            L = left + (right - left) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> self.search(L, a, modulus, n, nums) != <span class="number">-1</span>:</span><br><span class="line">                left = L + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                right = L </span><br><span class="line">               </span><br><span class="line">        start = self.search(left - <span class="number">1</span>, a, modulus, n, nums)</span><br><span class="line">        <span class="keyword">return</span> S[start: start + left - <span class="number">1</span>] <span class="keyword">if</span> start != <span class="number">-1</span> <span class="keyword">else</span> <span class="string">""</span></span><br></pre></td></tr></table></figure></details><details>    <summary>Javaæœªæ£€æµ‹ç¢°æ’ï¼ˆæœªé€šè¿‡ï¼‰</summary><figure class="highlight java"><figcaption><span>[sol1]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    Rabin-Karp with polynomial rolling hash.</span></span><br><span class="line"><span class="comment">        Search a substring of given length</span></span><br><span class="line"><span class="comment">        that occurs at least 2 times.</span></span><br><span class="line"><span class="comment">        Return start position if the substring exits and -1 otherwise.</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> L, <span class="keyword">int</span> a, <span class="keyword">long</span> modulus, <span class="keyword">int</span> n, <span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// compute the hash of string S[:L]</span></span><br><span class="line">        <span class="keyword">long</span> h = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L; ++i) h = (h * a + nums[i]) % modulus;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// already seen hashes of strings of length L</span></span><br><span class="line">        HashSet&lt;Long&gt; seen = <span class="keyword">new</span> HashSet();</span><br><span class="line">        seen.add(h);</span><br><span class="line">        <span class="comment">// const value to be used often : a**L % modulus</span></span><br><span class="line">        <span class="keyword">long</span> aL = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= L; ++i) aL = (aL * a) % modulus;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> start = <span class="number">1</span>; start &lt; n - L + <span class="number">1</span>; ++start) &#123;</span><br><span class="line">            <span class="comment">// compute rolling hash in O(1) time</span></span><br><span class="line">            h = (h * a - nums[start - <span class="number">1</span>] * aL % modulus + modulus) % modulus;</span><br><span class="line">            h = (h + nums[start + L - <span class="number">1</span>]) % modulus;</span><br><span class="line">            <span class="keyword">if</span> (seen.contains(h)) <span class="keyword">return</span> start;</span><br><span class="line">            seen.add(h);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">longestDupSubstring</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = S.length();</span><br><span class="line">        <span class="comment">// convert string to array of integers</span></span><br><span class="line">        <span class="comment">// to implement constant time slice</span></span><br><span class="line">        <span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) nums[i] = (<span class="keyword">int</span>)S.charAt(i) - (<span class="keyword">int</span>)<span class="string">'a'</span>;</span><br><span class="line">        <span class="comment">// base value for the rolling hash function</span></span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">26</span>;</span><br><span class="line">        <span class="comment">// modulus value for the rolling hash function to avoid overflow</span></span><br><span class="line">        <span class="keyword">long</span> modulus = (<span class="keyword">long</span>)Math.pow(<span class="number">2</span>, <span class="number">32</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// binary search, L = repeating string length</span></span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">1</span>, right = n;</span><br><span class="line">        <span class="keyword">int</span> L;</span><br><span class="line">        <span class="keyword">while</span> (left != right) &#123;</span><br><span class="line">            L = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (search(L, a, modulus, n, nums) != -<span class="number">1</span>) left = L + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> right = L;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> start = search(left - <span class="number">1</span>, a, modulus, n, nums);</span><br><span class="line">        <span class="keyword">return</span> start != -<span class="number">1</span> ? S.substring(start, start + left - <span class="number">1</span>) : <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Javaæ£€æµ‹ç¢°æ’</summary><figure class="highlight java"><figcaption><span>[sol2]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">longestDupSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> first = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> last = s.length();</span><br><span class="line">        <span class="keyword">while</span>(first &lt; last)&#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (last - first) / <span class="number">2</span> + first;</span><br><span class="line">            <span class="keyword">int</span> index = check(s, mid);</span><br><span class="line">            <span class="keyword">if</span>(index==-<span class="number">1</span>)&#123;</span><br><span class="line">                last = mid;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                first = mid+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è¿™é‡Œå°±æ‰¾å‡ºäº†é‡å¤çš„é•¿åº¦</span></span><br><span class="line">        <span class="keyword">int</span> index = check(s, first-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> s.substring(index,index+first-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç»™ä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªé•¿åº¦ï¼Œè¿”å›é‡å¤é•¿åº¦çš„ä¸‹æ ‡index,æ²¡æœ‰è¿”å›-1</span></span><br><span class="line">    <span class="comment">//ä½†æ˜¯è¿™ç§æ–¹å¼æ¯æ¬¡éƒ½è¦substringï¼Œä½†æ˜¯hashç¢°æ’å¤ªé«˜ï¼Œæ‰€ä»¥è¦è¿›è¡Œæ”¹è¿›</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">check1</span><span class="params">(String s, <span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(len==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;String,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=s.length()-len;i++)&#123;</span><br><span class="line">            String str = s.substring(i,i+len);</span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(str))&#123;</span><br><span class="line">                <span class="keyword">int</span> index = map.get(str);</span><br><span class="line">                <span class="keyword">return</span> index;</span><br><span class="line">            &#125;</span><br><span class="line">            map.put(str,i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> mod = <span class="number">1000000007</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿™é‡Œéœ€è¦ä½¿ç”¨Rabin-Karpç®—æ³•æ¥è§£å†³lené•¿åº¦çš„å­—ç¬¦ä¸²åœ¨sä¸­æ˜¯å¦é‡å¤ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨hashçš„æ–¹å¼</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">check</span><span class="params">(String s, <span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(len==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">long</span> pow = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">            pow = (pow*<span class="number">31</span>)%mod;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å†æ¥è®¡ç®—hashå€¼</span></span><br><span class="line">        <span class="keyword">long</span> hash =<span class="number">0</span>;</span><br><span class="line">        Map&lt;Long,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)&#123;</span><br><span class="line">            hash = (hash*<span class="number">31</span>+(s.charAt(i)-<span class="string">'a'</span>))%mod;</span><br><span class="line">            <span class="keyword">if</span>(i&lt;len-<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="comment">//è¿™æ—¶å€™è¿˜ä¸æ»¡è¶³ï¼Œç»§ç»­</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(i&gt;=len)&#123;</span><br><span class="line">                <span class="comment">//è¿™æ—¶å€™å°±è¦æŠŠå‰é¢çš„å­—ç¬¦å»æ‰</span></span><br><span class="line">                hash-=((s.charAt(i-len)-<span class="string">'a'</span>)*pow)%mod;</span><br><span class="line">                hash+=hash&lt;<span class="number">0</span>?mod:<span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(hash))&#123;</span><br><span class="line">                <span class="comment">//è¯´æ˜è¿™ä¸ªhashä¹‹å‰å‡ºç°è¿‡</span></span><br><span class="line">                <span class="keyword">int</span> index = map.get(hash);</span><br><span class="line">                String str1 = s.substring(index,index+len);</span><br><span class="line">                String str2 = s.substring(i+<span class="number">1</span>-len,i+<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(str1.equals(str2))&#123;</span><br><span class="line">                    <span class="keyword">return</span> index;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            map.put(hash,i-len+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(NlogN) ï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ä¸º O(logN) ï¼ŒRabin-Karp å­—ç¬¦ä¸²ç¼–ç çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(N)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em>ï¼Œç”¨æ¥å­˜å‚¨å­—ç¬¦ä¸²ç¼–ç çš„é›†åˆã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å‡ºä¸€ä¸ªå­—ç¬¦ä¸²Sï¼Œè€ƒè™‘å…¶æ‰€æœ‰é‡å¤å­ä¸²ï¼ˆS çš„è¿ç»­å­ä¸²ï¼Œå‡ºç°ä¸¤æ¬¡æˆ–å¤šæ¬¡ï¼Œå¯èƒ½ä¼šæœ‰é‡å ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿”å›ä»»ä½•å…·æœ‰æœ€é•¿å¯èƒ½é•¿åº¦çš„é‡å¤å­ä¸²ã€‚ï¼ˆå¦‚æœ Sä¸å«é‡å¤å­ä¸²ï¼Œé‚£ä¹ˆç­”æ¡ˆä¸ºâ€â€ã€‚ï¼‰&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Hash Function" scheme="http://yoursite.com/tags/Hash-Function/"/>
    
      <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
      <category term="Sliding Window" scheme="http://yoursite.com/tags/Sliding-Window/"/>
    
      <category term="Suffix Array" scheme="http://yoursite.com/tags/Suffix-Array/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
  </entry>
  
  <entry>
    <title>1358. åŒ…å«æ‰€æœ‰ä¸‰ç§å­—ç¬¦çš„å­å­—ç¬¦ä¸²æ•°ç›®</title>
    <link href="http://yoursite.com/2021/11/16/1358.%20%E5%8C%85%E5%90%AB%E6%89%80%E6%9C%89%E4%B8%89%E7%A7%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%95%B0%E7%9B%AE/"/>
    <id>http://yoursite.com/2021/11/16/1358. åŒ…å«æ‰€æœ‰ä¸‰ç§å­—ç¬¦çš„å­å­—ç¬¦ä¸²æ•°ç›®/</id>
    <published>2021-11-16T14:12:12.000Z</published>
    <updated>2021-11-17T03:15:34.346Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œå®ƒåªåŒ…å«ä¸‰ç§å­—ç¬¦ a, b å’Œ c ã€‚</p><p>è¯·ä½ è¿”å› aï¼Œb å’Œ c éƒ½ è‡³å°‘ å‡ºç°è¿‡ä¸€æ¬¡çš„å­å­—ç¬¦ä¸²æ•°ç›®ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;abcabc&quot;è¾“å‡ºï¼š10è§£é‡Šï¼šåŒ…å« aï¼Œb å’Œ c å„è‡³å°‘ä¸€æ¬¡çš„å­å­—ç¬¦ä¸²ä¸º &quot;abc&quot;, &quot;abca&quot;, &quot;abcab&quot;, &quot;abcabc&quot;, &quot;bca&quot;, &quot;bcab&quot;, &quot;bcabc&quot;, &quot;cab&quot;, &quot;cabc&quot; å’Œ &quot;abc&quot; (ç›¸åŒå­—ç¬¦ä¸²ç®—å¤šæ¬¡)ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;aaacb&quot;è¾“å‡ºï¼š3è§£é‡Šï¼šåŒ…å« aï¼Œb å’Œ c å„è‡³å°‘ä¸€æ¬¡çš„å­å­—ç¬¦ä¸²ä¸º &quot;aaacb&quot;, &quot;aacb&quot; å’Œ &quot;acb&quot; ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;abc&quot;è¾“å‡ºï¼š1</code></pre><p>æç¤ºï¼š</p><pre><code>3 &lt;= s.length &lt;= 5 x 10^4s åªåŒ…å«å­—ç¬¦ aï¼Œb å’Œ c ã€‚</code></pre><h1 id="åå‘æ€è€ƒ"><a href="#åå‘æ€è€ƒ" class="headerlink" title="åå‘æ€è€ƒ"></a>åå‘æ€è€ƒ</h1><p>æ‰€æ±‚=æ€»å­—ç¬¦ä¸²æ•°ç›®-æœ€å¤šåŒ…å«ä¸¤ä¸ªå­—ç¬¦çš„å­ä¸²æ•°ç›®<br>ä½†æ˜¯æäº¤æ—¶é‡åˆ°æµ‹è¯•ç”¨ä¾‹å¤ªé•¿ä¹˜ç§¯è¶…å‡ºæ•´æ•°èŒƒå›´ï¼Œæ‰€ä»¥æ¢æˆLongç±»å‹ä¿å­˜ä¸­é—´ç»“æœã€‚</p><details>    <summary>Java</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    public Long cal(Long n) &#123;</span><br><span class="line">        return (n * (n + 1)) &gt;&gt; 1;</span><br><span class="line">    &#125;</span><br><span class="line">    public int numberOfSubstrings(String s) &#123;</span><br><span class="line">        //æ€»å­—ç¬¦ä¸²æ•°ç›®-æœ€å¤šåŒ…å«ä¸¤ä¸ªå­—ç¬¦çš„å­ä¸²æ•°ç›®</span><br><span class="line">        int left=0;</span><br><span class="line">        int ans = 0;</span><br><span class="line">        Integer n = s.length();</span><br><span class="line">        CounterChar counterChar = new CounterChar();</span><br><span class="line">        for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">            if (counterChar.size() &lt; 3) &#123;</span><br><span class="line">                counterChar.add(s.charAt(i), 1);</span><br><span class="line">            &#125;</span><br><span class="line">            while (counterChar.size() &gt; 2) &#123;</span><br><span class="line">                counterChar.add(s.charAt(left), -1);</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            ans += i - left + 1;</span><br><span class="line">        &#125;</span><br><span class="line">        return  (cal(n.longValue()).intValue() - ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class CounterChar extends HashMap&lt;Character, Integer&gt; &#123;</span><br><span class="line">    public int get(Character character) &#123;</span><br><span class="line">        return containsKey(character) ? super.get(character) : 0;</span><br><span class="line">    &#125;</span><br><span class="line">    public void add(Character c, int v) &#123;</span><br><span class="line">        put(c, get(c) + v);</span><br><span class="line">        if (get(c) == 0) &#123;</span><br><span class="line">            remove(c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="æ–¹æ³•ä¸€ï¼šæšä¸¾-äºŒåˆ†"><a href="#æ–¹æ³•ä¸€ï¼šæšä¸¾-äºŒåˆ†" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæšä¸¾ + äºŒåˆ†"></a>æ–¹æ³•ä¸€ï¼šæšä¸¾ + äºŒåˆ†</h1><p>æˆ‘ä»¬å®šä¹‰ aï¼Œbï¼Œc éƒ½è‡³å°‘å‡ºç°è¿‡ä¸€æ¬¡çš„å­—ç¬¦ä¸²ä¸ºåˆæ³•çš„å­—ç¬¦ä¸²ï¼Œå¦åˆ™ä¸ºéæ³•çš„å­—ç¬¦ä¸²ã€‚</p><p>å¯ä»¥è§‚å¯Ÿåˆ°ä¸€ä¸ªæ€§è´¨ï¼š<strong>ä»ä¸‹æ ‡ i å¼€å§‹çš„æ‰€æœ‰å­ä¸²ï¼Œæˆ‘ä»¬æŒ‰é¡ºåºä»å‰åˆ°åè€ƒè™‘ï¼Œä¸€å®šæ˜¯å‰éƒ¨åˆ†å‡éæ³•ï¼Œåéƒ¨åˆ†å‡åˆæ³•</strong> ï¼Œç®€å•æ¥è¯´ï¼Œå‡è®¾ <em>[i,j]</em> çš„å­ä¸²å·²ç»åˆæ³•ï¼Œé‚£ä¹ˆ <em>[i,j+1]</em> å¿…ç„¶åˆæ³•ï¼Œå¦‚æœ <em>[i,j]</em> éæ³•ï¼Œé‚£ä¹ˆ <em>[i,j-1]</em> å¿…ç„¶éæ³•ï¼Œè¿™æ˜¯å¾ˆæ˜¾ç„¶çš„ã€‚</p><p>é€šè¿‡è¿™ä¸ªæ€§è´¨æˆ‘ä»¬çŸ¥é“å¯¹äºä¸‹æ ‡ <em>i</em> å¼€å§‹çš„æ‰€æœ‰å­ä¸²ï¼Œå®ƒçš„åˆæ³•æ€§æ˜¯éšä¸‹æ ‡å…·æœ‰å•è°ƒæ€§çš„ï¼ˆå¦‚æœæˆ‘ä»¬æŠŠéæ³•å­—ç¬¦ä¸²è®¾ä¸º 0 ï¼Œåˆæ³•å­—ç¬¦ä¸²è®¾ä¸º 1 ï¼Œé‚£ä¹ˆä»ä¸‹æ ‡ <em>i</em> å¼€å§‹çš„æ‰€æœ‰å­ä¸²ä¸€å®šæ˜¯ 000011 è¿™æ ·çš„å½¢å¼ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªåˆæ³•çš„å­ä¸²çš„ä¸‹æ ‡ <em>j</em> ï¼Œé‚£ä¹ˆä¸‹æ ‡ <em>i</em> å¼€å§‹çš„åˆæ³•å­ä¸²æ•°å°±æ˜¯ <em>len(s)-j+1</em> äº†ï¼Œæœ€åçš„ç­”æ¡ˆå°±æ˜¯ </p><p><a href="./p__sum_{i=1}^{len_s_}len_s_-j+1_.png">\sum_{i=1}^{len(s)}len(s)-j+1 </a> </p><p>äºŒåˆ†æŸ¥æ‰¾çš„æ—¶å€™éœ€è¦åˆ¤æ–­å­ä¸²æ˜¯å¦åˆæ³•ï¼Œä¸ºäº† <em>O(1)</em> åˆ¤æ–­ï¼Œæˆ‘ä»¬éœ€è¦é¢„å¤„ç†ä¸‰ä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°çš„å‰ç¼€å’Œæ•°ç»„ï¼Œåˆ¤æ–­çš„æ—¶å€™ç›´æ¥ <em>O(1)</em> å·®åˆ†æŸ¥ä¸€ä¸‹å­ä¸²é‡Œ aï¼Œbï¼Œc çš„ä¸ªæ•°å³å¯åˆ¤æ–­ã€‚</p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">    <span class="meta">#<span class="meta-keyword">define</span> N 50010</span></span><br><span class="line">    <span class="keyword">int</span> pre[<span class="number">3</span>][N];</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numberOfSubstrings</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len=(<span class="keyword">int</span>)s.length(),ans=<span class="number">0</span>;</span><br><span class="line">        pre[<span class="number">0</span>][<span class="number">0</span>]=pre[<span class="number">1</span>][<span class="number">0</span>]=pre[<span class="number">2</span>][<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;(<span class="keyword">int</span>)s.length();++i)&#123;<span class="comment">// é¢„å¤„ç†å‰ç¼€å’Œæ•°ç»„</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">3</span>;++j) pre[j][i+<span class="number">1</span>]=pre[j][i];</span><br><span class="line">            pre[s[i]-<span class="string">'a'</span>][i+<span class="number">1</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;++i)&#123;</span><br><span class="line">            <span class="keyword">int</span> l=i+<span class="number">1</span>,r=len,pos=<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">while</span> (l&lt;=r)&#123;</span><br><span class="line">                <span class="keyword">int</span> mid=l+((r-l)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (pre[<span class="number">0</span>][mid]-pre[<span class="number">0</span>][i]&gt;<span class="number">0</span> &amp;&amp; pre[<span class="number">1</span>][mid]-pre[<span class="number">1</span>][i]&gt;<span class="number">0</span> &amp;&amp; pre[<span class="number">2</span>][mid]-pre[<span class="number">2</span>][i]&gt;<span class="number">0</span>)&#123;<span class="comment">// éƒ½å¤§äº0è¯´æ˜a,b,cè‡³å°‘å‡ºç°è¿‡ä¸€æ¬¡ï¼Œå­ä¸²åˆæ³•</span></span><br><span class="line">                    r=mid<span class="number">-1</span>;</span><br><span class="line">                    pos=mid;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (~pos) ans+=len-pos+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šæšä¸¾æ¯ä¸ªä¸‹æ ‡éœ€è¦ <em>O(n)</em> çš„æ—¶é—´ï¼Œ<em>n=s.length</em> ï¼Œç»Ÿè®¡æ¯ä¸ªä¸‹æ ‡ä¸ºèµ·ç‚¹é‡Œé¢å¥—äº†ä¸€ä¸ªäºŒåˆ†éœ€è¦ <em>O(logn)</em>   çš„æ—¶é—´ï¼Œæ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦ä¸º <em>O(nlogn)</em> ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šä¸ºäº†äºŒåˆ†é‡Œé¢åˆ¤æ–­æ˜¯ä¸æ˜¯åˆæ³•å­ä¸²ï¼Œéœ€è¦é¢å¤–æä¾›ä¸€ä¸ªå‰ç¼€å’Œæ•°ç»„ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n)</em> ã€‚</li></ul><h1 id="æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆ"><a href="#æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆ" class="headerlink" title="æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆ"></a>æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆ</h1><p>é’ˆå¯¹ä¸Šé¢å‘ç°çš„æ€§è´¨è¿˜å¯ä»¥ç»§ç»­æ·±æŒ–ï¼Œ æˆ‘ä»¬å‡è®¾ä¸‹æ ‡ <em>i</em> å¼€å§‹ç¬¬ä¸€ä¸ªåˆæ³•çš„å­—ç¬¦ä¸²çš„æœ«å°¾ä¸‹æ ‡ä¸º <em>pos_i</em> ï¼Œåˆ™å¯ä»¥çŸ¥é“ï¼š</p><p><a href="./p__pos_1leq_pos_2_leq_cdots_leq_pos_{len_s_}_.png">pos_1\leqpos_2\leq\cdots\leqpos_{len(s)} </a> </p><p>è¿™è¯´æ˜äº† <em>pos_i</em> æ˜¯å•è°ƒä¸é™çš„ï¼Œå¦‚æœæˆ‘ä»¬å·²ç»å¾—å‡ºäº†ä¸‹æ ‡ <em>i</em> å¼€å§‹çš„ç¬¬ä¸€ä¸ªåˆæ³•å­—ç¬¦ä¸²æœ«å°¾çš„ä¸‹æ ‡ <em>pos_i</em> ï¼Œåˆ™è®¡ç®—ä¸‹æ ‡ <em>i+1</em> çš„ <em>pos_{i+1}</em> çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¤ç”¨ <em>[i+1,pos_i]</em> é‡Œçš„ä¿¡æ¯ï¼Œå³å½“å‰å­—ç¬¦ä¸²é‡Œaï¼Œbï¼Œcå‡ºç°çš„æ¬¡æ•°ï¼Œå†ä» <em>pos_i+1</em> å¼€å§‹å¾€åå»¶ä¼¸æ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„ä¸‹æ ‡ï¼Œ è¿™å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„åŒæŒ‡é’ˆç®—æ³•ã€‚</p><p>ç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆ <em>l</em> å’Œ <em>r</em> ï¼Œä»¥åŠ <em>[l,r]</em> åŒºé—´å†… aï¼Œbï¼Œc å‡ºç°çš„æ¬¡æ•°ã€‚é’ˆå¯¹ <em>l</em> æ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„ <em>r</em> ä»¥åæŠŠç­”æ¡ˆåŠ ä¸Š <em>len(s)-r</em> ï¼Œç„¶åæŠŠ <em>l</em> åŠ ä¸€ï¼Œå‡å» <em>s[l]</em> å­—ç¬¦çš„è´¡çŒ®ï¼Œå¾—å‡º <em>[l+1,r]</em> é‡Œ aï¼Œbï¼Œc å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åå†ä¸æ–­å»¶ä¼¸ <em>r</em> æ‰¾ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„åˆæ³•å­—ç¬¦ä¸²å³å¯ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é’ˆå¯¹æ¯ä¸€ä¸ªä¸‹æ ‡æ‰¾åˆ°å¯¹åº”çš„ <em>pos_i</em> ï¼Œæœ€åçš„ç­”æ¡ˆå°±æ˜¯</p><p><a href="./p__sum_{i=0}^{len_s_-1}len_s_-pos_i_.png">\sum_{i=0}^{len(s)-1}len(s)-pos_i </a> </p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> cnt[<span class="number">3</span>];</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numberOfSubstrings</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len=(<span class="keyword">int</span>)s.length(),ans=<span class="number">0</span>;</span><br><span class="line">        cnt[<span class="number">0</span>]=cnt[<span class="number">1</span>]=cnt[<span class="number">2</span>]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> l=<span class="number">0</span>,r=<span class="number">-1</span>;l&lt;len;)&#123;</span><br><span class="line">            <span class="keyword">while</span> (r&lt;len &amp;&amp; !(cnt[<span class="number">0</span>]&gt;=<span class="number">1</span> &amp;&amp; cnt[<span class="number">1</span>]&gt;=<span class="number">1</span> &amp;&amp; cnt[<span class="number">2</span>]&gt;=<span class="number">1</span>))&#123;</span><br><span class="line">                <span class="keyword">if</span> (++r==len) <span class="keyword">break</span>;</span><br><span class="line">                cnt[s[r]-<span class="string">'a'</span>]++;</span><br><span class="line">            &#125;</span><br><span class="line">            ans+=len-r;</span><br><span class="line">            cnt[s[l++]-<span class="string">'a'</span>]--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numberOfSubstrings</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> answer = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span>[] count = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> end = <span class="number">0</span>; end &lt; s.length(); end++) &#123;</span><br><span class="line">            count[s.charAt(end) - <span class="string">'a'</span>]++;</span><br><span class="line">            <span class="keyword">while</span> (count[<span class="number">0</span>] &gt;= <span class="number">1</span> &amp;&amp; count[<span class="number">1</span>] &gt;= <span class="number">1</span> &amp;&amp; count[<span class="number">2</span>] &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">                answer += s.length() - end;</span><br><span class="line">                count[s.charAt(start) - <span class="string">'a'</span>]--;</span><br><span class="line">                start++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> answer;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šä¸¤ä¸ªæŒ‡é’ˆå„ç§»åŠ¨äº† <em>n</em> æ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em> ï¼Œ<em>n=s.length</em> ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šåªéœ€è¦å¸¸æ•°çš„ç©ºé—´è®°å½•å½“å‰ä¸‰ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸º <em>O(1)</em> ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œå®ƒåªåŒ…å«ä¸‰ç§å­—ç¬¦ a, b å’Œ c ã€‚&lt;/p&gt;
&lt;p&gt;è¯·ä½ è¿”å› aï¼Œb å’Œ c éƒ½ è‡³å°‘ å‡ºç°è¿‡ä¸€æ¬¡çš„å­å­—ç¬¦ä¸²æ•°ç›®ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
      <category term="Sliding Window" scheme="http://yoursite.com/tags/Sliding-Window/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
  </entry>
  
  <entry>
    <title>1297. å­ä¸²çš„æœ€å¤§å‡ºç°æ¬¡æ•°</title>
    <link href="http://yoursite.com/2021/11/16/1297.%20%E5%AD%90%E4%B8%B2%E7%9A%84%E6%9C%80%E5%A4%A7%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0/"/>
    <id>http://yoursite.com/2021/11/16/1297. å­ä¸²çš„æœ€å¤§å‡ºç°æ¬¡æ•°/</id>
    <published>2021-11-16T03:12:12.000Z</published>
    <updated>2021-11-16T10:51:37.414Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ è¿”å›æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ä¸”å‡ºç°æ¬¡æ•°æœ€å¤§çš„ ä»»æ„ å­ä¸²çš„å‡ºç°æ¬¡æ•°ï¼š</p><a id="more"></a><p>[TOC]</p><p>å­ä¸²ä¸­ä¸åŒå­—æ¯çš„æ•°ç›®å¿…é¡»å°äºç­‰äº maxLetters ã€‚<br>å­ä¸²çš„é•¿åº¦å¿…é¡»å¤§äºç­‰äº minSize ä¸”å°äºç­‰äº maxSize ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;aababcaab&quot;, maxLetters = 2, minSize = 3, maxSize = 4è¾“å‡ºï¼š2è§£é‡Šï¼šå­ä¸² &quot;aab&quot; åœ¨åŸå­—ç¬¦ä¸²ä¸­å‡ºç°äº† 2 æ¬¡ã€‚å®ƒæ»¡è¶³æ‰€æœ‰çš„è¦æ±‚ï¼š2 ä¸ªä¸åŒçš„å­—æ¯ï¼Œé•¿åº¦ä¸º 3 ï¼ˆåœ¨ minSize å’Œ maxSize èŒƒå›´å†…ï¼‰ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;aaaa&quot;, maxLetters = 1, minSize = 3, maxSize = 3è¾“å‡ºï¼š2è§£é‡Šï¼šå­ä¸² &quot;aaa&quot; åœ¨åŸå­—ç¬¦ä¸²ä¸­å‡ºç°äº† 2 æ¬¡ï¼Œä¸”å®ƒä»¬æœ‰é‡å éƒ¨åˆ†ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;aabcabcab&quot;, maxLetters = 2, minSize = 2, maxSize = 3è¾“å‡ºï¼š3</code></pre><p>ç¤ºä¾‹ 4ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;abcde&quot;, maxLetters = 2, minSize = 3, maxSize = 3è¾“å‡ºï¼š0</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= s.length &lt;= 10^51 &lt;= maxLetters &lt;= 261 &lt;= minSize &lt;= maxSize &lt;= min(26, s.length)s åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šæšä¸¾"><a href="#æ–¹æ³•ä¸€ï¼šæšä¸¾" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæšä¸¾"></a>æ–¹æ³•ä¸€ï¼šæšä¸¾</h1><p>ç”±äº <code>minSize</code> å’Œ <code>maxSize</code> éƒ½ä¸è¶…è¿‡ <code>26</code>ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æšä¸¾æ‰€æœ‰é•¿åº¦åœ¨ <code>minSize</code> ä¸ <code>maxSize</code> ä¹‹é—´çš„å­—ç¬¦ä¸²ï¼Œé€‰å‡ºå…¶ä¸­å­—æ¯æ•°é‡å°äºç­‰äºçš„ <code>maxLetters</code> çš„å­—ç¬¦ä¸²å¹¶è¿›è¡Œé¢‘æ•°ç»Ÿè®¡ã€‚</p><p>å…·ä½“åœ°ï¼Œæˆ‘ä»¬é¦–å…ˆé€’å¢åœ°æšä¸¾å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½® <code>i</code> ä»¥åŠç»“æŸä½ç½® <code>j</code>ã€‚å¯¹äº <code>(i, j)</code> å¯¹åº”çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªé›†åˆ <code>exist</code> å­˜æ”¾å…¶ä¸­å‡ºç°çš„å­—æ¯ï¼Œå¹¶åœ¨é€’å¢åœ°æšä¸¾ <code>j</code> æ—¶ï¼Œå°†å¯¹åº”ä½ç½®çš„å­—æ¯ä¾æ¬¡åŠ å…¥é›†åˆ <code>exist</code> ä¸­ã€‚è‹¥é›†åˆä¸­çš„å­—æ¯æ•°é‡ä¸è¶…è¿‡ <code>maxLetters</code>ï¼Œå¹¶ä¸”å­—ç¬¦ä¸²çš„é•¿åº¦åœ¨ <code>minSize</code> ä¸ <code>maxSize</code> ä¹‹é—´ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ‰¾åˆ°äº†ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ä¸²ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ— åºæ˜ å°„ï¼ˆHashMapï¼‰å­˜æ”¾æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ä¸²ã€‚å¯¹äºæ— åºæ˜ å°„ä¸­çš„æ¯ä¸ªé”®å€¼å¯¹ï¼Œé”®è¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œå€¼è¡¨ç¤ºè¯¥å­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°ã€‚åœ¨æšä¸¾å®Œæ‰€æœ‰çš„å­—ç¬¦ä¸²åï¼Œæ— åºæ˜ å°„ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„é‚£ä¸ªå­—ç¬¦ä¸²å³ä¸ºç­”æ¡ˆã€‚</p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxFreq</span><span class="params">(<span class="built_in">string</span> s, <span class="keyword">int</span> maxLetters, <span class="keyword">int</span> minSize, <span class="keyword">int</span> maxSize)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = s.size();</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; occ;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="built_in">unordered_set</span>&lt;<span class="keyword">char</span>&gt; exist;</span><br><span class="line">            <span class="built_in">string</span> cur;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; min(n, i + maxSize); ++j) &#123;</span><br><span class="line">                exist.insert(s[j]);</span><br><span class="line">                <span class="keyword">if</span> (exist.size() &gt; maxLetters) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                cur += s[j];</span><br><span class="line">                <span class="keyword">if</span> (j - i + <span class="number">1</span> &gt;= minSize) &#123;</span><br><span class="line">                    ++occ[cur];</span><br><span class="line">                    ans = max(ans, occ[cur]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxFreq</span><span class="params">(self, s: str, maxLetters: int, minSize: int, maxSize: int)</span> -&gt; int:</span></span><br><span class="line">        n = len(s)</span><br><span class="line">        occ = collections.defaultdict(int)</span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            exist = set()</span><br><span class="line">            cur = <span class="string">""</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(i, min(n, i + maxSize)):</span><br><span class="line">                exist.add(s[j])</span><br><span class="line">                <span class="keyword">if</span> len(exist) &gt; maxLetters:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                cur += s[j]</span><br><span class="line">                <span class="keyword">if</span> j - i + <span class="number">1</span> &gt;= minSize:</span><br><span class="line">                    occ[cur] += <span class="number">1</span></span><br><span class="line">                    ans = max(ans, occ[cur])</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>æˆ‘çš„Java(è¶…å‡ºå†…å­˜é™åˆ¶)</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxFreq</span><span class="params">(String s, <span class="keyword">int</span> maxLetters, <span class="keyword">int</span> minSize, <span class="keyword">int</span> maxSize)</span> </span>&#123;</span><br><span class="line">        CounterChar counterChar = <span class="keyword">new</span> CounterChar();</span><br><span class="line">        CounterString counterString = <span class="keyword">new</span> CounterString();</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (counterChar.size() &lt;= maxLetters &amp;&amp; i - left + <span class="number">1</span> &lt;= maxSize) &#123;</span><br><span class="line">                counterChar.add(s.charAt(i), <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (counterChar.size() &gt; maxLetters) &#123;</span><br><span class="line">                counterChar.add(s.charAt(left), -<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (counterChar.get(s.charAt(left)) == <span class="number">0</span>) &#123;</span><br><span class="line">                    counterChar.remove(s.charAt(left));</span><br><span class="line">                &#125;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = left; j &lt;= i - minSize + <span class="number">1</span>; j++) &#123;</span><br><span class="line">                counterString.add(s.substring(j, i + <span class="number">1</span>), <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> counterString.maxFre();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CounterChar</span> <span class="keyword">extends</span> <span class="title">HashMap</span>&lt;<span class="title">Character</span>, <span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(Character c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> containsKey(c) ? <span class="keyword">super</span>.get(c) : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Character c,<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        put(c, get(c) + v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CounterString</span> <span class="keyword">extends</span> <span class="title">HashMap</span>&lt;<span class="title">String</span>, <span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(String c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> containsKey(c) ? <span class="keyword">super</span>.get(c) : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(String c,<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        put(c, get(c) + v);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxFre</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> maxfre = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(String s: keySet())&#123;</span><br><span class="line">            maxfre = Math.max(maxfre, <span class="keyword">super</span>.get(s));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxfre;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMaxString</span><span class="params">(<span class="keyword">int</span> maxfre)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (String s : keySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">super</span>.get(s) == maxfre) &#123;</span><br><span class="line">                <span class="keyword">return</span> s;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java(é€šè¿‡)</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxFreq</span><span class="params">(String s, <span class="keyword">int</span> maxLetters, <span class="keyword">int</span> minSize, <span class="keyword">int</span> maxSize)</span> </span>&#123;</span><br><span class="line">        CounterString counterString = <span class="keyword">new</span> CounterString();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            CounterChar counterChar = <span class="keyword">new</span> CounterChar();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; Math.min(s.length(), i + maxSize); j++) &#123;</span><br><span class="line">                counterChar.add(s.charAt(j), <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (counterChar.size() &gt; maxLetters) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (j - i + <span class="number">1</span> &gt;= minSize) &#123;</span><br><span class="line">                    counterString.add(s.substring(i, j + <span class="number">1</span>), <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> counterString.maxFre();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CounterChar</span> <span class="keyword">extends</span> <span class="title">HashMap</span>&lt;<span class="title">Character</span>, <span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(Character c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> containsKey(c) ? <span class="keyword">super</span>.get(c) : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Character c,<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        put(c, get(c) + v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CounterString</span> <span class="keyword">extends</span> <span class="title">HashMap</span>&lt;<span class="title">String</span>, <span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(String c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> containsKey(c) ? <span class="keyword">super</span>.get(c) : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(String c,<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        put(c, get(c) + v);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxFre</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> maxfre = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(String s: keySet())&#123;</span><br><span class="line">            maxfre = Math.max(maxfre, <span class="keyword">super</span>.get(s));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxfre;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMaxString</span><span class="params">(<span class="keyword">int</span> maxfre)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (String s : keySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">super</span>.get(s) == maxfre) &#123;</span><br><span class="line">                <span class="keyword">return</span> s;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(NS^2)*ï¼Œå…¶ä¸­ *N</em> æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œ<em>S</em> æ˜¯ <code>minSize</code> å’Œ <code>maxSize</code> çš„æ•°é‡çº§ï¼Œåœ¨æœ¬é¢˜ä¸­ä¸º <code>26</code>ã€‚æšä¸¾ <em>i</em> çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(N)*ï¼Œæšä¸¾ *j</em> çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(S)</em>ï¼Œåœ¨è¿™ä¹‹åçš„æ“ä½œä¼šæœ‰ä¸¤ç§æƒ…å†µï¼š</p><ul><li><p>è¯¥è¯­è¨€çš„å­—ç¬¦ä¸²ç±»å‹å…è®¸å¯¹å­—ç¬¦ä¸²è¿›è¡Œä¿®æ”¹ï¼Œä¾‹å¦‚ <code>C++</code>ã€‚é‚£ä¹ˆå½“ <code>i</code> å›ºå®šæ—¶ï¼Œéšç€ <code>j</code> çš„å¢åŠ ï¼Œå¾—åˆ° <code>(i, j)</code> å¯¹åº”å­—ç¬¦ä¸²çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(1)*ï¼Œå³åªè¦åœ¨ç»“æŸä½ç½®ä¸º <code>j - 1</code> çš„å­—ç¬¦ä¸²ç»“å°¾æ·»åŠ ä¸€ä¸ªå­—æ¯ï¼Œä½†æˆ‘ä»¬éœ€è¦ *O(S)</em> çš„æ—¶é—´å°†ä¸€ä¸ªå­—ç¬¦ä¸²æ— åºæ˜ å°„ä¸­ï¼Œè¿™æ˜¯å› ä¸ºæ— åºæ˜ å°„ä¸­ä¿å­˜çš„æ˜¯å­—ç¬¦ä¸²çš„å€¼ï¼›</p></li><li><p>è¯¥è¯­è¨€çš„å­—ç¬¦ä¸²ç±»å‹ä¸å…è®¸å¯¹å­—ç¬¦ä¸²è¿›è¡Œä¿®æ”¹ï¼Œä¾‹å¦‚ <code>Java</code> å’Œ <code>Python</code>ã€‚é‚£ä¹ˆå½“ <code>i</code> å›ºå®šæ—¶ï¼Œéšç€ <code>j</code> çš„å¢åŠ ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½éœ€è¦ <em>O(S)</em> çš„æ—¶é—´å¾—åˆ° <code>(i, j)</code> å¯¹åº”çš„å­—ç¬¦ä¸²ï¼Œä½†åªéœ€è¦ <em>O(1)</em> çš„æ—¶é—´å°†ä¸€ä¸ªå­—ç¬¦ä¸²åŠ å…¥æ— åºæ˜ å°„ä¸­ï¼Œè¿™æ˜¯å› ä¸ºæ— åºæ˜ å°„ä¸­ä¿å­˜çš„æ˜¯å­—ç¬¦ä¸²çš„å¼•ç”¨ã€‚</p></li></ul><p>åŒæ—¶ï¼Œç”±äºæ— åºæ˜ å°„çš„åº•å±‚å®ç°æœ¬è´¨ä¸Šæ˜¯å“ˆå¸Œç®—æ³•ï¼Œå› æ­¤æ— è®ºæ˜¯å“ªä¸€ç§æƒ…å†µï¼ˆä¿å­˜å­—ç¬¦ä¸²çš„å€¼æˆ–å¼•ç”¨ï¼‰ï¼Œåœ¨å°†å­—ç¬¦ä¸²åŠ å…¥æ— åºæ˜ å°„æ—¶ï¼Œéƒ½éœ€è¦èŠ±è´¹ä¸€å®šçš„æ—¶é—´è®¡ç®—å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼ã€‚ä¸åŒçš„è¯­è¨€è®¡ç®—å­—ç¬¦ä¸²å“ˆå¸Œå€¼çš„æ–¹æ³•ä¸åŒï¼Œä½†æ—¶é—´å¤æ‚åº¦å‡ä¸º <em>O(S)*ï¼Œä¸å­—ç¬¦ä¸²çš„é•¿åº¦æˆæ­£æ¯”ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œå¯¹äºæ¯ä¸€ç»„ <code>(i, j)</code> å¯¹åº”çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬éœ€è¦ *O(S)</em> çš„æ—¶é—´è¿›è¡Œç›¸å…³çš„æ“ä½œï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸º <em>O(NS^2)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(NS^2)</em>ã€‚æˆ‘ä»¬éœ€è¦æšä¸¾æ‰€æœ‰é•¿åº¦åœ¨ <code>minSize</code> ä¸ <code>maxSize</code> ä¹‹é—´çš„å­—ç¬¦ä¸²ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œè¿™äº›å­—ç¬¦ä¸²å‡æ»¡è¶³æ¡ä»¶ä¸”å‡ ä¹ä¸ç›¸åŒï¼ˆå³å¤§éƒ¨åˆ†å­—ç¬¦ä¸²ä»…å‡ºç°ä¸€æ¬¡ï¼‰ã€‚æ­¤æ—¶æ— åºæ˜ å°„ä¸­éœ€è¦å­˜å‚¨æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œæ•°é‡ä¸º <em>O(NS)</em>ï¼Œè€Œå­—ç¬¦ä¸²çš„é•¿åº¦ä¸º <em>O(S)</em>ï¼Œå› æ­¤æ€»ç©ºé—´å¤æ‚åº¦ä¸º <em>O(NS^2)</em>ã€‚</p></li></ul><h1 id="æ–¹æ³•äºŒï¼šå¯è¡Œæ€§ä¼˜åŒ–"><a href="#æ–¹æ³•äºŒï¼šå¯è¡Œæ€§ä¼˜åŒ–" class="headerlink" title="æ–¹æ³•äºŒï¼šå¯è¡Œæ€§ä¼˜åŒ–"></a>æ–¹æ³•äºŒï¼šå¯è¡Œæ€§ä¼˜åŒ–</h1><p>æ–¹æ³•ä¸€çš„æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼Œä¸Šæ–‡ç»™å‡ºçš„ä»£ç åˆšå¥½å¯ä»¥åœ¨è§„å®šæ—¶é—´å†…é€šè¿‡æ‰€æœ‰æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯ä»¥è¿›è¡Œä¸€äº›ä¼˜åŒ–å‘¢ï¼Ÿ</p><p>å‡è®¾å­—ç¬¦ä¸² <code>T</code> åœ¨ç»™å®šçš„å­—ç¬¦ä¸² <code>S</code> ä¸­å‡ºç°çš„æ¬¡æ•°ä¸º <code>k</code>ï¼Œé‚£ä¹ˆ <code>T</code> çš„ä»»æ„ä¸€ä¸ªå­ä¸²å‡ºç°çš„æ¬¡æ•°è‡³å°‘ä¹Ÿä¸º <code>k</code>ï¼Œå³ <code>T</code> çš„ä»»æ„ä¸€ä¸ªå­ä¸²åœ¨ <code>S</code> ä¸­å‡ºç°çš„æ¬¡æ•°ä¸ä¼šå°‘äº <code>T</code> æœ¬èº«ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ–­å®šï¼Œåœ¨æ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”å‡ºç°æ¬¡æ•°æœ€å¤šçš„çš„å­—ç¬¦ä¸²ä¸­ï¼Œä¸€å®šæœ‰ä¸€ä¸ªçš„é•¿åº¦æ°å¥½ä¸º <code>minSize</code>ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åè¯æ³•è¯æ˜ä¸Šè¿°çš„ç»“è®ºï¼šå‡è®¾æ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦ä¸²ä¸­æ²¡æœ‰é•¿åº¦ä¸º <code>minSize</code> çš„ï¼Œä¸å¦¨ä»»å–å…¶ä¸­çš„ä¸€ä¸ªé•¿åº¦ä¸º <code>l</code> çš„å­—ç¬¦ä¸²ï¼Œæ ¹æ®å‡è®¾ï¼Œæœ‰ <code>l &gt; minSize</code>ã€‚æ­¤æ—¶æˆ‘ä»¬å†ä»»å–è¯¥å­—ç¬¦ä¸²çš„ä¸€ä¸ªé•¿åº¦ä¸º <code>minSize</code> çš„å­ä¸²ï¼Œå­ä¸²å‡ºç°çš„æ¬¡æ•°ä¸ä¼šå°‘äºåŸå­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°ï¼Œä¸å‡è®¾ç›¸çŸ›ç›¾ã€‚</p><p>è¿™æ ·ä»¥æ¥ï¼Œæˆ‘ä»¬åªéœ€è¦æšä¸¾æ‰€æœ‰é•¿åº¦ä¸º <code>minSize</code> çš„å­—ç¬¦ä¸²å³å¯ï¼Œæ—¶ç©ºå¤æ‚åº¦å‡å‡å°‘äº† <em>O(S)</em>ã€‚</p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxFreq</span><span class="params">(<span class="built_in">string</span> s, <span class="keyword">int</span> maxLetters, <span class="keyword">int</span> minSize, <span class="keyword">int</span> maxSize)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = s.size();</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; occ;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n - minSize + <span class="number">1</span>; ++i) &#123;</span><br><span class="line">            <span class="built_in">string</span> cur = s.substr(i, minSize);</span><br><span class="line">            <span class="built_in">unordered_set</span>&lt;<span class="keyword">char</span>&gt; exist(cur.begin(), cur.end());</span><br><span class="line">            <span class="keyword">if</span> (exist.size() &lt;= maxLetters) &#123;</span><br><span class="line">                <span class="built_in">string</span> cur = s.substr(i, minSize);</span><br><span class="line">                ++occ[cur];</span><br><span class="line">                ans = max(ans, occ[cur]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxFreq</span><span class="params">(self, s: str, maxLetters: int, minSize: int, maxSize: int)</span> -&gt; int:</span></span><br><span class="line">        n = len(s)</span><br><span class="line">        occ = collections.defaultdict(int)</span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n - minSize + <span class="number">1</span>):</span><br><span class="line">            cur = s[i : i + minSize]</span><br><span class="line">            exist = set(cur)</span><br><span class="line">            <span class="keyword">if</span> len(exist) &lt;= maxLetters:</span><br><span class="line">                occ[cur] += <span class="number">1</span></span><br><span class="line">                ans = max(ans, occ[cur])</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxFreq</span><span class="params">(String s, <span class="keyword">int</span> maxLetters, <span class="keyword">int</span> minSize, <span class="keyword">int</span> maxSize)</span> </span>&#123;</span><br><span class="line">        CounterString counterString = <span class="keyword">new</span> CounterString();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length() - minSize + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            CounterChar counterChar = <span class="keyword">new</span> CounterChar();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; i + minSize; j++) &#123;</span><br><span class="line">                counterChar.add(s.charAt(j), <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (counterChar.size() &lt;= maxLetters) &#123;</span><br><span class="line">                counterString.add(s.substring(i, i + minSize), <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> counterString.maxFre();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CounterChar</span> <span class="keyword">extends</span> <span class="title">HashMap</span>&lt;<span class="title">Character</span>, <span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(Character c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> containsKey(c) ? <span class="keyword">super</span>.get(c) : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Character c,<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        put(c, get(c) + v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CounterString</span> <span class="keyword">extends</span> <span class="title">HashMap</span>&lt;<span class="title">String</span>, <span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(String c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> containsKey(c) ? <span class="keyword">super</span>.get(c) : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(String c,<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        put(c, get(c) + v);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxFre</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> maxfre = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(String s: keySet())&#123;</span><br><span class="line">            maxfre = Math.max(maxfre, <span class="keyword">super</span>.get(s));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxfre;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMaxString</span><span class="params">(<span class="keyword">int</span> maxfre)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (String s : keySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">super</span>.get(s) == maxfre) &#123;</span><br><span class="line">                <span class="keyword">return</span> s;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(NS)*ï¼Œå…¶ä¸­ *N</em> æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œ<em>S</em> æ˜¯ <code>minSize</code> å’Œ <code>maxSize</code> çš„æ•°é‡çº§ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(NS)</em>ã€‚</p></li></ul><h1 id="æ–¹æ³•ä¸‰ï¼šæ»šåŠ¨å“ˆå¸Œ"><a href="#æ–¹æ³•ä¸‰ï¼šæ»šåŠ¨å“ˆå¸Œ" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šæ»šåŠ¨å“ˆå¸Œ"></a>æ–¹æ³•ä¸‰ï¼šæ»šåŠ¨å“ˆå¸Œ</h1><p><strong>è¯´æ˜</strong></p><p>æ–¹æ³•äºŒçš„æ—¶ç©ºå¤æ‚åº¦å·²ç»è¾ƒä¸ºä¼˜ç§€ï¼Œä¸”æ— è®ºåœ¨ç«èµ›è¿˜æ˜¯é¢è¯•ä¸­ï¼Œèƒ½å¤Ÿå°†æ–¹æ³•äºŒå®ç°éƒ½æ˜¯å€¼å¾—ç§°èµçš„ã€‚è€Œæ–¹æ³•ä¸‰å¯ä»¥å¿½ç•¥é¢˜ç›®ä¸­ <code>1 &lt;= minSize &lt;= maxSize &lt;= min(26, s.length)</code> çš„æ¡ä»¶ï¼Œåœ¨ <code>minSize</code> å’Œ <code>maxSize</code> ä¸ºä»»æ„å€¼çš„æƒ…å†µä¸‹ï¼Œå‡å¯ä»¥åœ¨åˆç†çš„æ—¶é—´å¾—åˆ°ç­”æ¡ˆã€‚</p><p>æ–¹æ³•ä¸‰éœ€è¦ä¸€äº›å…³äºã€Œæ»šåŠ¨å“ˆå¸Œã€æˆ–ã€ŒRabin-Karp ç®—æ³•ã€çš„é¢„å¤‡çŸ¥è¯†ï¼Œå…¶æ ¸å¿ƒæ˜¯å°†å­—ç¬¦ä¸²çœ‹æˆä¸€ä¸ª <code>k</code> è¿›åˆ¶çš„æ•´æ•°ï¼Œå…¶ä¸­ <code>k</code> æ˜¯å­—ç¬¦ä¸²ä¸­å¯èƒ½å‡ºç°çš„å­—ç¬¦ç§ç±»ï¼Œæœ¬é¢˜ä¸­å­—ç¬¦ä¸²åªåŒ…å«å°å†™å­—æ¯ï¼Œå³ <code>k = 26</code>ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ç»•å¼€äº†å­—ç¬¦ä¸²æ“ä½œï¼Œå°†å­—ç¬¦ä¸²çœ‹æˆæ•´æ•°è¿›è¡Œæ¯”è¾ƒï¼Œä½¿å¾—æ— è®ºè¯­è¨€çš„å­—ç¬¦ä¸²ç±»å‹æ˜¯å¦å…è®¸å¯¹å­—ç¬¦ä¸²è¿›è¡Œä¿®æ”¹ï¼Œéƒ½å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…å°†å­—ç¬¦ä¸²åŠ å…¥æ— åºæ˜ å°„ä¸­ã€‚</p><p>å…³äºã€Œæ»šåŠ¨å“ˆå¸Œã€æˆ–ã€ŒRabin-Karp ç®—æ³•ã€çš„çŸ¥è¯†ï¼Œå¯ä»¥å‚è€ƒ <a href="https://leetcode-cn.com/problems/longest-duplicate-substring/solution/zui-chang-zhong-fu-zi-chuan-by-leetcode/" target="_blank" rel="noopener">1044. æœ€é•¿é‡å¤å­ä¸²çš„å®˜æ–¹é¢˜è§£</a> æˆ–ä½¿ç”¨æœç´¢å¼•æ“ï¼Œè¿™é‡Œå¯¹ç®—æ³•æœ¬èº«çš„æµç¨‹ä¸å†èµ˜è¿°ã€‚</p><p><strong>ä½¿ç”¨æ»šåŠ¨å“ˆå¸Œ</strong></p><p>æˆ‘ä»¬åœ¨æ–¹æ³•äºŒçš„åŸºç¡€ä¸Šè¿›è¡Œä¼˜åŒ–ï¼Œåœ¨æšä¸¾é•¿åº¦ä¸º <code>minSize</code> çš„å­ä¸²æ—¶ï¼Œä½¿ç”¨ä¸€ä¸ªé•¿åº¦ä¸º <code>minSize</code> çš„æ»‘åŠ¨çª—å£è¡¨ç¤ºå½“å‰çš„å­ä¸²ã€‚è¿™æ ·åœ¨çª—å£å‘å³æ»‘åŠ¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Rabin-Karp ç®—æ³•åœ¨ <em>O(1)</em> çš„æ—¶é—´è®¡ç®—å‡ºå­ä¸²å¯¹åº”çš„æ•´æ•°å€¼ã€‚</p><p>åŒæ—¶æˆ‘ä»¬ä¹Ÿéœ€è¦ä¼˜åŒ–ç»´æŠ¤ <code>exist</code> çš„æ—¶é—´æˆæœ¬ã€‚åœ¨æ–¹æ³•ä¸€å’Œæ–¹æ³•äºŒä¸­ï¼Œç”±äºå¾—åˆ°ä¸€ä¸ªå­ä¸²éœ€è¦ <em>O(S)</em> çš„æ—¶é—´ï¼Œè€Œé€šè¿‡å°†å­ä¸²ä¸­çš„å­—æ¯ä¾æ¬¡åŠ å…¥ <code>exist</code> ä¸­æ¥åˆ¤æ–­ä¸åŒå­—æ¯æ•°ç›®çš„åšæ³•åŒæ ·éœ€è¦ <em>O(S)</em> çš„æ—¶é—´ï¼Œä¸¤è€…çš„æ—¶é—´å¤æ‚åº¦ç›¸åŠ ï¼Œä»ç„¶ä¸º <em>O(S)</em>ã€‚è€Œåœ¨æ–¹æ³•ä¸‰ä¸­ï¼Œç”±äºå¾—åˆ°ä¸€ä¸ªå­ä¸²éœ€è¦çš„æ—¶é—´å‡å°‘è‡³ <em>O(1)</em>ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å€ŸåŠ©æ»‘åŠ¨çª—å£ï¼Œå°†ç»´æŠ¤ <code>exist</code> éœ€è¦çš„æ—¶é—´å‡å°‘è‡³ <em>O(1)</em>ï¼Œæ‰èƒ½é™ä½æ€»æ—¶é—´å¤æ‚åº¦ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å°† <code>exist</code> ä»é›†åˆæ”¹ä¸ºæ— åºæ˜ å°„ï¼Œå¯¹äºå…¶ä¸­çš„æ¯ä¸ªé”®å€¼å¯¹ï¼Œé”®è¡¨ç¤ºå­—æ¯ï¼Œå€¼è¡¨ç¤ºå­—æ¯å‡ºç°çš„æ¬¡æ•°ã€‚å½“æ»‘åŠ¨çª—å£å‘å³æ»‘åŠ¨ä¸€ä¸ªå­—æ¯æ—¶ï¼Œå¤´éƒ¨çš„ä¸€ä¸ªå­—æ¯è¢«ç§»é™¤çª—å£ï¼Œå°¾éƒ¨çš„ä¸€ä¸ªå­—æ¯è¢«åŠ å…¥çª—å£ï¼Œåˆ™ï¼š</p><ul><li><p>å½“ä¸€ä¸ªå­—æ¯ <code>c</code> è¢«ç§»é™¤çª—å£æ—¶ï¼Œæˆ‘ä»¬å°† <code>c</code> å¯¹åº”çš„å€¼å‡ <code>1</code>ï¼Œå¦‚æœå€¼å˜ä¸º <code>0</code>ï¼Œè¯´æ˜å­ä¸²ä¸­ä¸åŒå­—æ¯çš„æ•°é‡ä¹Ÿå‡å°‘ <code>1</code>ï¼›</p></li><li><p>å½“ä¸€ä¸ªå­—æ¯ <code>c</code> è¢«åŠ å…¥çª—å£æ—¶ï¼Œæˆ‘ä»¬å°† <code>c</code> å¯¹åº”çš„å€¼åŠ  <code>1</code>ï¼Œå¦‚æœå€¼å˜ä¸º <code>1</code>ï¼Œè¯´æ˜å­ä¸²ä¸­ä¸åŒå­—æ¯çš„æ•°é‡ä¹Ÿå¢åŠ  <code>1</code>ã€‚</p></li></ul><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨æ»‘åŠ¨çª—å£å‘å³æ»‘åŠ¨ä¸€ä¸ªå­—æ¯æ—¶ï¼Œä½¿ç”¨ <em>O(1)</em> çš„æ—¶é—´åŒæ—¶å¾—åˆ°å­ä¸²å¯¹åº”çš„æ•´æ•°å€¼ä»¥åŠå…¶åŒ…å«ä¸åŒå­—ç¬¦çš„æ•°é‡ã€‚æ•´ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ <code>minSize</code> æ— å…³ã€‚</p><p><strong>æ³¨æ„äº‹é¡¹</strong></p><p>ç”±äº Rabin-Karp ç®—æ³•ä¼šå°†å­—ç¬¦ä¸²å¯¹åº”çš„æ•´æ•°å€¼è¿›è¡Œå–æ¨¡ï¼Œé‚£ä¹ˆï¼š</p><ul><li><p>å¦‚æœå­—ç¬¦ä¸² <code>S1</code> å’Œ <code>S2</code> å¯¹åº”çš„æ•´æ•°å€¼ <code>I1</code> å’Œ <code>I2</code> ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆ <code>S1</code> å’Œ <code>S2</code> ä¸€å®šä¸ç›¸ç­‰ï¼›</p></li><li><p>å¦‚æœå­—ç¬¦ä¸² <code>S1</code> å’Œ <code>S2</code> å¯¹åº”çš„æ•´æ•°å€¼ <code>I1</code> å’Œ <code>I2</code> ç›¸ç­‰ï¼Œå¹¶ä¸ä»£è¡¨ <code>S1</code> å’Œ <code>S2</code> ä¸€å®šç›¸ç­‰ï¼›</p></li></ul><p>è¿™ä¸å®é™…åº”ç”¨ä¸­ä½¿ç”¨çš„å“ˆå¸Œç®—æ³•ä¹Ÿæ˜¯ä¸€è‡´çš„ï¼Œå³å…ˆåˆ¤æ–­ä¸¤ä¸ªå®ä¾‹çš„å“ˆå¸Œå€¼æ˜¯å¦ç›¸ç­‰ï¼Œå†åˆ¤æ–­å®ƒä»¬æœ¬è´¨ä¸Šæ˜¯å¦ç›¸ç­‰ã€‚è€Œåœ¨ç«èµ›é¢˜ç›®ä¸­ï¼Œç”±äºæ•°æ®é‡è¾ƒå°‘ï¼Œå‡ ä¹ä¸ä¼šäº§ç”Ÿå“ˆå¸Œå†²çªï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨ <code>I1</code> å’Œ <code>I2</code> çš„ç›¸ç­‰ä»£æ›¿ <code>S1</code> å’Œ <code>S2</code> çš„ç›¸ç­‰ï¼Œå‡å°‘æ—¶é—´å¤æ‚åº¦ã€‚ä½†éœ€è¦ç‰¢è®°åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™æ ·åšæ˜¯ä¸ä¸¥è°¨çš„ã€‚</p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol3-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> LL = <span class="keyword">long</span> <span class="keyword">long</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">int</span> mod = <span class="number">1000000007</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxFreq</span><span class="params">(<span class="built_in">string</span> s, <span class="keyword">int</span> maxLetters, <span class="keyword">int</span> minSize, <span class="keyword">int</span> maxSize)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = s.size();</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; occ;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; exist;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>, exist_cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> rabin = <span class="number">0</span>, base = <span class="number">26</span>, base_mul = base;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; minSize - <span class="number">1</span>; ++i) &#123;</span><br><span class="line">            ++exist[s[i]];</span><br><span class="line">            <span class="keyword">if</span> (exist[s[i]] == <span class="number">1</span>) &#123;</span><br><span class="line">                ++exist_cnt;</span><br><span class="line">            &#125;</span><br><span class="line">            rabin = ((LL)rabin * base + (s[i] - <span class="number">97</span>)) % mod;</span><br><span class="line">            base_mul = (LL)base_mul * base % mod;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = minSize - <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            ++exist[s[i]];</span><br><span class="line">            <span class="keyword">if</span> (exist[s[i]] == <span class="number">1</span>) &#123;</span><br><span class="line">                ++exist_cnt;</span><br><span class="line">            &#125;</span><br><span class="line">            rabin = ((LL)rabin * base + (s[i] - <span class="number">97</span>)) % mod;</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= minSize) &#123;</span><br><span class="line">                --exist[s[i - minSize]];</span><br><span class="line">                <span class="keyword">if</span> (exist[s[i - minSize]] == <span class="number">0</span>) &#123;</span><br><span class="line">                    --exist_cnt;</span><br><span class="line">                &#125;</span><br><span class="line">                rabin = (rabin - (LL)base_mul * (s[i - minSize] - <span class="number">97</span>) % mod + mod) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (exist_cnt &lt;= maxLetters) &#123;</span><br><span class="line">                ++occ[rabin];</span><br><span class="line">                ans = max(ans, occ[rabin]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol3-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxFreq</span><span class="params">(self, s: str, maxLetters: int, minSize: int, maxSize: int)</span> -&gt; int:</span></span><br><span class="line">        n = len(s)</span><br><span class="line">        occ = collections.defaultdict(int)</span><br><span class="line">        exist = collections.defaultdict(int)</span><br><span class="line">        mod = <span class="number">1e9</span> + <span class="number">7</span></span><br><span class="line">        ans, exist_cnt = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        rabin, base, base_mul = <span class="number">0</span>, <span class="number">26</span>, <span class="number">26</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(minSize - <span class="number">1</span>):</span><br><span class="line">            exist[s[i]] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> exist[s[i]] == <span class="number">1</span>:</span><br><span class="line">                exist_cnt += <span class="number">1</span></span><br><span class="line">            rabin = (rabin * base + (ord(s[i]) - <span class="number">97</span>)) % mod</span><br><span class="line">            base_mul = base_mul * base % mod</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(minSize - <span class="number">1</span>, n):</span><br><span class="line">            exist[s[i]] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> exist[s[i]] == <span class="number">1</span>:</span><br><span class="line">                exist_cnt += <span class="number">1</span></span><br><span class="line">            rabin = (rabin * base + (ord(s[i]) - <span class="number">97</span>)) % mod</span><br><span class="line">            <span class="keyword">if</span> i &gt;= minSize:</span><br><span class="line">                exist[s[i - minSize]] -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> exist[s[i - minSize]] == <span class="number">0</span>:</span><br><span class="line">                    exist_cnt -= <span class="number">1</span></span><br><span class="line">                rabin = (rabin - base_mul * (ord(s[i - minSize]) - <span class="number">97</span>) % mod + mod) % mod</span><br><span class="line">            <span class="keyword">if</span> exist_cnt &lt;= maxLetters:</span><br><span class="line">                occ[rabin] += <span class="number">1</span></span><br><span class="line">                ans = max(ans, occ[rabin])</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em>ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ è¿”å›æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ä¸”å‡ºç°æ¬¡æ•°æœ€å¤§çš„ ä»»æ„ å­ä¸²çš„å‡ºç°æ¬¡æ•°ï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
      <category term="Sliding Window" scheme="http://yoursite.com/tags/Sliding-Window/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
  </entry>
  
  <entry>
    <title>1109. èˆªç­é¢„è®¢ç»Ÿè®¡</title>
    <link href="http://yoursite.com/2021/11/15/1109.%20%E8%88%AA%E7%8F%AD%E9%A2%84%E8%AE%A2%E7%BB%9F%E8%AE%A1/"/>
    <id>http://yoursite.com/2021/11/15/1109. èˆªç­é¢„è®¢ç»Ÿè®¡/</id>
    <published>2021-11-15T09:12:12.000Z</published>
    <updated>2021-11-16T10:48:19.465Z</updated>
    
    <content type="html"><![CDATA[<p>è¯·ä½ è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„answerï¼Œé‡Œé¢çš„å…ƒç´ æ˜¯æ¯ä¸ªèˆªç­é¢„å®šçš„åº§ä½æ€»æ•°ã€‚</p><a id="more"></a><p>[TOC]</p><p>è¿™é‡Œæœ‰ n ä¸ªèˆªç­ï¼Œå®ƒä»¬åˆ†åˆ«ä» 1 åˆ° n è¿›è¡Œç¼–å·ã€‚</p><p>æœ‰ä¸€ä»½èˆªç­é¢„è®¢è¡¨ bookings ï¼Œè¡¨ä¸­ç¬¬ i æ¡é¢„è®¢è®°å½• bookings[i] = [firsti, lasti, seatsi] æ„å‘³ç€åœ¨ä» firsti åˆ° lasti ï¼ˆåŒ…å« firsti å’Œ lasti ï¼‰çš„ æ¯ä¸ªèˆªç­ ä¸Šé¢„è®¢äº† seatsi ä¸ªåº§ä½ã€‚</p><p>è¯·ä½ è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„answerï¼Œé‡Œé¢çš„å…ƒç´ æ˜¯æ¯ä¸ªèˆªç­é¢„å®šçš„åº§ä½æ€»æ•°ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šbookings = [[1,2,10],[2,3,20],[2,5,25]], n = 5è¾“å‡ºï¼š[10,55,45,25,25]è§£é‡Šï¼šèˆªç­ç¼–å·        1   2   3   4   5é¢„è®¢è®°å½• 1 ï¼š   10  10é¢„è®¢è®°å½• 2 ï¼š       20  20é¢„è®¢è®°å½• 3 ï¼š       25  25  25  25æ€»åº§ä½æ•°ï¼š      10  55  45  25  25å› æ­¤ï¼Œanswer = [10,55,45,25,25]</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šbookings = [[1,2,10],[2,2,15]], n = 2è¾“å‡ºï¼š[10,25]è§£é‡Šï¼šèˆªç­ç¼–å·        1   2é¢„è®¢è®°å½• 1 ï¼š   10  10é¢„è®¢è®°å½• 2 ï¼š       15æ€»åº§ä½æ•°ï¼š      10  25å› æ­¤ï¼Œanswer = [10,25]</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= n &lt;= 2 * 1041 &lt;= bookings.length &lt;= 2 * 104bookings[i].length == 31 &lt;= firsti &lt;= lasti &lt;= n1 &lt;= seatsi &lt;= 104</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šå·®åˆ†"><a href="#æ–¹æ³•ä¸€ï¼šå·®åˆ†" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå·®åˆ†"></a>æ–¹æ³•ä¸€ï¼šå·®åˆ†</h1><p>æ³¨æ„åˆ°ä¸€ä¸ªé¢„è®¢è®°å½•å®é™…ä¸Šä»£è¡¨äº†ä¸€ä¸ªåŒºé—´çš„å¢é‡ã€‚æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯å°†è¿™äº›å¢é‡å åŠ å¾—åˆ°ç­”æ¡ˆã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å·®åˆ†è§£å†³æœ¬é¢˜ã€‚</p><p>å·®åˆ†æ•°ç»„å¯¹åº”çš„æ¦‚å¿µæ˜¯å‰ç¼€å’Œæ•°ç»„ï¼Œå¯¹äºæ•°ç»„ <em>[1,2,2,4]<em>ï¼Œå…¶å·®åˆ†æ•°ç»„ä¸º *[1,1,0,2]</em>ï¼Œå·®åˆ†æ•°ç»„çš„ç¬¬ *i</em> ä¸ªæ•°å³ä¸ºåŸæ•°ç»„çš„ç¬¬ <em>i-1</em> ä¸ªå…ƒç´ å’Œç¬¬ <em>i</em> ä¸ªå…ƒç´ çš„å·®å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯¹å·®åˆ†æ•°ç»„æ±‚å‰ç¼€å’Œå³å¯å¾—åˆ°åŸæ•°ç»„ã€‚</p><p>å·®åˆ†æ•°ç»„çš„æ€§è´¨æ˜¯ï¼Œå½“æˆ‘ä»¬å¸Œæœ›å¯¹åŸæ•°ç»„çš„æŸä¸€ä¸ªåŒºé—´ <em>[l,r]</em> æ–½åŠ ä¸€ä¸ªå¢é‡inc æ—¶ï¼Œå·®åˆ†æ•°ç»„ <em>d</em> å¯¹åº”çš„æ”¹å˜æ˜¯ï¼š<em>d[l]</em> å¢åŠ  inc ï¼Œ<em>d[r+1]</em> å‡å°‘inc ã€‚è¿™æ ·å¯¹äºåŒºé—´çš„ä¿®æ”¹å°±å˜ä¸ºäº†å¯¹äºä¸¤ä¸ªä½ç½®çš„ä¿®æ”¹ã€‚å¹¶ä¸”è¿™ç§ä¿®æ”¹æ˜¯å¯ä»¥å åŠ çš„ï¼Œå³å½“æˆ‘ä»¬å¤šæ¬¡å¯¹åŸæ•°ç»„çš„ä¸åŒåŒºé—´æ–½åŠ ä¸åŒçš„å¢é‡ï¼Œæˆ‘ä»¬åªè¦æŒ‰è§„åˆ™ä¿®æ”¹å·®åˆ†æ•°ç»„å³å¯ã€‚</p><p>åœ¨æœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥éå†ç»™å®šçš„é¢„å®šè®°å½•æ•°ç»„ï¼Œæ¯æ¬¡ <em>O(1)</em> åœ°å®Œæˆå¯¹å·®åˆ†æ•°ç»„çš„ä¿®æ”¹å³å¯ã€‚å½“æˆ‘ä»¬å®Œæˆäº†å·®åˆ†æ•°ç»„çš„ä¿®æ”¹ï¼Œåªéœ€è¦æœ€åæ±‚å‡ºå·®åˆ†æ•°ç»„çš„å‰ç¼€å’Œå³å¯å¾—åˆ°ç›®æ ‡æ•°ç»„ã€‚</p><p>æ³¨æ„æœ¬é¢˜ä¸­æ—¥æœŸä» <em>1</em> å¼€å§‹ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç›¸åº”çš„è°ƒæ•´æ•°ç»„ä¸‹æ ‡å¯¹åº”å…³ç³»ï¼Œå¯¹äºé¢„å®šè®°å½•booking=[l,r,inc] ï¼Œæˆ‘ä»¬éœ€è¦è®© <em>d[l-1]</em> å¢åŠ  inc ï¼Œ<em>d[r]</em> å‡å°‘inc ã€‚ç‰¹åˆ«åœ°ï¼Œå½“ <em>r</em> ä¸º <em>n</em> æ—¶ï¼Œæˆ‘ä»¬æ— éœ€ä¿®æ”¹ <em>d[r]</em>ï¼Œå› ä¸ºè¿™ä¸ªä½ç½®æº¢å‡ºäº†ä¸‹æ ‡èŒƒå›´ã€‚å¦‚æœæ±‚å‰ç¼€å’Œæ—¶è€ƒè™‘è¯¥ä½ç½®ï¼Œé‚£ä¹ˆè¯¥ä½ç½®å¯¹åº”çš„å‰ç¼€å’Œå€¼å¿…å®šä¸º <em>0</em>ã€‚è¯»è€…ä»¬å¯ä»¥è‡ªè¡Œæ€è€ƒåŸå› ï¼Œä»¥åŠ æ·±å¯¹å·®åˆ†æ•°ç»„çš„ç†è§£ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>cpp</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; corpFlightBookings(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; bookings, <span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums(n);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; booking : bookings) &#123;</span><br><span class="line">            nums[booking[<span class="number">0</span>] - <span class="number">1</span>] += booking[<span class="number">2</span>];</span><br><span class="line">            <span class="keyword">if</span> (booking[<span class="number">1</span>] &lt; n) &#123;</span><br><span class="line">                nums[booking[<span class="number">1</span>]] -= booking[<span class="number">2</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            nums[i] += nums[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] corpFlightBookings(<span class="keyword">int</span>[][] bookings, <span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] booking : bookings) &#123;</span><br><span class="line">            nums[booking[<span class="number">0</span>] - <span class="number">1</span>] += booking[<span class="number">2</span>];</span><br><span class="line">            <span class="keyword">if</span> (booking[<span class="number">1</span>] &lt; n) &#123;</span><br><span class="line">                nums[booking[<span class="number">1</span>]] -= booking[<span class="number">2</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            nums[i] += nums[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int[] CorpFlightBookings(int[][] bookings, int n) &#123;</span><br><span class="line">        int[] nums = new int[n];</span><br><span class="line">        foreach (int[] booking in bookings) &#123;</span><br><span class="line">            nums[booking[0] - 1] += booking[2];</span><br><span class="line">            if (booking[1] &lt; n) &#123;</span><br><span class="line">                nums[booking[1]] -= booking[2];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        for (int i = 1; i &lt; n; i++) &#123;</span><br><span class="line">            nums[i] += nums[i - 1];</span><br><span class="line">        &#125;</span><br><span class="line">        return nums;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span>* <span class="title">corpFlightBookings</span><span class="params">(<span class="keyword">int</span>** bookings, <span class="keyword">int</span> bookingsSize, <span class="keyword">int</span>* bookingsColSize, <span class="keyword">int</span> n, <span class="keyword">int</span>* returnSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>* nums = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * n);</span><br><span class="line">    <span class="built_in">memset</span>(nums, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * n);</span><br><span class="line">    *returnSize = n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; bookingsSize; i++) &#123;</span><br><span class="line">        nums[bookings[i][<span class="number">0</span>] - <span class="number">1</span>] += bookings[i][<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span> (bookings[i][<span class="number">1</span>] &lt; n) &#123;</span><br><span class="line">            nums[bookings[i][<span class="number">1</span>]] -= bookings[i][<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        nums[i] += nums[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> corpFlightBookings = <span class="function"><span class="keyword">function</span>(<span class="params">bookings, n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> nums = <span class="keyword">new</span> <span class="built_in">Array</span>(n).fill(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> booking <span class="keyword">of</span> bookings) &#123;</span><br><span class="line">        nums[booking[<span class="number">0</span>] - <span class="number">1</span>] += booking[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">if</span> (booking[<span class="number">1</span>] &lt; n) &#123;</span><br><span class="line">            nums[booking[<span class="number">1</span>]] -= booking[<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        nums[i] += nums[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">corpFlightBookings</span><span class="params">(self, bookings: List[List[int]], n: int)</span> -&gt; List[int]:</span></span><br><span class="line">        nums = [<span class="number">0</span>] * n</span><br><span class="line">        <span class="keyword">for</span> left, right, inc <span class="keyword">in</span> bookings:</span><br><span class="line">            nums[left - <span class="number">1</span>] += inc</span><br><span class="line">            <span class="keyword">if</span> right &lt; n:</span><br><span class="line">                nums[right] -= inc</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n):</span><br><span class="line">            nums[i] += nums[i - <span class="number">1</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> nums</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">corpFlightBookings</span><span class="params">(bookings [][]<span class="keyword">int</span>, n <span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    nums := <span class="built_in">make</span>([]<span class="keyword">int</span>, n)</span><br><span class="line">    <span class="keyword">for</span> _, booking := <span class="keyword">range</span> bookings &#123;</span><br><span class="line">        nums[booking[<span class="number">0</span>]<span class="number">-1</span>] += booking[<span class="number">2</span>]</span><br><span class="line">        <span class="keyword">if</span> booking[<span class="number">1</span>] &lt; n &#123;</span><br><span class="line">            nums[booking[<span class="number">1</span>]] -= booking[<span class="number">2</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; n; i++ &#123;</span><br><span class="line">        nums[i] += nums[i<span class="number">-1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n+m)*ï¼Œå…¶ä¸­ *n</em> ä¸ºè¦æ±‚çš„æ•°ç»„é•¿åº¦ï¼Œ<em>m</em> ä¸ºé¢„å®šè®°å½•çš„æ•°é‡ã€‚æˆ‘ä»¬éœ€è¦å¯¹äºæ¯ä¸€æ¡é¢„å®šè®°å½•å¤„ç†ä¸€æ¬¡å·®åˆ†æ•°ç»„ï¼Œå¹¶æœ€åå¯¹å·®åˆ†æ•°ç»„æ±‚å‰ç¼€å’Œã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚æˆ‘ä»¬åªéœ€è¦å¸¸æ•°çš„ç©ºé—´ä¿å­˜è‹¥å¹²å˜é‡ï¼Œæ³¨æ„è¿”å›å€¼ä¸è®¡å…¥ç©ºé—´å¤æ‚åº¦ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¯·ä½ è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„answerï¼Œé‡Œé¢çš„å…ƒç´ æ˜¯æ¯ä¸ªèˆªç­é¢„å®šçš„åº§ä½æ€»æ•°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Prefix Sum" scheme="http://yoursite.com/tags/Prefix-Sum/"/>
    
  </entry>
  
  <entry>
    <title>904. æ°´æœæˆç¯®</title>
    <link href="http://yoursite.com/2021/11/15/904.%20%E6%B0%B4%E6%9E%9C%E6%88%90%E7%AF%AE/"/>
    <id>http://yoursite.com/2021/11/15/904. æ°´æœæˆç¯®/</id>
    <published>2021-11-15T03:12:12.000Z</published>
    <updated>2021-11-15T08:32:57.800Z</updated>
    
    <content type="html"><![CDATA[<p>èƒ½æ”¶é›†çš„æ°´æœæ ‘çš„æœ€å¤§æ€»é‡æ˜¯å¤šå°‘</p><a id="more"></a><p>[TOC]</p><p>åœ¨ä¸€æ’æ ‘ä¸­ï¼Œç¬¬ i æ£µæ ‘äº§ç”Ÿ tree[i] å‹çš„æ°´æœã€‚<br>ä½ å¯ä»¥ä»ä½ é€‰æ‹©çš„ä»»ä½•æ ‘å¼€å§‹ï¼Œç„¶åé‡å¤æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><p>æŠŠè¿™æ£µæ ‘ä¸Šçš„æ°´æœæ”¾è¿›ä½ çš„ç¯®å­é‡Œã€‚å¦‚æœä½ åšä¸åˆ°ï¼Œå°±åœä¸‹æ¥ã€‚<br>ç§»åŠ¨åˆ°å½“å‰æ ‘å³ä¾§çš„ä¸‹ä¸€æ£µæ ‘ã€‚å¦‚æœå³è¾¹æ²¡æœ‰æ ‘ï¼Œå°±åœä¸‹æ¥ã€‚<br>è¯·æ³¨æ„ï¼Œåœ¨é€‰æ‹©ä¸€é¢—æ ‘åï¼Œä½ æ²¡æœ‰ä»»ä½•é€‰æ‹©ï¼šä½ å¿…é¡»æ‰§è¡Œæ­¥éª¤ 1ï¼Œç„¶åæ‰§è¡Œæ­¥éª¤ 2ï¼Œç„¶åè¿”å›æ­¥éª¤ 1ï¼Œç„¶åæ‰§è¡Œæ­¥éª¤ 2ï¼Œä¾æ­¤ç±»æ¨ï¼Œç›´è‡³åœæ­¢ã€‚</p><p>ä½ æœ‰ä¸¤ä¸ªç¯®å­ï¼Œæ¯ä¸ªç¯®å­å¯ä»¥æºå¸¦ä»»ä½•æ•°é‡çš„æ°´æœï¼Œä½†ä½ å¸Œæœ›æ¯ä¸ªç¯®å­åªæºå¸¦ä¸€ç§ç±»å‹çš„æ°´æœã€‚</p><p>ç”¨è¿™ä¸ªç¨‹åºä½ èƒ½æ”¶é›†çš„æ°´æœæ ‘çš„æœ€å¤§æ€»é‡æ˜¯å¤šå°‘ï¼Ÿ</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼š[1,2,1]è¾“å‡ºï¼š3è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æ”¶é›† [1,2,1]ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼š[0,1,2,2]è¾“å‡ºï¼š3è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æ”¶é›† [1,2,2]å¦‚æœæˆ‘ä»¬ä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹ï¼Œæˆ‘ä»¬å°†åªèƒ½æ”¶é›†åˆ° [0, 1]ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼š[1,2,3,2,2]è¾“å‡ºï¼š4è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æ”¶é›† [2,3,2,2]å¦‚æœæˆ‘ä»¬ä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹ï¼Œæˆ‘ä»¬å°†åªèƒ½æ”¶é›†åˆ° [1, 2]ã€‚</code></pre><p>ç¤ºä¾‹ 4ï¼š</p><pre><code>è¾“å…¥ï¼š[3,3,3,1,2,1,1,2,3,3,4]è¾“å‡ºï¼š5è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æ”¶é›† [1,2,1,1,2]å¦‚æœæˆ‘ä»¬ä»ç¬¬ä¸€æ£µæ ‘æˆ–ç¬¬å…«æ£µæ ‘å¼€å§‹ï¼Œæˆ‘ä»¬å°†åªèƒ½æ”¶é›†åˆ° 4 æ£µæ°´æœæ ‘ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= tree.length &lt;= 400000 &lt;= tree[i] &lt; tree.length</code></pre><h1 id="æ–¹æ³•-1ï¼šæŒ‰å—æ‰«æ"><a href="#æ–¹æ³•-1ï¼šæŒ‰å—æ‰«æ" class="headerlink" title="æ–¹æ³• 1ï¼šæŒ‰å—æ‰«æ"></a>æ–¹æ³• 1ï¼šæŒ‰å—æ‰«æ</h1><p><strong>æƒ³æ³•</strong></p><p>é—®é¢˜ç­‰ä»·äºï¼Œæ‰¾åˆ°æœ€é•¿çš„å­åºåˆ—ï¼Œæœ€å¤šå«æœ‰ä¸¤ç§â€œç±»å‹â€ï¼ˆ<code>tree[i]</code> çš„å€¼ï¼‰ã€‚</p><p>ä¸å•ç‹¬è€ƒè™‘æ¯ä¸ªå…ƒç´ ï¼Œè½¬è€Œè€ƒè™‘ç›¸åŒç±»å‹çš„ç›¸è¿å—ã€‚</p><p>æ¯”å¦‚è¯´ï¼Œ<code>tree = [1, 1, 1, 1, 2, 2, 3, 3, 3]</code> å¯ä»¥çœ‹æˆæ˜¯ <code>blocks = [(1, weight = 4), (2, weight = 2), (3, weight = 3)]</code>ã€‚</p><p>ç°åœ¨å¯ä»¥ä½¿ç”¨æš´åŠ›ï¼Œä»å·¦å¾€å³æ‰«æã€‚æˆ‘ä»¬ä¼šæœ‰ç±»ä¼¼äº <code>blocks = [1, _2_, 1, 2, 1, 2, _1_, 3, ...]</code> ä»¥åŠå¯¹åº”æƒé‡ã€‚</p><p>å¤„ç†çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œå½“æˆ‘ä»¬è€ƒè™‘ <code>3</code> çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä»ç¬¬äºŒä¸ªå…ƒç´  <code>2</code> ï¼ˆä¹Ÿå°±æ˜¯æ ‡è®°æˆ <code>_2_</code> çš„æ•°å­—ï¼‰å¼€å§‹è€ƒè™‘ï¼Œæˆ‘ä»¬å¯ä»¥ä» <code>3</code> ä¹‹å‰çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹è€ƒè™‘ï¼ˆ<code>_1_</code>ï¼‰ã€‚è¿™æ˜¯å› ä¸ºå¦‚æœæˆ‘ä»¬ä»å‰ä¸¤ä¸ªæˆ–æ›´å¤šå…ƒç´ å¼€å§‹ï¼Œè¿™ä¸ªåºåˆ—ä¸€å®šåŒ…å«ç±»å‹ <code>1</code> å’Œ <code>2</code>ï¼Œæ‰€ä»¥åºåˆ—ä¸€å®šä¼šåœ¨ <code>3</code> å¤„åœæ­¢ï¼Œè¿™å°±æ¯”å·²ç»è€ƒè™‘çš„åºåˆ—æ›´çŸ­äº†ã€‚</p><p>ä»æ¯ä¸ªå¼€å§‹ç‚¹ï¼ˆå—çš„æœ€å·¦ç«¯ç‚¹ï¼‰å¼€å§‹è€ƒè™‘ï¼Œè¿™ä¸ªç»“æœä¸€å®šæ˜¯å¯¹çš„ã€‚</p><p><strong>ç®—æ³•</strong></p><p>Python å’Œ Java çš„å®ç°æ–¹æ³•ï¼Œç¬¦å·å’Œç­–ç•¥æœ‰æ‰€ä¸åŒï¼Œå¯ä»¥æŸ¥çœ‹ä»£ç å†…çš„æ³¨é‡Šã€‚</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">totalFruit</span><span class="params">(<span class="keyword">int</span>[] tree)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// We'll make a list of indexes for which a block starts.</span></span><br><span class="line">        List&lt;Integer&gt; blockLefts = <span class="keyword">new</span> ArrayList();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Add the left boundary of each block</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tree.length; ++i)</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span> || tree[i-<span class="number">1</span>] != tree[i])</span><br><span class="line">                blockLefts.add(i);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Add tree.length as a sentinel for convenience</span></span><br><span class="line">        blockLefts.add(tree.length);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>, i = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//è·³è½¬æ ‡è¯†ï¼Œé‡Œå±‚å¾ªç¯ continueç›´æ¥è·³å‡ºå¤–å±‚å¾ªç¯ï¼Œç»§ç»­æ‰§è¡Œå¤–å±‚å¾ªç¯</span></span><br><span class="line">        search: <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="comment">// We'll start our scan at block[i].</span></span><br><span class="line">            <span class="comment">// types : the different values of tree[i] seen</span></span><br><span class="line">            <span class="comment">// weight : the total number of trees represented</span></span><br><span class="line">            <span class="comment">//          by blocks under consideration</span></span><br><span class="line">            Set&lt;Integer&gt; types = <span class="keyword">new</span> HashSet();</span><br><span class="line">            <span class="keyword">int</span> weight = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// For each block from the i-th and going forward,</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; blockLefts.size() - <span class="number">1</span>; ++j) &#123;</span><br><span class="line">                <span class="comment">// Add each block to consideration</span></span><br><span class="line">                types.add(tree[blockLefts.get(j)]);</span><br><span class="line">                weight += blockLefts.get(j+<span class="number">1</span>) - blockLefts.get(j);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// If we have 3+ types, this is an illegal subarray</span></span><br><span class="line">                <span class="keyword">if</span> (types.size() &gt;= <span class="number">3</span>) &#123;</span><br><span class="line">                    i = j - <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">continue</span> search;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// If it is a legal subarray, record the answer</span></span><br><span class="line">                ans = Math.max(ans, weight);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">totalFruit</span><span class="params">(self, tree)</span>:</span></span><br><span class="line">        blocks = [(k, len(list(v)))</span><br><span class="line">                  <span class="keyword">for</span> k, v <span class="keyword">in</span> itertools.groupby(tree)]</span><br><span class="line"></span><br><span class="line">        ans = i = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; len(blocks):</span><br><span class="line">            <span class="comment"># We'll start our scan at block[i].</span></span><br><span class="line">            <span class="comment"># types : the different values of tree[i] seen</span></span><br><span class="line">            <span class="comment"># weight : the total number of trees represented</span></span><br><span class="line">            <span class="comment">#          by blocks under consideration</span></span><br><span class="line">            types, weight = set(), <span class="number">0</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># For each block from i and going forward,</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> xrange(i, len(blocks)):</span><br><span class="line">                <span class="comment"># Add each block to consideration</span></span><br><span class="line">                types.add(blocks[j][<span class="number">0</span>])</span><br><span class="line">                weight += blocks[j][<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">                <span class="comment"># If we have 3 types, this is not a legal subarray</span></span><br><span class="line">                <span class="keyword">if</span> len(types) &gt;= <span class="number">3</span>:</span><br><span class="line">                    i = j<span class="number">-1</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">                ans = max(ans, weight)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># If we go to the last block, then stop</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> æ˜¯ <code>tree</code> çš„é•¿åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em>ã€‚</li></ul><h1 id="æ–¹æ³•-2ï¼šæ»‘åŠ¨çª—å£"><a href="#æ–¹æ³•-2ï¼šæ»‘åŠ¨çª—å£" class="headerlink" title="æ–¹æ³• 2ï¼šæ»‘åŠ¨çª—å£"></a>æ–¹æ³• 2ï¼šæ»‘åŠ¨çª—å£</h1><p><strong>æƒ³æ³•</strong></p><p>åœ¨<em>æ–¹æ³• 1</em>ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°æœ€é•¿çš„åŒ…å«ä¸¤ç§ä¸åŒâ€œç±»å‹â€çš„å­åºåˆ—ï¼Œæˆ‘ä»¬ç§°è¿™æ ·çš„å­åºåˆ—ä¸º<em>åˆæ³•çš„</em>ã€‚</p><p>å‡è®¾æˆ‘ä»¬è€ƒè™‘æ‰€æœ‰ä»¥ä¸‹æ ‡ <code>j</code> ä¸ºç»“å°¾çš„åˆæ³•å­åºåˆ—ï¼Œé‚£ä¹ˆä¸€å®šæœ‰ä¸€ä¸ªæœ€å°çš„å¼€å§‹ä¸‹æ ‡ <code>i</code>ï¼šç§°ä¹‹ä¸º <code>opt(j) = i</code>ã€‚</p><p>æˆ‘ä»¬ä¼šå‘ç°è¿™ä¸ª <code>opt(j)</code> æ˜¯ä¸€ä¸ªå•è°ƒé€’å¢çš„å‡½æ•°ï¼Œè¿™æ˜¯å› ä¸ºæ‰€æœ‰åˆæ³•å­åºåˆ—çš„å­åºåˆ—ä¸€å®šä¹Ÿæ˜¯åˆæ³•çš„ã€‚</p><p><strong>ç®—æ³•</strong></p><p>æ¨¡æ‹Ÿä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼Œç»´æŠ¤å˜é‡ <code>i</code> æ˜¯æœ€å°çš„ä¸‹æ ‡æ»¡è¶³ <code>[i, j]</code> æ˜¯åˆæ³•çš„å­åºåˆ—ã€‚</p><p>ç»´æŠ¤ <code>count</code> æ˜¯åºåˆ—ä¸­å„ç§ç±»å‹çš„ä¸ªæ•°ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥å¾ˆå¿«çŸ¥é“å­åºåˆ—ä¸­æ˜¯å¦å«æœ‰ 3 ä¸­ç±»å‹ã€‚</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">totalFruit</span><span class="params">(<span class="keyword">int</span>[] tree)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>, i = <span class="number">0</span>;</span><br><span class="line">        Counter count = <span class="keyword">new</span> Counter();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; tree.length; ++j) &#123;</span><br><span class="line">            count.add(tree[j], <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">while</span> (count.size() &gt;= <span class="number">3</span>) &#123;</span><br><span class="line">                count.add(tree[i], -<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (count.get(tree[i]) == <span class="number">0</span>)</span><br><span class="line">                    count.remove(tree[i]);</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            ans = Math.max(ans, j - i + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">HashMap</span>&lt;<span class="title">Integer</span>, <span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> containsKey(k) ? <span class="keyword">super</span>.get(k) : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        put(k, get(k) + v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æˆ‘çš„æ»‘åŠ¨çª—å£å†™æ³•Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">totalFruit</span><span class="params">(<span class="keyword">int</span>[] fruits)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//æ‰¾æœ€å¤šåªå«ä¸¤ç§å…ƒç´ çš„æœ€é•¿è¿ç»­å­æ•°ç»„é•¿åº¦</span></span><br><span class="line">        Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>, maxlen = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; fruits.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (map.size() &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">                map.put(fruits[i], map.getOrDefault(fruits[i], <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (map.size() &gt; <span class="number">2</span>) &#123;</span><br><span class="line">                map.put(fruits[left], map.getOrDefault(fruits[left], <span class="number">0</span>) - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (map.getOrDefault(fruits[left], <span class="number">0</span>) &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    map.remove(fruits[left]);</span><br><span class="line">                &#125;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            maxlen = Math.max(maxlen, i - left + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxlen;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">totalFruit</span><span class="params">(self, tree)</span>:</span></span><br><span class="line">        ans = i = <span class="number">0</span></span><br><span class="line">        count = collections.Counter()</span><br><span class="line">        <span class="keyword">for</span> j, x <span class="keyword">in</span> enumerate(tree):</span><br><span class="line">            count[x] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> len(count) &gt;= <span class="number">3</span>:</span><br><span class="line">                count[tree[i]] -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> count[tree[i]] == <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">del</span> count[tree[i]]</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            ans = max(ans, j - i + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> æ˜¯ <code>tree</code> çš„é•¿åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em>ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;èƒ½æ”¶é›†çš„æ°´æœæ ‘çš„æœ€å¤§æ€»é‡æ˜¯å¤šå°‘&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Sliding Window" scheme="http://yoursite.com/tags/Sliding-Window/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šå¤©é¾™å…«éƒ¨ã€‹è¯»ä¹¦ç¬”è®°</title>
    <link href="http://yoursite.com/2021/11/12/%E3%80%8A%E5%A4%A9%E9%BE%99%E5%85%AB%E9%83%A8%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    <id>http://yoursite.com/2021/11/12/ã€Šå¤©é¾™å…«éƒ¨ã€‹è¯»ä¹¦ç¬”è®°/</id>
    <published>2021-11-12T15:12:12.000Z</published>
    <updated>2021-11-17T07:49:25.532Z</updated>
    
    <content type="html"><![CDATA[<p>é‡è¯»æœ‰æ„Ÿ</p><a id="more"></a><p>[TOC]</p><p>è¿‘æ¥ç¡å‰å¬å¤©é¾™å…«éƒ¨æœ‰å£°å°è¯´ï¼Œæ‰€è°“é‡è¯»å¤§åŠæ˜¯é‡å¬ï¼Œè€³ä¸­æ‰€é—»å°½å¯å½’ä¸ºå››å­—:ä¼—ç”Ÿçš†è‹¦ã€‚</p><p>æ•´éƒ¨ä¹¦æ›´åƒæ˜¯ä¸€æœ¬å¤§å‹çš„æ­¦ä¾ ç‰ˆç¥è¯å¯“è¨€æ•…äº‹é›†ã€‚å†™å°½äº†äººæ€§ä¸­çš„è´ªå—”ç—´ã€‚æ­£å¦‚å¸Œè…Šç¥è¯æ•…äº‹ä¸­è¯¸ç¥è™½ä¸é£Ÿäººé—´çƒŸç«å´ä»æ‘†è„±ä¸äº†å–œæ€’å“€ä¹æƒ…å¦’è´ªå—”ä¸€æ ·ï¼Œå¤©é¾™å…«éƒ¨ä¸­ä¼—ç”Ÿæ— åˆ†å›½åˆ«é—¨æ´¾ï¼Œä¸è®ºæ­¦åŠŸä¿®ä¸ºï¼Œäººäººéƒ½æœ‰è§£ä¸è„±çš„ååˆ©ç¼°é”ï¼Œæ–­ä¸å»çš„ç—´å¿ƒæ¬²å¿µã€‚ä½†æœ‰æˆ‘æ‰§ï¼Œæœ‰æ‰€æ±‚å°±å…ä¸äº†å •å…¥å¨‘å©†ä¸–ç•Œä¸­çš„ä¸‰ç±»è‹¦ä¸­ã€‚</p><p>ä½›ç»ä¸­æœ‰è‹¦è‹¦ã€åè‹¦ã€è¡Œè‹¦ä¸‰ç±»ä¹‹è¯´ã€‚</p><p>äººç”Ÿæ¥å³èƒ½æ„Ÿå—åˆ°çš„ç—›è‹¦ä¸ºè‹¦è‹¦ï¼šå³ç”Ÿã€è€ã€ç—…ã€æ­»ã€çˆ±åˆ«ç¦»ã€æ±‚ä¸å¾—ã€æ€¨æ†ä¼šã€äº”è•´ç‚½ç››ã€‚</p><p>ä¹¦ä¸­å¤§å¤šæ•°äººç‰©éƒ½æººäºæ­¤å…«è‹¦æ— æ³•è‡ªæ‹”ï¼Œæœ‰è§å³°é˜¿æœ±å¡ä¸Šç‰›ç¾Šç©ºè®¸çº¦çš„çˆ±åˆ«ç¦»è‹¦ï¼Œæœ‰æ…•å®¹æ°æ‰§ç€å¤å›½å´æˆç©ºæ¢¦ä¸€åœºçš„æ±‚ä¸å¾—è‹¦ï¼Œæœ‰ç«¥å§¥æç§‹æ°´ä¸ƒåä½™è½½æƒ…æ€¨çº è‘›çš„æ€¨æ†ä¼šè‹¦ã€‚ä¸–äº‹æ— å¸¸ï¼Œé€ åŒ–å¼„äººã€‚ç²ç‘æ£‹å±€éè¦æ— å¿ƒæ–¹å¯è§£ï¼Œåå¸¦å¦ä¹‹åå´ä¸€ç”Ÿåå·éš¾å¹³ã€‚æ¬²æ±‚æƒ…çˆ±è€Œä¸å¾—çš„æ®µèª‰æœ€åå‡ºå®¶ä¸ºåƒ§ï¼Œåªæ„¿å‚è¯µç»ç¤¼ä½›çš„è™šç«¹å´ç ´æˆ’ç»ˆè½å°˜ç½‘ã€‚åªè¦æœªå‹˜ç ´æˆ‘æ‰§çš„ï¼Œä»»å‡­æ­¦åŠŸå¦‚ä½•è¶…å‡¡å…¥åœ£ï¼Œå¾—é‡å†å¤šæœºç¼˜å·§åˆä¹Ÿéš¾å…äº”è•´ç‚½ç››ï¼Œè¢«äººä¸–é—´ç§ç§è‹¦æ¼æ—¥æ—¥ç…ç†¬ã€‚</p><p>æ­¤ä¸€ç±»è‹¦è‹¦ï¼Œåˆè¯»å¤©é¾™å…«éƒ¨ä¾¿å·²æœ‰æ‰€æ„Ÿæ‚Ÿï¼Œç„¶è€Œå¯¹ä¼—ç”Ÿæ‰€å†åè‹¦å’Œè¡Œè‹¦å´æ˜¯æ­¤æ¬¡é‡è¯»æ‰åˆæœ‰ç†è§£ã€‚ä»¥ä¸‹ç®—æ˜¯ä¸€äº›è¯»ä¹¦æ‘˜è¦ã€‚è™½ç„¶æ˜¯ä»ä½›å®¶è§‚ç‚¹å‡ºå‘ï¼Œä½†ä¹Ÿè¶³ä»¥ä»å¦ä¸€ä¸ªè§’åº¦å¼€å¯å¿ƒæ™ºã€‚</p><p>ä½•è°“åè‹¦ï¼Œæ˜¯æŒ‡æˆ‘ä»¬é€šå¸¸å¿«ä¹çš„æ„Ÿå—ã€‚ä»ä½›å®¶è§‚ç‚¹å‡ºå‘ï¼Œæˆ‘ä»¬æ‰€è°“çš„å¿«ä¹å—å¹¶éçœŸæ­£çš„å¿«ä¹ï¼Œå…¶å®è´¨ä¹Ÿæ˜¯ç—›è‹¦çš„ã€‚é¥¥é¥¿æ—¶æƒ³åƒï¼Œåƒé¥±äº†æ„Ÿåˆ°å¿«ä¹ï¼Œä½†ç»§ç»­åƒä¸‹å»å´è¿˜ä¼šè§‰å¾—å¿«ä¹å—ï¼Ÿæ— èŠäº†æƒ³åˆ·æ‰‹æœºè§‰å¾—å¿«ä¹ï¼Œä½†æ²¡æ—¥æ²¡å¤œçš„çœ‹ä¸‹å»è§‰å¾—å¿«ä¹å—ï¼Ÿç”±æ­¤å¯è§æˆ‘ä»¬çš„æ‰€è°“å¿«ä¹ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬æœ‰äº†æŸç§æ¬²æœ›ä¹‹åï¼Œé€šè¿‡å¤–å¢ƒçš„åˆºæ¿€å¾—åˆ°æ»¡è¶³å¿ƒç†ä¸Šå‡ºç°æš‚æ—¶çš„å¹³è¡¡ï¼Œäºæ˜¯æˆ‘ä»¬è§‰å¾—å¿«ä¹ï¼Œç„¶è€Œè¿™ç§æ¬²æœ›æ»¡è¶³åçš„å®è´¨å¹¶éå¿«ä¹ï¼Œå€˜è‹¥å®è´¨æ˜¯å¿«ä¹çš„è¯ï¼Œæ— è®ºå¤–å¢ƒåˆºæ¿€å¤šå°‘æ¬¡éƒ½åº”è¯¥è§‰å¾—å¿«ä¹ï¼Œç„¶è€Œäº‹å®ä¸ç„¶ï¼Œå½“æˆ‘ä»¬å¸¦ç€å¼ºçƒˆçš„æ¬²æœ›å¯»æ±‚æ»¡è¶³æ—¶ï¼Œåˆå§‹æ„Ÿåˆ°å¿«ä¹ï¼Œä½†åˆ°åæ¥ä¼šå‘ç°æ­¤æ—¶å·²ç”±åŸæ¥çš„å¿«ä¹è½¬å˜ä¸ºç—›è‹¦äº†ã€‚å°±åƒè‡ªæˆ‘åˆºæ¿€å¥–èµä¸­æ¢å®éªŒä¸­ä¸ä¼‘ä¸æ­¢æŒ‰åŠ¨å¼€å…³çš„å°é¼ ä¸€æ ·æ²¦ä¸ºäº†å¤šå·´èƒºçš„å¥´éš¶ï¼Œä¸–é—´ä¸Šä¸€åˆ‡é€šè¿‡æ¬²æœ›å¾—åˆ°çš„å¿«ä¹è«ä¸å¦‚æ­¤ï¼Œå› ä¸ºè¿™ç§ä¹å—èƒ½å˜åï¼Œå› æ­¤ç§°ä¸ºåè‹¦ã€‚</p><p>è¡Œè‹¦ï¼šè¡Œï¼Œæ˜¯è¿æµå˜åŒ–ä¹‰ã€‚ä¸–é—´ä¸€åˆ‡éƒ½æ˜¯æ— å¸¸å˜åŒ–ï¼Œè¿™æ˜¯å®‡å®™äººç”Ÿä¹‹è§„å¾‹ã€‚ä½†ä¸–äººä¸è¯†è¿™ç§è§„å¾‹ï¼Œè¿½æ±‚æ°¸æ’ï¼šå¸Œæœ›èº«ä½“æ°¸æ’ã€å®¶åº­æ°¸æ’ã€äº‹ä¸šæ°¸æ’ã€çˆ±æƒ…æ°¸æ’ï¼Œç„¶è€Œä¸–äº‹æ— å¸¸ï¼Œç¾å¥½çš„äº‹ç‰©å¾€å¾€æ˜¯æ˜™èŠ±ä¸€ç°ï¼Œè½¬ç¬å³é€ã€‚ç”±äºæˆ‘ä»¬çš„è®¤è¯†ä¸ä¸–é—´çš„äº‹å®â€”â€”è¡Œï¼Œç›¸è¿èƒŒï¼Œå› è€Œå°±æœ‰äº†è¡Œè‹¦ã€‚</p><p>å¾€æ˜”èº«ç»æ±‚ä¸å¾—ä¹‹è‹¦æ—¶å¾€å¾€æƒ³è±¡æ±‚å¾—åå¿ƒæƒ…è¯¥å¦‚ä½•èˆ’ç•…ï¼Œäººç”Ÿè‡ªå½“åœ†æ»¡æ— æ†¾çŸ£ï¼Œå´ä¸çŸ¥æœˆæ»¡åˆ™äºï¼Œæ°´æ»¡åˆ™æº¢ã€‚æ±‚å¾—ä¹‹æ—¶å³æ˜¯åè‹¦ä¹‹å§‹ï¼Œæ›´å¼•è¡Œè‹¦è€Œæ¥ã€‚å©†å¨‘è‹¦ä¹æ‚ï¼Œè‹¥æ˜¯èº«å¤„è‹¦è‹¦ä¹‹ä¸­ä¾¿èƒ½ä»¥æ­¤è‡ªçœï¼Œæƒ³å¿…è‹¦æ¥šè‡ªèƒ½é¡¿å‡ä¸‰åˆ†ã€‚å­”å¤«å­ä¸ƒåè€Œä»å¿ƒæ‰€æ¬²ä¸é€¾çŸ©ï¼Œå¹¶éåœ£äººæ— æ¬²æ— æ±‚æˆ–æ— æ‰€ä¸èƒ½ï¼Œè€Œæ˜¯èƒ½ä½¿ä¸€å·±æ‰€æ¬²ä¸è¶…å‡ºäººå’Œç¤¾ä¼šçš„è§„åˆ™ä¹‹å¤–ï¼Œå¦‚æ­¤è‡ªç„¶å°‘äº†è¯¸å¤šçƒ¦æ¼ã€‚è¿™äº›é“ç†çŸ¥æ˜“è¡Œéš¾ï¼Œæœ‰æ—¶èº«åœ¨å±€ä¸­æ‰§è¿·éš¾æ‚Ÿã€‚è€Œç«‹ä¹‹å¹´å°†è‡³ï¼Œéœ€æ—¶æ—¶ä»¥æ­¤è‡ªçœã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é‡è¯»æœ‰æ„Ÿ&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="blog" scheme="http://yoursite.com/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>795. åŒºé—´å­æ•°ç»„ä¸ªæ•°</title>
    <link href="http://yoursite.com/2021/11/12/795.%20%E5%8C%BA%E9%97%B4%E5%AD%90%E6%95%B0%E7%BB%84%E4%B8%AA%E6%95%B0/"/>
    <id>http://yoursite.com/2021/11/12/795. åŒºé—´å­æ•°ç»„ä¸ªæ•°/</id>
    <published>2021-11-12T12:12:12.000Z</published>
    <updated>2021-11-14T01:16:35.388Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªå…ƒç´ éƒ½æ˜¯æ­£æ•´æ•°çš„æ•°ç»„Aï¼Œæ­£æ•´æ•° Lä»¥åŠR(L&lt;= R)ã€‚</p><a id="more"></a><p>[TOC]</p><p>æ±‚è¿ç»­ã€éç©ºä¸”å…¶ä¸­æœ€å¤§å…ƒç´ æ»¡è¶³å¤§äºç­‰äºL å°äºç­‰äºRçš„å­æ•°ç»„ä¸ªæ•°ã€‚</p><p>ä¾‹å¦‚ :</p><pre><code>è¾“å…¥: A = [2, 1, 4, 3]L = 2R = 3è¾“å‡º: 3è§£é‡Š: æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„: [2], [2, 1], [3].æ³¨æ„:L, R  å’Œ A[i] éƒ½æ˜¯æ•´æ•°ï¼ŒèŒƒå›´åœ¨ [0, 10^9]ã€‚æ•°ç»„ A çš„é•¿åº¦èŒƒå›´åœ¨[1, 50000]ã€‚</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šè®¡æ•°"><a href="#æ–¹æ³•ä¸€ï¼šè®¡æ•°" class="headerlink" title="æ–¹æ³•ä¸€ï¼šè®¡æ•°"></a>æ–¹æ³•ä¸€ï¼šè®¡æ•°</h1><p><strong>æ€æƒ³</strong></p><p>æ ¹æ®ä»¥ä¸‹æ­¥éª¤æ¨å¯¼å‡ºè§£å†³æ–¹æ¡ˆï¼š</p><p>å…¶å®æˆ‘ä»¬åªå…³å¿ƒæ•°ç»„ä¸­çš„å…ƒç´ æ˜¯å¦å°äº <code>L</code>ï¼Œå¤§äº <code>R</code>ï¼Œæˆ–è€…ä½äº <code>[L, R]</code> ä¹‹é—´ã€‚å‡è®¾ä¸€ä¸ªå…ƒç´ å°äº <code>L</code> æ ‡è®°ä¸º <code>0</code>ï¼Œä½äº <code>[L, R]</code> ä¹‹é—´æ ‡è®°ä¸º <code>1</code>ï¼Œå¤§äº <code>R</code> æ ‡è®°ä¸º <code>2</code>ã€‚</p><p>æˆ‘ä»¬å¸Œæœ›æ‰¾å‡ºä¸åŒ…å« <code>2</code> ä¸”è‡³å°‘åŒ…å«ä¸€ä¸ª <code>1</code> çš„å­æ•°ç»„æ•°é‡ã€‚å› æ­¤å¯ä»¥çœ‹ä½œæ˜¯æ‰€æœ‰çš„ <code>2</code> å°†æ•°ç»„æ‹†åˆ†ä¸ºä»…åŒ…å« <code>0</code> æˆ– <code>1</code> çš„å­æ•°ç»„ã€‚ä¾‹å¦‚åœ¨æ•°ç»„ <code>[0, 0, 1, 2, 2, 1, 0, 2, 0]</code>ï¼Œ<code>2</code> å°†æ•°ç»„æ‹†åˆ†ä¸º <code>[0, 0, 1]</code>ã€<code>[1, 0]</code> å’Œ <code>[0]</code> ä¸‰ä¸ªå­æ•°ç»„ã€‚ </p><p>æ¥ä¸‹æ¥ï¼Œéœ€è¦è®¡ç®—æ¯ä¸ªåªåŒ…å« <code>0</code> æˆ– <code>1</code> çš„æ•°ç»„ä¸­ï¼Œè‡³å°‘åŒ…å«ä¸€ä¸ª <code>1</code> çš„å­æ•°ç»„æ•°é‡ã€‚é‚£ä¹ˆé—®é¢˜å¯ä»¥è½¬æ¢ä¸ºå…ˆæ‰¾å‡ºæ‰€æœ‰çš„å­æ•°ç»„ï¼Œå†ä»ä¸­å‡å»åªåŒ…å« <code>0</code> çš„å­æ•°ç»„ã€‚</p><p>ä¾‹å¦‚ï¼Œ<code>[0, 0, 1]</code> æœ‰ 6 ä¸ªå­æ•°ç»„ï¼Œå…¶ä¸­ 3 ä¸ªå­æ•°ç»„åªåŒ…å« <code>0</code>ï¼Œ3 ä¸ªå­æ•°ç»„è‡³å°‘åŒ…å«ä¸€ä¸ª <code>1</code>ï¼›<code>[1, 0]</code> æœ‰ 3 ä¸ªå­æ•°ç»„ï¼Œå…¶ä¸­ 1 ä¸ªå­æ•°ç»„åªåŒ…å« <code>0</code>ï¼Œ2 ä¸ªå­æ•°ç»„è‡³å°‘åŒ…å«ä¸€ä¸ª <code>1</code>ï¼›<code>[0]</code> åªæœ‰ 1 ä¸ªå­æ•°ç»„ï¼Œä¸”è¿™ä¸ªå­æ•°ç»„åªåŒ…å« <code>0</code>ã€‚å› æ­¤æ•°ç»„ <code>A = [0, 0, 1, 2, 2, 1, 0, 2, 0]</code> ä¸­ä¸åŒ…å« <code>2</code>ï¼Œä¸”è‡³å°‘åŒ…å«ä¸€ä¸ª <code>1</code> çš„å­æ•°ç»„çš„æ•°é‡æ˜¯ <code>3 + 2 + 0 = 5</code>ã€‚</p><p><strong>ç®—æ³•</strong></p><p>å‡è®¾ <code>count(B)</code> ç”¨äºè®¡ç®—æ‰€æœ‰å…ƒç´ éƒ½å°äºç­‰äº <code>B</code> çš„å­æ•°ç»„æ•°é‡ã€‚æ ¹æ®ä¸Šé¢åˆ†æï¼Œæœ¬é¢˜ç­”æ¡ˆä¸º <code>count(R) - count(L-1)</code>ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•è®¡ç®— <code>count(B)</code>ï¼Ÿä½¿ç”¨ <code>cur</code> è®°å½•åœ¨ <code>B</code> çš„å·¦è¾¹ï¼Œå°äºç­‰äº <code>B</code> çš„è¿ç»­å…ƒç´ æ•°é‡ã€‚å½“æ‰¾åˆ°ä¸€ä¸ªè¿™æ ·çš„å…ƒç´ æ—¶ï¼Œåœ¨æ­¤ä½ç½®ä¸Šç»“æŸçš„æœ‰æ•ˆå­æ•°ç»„çš„æ•°é‡ä¸º <code>cur + 1</code>ã€‚å½“é‡åˆ°ä¸€ä¸ªå…ƒç´ å¤§äº <code>B</code> æ—¶ï¼Œåˆ™åœ¨æ­¤ä½ç½®ç»“æŸçš„æœ‰æ•ˆå­æ•°ç»„çš„æ•°é‡ä¸º 0ã€‚</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[solution1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSubarrayBoundedMax</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> L, <span class="keyword">int</span> R)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count(A, R) - count(A, L-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> bound)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>, cur = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x: A) &#123;</span><br><span class="line">            cur = x &lt;= bound ? cur + <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">            ans += cur;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[solution1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numSubarrayBoundedMax</span><span class="params">(self, A, L, R)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">count</span><span class="params">(bound)</span>:</span></span><br><span class="line">            ans = cur = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> x <span class="keyword">in</span> A :</span><br><span class="line">                cur = cur + <span class="number">1</span> <span class="keyword">if</span> x &lt;= bound <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">                ans += cur</span><br><span class="line">            <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> count(R) - count(L - <span class="number">1</span>)</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)</em>ï¼Œå…¶ä¸­ <code>N</code> æ˜¯ <code>A</code> çš„é•¿åº¦ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªå…ƒç´ éƒ½æ˜¯æ­£æ•´æ•°çš„æ•°ç»„Aï¼Œæ­£æ•´æ•° Lä»¥åŠR(L&amp;lt;= R)ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>467. ç¯ç»•å­—ç¬¦ä¸²ä¸­å”¯ä¸€çš„å­å­—ç¬¦ä¸²</title>
    <link href="http://yoursite.com/2021/11/10/467.%20%E7%8E%AF%E7%BB%95%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E5%94%AF%E4%B8%80%E7%9A%84%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    <id>http://yoursite.com/2021/11/10/467. ç¯ç»•å­—ç¬¦ä¸²ä¸­å”¯ä¸€çš„å­å­—ç¬¦ä¸²/</id>
    <published>2021-11-10T08:12:12.000Z</published>
    <updated>2021-11-12T10:05:45.222Z</updated>
    
    <content type="html"><![CDATA[<p>ä½ éœ€è¦è¾“å‡ºå­—ç¬¦ä¸²s ä¸­ p çš„ä¸åŒçš„éç©ºå­ä¸²çš„æ•°ç›®ã€‚</p><a id="more"></a><p>[TOC]</p><p>æŠŠå­—ç¬¦ä¸² s çœ‹ä½œæ˜¯â€œabcdefghijklmnopqrstuvwxyzâ€çš„æ— é™ç¯ç»•å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥sçœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼šâ€â€¦zabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdâ€¦.â€.</p><p>ç°åœ¨æˆ‘ä»¬æœ‰äº†å¦ä¸€ä¸ªå­—ç¬¦ä¸² p ã€‚ä½ éœ€è¦çš„æ˜¯æ‰¾å‡º s ä¸­æœ‰å¤šå°‘ä¸ªå”¯ä¸€çš„ p çš„éç©ºå­ä¸²ï¼Œå°¤å…¶æ˜¯å½“ä½ çš„è¾“å…¥æ˜¯å­—ç¬¦ä¸² p ï¼Œä½ éœ€è¦è¾“å‡ºå­—ç¬¦ä¸²s ä¸­ p çš„ä¸åŒçš„éç©ºå­ä¸²çš„æ•°ç›®ã€‚</p><p>æ³¨æ„: pä»…ç”±å°å†™çš„è‹±æ–‡å­—æ¯ç»„æˆï¼Œp çš„å¤§å°å¯èƒ½è¶…è¿‡ 10000ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: &quot;a&quot;è¾“å‡º: 1è§£é‡Š: å­—ç¬¦ä¸² S ä¸­åªæœ‰ä¸€ä¸ª&quot;a&quot;å­å­—ç¬¦ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: &quot;cac&quot;è¾“å‡º: 2è§£é‡Š: å­—ç¬¦ä¸² S ä¸­çš„å­—ç¬¦ä¸²â€œcacâ€åªæœ‰ä¸¤ä¸ªå­ä¸²â€œaâ€ã€â€œcâ€ã€‚.</code></pre><p>ç¤ºä¾‹ 3:</p><pre><code>è¾“å…¥: &quot;zab&quot;è¾“å‡º: 6è§£é‡Š: åœ¨å­—ç¬¦ä¸² S ä¸­æœ‰å…­ä¸ªå­ä¸²â€œzâ€ã€â€œaâ€ã€â€œbâ€ã€â€œzaâ€ã€â€œabâ€ã€â€œzabâ€ã€‚.</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šç»Ÿè®¡æ‰€æœ‰ä»¥æ¯ä¸ªå­—ç¬¦ç»“å°¾çš„æœ€é•¿è¿ç»­å­ä¸²çš„é•¿åº¦"><a href="#æ–¹æ³•ä¸€ï¼šç»Ÿè®¡æ‰€æœ‰ä»¥æ¯ä¸ªå­—ç¬¦ç»“å°¾çš„æœ€é•¿è¿ç»­å­ä¸²çš„é•¿åº¦" class="headerlink" title="æ–¹æ³•ä¸€ï¼šç»Ÿè®¡æ‰€æœ‰ä»¥æ¯ä¸ªå­—ç¬¦ç»“å°¾çš„æœ€é•¿è¿ç»­å­ä¸²çš„é•¿åº¦"></a>æ–¹æ³•ä¸€ï¼šç»Ÿè®¡æ‰€æœ‰ä»¥æ¯ä¸ªå­—ç¬¦ç»“å°¾çš„æœ€é•¿è¿ç»­å­ä¸²çš„é•¿åº¦</h1><p>é¢˜æ„ï¼Œå‡è®¾æœ‰ä¸€ä¸ª a-z æ— é™å¾ªç¯çš„å­—ç¬¦ä¸² sï¼Œè®¡ç®—å®ƒå’Œå­—ç¬¦ä¸² p ä¸­æœ‰å¤šå°‘ä¸ªç›¸ç­‰çš„éç©ºå­ä¸²ã€‚é¢˜ç›®ä¸­å”¯ä¸€çš„æ„æ€æ˜¯ï¼Œå‡è®¾ <code>p=aa</code>ï¼Œå­—ç¬¦ä¸² p ä¸­æœ‰ä¸¤ä¸ª <code>a</code>ï¼Œç›¸ç­‰çš„å­ä¸²è®°ä½œä¸€ä¸ªï¼Œå³ <code>a</code>ã€‚</p><p>å½“ <code>p=cac</code> æ—¶ï¼Œæœ‰ <code>a å’Œ c</code>ï¼Œå› ä¸º <code>acã€caã€cac</code> ä¸æ˜¯ s çš„å­ä¸²ã€‚å½“ <code>p=bcabc</code> æ—¶ï¼Œæœ‰ <code>aã€bã€abã€cã€bcã€abc</code>ã€‚</p><ul><li>è¿ç»­å­ä¸²<code>a</code> ä¸­ä»¥å­—ç¬¦<code>a</code> ç»“å°¾çš„è¿ç»­å­ä¸²æœ‰<code>a</code>ã€‚</li><li>è¿ç»­å­ä¸²<code>b</code> ä¸­ä»¥å­—ç¬¦<code>b</code> ç»“å°¾çš„è¿ç»­å­ä¸²æœ‰<code>b</code>ï¼›è€Œè¿ç»­å­ä¸²<code>ab</code> ä»¥å­—ç¬¦<code>b</code> ç»“å°¾çš„è¿ç»­å­ä¸²æœ‰<code>bã€ab</code>ã€‚</li><li>è¿ç»­å­ä¸²<code>c</code> ä¸­ä»¥å­—ç¬¦<code>c</code> ç»“å°¾çš„è¿ç»­å­ä¸²æœ‰<code>c</code>ï¼Œè¿ç»­å­ä¸²<code>bc</code> ä¸­ä»¥å­—ç¬¦<code>c</code> ç»“å°¾çš„è¿ç»­å­ä¸²æœ‰<code>cã€bc</code>ï¼›è¿ç»­å­ä¸²<code>abc</code> ä¸­ä»¥å­—ç¬¦<code>c</code> ç»“å°¾çš„è¿ç»­å­ä¸²æœ‰<code>cã€bcã€abc</code>ã€‚</li><li>ä¸éš¾å‘ç°ä»¥è¯¥å­—ç¬¦ç»“å°¾çš„è¿ç»­å­ä¸²çš„é•¿åº¦ï¼Œå°±ç­‰äºä»¥è¯¥å­—ç¬¦ç»“å°¾çš„ç›¸ç­‰å­ä¸²çš„ä¸ªæ•°ã€‚</li></ul><p>æ‰€ä»¥æˆ‘ä»¬åªéœ€æ±‚å‡ºpä¸­ä»¥æ¯ä¸ªå­—ç¬¦ç»“å°¾çš„æœ€é•¿è¿ç»­å­ä¸²çš„é•¿åº¦å³å¯ã€‚ç»Ÿè®¡æ‰€æœ‰ä»¥æ¯ä¸ªå­—ç¬¦ç»“å°¾çš„æœ€é•¿è¿ç»­å­ä¸²çš„é•¿åº¦ï¼Œå°±æ˜¯å”¯ä¸€ç›¸ç­‰å­ä¸²çš„ä¸ªæ•°ã€‚æ³¨æ„ï¼šå› ä¸º s æ˜¯ä¸€ä¸ªå¾ªç¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ <code>za</code> ä¹Ÿæ˜¯è¿ç»­å­ä¸²ã€‚</p><details>    <summary>Java</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int findSubstringInWraproundString(String p) &#123;</span><br><span class="line">        // è®°å½• p ä¸­ä»¥æ¯ä¸ªå­—ç¬¦ç»“å°¾çš„æœ€é•¿è¿ç»­å­ä¸²çš„é•¿åº¦</span><br><span class="line">        int[] dp = new int[26];</span><br><span class="line">        char[] array = p.toCharArray();</span><br><span class="line">        // è®°å½•å½“å‰è¿ç»­å­ä¸²çš„é•¿åº¦</span><br><span class="line">        int count = 0;</span><br><span class="line">        // éå† p ä¸­çš„æ‰€æœ‰å­—ç¬¦</span><br><span class="line">        for (int i = 0; i &lt; array.length; i++) &#123;</span><br><span class="line">            // åˆ¤æ–­å­—ç¬¦æ˜¯å¦è¿ç»­</span><br><span class="line">            if (i &gt; 0 &amp;&amp; (array[i] - array[i - 1] - 1) % 26 == 0) &#123;</span><br><span class="line">                // è¿ç»­åˆ™è‡ªåŠ </span><br><span class="line">                count++;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                // ä¸è¿ç»­åˆ™åˆ·æ–°</span><br><span class="line">                count = 1;</span><br><span class="line">            &#125;</span><br><span class="line">            // åªå­˜å‚¨æœ€é•¿çš„è¿ç»­é•¿åº¦</span><br><span class="line">            dp[array[i] - &apos;a&apos;] = Math.max(dp[array[i] - &apos;a&apos;], count);</span><br><span class="line">        &#125;</span><br><span class="line">        int result = 0;</span><br><span class="line">        // ç»Ÿè®¡æ‰€æœ‰ä»¥æ¯ä¸ªå­—ç¬¦ç»“å°¾çš„æœ€é•¿è¿ç»­å­ä¸²çš„é•¿åº¦ï¼Œå°±æ˜¯å”¯ä¸€ç›¸ç­‰å­ä¸²çš„ä¸ªæ•°</span><br><span class="line">        for (int i : dp) &#123;</span><br><span class="line">            result += i;</span><br><span class="line">        &#125;</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>ä»£ç ä¼˜åŒ–</strong></p><p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå¯¹äºæ¯ä¸€ä¸ªå­—ç¬¦éƒ½è¿›è¡Œäº†ä¸€æ¬¡åˆ¤æ–­ã€èµ‹å€¼ã€‚æˆ‘ä»¬å¯ä»¥å…ˆè®¡ç®—å‡ºå½“å‰æœ€é•¿çš„è¿ç»­å­ä¸²ï¼Œç„¶åå†è®¡ç®—å…¶ä¸­æ‰€æœ‰è¿ç»­å­ä¸²çš„é•¿åº¦ã€‚</p><details>    <summary>Java</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int findSubstringInWraproundString(String p) &#123;</span><br><span class="line">        // // è®°å½• p ä¸­ä»¥æ¯ä¸ªå­—ç¬¦ç»“å°¾çš„æœ€é•¿è¿ç»­å­ä¸²çš„é•¿åº¦</span><br><span class="line">        int[] dp = new int[26];</span><br><span class="line">        char[] array = p.toCharArray();</span><br><span class="line">        // è¿ç»­å­ä¸²çš„å¼€å§‹ä¸‹æ ‡</span><br><span class="line">        int start = 0;</span><br><span class="line">        while (start &lt; array.length) &#123;</span><br><span class="line">            // è¿ç»­å­ä¸²çš„ç»“æŸä¸‹æ ‡</span><br><span class="line">            int end = start + 1;</span><br><span class="line">            // ç»“æŸä¸‹æ ‡å‘åç§»åŠ¨ï¼Œå¯»æ‰¾å½“å‰æœ€é•¿çš„è¿ç»­å­ä¸²</span><br><span class="line">            while (end &lt; array.length &amp;&amp; (array[end] - array[end-1] - 1) % 26 == 0) &#123;</span><br><span class="line">                end++;</span><br><span class="line">            &#125;</span><br><span class="line">            // è®¡ç®—è¿ç»­å­ä¸²çš„é•¿åº¦</span><br><span class="line">            int length = end - start;</span><br><span class="line">            // éå†è¿ç»­å­ä¸²çš„æ‰€æœ‰å­—ç¬¦</span><br><span class="line">            for (int i = start; i &lt; end; i++) &#123;</span><br><span class="line">                // è®¡ç®—å½“å‰å­—ç¬¦åœ¨æ•°ç»„çš„ä¸‹æ ‡</span><br><span class="line">                int index = array[i] - &apos;a&apos;;</span><br><span class="line">                // è®¡ç®—å½“å‰è¿ç»­å­ä¸²çš„é•¿åº¦</span><br><span class="line">                int l = length - (i - start);</span><br><span class="line">                dp[index] = Math.max(dp[index], l);</span><br><span class="line">            &#125;</span><br><span class="line">            start = end;</span><br><span class="line">        &#125;</span><br><span class="line">        int result = 0;</span><br><span class="line">        for (int i : dp) &#123;</span><br><span class="line">            result += i;</span><br><span class="line">        &#125;</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="æ‹“å±•"><a href="#æ‹“å±•" class="headerlink" title="æ‹“å±•"></a>æ‹“å±•</h1><ul><li><a href="https://leetcode-cn.com/problems/unique-substrings-in-wraparound-string/" target="_blank" rel="noopener">467. ç¯ç»•å­—ç¬¦ä¸²ä¸­å”¯ä¸€çš„å­å­—ç¬¦ä¸²</a>(ä¸­ç­‰)</li><li><a href="https://leetcode-cn.com/problems/number-of-subarrays-with-bounded-maximum/" target="_blank" rel="noopener">795. åŒºé—´å­æ•°ç»„ä¸ªæ•°</a>(ä¸­ç­‰)</li><li><a href="https://leetcode-cn.com/problems/fruit-into-baskets/" target="_blank" rel="noopener">904. æ°´æœæˆç¯®</a>(ä¸­ç­‰)</li><li><a href="https://leetcode-cn.com/problems/subarrays-with-k-different-integers/" target="_blank" rel="noopener">992. K ä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„</a>ï¼ˆå›°éš¾ï¼‰</li><li><a href="https://leetcode-cn.com/problems/corporate-flight-bookings/" target="_blank" rel="noopener">1109. èˆªç­é¢„è®¢ç»Ÿè®¡</a>(ä¸­ç­‰)</li></ul><p>å‰å››é“é¢˜éƒ½æ˜¯æ»‘åŠ¨çª—å£çš„å­ç±»å‹ï¼Œæˆ‘ä»¬çŸ¥é“æ»‘åŠ¨çª—å£é€‚åˆåœ¨é¢˜ç›®è¦æ±‚è¿ç»­çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œ è€Œ<a href="https://oi-wiki.org/basic/prefix-sum/" target="_blank" rel="noopener">å‰ç¼€å’Œ</a>ä¹Ÿæ˜¯å¦‚æ­¤ã€‚äºŒè€…åœ¨è¿ç»­é—®é¢˜ä¸­ï¼Œå¯¹äº<strong>ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦</strong>æœ‰ç€å¾ˆé‡è¦çš„æ„ä¹‰ã€‚ å› æ­¤å¦‚æœä¸€é“é¢˜ä½ å¯ä»¥ç”¨æš´åŠ›è§£å†³å‡ºæ¥ï¼Œè€Œä¸”é¢˜ç›®æ°å¥½æœ‰è¿ç»­çš„é™åˆ¶ï¼Œ é‚£ä¹ˆæ»‘åŠ¨çª—å£å’Œå‰ç¼€å’Œç­‰æŠ€å·§å°±åº”è¯¥è¢«æƒ³åˆ°ã€‚</p><p>é™¤äº†è¿™å‡ é“é¢˜ï¼Œ è¿˜æœ‰å¾ˆå¤šé¢˜ç›®éƒ½æ˜¯ç±»ä¼¼çš„å¥—è·¯ï¼Œ å¤§å®¶å¯ä»¥åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è¿›è¡Œä½“ä¼šã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥ä¸€èµ·å­¦ä¹ ä¸€ä¸‹ã€‚</p><h2 id="å‰æƒ…æ‘˜è¦"><a href="#å‰æƒ…æ‘˜è¦" class="headerlink" title="å‰æƒ…æ‘˜è¦"></a>å‰æƒ…æ‘˜è¦</h2><p>æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„é—®é¢˜å…¥æ‰‹ï¼Œè¯†åˆ«ä¸€ä¸‹è¿™ç§é¢˜çš„åŸºæœ¬å½¢å¼å’Œå¥—è·¯ï¼Œä¸ºä¹‹åçš„å››é“é¢˜æ‰“åŸºç¡€ã€‚å½“ä½ äº†è§£äº†è¿™ä¸ªå¥—è·¯ä¹‹åï¼Œ ä¹‹ååšè¿™ç§é¢˜å°±å¯ä»¥ç›´æ¥å¥—ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯è¿™å››é“é¢˜çš„å‰ç½®çŸ¥è¯†éƒ½æ˜¯ <code>æ»‘åŠ¨çª—å£</code>ï¼Œ ä¸ç†Ÿæ‚‰çš„åŒå­¦å¯ä»¥å…ˆçœ‹ä¸‹ä¹‹å‰å†™çš„ <a href="https://github.com/azl397985856/leetcode/blob/master/thinkings/slide-window.md" target="_blank" rel="noopener">æ»‘åŠ¨çª—å£ä¸“é¢˜ï¼ˆæ€è·¯ + æ¨¡æ¿ï¼‰</a></p><h3 id="æ¯é¢˜-0"><a href="#æ¯é¢˜-0" class="headerlink" title="æ¯é¢˜ 0"></a>æ¯é¢˜ 0</h3><p>æœ‰ N ä¸ªçš„æ­£æ•´æ•°æ”¾åˆ°æ•°ç»„ A é‡Œï¼Œç°åœ¨è¦æ±‚ä¸€ä¸ªæ–°çš„æ•°ç»„ Bï¼Œæ–°æ•°ç»„çš„ç¬¬ i ä¸ªæ•° B[i]æ˜¯åŸæ•°ç»„ A ç¬¬ 0 åˆ°ç¬¬ i ä¸ªæ•°çš„å’Œã€‚</p><p>è¿™é“é¢˜å¯ä»¥ä½¿ç”¨å‰ç¼€å’Œæ¥è§£å†³ã€‚ å‰ç¼€å’Œæ˜¯ä¸€ç§é‡è¦çš„é¢„å¤„ç†ï¼Œèƒ½å¤§å¤§é™ä½æŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦ã€‚æˆ‘ä»¬å¯ä»¥ç®€å•ç†è§£ä¸ºâ€œæ•°åˆ—çš„å‰ n é¡¹çš„å’Œâ€ã€‚è¿™ä¸ªæ¦‚å¿µå…¶å®å¾ˆå®¹æ˜“ç†è§£ï¼Œå³ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œç¬¬ n ä½å­˜å‚¨çš„æ˜¯æ•°ç»„å‰ n ä¸ªæ•°å­—çš„å’Œã€‚</p><p>å¯¹ [1,2,3,4,5,6] æ¥è¯´ï¼Œå…¶å‰ç¼€å’Œå¯ä»¥æ˜¯ pre=[1,3,6,10,15,21]ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…¬å¼ pre[ğ‘–]=pre[ğ‘–âˆ’1]+nums[ğ‘–]å¾—åˆ°æ¯ä¸€ä½å‰ç¼€å’Œçš„å€¼ï¼Œä»è€Œé€šè¿‡å‰ç¼€å’Œè¿›è¡Œç›¸åº”çš„è®¡ç®—å’Œè§£é¢˜ã€‚å…¶å®å‰ç¼€å’Œçš„æ¦‚å¿µå¾ˆç®€å•ï¼Œä½†å›°éš¾çš„æ˜¯å¦‚ä½•åœ¨é¢˜ç›®ä¸­ä½¿ç”¨å‰ç¼€å’Œä»¥åŠå¦‚ä½•ä½¿ç”¨å‰ç¼€å’Œçš„å…³ç³»æ¥è¿›è¡Œè§£é¢˜ã€‚</p><h3 id="æ¯é¢˜-1"><a href="#æ¯é¢˜-1" class="headerlink" title="æ¯é¢˜ 1"></a>æ¯é¢˜ 1</h3><p>å¦‚æœè®©ä½ æ±‚ä¸€ä¸ªæ•°ç»„çš„è¿ç»­å­æ•°ç»„æ€»ä¸ªæ•°ï¼Œä½ ä¼šå¦‚ä½•æ±‚ï¼Ÿå…¶ä¸­è¿ç»­æŒ‡çš„æ˜¯æ•°ç»„çš„ç´¢å¼•è¿ç»­ã€‚ æ¯”å¦‚ [1,3,4]ï¼Œå…¶è¿ç»­å­æ•°ç»„æœ‰ï¼š<code>[1], [3], [4], [1,3], [3,4] , [1,3,4]</code>ï¼Œä½ éœ€è¦è¿”å› 6ã€‚</p><p>ä¸€ç§æ€è·¯æ˜¯æ€»çš„è¿ç»­å­æ•°ç»„ä¸ªæ•°ç­‰äºï¼š<strong>ä»¥ç´¢å¼•ä¸º 0 ç»“å°¾çš„å­æ•°ç»„ä¸ªæ•° + ä»¥ç´¢å¼•ä¸º 1 ç»“å°¾çš„å­æ•°ç»„ä¸ªæ•° + â€¦ + ä»¥ç´¢å¼•ä¸º n - 1 ç»“å°¾çš„å­æ•°ç»„ä¸ªæ•°</strong>ï¼Œè¿™æ— ç–‘æ˜¯å®Œå¤‡çš„ã€‚</p><p>åŒæ—¶<strong>åˆ©ç”¨æ¯é¢˜ 0 çš„å‰ç¼€å’Œæ€è·¯ï¼Œ è¾¹éå†è¾¹æ±‚å’Œã€‚</strong></p><p>å‚è€ƒä»£ç (JS)ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">countSubArray</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> ans = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> pre = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (_ <span class="keyword">in</span> nums) &#123;</span><br><span class="line">    pre += <span class="number">1</span>;</span><br><span class="line">    ans += pre;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)</em>ï¼Œå…¶ä¸­ N ä¸ºæ•°ç»„é•¿åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li></ul><p>è€Œç”±äºä»¥ç´¢å¼•ä¸º i ç»“å°¾çš„å­æ•°ç»„ä¸ªæ•°å°±æ˜¯ i + 1ï¼Œå› æ­¤è¿™é“é¢˜å¯ä»¥ç›´æ¥ç”¨ç­‰å·®æ•°åˆ—æ±‚å’Œå…¬å¼ <code>(1 + n) * n / 2</code>ï¼Œå…¶ä¸­ n æ•°ç»„é•¿åº¦ã€‚</p><h3 id="æ¯é¢˜-2"><a href="#æ¯é¢˜-2" class="headerlink" title="æ¯é¢˜ 2"></a>æ¯é¢˜ 2</h3><p>æˆ‘ç»§ç»­ä¿®æ”¹ä¸‹é¢˜ç›®ï¼Œ å¦‚æœè®©ä½ æ±‚ä¸€ä¸ªæ•°ç»„ç›¸é‚»å·®ä¸º 1 è¿ç»­å­æ•°ç»„çš„æ€»ä¸ªæ•°å‘¢ï¼Ÿå…¶å®å°±æ˜¯<strong>ç´¢å¼•å·® 1 çš„åŒæ—¶ï¼Œå€¼ä¹Ÿå·® 1ã€‚</strong></p><p>å’Œä¸Šé¢æ€è·¯ç±»ä¼¼ï¼Œæ— éå°±æ˜¯å¢åŠ å·®å€¼çš„åˆ¤æ–­ã€‚</p><p>å‚è€ƒä»£ç (JS)ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">countSubArray</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> ans = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">let</span> pre = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums[i] - nums[i - <span class="number">1</span>] == <span class="number">1</span>) &#123;</span><br><span class="line">      pre += <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      pre = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ans += pre;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)</em>ï¼Œå…¶ä¸­ N ä¸ºæ•°ç»„é•¿åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li></ul><p>å¦‚æœæˆ‘å€¼å·®åªè¦å¤§äº 1 å°±è¡Œå‘¢ï¼Ÿå…¶å®æ”¹ä¸‹ç¬¦å·å°±è¡Œäº†ï¼Œè¿™ä¸å°±æ˜¯æ±‚ä¸Šå‡å­åºåˆ—ä¸ªæ•°ä¹ˆï¼Ÿè¿™é‡Œä¸å†ç»§ç»­èµ˜è¿°ï¼Œ å¤§å®¶å¯ä»¥è‡ªå·±è¯•è¯•ã€‚</p><h3 id="æ¯é¢˜-3"><a href="#æ¯é¢˜-3" class="headerlink" title="æ¯é¢˜ 3"></a>æ¯é¢˜ 3</h3><p>æˆ‘ä»¬ç»§ç»­æ‰©å±•ã€‚</p><p>å¦‚æœæˆ‘è®©ä½ æ±‚å‡ºä¸å¤§äº k çš„å­æ•°ç»„çš„ä¸ªæ•°å‘¢ï¼Ÿä¸å¤§äº k æŒ‡çš„æ˜¯å­æ•°ç»„çš„å…¨éƒ¨å…ƒç´ éƒ½ä¸å¤§äº kã€‚ æ¯”å¦‚ [1,3,4] å­æ•°ç»„æœ‰ <code>[1], [3], [4], [1,3], [3,4] , [1,3,4]</code>ï¼Œä¸å¤§äº 3 çš„å­æ•°ç»„æœ‰ <code>[1], [3], [1,3]</code> ï¼Œé‚£ä¹ˆ [1,3,4] ä¸å¤§äº 3 çš„å­æ•°ç»„ä¸ªæ•°å°±æ˜¯ 3ã€‚ å®ç°å‡½æ•° atMostK(k, nums)ã€‚</p><p>å‚è€ƒä»£ç ï¼ˆJSï¼‰:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">countSubArray</span>(<span class="params">k, nums</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> ans = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> pre = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums[i] &lt;= k) &#123;</span><br><span class="line">      pre += <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      pre = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ans += pre;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)</em>ï¼Œå…¶ä¸­ N ä¸ºæ•°ç»„é•¿åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></li></ul><h3 id="æ¯é¢˜-4"><a href="#æ¯é¢˜-4" class="headerlink" title="æ¯é¢˜ 4"></a>æ¯é¢˜ 4</h3><p>å¦‚æœæˆ‘è®©ä½ æ±‚å‡ºå­æ•°ç»„æœ€å¤§å€¼åˆšå¥½æ˜¯ k çš„å­æ•°ç»„çš„ä¸ªæ•°å‘¢ï¼Ÿ æ¯”å¦‚ [1,3,4] å­æ•°ç»„æœ‰ <code>[1], [3], [4], [1,3], [3,4] , [1,3,4]</code>ï¼Œå­æ•°ç»„æœ€å¤§å€¼åˆšå¥½æ˜¯ 3 çš„å­æ•°ç»„æœ‰ <code>[3], [1,3]</code> ï¼Œé‚£ä¹ˆ [1,3,4] å­æ•°ç»„æœ€å¤§å€¼åˆšå¥½æ˜¯ 3 çš„å­æ•°ç»„ä¸ªæ•°å°±æ˜¯ 2ã€‚å®ç°å‡½æ•° exactK(k, nums)ã€‚</p><p>å®é™…ä¸Šæ˜¯ exactK å¯ä»¥ç›´æ¥åˆ©ç”¨ atMostKï¼Œå³ atMostK(k) - atMostK(k - 1)ï¼ŒåŸå› è§ä¸‹æ–¹æ¯é¢˜ 5 éƒ¨åˆ†ã€‚</p><h3 id="æ¯é¢˜-5"><a href="#æ¯é¢˜-5" class="headerlink" title="æ¯é¢˜ 5"></a>æ¯é¢˜ 5</h3><p>å¦‚æœæˆ‘è®©ä½ æ±‚å‡ºå­æ•°ç»„æœ€å¤§å€¼åˆšå¥½æ˜¯ ä»‹äº k1 å’Œ k2 çš„å­æ•°ç»„çš„ä¸ªæ•°å‘¢ï¼Ÿå®ç°å‡½æ•° betweenK(k1, k2, nums)ã€‚</p><p>å®é™…ä¸Šæ˜¯ betweenK å¯ä»¥ç›´æ¥åˆ©ç”¨ atMostKï¼Œå³ atMostK(k1, nums) - atMostK(k2 - 1, nums)ï¼Œå…¶ä¸­ k1 &gt; k2ã€‚å‰ææ˜¯å€¼æ˜¯ç¦»æ•£çš„ï¼Œ æ¯”å¦‚ä¸Šé¢æˆ‘å‡ºçš„é¢˜éƒ½æ˜¯æ•´æ•°ã€‚ å› æ­¤æˆ‘å¯ä»¥ç›´æ¥ å‡ 1ï¼Œå› ä¸º <strong>1 æ˜¯ä¸¤ä¸ªæ•´æ•°æœ€å°çš„é—´éš”</strong>ã€‚</p><p>å¦‚ä¸Šï¼Œ<code>å°äºç­‰äº 10 çš„åŒºåŸŸ</code>å‡å» <code>å°äº 5 çš„åŒºåŸŸ</code>å°±æ˜¯ <code>å¤§äºç­‰äº 5 ä¸”å°äºç­‰äº 10 çš„åŒºåŸŸ</code>ã€‚</p><p>æ³¨æ„æˆ‘è¯´çš„æ˜¯å°äº 5ï¼Œ ä¸æ˜¯å°äºç­‰äº 5ã€‚ ç”±äºæ•´æ•°æ˜¯ç¦»æ•£çš„ï¼Œæœ€å°é—´éš”æ˜¯ 1ã€‚å› æ­¤å°äº 5 åœ¨è¿™é‡Œå°±ç­‰ä»·äº å°äºç­‰äº 4ã€‚è¿™å°±æ˜¯ betweenK(k1, k2, nums) = atMostK(k1) - atMostK(k2 - 1) çš„åŸå› ã€‚</p><p>å› æ­¤ä¸éš¾çœ‹å‡º exactK å…¶å®å°±æ˜¯ betweenK çš„ç‰¹æ®Šå½¢å¼ã€‚ å½“ k1 == k2 çš„æ—¶å€™ï¼Œ betweenK ç­‰ä»·äº exactKã€‚</p><p>å› æ­¤ atMostK å°±æ˜¯çµé­‚æ–¹æ³•ï¼Œä¸€å®šè¦æŒæ¡ï¼Œä¸æ˜ç™½å»ºè®®å¤šçœ‹å‡ éã€‚</p><p>æœ‰äº†ä¸Šé¢çš„é“ºå«ï¼Œ æˆ‘ä»¬æ¥çœ‹ä¸‹ç¬¬ä¸€é“é¢˜ã€‚</p><h2 id="467-ç¯ç»•å­—ç¬¦ä¸²ä¸­å”¯ä¸€çš„å­å­—ç¬¦ä¸²ï¼ˆä¸­ç­‰ï¼‰"><a href="#467-ç¯ç»•å­—ç¬¦ä¸²ä¸­å”¯ä¸€çš„å­å­—ç¬¦ä¸²ï¼ˆä¸­ç­‰ï¼‰" class="headerlink" title="467. ç¯ç»•å­—ç¬¦ä¸²ä¸­å”¯ä¸€çš„å­å­—ç¬¦ä¸²ï¼ˆä¸­ç­‰ï¼‰"></a>467. ç¯ç»•å­—ç¬¦ä¸²ä¸­å”¯ä¸€çš„å­å­—ç¬¦ä¸²ï¼ˆä¸­ç­‰ï¼‰</h2><h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><details>    <summary>é¢˜ç›®æè¿°</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">æŠŠå­—ç¬¦ä¸² s çœ‹ä½œæ˜¯â€œabcdefghijklmnopqrstuvwxyzâ€çš„æ— é™ç¯ç»•å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥Â s çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š&quot;...zabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcd....&quot;.Â </span><br><span class="line"></span><br><span class="line">ç°åœ¨æˆ‘ä»¬æœ‰äº†å¦ä¸€ä¸ªå­—ç¬¦ä¸² p ã€‚ä½ éœ€è¦çš„æ˜¯æ‰¾å‡º s ä¸­æœ‰å¤šå°‘ä¸ªå”¯ä¸€çš„ p çš„éç©ºå­ä¸²ï¼Œå°¤å…¶æ˜¯å½“ä½ çš„è¾“å…¥æ˜¯å­—ç¬¦ä¸² p ï¼Œä½ éœ€è¦è¾“å‡ºå­—ç¬¦ä¸²Â s ä¸­ p çš„ä¸åŒçš„éç©ºå­ä¸²çš„æ•°ç›®ã€‚Â </span><br><span class="line"></span><br><span class="line">æ³¨æ„: pÂ ä»…ç”±å°å†™çš„è‹±æ–‡å­—æ¯ç»„æˆï¼Œp çš„å¤§å°å¯èƒ½è¶…è¿‡ 10000ã€‚</span><br><span class="line"></span><br><span class="line">Â </span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹Â 1:</span><br><span class="line"></span><br><span class="line">è¾“å…¥: &quot;a&quot;</span><br><span class="line">è¾“å‡º: 1</span><br><span class="line">è§£é‡Š: å­—ç¬¦ä¸² S ä¸­åªæœ‰ä¸€ä¸ª&quot;a&quot;å­å­—ç¬¦ã€‚</span><br><span class="line">Â </span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ 2:</span><br><span class="line"></span><br><span class="line">è¾“å…¥: &quot;cac&quot;</span><br><span class="line">è¾“å‡º: 2</span><br><span class="line">è§£é‡Š: å­—ç¬¦ä¸² S ä¸­çš„å­—ç¬¦ä¸²â€œcacâ€åªæœ‰ä¸¤ä¸ªå­ä¸²â€œaâ€ã€â€œcâ€ã€‚.</span><br><span class="line">Â </span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ 3:</span><br><span class="line"></span><br><span class="line">è¾“å…¥: &quot;zab&quot;</span><br><span class="line">è¾“å‡º: 6</span><br><span class="line">è§£é‡Š: åœ¨å­—ç¬¦ä¸² S ä¸­æœ‰å…­ä¸ªå­ä¸²â€œzâ€ã€â€œaâ€ã€â€œbâ€ã€â€œzaâ€ã€â€œabâ€ã€â€œzabâ€ã€‚.</span><br></pre></td></tr></table></figure></details><h3 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h3><ul><li>æ»‘åŠ¨çª—å£</li></ul><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>é¢˜ç›®æ˜¯è®©æˆ‘ä»¬æ‰¾ p åœ¨ s ä¸­å‡ºç°çš„éç©ºå­ä¸²æ•°ç›®ï¼Œè€Œ s æ˜¯å›ºå®šçš„ä¸€ä¸ªæ— é™å¾ªç¯å­—ç¬¦ä¸²ã€‚ç”±äº p çš„æ•°æ®èŒƒå›´æ˜¯ 10^5 ï¼Œå› æ­¤æš´åŠ›æ‰¾å‡ºæ‰€æœ‰å­ä¸²å°±éœ€è¦ 10^10 æ¬¡æ“ä½œäº†ï¼Œåº”è¯¥ä¼šè¶…æ—¶ã€‚è€Œä¸”é¢˜ç›®å¾ˆå¤šä¿¡æ¯éƒ½æ²¡ç”¨åˆ°ï¼Œè‚¯å®šä¸å¯¹ã€‚</p><p>ä»”ç»†çœ‹ä¸‹é¢˜ç›®å‘ç°ï¼Œè¿™ä¸å°±æ˜¯æ¯é¢˜ 2 çš„å˜ç§ä¹ˆï¼Ÿè¯ä¸å¤šè¯´ï¼Œ ç›´æ¥ä¸Šä»£ç ï¼Œçœ‹çœ‹æœ‰å¤šåƒã€‚</p><blockquote><p>ä¸ºäº†å‡å°‘åˆ¤æ–­ï¼Œ æˆ‘è¿™é‡Œç”¨äº†ä¸€ä¸ªé»‘ç§‘æŠ€ï¼Œ p å‰é¢åŠ äº†ä¸ª <code>^</code>ã€‚</p></blockquote><details>    <summary>Python</summary><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findSubstringInWraproundString</span><span class="params">(self, p: str)</span> -&gt; int:</span></span><br><span class="line">        p = <span class="string">'^'</span> + p</span><br><span class="line">        w = <span class="number">1</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,len(p)):</span><br><span class="line">            <span class="keyword">if</span> ord(p[i])-ord(p[i<span class="number">-1</span>]) == <span class="number">1</span> <span class="keyword">or</span> ord(p[i])-ord(p[i<span class="number">-1</span>]) == <span class="number">-25</span>:</span><br><span class="line">                w += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                w = <span class="number">1</span></span><br><span class="line">            ans += w</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><p>å¦‚ä¸Šä»£ç æ˜¯æœ‰é—®é¢˜ã€‚ æ¯”å¦‚ <code>cac</code>ä¼šè¢«è®¡ç®—ä¸º 3ï¼Œå®é™…ä¸Šåº”è¯¥æ˜¯ 2ã€‚æ ¹æœ¬åŸå› åœ¨äº c è¢«é”™è¯¯åœ°è®¡ç®—äº†ä¸¤æ¬¡ã€‚å› æ­¤ä¸€ä¸ªç®€å•çš„æ€è·¯å°±æ˜¯ç”¨ set è®°å½•ä¸€ä¸‹è®¿é—®è¿‡çš„å­å­—ç¬¦ä¸²å³å¯ã€‚æ¯”å¦‚ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    c,</span><br><span class="line">    abc,</span><br><span class="line">    ab,</span><br><span class="line">    abcd</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€Œç”±äº set ä¸­çš„å…ƒç´ ä¸€å®šæ˜¯è¿ç»­çš„ï¼Œå› æ­¤ä¸Šé¢çš„æ•°æ®ä¹Ÿå¯ä»¥ç”¨ hashmap å­˜ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    c: 3</span><br><span class="line">    d: 4</span><br><span class="line">    b: 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å«ä¹‰æ˜¯ï¼š</p><ul><li>ä»¥ b ç»“å°¾çš„å­ä¸²æœ€å¤§é•¿åº¦ä¸º 1ï¼Œä¹Ÿå°±æ˜¯ bã€‚</li><li>ä»¥ c ç»“å°¾çš„å­ä¸²æœ€å¤§é•¿åº¦ä¸º 3ï¼Œä¹Ÿå°±æ˜¯ abcã€‚</li><li>ä»¥ d ç»“å°¾çš„å­ä¸²æœ€å¤§é•¿åº¦ä¸º 4ï¼Œä¹Ÿå°±æ˜¯ abcdã€‚</li></ul><p>è‡³äº c ï¼Œæ˜¯æ²¡æœ‰å¿…è¦å­˜çš„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ¯é¢˜ 2 çš„æ–¹å¼ç®—å‡ºæ¥ã€‚</p><p>å…·ä½“ç®—æ³•ï¼š</p><ul><li>å®šä¹‰ä¸€ä¸ª len_mapperã€‚key æ˜¯ å­—æ¯ï¼Œ value æ˜¯ é•¿åº¦ã€‚ å«ä¹‰æ˜¯ä»¥ key ç»“å°¾çš„æœ€é•¿è¿ç»­å­ä¸²çš„é•¿åº¦ã€‚</li></ul><blockquote><p>å…³é”®å­—æ˜¯ï¼šæœ€é•¿</p></blockquote><ul><li>ç”¨ä¸€ä¸ªå˜é‡ w è®°å½•è¿ç»­å­ä¸²çš„é•¿åº¦ï¼Œéå†è¿‡ç¨‹æ ¹æ® w çš„å€¼æ›´æ–° len_mapper</li><li>è¿”å› len_mapper ä¸­æ‰€æœ‰ value çš„å’Œã€‚</li></ul><p>æ¯”å¦‚: abcï¼Œæ­¤æ—¶çš„ len_mapper ä¸º:</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    c: <span class="number">3</span></span><br><span class="line">    b: <span class="number">2</span></span><br><span class="line">    a: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†æ¯”å¦‚ï¼šabcabï¼Œæ­¤æ—¶çš„ len_mapper ä¾æ—§ã€‚</p><p>å†æ¯”å¦‚: abcazabcï¼Œæ­¤æ—¶çš„ len_mapperï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    c: <span class="number">4</span></span><br><span class="line">    b: <span class="number">3</span></span><br><span class="line">    a: <span class="number">2</span></span><br><span class="line">    z: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™å°±å¾—åˆ°äº†å»é‡çš„ç›®çš„ã€‚è¿™ç§ç®—æ³•æ˜¯ä¸é‡ä¸æ¼çš„ï¼Œå› ä¸ºæœ€é•¿çš„è¿ç»­å­ä¸²ä¸€å®šæ˜¯åŒ…å«äº†æ¯”å®ƒçŸ­çš„è¿ç»­å­ä¸²ï¼Œè¿™ä¸ªæ€æƒ³å’Œ <a href="https://github.com/azl397985856/leetcode/issues/266" target="_blank" rel="noopener">1297. å­ä¸²çš„æœ€å¤§å‡ºç°æ¬¡æ•°</a> å‰ªæçš„æ–¹æ³•æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ã€‚</p><h3 id="ä»£ç ï¼ˆPythonï¼‰"><a href="#ä»£ç ï¼ˆPythonï¼‰" class="headerlink" title="ä»£ç ï¼ˆPythonï¼‰"></a>ä»£ç ï¼ˆPythonï¼‰</h3><details>    <summary>Python</summary><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findSubstringInWraproundString</span><span class="params">(self, p: str)</span> -&gt; int:</span></span><br><span class="line">        p = <span class="string">'^'</span> + p</span><br><span class="line">        len_mapper = collections.defaultdict(<span class="keyword">lambda</span>: <span class="number">0</span>)</span><br><span class="line">        w = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,len(p)):</span><br><span class="line">            <span class="keyword">if</span> ord(p[i])-ord(p[i<span class="number">-1</span>]) == <span class="number">1</span> <span class="keyword">or</span> ord(p[i])-ord(p[i<span class="number">-1</span>]) == <span class="number">-25</span>:</span><br><span class="line">                w += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                w = <span class="number">1</span></span><br><span class="line">            len_mapper[p[i]] = max(len_mapper[p[i]], w)</span><br><span class="line">        <span class="keyword">return</span> sum(len_mapper.values())</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> ä¸ºå­—ç¬¦ä¸² p çš„é•¿åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šç”±äºæœ€å¤šå­˜å‚¨ 26 ä¸ªå­—æ¯ï¼Œ å› æ­¤ç©ºé—´å®é™…ä¸Šæ˜¯å¸¸æ•°ï¼Œæ•…ç©ºé—´å¤æ‚åº¦ä¸º <em>O(1)</em>ã€‚</li></ul><h2 id="795-åŒºé—´å­æ•°ç»„ä¸ªæ•°ï¼ˆä¸­ç­‰ï¼‰"><a href="#795-åŒºé—´å­æ•°ç»„ä¸ªæ•°ï¼ˆä¸­ç­‰ï¼‰" class="headerlink" title="795. åŒºé—´å­æ•°ç»„ä¸ªæ•°ï¼ˆä¸­ç­‰ï¼‰"></a>795. åŒºé—´å­æ•°ç»„ä¸ªæ•°ï¼ˆä¸­ç­‰ï¼‰</h2><h3 id="é¢˜ç›®æè¿°-1"><a href="#é¢˜ç›®æè¿°-1" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ç»™å®šä¸€ä¸ªå…ƒç´ éƒ½æ˜¯æ­£æ•´æ•°çš„æ•°ç»„ AÂ ï¼Œæ­£æ•´æ•° LÂ  ä»¥åŠ Â RÂ (L &lt;= R)ã€‚</span><br><span class="line"></span><br><span class="line">æ±‚è¿ç»­ã€éç©ºä¸”å…¶ä¸­æœ€å¤§å…ƒç´ æ»¡è¶³å¤§äºç­‰äº LÂ  å°äºç­‰äº R çš„å­æ•°ç»„ä¸ªæ•°ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ :</span><br><span class="line">è¾“å…¥:</span><br><span class="line">A = [2, 1, 4, 3]</span><br><span class="line">L = 2</span><br><span class="line">R = 3</span><br><span class="line">è¾“å‡º: 3</span><br><span class="line">è§£é‡Š: æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„: [2], [2, 1], [3].</span><br><span class="line">æ³¨æ„:</span><br><span class="line"></span><br><span class="line">L, RÂ  å’Œ Â A[i] éƒ½æ˜¯æ•´æ•°ï¼ŒèŒƒå›´åœ¨ Â [0, 10^9]ã€‚</span><br><span class="line">æ•°ç»„ Â AÂ  çš„é•¿åº¦èŒƒå›´åœ¨[1, 50000]ã€‚</span><br></pre></td></tr></table></figure><h3 id="å‰ç½®çŸ¥è¯†-1"><a href="#å‰ç½®çŸ¥è¯†-1" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h3><ul><li>æ»‘åŠ¨çª—å£</li></ul><h3 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>ç”±æ¯é¢˜ 5ï¼Œæˆ‘ä»¬çŸ¥é“ <strong>betweenK å¯ä»¥ç›´æ¥åˆ©ç”¨ atMostKï¼Œå³ atMostK(k1) - atMostK(k2 - 1)ï¼Œå…¶ä¸­ k1 &gt; k2</strong>ã€‚</p><p>ç”±æ¯é¢˜ 2ï¼Œæˆ‘ä»¬çŸ¥é“å¦‚ä½•æ±‚æ»¡è¶³ä¸€å®šæ¡ä»¶ï¼ˆè¿™é‡Œæ˜¯å…ƒç´ éƒ½å°äºç­‰äº Rï¼‰å­æ•°ç»„çš„ä¸ªæ•°ã€‚</p><p>è¿™ä¸¤ä¸ªç»“åˆä¸€ä¸‹ï¼Œ å°±å¯ä»¥è§£å†³ã€‚</p><h3 id="ä»£ç ï¼ˆPythonï¼‰-1"><a href="#ä»£ç ï¼ˆPythonï¼‰-1" class="headerlink" title="ä»£ç ï¼ˆPythonï¼‰"></a>ä»£ç ï¼ˆPythonï¼‰</h3><blockquote><p>ä»£ç æ˜¯ä¸æ˜¯å¾ˆåƒ</p></blockquote><details>    <summary>Python</summary><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numSubarrayBoundedMax</span><span class="params">(self, A: List[int], L: int, R: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">notGreater</span><span class="params">(R)</span>:</span></span><br><span class="line">            ans = cnt = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> a <span class="keyword">in</span> A:</span><br><span class="line">                <span class="keyword">if</span> a &lt;= R: cnt += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>: cnt = <span class="number">0</span></span><br><span class="line">                ans += cnt</span><br><span class="line">            <span class="keyword">return</span>  ans</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> notGreater(R) - notGreater(L - <span class="number">1</span>)</span><br></pre></td></tr></table></figure></details><p><strong><em>å¤æ‚åº¦åˆ†æ</em></strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> ä¸ºæ•°ç»„é•¿åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</li></ul><h2 id="904-æ°´æœæˆç¯®ï¼ˆä¸­ç­‰ï¼‰"><a href="#904-æ°´æœæˆç¯®ï¼ˆä¸­ç­‰ï¼‰" class="headerlink" title="904. æ°´æœæˆç¯®ï¼ˆä¸­ç­‰ï¼‰"></a>904. æ°´æœæˆç¯®ï¼ˆä¸­ç­‰ï¼‰</h2><h3 id="é¢˜ç›®æè¿°-2"><a href="#é¢˜ç›®æè¿°-2" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">åœ¨ä¸€æ’æ ‘ä¸­ï¼Œç¬¬ i æ£µæ ‘äº§ç”ŸÂ tree[i] å‹çš„æ°´æœã€‚</span><br><span class="line">ä½ å¯ä»¥ä»ä½ é€‰æ‹©çš„ä»»ä½•æ ‘å¼€å§‹ï¼Œç„¶åé‡å¤æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</span><br><span class="line"></span><br><span class="line">æŠŠè¿™æ£µæ ‘ä¸Šçš„æ°´æœæ”¾è¿›ä½ çš„ç¯®å­é‡Œã€‚å¦‚æœä½ åšä¸åˆ°ï¼Œå°±åœä¸‹æ¥ã€‚</span><br><span class="line">ç§»åŠ¨åˆ°å½“å‰æ ‘å³ä¾§çš„ä¸‹ä¸€æ£µæ ‘ã€‚å¦‚æœå³è¾¹æ²¡æœ‰æ ‘ï¼Œå°±åœä¸‹æ¥ã€‚</span><br><span class="line">è¯·æ³¨æ„ï¼Œåœ¨é€‰æ‹©ä¸€é¢—æ ‘åï¼Œä½ æ²¡æœ‰ä»»ä½•é€‰æ‹©ï¼šä½ å¿…é¡»æ‰§è¡Œæ­¥éª¤ 1ï¼Œç„¶åæ‰§è¡Œæ­¥éª¤ 2ï¼Œç„¶åè¿”å›æ­¥éª¤ 1ï¼Œç„¶åæ‰§è¡Œæ­¥éª¤ 2ï¼Œä¾æ­¤ç±»æ¨ï¼Œç›´è‡³åœæ­¢ã€‚</span><br><span class="line"></span><br><span class="line">ä½ æœ‰ä¸¤ä¸ªç¯®å­ï¼Œæ¯ä¸ªç¯®å­å¯ä»¥æºå¸¦ä»»ä½•æ•°é‡çš„æ°´æœï¼Œä½†ä½ å¸Œæœ›æ¯ä¸ªç¯®å­åªæºå¸¦ä¸€ç§ç±»å‹çš„æ°´æœã€‚</span><br><span class="line"></span><br><span class="line">ç”¨è¿™ä¸ªç¨‹åºä½ èƒ½æ”¶é›†çš„æ°´æœæ ‘çš„æœ€å¤§æ€»é‡æ˜¯å¤šå°‘ï¼Ÿ</span><br><span class="line"></span><br><span class="line">Â </span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ 1ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼š[1,2,1]</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æ”¶é›† [1,2,1]ã€‚</span><br><span class="line">ç¤ºä¾‹ 2ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼š[0,1,2,2]</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æ”¶é›† [1,2,2]</span><br><span class="line">å¦‚æœæˆ‘ä»¬ä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹ï¼Œæˆ‘ä»¬å°†åªèƒ½æ”¶é›†åˆ° [0, 1]ã€‚</span><br><span class="line">ç¤ºä¾‹ 3ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼š[1,2,3,2,2]</span><br><span class="line">è¾“å‡ºï¼š4</span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æ”¶é›† [2,3,2,2]</span><br><span class="line">å¦‚æœæˆ‘ä»¬ä»ç¬¬ä¸€æ£µæ ‘å¼€å§‹ï¼Œæˆ‘ä»¬å°†åªèƒ½æ”¶é›†åˆ° [1, 2]ã€‚</span><br><span class="line">ç¤ºä¾‹ 4ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼š[3,3,3,1,2,1,1,2,3,3,4]</span><br><span class="line">è¾“å‡ºï¼š5</span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æ”¶é›† [1,2,1,1,2]</span><br><span class="line">å¦‚æœæˆ‘ä»¬ä»ç¬¬ä¸€æ£µæ ‘æˆ–ç¬¬å…«æ£µæ ‘å¼€å§‹ï¼Œæˆ‘ä»¬å°†åªèƒ½æ”¶é›†åˆ° 4 æ£µæ°´æœæ ‘ã€‚</span><br><span class="line">Â </span><br><span class="line"></span><br><span class="line">æç¤ºï¼š</span><br><span class="line"></span><br><span class="line">1 &lt;= tree.length &lt;= 40000</span><br><span class="line">0 &lt;= tree[i] &lt; tree.length</span><br></pre></td></tr></table></figure><h3 id="å‰ç½®çŸ¥è¯†-2"><a href="#å‰ç½®çŸ¥è¯†-2" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h3><ul><li>æ»‘åŠ¨çª—å£</li></ul><h3 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>é¢˜ç›®èŠ±é‡Œèƒ¡å“¨çš„ã€‚æˆ‘ä»¬æ¥æŠ½è±¡ä¸€ä¸‹ï¼Œå°±æ˜¯ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œ è®©ä½ <strong>é€‰å®šä¸€ä¸ªå­æ•°ç»„ï¼Œ è¿™ä¸ªå­æ•°ç»„æœ€å¤šåªæœ‰ä¸¤ç§æ•°å­—</strong>ï¼Œè¿™ä¸ªé€‰å®šçš„å­æ•°ç»„æœ€å¤§å¯ä»¥æ˜¯å¤šå°‘ã€‚</p><p>è¿™ä¸å°±å’Œæ¯é¢˜ 3 ä¸€æ ·ä¹ˆï¼Ÿåªä¸è¿‡ k å˜æˆäº†å›ºå®šå€¼ 2ã€‚å¦å¤–ç”±äºé¢˜ç›®è¦æ±‚æ•´ä¸ªçª—å£æœ€å¤šä¸¤ç§æ•°å­—ï¼Œæˆ‘ä»¬ç”¨å“ˆå¸Œè¡¨å­˜ä¸€ä¸‹ä¸å°±å¥½äº†å—ï¼Ÿ</p><blockquote><p>set æ˜¯ä¸è¡Œäº†çš„ã€‚ å› æ­¤æˆ‘ä»¬ä¸ä½†éœ€è¦çŸ¥é“å‡ ä¸ªæ•°å­—åœ¨çª—å£ï¼Œ æˆ‘ä»¬è¿˜è¦çŸ¥é“æ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°ï¼Œè¿™æ ·æ‰å¯ä»¥ä½¿ç”¨æ»‘åŠ¨çª—å£ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ã€‚</p></blockquote><h3 id="ä»£ç ï¼ˆPythonï¼‰-2"><a href="#ä»£ç ï¼ˆPythonï¼‰-2" class="headerlink" title="ä»£ç ï¼ˆPythonï¼‰"></a>ä»£ç ï¼ˆPythonï¼‰</h3><details>    <summary>Python</summary><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">totalFruit</span><span class="params">(self, tree: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">atMostK</span><span class="params">(k, nums)</span>:</span></span><br><span class="line">            i = ans = <span class="number">0</span></span><br><span class="line">            win = defaultdict(<span class="keyword">lambda</span>: <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">                <span class="keyword">if</span> win[nums[j]] == <span class="number">0</span>: k -= <span class="number">1</span></span><br><span class="line">                win[nums[j]] += <span class="number">1</span></span><br><span class="line">                <span class="keyword">while</span> k &lt; <span class="number">0</span>:</span><br><span class="line">                    win[nums[i]] -= <span class="number">1</span></span><br><span class="line">                    <span class="keyword">if</span> win[nums[i]] == <span class="number">0</span>: k += <span class="number">1</span></span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">                ans = max(ans, j - i + <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> atMostK(<span class="number">2</span>, tree)</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> ä¸ºæ•°ç»„é•¿åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(k)</em>ã€‚</li></ul><h2 id="992-K-ä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„ï¼ˆå›°éš¾ï¼‰"><a href="#992-K-ä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„ï¼ˆå›°éš¾ï¼‰" class="headerlink" title="992. K ä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„ï¼ˆå›°éš¾ï¼‰"></a>992. K ä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„ï¼ˆå›°éš¾ï¼‰</h2><h3 id="é¢˜ç›®æè¿°-3"><a href="#é¢˜ç›®æè¿°-3" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">ç»™å®šä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ Aï¼Œå¦‚æœ AÂ çš„æŸä¸ªå­æ•°ç»„ä¸­ä¸åŒæ•´æ•°çš„ä¸ªæ•°æ°å¥½ä¸º Kï¼Œåˆ™ç§° A çš„è¿™ä¸ªè¿ç»­ã€ä¸ä¸€å®šç‹¬ç«‹çš„å­æ•°ç»„ä¸ºå¥½å­æ•°ç»„ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆä¾‹å¦‚ï¼Œ[1,2,3,1,2] ä¸­æœ‰Â 3Â ä¸ªä¸åŒçš„æ•´æ•°ï¼š1ï¼Œ2ï¼Œä»¥åŠÂ 3ã€‚ï¼‰</span><br><span class="line"></span><br><span class="line">è¿”å›Â AÂ ä¸­å¥½å­æ•°ç»„çš„æ•°ç›®ã€‚</span><br><span class="line"></span><br><span class="line">Â </span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ 1ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šA = [1,2,1,2,3], K = 2</span><br><span class="line">è¾“å‡ºï¼š7</span><br><span class="line">è§£é‡Šï¼šæ°å¥½ç”± 2 ä¸ªä¸åŒæ•´æ•°ç»„æˆçš„å­æ•°ç»„ï¼š[1,2], [2,1], [1,2], [2,3], [1,2,1], [2,1,2], [1,2,1,2].</span><br><span class="line">ç¤ºä¾‹ 2ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šA = [1,2,1,3,4], K = 3</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šæ°å¥½ç”± 3 ä¸ªä¸åŒæ•´æ•°ç»„æˆçš„å­æ•°ç»„ï¼š[1,2,1,3], [2,1,3], [1,3,4].</span><br><span class="line">Â </span><br><span class="line"></span><br><span class="line">æç¤ºï¼š</span><br><span class="line"></span><br><span class="line">1 &lt;= A.length &lt;= 20000</span><br><span class="line">1 &lt;= A[i] &lt;= A.length</span><br><span class="line">1 &lt;= K &lt;= A.length</span><br></pre></td></tr></table></figure><h3 id="å‰ç½®çŸ¥è¯†-3"><a href="#å‰ç½®çŸ¥è¯†-3" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h3><ul><li>æ»‘åŠ¨çª—å£</li></ul><h3 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>ç”±æ¯é¢˜ 5ï¼ŒçŸ¥ï¼šexactK = atMostK(k) - atMostK(k - 1)ï¼Œ å› æ­¤ç­”æ¡ˆä¾¿å‘¼ä¹‹æ¬²å‡ºäº†ã€‚å…¶ä»–éƒ¨åˆ†å’Œä¸Šé¢çš„é¢˜ç›® <code>904. æ°´æœæˆç¯®</code> ä¸€æ ·ã€‚</p><blockquote><p>å®é™…ä¸Šå’Œæ‰€æœ‰çš„æ»‘åŠ¨çª—å£é¢˜ç›®éƒ½å·®ä¸å¤šã€‚</p></blockquote><h3 id="ä»£ç ï¼ˆPythonï¼‰-3"><a href="#ä»£ç ï¼ˆPythonï¼‰-3" class="headerlink" title="ä»£ç ï¼ˆPythonï¼‰"></a>ä»£ç ï¼ˆPythonï¼‰</h3><details>    <summary>Python</summary><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">subarraysWithKDistinct</span><span class="params">(self, A, K)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.atMostK(A, K) - self.atMostK(A, K - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">atMostK</span><span class="params">(self, A, K)</span>:</span></span><br><span class="line">        counter = collections.Counter()</span><br><span class="line">        res = i = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(A)):</span><br><span class="line">            <span class="keyword">if</span> counter[A[j]] == <span class="number">0</span>:</span><br><span class="line">                K -= <span class="number">1</span></span><br><span class="line">            counter[A[j]] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> K &lt; <span class="number">0</span>:</span><br><span class="line">                counter[A[i]] -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> counter[A[i]] == <span class="number">0</span>:</span><br><span class="line">                    K += <span class="number">1</span></span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            res += j - i + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œä¸­ *N</em> ä¸ºæ•°ç»„é•¿åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(k)</em>ã€‚</li></ul><h2 id="1109-èˆªç­é¢„è®¢ç»Ÿè®¡ï¼ˆä¸­ç­‰ï¼‰"><a href="#1109-èˆªç­é¢„è®¢ç»Ÿè®¡ï¼ˆä¸­ç­‰ï¼‰" class="headerlink" title="1109. èˆªç­é¢„è®¢ç»Ÿè®¡ï¼ˆä¸­ç­‰ï¼‰"></a>1109. èˆªç­é¢„è®¢ç»Ÿè®¡ï¼ˆä¸­ç­‰ï¼‰</h2><h3 id="é¢˜ç›®æè¿°-4"><a href="#é¢˜ç›®æè¿°-4" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">è¿™é‡Œæœ‰ Â nÂ  ä¸ªèˆªç­ï¼Œå®ƒä»¬åˆ†åˆ«ä» 1 åˆ° n è¿›è¡Œç¼–å·ã€‚</span><br><span class="line"></span><br><span class="line">æˆ‘ä»¬è¿™å„¿æœ‰ä¸€ä»½èˆªç­é¢„è®¢è¡¨ï¼Œè¡¨ä¸­ç¬¬ Â iÂ  æ¡é¢„è®¢è®°å½• Â bookings[i] = [i, j, k]Â  æ„å‘³ç€æˆ‘ä»¬åœ¨ä» Â iÂ  åˆ° Â jÂ  çš„æ¯ä¸ªèˆªç­ä¸Šé¢„è®¢äº† k ä¸ªåº§ä½ã€‚</span><br><span class="line"></span><br><span class="line">è¯·ä½ è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ Â answerï¼ŒæŒ‰èˆªç­ç¼–å·é¡ºåºè¿”å›æ¯ä¸ªèˆªç­ä¸Šé¢„è®¢çš„åº§ä½æ•°ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šbookings = [[1,2,10],[2,3,20],[2,5,25]], n = 5</span><br><span class="line">è¾“å‡ºï¼š[10,55,45,25,25]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æç¤ºï¼š</span><br><span class="line"></span><br><span class="line">1 &lt;= bookings.length &lt;= 20000</span><br><span class="line">1 &lt;= bookings[i][0] &lt;= bookings[i][1] &lt;= n &lt;= 20000</span><br><span class="line">1 &lt;= bookings[i][2] &lt;= 10000</span><br></pre></td></tr></table></figure><h3 id="å‰ç½®çŸ¥è¯†-4"><a href="#å‰ç½®çŸ¥è¯†-4" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h3><ul><li>å‰ç¼€å’Œ</li></ul><h3 id="æ€è·¯-4"><a href="#æ€è·¯-4" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>è¿™é“é¢˜çš„é¢˜ç›®æè¿°ä¸æ˜¯å¾ˆæ¸…æ¥šã€‚æˆ‘ç®€å•åˆ†æä¸€ä¸‹é¢˜ç›®ï¼š</p><p>[i, j, k] å…¶å®ä»£è¡¨çš„æ˜¯ ç¬¬ i ç«™ä¸Šæ¥äº† k ä¸ªäººï¼Œ ä¸€ç›´åˆ° ç¬¬ j ç«™éƒ½åœ¨é£æœºä¸Šï¼Œåˆ°ç¬¬ j + 1 å°±ä¸åœ¨é£æœºä¸Šäº†ã€‚æ‰€ä»¥ç¬¬ i ç«™åˆ°ç¬¬ j ç«™çš„<strong>æ¯ä¸€ç«™</strong>éƒ½ä¼šå› æ­¤å¤š k ä¸ªäººã€‚</p><p>ç†è§£äº†é¢˜ç›®åªä¼šä¸éš¾å†™å‡ºä¸‹é¢çš„ä»£ç ã€‚</p><details>    <summary>Python</summary><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">corpFlightBookings</span><span class="params">(self, bookings: List[List[int]], n: int)</span> -&gt; List[int]:</span></span><br><span class="line">        counter = [<span class="number">0</span>] * n</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i, j, k <span class="keyword">in</span> bookings:</span><br><span class="line">            <span class="keyword">while</span> i &lt;= j:</span><br><span class="line">                counter[i - <span class="number">1</span>] += k</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> counter</span><br></pre></td></tr></table></figure></details><p>å¦‚ä¸Šçš„ä»£ç å¤æ‚åº¦å¤ªé«˜ï¼Œæ— æ³•é€šè¿‡å…¨éƒ¨çš„æµ‹è¯•ç”¨ä¾‹ã€‚</p><p><strong>æ³¨æ„åˆ°é‡Œå±‚çš„ while å¾ªç¯æ˜¯è¿ç»­çš„æ•°ç»„å…¨éƒ¨åŠ ä¸Šä¸€ä¸ªæ•°å­—ï¼Œä¸éš¾æƒ³åˆ°å¯ä»¥åˆ©ç”¨æ¯é¢˜ 0 çš„å‰ç¼€å’Œæ€è·¯ä¼˜åŒ–ã€‚</strong></p><p>ä¸€ç§æ€è·¯å°±æ˜¯åœ¨ i çš„ä½ç½® + kï¼Œ ç„¶ååˆ©ç”¨å‰ç¼€å’Œçš„æŠ€å·§ç»™ i åˆ° n çš„å…ƒç´ éƒ½åŠ ä¸Š kã€‚ä½†æ˜¯é¢˜ç›®éœ€è¦åŠ çš„æ˜¯ä¸€ä¸ªåŒºé—´ï¼Œ j + 1 åŠå…¶ä¹‹åçš„å…ƒç´ ä¼šè¢«å¤šåŠ ä¸€ä¸ª kã€‚ä¸€ä¸ªç®€å•çš„æŠ€å·§å°±æ˜¯ç»™ j + 1 çš„å…ƒç´ å‡å» kï¼Œè¿™æ ·æ­£è´Ÿå°±å¯ä»¥æŠµæ¶ˆã€‚</p><h3 id="ä»£ç ï¼ˆPythonï¼‰-4"><a href="#ä»£ç ï¼ˆPythonï¼‰-4" class="headerlink" title="ä»£ç ï¼ˆPythonï¼‰"></a>ä»£ç ï¼ˆPythonï¼‰</h3><details>    <summary>Python</summary><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">corpFlightBookings</span><span class="params">(self, bookings: List[List[int]], n: int)</span> -&gt; List[int]:</span></span><br><span class="line">        counter = [<span class="number">0</span>] * (n + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i, j, k <span class="keyword">in</span> bookings:</span><br><span class="line">            counter[i - <span class="number">1</span>] += k</span><br><span class="line">            <span class="keyword">if</span> j &lt; n: counter[j] -= k</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n + <span class="number">1</span>):</span><br><span class="line">            counter[i] += counter[i - <span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> counter[:<span class="number">-1</span>]</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œä¸­ *N</em> ä¸ºæ•°ç»„é•¿åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em>ã€‚</li></ul><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™å‡ é“é¢˜éƒ½æ˜¯æ»‘åŠ¨çª—å£å’Œå‰ç¼€å’Œçš„æ€è·¯ã€‚åŠ›æ‰£ç±»ä¼¼çš„é¢˜ç›®è¿˜çœŸä¸å°‘ï¼Œå¤§å®¶åªæœ‰å¤šç•™å¿ƒï¼Œå°±ä¼šå‘ç°è¿™ä¸ªå¥—è·¯ã€‚</p><p>å‰ç¼€å’Œçš„æŠ€å·§ä»¥åŠæ»‘åŠ¨çª—å£çš„æŠ€å·§éƒ½æ¯”è¾ƒå›ºå®šï¼Œä¸”æœ‰æ¨¡æ¿å¯å¥—ã€‚ éš¾ç‚¹å°±åœ¨äºæˆ‘æ€ä¹ˆæ‰èƒ½æƒ³åˆ°å¯ä»¥ç”¨è¿™ä¸ªæŠ€å·§å‘¢ï¼Ÿ</p><p>æˆ‘è¿™é‡Œæ€»ç»“äº†ä¸¤ç‚¹ï¼š</p><ol><li>æ‰¾å…³é”®å­—ã€‚æ¯”å¦‚é¢˜ç›®ä¸­æœ‰è¿ç»­ï¼Œå°±åº”è¯¥æ¡ä»¶åå°„æƒ³åˆ°æ»‘åŠ¨çª—å£å’Œå‰ç¼€å’Œã€‚æ¯”å¦‚é¢˜ç›®æ±‚æœ€å¤§æœ€å°å°±æƒ³åˆ°åŠ¨æ€è§„åˆ’å’Œè´ªå¿ƒç­‰ç­‰ã€‚æƒ³åˆ°ä¹‹åï¼Œå°±å¯ä»¥å’Œé¢˜ç›®ä¿¡æ¯å¯¹æ¯”å¿«é€Ÿæ’é™¤é”™è¯¯çš„ç®—æ³•ï¼Œæ‰¾åˆ°å¯è¡Œè§£ã€‚è¿™ä¸ªæ€è€ƒçš„æ—¶é—´ä¼šéšç€ä½ çš„é¢˜æ„Ÿå¢åŠ è€Œé™ä½ã€‚</li><li>å…ˆå†™å‡ºæš´åŠ›è§£ï¼Œç„¶åæ‰¾æš´åŠ›è§£çš„ç“¶é¢ˆï¼Œ æ ¹æ®ç“¶é¢ˆå°±å¾ˆå®¹æ˜“çŸ¥é“åº”è¯¥ç”¨ä»€ä¹ˆæ•°æ®ç»“æ„å’Œç®—æ³•å»ä¼˜åŒ–ã€‚</li></ol><p>æœ€åæ¨èå‡ é“ç±»ä¼¼çš„é¢˜ç›®ï¼Œ ä¾›å¤§å®¶ç»ƒä¹ ï¼Œä¸€å®šè¦è‡ªå·±å†™å‡ºæ¥æ‰è¡Œå“¦ã€‚</p><ul><li><a href="https://leetcode-cn.com/problems/range-sum-query-immutable/description/" target="_blank" rel="noopener">303. åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜</a></li><li><a href="https://lucifer.ren/blog/2019/12/11/leetcode-1186/" target="_blank" rel="noopener">1186.åˆ é™¤ä¸€æ¬¡å¾—åˆ°å­æ•°ç»„æœ€å¤§å’Œ</a></li><li><a href="https://lucifer.ren/blog/2020/01/09/1310.xor-queries-of-a-subarray/" target="_blank" rel="noopener">1310. å­æ•°ç»„å¼‚æˆ–æŸ¥è¯¢</a></li><li><a href="https://github.com/azl397985856/leetcode/blob/master/problems/1371.find-the-longest-substring-containing-vowels-in-even-counts.md" target="_blank" rel="noopener">1371. æ¯ä¸ªå…ƒéŸ³åŒ…å«å¶æ•°æ¬¡çš„æœ€é•¿å­å­—ç¬¦ä¸²</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä½ éœ€è¦è¾“å‡ºå­—ç¬¦ä¸²s ä¸­ p çš„ä¸åŒçš„éç©ºå­ä¸²çš„æ•°ç›®ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>992. K ä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„</title>
    <link href="http://yoursite.com/2021/11/07/992.%20K%20%E4%B8%AA%E4%B8%8D%E5%90%8C%E6%95%B4%E6%95%B0%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84/"/>
    <id>http://yoursite.com/2021/11/07/992. K ä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„/</id>
    <published>2021-11-07T04:12:12.000Z</published>
    <updated>2021-11-08T06:37:41.364Z</updated>
    
    <content type="html"><![CDATA[<p>è¿”å›Aä¸­å¥½å­æ•°ç»„çš„æ•°ç›®ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç»™å®šä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ Aï¼Œå¦‚æœ Açš„æŸä¸ªå­æ•°ç»„ä¸­ä¸åŒæ•´æ•°çš„ä¸ªæ•°æ°å¥½ä¸º Kï¼Œåˆ™ç§° A çš„è¿™ä¸ªè¿ç»­ã€ä¸ä¸€å®šä¸åŒçš„å­æ•°ç»„ä¸ºå¥½å­æ•°ç»„ã€‚</p><p>ï¼ˆä¾‹å¦‚ï¼Œ[1,2,3,1,2] ä¸­æœ‰3ä¸ªä¸åŒçš„æ•´æ•°ï¼š1ï¼Œ2ï¼Œä»¥åŠ3ã€‚ï¼‰</p><p>è¿”å›Aä¸­å¥½å­æ•°ç»„çš„æ•°ç›®ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šA = [1,2,1,2,3], K = 2è¾“å‡ºï¼š7è§£é‡Šï¼šæ°å¥½ç”± 2 ä¸ªä¸åŒæ•´æ•°ç»„æˆçš„å­æ•°ç»„ï¼š[1,2], [2,1], [1,2], [2,3], [1,2,1], [2,1,2], [1,2,1,2].</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šA = [1,2,1,3,4], K = 3è¾“å‡ºï¼š3è§£é‡Šï¼šæ°å¥½ç”± 3 ä¸ªä¸åŒæ•´æ•°ç»„æˆçš„å­æ•°ç»„ï¼š[1,2,1,3], [2,1,3], [1,3,4].</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= A.length &lt;= 200001 &lt;= A[i] &lt;= A.length1 &lt;= K &lt;= A.length</code></pre><h1 id="ğŸ“º-è§†é¢‘è®²è§£"><a href="#ğŸ“º-è§†é¢‘è®²è§£" class="headerlink" title="ğŸ“º è§†é¢‘è®²è§£"></a>ğŸ“º è§†é¢‘è®²è§£</h1><p><a href="21472c3c-27ea-4ecf-9093-862f9b2f8e8b">992. K ä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„.mp4</a></p><h1 id="æœ€åˆç›´è§‰ä½¿ç”¨åŒæŒ‡é’ˆç®—æ³•é‡åˆ°çš„é—®é¢˜"><a href="#æœ€åˆç›´è§‰ä½¿ç”¨åŒæŒ‡é’ˆç®—æ³•é‡åˆ°çš„é—®é¢˜" class="headerlink" title="æœ€åˆç›´è§‰ä½¿ç”¨åŒæŒ‡é’ˆç®—æ³•é‡åˆ°çš„é—®é¢˜"></a>æœ€åˆç›´è§‰ä½¿ç”¨åŒæŒ‡é’ˆç®—æ³•é‡åˆ°çš„é—®é¢˜</h1><p>å¯¹äºä¸€ä¸ªå›ºå®šçš„å·¦è¾¹ç•Œæ¥è¯´ï¼Œæ»¡è¶³ã€Œæ°å¥½å­˜åœ¨ <code>K</code> ä¸ªä¸åŒæ•´æ•°çš„å­åŒºé—´ã€çš„å³è¾¹ç•Œ <strong>ä¸å”¯ä¸€</strong>ï¼Œä¸”å½¢æˆåŒºé—´ã€‚</p><p>ç¤ºä¾‹ 1ï¼šå·¦è¾¹ç•Œå›ºå®šçš„æ—¶å€™ï¼Œæ°å¥½å­˜åœ¨ <em>2</em> ä¸ªä¸åŒæ•´æ•°çš„å­åŒºé—´ä¸º <em>[1,2],[1,2,1],[1,2,1,2]</em> ï¼Œæ€»æ•°ä¸º <em>3</em>ã€‚å…¶å€¼ä¸ºä¸‹æ ‡ <em>3 - 1 + 1*ï¼Œå³åŒºé—´ *[1..3]</em> çš„é•¿åº¦ã€‚</p><p><a href="https://pic.leetcode-cn.com/1612775858-VWbhYR-image.png" target="_blank" rel="noopener">image.png</a></p><p>é¡»è¦æ‰¾åˆ°å·¦è¾¹ç•Œå›ºå®šçš„æƒ…å†µä¸‹ï¼Œæ»¡è¶³ã€Œæ°å¥½å­˜åœ¨ <code>K</code> ä¸ªä¸åŒæ•´æ•°çš„å­åŒºé—´ã€æœ€å°å³è¾¹ç•Œå’Œæœ€å¤§å³è¾¹ç•Œã€‚å¯¹æ¯”ä»¥å‰æˆ‘ä»¬åšè¿‡çš„ï¼Œä½¿ç”¨åŒæŒ‡é’ˆè§£å†³çš„é—®é¢˜çš„é—®æ³•åŸºæœ¬éƒ½ä¼šå‡ºç°ã€Œæœ€å°ã€ã€ã€Œæœ€å¤§ã€è¿™æ ·çš„å­—çœ¼ã€‚</p><ul><li><a href="/problems/minimum-window-substring/">76. æœ€å°è¦†ç›–å­ä¸²</a>ï¼›</li><li><a href="/problems/minimum-size-subarray-sum/">209. é•¿åº¦æœ€å°çš„å­æ•°ç»„</a>ï¼›</li><li><a href="/problems/longest-substring-with-at-most-two-distinct-characters/">159. è‡³å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²</a>ï¼›</li><li><a href="/problems/longest-repeating-character-replacement/">424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦</a>ã€‚</li></ul><h1 id="æŠŠåŸé—®é¢˜è½¬æ¢æˆä¸ºå®¹æ˜“æ±‚è§£çš„é—®é¢˜"><a href="#æŠŠåŸé—®é¢˜è½¬æ¢æˆä¸ºå®¹æ˜“æ±‚è§£çš„é—®é¢˜" class="headerlink" title="æŠŠåŸé—®é¢˜è½¬æ¢æˆä¸ºå®¹æ˜“æ±‚è§£çš„é—®é¢˜"></a>æŠŠåŸé—®é¢˜è½¬æ¢æˆä¸ºå®¹æ˜“æ±‚è§£çš„é—®é¢˜</h1><blockquote><p>å‹æƒ…æç¤ºï¼šè¿™é‡ŒæŠŠ ã€Œæ°å¥½ã€ è½¬æ¢æˆä¸º ã€Œæœ€å¤šã€é¡»è¦ä¸€ç‚¹æ±‚è§£ã€ŒåŒæŒ‡é’ˆï¼ˆæ»‘åŠ¨çª—å£ï¼‰ã€é—®é¢˜çš„ç»éªŒã€‚å»ºç«‹åœ¨ç†Ÿç»ƒæŒæ¡è¿™ä¸€ç±»é—®é¢˜æ±‚è§£æ€è·¯çš„åŸºç¡€ä¸Šã€‚</p></blockquote><p>æŠŠã€Œ<strong>æ°å¥½</strong>ã€æ”¹æˆã€Œ<strong>æœ€å¤š</strong>ã€å°±å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆä¸€å‰ä¸€åäº¤æ›¿å‘å³çš„æ–¹æ³•å®Œæˆï¼Œè¿™æ˜¯å› ä¸º <strong>å¯¹äºæ¯ä¸€ä¸ªç¡®å®šçš„å·¦è¾¹ç•Œï¼Œæœ€å¤šåŒ…å« <em>K</em> ç§ä¸åŒæ•´æ•°çš„å³è¾¹ç•Œæ˜¯å”¯ä¸€ç¡®å®šçš„</strong>ï¼Œå¹¶ä¸”åœ¨å·¦è¾¹ç•Œå‘å³ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œå³è¾¹ç•Œæˆ–è€…åœ¨åŸæ¥çš„åœ°æ–¹ï¼Œæˆ–è€…åœ¨åŸæ¥åœ°æ–¹çš„å³è¾¹ã€‚</p><p>è€Œã€Œæœ€å¤šå­˜åœ¨ <em>K</em> ä¸ªä¸åŒæ•´æ•°çš„å­åŒºé—´çš„ä¸ªæ•°ã€ä¸ã€Œæ°å¥½å­˜åœ¨ <code>K</code> ä¸ªä¸åŒæ•´æ•°çš„å­åŒºé—´çš„ä¸ªæ•°ã€çš„å·®æ°å¥½ç­‰äºã€Œæœ€å¤šå­˜åœ¨ <em>K - 1</em> ä¸ªä¸åŒæ•´æ•°çš„å­åŒºé—´çš„ä¸ªæ•°ã€ã€‚</p><p><a href="https://pic.leetcode-cn.com/1612776085-sZFGqE-image.png" target="_blank" rel="noopener">image.png</a></p><p>å› ä¸ºåŸé—®é¢˜å°±è½¬æ¢æˆä¸ºæ±‚è§£ã€Œæœ€å¤šå­˜åœ¨ <em>K</em> ä¸ªä¸åŒæ•´æ•°çš„å­åŒºé—´çš„ä¸ªæ•°ã€ä¸ ã€Œæœ€å¤šå­˜åœ¨ <em>K - 1</em> ä¸ªä¸åŒæ•´æ•°çš„å­åŒºé—´çš„ä¸ªæ•°ã€ï¼Œå®ƒä»¬å…¶å®æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚</p><h1 id="æ–¹æ³•ï¼šåŒæŒ‡é’ˆï¼ˆæ»‘åŠ¨çª—å£ï¼‰"><a href="#æ–¹æ³•ï¼šåŒæŒ‡é’ˆï¼ˆæ»‘åŠ¨çª—å£ï¼‰" class="headerlink" title="æ–¹æ³•ï¼šåŒæŒ‡é’ˆï¼ˆæ»‘åŠ¨çª—å£ï¼‰"></a>æ–¹æ³•ï¼šåŒæŒ‡é’ˆï¼ˆæ»‘åŠ¨çª—å£ï¼‰</h1><p>å®ç°å‡½æ•° <code>atMostWithKDistinct(A, K)</code> ï¼Œè¡¨ç¤ºã€Œæœ€å¤šå­˜åœ¨ <em>K</em> ä¸ªä¸åŒæ•´æ•°çš„å­åŒºé—´çš„ä¸ªæ•°ã€ã€‚äºæ˜¯ <code>atMostWithKDistinct(A, K) - atMostWithKDistinct(A, K - 1)</code> å³ä¸ºæ‰€æ±‚ã€‚</p><p><strong>å‚è€ƒä»£ç </strong>ï¼š</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">subarraysWithKDistinct</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> atMostKDistinct(A, K) - atMostKDistinct(A, K - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> A</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> K</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æœ€å¤šåŒ…å« K ä¸ªä¸åŒæ•´æ•°çš„å­åŒºé—´çš„ä¸ªæ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">atMostKDistinct</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = A.length;</span><br><span class="line">        <span class="keyword">int</span>[] freq = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> right = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// [left, right) é‡Œä¸åŒæ•´æ•°çš„ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// [left, right) åŒ…å«ä¸åŒæ•´æ•°çš„ä¸ªæ•°å°äºç­‰äº K</span></span><br><span class="line">        <span class="keyword">while</span> (right &lt; len) &#123;</span><br><span class="line">            <span class="keyword">if</span> (freq[A[right]] == <span class="number">0</span>) &#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">            freq[A[right]]++;</span><br><span class="line">            right++;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (count &gt; K) &#123;</span><br><span class="line">                freq[A[left]]--;</span><br><span class="line">                <span class="keyword">if</span> (freq[A[left]] == <span class="number">0</span>) &#123;</span><br><span class="line">                    count--;</span><br><span class="line">                &#125;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// [left, right) åŒºé—´çš„é•¿åº¦å°±æ˜¯å¯¹ç»“æœçš„è´¡çŒ®</span></span><br><span class="line">            res += right - left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>è¯´æ˜</strong>ï¼š <code>res += right - left;</code> è¿™è¡Œä»£ç çš„æ„æ€ï¼š</p><p>ç”¨å…·ä½“çš„ä¾‹å­ç†è§£ï¼šæœ€å¤šåŒ…å« 3 ç§ä¸åŒæ•´æ•°çš„å­åŒºé—´  <code>[1, 3, 2, 3]</code> ï¼ˆåŒæŒ‡é’ˆç®—æ³•æ˜¯åœ¨å·¦è¾¹ç•Œå›ºå®šçš„å‰æä¸‹ï¼Œè®©å³è¾¹ç•Œèµ°åˆ°æœ€å³è¾¹ï¼‰ï¼Œå½“å‰å¯ä»¥ç¡®å®š <code>1</code> å¼€å§‹çš„æ»¡è¶³æœ€å¤šåŒ…å« 3 ç§ä¸åŒæ•´æ•°çš„å­åŒºé—´æœ‰ <code>[1]</code>ã€<code>[1, 3]</code>ã€<code>[1, 3, 2]</code>ã€<code>[1, 3, 2, 3]</code>ã€‚</p><p><strong>æ‰€æœ‰çš„</strong> å·¦è¾¹ç•Œå›ºå®šå‰æä¸‹ï¼Œæ ¹æ®å³è¾¹ç•Œæœ€å³çš„ä¸‹æ ‡ï¼Œè®¡ç®—å‡ºæ¥çš„å­åŒºé—´çš„ä¸ªæ•°å°±æ˜¯æ•´ä¸ªå‡½æ•°è¦è¿”å›çš„å€¼ã€‚ç”¨å³è¾¹ç•Œå›ºå®šçš„å‰æä¸‹ï¼Œå·¦è¾¹ç•Œæœ€å·¦è¾¹çš„ä¸‹æ ‡å»è®¡ç®—ä¹Ÿæ˜¯å®Œå…¨å¯ä»¥çš„ã€‚</p><p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œè¿™é‡Œ *N</em> æ˜¯è¾“å…¥æ•°ç»„çš„é•¿åº¦ï¼›</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em>ï¼Œä½¿ç”¨äº†å¸¸æ•°ä¸ªå˜é‡ã€é¢‘æ•°æ•°ç»„çš„é•¿åº¦ä¸º <em>N + 1</em>ã€‚</li></ul><hr><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä½¿ç”¨åŒæŒ‡é’ˆï¼ˆæ»‘åŠ¨çª—å£ã€ä¸¤ä¸ªå˜é‡ä¸€å‰ä¸€åäº¤æ›¿å‘åç§»åŠ¨ï¼‰è§£å†³çš„é—®é¢˜é€šå¸¸éƒ½å’Œè¿™ä¸ªé—®é¢˜è¦é—®çš„ç»“æœæœ‰å…³ã€‚ä»¥æˆ‘ä»¬åœ¨é¢˜è§£ä¸­ç»™å‡ºçš„ 5 é“ç»å…¸é—®é¢˜ä¸ºä¾‹ï¼š</p><ul><li><a href="/problems/longest-substring-without-repeating-characters/">3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a>ï¼šæ²¡æœ‰é‡å¤çš„å­ä¸²ï¼Œä¸€å®šåªä¼šé—®ã€Œæœ€é•¿ã€ï¼Œå› ä¸ºæœ€çŸ­çš„æ²¡æœ‰é‡å¤å­—ç¬¦çš„å­ä¸²æ˜¯åªæœ‰ä¸€ä¸ªå­—ç¬¦çš„å­ä¸²ï¼› </li><li><a href="/problems/minimum-window-substring/">76. æœ€å°è¦†ç›–å­ä¸²</a>ï¼šæ±‚ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­ä¸²è¦†ç›–å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ä¸€å®šæ˜¯é—®ã€Œæœ€å°ã€ï¼Œè€Œä¸ä¼šé—®ã€Œæœ€å¤§ã€ï¼Œå› ä¸ºæœ€å¤§ä¸€å®šæ˜¯æ•´ä¸ªå­—ç¬¦ä¸²ï¼›</li><li><a href="/problems/minimum-size-subarray-sum/">209. é•¿åº¦æœ€å°çš„å­æ•°ç»„</a>ï¼šæ‰€æœ‰å…ƒç´ éƒ½æ˜¯æ­£æ•´æ•°ï¼Œä¸”å­åŒºé—´é‡Œæ‰€æœ‰å…ƒç´ çš„å’Œå¤§äºç­‰äºå®šå€¼ <code>s</code> çš„å­åŒºé—´ä¸€å®šæ˜¯é—®é•¿åº¦ã€Œæœ€å°ã€ï¼Œè€Œä¸ä¼šé—®ã€Œæœ€å¤šã€ï¼Œå› ä¸ºæœ€å¤šä¹Ÿä¸€å®šæ˜¯æ•´ä¸ªæ•°ç»„çš„é•¿åº¦ï¼›</li><li><a href="/problems/longest-substring-with-at-most-two-distinct-characters/">159. è‡³å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²</a>ï¼šæœ€å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦ä¸€å®šæ˜¯é—®ã€Œæœ€é•¿ã€æ‰æœ‰æ„ä¹‰ï¼Œå› ä¸ºé•¿åº¦æ›´é•¿çš„å­ä¸²å¯èƒ½ä¼šåŒ…å«æ›´å¤šçš„å­—ç¬¦ï¼›</li><li><a href="/problems/longest-repeating-character-replacement/">424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦</a>ï¼šæ›¿æ¢çš„æ¬¡æ•° <code>k</code> æ˜¯å®šå€¼ï¼Œæ›¿æ¢ä»¥åå­—ç¬¦å…¨éƒ¨ç›¸ç­‰çš„å­ä¸²ä¹Ÿä¸€å®šåªä¼šé—®ã€Œæœ€é•¿ã€ã€‚</li></ul><hr><h1 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h1><p><strong>æç¤º</strong>ï¼šåœ¨åšè¿™äº›é—®é¢˜çš„æ—¶å€™ï¼Œ<strong>ä¸€å®šè¦æ€è€ƒæ¸…æ¥šä¸ºä»€ä¹ˆå¯ä»¥é‡‡ç”¨åŒæŒ‡é’ˆï¼ˆæ»‘åŠ¨çª—å£ï¼‰ç®—æ³•è§£å†³å¦‚ä¸Šçš„é—®é¢˜</strong>ï¼Œä¸ºä»€ä¹ˆ <strong>å·¦ã€å³æŒ‡é’ˆå‘å³ç§»åŠ¨çš„æ—¶å€™å¯ä»¥ä¸å›å¤´</strong>ã€‚å¦‚æœä¸å¤ªç†Ÿæ‚‰è¿™ä¸€ç±»é—®é¢˜æ€è·¯çš„æœ‹å‹ï¼Œä¸€å®šè¦æƒ³æ¸…æ¥šç®—æ³•ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Œæ¯”çŸ¥é“è¿™äº›é—®é¢˜å¯ä»¥ç”¨åŒæŒ‡é’ˆï¼ˆæ»‘åŠ¨çª—å£ï¼‰ç®—æ³•è§£å†³é‡è¦å¾—å¤šã€‚</p><p>æ€è·¯ä¸€èˆ¬æ˜¯è¿™æ ·ï¼šå›ºå®šå·¦è¾¹ç•Œçš„å‰æä¸‹ï¼Œå¦‚æœè¾ƒçŸ­çš„åŒºé—´æ€§è´¨æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œè¾ƒé•¿çš„åŒºé—´çš„æ€§è´¨å…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥æ¨æµ‹å‡ºæ¥ã€‚åœ¨å³è¾¹ç•Œå›ºå®šçš„å‰æä¸‹ï¼Œæˆ‘ä»¬é¡»è¦å°†å·¦è¾¹ç•Œå³ç§»ï¼Œå¦‚æ­¤åå¤ã€‚è¿™æ ·çš„ç®—æ³•åªéå†äº†æ•°ç»„ä¸¤æ¬¡ï¼Œä¸ç”¨æšä¸¾æ‰€æœ‰å¯èƒ½çš„åŒºé—´ï¼ŒæŠŠ <em>O(N^2)</em> çš„æ—¶é—´å¤æ‚åº¦é™åˆ°äº† <em>O(N)</em>ã€‚</p><ul><li><a href="/problems/subarray-product-less-than-k/">713. ä¹˜ç§¯å°äº K çš„å­æ•°ç»„</a>ï¼›</li><li><a href="/problems/fruit-into-baskets/">904. æ°´æœæˆç¯®</a> ï¼›</li><li><a href="/problems/number-of-subarrays-with-bounded-maximum/">795. åŒºé—´å­æ•°ç»„ä¸ªæ•°</a>ï¼›</li><li><a href="/problems/number-of-substrings-containing-all-three-characters/">1358. åŒ…å«æ‰€æœ‰ä¸‰ç§å­—ç¬¦çš„å­å­—ç¬¦ä¸²æ•°ç›®</a>ï¼›</li><li><a href="/problems/unique-substrings-in-wraparound-string/">467. ç¯ç»•å­—ç¬¦ä¸²ä¸­å”¯ä¸€çš„å­å­—ç¬¦ä¸²</a>ï¼›</li><li><a href="/problems/longest-substring-with-at-most-k-distinct-characters/">340. è‡³å¤šåŒ…å« K ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²</a>ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿”å›Aä¸­å¥½å­æ•°ç»„çš„æ•°ç›®ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Sliding Window" scheme="http://yoursite.com/tags/Sliding-Window/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Counting" scheme="http://yoursite.com/tags/Counting/"/>
    
  </entry>
  
  <entry>
    <title>340. è‡³å¤šåŒ…å« K ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²</title>
    <link href="http://yoursite.com/2021/11/07/340.%20%E8%87%B3%E5%A4%9A%E5%8C%85%E5%90%AB%20K%20%E4%B8%AA%E4%B8%8D%E5%90%8C%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/"/>
    <id>http://yoursite.com/2021/11/07/340. è‡³å¤šåŒ…å« K ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²/</id>
    <published>2021-11-07T03:12:12.000Z</published>
    <updated>2021-11-07T04:15:35.403Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²sï¼Œæ‰¾å‡ºè‡³å¤šåŒ…å«kä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸² Tã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: s = &quot;eceba&quot;, k = 2è¾“å‡º: 3è§£é‡Š: åˆ™ T ä¸º &quot;ece&quot;ï¼Œæ‰€ä»¥é•¿åº¦ä¸º 3ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: s = &quot;aa&quot;, k = 1è¾“å‡º: 2è§£é‡Š: åˆ™ T ä¸º &quot;aa&quot;ï¼Œæ‰€ä»¥é•¿åº¦ä¸º 2ã€‚</code></pre><h1 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a>æ»‘åŠ¨çª—å£</h1><details>    <summary>Java</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public int lengthOfLongestSubstringTwoDistinct(String s,int k) &#123;</span><br><span class="line">       int i = 0, j = 0, n = s.length(), maxlen = 0;</span><br><span class="line">       Map&lt;Character,Integer&gt; map = new HashMap();</span><br><span class="line">       while (j &lt; n) &#123;</span><br><span class="line">           if (map.size() &lt;= k &amp;&amp; j &lt; n) &#123;</span><br><span class="line">               map.put(s.charAt(j), map.getOrDefault(s.charAt(j), 0) + 1);</span><br><span class="line">               j++;</span><br><span class="line">           &#125;</span><br><span class="line">           while (map.size() &gt; k) &#123;</span><br><span class="line">               map.put(s.charAt(i), map.getOrDefault(s.charAt(i), 0) - 1);</span><br><span class="line">               if (map.getOrDefault(s.charAt(i), 0) &lt;= 0) &#123;</span><br><span class="line">                   map.remove(s.charAt(i));</span><br><span class="line">               &#125;</span><br><span class="line">               i++;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           maxlen = Math.max(maxlen, j - i);</span><br><span class="line">       &#125;</span><br><span class="line">       return maxlen;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int lengthOfLongestSubstringTwoDistinct(string s,int k) &#123;</span><br><span class="line">    int i = 0, j = 0, maxlen = 0;</span><br><span class="line">    unordered_map&lt;char, int&gt; m;</span><br><span class="line">    while(j &lt; s.size())</span><br><span class="line">    &#123;</span><br><span class="line">    if(m.size() &lt;= k)</span><br><span class="line">                ++m[s[j++]];</span><br><span class="line">            while(m.size()&gt;k)</span><br><span class="line">            &#123;</span><br><span class="line">                if(--m[s[i]] == 0)</span><br><span class="line">                    m.erase(s[i]);</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">    maxlen = max(maxlen, j-i);</span><br><span class="line">    &#125;</span><br><span class="line">    return maxlen;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²sï¼Œæ‰¾å‡ºè‡³å¤šåŒ…å«kä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸² Tã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
      <category term="Sliding Window" scheme="http://yoursite.com/tags/Sliding-Window/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Two Pointers" scheme="http://yoursite.com/tags/Two-Pointers/"/>
    
  </entry>
  
  <entry>
    <title>159. è‡³å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²</title>
    <link href="http://yoursite.com/2021/11/07/159.%20%E8%87%B3%E5%A4%9A%E5%8C%85%E5%90%AB%E4%B8%A4%E4%B8%AA%E4%B8%8D%E5%90%8C%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/"/>
    <id>http://yoursite.com/2021/11/07/159. è‡³å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²/</id>
    <published>2021-11-07T01:03:12.000Z</published>
    <updated>2021-11-07T03:49:25.926Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²sï¼Œæ‰¾å‡ºè‡³å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸² t ï¼Œå¹¶è¿”å›è¯¥å­ä¸²çš„é•¿åº¦ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: &quot;eceba&quot;è¾“å‡º: 3è§£é‡Š: t æ˜¯ &quot;ece&quot;ï¼Œé•¿åº¦ä¸º3ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: &quot;ccaabbb&quot;è¾“å‡º: 5è§£é‡Š: t æ˜¯ &quot;aabbb&quot;ï¼Œé•¿åº¦ä¸º5ã€‚</code></pre><h1 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a>æ»‘åŠ¨çª—å£</h1><details>    <summary>Java</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public int lengthOfLongestSubstringTwoDistinct(String s) &#123;</span><br><span class="line">       int k = 2, i = 0, j = 0, n = s.length(), maxlen = 0;</span><br><span class="line">       Map&lt;Character,Integer&gt; map = new HashMap();</span><br><span class="line">       while (j &lt; n) &#123;</span><br><span class="line">           if (map.size() &lt;= k &amp;&amp; j &lt; n) &#123;</span><br><span class="line">               map.put(s.charAt(j), map.getOrDefault(s.charAt(j), 0) + 1);</span><br><span class="line">               j++;</span><br><span class="line">           &#125;</span><br><span class="line">           while (map.size() &gt; k) &#123;</span><br><span class="line">               map.put(s.charAt(i), map.getOrDefault(s.charAt(i), 0) - 1);</span><br><span class="line">               if (map.getOrDefault(s.charAt(i), 0) &lt;= 0) &#123;</span><br><span class="line">                   map.remove(s.charAt(i));</span><br><span class="line">               &#125;</span><br><span class="line">               i++;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           maxlen = Math.max(maxlen, j - i);</span><br><span class="line">       &#125;</span><br><span class="line">       return maxlen;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int lengthOfLongestSubstringTwoDistinct(string s) &#123;</span><br><span class="line">    int k = 2, i = 0, j = 0, maxlen = 0;</span><br><span class="line">    unordered_map&lt;char, int&gt; m;</span><br><span class="line">    while(j &lt; s.size())</span><br><span class="line">    &#123;</span><br><span class="line">    if(m.size() &lt;= k)</span><br><span class="line">                ++m[s[j++]];</span><br><span class="line">            while(m.size()&gt;k)</span><br><span class="line">            &#123;</span><br><span class="line">                if(--m[s[i]] == 0)</span><br><span class="line">                    m.erase(s[i]);</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">    maxlen = max(maxlen, j-i);</span><br><span class="line">    &#125;</span><br><span class="line">    return maxlen;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²sï¼Œæ‰¾å‡ºè‡³å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸² t ï¼Œå¹¶è¿”å›è¯¥å­ä¸²çš„é•¿åº¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
      <category term="Sliding Window" scheme="http://yoursite.com/tags/Sliding-Window/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Two Pointers" scheme="http://yoursite.com/tags/Two-Pointers/"/>
    
  </entry>
  
  <entry>
    <title>3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</title>
    <link href="http://yoursite.com/2021/11/05/3.%20%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/"/>
    <id>http://yoursite.com/2021/11/05/3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²/</id>
    <published>2021-11-05T04:03:12.000Z</published>
    <updated>2021-11-06T13:34:01.945Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: &quot;abcabcbb&quot;è¾“å‡º: 3 è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;abc&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: &quot;bbbbb&quot;è¾“å‡º: 1è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;b&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚</code></pre><p>ç¤ºä¾‹ 3:</p><pre><code>è¾“å…¥: &quot;pwwkew&quot;è¾“å‡º: 3è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;wke&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ&quot;pwke&quot; æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚</code></pre><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="fc6033f3-e9c6-41d7-b660-328fc288d2e2">3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²_2.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šæš´åŠ›è§£æ³•"><a href="#æ–¹æ³•ä¸€ï¼šæš´åŠ›è§£æ³•" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæš´åŠ›è§£æ³•"></a>æ–¹æ³•ä¸€ï¼šæš´åŠ›è§£æ³•</h2><p>æˆ‘ä¸€å¼€å§‹æƒ³åˆ°çš„æ˜¯ä¸€ä¸ªæ¯”è¾ƒç²—æš´çš„æ–¹æ³•ï¼Œéå†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€ä¸ªä½ç½®ï¼Œç„¶ååœ¨è¯¥ä½ç½®å‘ä¸¤è¾¹æ‰©å±•ï¼Œç›´åˆ°é‡åˆ°é‡å¤çš„å­—ç¬¦ï¼Œæœ€åç»Ÿè®¡é•¿åº¦ï¼Œä½†è¿™ç§æ–¹æ³•æ•ˆç‡è¾ƒä½</p><details>    <summary>Javaæš´åŠ›è§£æ³•</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int lengthOfLongestSubstring(String s) &#123;</span><br><span class="line">        int maxlen = 0;</span><br><span class="line">        for (int i = 0; i &lt; s.length(); i++) &#123;</span><br><span class="line">            int j = i ;</span><br><span class="line">            int k = i ;</span><br><span class="line">            while (j &gt; 0) &#123;</span><br><span class="line">                if (s.substring(j, k + 1).contains(s.substring(j-1,j))) &#123;</span><br><span class="line">                    break;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    j--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            while (k &lt; s.length()-1) &#123;</span><br><span class="line">                if (s.substring(j, k+1).contains(s.substring(k + 1,k+2))) &#123;</span><br><span class="line">                    break;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    k++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            maxlen = Math.max(maxlen, k - j + 1);</span><br><span class="line">        &#125;</span><br><span class="line">        return maxlen;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++æš´åŠ›è§£æ³•</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    int lengthOfLongestSubstring(string s)&#123;</span><br><span class="line">        long len=s.size();</span><br><span class="line">        int maxlen=0;</span><br><span class="line">        for(int i=0; i&lt;len; i++)&#123;</span><br><span class="line">            int j=i, k=i;</span><br><span class="line">            //å‘å·¦æœç´¢</span><br><span class="line">            while (j&gt;0) &#123;</span><br><span class="line">                string subs=s.substr(j, k-j+1);</span><br><span class="line">                string curs=s.substr(j-1, 1);</span><br><span class="line">                if(subs.find(curs) == string::npos)&#123;</span><br><span class="line">                    j--;</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            //å‘å³æœç´¢</span><br><span class="line">            while (k&lt;len-1) &#123;</span><br><span class="line">                string subs=s.substr(j, k-j+1);</span><br><span class="line">                string curs=s.substr(k+1, 1);</span><br><span class="line">                if(subs.find(curs) == string::npos)&#123;</span><br><span class="line">                    k++;</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            maxlen=max(maxlen, k-j+1);</span><br><span class="line">        &#125;</span><br><span class="line">        return maxlen;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</p><h2 id="æ–¹æ³•äºŒï¼šæ»‘åŠ¨çª—å£"><a href="#æ–¹æ³•äºŒï¼šæ»‘åŠ¨çª—å£" class="headerlink" title="æ–¹æ³•äºŒï¼šæ»‘åŠ¨çª—å£"></a>æ–¹æ³•äºŒï¼šæ»‘åŠ¨çª—å£</h2><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>æˆ‘ä»¬å…ˆç”¨ä¸€ä¸ªä¾‹å­æ¥æƒ³ä¸€æƒ³å¦‚ä½•åœ¨è¾ƒä¼˜çš„æ—¶é—´å¤æ‚åº¦å†…é€šè¿‡æœ¬é¢˜ã€‚</p><p>æˆ‘ä»¬ä¸å¦¨ä»¥ç¤ºä¾‹ä¸€ä¸­çš„å­—ç¬¦ä¸² abcabcbb  ä¸ºä¾‹ï¼Œæ‰¾å‡º <strong>ä»æ¯ä¸€ä¸ªå­—ç¬¦å¼€å§‹çš„ï¼Œä¸åŒ…å«é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</strong>ï¼Œé‚£ä¹ˆå…¶ä¸­æœ€é•¿çš„é‚£ä¸ªå­—ç¬¦ä¸²å³ä¸ºç­”æ¡ˆã€‚å¯¹äºç¤ºä¾‹ä¸€ä¸­çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬åˆ—ä¸¾å‡ºè¿™äº›ç»“æœï¼Œå…¶ä¸­æ‹¬å·ä¸­è¡¨ç¤ºé€‰ä¸­çš„å­—ç¬¦ä»¥åŠæœ€é•¿çš„å­—ç¬¦ä¸²ï¼š</p><ul><li>ä»¥ (a)bcabcbb å¼€å§‹çš„æœ€é•¿å­—ç¬¦ä¸²ä¸º (abc)abcbbï¼›</li><li>ä»¥ a(b)cabcbb å¼€å§‹çš„æœ€é•¿å­—ç¬¦ä¸²ä¸º a(bca)bcbb ï¼›</li><li>ä»¥ ab(c)abcbb å¼€å§‹çš„æœ€é•¿å­—ç¬¦ä¸²ä¸º ab(cab)cbb ï¼›</li><li>ä»¥ abc(a)bcbb  å¼€å§‹çš„æœ€é•¿å­—ç¬¦ä¸²ä¸º abc(abc)bb ï¼›</li><li>ä»¥ abca(b)cbb å¼€å§‹çš„æœ€é•¿å­—ç¬¦ä¸²ä¸º abca(bc)bbï¼›</li><li>ä»¥ abcab(c)bb  å¼€å§‹çš„æœ€é•¿å­—ç¬¦ä¸²ä¸ºabcab(cb)b ï¼›</li><li>ä»¥ abcabc(b)b  å¼€å§‹çš„æœ€é•¿å­—ç¬¦ä¸²ä¸º abcabc(b)b ï¼›</li><li>ä»¥ abcabcb(b) å¼€å§‹çš„æœ€é•¿å­—ç¬¦ä¸²ä¸º abcabcb(b) ã€‚</li></ul><p>å‘ç°äº†ä»€ä¹ˆï¼Ÿå¦‚æœæˆ‘ä»¬ä¾æ¬¡é€’å¢åœ°æšä¸¾å­ä¸²çš„èµ·å§‹ä½ç½®ï¼Œé‚£ä¹ˆå­ä¸²çš„ç»“æŸä½ç½®ä¹Ÿæ˜¯é€’å¢çš„ï¼è¿™é‡Œçš„åŸå› åœ¨äºï¼Œå‡è®¾æˆ‘ä»¬é€‰æ‹©å­—ç¬¦ä¸²ä¸­çš„ç¬¬ <em>k</em> ä¸ªå­—ç¬¦ä½œä¸ºèµ·å§‹ä½ç½®ï¼Œå¹¶ä¸”å¾—åˆ°äº†ä¸åŒ…å«é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²çš„ç»“æŸä½ç½®ä¸º <em>r_k*ã€‚é‚£ä¹ˆå½“æˆ‘ä»¬é€‰æ‹©ç¬¬ *k+1</em> ä¸ªå­—ç¬¦ä½œä¸ºèµ·å§‹ä½ç½®æ—¶ï¼Œé¦–å…ˆä» <em>k+1</em> åˆ° <em>r_k</em> çš„å­—ç¬¦æ˜¾ç„¶æ˜¯ä¸é‡å¤çš„ï¼Œå¹¶ä¸”ç”±äºå°‘äº†åŸæœ¬çš„ç¬¬ <em>k</em> ä¸ªå­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ç»§ç»­å¢å¤§ <em>r_k</em>ï¼Œç›´åˆ°å³ä¾§å‡ºç°äº†é‡å¤å­—ç¬¦ä¸ºæ­¢ã€‚</p><p>è¿™æ ·ä»¥æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ã€Œæ»‘åŠ¨çª—å£ã€æ¥è§£å†³è¿™ä¸ªé—®é¢˜äº†ï¼š</p><ul><li><p>æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆè¡¨ç¤ºå­—ç¬¦ä¸²ä¸­çš„æŸä¸ªå­ä¸²ï¼ˆçš„å·¦å³è¾¹ç•Œï¼‰ã€‚å…¶ä¸­å·¦æŒ‡é’ˆä»£è¡¨ç€ä¸Šæ–‡ä¸­ã€Œæšä¸¾å­ä¸²çš„èµ·å§‹ä½ç½®ã€ï¼Œè€Œå³æŒ‡é’ˆå³ä¸ºä¸Šæ–‡ä¸­çš„ <em>r_k</em>ï¼›</p></li><li><p>åœ¨æ¯ä¸€æ­¥çš„æ“ä½œä¸­ï¼Œæˆ‘ä»¬ä¼šå°†å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œè¡¨ç¤º <strong>æˆ‘ä»¬å¼€å§‹æšä¸¾ä¸‹ä¸€ä¸ªå­—ç¬¦ä½œä¸ºèµ·å§‹ä½ç½®</strong>ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ä¸æ–­åœ°å‘å³ç§»åŠ¨å³æŒ‡é’ˆï¼Œä½†éœ€è¦ä¿è¯è¿™ä¸¤ä¸ªæŒ‡é’ˆå¯¹åº”çš„å­ä¸²ä¸­æ²¡æœ‰é‡å¤çš„å­—ç¬¦ã€‚åœ¨ç§»åŠ¨ç»“æŸåï¼Œè¿™ä¸ªå­ä¸²å°±å¯¹åº”ç€ <strong>ä»¥å·¦æŒ‡é’ˆå¼€å§‹çš„ï¼Œä¸åŒ…å«é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</strong>ã€‚æˆ‘ä»¬è®°å½•ä¸‹è¿™ä¸ªå­ä¸²çš„é•¿åº¦ï¼›</p></li><li><p>åœ¨æšä¸¾ç»“æŸåï¼Œæˆ‘ä»¬æ‰¾åˆ°çš„æœ€é•¿çš„å­ä¸²çš„é•¿åº¦å³ä¸ºç­”æ¡ˆã€‚</p></li></ul><p><strong>åˆ¤æ–­é‡å¤å­—ç¬¦</strong></p><p>åœ¨ä¸Šé¢çš„æµç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨ä¸€ç§æ•°æ®ç»“æ„æ¥åˆ¤æ–­ <strong>æ˜¯å¦æœ‰é‡å¤çš„å­—ç¬¦</strong>ï¼Œå¸¸ç”¨çš„æ•°æ®ç»“æ„ä¸ºå“ˆå¸Œé›†åˆï¼ˆå³ <code>C++</code> ä¸­çš„ <code>std::unordered_set</code>ï¼Œ<code>Java</code> ä¸­çš„ <code>HashSet</code>ï¼Œ<code>Python</code> ä¸­çš„ <code>set</code>, <code>JavaScript</code> ä¸­çš„ <code>Set</code>ï¼‰ã€‚åœ¨å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä»å“ˆå¸Œé›†åˆä¸­ç§»é™¤ä¸€ä¸ªå­—ç¬¦ï¼Œåœ¨å³æŒ‡é’ˆå‘å³ç§»åŠ¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¾€å“ˆå¸Œé›†åˆä¸­æ·»åŠ ä¸€ä¸ªå­—ç¬¦ã€‚</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œç¾è§£å†³äº†æœ¬é¢˜ã€‚</p><details>    <summary>æ»‘åŠ¨çª—å£C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å“ˆå¸Œé›†åˆï¼Œè®°å½•æ¯ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°è¿‡</span></span><br><span class="line">        <span class="built_in">unordered_set</span>&lt;<span class="keyword">char</span>&gt; occ;</span><br><span class="line">        <span class="keyword">int</span> n = s.size();</span><br><span class="line">        <span class="comment">// å³æŒ‡é’ˆï¼Œåˆå§‹å€¼ä¸º -1ï¼Œç›¸å½“äºæˆ‘ä»¬åœ¨å­—ç¬¦ä¸²çš„å·¦è¾¹ç•Œçš„å·¦ä¾§ï¼Œè¿˜æ²¡æœ‰å¼€å§‹ç§»åŠ¨</span></span><br><span class="line">        <span class="keyword">int</span> rk = <span class="number">-1</span>, ans = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// æšä¸¾å·¦æŒ‡é’ˆçš„ä½ç½®ï¼Œåˆå§‹å€¼éšæ€§åœ°è¡¨ç¤ºä¸º -1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œç§»é™¤ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">                occ.erase(s[i - <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (rk + <span class="number">1</span> &lt; n &amp;&amp; !occ.count(s[rk + <span class="number">1</span>])) &#123;</span><br><span class="line">                <span class="comment">// ä¸æ–­åœ°ç§»åŠ¨å³æŒ‡é’ˆ</span></span><br><span class="line">                occ.insert(s[rk + <span class="number">1</span>]);</span><br><span class="line">                ++rk;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ç¬¬ i åˆ° rk ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªæé•¿çš„æ— é‡å¤å­—ç¬¦å­ä¸²</span></span><br><span class="line">            ans = max(ans, rk - i + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ»‘åŠ¨çª—å£Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å“ˆå¸Œé›†åˆï¼Œè®°å½•æ¯ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°è¿‡</span></span><br><span class="line">        Set&lt;Character&gt; occ = <span class="keyword">new</span> HashSet&lt;Character&gt;();</span><br><span class="line">        <span class="keyword">int</span> n = s.length();</span><br><span class="line">        <span class="comment">// å³æŒ‡é’ˆï¼Œåˆå§‹å€¼ä¸º -1ï¼Œç›¸å½“äºæˆ‘ä»¬åœ¨å­—ç¬¦ä¸²çš„å·¦è¾¹ç•Œçš„å·¦ä¾§ï¼Œè¿˜æ²¡æœ‰å¼€å§‹ç§»åŠ¨</span></span><br><span class="line">        <span class="keyword">int</span> rk = -<span class="number">1</span>, ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œç§»é™¤ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">                occ.remove(s.charAt(i - <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (rk + <span class="number">1</span> &lt; n &amp;&amp; !occ.contains(s.charAt(rk + <span class="number">1</span>))) &#123;</span><br><span class="line">                <span class="comment">// ä¸æ–­åœ°ç§»åŠ¨å³æŒ‡é’ˆ</span></span><br><span class="line">                occ.add(s.charAt(rk + <span class="number">1</span>));</span><br><span class="line">                ++rk;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ç¬¬ i åˆ° rk ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªæé•¿çš„æ— é‡å¤å­—ç¬¦å­ä¸²</span></span><br><span class="line">            ans = Math.max(ans, rk - i + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ»‘åŠ¨çª—å£Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(self, s: str)</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># å“ˆå¸Œé›†åˆï¼Œè®°å½•æ¯ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°è¿‡</span></span><br><span class="line">        occ = set()</span><br><span class="line">        n = len(s)</span><br><span class="line">        <span class="comment"># å³æŒ‡é’ˆï¼Œåˆå§‹å€¼ä¸º -1ï¼Œç›¸å½“äºæˆ‘ä»¬åœ¨å­—ç¬¦ä¸²çš„å·¦è¾¹ç•Œçš„å·¦ä¾§ï¼Œè¿˜æ²¡æœ‰å¼€å§‹ç§»åŠ¨</span></span><br><span class="line">        rk, ans = <span class="number">-1</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">if</span> i != <span class="number">0</span>:</span><br><span class="line">                <span class="comment"># å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œç§»é™¤ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">                occ.remove(s[i - <span class="number">1</span>])</span><br><span class="line">            <span class="keyword">while</span> rk + <span class="number">1</span> &lt; n <span class="keyword">and</span> s[rk + <span class="number">1</span>] <span class="keyword">not</span> <span class="keyword">in</span> occ:</span><br><span class="line">                <span class="comment"># ä¸æ–­åœ°ç§»åŠ¨å³æŒ‡é’ˆ</span></span><br><span class="line">                occ.add(s[rk + <span class="number">1</span>])</span><br><span class="line">                rk += <span class="number">1</span></span><br><span class="line">            <span class="comment"># ç¬¬ i åˆ° rk ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªæé•¿çš„æ— é‡å¤å­—ç¬¦å­ä¸²</span></span><br><span class="line">            ans = max(ans, rk - i + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>æ»‘åŠ¨çª—å£JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lengthOfLongestSubstring = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// å“ˆå¸Œé›†åˆï¼Œè®°å½•æ¯ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°è¿‡</span></span><br><span class="line">    <span class="keyword">const</span> occ = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">    <span class="keyword">const</span> n = s.length;</span><br><span class="line">    <span class="comment">// å³æŒ‡é’ˆï¼Œåˆå§‹å€¼ä¸º -1ï¼Œç›¸å½“äºæˆ‘ä»¬åœ¨å­—ç¬¦ä¸²çš„å·¦è¾¹ç•Œçš„å·¦ä¾§ï¼Œè¿˜æ²¡æœ‰å¼€å§‹ç§»åŠ¨</span></span><br><span class="line">    <span class="keyword">let</span> rk = <span class="number">-1</span>, ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œç§»é™¤ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">            occ.delete(s.charAt(i - <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (rk + <span class="number">1</span> &lt; n &amp;&amp; !occ.has(s.charAt(rk + <span class="number">1</span>))) &#123;</span><br><span class="line">            <span class="comment">// ä¸æ–­åœ°ç§»åŠ¨å³æŒ‡é’ˆ</span></span><br><span class="line">            occ.add(s.charAt(rk + <span class="number">1</span>));</span><br><span class="line">            ++rk;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ç¬¬ i åˆ° rk ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªæé•¿çš„æ— é‡å¤å­—ç¬¦å­ä¸²</span></span><br><span class="line">        ans = <span class="built_in">Math</span>.max(ans, rk - i + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ»‘åŠ¨çª—å£Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(s <span class="keyword">string</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="comment">// å“ˆå¸Œé›†åˆï¼Œè®°å½•æ¯ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°è¿‡</span></span><br><span class="line">    m := <span class="keyword">map</span>[<span class="keyword">byte</span>]<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">    n := <span class="built_in">len</span>(s)</span><br><span class="line">    <span class="comment">// å³æŒ‡é’ˆï¼Œåˆå§‹å€¼ä¸º -1ï¼Œç›¸å½“äºæˆ‘ä»¬åœ¨å­—ç¬¦ä¸²çš„å·¦è¾¹ç•Œçš„å·¦ä¾§ï¼Œè¿˜æ²¡æœ‰å¼€å§‹ç§»åŠ¨</span></span><br><span class="line">    rk, ans := <span class="number">-1</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> i != <span class="number">0</span> &#123;</span><br><span class="line">            <span class="comment">// å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œç§»é™¤ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">            <span class="built_in">delete</span>(m, s[i<span class="number">-1</span>])</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> rk + <span class="number">1</span> &lt; n &amp;&amp; m[s[rk+<span class="number">1</span>]] == <span class="number">0</span> &#123;</span><br><span class="line">            <span class="comment">// ä¸æ–­åœ°ç§»åŠ¨å³æŒ‡é’ˆ</span></span><br><span class="line">            m[s[rk+<span class="number">1</span>]]++</span><br><span class="line">            rk++</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ç¬¬ i åˆ° rk ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªæé•¿çš„æ— é‡å¤å­—ç¬¦å­ä¸²</span></span><br><span class="line">        ans = max(ans, rk - i + <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x &lt; y &#123;</span><br><span class="line">        <span class="keyword">return</span> y</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚å·¦æŒ‡é’ˆå’Œå³æŒ‡é’ˆåˆ†åˆ«ä¼šéå†æ•´ä¸ªå­—ç¬¦ä¸²ä¸€æ¬¡ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(|\Sigma|)</span><br></pre></td></tr></table></figure></li></ul><p>ï¼Œå…¶ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\Sigma</span><br></pre></td></tr></table></figure><p> è¡¨ç¤ºå­—ç¬¦é›†ï¼ˆå³å­—ç¬¦ä¸²ä¸­å¯ä»¥å‡ºç°çš„å­—ç¬¦ï¼‰ï¼Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">|\Sigma|</span><br></pre></td></tr></table></figure><p> è¡¨ç¤ºå­—ç¬¦é›†çš„å¤§å°ã€‚åœ¨æœ¬é¢˜ä¸­æ²¡æœ‰æ˜ç¡®è¯´æ˜å­—ç¬¦é›†ï¼Œå› æ­¤å¯ä»¥é»˜è®¤ä¸ºæ‰€æœ‰ ASCII ç åœ¨ <em>[0, 128)</em> å†…çš„å­—ç¬¦ï¼Œå³<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|\Sigma|=128</span><br><span class="line">``` </span><br><span class="line">ã€‚æˆ‘ä»¬éœ€è¦ç”¨åˆ°å“ˆå¸Œé›†åˆæ¥å­˜å‚¨å‡ºç°è¿‡çš„å­—ç¬¦ï¼Œè€Œå­—ç¬¦æœ€å¤šæœ‰ </span><br><span class="line">```math</span><br><span class="line">|\Sigma|</span><br></pre></td></tr></table></figure></p><p>ä¸ªï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(|\Sigma|)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
      <category term="Sliding Window" scheme="http://yoursite.com/tags/Sliding-Window/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Two Pointers" scheme="http://yoursite.com/tags/Two-Pointers/"/>
    
  </entry>
  
  <entry>
    <title>991. åäº†çš„è®¡ç®—å™¨</title>
    <link href="http://yoursite.com/2021/11/03/991.%20%E5%9D%8F%E4%BA%86%E7%9A%84%E8%AE%A1%E7%AE%97%E5%99%A8/"/>
    <id>http://yoursite.com/2021/11/03/991. åäº†çš„è®¡ç®—å™¨/</id>
    <published>2021-11-03T03:12:12.000Z</published>
    <updated>2021-11-03T03:45:01.565Z</updated>
    
    <content type="html"><![CDATA[<p>è¿”å›æ˜¾ç¤ºæ•°å­— Y æ‰€éœ€çš„æœ€å°æ“ä½œæ•°ã€‚</p><a id="more"></a><p>[TOC]</p><p>åœ¨æ˜¾ç¤ºç€æ•°å­—çš„åè®¡ç®—å™¨ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹ä¸¤ç§æ“ä½œï¼š</p><p>åŒå€ï¼ˆDoubleï¼‰ï¼šå°†æ˜¾ç¤ºå±ä¸Šçš„æ•°å­—ä¹˜ 2ï¼›<br>é€’å‡ï¼ˆDecrementï¼‰ï¼šå°†æ˜¾ç¤ºå±ä¸Šçš„æ•°å­—å‡ 1 ã€‚<br>æœ€åˆï¼Œè®¡ç®—å™¨æ˜¾ç¤ºæ•°å­— Xã€‚</p><p>è¿”å›æ˜¾ç¤ºæ•°å­— Y æ‰€éœ€çš„æœ€å°æ“ä½œæ•°ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šX = 2, Y = 3è¾“å‡ºï¼š2è§£é‡Šï¼šå…ˆè¿›è¡ŒåŒå€è¿ç®—ï¼Œç„¶åå†è¿›è¡Œé€’å‡è¿ç®— {2 -&gt; 4 -&gt; 3}.</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šX = 5, Y = 8è¾“å‡ºï¼š2è§£é‡Šï¼šå…ˆé€’å‡ï¼Œå†åŒå€ {5 -&gt; 4 -&gt; 8}.</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šX = 3, Y = 10è¾“å‡ºï¼š3è§£é‡Šï¼šå…ˆåŒå€ï¼Œç„¶åé€’å‡ï¼Œå†åŒå€ {3 -&gt; 6 -&gt; 5 -&gt; 10}.</code></pre><p>ç¤ºä¾‹ 4ï¼š</p><pre><code>è¾“å…¥ï¼šX = 1024, Y = 1è¾“å‡ºï¼š1023è§£é‡Šï¼šæ‰§è¡Œé€’å‡è¿ç®— 1023 æ¬¡</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= X &lt;= 10^91 &lt;= Y &lt;= 10^9</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šé€†å‘æ€ç»´"><a href="#æ–¹æ³•ä¸€ï¼šé€†å‘æ€ç»´" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€†å‘æ€ç»´"></a>æ–¹æ³•ä¸€ï¼šé€†å‘æ€ç»´</h1><p><strong>æ€è·¯</strong></p><p>é™¤äº†å¯¹ <code>X</code> æ‰§è¡Œä¹˜ 2 æˆ– å‡ 1 æ“ä½œä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹ <code>Y</code> æ‰§è¡Œ<code>é™¤ 2</code>ï¼ˆå½“ <code>Y</code> æ˜¯å¶æ•°æ—¶ï¼‰æˆ–è€…<code>åŠ  1</code>æ“ä½œã€‚</p><p>ä¸ºä»€ä¹ˆè¿™é“é¢˜é‡‡ç”¨é€†å‘æ€ç»´æ›´ä¼˜ï¼Ÿ</p><p>æ­£å‘æ€ç»´ï¼šåœ¨X&lt;Yæ—¶è¦å®ç°æ“ä½œæ•°æœ€å°ï¼Œè¦å°†Xé€¼è¿‘Yçš„1/2å€¼æˆ–1/4å€¼æˆ–1/8å€¼æˆ–â€¦å†è¿›è¡Œ*2æ“ä½œï¼Œéš¾ç‚¹åœ¨äºè¦åˆ¤æ–­è¦é€¼è¿‘çš„æ˜¯1/2å€¼è¿˜æ˜¯1/4å€¼è¿˜æ˜¯å…¶ä»–å€¼ï¼Œé€»è¾‘å¤æ‚ </p><p>é€†å‘æ€ç»´ï¼šåœ¨Y&gt;Xæ—¶Yåªç®¡/2ï¼Œåˆ°äº†Y&lt;Xæ—¶åœ¨+1é€¼è¿‘ è¯´ç™½äº†å°±æ˜¯ï¼Œæ­£å‘æ€ç»´é‡‡ç”¨çš„æ˜¯å…ˆå°è·¨åº¦çš„-1æ“ä½œï¼Œå†å¤§è·¨åº¦çš„*2æ“ä½œï¼›é€†å‘æ€ç»´é‡‡ç”¨çš„æ˜¯å…ˆå¤§è·¨åº¦çš„/2æ“ä½œï¼Œå†å°è·¨åº¦çš„-1æ“ä½œ</p><p>ç„¶è€Œäº‹å®ä¸Šå¾€å¾€æ˜¯å…ˆå¤§åå°çš„è§£å†³é—®é¢˜æ€ç»´åœ¨å®ç°èµ·æ¥ä¼šæ¯”è¾ƒç®€å•</p><p>ä¸‹é¢çš„è§£é‡Šæˆ‘æ²¡æœ‰å¤ªç†è§£ï¼Œä½†é‡ç‚¹æ˜¯è¦åˆ†å¥‡æ•°å’Œå¶æ•°ã€‚å¥‡æ•°ä¸èƒ½ç›´æ¥é™¤2ï¼Œå¯ä»¥å…ˆåŠ 1</p><p>è¿™æ ·åšçš„åŠ¨æœºæ˜¯æˆ‘ä»¬å¯ä»¥æ€»æ˜¯è´ªå¿ƒåœ°æ‰§è¡Œé™¤ 2 æ“ä½œï¼š</p><ul><li><p>å½“ <code>Y</code> æ˜¯å¶æ•°ï¼Œå¦‚æœå…ˆæ‰§è¡Œ 2 æ¬¡åŠ æ³•æ“ä½œï¼Œå†æ‰§è¡Œ 1 æ¬¡é™¤æ³•æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…ˆæ‰§è¡Œ 1 æ¬¡é™¤æ³•æ“ä½œï¼Œå†æ‰§è¡Œ 1 æ¬¡åŠ æ³•æ“ä½œä»¥ä½¿ç”¨æ›´å°‘çš„æ“ä½œæ¬¡æ•°å¾—åˆ°ç›¸åŒçš„ç»“æœ [<code>(Y+2) / 2</code> vs <code>Y/2 + 1</code>]ã€‚</p></li><li><p>å½“ <code>Y</code> æ˜¯å¥‡æ•°ï¼Œå¦‚æœå…ˆæ‰§è¡Œ 3 æ¬¡åŠ æ³•æ“ä½œï¼Œå†æ‰§è¡Œ 1 æ¬¡é™¤æ³•æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æ›¿ä»£ä¸ºé¡ºæ¬¡æ‰§è¡ŒåŠ æ³•ã€é™¤æ³•ã€åŠ æ³•æ“ä½œä»¥ä½¿ç”¨æ›´å°‘çš„æ“ä½œæ¬¡æ•°å¾—åˆ°ç›¸åŒçš„ç»“æœ [<code>(Y+3) / 2</code> vs <code>(Y+1) / 2 + 1</code>]ã€‚</p></li></ul><p><strong>ç®—æ³•</strong></p><p>å½“ <code>Y</code> å¤§äº <code>X</code> æ—¶ï¼Œå¦‚æœå®ƒæ˜¯å¥‡æ•°ï¼Œæˆ‘ä»¬æ‰§è¡ŒåŠ æ³•æ“ä½œï¼Œå¦åˆ™æ‰§è¡Œé™¤æ³•æ“ä½œã€‚ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦æ‰§è¡Œ <code>X - Y</code> æ¬¡åŠ æ³•æ“ä½œä»¥å¾—åˆ° <code>X</code>ã€‚</p><figure class="highlight java"><figcaption><span>[uRsowHNz-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">brokenCalc</span><span class="params">(<span class="keyword">int</span> startValue, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (startValue &lt; target) &#123;</span><br><span class="line">            res++;</span><br><span class="line">            target = ((target &amp; <span class="number">1</span>) == <span class="number">1</span>) ? target + <span class="number">1</span> : target / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res + startValue - target;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight python"><figcaption><span>[uRsowHNz-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">brokenCalc</span><span class="params">(self, X, Y)</span>:</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> Y &gt; X:</span><br><span class="line">            ans += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> Y%<span class="number">2</span>: Y += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>: Y /= <span class="number">2</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans + X-Y</span><br></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š  O(logY)</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š  <em>O(1)</em>ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿”å›æ˜¾ç¤ºæ•°å­— Y æ‰€éœ€çš„æœ€å°æ“ä½œæ•°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
      <category term="Greedy" scheme="http://yoursite.com/tags/Greedy/"/>
    
  </entry>
  
  <entry>
    <title>224. åŸºæœ¬è®¡ç®—å™¨</title>
    <link href="http://yoursite.com/2021/11/02/224.%20%E5%9F%BA%E6%9C%AC%E8%AE%A1%E7%AE%97%E5%99%A8/"/>
    <id>http://yoursite.com/2021/11/02/224. åŸºæœ¬è®¡ç®—å™¨/</id>
    <published>2021-11-02T09:12:12.000Z</published>
    <updated>2021-11-03T03:11:38.688Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼sï¼Œè¯·ä½ å®ç°ä¸€ä¸ªåŸºæœ¬è®¡ç®—å™¨æ¥è®¡ç®—å¹¶è¿”å›å®ƒçš„å€¼ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;1 + 1&quot;è¾“å‡ºï¼š2</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot; 2-1 + 2 &quot;è¾“å‡ºï¼š3</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;(1+(4+5+2)-3)+(6+8)&quot;è¾“å‡ºï¼š23</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= s.length &lt;= 3 * 105s ç”±æ•°å­—ã€&apos;+&apos;ã€&apos;-&apos;ã€&apos;(&apos;ã€&apos;)&apos;ã€å’Œ &apos; &apos; ç»„æˆs è¡¨ç¤ºä¸€ä¸ªæœ‰æ•ˆçš„è¡¨è¾¾å¼</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šæ‹¬å·å±•å¼€-æ ˆ"><a href="#æ–¹æ³•ä¸€ï¼šæ‹¬å·å±•å¼€-æ ˆ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ‹¬å·å±•å¼€ + æ ˆ"></a>æ–¹æ³•ä¸€ï¼šæ‹¬å·å±•å¼€ + æ ˆ</h1><p>ç”±äºå­—ç¬¦ä¸²é™¤äº†æ•°å­—ä¸æ‹¬å·å¤–ï¼Œåªæœ‰åŠ å·å’Œå‡å·ä¸¤ç§è¿ç®—ç¬¦ã€‚å› æ­¤ï¼Œå¦‚æœå±•å¼€è¡¨è¾¾å¼ä¸­æ‰€æœ‰çš„æ‹¬å·ï¼Œåˆ™å¾—åˆ°çš„æ–°è¡¨è¾¾å¼ä¸­ï¼Œæ•°å­—æœ¬èº«ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œåªæ˜¯æ¯ä¸ªæ•°å­—å‰é¢çš„ç¬¦å·ä¼šå‘ç”Ÿå˜åŒ–ã€‚<a href="https://leetcode-cn.com/problems/basic-calculator/solution/ji-ben-ji-suan-qi-by-leetcode-solution-jvir/" target="_blank" rel="noopener">^1</a></p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">calculate</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; ops;</span><br><span class="line">        ops.push(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> sign = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> n = s.length();</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; n) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">' '</span>) &#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">'+'</span>) &#123;</span><br><span class="line">                sign = ops.top();</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">'-'</span>) &#123;</span><br><span class="line">                sign = -ops.top();</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">'('</span>) &#123;</span><br><span class="line">                ops.push(sign);</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">')'</span>) &#123;</span><br><span class="line">                ops.pop();</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">long</span> num = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span> (i &lt; n &amp;&amp; s[i] &gt;= <span class="string">'0'</span> &amp;&amp; s[i] &lt;= <span class="string">'9'</span>) &#123;</span><br><span class="line">                    num = num * <span class="number">10</span> + s[i] - <span class="string">'0'</span>;</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">                ret += sign * num;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        Deque&lt;Integer&gt; ops = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">        ops.push(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> sign = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> n = s.length();</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; n) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(i) == <span class="string">' '</span>) &#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i) == <span class="string">'+'</span>) &#123;</span><br><span class="line">                sign = ops.peek();</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i) == <span class="string">'-'</span>) &#123;</span><br><span class="line">                sign = -ops.peek();</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i) == <span class="string">'('</span>) &#123;</span><br><span class="line">                ops.push(sign);</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i) == <span class="string">')'</span>) &#123;</span><br><span class="line">                ops.pop();</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">long</span> num = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span> (i &lt; n &amp;&amp; Character.isDigit(s.charAt(i))) &#123;</span><br><span class="line">                    num = num * <span class="number">10</span> + s.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">                ret += sign * num;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> calculate = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> ops = [<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">let</span> sign = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> n = s.length;</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; n) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i] === <span class="string">' '</span>) &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] === <span class="string">'+'</span>) &#123;</span><br><span class="line">            sign = ops[ops.length - <span class="number">1</span>];</span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] === <span class="string">'-'</span>) &#123;</span><br><span class="line">            sign = -ops[ops.length - <span class="number">1</span>];</span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] === <span class="string">'('</span>) &#123;</span><br><span class="line">            ops.push(sign);</span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] === <span class="string">')'</span>) &#123;</span><br><span class="line">            ops.pop();</span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> num = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; n &amp;&amp; !(<span class="built_in">isNaN</span>(<span class="built_in">Number</span>(s[i]))) &amp;&amp; s[i] !== <span class="string">' '</span>) &#123;</span><br><span class="line">                num = num * <span class="number">10</span> + s[i].charCodeAt() - <span class="string">'0'</span>.charCodeAt();</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            ret += sign * num;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">calculate</span><span class="params">(s <span class="keyword">string</span>)</span> <span class="params">(ans <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    ops := []<span class="keyword">int</span>&#123;<span class="number">1</span>&#125;</span><br><span class="line">    sign := <span class="number">1</span></span><br><span class="line">    n := <span class="built_in">len</span>(s)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; &#123;</span><br><span class="line">        <span class="keyword">switch</span> s[i] &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">' '</span>:</span><br><span class="line">            i++</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'+'</span>:</span><br><span class="line">            sign = ops[<span class="built_in">len</span>(ops)<span class="number">-1</span>]</span><br><span class="line">            i++</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'-'</span>:</span><br><span class="line">            sign = -ops[<span class="built_in">len</span>(ops)<span class="number">-1</span>]</span><br><span class="line">            i++</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'('</span>:</span><br><span class="line">            ops = <span class="built_in">append</span>(ops, sign)</span><br><span class="line">            i++</span><br><span class="line">        <span class="keyword">case</span> <span class="string">')'</span>:</span><br><span class="line">            ops = ops[:<span class="built_in">len</span>(ops)<span class="number">-1</span>]</span><br><span class="line">            i++</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            num := <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> ; i &lt; n &amp;&amp; <span class="string">'0'</span> &lt;= s[i] &amp;&amp; s[i] &lt;= <span class="string">'9'</span>; i++ &#123;</span><br><span class="line">                num = num*<span class="number">10</span> + <span class="keyword">int</span>(s[i]-<span class="string">'0'</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            ans += sign * num</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">calculate</span><span class="params">(<span class="keyword">char</span>* s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = <span class="built_in">strlen</span>(s);</span><br><span class="line">    <span class="keyword">int</span> ops[n], top = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sign = <span class="number">1</span>;</span><br><span class="line">    ops[top++] = sign;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; n) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i] == <span class="string">' '</span>) &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">'+'</span>) &#123;</span><br><span class="line">            sign = ops[top - <span class="number">1</span>];</span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">'-'</span>) &#123;</span><br><span class="line">            sign = -ops[top - <span class="number">1</span>];</span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">'('</span>) &#123;</span><br><span class="line">            ops[top++] = sign;</span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">')'</span>) &#123;</span><br><span class="line">            top--;</span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">long</span> num = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; n &amp;&amp; s[i] &gt;= <span class="string">'0'</span> &amp;&amp; s[i] &lt;= <span class="string">'9'</span>) &#123;</span><br><span class="line">                num = num * <span class="number">10</span> + s[i] - <span class="string">'0'</span>;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            ret += sign * num;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calculate</span><span class="params">(self, s: str)</span> -&gt; int:</span></span><br><span class="line">        ops = [<span class="number">1</span>]</span><br><span class="line">        sign = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        ret = <span class="number">0</span></span><br><span class="line">        n = len(s)</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; n:</span><br><span class="line">            <span class="keyword">if</span> s[i] == <span class="string">' '</span>:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> s[i] == <span class="string">'+'</span>:</span><br><span class="line">                sign = ops[<span class="number">-1</span>]</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> s[i] == <span class="string">'-'</span>:</span><br><span class="line">                sign = -ops[<span class="number">-1</span>]</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> s[i] == <span class="string">'('</span>:</span><br><span class="line">                ops.append(sign)</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> s[i] == <span class="string">')'</span>:</span><br><span class="line">                ops.pop()</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                num = <span class="number">0</span></span><br><span class="line">                <span class="keyword">while</span> i &lt; n <span class="keyword">and</span> s[i].isdigit():</span><br><span class="line">                    num = num * <span class="number">10</span> + ord(s[i]) - ord(<span class="string">'0'</span>)</span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">                ret += num * sign</span><br><span class="line">        <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œå…¶ä¸­ *n</em> ä¸ºå­—ç¬¦ä¸² <em>s</em> çš„é•¿åº¦ã€‚éœ€è¦éå†å­—ç¬¦ä¸² <em>s</em> ä¸€æ¬¡ï¼Œè®¡ç®—è¡¨è¾¾å¼çš„å€¼ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œå…¶ä¸­ *n</em> ä¸ºå­—ç¬¦ä¸² <em>s</em> çš„é•¿åº¦ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºæ ˆçš„ç©ºé—´ï¼Œæ ˆä¸­çš„å…ƒç´ æ•°é‡ä¸è¶…è¿‡ <em>n</em>ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼sï¼Œè¯·ä½ å®ç°ä¸€ä¸ªåŸºæœ¬è®¡ç®—å™¨æ¥è®¡ç®—å¹¶è¿”å›å®ƒçš„å€¼ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
  </entry>
  
  <entry>
    <title>772. åŸºæœ¬è®¡ç®—å™¨III</title>
    <link href="http://yoursite.com/2021/11/02/772.%20%E5%9F%BA%E6%9C%AC%E8%AE%A1%E7%AE%97%E5%99%A8III/"/>
    <id>http://yoursite.com/2021/11/02/772. åŸºæœ¬è®¡ç®—å™¨III/</id>
    <published>2021-11-02T09:12:12.000Z</published>
    <updated>2021-11-06T13:32:42.408Z</updated>
    
    <content type="html"><![CDATA[<p>Implement a basic calculator to evaluate a simple expression string.</p><a id="more"></a><p>[TOC]</p><p>The expression string may contain open ( and closing parentheses ), the plus + or minus sign -, non-negative integers and empty spaces .</p><p>The expression string contains only non-negative integers, +, -, *, / operators , open ( and closing parentheses ) and empty spaces . The integer division should truncate toward zero.</p><p>You may assume that the given expression is always valid. All intermediate results will be in the range of [-2147483648, 2147483647].</p><p>Some examples:</p><pre><code>&quot;1 + 1&quot; = 2&quot; 6-4 / 2 &quot; = 4&quot;2*(5+5*2)/3+(6/2+8)&quot; = 21&quot;(2+6* 3+5- (3*14/7+2)*5)+3&quot;=-12</code></pre><p>Note: Do not use the eval built-in library function.</p><h1 id="æ–¹æ³•ä¸€ï¼šä¸­ç¼€è½¬åç¼€ï¼ˆé€†æ³¢å…°ï¼‰è¡¨è¾¾å¼"><a href="#æ–¹æ³•ä¸€ï¼šä¸­ç¼€è½¬åç¼€ï¼ˆé€†æ³¢å…°ï¼‰è¡¨è¾¾å¼" class="headerlink" title="æ–¹æ³•ä¸€ï¼šä¸­ç¼€è½¬åç¼€ï¼ˆé€†æ³¢å…°ï¼‰è¡¨è¾¾å¼"></a>æ–¹æ³•ä¸€ï¼šä¸­ç¼€è½¬åç¼€ï¼ˆé€†æ³¢å…°ï¼‰è¡¨è¾¾å¼</h1><p>å”¯ä¸€éœ€è¦æ³¨æ„çš„åœ°æ–¹å°±æ˜¯è®¡ç®—çš„ä¸­é—´ç»“æœèŒƒå›´å¯èƒ½å‡ºç°è¶…å‡º int ç±»å‹çš„æƒ…å†µã€‚å› æ­¤ï¼Œåœ¨è¿›è¡Œé€†æ³¢å…°è®¡ç®—çš„æ—¶å€™ï¼Œä½¿ç”¨ long æ¥è®¡ç®—ã€‚</p><p>é€†æ³¢å…°è®¡ç®—å™¨çš„åŸç†æ˜¯ä½¿ç”¨é€†æ³¢å…°è¡¨è¾¾å¼æ¥è®¡ç®—å‡ºè¡¨è¾¾å¼çš„å€¼ï¼Œæˆ‘ä»¬äººç±»èƒ½å¤Ÿç†Ÿç»ƒä½¿ç”¨çš„æ˜¯ä¸­ç¼€è¡¨è¾¾å¼ï¼Œæ¯”å¦‚2Ã—(9+6/3-5)+4å°±æ˜¯ä¸€ä¸ªä¸­ç¼€è¡¨è¾¾å¼ï¼Œä½†æ˜¯çœ‹åˆ°ä¸Šé¢çš„ç®€å•è®¡ç®—å™¨å°±çŸ¥é“å¤„ç†èµ·æ¥å¾ˆéº»çƒ¦ã€‚äºæ˜¯æœ‰ä¸€ç§é€†æ³¢å…°è®¡ç®—å™¨ï¼Œè®¡ç®—æ˜¯åœ¨é€†æ³¢å…°è¡¨è¾¾å¼ï¼ˆä¹Ÿå«åšåç¼€è¡¨è¾¾å¼ï¼‰çš„åŸºç¡€ä¸Šã€‚</p><p>é€†æ³¢å…°è®¡ç®—å™¨çš„è®¡ç®—è¿‡ç¨‹ä¸ºï¼šä»å·¦åˆ°å³æ‰«æåç¼€è¡¨è¾¾å¼ï¼Œé‡åˆ°æ•°å­—å°±å…¥æ ˆï¼Œé‡åˆ°æ“ä½œç¬¦å°±ä»æ ˆå¼¹å‡ºä¸¤ä¸ªæ•°å­—ï¼Œç„¶åè®¡ç®—å¾—åˆ°çš„å€¼ç»§ç»­å…¥æ ˆï¼Œç»§ç»­æ‰«æè¡¨è¾¾å¼ï¼Œç›´åˆ°æ‰«æå®Œæ¯•å¾—åˆ°ç»“æœã€‚</p><p>æŠŠä¸­ç¼€è¡¨è¾¾å¼è½¬æˆåç¼€è¡¨è¾¾å¼ï¼Ÿ</p><p>è½¬æ¢è§„åˆ™</p><pre><code>ã€€ã€€1ï¼‰æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªstackæ ˆç»“æ„å­˜å‚¨æ“ä½œç¬¦ï¼Œç”¨ä¸€ä¸ªListç»“æ„å­˜å‚¨åç¼€è¡¨è¾¾å¼ç»“æœã€€ã€€2ï¼‰é¦–å…ˆè¯»å–åˆ°æ•°å­—ï¼Œç›´æ¥å­˜å…¥listä¸­ã€€ã€€3ï¼‰å½“è¯»å–åˆ°å·¦æ‹¬å·&quot;(&quot;æ—¶ï¼Œç›´æ¥å‹æ ˆï¼Œå½“è¯»å–åˆ°è¿ç®—ç¬¦æ—¶ï¼Œåˆ†ä¸¤ç§æƒ…å†µè®¨è®ºã€€ã€€ã€€ã€€a.å½“è¿ç®—ç¬¦æ ˆä¸ºç©ºæˆ–è€…æ ˆé¡¶æ“ä½œç¬¦çš„ä¼˜å…ˆçº§å°äºå½“å‰è¿ç®—ç¬¦ä¼˜å…ˆçº§æ—¶(å¦‚+å’Œ-çš„ä¼˜å…ˆçº§ä½äº * å’Œ /)ï¼Œç›´æ¥å…¥æ ˆã€€ã€€ã€€ã€€b.å½“è¿ç®—ç¬¦ä¸ä¸ºç©ºæ—¶ä¸”æ ˆé¡¶æ“ä½œç¬¦çš„ä¼˜å…ˆçº§å¤§äºæˆ–ç­‰äºå½“å‰è¿ç®—ç¬¦ä¼˜å…ˆçº§æ—¶ï¼Œå¾ªç¯æ‰§è¡Œå‡ºæ ˆæ“ä½œå¹¶åŠ å…¥listä¸­ï¼Œç›´åˆ°é‡åˆ°ä¼˜å…ˆçº§å°äºå½“å‰è¿ç®—ç¬¦çš„å…ƒç´ ä¸ºæ­¢ã€‚å¾ªç¯æ‰§è¡Œå®Œåå†å°†å½“å‰è¿ç®—ç¬¦å‹æ ˆã€‚å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰é‡åˆ°å³æ‹¬å·æ—¶ï¼Œå·¦æ‹¬å·æ‰å‡ºæ ˆã€€ã€€4) å½“é‡åˆ°å³æ‹¬å·&quot;)&quot;æ—¶ï¼Œå¾ªç¯æ‰§è¡Œå‡ºæ ˆæ“ä½œå¹¶åŠ å…¥åˆ°listä¸­ï¼Œç›´åˆ°é‡åˆ°å·¦æ‹¬å·ä¸ºæ­¢ã€‚å¹¶å°†å·¦æ‹¬å·å¼¹å‡ºï¼Œä½†ä¸åŠ å…¥listä¸­ã€€ã€€5) è¡¨è¾¾å¼çš„å€¼è¯»å–å®Œåï¼Œå°†æ“ä½œç¬¦æ ˆä¸­çš„æ‰€æœ‰å…ƒç´ å¼¹å‡ºå¹¶åŠ å…¥åˆ°listä¸­ã€€ã€€æ‰§è¡Œå®Œä¸Šé¢æ­¥éª¤åï¼Œlistä¸­å­˜å‚¨çš„é¡ºåºå³ä¸ºæˆ‘ä»¬è½¬æ¢åçš„åç¼€è¡¨è¾¾å¼çš„ç»“æœ</code></pre><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        String expression = s.replaceAll(<span class="string">" "</span>, <span class="string">""</span>); <span class="comment">//å»ç©ºæ ¼</span></span><br><span class="line">        List&lt;String&gt; infix = expressionToList(expression); <span class="comment">//è¡¨è¾¾å¼è½¬ä¸­ç¼€</span></span><br><span class="line">        List&lt;String&gt; suffix = parseToSuffixExpression(infix); <span class="comment">//ä¸­ç¼€è½¬åç¼€</span></span><br><span class="line">        Stack&lt;String&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;(); <span class="comment">// å­˜å‚¨ä¸­é—´ç»“æœ</span></span><br><span class="line">        <span class="comment">// é€†æ³¢å…°è®¡ç®—å™¨</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; suffix.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isOper(suffix.get(i))) &#123;</span><br><span class="line">                String b = stack.pop();</span><br><span class="line">                String a = stack.pop();</span><br><span class="line">                String result = cal(a, suffix.get(i), b);</span><br><span class="line">                stack.push(result);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                stack.push(suffix.get(i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(stack.pop());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * num1 å’Œ num2 è¿›è¡Œ oper è®¡ç®—</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">cal</span><span class="params">(String num1, String oper, String num2)</span> </span>&#123;</span><br><span class="line">        Long result = <span class="number">0L</span>;</span><br><span class="line">        Long a = Long.parseLong(num1);</span><br><span class="line">        Long b = Long.parseLong(num2);</span><br><span class="line">        <span class="keyword">switch</span> (oper) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"+"</span>:</span><br><span class="line">                result = a + b;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"-"</span>:</span><br><span class="line">                result = a - b;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"*"</span>:</span><br><span class="line">                result = a * b;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"/"</span>:</span><br><span class="line">                result = a / b;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> String.valueOf(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸­ç¼€è½¬åç¼€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span>  List&lt;String&gt; <span class="title">parseToSuffixExpression</span><span class="params">(List&lt;String&gt; expressionList)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªæ ˆç”¨äºä¿å­˜æ“ä½œç¬¦</span></span><br><span class="line">        Stack&lt;String&gt; opStack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªlistç”¨äºä¿å­˜åç¼€è¡¨è¾¾å¼</span></span><br><span class="line">        List&lt;String&gt; suffixList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(String item : expressionList)&#123;</span><br><span class="line">            <span class="comment">//å¾—åˆ°æ•°æˆ–æ“ä½œç¬¦</span></span><br><span class="line">            <span class="keyword">if</span>(isOper(item))&#123;</span><br><span class="line">                <span class="comment">//æ˜¯æ“ä½œç¬¦ åˆ¤æ–­æ“ä½œç¬¦æ ˆæ˜¯å¦ä¸ºç©º</span></span><br><span class="line">                <span class="keyword">if</span>(opStack.isEmpty() || <span class="string">"("</span>.equals(opStack.peek()) || priority(item) &gt; priority(opStack.peek()))&#123;</span><br><span class="line">                    <span class="comment">//ä¸ºç©ºæˆ–è€…æ ˆé¡¶å…ƒç´ ä¸ºå·¦æ‹¬å·æˆ–è€…å½“å‰æ“ä½œç¬¦å¤§äºæ ˆé¡¶æ“ä½œç¬¦ç›´æ¥å‹æ ˆ</span></span><br><span class="line">                    opStack.push(item);</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">//å¦åˆ™å°†æ ˆä¸­å…ƒç´ å‡ºæ ˆå¦‚é˜Ÿï¼Œç›´åˆ°é‡åˆ°å¤§äºå½“å‰æ“ä½œç¬¦æˆ–è€…é‡åˆ°å·¦æ‹¬å·æ—¶</span></span><br><span class="line">                    <span class="keyword">while</span> (!opStack.isEmpty() &amp;&amp; !<span class="string">"("</span>.equals(opStack.peek()))&#123;</span><br><span class="line">                        <span class="keyword">if</span>(priority(item) &lt;= priority(opStack.peek()))&#123;</span><br><span class="line">                            suffixList.add(opStack.pop());</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">//å½“å‰æ“ä½œç¬¦å‹æ ˆ</span></span><br><span class="line">                    opStack.push(item);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(isNumber(item))&#123;</span><br><span class="line">                <span class="comment">//æ˜¯æ•°å­—åˆ™ç›´æ¥å…¥é˜Ÿ</span></span><br><span class="line">                suffixList.add(item);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">"("</span>.equals(item))&#123;</span><br><span class="line">                <span class="comment">//æ˜¯å·¦æ‹¬å·ï¼Œå‹æ ˆ</span></span><br><span class="line">                opStack.push(item);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">")"</span>.equals(item))&#123;</span><br><span class="line">                <span class="comment">//æ˜¯å³æ‹¬å· ï¼Œå°†æ ˆä¸­å…ƒç´ å¼¹å‡ºå…¥é˜Ÿï¼Œç›´åˆ°é‡åˆ°å·¦æ‹¬å·ï¼Œå·¦æ‹¬å·å‡ºæ ˆï¼Œä½†ä¸å…¥é˜Ÿ</span></span><br><span class="line">                <span class="keyword">while</span> (!opStack.isEmpty())&#123;</span><br><span class="line">                    <span class="keyword">if</span>(<span class="string">"("</span>.equals(opStack.peek()))&#123;</span><br><span class="line">                        opStack.pop();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        suffixList.add(opStack.pop());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"æœ‰éæ³•å­—ç¬¦ï¼"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å¾ªç¯å®Œæ¯•ï¼Œå¦‚æœæ“ä½œç¬¦æ ˆä¸­å…ƒç´ ä¸ä¸ºç©ºï¼Œå°†æ ˆä¸­å…ƒç´ å‡ºæ ˆå…¥é˜Ÿ</span></span><br><span class="line">        <span class="keyword">while</span> (!opStack.isEmpty())&#123;</span><br><span class="line">            suffixList.add(opStack.pop());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> suffixList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isOper</span><span class="params">(String string)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"+"</span>.equals(string) || <span class="string">"-"</span>.equals(string) || <span class="string">"*"</span>.equals(string)</span><br><span class="line">                || <span class="string">"/"</span>.equals(string);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isNumber</span><span class="params">(String num)</span></span>&#123;</span><br><span class="line">        <span class="comment">//åŒ¹é…æ•°å­—ï¼ˆéè´Ÿæ•°ï¼Œæ•´æ•°å’Œå°æ•°ï¼‰å’Œ è´Ÿæ•°</span></span><br><span class="line">        <span class="keyword">return</span> num.matches(<span class="string">"\\d+"</span>) || (num.charAt(<span class="number">0</span>)==<span class="string">'-'</span> &amp;&amp; num.substring(<span class="number">1</span>,num.length()).matches(<span class="string">"\\d+"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å­—ç¬¦ä¸²è½¬ä¸ºä¸­ç¼€ List</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">expressionToList</span><span class="params">(String expression)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> len = expression.length();</span><br><span class="line">        String num = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = expression.charAt(i);</span><br><span class="line">            <span class="comment">//ç›´æ¥ç”¨Character.isDigitåˆ¤æ–­ä¼šå¿½ç•¥è´Ÿæ•°å’Œå°æ•°çš„æƒ…å†µ</span></span><br><span class="line">            <span class="keyword">if</span> (isNumber(c+<span class="string">""</span>)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i != len - <span class="number">1</span> &amp;&amp; Character.isDigit(expression.charAt(i + <span class="number">1</span>))) &#123;</span><br><span class="line">                    num += c;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    num += c;</span><br><span class="line">                    list.add(num);</span><br><span class="line">                    num = <span class="string">""</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//å¤„ç†è´Ÿæ•°æƒ…å†µ</span></span><br><span class="line">                <span class="keyword">if</span> (c == <span class="string">'-'</span> &amp;&amp; (i == <span class="number">0</span> || !Character.isDigit(expression.charAt(i - <span class="number">1</span>)))) &#123;</span><br><span class="line">                    num += c;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    list.add(c + <span class="string">""</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›æ“ä½œç¬¦çš„ä¼˜å…ˆçº§ï¼Œ+- ä¸º 0ï¼Œ* / ä¸º 1</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">priority</span><span class="params">(String oper)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">"+"</span>.equals(oper) || <span class="string">"-"</span>.equals(oper)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"*"</span>.equals(oper) || <span class="string">"/"</span>.equals(oper)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Implement a basic calculator to evaluate a simple expression string.&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
  </entry>
  
  <entry>
    <title>227.åŸºæœ¬è®¡ç®—å™¨ II</title>
    <link href="http://yoursite.com/2021/11/02/227.%20%E5%9F%BA%E6%9C%AC%E8%AE%A1%E7%AE%97%E5%99%A8%20II/"/>
    <id>http://yoursite.com/2021/11/02/227. åŸºæœ¬è®¡ç®—å™¨ II/</id>
    <published>2021-11-02T03:12:12.000Z</published>
    <updated>2021-11-02T10:04:31.752Z</updated>
    
    <content type="html"><![CDATA[<p>å®ç°ä¸€ä¸ªåŸºæœ¬çš„è®¡ç®—å™¨æ¥è®¡ç®—ä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²è¡¨è¾¾å¼çš„å€¼ã€‚</p><p>å­—ç¬¦ä¸²è¡¨è¾¾å¼ä»…åŒ…å«éè´Ÿæ•´æ•°ï¼Œ+ï¼Œ - ï¼Œ*ï¼Œ/ å››ç§è¿ç®—ç¬¦å’Œç©ºæ ¼  ã€‚ æ•´æ•°é™¤æ³•ä»…ä¿ç•™æ•´æ•°éƒ¨åˆ†ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: &quot;3+2*2&quot;è¾“å‡º: 7</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: &quot; 3/2 &quot;è¾“å‡º: 1</code></pre><p>ç¤ºä¾‹ 3:</p><pre><code>è¾“å…¥: &quot; 3+5 / 2 &quot;è¾“å‡º: 5</code></pre><p>è¯´æ˜ï¼š</p><p>ä½ å¯ä»¥å‡è®¾æ‰€ç»™å®šçš„è¡¨è¾¾å¼éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚<br>è¯·ä¸è¦ä½¿ç”¨å†…ç½®çš„åº“å‡½æ•° evalã€‚</p><h1 id="è§£æ³•ä¸€ï¼šå•æ ˆçš„ç»å…¸åº”ç”¨"><a href="#è§£æ³•ä¸€ï¼šå•æ ˆçš„ç»å…¸åº”ç”¨" class="headerlink" title="è§£æ³•ä¸€ï¼šå•æ ˆçš„ç»å…¸åº”ç”¨"></a>è§£æ³•ä¸€ï¼šå•æ ˆçš„ç»å…¸åº”ç”¨</h1><p>æ­¤ç®—æ³•çš„æ€è·¯å¾ˆç®€å•ï¼Œå…ˆæŠŠä¹˜é™¤æ³•çš„å€¼è®¡ç®—å‡ºæ¥ï¼Œæœ€ç»ˆå°†æ‰€æœ‰çš„è¿ç®—ç®€åŒ–æˆåªæœ‰åŠ æ³•ã€‚</p><ol><li>å…ˆè·³è¿‡ç©ºæ ¼</li><li>å‡ºç°äº†æ•°å­—åˆ™è®°å½•æ•´ä¸ªæ•°å­—æ˜¯å¤šå°‘ï¼Œç„¶åæ ¹æ®ä¹‹å‰çš„è¿ç®—ç¬¦å†³å®šä¸‹ä¸€æ­¥ï¼š</li></ol><ul><li>å¦‚æœæ˜¯åŠ å·â€™+â€™ï¼Œè¯´æ˜å‰é¢çš„è¿ç®—ç‹¬ç«‹äºä»¥åçš„è¿ç®—ï¼Œå¯ä»¥å°†ç»“æœæš‚æ—¶æ”¾å…¥æ ˆï¼›</li><li>å¦‚æœæ˜¯å‡å·â€™-â€˜ï¼Œå¯ä»¥çœ‹æˆ<code>-1 * tempNum</code>ï¼Œç„¶åå°†<code>-tempNum</code>å…¥æ ˆï¼›</li><li>å¦‚æœæ˜¯ä¹˜å·â€™*â€™æˆ–è€…é™¤å·â€™/â€˜ï¼Œç”±äºå‰é¢çš„è¿ç®—ç‹¬ç«‹äºæ­¤ï¼Œå¯ä»¥å…ˆè®¡ç®—<code>lastNum</code>å’Œ<code>tempNum</code>ç§¯ï¼Œç„¶åç»“æœå…¥æ ˆã€‚</li></ul><ol start="3"><li>æœ€åå°†æ ˆä¸­çš„æ‰€æœ‰å…ƒç´ ç›¸åŠ å°±æ˜¯ç­”æ¡ˆã€‚</li></ol><p>æ³¨æ„çš„ç‚¹ï¼Œåœ¨å†™ä»£ç çš„æ—¶å€™æ³¨æ„åˆ°popè¦å’Œpushæˆå¯¹ä½¿ç”¨ï¼Œä¹‹å‰æ··ç”¨äº†offerå’Œpollï¼Œä½†å¯¹å…¶å®é™…ç”¨æ³•å¹¶æ²¡æœ‰è¯¦ç»†äº†è§£ã€‚ç»“æœå¯¼è‡´å‡ºç°äº†æ„æ–™ä¹‹å¤–çš„ç»“æœã€‚</p><details>    <summary>æ ˆçš„ç»å…¸åº”ç”¨</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int calculate(String s) &#123;</span><br><span class="line">        Stack&lt;Integer&gt; numStack = new Stack&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        char lastOp = &apos;+&apos;;</span><br><span class="line">        char[] arr = s.toCharArray();</span><br><span class="line">        for(int i = 0; i &lt; arr.length; i ++)&#123;</span><br><span class="line">            if(arr[i] == &apos; &apos;) continue;</span><br><span class="line"></span><br><span class="line">            if(Character.isDigit(arr[i]))&#123;</span><br><span class="line">                int tempNum = arr[i] - &apos;0&apos;;</span><br><span class="line">                while(++i &lt; arr.length &amp;&amp; Character.isDigit(arr[i]))&#123;</span><br><span class="line">                    tempNum = tempNum * 10 + (arr[i] - &apos;0&apos;);</span><br><span class="line">                &#125; i--;</span><br><span class="line"></span><br><span class="line">                if(lastOp == &apos;+&apos;) numStack.push(tempNum);</span><br><span class="line">                else if(lastOp == &apos;-&apos;) numStack.push(-tempNum);</span><br><span class="line">                else numStack.push(res(lastOp, numStack.pop(), tempNum));</span><br><span class="line">            &#125; else lastOp = arr[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        int ans = 0;</span><br><span class="line">        for(int num : numStack) ans += num;</span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    private int res(char op, int a, int b)&#123;</span><br><span class="line">        if(op == &apos;*&apos;) return a * b;</span><br><span class="line">        else if(op == &apos;/&apos;) return a / b;</span><br><span class="line">        else if(op == &apos;+&apos;) return a + b; //å…¶å®åŠ å‡è¿ç®—å¯ä»¥å¿½ç•¥</span><br><span class="line">        else return a - b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details> <h1 id="è§£æ³•äºŒï¼šåŒæ ˆç®—æ³•"><a href="#è§£æ³•äºŒï¼šåŒæ ˆç®—æ³•" class="headerlink" title="è§£æ³•äºŒï¼šåŒæ ˆç®—æ³•"></a>è§£æ³•äºŒï¼šåŒæ ˆç®—æ³•</h1><p>è¿™ä¸ªç®—æ³•æœ‰ä¸ªä¸“é—¨çš„åç§°Shunting-yard algorithm</p><p>æ ˆoprandså­˜å‚¨è¡¨è¾¾å¼ä¸­çš„æ•´æ•°ã€‚<br>æ ˆoporså­˜å‚¨è¡¨è¾¾å¼ä¸­çš„è¿ç®—ç¬¦ã€‚</p><p>ä»å·¦å‘å³éå†å­—ç¬¦ä¸²ï¼Œ</p><p>å½“s[i] ä¸ºç©ºæ ¼æ—¶ï¼Œè¿‡æ»¤æ‰ç©ºæ ¼ï¼›</p><p>å½“s[i] ä¸ºæ•°å­—æ•°ï¼Œæå–è¿ç»­çš„æ•´æ•°ã€‚å­˜å…¥oprandsã€‚</p><p>å½“s[i] ä¸ºè¿ç®—ç¬¦æ—¶ï¼Œå¦‚æœs[i]çš„ä¼˜å…ˆçº§æ¯”oporsæ ˆé¡¶è¿ç®—ç¬¦é«˜ï¼Œé‚£ä¹ˆs[i]å…¥oporsæ ˆã€‚</p><p>å¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆå¼¹å‡ºoporsæ ˆé¡¶è¿ç®—ç¬¦ï¼Œå’Œoprandsæ ˆé¡¶çš„ä¸¤ä¸ªæ•´æ•°ï¼Œè®¡ç®—ï¼Œç»“æœå­˜å…¥oprandsæ ˆã€‚</p><p>æœ€ç»ˆçš„è§£åœ¨oprandsä¸­ã€‚</p><details>    <summary>åŒæ ˆç®—æ³•</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    static Stack&lt;Integer&gt; num = new Stack&lt;Integer&gt;();</span><br><span class="line">    static Stack&lt;Character&gt; op = new Stack&lt;Character&gt;();</span><br><span class="line">    static HashMap&lt;Character, Integer&gt; map = new HashMap&lt;Character, Integer&gt;();</span><br><span class="line">    static void eval()</span><br><span class="line">    &#123;</span><br><span class="line">        int b = num.pop();</span><br><span class="line">        int a = num.pop();</span><br><span class="line">        char c = op.pop();</span><br><span class="line">        int r = 0;</span><br><span class="line">        if(c == &apos;+&apos;) r = a + b;</span><br><span class="line">        else if(c == &apos;-&apos;) r = a - b;</span><br><span class="line">        else if(c == &apos;*&apos;) r = a * b;</span><br><span class="line">        else r = a / b;</span><br><span class="line">        num.add(r); </span><br><span class="line">    &#125;</span><br><span class="line">    public int calculate(String s) &#123;</span><br><span class="line">        s = &apos;0&apos; + s; // å¯¹å¼€å¤´æ˜¯è´Ÿæ•°çš„å¤„ç† </span><br><span class="line">        map.put(&apos;+&apos;, 1);   //å®šä¹‰è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§</span><br><span class="line">        map.put(&apos;-&apos;, 1);</span><br><span class="line">        map.put(&apos;*&apos;, 2);</span><br><span class="line">        map.put(&apos;/&apos;, 2);</span><br><span class="line">        for(int i = 0; i &lt; s.length();i ++)</span><br><span class="line">        &#123;</span><br><span class="line">            char c = s.charAt(i);</span><br><span class="line">            if(c == &apos; &apos;) continue;  //è·³è¿‡ç©ºæ ¼</span><br><span class="line">            if(c &gt;= &apos;0&apos; &amp;&amp; c &lt;= &apos;9&apos;)  //cæ˜¯æ•°å­—,è¯»å–ä¸€ä¸ªè¿ç»­çš„æ•°å­—</span><br><span class="line">            &#123;</span><br><span class="line">                int x = 0, j = i;</span><br><span class="line">                while(j &lt; s.length() &amp;&amp; s.charAt(j) &gt;= &apos;0&apos; &amp;&amp; s.charAt(j) &lt;= &apos;9&apos;)</span><br><span class="line">                &#123;</span><br><span class="line">                    x = x * 10 + s.charAt(j) - &apos;0&apos;;</span><br><span class="line">                    j ++;</span><br><span class="line">                &#125;</span><br><span class="line">                i = j - 1;</span><br><span class="line">                num.add(x);</span><br><span class="line">            &#125;</span><br><span class="line">            else  //cæ˜¯æ“ä½œç¬¦ </span><br><span class="line">            &#123;     //opæ ˆéç©ºå¹¶ä¸”æ ˆé¡¶æ“ä½œç¬¦ä¼˜å…ˆçº§å¤§äºç­‰äºå½“å‰æ“ä½œç¬¦cçš„ä¼˜å…ˆçº§ï¼Œè¿›è¡Œeval()è®¡ç®—</span><br><span class="line">                while(!op.isEmpty() &amp;&amp; map.get(op.peek()) &gt;= map.get(c)) eval();</span><br><span class="line">                op.add(c); </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        while(!op.isEmpty()) eval();</span><br><span class="line">        return num.pop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details> <h1 id="è§£æ³•ä¸‰ï¼šä¸ç”¨æ ˆ"><a href="#è§£æ³•ä¸‰ï¼šä¸ç”¨æ ˆ" class="headerlink" title="è§£æ³•ä¸‰ï¼šä¸ç”¨æ ˆ"></a>è§£æ³•ä¸‰ï¼šä¸ç”¨æ ˆ</h1><details>    <summary>Java</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public int calculate(String s) &#123;</span><br><span class="line">        int res = 0, tmp = 0, curNum = 0, n = s.length();</span><br><span class="line">        //reså­˜ç»“æœï¼Œtmpå­˜å½“å‰é«˜ä¼˜å…ˆçº§è¿ç®—ç»“æœï¼ŒcurNumå­˜å½“å‰å­—æ¯æ®µæ‰€ä»£è¡¨çš„æ•°å€¼</span><br><span class="line">        char op = &apos;+&apos;;</span><br><span class="line">        for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">            char c = s.charAt(i);</span><br><span class="line">            if (Character.isDigit(c)) &#123;</span><br><span class="line">                curNum = curNum * 10 + c - &apos;0&apos;;</span><br><span class="line">            &#125;</span><br><span class="line">            if (c == &apos;+&apos; || c == &apos;-&apos; || c == &apos;*&apos; || c == &apos;/&apos; || i == n - 1) &#123;</span><br><span class="line">                switch (op) &#123;</span><br><span class="line">                    case &apos;+&apos;:tmp+=curNum;break;</span><br><span class="line">                    case &apos;-&apos;:tmp-=curNum;break;</span><br><span class="line">                    case &apos;*&apos;:tmp*=curNum;break;</span><br><span class="line">                    case &apos;/&apos;:tmp/=curNum;break;</span><br><span class="line">                &#125;</span><br><span class="line">                //å•ç‹¬åˆ¤æ–­è¿ä¹˜ã€è¿é™¤ç»“æŸ æˆ– è¾¾åˆ°æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œä¾‹å¦‚ï¼š3 + 2 * 2</span><br><span class="line">                //å¦‚æœæ²¡æœ‰ä¸‹é¢è¿™ä¸ªifåˆ™ä¼šå‡ºé”™</span><br><span class="line">                if (c == &apos;+&apos; || c == &apos;-&apos; || i == n - 1) &#123;</span><br><span class="line">                    res += tmp;</span><br><span class="line">                    tmp = 0;</span><br><span class="line">                &#125;</span><br><span class="line">                op = c;//æ›´æ–°æ“ä½œç¬¦</span><br><span class="line">                curNum = 0;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></details> ]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å®ç°ä¸€ä¸ªåŸºæœ¬çš„è®¡ç®—å™¨æ¥è®¡ç®—ä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²è¡¨è¾¾å¼çš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å­—ç¬¦ä¸²è¡¨è¾¾å¼ä»…åŒ…å«éè´Ÿæ•´æ•°ï¼Œ+ï¼Œ - ï¼Œ*ï¼Œ/ å››ç§è¿ç®—ç¬¦å’Œç©ºæ ¼  ã€‚ æ•´æ•°é™¤æ³•ä»…ä¿ç•™æ•´æ•°éƒ¨åˆ†ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´11æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B411%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
  </entry>
  
</feed>
