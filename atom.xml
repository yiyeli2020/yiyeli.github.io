<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yiye Li</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-08-24T09:54:43.599Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Yiye Li</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>324. æ‘†åŠ¨æ’åº II</title>
    <link href="http://yoursite.com/2020/08/24/324.%20%E6%91%86%E5%8A%A8%E6%8E%92%E5%BA%8F%20II/"/>
    <id>http://yoursite.com/2020/08/24/324. æ‘†åŠ¨æ’åº II/</id>
    <published>2020-08-24T08:40:12.000Z</published>
    <updated>2020-08-24T09:54:43.599Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæ— åºçš„æ•°ç»„ numsï¼Œå°†å®ƒé‡æ–°æ’åˆ—æˆ nums[0] &lt; nums[1] &gt; nums[2] &lt; nums[3]â€¦ çš„é¡ºåºã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: nums = [1, 5, 1, 1, 6, 4]è¾“å‡º: ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ [1, 4, 1, 5, 1, 6]</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: nums = [1, 3, 2, 2, 3, 1]è¾“å‡º: ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ [2, 3, 1, 3, 1, 2]</code></pre><p>è¯´æ˜:<br>ä½ å¯ä»¥å‡è®¾æ‰€æœ‰è¾“å…¥éƒ½ä¼šå¾—åˆ°æœ‰æ•ˆçš„ç»“æœã€‚</p><p>è¿›é˜¶:<br>ä½ èƒ½ç”¨ O(n) æ—¶é—´å¤æ‚åº¦å’Œ / æˆ–åŸåœ° O(1) é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ</p><p>è¿™é“é¢˜æ¯”è¾ƒç®€å•,ä¸»è¦è¯´ä¸€ä¸‹æ€æƒ³:         </p><h2 id="æœ‰ä¸€ä¸ªæ•°ç»„-a1-a2-â€¦-an-ï¼Œæˆ‘ä»¬æ€ä¹ˆæŠŠå®ƒæ’æˆæ‘‡æ‘†åºåˆ—å‘¢ï¼Ÿ"><a href="#æœ‰ä¸€ä¸ªæ•°ç»„-a1-a2-â€¦-an-ï¼Œæˆ‘ä»¬æ€ä¹ˆæŠŠå®ƒæ’æˆæ‘‡æ‘†åºåˆ—å‘¢ï¼Ÿ" class="headerlink" title="æœ‰ä¸€ä¸ªæ•°ç»„[a1,a2,â€¦,an]ï¼Œæˆ‘ä»¬æ€ä¹ˆæŠŠå®ƒæ’æˆæ‘‡æ‘†åºåˆ—å‘¢ï¼Ÿ"></a>æœ‰ä¸€ä¸ªæ•°ç»„[a1,a2,â€¦,an]ï¼Œæˆ‘ä»¬æ€ä¹ˆæŠŠå®ƒæ’æˆæ‘‡æ‘†åºåˆ—å‘¢ï¼Ÿ</h2><p>ç”±æ‘‡æ‘†åºåˆ—çš„å®šä¹‰:<code>nums[0] &lt; nums[1] &gt; nums[2] &lt; nums[3]...</code>ï¼Œæˆ‘ä»¬çŸ¥é“äº†å¯ä»¥åˆ†æˆè¾ƒå¤§ä¸€éƒ¨åˆ†çš„æ•°å’Œè¾ƒå°ä¸€éƒ¨åˆ†æ•°ï¼Œç„¶åäº’ç›¸ç©¿æ’å³å¯ã€‚æ¯”å¦‚ä¸€ä¸ªæ•°ç»„æ’åºåä¸ºï¼š<code>A=[a1,a2,...,an]</code> <code>(a1&lt;=a2&lt;=....&lt;=an)</code>ï¼Œç„¶ååˆ†æˆè¾ƒå°å’Œè¾ƒå¤§çš„ä¸¤éƒ¨åˆ†<code>[a1,a2,...,a(n/2)]</code>ï¼Œ<code>[a(n/2+1),...,an]</code>ï¼ˆæ•°ç»„é•¿åº¦ä¸ºå¥‡æ•°æ—¶ä¸å½±å“ï¼‰ï¼Œå†è¿›è¡Œç©¿æ’æ“ä½œã€‚</p><h2 id="é‚£æ˜¯ä¸æ˜¯ç©¿æ’æˆ-a1-a-n-2-1-a2-a-n-2-2-â€¦-an-å°±è¡Œäº†å‘¢ï¼Ÿ"><a href="#é‚£æ˜¯ä¸æ˜¯ç©¿æ’æˆ-a1-a-n-2-1-a2-a-n-2-2-â€¦-an-å°±è¡Œäº†å‘¢ï¼Ÿ" class="headerlink" title="é‚£æ˜¯ä¸æ˜¯ç©¿æ’æˆ[a1,a(n/2+1),a2,a(n/2+2),â€¦,an]å°±è¡Œäº†å‘¢ï¼Ÿ"></a>é‚£æ˜¯ä¸æ˜¯ç©¿æ’æˆ[a1,a(n/2+1),a2,a(n/2+2),â€¦,an]å°±è¡Œäº†å‘¢ï¼Ÿ</h2><p>å…¶å®ä¸å¯¹ï¼Œå¯ä»¥éªŒè¯ç‰¹æ®Šæƒ…å†µï¼šnæ¯”è¾ƒå°æ—¶ä¸”ä¸ºå¶æ•°æ—¶ï¼Œç©¿æ’åçš„åºåˆ—éœ€è¦æ»¡è¶³<code>a(n/2+1)&gt;a2</code>ï¼Œå¦‚æœ<code>a1&lt;a2&lt;=a(n/2+1)&lt;an</code>ï¼Œ<code>a(n/2+1)</code>æ­£å¥½æ˜¯<code>a2</code>çš„åä¸€é¡¹ä¸”ä¸<code>a2</code>ç›¸ç­‰å‘¢ï¼Ÿå³å¦‚æœæ˜¯<code>[4,5,5,6]</code>çš„æƒ…å†µå‘¢ï¼Ÿ<br>é‚£å°±åˆ†æˆäº†<code>[4,5]</code>ï¼Œ<code>[5,6]</code>ä¸¤éƒ¨åˆ†ï¼Œä¹‹åç©¿æ’æˆçš„æ˜¯<code>[4,5,5,6]</code>å¹¶ä¸æ˜¯æ‘‡æ‘†åºåˆ—ã€‚</p><h2 id="åº”è¯¥æ€æ ·æ’åˆ—å‘¢ï¼Ÿ"><a href="#åº”è¯¥æ€æ ·æ’åˆ—å‘¢ï¼Ÿ" class="headerlink" title="åº”è¯¥æ€æ ·æ’åˆ—å‘¢ï¼Ÿ"></a>åº”è¯¥æ€æ ·æ’åˆ—å‘¢ï¼Ÿ</h2><ol><li>æŠŠè¾ƒå°å’Œè¾ƒå¤§çš„ä¸¤éƒ¨åˆ†<code>[a1,a2,...,a(n/2)]</code>ï¼Œ<code>[a(n/2+1),...,an]</code>ç¿»è½¬æˆ<code>[a(n/2),...,a1]</code>ï¼Œ<code>[an,...,a(n/2+1)]</code></li><li>æ’åˆ—æˆ<code>B=[a(n/2),a(n),a(n/2-1),a(n-1),...,a1,a(n/2+1)]</code>å³å¯ã€‚</li></ol><p>è¿™æ ·ç›¸é‚»ä¸¤ä¸ªæ•°ä¸€å®šä¸å­˜åœ¨ç›¸ç­‰çš„æƒ…å†µï¼Œè€Œä¸”æ»¡è¶³æ‘‡æ‘†åºåˆ—çš„è¦æ±‚ã€‚</p><ul><li><p><code>n=1</code>æ—¶æ˜¾ç„¶æ­£ç¡®</p></li><li><p><code>n=2æˆ–n=3</code>æ—¶ä¹Ÿæ˜¾ç„¶æ­£ç¡®ã€‚</p></li><li><p><code>n&gt;=4æ—¶</code>ï¼š</p><ol><li><p>é¦–å…ˆï¼Œåˆ¤æ–­ç›¸é‚»çš„æƒ…å†µï¼Œå¦‚æœBä¸­ç°åœ¨ç›¸é‚»ä¸¤æ•°åœ¨åŸæ¥çš„æœ‰åºåºåˆ—Aä¹Ÿç›¸é‚»ï¼Œæ­¤æ—¶ä»¤<code>n-n/2=1ï¼Œ (n-1)-(n/2-1)=1ï¼Œ...</code>éƒ½è§£å¾—<code>n=2</code>ï¼Œæ„æ€æ˜¯<code>n=2</code>æ˜¯ä»–ä»¬çš„å…¬å…±è§£ï¼Œè€Œ<code>n&gt;=4</code>æ—¶ï¼Œ<code>n-n/2ï¼Œ (n-1)-(n/2-1)</code>ç­‰äº<code>n/2&gt;=2</code>ï¼Œè¯´æ˜Bä¸­ç›¸é‚»ä¸¤æ•°ä¸€å®šåœ¨åŸæ¥çš„æœ‰åºåºåˆ—Aä¸­ä¸ç›¸é‚»ï¼›</p></li><li><p>æœ‰äººä¼šè¯´ä¹Ÿå­˜åœ¨åŸæœ¬(åœ¨Aä¸­)ä¸ç›¸é‚»ä½†æ˜¯ç›¸ç­‰çš„æƒ…å†µï¼Œå³å‡ ä¸ªæ•°è¿ç»­ç›¸ç­‰ï¼Œä½†å…¶ä¸­ä¸¤ä¸ªç›¸ç­‰çš„æ•°å¹¶ä¸ç›¸é‚»ï¼Œæ¯”å¦‚<code>aq=a(q+1)=a(q+2)</code>ï¼Œ<code>aq=a(q+2)</code>ç›¸ç­‰ä½†æ˜¯ä¸ç›¸é‚»ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“å¦‚æœ<code>a(n/2-k)=a(n-k)</code>å³ä¸ç›¸é‚»ç›¸ç­‰ï¼Œé‚£ä¹ˆç”±äºä»–ä»¬ä¸­é—´çš„æ‰€æœ‰æ•°éƒ½è¦ç›¸ç­‰ï¼Œè€Œä¸”ä¸è¿™ä¸¤ä¸ªæ•°ç›¸ç­‰æ‰èƒ½ä¿è¯ä¸ç›¸é‚»ç›¸ç­‰ï¼šå³<code>a(n/2-k)=a(n/2-k+1)=a(n/2-k+2)=...=a(n-k-2)=a(n-k-1)=a(n-k)</code>ï¼Œä¸€å…±<code>n/2+1</code>ä¸ªæ•°ç›¸ç­‰ã€‚</p></li><li><p>è€Œä¸ç›¸é‚»ç›¸ç­‰è¿™ç§æƒ…å†µæ˜¯ä¸è¡Œçš„ï¼šè™½ç„¶åªæœ‰<code>a(n/2-k),a(n-k)</code>ï¼ˆåœ¨Bä¸­ç›¸é‚»ï¼‰åœ¨åŸåºåˆ—Aä¸­ä¸ç›¸é‚»ç›¸ç­‰ï¼Œä½†ä¹Ÿè¿èƒŒäº†æ‘‡æ‘†åºåˆ—çš„å®šä¹‰ï¼Œæ‰€ä»¥è¿™é“é¢˜æœ‰ä¸€ä¸ªéšè—çš„æ¡ä»¶ï¼šè¾“å…¥åºåˆ—åœ¨æ’åºåæœ€å¤šåªæœ‰åºåˆ—é•¿åº¦ä¸€åŠ(<code>n/2</code>)çš„ç›¸é‚»çš„æ•°è¿ç»­ç›¸ç­‰ã€‚</p></li></ol></li><li><p>åœ¨è¿™ä¸ªæ¡ä»¶ä¸‹ï¼šè¿™é“é¢˜æŒ‰æ­¤æ’åˆ—å°±æ²¡é—®é¢˜ã€‚å¤§å®¶å¯ä»¥ç”¨ğŸ–ŠéªŒè¯ä¸€ä¸‹ã€‚</p></li></ul><p>ä»£ç å¦‚ä¸‹:</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å…ˆæ’åºå†ç©¿æ’</span></span><br><span class="line"><span class="comment">     * O(nlogn)+O(n)=O(nlogn)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="keyword">int</span> len = nums.length;</span><br><span class="line">    <span class="keyword">int</span> smalllen = (len % <span class="number">2</span> == <span class="number">0</span>) ? len / <span class="number">2</span> : (len / <span class="number">2</span> + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span>[] smaller = <span class="keyword">new</span> <span class="keyword">int</span>[smalllen], bigger = <span class="keyword">new</span> <span class="keyword">int</span>[len / <span class="number">2</span>];</span><br><span class="line">    System.arraycopy(nums, <span class="number">0</span>, smaller, <span class="number">0</span>, smaller.length);</span><br><span class="line">    System.arraycopy(nums,smaller.length,bigger,<span class="number">0</span>,bigger.length);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len/<span class="number">2</span>; i++) &#123;</span><br><span class="line">        nums[<span class="number">2</span> * i] = smaller[smaller.length - <span class="number">1</span> - i];</span><br><span class="line">        nums[<span class="number">2</span> * i + <span class="number">1</span>] = bigger[bigger.length-i-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (len % <span class="number">2</span> != <span class="number">0</span>) &#123;</span><br><span class="line">        nums[len - <span class="number">1</span>] = smaller[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæ— åºçš„æ•°ç»„ numsï¼Œå°†å®ƒé‡æ–°æ’åˆ—æˆ nums[0] &amp;lt; nums[1] &amp;gt; nums[2] &amp;lt; nums[3]â€¦ çš„é¡ºåºã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Sort" scheme="http://yoursite.com/tags/Sort/"/>
    
  </entry>
  
  <entry>
    <title>179. æœ€å¤§æ•°</title>
    <link href="http://yoursite.com/2020/08/24/179.%20%E6%9C%80%E5%A4%A7%E6%95%B0/"/>
    <id>http://yoursite.com/2020/08/24/179. æœ€å¤§æ•°/</id>
    <published>2020-08-24T08:00:12.000Z</published>
    <updated>2020-08-24T08:39:23.127Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ç»„éè´Ÿæ•´æ•°ï¼Œé‡æ–°æ’åˆ—å®ƒä»¬çš„é¡ºåºä½¿ä¹‹ç»„æˆä¸€ä¸ªæœ€å¤§çš„æ•´æ•°ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: [10,2]è¾“å‡º: 210</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: [3,30,34,5,9]è¾“å‡º: 9534330</code></pre><p>è¯´æ˜: è¾“å‡ºç»“æœå¯èƒ½éå¸¸å¤§ï¼Œæ‰€ä»¥ä½ éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ˜¯æ•´æ•°ã€‚</p><h1 id="è‡ªå®šä¹‰æ’åºï¼š"><a href="#è‡ªå®šä¹‰æ’åºï¼š" class="headerlink" title="è‡ªå®šä¹‰æ’åºï¼š"></a>è‡ªå®šä¹‰æ’åºï¼š</h1><p><strong>æƒ³æ³•</strong></p><p>ä¸ºäº†æ„å»ºæœ€å¤§æ•°å­—ï¼Œæˆ‘ä»¬å¸Œæœ›è¶Šé«˜ä½çš„æ•°å­—è¶Šå¤§è¶Šå¥½ã€‚</p><p><strong>ç®—æ³•</strong></p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†æ¯ä¸ªæ•´æ•°å˜æˆå­—ç¬¦ä¸²ã€‚ç„¶åè¿›è¡Œæ’åºã€‚</p><p>å¦‚æœä»…æŒ‰é™åºæ’åºï¼Œæœ‰ç›¸åŒçš„å¼€å¤´æ•°å­—çš„æ—¶å€™ä¼šå‡ºç°é—®é¢˜ã€‚æ¯”æ–¹è¯´ï¼Œæ ·ä¾‹ 2 æŒ‰é™åºæ’åºå¾—åˆ°çš„æ•°å­—æ˜¯ <em>95343303</em> ï¼Œç„¶è€Œäº¤æ¢ <em>3</em> å’Œ <em>30</em> çš„ä½ç½®å¯ä»¥å¾—åˆ°æ­£ç¡®ç­”æ¡ˆ <em>9534330</em> ã€‚å› æ­¤ï¼Œæ¯ä¸€å¯¹æ•°åœ¨æ’åºçš„æ¯”è¾ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ¯”è¾ƒä¸¤ç§è¿æ¥é¡ºåºå“ªä¸€ç§æ›´å¥½ã€‚æˆ‘ä»¬å¯ä»¥è¯æ˜è¿™æ ·çš„åšæ³•æ˜¯æ­£ç¡®çš„ï¼š</p><p>å‡è®¾ï¼ˆä¸æ˜¯ä¸€èˆ¬æ€§ï¼‰ï¼ŒæŸä¸€å¯¹æ•´æ•° <em>a</em> å’Œ <em>b</em> ï¼Œæˆ‘ä»¬çš„æ¯”è¾ƒç»“æœæ˜¯ <em>a</em> åº”è¯¥åœ¨ <em>b</em> å‰é¢ï¼Œè¿™æ„å‘³ç€ a ^ b&gt;b ^ a ï¼Œå…¶ä¸­ ^  è¡¨ç¤ºè¿æ¥ã€‚å¦‚æœæ’åºç»“æœæ˜¯é”™çš„ï¼Œè¯´æ˜å­˜åœ¨ä¸€ä¸ª <em>c</em> ï¼Œ <em>b</em> åœ¨ <em>c</em> å‰é¢ä¸” <em>c</em> åœ¨ <em>a</em> çš„å‰é¢ã€‚è¿™äº§ç”Ÿäº†çŸ›ç›¾ï¼Œå› ä¸ºa ^ b&gt;b ^ a  å’Œb ^c &gt;c ^ b æ„å‘³ç€ a ^ c &gt;c ^ a  ã€‚æ¢è¨€ä¹‹ï¼Œæˆ‘ä»¬çš„è‡ªå®šä¹‰æ¯”è¾ƒæ–¹æ³•ä¿è¯äº†ä¼ é€’æ€§ï¼Œæ‰€ä»¥è¿™æ ·å­æ’åºæ˜¯å¯¹çš„ã€‚</p><p>ä¸€æ—¦æ•°ç»„æ’å¥½äº†åºï¼Œæœ€â€œé‡è¦â€çš„æ•°å­—ä¼šåœ¨æœ€å‰é¢ã€‚æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„æƒ…å†µæ˜¯å¦‚æœæ•°ç»„åªåŒ…å« 0 ï¼Œæˆ‘ä»¬ç›´æ¥è¿”å›ç»“æœ <em>0</em> å³å¯ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬ç”¨æ’å¥½åºçš„æ•°ç»„å½¢æˆä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›ã€‚</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">LargerNumberComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String a, String b)</span> </span>&#123;</span><br><span class="line">            String order1 = a + b;</span><br><span class="line">            String order2 = b + a;</span><br><span class="line">           <span class="keyword">return</span> order2.compareTo(order1);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">largestNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Get input integers as strings.</span></span><br><span class="line">        String[] asStrs = <span class="keyword">new</span> String[nums.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            asStrs[i] = String.valueOf(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Sort strings according to custom comparator.</span></span><br><span class="line">        Arrays.sort(asStrs, <span class="keyword">new</span> LargerNumberComparator());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// If, after being sorted, the largest number is `0`, the entire number</span></span><br><span class="line">        <span class="comment">// is zero.</span></span><br><span class="line">        <span class="keyword">if</span> (asStrs[<span class="number">0</span>].equals(<span class="string">"0"</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Build largest number from sorted array.</span></span><br><span class="line">        String largestNumberStr = <span class="keyword">new</span> String();</span><br><span class="line">        <span class="keyword">for</span> (String numAsStr : asStrs) &#123;</span><br><span class="line">            largestNumberStr += numAsStr;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> largestNumberStr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LargerNumKey</span><span class="params">(str)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span><span class="params">(x, y)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> x+y &gt; y+x</span><br><span class="line">        </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        largest_num = <span class="string">''</span>.join(sorted(map(str, nums), key=LargerNumKey))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'0'</span> <span class="keyword">if</span> largest_num[<span class="number">0</span>] == <span class="string">'0'</span> <span class="keyword">else</span> largest_num</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(nlgn)</em></p><p>  å°½ç®¡æˆ‘ä»¬åœ¨æ¯”è¾ƒå‡½æ•°ä¸­åšäº†ä¸€äº›é¢å¤–çš„å·¥ä½œï¼Œä½†æ˜¯è¿™åªæ˜¯ä¸€ä¸ªå¸¸æ•°å› å­ã€‚æ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ç”±æ’åºå†³å®šçš„ï¼Œåœ¨ Python å’Œ Java ä¸­éƒ½æ˜¯ <em>O(nlgn)</em> ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em></p><p>  è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº† <em>O(n)</em> çš„é¢å¤–ç©ºé—´å»ä¿å­˜ <code>nums</code> çš„å‰¯æœ¬ã€‚å°½ç®¡æˆ‘ä»¬å°±åœ°è¿›è¡Œäº†ä¸€äº›é¢å¤–çš„å·¥ä½œï¼Œä½†æœ€åè¿”å›çš„æ•°ç»„éœ€è¦ <em>O(n)</em> çš„ç©ºé—´ã€‚å› æ­¤ï¼Œéœ€è¦çš„é¢å¤–ç©ºé—´ä¸ <code>nums</code> å¤§å°æˆçº¿æ€§å…³ç³»ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ç»„éè´Ÿæ•´æ•°ï¼Œé‡æ–°æ’åˆ—å®ƒä»¬çš„é¡ºåºä½¿ä¹‹ç»„æˆä¸€ä¸ªæœ€å¤§çš„æ•´æ•°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Sort" scheme="http://yoursite.com/tags/Sort/"/>
    
  </entry>
  
  <entry>
    <title>297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</title>
    <link href="http://yoursite.com/2020/08/24/297.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
    <id>http://yoursite.com/2020/08/24/297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–/</id>
    <published>2020-08-24T03:19:12.000Z</published>
    <updated>2020-08-24T06:54:22.665Z</updated>
    
    <content type="html"><![CDATA[<p>åºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œè¿›è€Œå¯ä»¥å°†è½¬æ¢åçš„æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒï¼Œé‡‡å–ç›¸åæ–¹å¼é‡æ„å¾—åˆ°åŸæ•°æ®ã€‚</p><a id="more"></a><p>è¯·è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥å®ç°äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚è¿™é‡Œä¸é™å®šä½ çš„åºåˆ— / ååºåˆ—åŒ–ç®—æ³•æ‰§è¡Œé€»è¾‘ï¼Œä½ åªéœ€è¦ä¿è¯ä¸€ä¸ªäºŒå‰æ ‘å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å¹¶ä¸”å°†è¿™ä¸ªå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºåŸå§‹çš„æ ‘ç»“æ„ã€‚</p><p>ç¤ºä¾‹: </p><pre><code>ä½ å¯ä»¥å°†ä»¥ä¸‹äºŒå‰æ ‘ï¼š    1   / \  2   3     / \    4   5åºåˆ—åŒ–ä¸º &quot;[1,2,3,null,null,4,5]&quot;</code></pre><p>æç¤º: è¿™ä¸ LeetCode ç›®å‰ä½¿ç”¨çš„æ–¹å¼ä¸€è‡´ï¼Œè¯¦æƒ…è¯·å‚é˜… LeetCode åºåˆ—åŒ–äºŒå‰æ ‘çš„æ ¼å¼ã€‚ä½ å¹¶éå¿…é¡»é‡‡å–è¿™ç§æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥é‡‡ç”¨å…¶ä»–çš„æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>è¯´æ˜: ä¸è¦ä½¿ç”¨ç±»çš„æˆå‘˜ / å…¨å±€ / é™æ€å˜é‡æ¥å­˜å‚¨çŠ¶æ€ï¼Œä½ çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ç®—æ³•åº”è¯¥æ˜¯æ— çŠ¶æ€çš„ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</h1><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>äºŒå‰æ ‘çš„åºåˆ—åŒ–æœ¬è´¨ä¸Šæ˜¯å¯¹å…¶å€¼è¿›è¡Œç¼–ç ï¼Œæ›´é‡è¦çš„æ˜¯å¯¹å…¶ç»“æ„è¿›è¡Œç¼–ç ã€‚å¯ä»¥éå†æ ‘æ¥å®Œæˆä¸Šè¿°ä»»åŠ¡ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œæˆ‘ä»¬ä¸€èˆ¬æœ‰ä¸¤ä¸ªç­–ç•¥ï¼šBFS / DFSã€‚</p><ul><li>BFS å¯ä»¥æŒ‰ç…§å±‚æ¬¡çš„é¡ºåºä»ä¸Šåˆ°ä¸‹éå†æ‰€æœ‰çš„èŠ‚ç‚¹</li><li>DFS å¯ä»¥ä»ä¸€ä¸ªæ ¹å¼€å§‹ï¼Œä¸€ç›´å»¶ä¼¸åˆ°æŸä¸ªå¶ï¼Œç„¶åå›åˆ°æ ¹ï¼Œåˆ°è¾¾å¦ä¸€ä¸ªåˆ†æ”¯ã€‚æ ¹æ®æ ¹èŠ‚ç‚¹ã€å·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹ä¹‹é—´çš„ç›¸å¯¹é¡ºåºï¼Œå¯ä»¥è¿›ä¸€æ­¥å°†DFSç­–ç•¥åŒºåˆ†ä¸ºï¼š<ul><li>å…ˆåºéå†</li><li>ä¸­åºéå†</li><li>ååºéå†</li></ul></li></ul><p>è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©å…ˆåºéå†çš„ç¼–ç æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™æ ·ä¸€ä¸ªä¾‹å­ç®€å•ç†è§£ï¼š</p><p> <a href="https://assets.leetcode-cn.com/solution-static/297/1.PNG" target="_blank" rel="noopener">fig1</a> <a href="https://assets.leetcode-cn.com/solution-static/297/2.PNG" target="_blank" rel="noopener">fig2</a> <a href="https://assets.leetcode-cn.com/solution-static/297/3.PNG" target="_blank" rel="noopener">fig3</a> <a href="https://assets.leetcode-cn.com/solution-static/297/4.PNG" target="_blank" rel="noopener">fig4</a> <a href="https://assets.leetcode-cn.com/solution-static/297/5.PNG" target="_blank" rel="noopener">fig5</a> <a href="https://assets.leetcode-cn.com/solution-static/297/6.PNG" target="_blank" rel="noopener">fig6</a> <a href="https://assets.leetcode-cn.com/solution-static/297/7.PNG" target="_blank" rel="noopener">fig7</a> <a href="https://assets.leetcode-cn.com/solution-static/297/8.PNG" target="_blank" rel="noopener">fig8</a> <a href="https://assets.leetcode-cn.com/solution-static/297/9.PNG" target="_blank" rel="noopener">fig9</a> <a href="https://assets.leetcode-cn.com/solution-static/297/10.PNG" target="_blank" rel="noopener">fig10</a> <a href="https://assets.leetcode-cn.com/solution-static/297/11.PNG" target="_blank" rel="noopener">fig11</a> <a href="https://assets.leetcode-cn.com/solution-static/297/12.PNG" target="_blank" rel="noopener">fig12</a> </p><p>æˆ‘ä»¬ä»æ ¹èŠ‚ç‚¹ <code>1</code> å¼€å§‹ï¼Œåºåˆ—åŒ–å­—ç¬¦ä¸²æ˜¯ <code>1,</code>ã€‚ç„¶åæˆ‘ä»¬è·³åˆ°æ ¹èŠ‚ç‚¹ <code>2</code> çš„å·¦å­æ ‘ï¼Œåºåˆ—åŒ–å­—ç¬¦ä¸²å˜æˆ <code>1,2,</code>ã€‚ç°åœ¨ä»èŠ‚ç‚¹ <code>2</code> å¼€å§‹ï¼Œæˆ‘ä»¬è®¿é—®å®ƒçš„å·¦èŠ‚ç‚¹ <code>3</code>ï¼ˆ<code>1,2,3,None,None,</code>ï¼‰å’Œå³èŠ‚ç‚¹ <code>4</code>(<code>1,2,3,None,None,4,None,None</code>)ã€‚<code>None,None,</code> æ˜¯ç”¨æ¥æ ‡è®°ç¼ºå°‘å·¦ã€å³å­èŠ‚ç‚¹ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬åœ¨åºåˆ—åŒ–æœŸé—´ä¿å­˜æ ‘ç»“æ„çš„æ–¹å¼ã€‚æœ€åï¼Œæˆ‘ä»¬å›åˆ°æ ¹èŠ‚ç‚¹ <code>1</code> å¹¶è®¿é—®å®ƒçš„å³å­æ ‘ï¼Œå®ƒæ°å¥½æ˜¯å¶èŠ‚ç‚¹ <code>5</code>ã€‚æœ€åï¼Œåºåˆ—åŒ–å­—ç¬¦ä¸²æ˜¯ <code>1,2,3,None,None,4,None,None,5,None,None,</code>ã€‚</p><p>å³æˆ‘ä»¬å¯ä»¥å…ˆåºéå†è¿™é¢—äºŒå‰æ ‘ï¼Œé‡åˆ°ç©ºå­æ ‘çš„æ—¶å€™åºåˆ—åŒ–æˆ <code>None</code>ï¼Œå¦åˆ™ç»§ç»­é€’å½’åºåˆ—åŒ–ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ååºåˆ—åŒ–å‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬éœ€è¦æ ¹æ® <code>,</code> æŠŠåŸå…ˆçš„åºåˆ—åˆ†å‰²å¼€æ¥å¾—åˆ°å…ˆåºéå†çš„å…ƒç´ åˆ—è¡¨ï¼Œç„¶åä»å·¦å‘å³éå†è¿™ä¸ªåºåˆ—ï¼š</p><ul><li>å¦‚æœå½“å‰çš„å…ƒç´ ä¸º <code>None</code>ï¼Œåˆ™å½“å‰ä¸ºç©ºæ ‘</li><li>å¦åˆ™å…ˆè§£æè¿™æ£µæ ‘çš„å·¦å­æ ‘ï¼Œå†è§£æå®ƒçš„å³å­æ ‘</li></ul><p>å…·ä½“è¯·å‚è€ƒä¸‹é¢çš„ä»£ç ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">rserialize</span><span class="params">(TreeNode root, String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            str += <span class="string">"None,"</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            str += str.valueOf(root.val) + <span class="string">","</span>;</span><br><span class="line">            str = rserialize(root.left, str);</span><br><span class="line">            str = rserialize(root.right, str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> rserialize(root, <span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">rdeserialize</span><span class="params">(List&lt;String&gt; l)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l.get(<span class="number">0</span>).equals(<span class="string">"None"</span>)) &#123;</span><br><span class="line">            l.remove(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        TreeNode root = <span class="keyword">new</span> TreeNode(Integer.valueOf(l.get(<span class="number">0</span>)));</span><br><span class="line">        l.remove(<span class="number">0</span>);</span><br><span class="line">        root.left = rdeserialize(l);</span><br><span class="line">        root.right = rdeserialize(l);</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">        String[] data_array = data.split(<span class="string">","</span>);</span><br><span class="line">        List&lt;String&gt; data_list = <span class="keyword">new</span> LinkedList&lt;String&gt;(Arrays.asList(data_array));</span><br><span class="line">        <span class="keyword">return</span> rdeserialize(data_list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Codec <span class="keyword">struct</span> &#123;</span><br><span class="line">    l []<span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Constructor</span><span class="params">()</span> <span class="title">Codec</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> Codec&#123;&#125;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">rserialize</span><span class="params">(root *TreeNode, str <span class="keyword">string</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">        str += <span class="string">"null,"</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        str += strconv.Itoa(root.Val) + <span class="string">","</span></span><br><span class="line">        str = rserialize(root.Left, str)</span><br><span class="line">        str = rserialize(root.Right, str)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Serializes a tree to a single string.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Codec)</span> <span class="title">serialize</span><span class="params">(root *TreeNode)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> rserialize(root, <span class="string">""</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Deserializes your encoded data to tree.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Codec)</span> <span class="title">deserialize</span><span class="params">(data <span class="keyword">string</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    l := strings.Split(data, <span class="string">","</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(l); i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> l[i] != <span class="string">""</span> &#123;</span><br><span class="line">            this.l = <span class="built_in">append</span>(this.l, l[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> this.rdeserialize()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Codec)</span> <span class="title">rdeserialize</span><span class="params">()</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> this.l[<span class="number">0</span>] == <span class="string">"null"</span> &#123;</span><br><span class="line">        this.l = this.l[<span class="number">1</span>:]</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    val, _ := strconv.Atoi(this.l[<span class="number">0</span>])</span><br><span class="line">    root := &amp;TreeNode&#123;Val: val&#125;</span><br><span class="line">    this.l = this.l[<span class="number">1</span>:]</span><br><span class="line">    root.Left = this.rdeserialize()</span><br><span class="line">    root.Right = this.rdeserialize()</span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šåœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åªè®¿é—®æ¯ä¸ªèŠ‚ç‚¹ä¸€æ¬¡ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)*ï¼Œå…¶ä¸­ *n</em> æ˜¯èŠ‚ç‚¹æ•°ï¼Œå³æ ‘çš„å¤§å°ã€‚ </li><li>ç©ºé—´å¤æ‚åº¦ï¼šåœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é€’å½’ä¼šä½¿ç”¨æ ˆç©ºé—´ï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚ </li></ul><h1 id="æ–¹æ³•äºŒï¼šæ‹¬å·è¡¨ç¤ºç¼–ç -é€’å½’ä¸‹é™è§£ç "><a href="#æ–¹æ³•äºŒï¼šæ‹¬å·è¡¨ç¤ºç¼–ç -é€’å½’ä¸‹é™è§£ç " class="headerlink" title="æ–¹æ³•äºŒï¼šæ‹¬å·è¡¨ç¤ºç¼–ç  + é€’å½’ä¸‹é™è§£ç "></a>æ–¹æ³•äºŒï¼šæ‹¬å·è¡¨ç¤ºç¼–ç  + é€’å½’ä¸‹é™è§£ç </h1><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·è¡¨ç¤ºä¸€é¢—äºŒå‰æ ‘ï¼š</p><ul><li>å¦‚æœå½“å‰çš„æ ‘ä¸ºç©ºï¼Œåˆ™è¡¨ç¤ºä¸º <code>X</code></li><li>å¦‚æœå½“å‰çš„æ ‘ä¸ä¸ºç©ºï¼Œåˆ™è¡¨ç¤ºä¸º <code>(&lt;LEFT_SUB_TREE&gt;)CUR_NUM(RIGHT_SUB_TREE)</code>ï¼Œå…¶ä¸­ï¼š<ul><li><code>&lt;LEFT_SUB_TREE&gt;</code> æ˜¯å·¦å­æ ‘åºåˆ—åŒ–ä¹‹åçš„ç»“æœ</li><li><code>&lt;RIGHT_SUB_TREE&gt;</code> æ˜¯å³å­æ ‘åºåˆ—åŒ–ä¹‹åçš„ç»“æœ</li><li><code>CUR_NUM</code> æ˜¯å½“å‰èŠ‚ç‚¹çš„å€¼</li></ul></li></ul><p>æ ¹æ®è¿™æ ·çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¾ˆå¥½å†™å‡ºåºåˆ—åŒ–çš„è¿‡ç¨‹ï¼Œååºéå†è¿™é¢—äºŒå‰æ ‘å³å¯ï¼Œé‚£å¦‚ä½•ååºåˆ—åŒ–å‘¢ï¼Ÿæ ¹æ®å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥æ¨å¯¼å‡ºè¿™æ ·çš„å·´ç§‘æ–¯èŒƒå¼ï¼ˆBNFï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">T -&gt; (T) num (T) | X</span><br></pre></td></tr></table></figure><p>å®ƒçš„æ„ä¹‰æ˜¯ï¼šç”¨ <code>T</code> ä»£è¡¨ä¸€æ£µæ ‘åºåˆ—åŒ–ä¹‹åçš„ç»“æœï¼Œ<code>|</code> è¡¨ç¤º <code>T</code> çš„æ„æˆä¸º <code>(T) num (T)</code> æˆ–è€… <code>X</code>ï¼Œ<code>|</code> å·¦è¾¹æ˜¯å¯¹ <code>T</code> çš„é€’å½’å®šä¹‰ï¼Œå³è¾¹è§„å®šäº†é€’å½’ç»ˆæ­¢çš„è¾¹ç•Œæ¡ä»¶ã€‚</p><p>å› ä¸ºï¼š</p><ul><li><code>T</code> çš„å®šä¹‰ä¸­ï¼Œåºåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è¦ä¹ˆæ˜¯ <code>X</code>ï¼Œè¦ä¹ˆæ˜¯ <code>(</code>ï¼Œæ‰€ä»¥è¿™ä¸ªå®šä¹‰æ˜¯ä¸å«å·¦é€’å½’çš„</li><li>å½“æˆ‘ä»¬å¼€å§‹è§£æä¸€ä¸ªå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå¦‚æœå¼€å¤´æ˜¯ <code>X</code>ï¼Œæˆ‘ä»¬å°±çŸ¥é“è¿™ä¸€å®šæ˜¯è§£æä¸€ä¸ªã€Œç©ºæ ‘ã€çš„ç»“æ„ï¼Œå¦‚æœå¼€å¤´æ˜¯ <code>(</code>ï¼Œæˆ‘ä»¬å°±çŸ¥é“éœ€è¦è§£æ <code>(T) num (T)</code> çš„ç»“æ„ï¼Œå› æ­¤è¿™é‡Œä¸¤ç§å¼€å¤´å’Œä¸¤ç§è§£ææ–¹æ³•ä¸€ä¸€å¯¹åº”ï¼Œå¯ä»¥ç¡®å®šè¿™æ˜¯ä¸€ä¸ªæ— äºŒä¹‰æ€§çš„æ–‡æ³•</li><li>æˆ‘ä»¬åªéœ€è¦é€šè¿‡å¼€å¤´çš„ç¬¬ä¸€ä¸ªå­—æ¯æ˜¯ <code>X</code> è¿˜æ˜¯ <code>(</code> æ¥åˆ¤æ–­ä½¿ç”¨å“ªä¸€ç§è§£ææ–¹æ³•</li></ul><p>æ‰€ä»¥è¿™ä¸ªæ–‡æ³•æ˜¯ LL(1) å‹æ–‡æ³•ï¼Œ<strong>å¦‚æœä½ ä¸çŸ¥é“ä»€ä¹ˆæ˜¯ LL(1) å‹æ–‡æ³•ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œä½ åªéœ€è¦çŸ¥é“å®ƒå®šä¹‰äº†ä¸€ç§é€’å½’çš„æ–¹æ³•æ¥ååºåˆ—åŒ–ï¼Œä¹Ÿä¿è¯äº†è¿™ä¸ªæ–¹æ³•çš„æ­£ç¡®æ€§â€”â€”æˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€ä¸ªé€’å½’å‡½æ•°ï¼š</strong></p><ul><li>è¿™ä¸ªé€’å½’å‡½æ•°ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œå¸¦è§£æçš„å­—ç¬¦ä¸²å’Œå½“å‰å½“è§£æçš„ä½ç½® <code>ptr</code>ï¼Œ<code>ptr</code> ä¹‹å‰çš„ä½ç½®æ˜¯å·²ç»è§£æçš„ï¼Œ<code>ptr</code> å’Œ <code>ptr</code> åé¢çš„å­—ç¬¦ä¸²æ˜¯å¾…è§£æçš„</li><li>å¦‚æœå½“å‰ä½ç½®ä¸º <code>X</code> è¯´æ˜è§£æåˆ°äº†ä¸€æ£µç©ºæ ‘ï¼Œç›´æ¥è¿”å›</li><li>å¦åˆ™å½“å‰ä½ç½®ä¸€å®šæ˜¯ <code>(</code>ï¼Œå¯¹æ‹¬å·å†…éƒ¨æŒ‰ç…§ <code>(T) num (T)</code> çš„æ¨¡å¼è§£æ</li></ul><p>å…·ä½“è¯·å‚è€ƒä¸‹é¢çš„ä»£ç ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>æ‹¬å·è¡¨ç¤ºç¼–ç  + é€’å½’ä¸‹é™è§£ç cpp</summary><figure class="highlight cpp"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Codec</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">serialize</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="string">"X"</span>;</span><br><span class="line">        <span class="keyword">auto</span> l = <span class="string">"("</span> + serialize(root-&gt;left) + <span class="string">")"</span>;</span><br><span class="line">        <span class="keyword">auto</span> r = <span class="string">"("</span> + serialize(root-&gt;right) + <span class="string">")"</span>;</span><br><span class="line">        <span class="keyword">return</span>  l + to_string(root-&gt;val) + r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> TreeNode* <span class="title">parseSubtree</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;data, <span class="keyword">int</span> &amp;ptr)</span> </span>&#123;</span><br><span class="line">        ++ptr; <span class="comment">// è·³è¿‡å·¦æ‹¬å·</span></span><br><span class="line">        <span class="keyword">auto</span> subtree = parse(data, ptr);</span><br><span class="line">        ++ptr; <span class="comment">// è·³è¿‡å³æ‹¬å·</span></span><br><span class="line">        <span class="keyword">return</span> subtree;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">parseInt</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;data, <span class="keyword">int</span> &amp;ptr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>, sgn = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">isdigit</span>(data[ptr])) &#123;</span><br><span class="line">            sgn = <span class="number">-1</span>;</span><br><span class="line">            ++ptr;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">isdigit</span>(data[ptr])) &#123;</span><br><span class="line">            x = x * <span class="number">10</span> + data[ptr++] - <span class="string">'0'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x * sgn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">TreeNode* <span class="title">parse</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;data, <span class="keyword">int</span> &amp;ptr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (data[ptr] == <span class="string">'X'</span>) &#123;</span><br><span class="line">            ++ptr;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">auto</span> cur = <span class="keyword">new</span> TreeNode(<span class="number">0</span>);</span><br><span class="line">        cur-&gt;left = parseSubtree(data, ptr);</span><br><span class="line">        cur-&gt;val = parseInt(data, ptr);</span><br><span class="line">        cur-&gt;right = parseSubtree(data, ptr);</span><br><span class="line">        <span class="keyword">return</span> cur;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">TreeNode* <span class="title">deserialize</span><span class="params">(<span class="built_in">string</span> data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ptr = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> parse(data, ptr);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ‹¬å·è¡¨ç¤ºç¼–ç  + é€’å½’ä¸‹é™è§£ç java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"X"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        String l = <span class="string">"("</span> + serialize(root.left) + <span class="string">")"</span>;</span><br><span class="line">        String r = <span class="string">"("</span> + serialize(root.right) + <span class="string">")"</span>;</span><br><span class="line">        <span class="keyword">return</span>  l + root.val + r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] ptr = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">return</span> parse(data, ptr);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">parse</span><span class="params">(String data, <span class="keyword">int</span>[] ptr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (data.charAt(ptr[<span class="number">0</span>]) == <span class="string">'X'</span>) &#123;</span><br><span class="line">            ++ptr[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        TreeNode cur = <span class="keyword">new</span> TreeNode(<span class="number">0</span>);</span><br><span class="line">        cur.left = parseSubtree(data, ptr);</span><br><span class="line">        cur.val = parseInt(data, ptr);</span><br><span class="line">        cur.right = parseSubtree(data, ptr);</span><br><span class="line">        <span class="keyword">return</span> cur;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">parseSubtree</span><span class="params">(String data, <span class="keyword">int</span>[] ptr)</span> </span>&#123;</span><br><span class="line">        ++ptr[<span class="number">0</span>]; <span class="comment">// è·³è¿‡å·¦æ‹¬å·</span></span><br><span class="line">        TreeNode subtree = parse(data, ptr);</span><br><span class="line">        ++ptr[<span class="number">0</span>]; <span class="comment">// è·³è¿‡å³æ‹¬å·</span></span><br><span class="line">        <span class="keyword">return</span> subtree;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">parseInt</span><span class="params">(String data, <span class="keyword">int</span>[] ptr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>, sgn = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (!Character.isDigit(data.charAt(ptr[<span class="number">0</span>]))) &#123;</span><br><span class="line">            sgn = -<span class="number">1</span>;</span><br><span class="line">            ++ptr[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (Character.isDigit(data.charAt(ptr[<span class="number">0</span>]))) &#123;</span><br><span class="line">            x = x * <span class="number">10</span> + data.charAt(ptr[<span class="number">0</span>]++) - <span class="string">'0'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x * sgn;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šåºåˆ—åŒ–æ—¶åšäº†ä¸€æ¬¡éå†ï¼Œæ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚ååºåˆ—åŒ–æ—¶ï¼Œåœ¨è§£æå­—ç¬¦ä¸²çš„æ—¶å€™ <code>ptr</code> æŒ‡é’ˆå¯¹å­—ç¬¦ä¸²åšäº†ä¸€æ¬¡é¡ºåºéå†ï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¸º <em>O(n)</em>ï¼Œæ•…è¿™é‡Œçš„æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šè€ƒè™‘é€’å½’ä½¿ç”¨çš„æ ˆç©ºé—´çš„å¤§å°ï¼Œè¿™é‡Œæ ˆç©ºé—´çš„ä½¿ç”¨å’Œé€’å½’æ·±åº¦æœ‰å…³ï¼Œé€’å½’æ·±åº¦åˆå’ŒäºŒå‰æ ‘çš„æ·±åº¦æœ‰å…³ï¼Œåœ¨æœ€å·®æƒ…å†µä¸‹ï¼ŒäºŒå‰æ ‘é€€åŒ–æˆä¸€æ¡é“¾ï¼Œæ•…è¿™é‡Œçš„æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œè¿›è€Œå¯ä»¥å°†è½¬æ¢åçš„æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒï¼Œé‡‡å–ç›¸åæ–¹å¼é‡æ„å¾—åˆ°åŸæ•°æ®ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
  </entry>
  
  <entry>
    <title>236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</title>
    <link href="http://yoursite.com/2020/08/24/236.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88/"/>
    <id>http://yoursite.com/2020/08/24/236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ/</id>
    <published>2020-08-24T01:48:12.000Z</published>
    <updated>2020-08-24T03:19:02.216Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p><a id="more"></a><p>ç™¾åº¦ç™¾ç§‘ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªç»“ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªç»“ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆï¼‰ã€‚â€</p><p>ä¾‹å¦‚ï¼Œç»™å®šå¦‚ä¸‹äºŒå‰æ ‘:  root = [3,5,1,6,2,0,8,null,null,7,4]</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1è¾“å‡º: 3è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 1 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 3ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 4è¾“å‡º: 5è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 5ã€‚å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚</code></pre><p>è¯´æ˜:</p><pre><code>æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚pã€q ä¸ºä¸åŒèŠ‚ç‚¹ä¸”å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æ ‘ä¸­ã€‚</code></pre><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="6258a388-b9c6-486c-9d92-c09571d373a9">236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šé€’å½’"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’"></a>æ–¹æ³•ä¸€ï¼šé€’å½’</h2><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>æˆ‘ä»¬é€’å½’éå†æ•´æ£µäºŒå‰æ ‘ï¼Œå®šä¹‰ <em>f_x</em> è¡¨ç¤º <em>x</em> èŠ‚ç‚¹çš„å­æ ‘ä¸­æ˜¯å¦åŒ…å« <em>p</em> èŠ‚ç‚¹æˆ– <em>q</em> èŠ‚ç‚¹ï¼Œå¦‚æœåŒ…å«ä¸º <code>true</code>ï¼Œå¦åˆ™ä¸º <code>false</code>ã€‚é‚£ä¹ˆç¬¦åˆæ¡ä»¶çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ <em>x</em> ä¸€å®šæ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š</p><pre><code>(flson&amp;&amp;frson)âˆ£âˆ£((x=pâˆ£âˆ£x=q)&amp;&amp;(flsonâˆ£âˆ£frson))</code></pre><p>å…¶ä¸­ flson å’Œfrsonåˆ†åˆ«ä»£è¡¨ <em>x</em> èŠ‚ç‚¹çš„å·¦å­©å­å’Œå³å­©å­ã€‚åˆçœ‹å¯èƒ½ä¼šæ„Ÿè§‰æ¡ä»¶åˆ¤æ–­æœ‰ç‚¹å¤æ‚ï¼Œæˆ‘ä»¬æ¥ä¸€æ¡æ¡çœ‹ï¼Œflson&amp;&amp;frsonè¯´æ˜å·¦å­æ ‘å’Œå³å­æ ‘å‡åŒ…å« <em>p</em> èŠ‚ç‚¹æˆ– <em>q</em> èŠ‚ç‚¹ï¼Œå¦‚æœå·¦å­æ ‘åŒ…å«çš„æ˜¯ <em>p</em> èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå³å­æ ‘åªèƒ½åŒ…å« <em>q</em> èŠ‚ç‚¹ï¼Œåä¹‹äº¦ç„¶ï¼Œå› ä¸º <em>p</em> èŠ‚ç‚¹å’Œ <em>q</em> èŠ‚ç‚¹éƒ½æ˜¯ä¸åŒä¸”å”¯ä¸€çš„èŠ‚ç‚¹ï¼Œå› æ­¤å¦‚æœæ»¡è¶³è¿™ä¸ªåˆ¤æ–­æ¡ä»¶å³å¯è¯´æ˜ <em>x</em> å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚å†æ¥çœ‹ç¬¬äºŒæ¡åˆ¤æ–­æ¡ä»¶ï¼Œè¿™ä¸ªåˆ¤æ–­æ¡ä»¶å³æ˜¯è€ƒè™‘äº† <em>x</em> æ°å¥½æ˜¯ <em>p</em> èŠ‚ç‚¹æˆ– <em>q</em> èŠ‚ç‚¹ä¸”å®ƒçš„å·¦å­æ ‘æˆ–å³å­æ ‘æœ‰ä¸€ä¸ªåŒ…å«äº†å¦ä¸€ä¸ªèŠ‚ç‚¹çš„æƒ…å†µï¼Œå› æ­¤å¦‚æœæ»¡è¶³è¿™ä¸ªåˆ¤æ–­æ¡ä»¶äº¦å¯è¯´æ˜ <em>x</em> å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p><p>ä½ å¯èƒ½ä¼šç–‘æƒ‘è¿™æ ·æ‰¾å‡ºæ¥çš„å…¬å…±ç¥–å…ˆæ·±åº¦æ˜¯å¦æ˜¯æœ€å¤§çš„ã€‚å…¶å®æ˜¯æœ€å¤§çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯è‡ªåº•å‘ä¸Šä»å¶å­èŠ‚ç‚¹å¼€å§‹æ›´æ–°çš„ï¼Œæ‰€ä»¥åœ¨æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„å…¬å…±ç¥–å…ˆä¸­ä¸€å®šæ˜¯æ·±åº¦æœ€å¤§çš„ç¥–å…ˆå…ˆè¢«è®¿é—®åˆ°ï¼Œä¸”ç”±äº <em>f_x</em> æœ¬èº«çš„å®šä¹‰å¾ˆå·§å¦™ï¼Œåœ¨æ‰¾åˆ°æœ€è¿‘å…¬å…±ç¥–å…ˆ <em>x</em> ä»¥åï¼Œ<em>f_x</em> æŒ‰å®šä¹‰è¢«è®¾ç½®ä¸º <code>true</code> ï¼Œå³å‡å®šäº†è¿™ä¸ªå­æ ‘ä¸­åªæœ‰ä¸€ä¸ª <em>p</em> èŠ‚ç‚¹æˆ– <em>q</em> èŠ‚ç‚¹ï¼Œå› æ­¤å…¶ä»–å…¬å…±ç¥–å…ˆä¸ä¼šå†è¢«åˆ¤æ–­ä¸ºç¬¦åˆæ¡ä»¶ã€‚</p><p>ä¸‹å›¾å±•ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹ï¼Œæœç´¢æ ‘ä¸­ä¸¤ä¸ªèŠ‚ç‚¹ <code>9</code> å’Œ <code>11</code> çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p><p> <a href="https://assets.leetcode-cn.com/solution-static/236/1.PNG" target="_blank" rel="noopener">fig1</a> <a href="https://assets.leetcode-cn.com/solution-static/236/2.PNG" target="_blank" rel="noopener">fig2</a> <a href="https://assets.leetcode-cn.com/solution-static/236/3.PNG" target="_blank" rel="noopener">fig3</a> <a href="https://assets.leetcode-cn.com/solution-static/236/4.PNG" target="_blank" rel="noopener">fig4</a> <a href="https://assets.leetcode-cn.com/solution-static/236/5.PNG" target="_blank" rel="noopener">fig5</a> <a href="https://assets.leetcode-cn.com/solution-static/236/6.PNG" target="_blank" rel="noopener">fig6</a> <a href="https://assets.leetcode-cn.com/solution-static/236/7.PNG" target="_blank" rel="noopener">fig7</a> <a href="https://assets.leetcode-cn.com/solution-static/236/8.PNG" target="_blank" rel="noopener">fig8</a> <a href="https://assets.leetcode-cn.com/solution-static/236/9.PNG" target="_blank" rel="noopener">fig9</a> <a href="https://assets.leetcode-cn.com/solution-static/236/10.PNG" target="_blank" rel="noopener">fig10</a> <a href="https://assets.leetcode-cn.com/solution-static/236/11.PNG" target="_blank" rel="noopener">fig11</a> </p><details>    <summary>é€’å½’C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    TreeNode* ans;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(TreeNode* root, TreeNode* p, TreeNode* q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">bool</span> lson = dfs(root-&gt;left, p, q);</span><br><span class="line">        <span class="keyword">bool</span> rson = dfs(root-&gt;right, p, q);</span><br><span class="line">        <span class="keyword">if</span> ((lson &amp;&amp; rson) || ((root-&gt;val == p-&gt;val || root-&gt;val == q-&gt;val) &amp;&amp; (lson || rson))) &#123;</span><br><span class="line">            ans = root;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">return</span> lson || rson || (root-&gt;val == p-&gt;val || root-&gt;val == q-&gt;val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">TreeNode* <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode* root, TreeNode* p, TreeNode* q)</span> </span>&#123;</span><br><span class="line">        dfs(root, p, q);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lowestCommonAncestor = <span class="function"><span class="keyword">function</span>(<span class="params">root, p, q</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> ans;</span><br><span class="line">    <span class="keyword">const</span> dfs = <span class="function">(<span class="params">root, p, q</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">const</span> lson = dfs(root.left, p, q);</span><br><span class="line">        <span class="keyword">const</span> rson = dfs(root.right, p, q);</span><br><span class="line">        <span class="keyword">if</span> ((lson &amp;&amp; rson) || ((root.val === p.val || root.val === q.val) &amp;&amp; (lson || rson))) &#123;</span><br><span class="line">            ans = root;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">return</span> lson || rson || (root.val === p.val || root.val === q.val);</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root, p, q);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TreeNode ans;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.ans = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">boolean</span> lson = dfs(root.left, p, q);</span><br><span class="line">        <span class="keyword">boolean</span> rson = dfs(root.right, p, q);</span><br><span class="line">        <span class="keyword">if</span> ((lson &amp;&amp; rson) || ((root.val == p.val || root.val == q.val) &amp;&amp; (lson || rson))) &#123;</span><br><span class="line">            ans = root;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">return</span> lson || rson || (root.val == p.val || root.val == q.val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dfs(root, p, q);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lowestCommonAncestor</span><span class="params">(root, p, q *TreeNode)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> root.Val == p.Val || root.Val == q.Val &#123;</span><br><span class="line">        <span class="keyword">return</span> root</span><br><span class="line">    &#125;</span><br><span class="line">    left := lowestCommonAncestor(root.Left, p, q)</span><br><span class="line">    right := lowestCommonAncestor(root.Right, p, q)</span><br><span class="line">    <span class="keyword">if</span> left != <span class="literal">nil</span> &amp;&amp; right != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> root</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> left == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> right</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚äºŒå‰æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æœ‰ä¸”åªä¼šè¢«è®¿é—®ä¸€æ¬¡ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º <em>O(N)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em> ï¼Œå…¶ä¸­ <em>N</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚é€’å½’è°ƒç”¨çš„æ ˆæ·±åº¦å–å†³äºäºŒå‰æ ‘çš„é«˜åº¦ï¼ŒäºŒå‰æ ‘æœ€åæƒ…å†µä¸‹ä¸ºä¸€æ¡é“¾ï¼Œæ­¤æ—¶é«˜åº¦ä¸º <em>N</em>ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º <em>O(N)</em>ã€‚</p></li></ul><h4 id="æ–¹æ³•äºŒï¼šå­˜å‚¨çˆ¶èŠ‚ç‚¹"><a href="#æ–¹æ³•äºŒï¼šå­˜å‚¨çˆ¶èŠ‚ç‚¹" class="headerlink" title="æ–¹æ³•äºŒï¼šå­˜å‚¨çˆ¶èŠ‚ç‚¹"></a>æ–¹æ³•äºŒï¼šå­˜å‚¨çˆ¶èŠ‚ç‚¹</h4><p><strong>æ€è·¯</strong></p><p>æˆ‘ä»¬å¯ä»¥ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ‰€æœ‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¿¡æ¯ä» <code>p</code> ç»“ç‚¹å¼€å§‹ä¸æ–­å¾€ä¸Šè·³ï¼Œå¹¶è®°å½•å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œå†ä» <code>q</code> èŠ‚ç‚¹å¼€å§‹ä¸æ–­å¾€ä¸Šè·³ï¼Œå¦‚æœç¢°åˆ°å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p><p><strong>ç®—æ³•</strong></p><ol><li>ä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†æ•´æ£µäºŒå‰æ ‘ï¼Œç”¨å“ˆå¸Œè¡¨è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æŒ‡é’ˆã€‚</li><li>ä» <code>p</code> èŠ‚ç‚¹å¼€å§‹ä¸æ–­å¾€å®ƒçš„ç¥–å…ˆç§»åŠ¨ï¼Œå¹¶ç”¨æ•°æ®ç»“æ„è®°å½•å·²ç»è®¿é—®è¿‡çš„ç¥–å…ˆèŠ‚ç‚¹ã€‚</li><li>åŒæ ·ï¼Œæˆ‘ä»¬å†ä» <code>q</code> èŠ‚ç‚¹å¼€å§‹ä¸æ–­å¾€å®ƒçš„ç¥–å…ˆç§»åŠ¨ï¼Œå¦‚æœæœ‰ç¥–å…ˆå·²ç»è¢«è®¿é—®è¿‡ï¼Œå³æ„å‘³ç€è¿™æ˜¯ <code>p</code> å’Œ <code>q</code> çš„æ·±åº¦æœ€æ·±çš„å…¬å…±ç¥–å…ˆï¼Œå³ LCA èŠ‚ç‚¹ã€‚</li></ol><details>    <summary>å­˜å‚¨çˆ¶èŠ‚ç‚¹C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, TreeNode*&gt; fa;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">bool</span>&gt; vis;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode* root)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;left != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            fa[root-&gt;left-&gt;val] = root;</span><br><span class="line">            dfs(root-&gt;left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;right != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            fa[root-&gt;right-&gt;val] = root;</span><br><span class="line">            dfs(root-&gt;right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">TreeNode* <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode* root, TreeNode* p, TreeNode* q)</span> </span>&#123;</span><br><span class="line">        fa[root-&gt;val] = <span class="literal">nullptr</span>;</span><br><span class="line">        dfs(root);</span><br><span class="line">        <span class="keyword">while</span> (p != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            vis[p-&gt;val] = <span class="literal">true</span>;</span><br><span class="line">            p = fa[p-&gt;val];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (q != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (vis[q-&gt;val]) <span class="keyword">return</span> q;</span><br><span class="line">            q = fa[q-&gt;val];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å­˜å‚¨çˆ¶èŠ‚ç‚¹Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    Map&lt;Integer, TreeNode&gt; parent = <span class="keyword">new</span> HashMap&lt;Integer, TreeNode&gt;();</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            parent.put(root.left.val, root);</span><br><span class="line">            dfs(root.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            parent.put(root.right.val, root);</span><br><span class="line">            dfs(root.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">        dfs(root);</span><br><span class="line">        <span class="keyword">while</span> (p != <span class="keyword">null</span>) &#123;</span><br><span class="line">            visited.add(p.val);</span><br><span class="line">            p = parent.get(p.val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (q != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited.contains(q.val)) &#123;</span><br><span class="line">                <span class="keyword">return</span> q;</span><br><span class="line">            &#125;</span><br><span class="line">            q = parent.get(q.val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å­˜å‚¨çˆ¶èŠ‚ç‚¹golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lowestCommonAncestor</span><span class="params">(root, p, q *TreeNode)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    parent := <span class="keyword">map</span>[<span class="keyword">int</span>]*TreeNode&#123;&#125;</span><br><span class="line">    visited := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">bool</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(*TreeNode)</span></span></span><br><span class="line"><span class="function">    <span class="title">dfs</span> = <span class="title">func</span><span class="params">(r *TreeNode)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> r == <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> r.Left != <span class="literal">nil</span> &#123;</span><br><span class="line">            parent[r.Left.Val] = r</span><br><span class="line">            dfs(r.Left)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> r.Right != <span class="literal">nil</span> &#123;</span><br><span class="line">            parent[r.Right.Val] = r</span><br><span class="line">            dfs(r.Right)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> p != <span class="literal">nil</span> &#123;</span><br><span class="line">        visited[p.Val] = <span class="literal">true</span></span><br><span class="line">        p = parent[p.Val]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> q != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> visited[q.Val] &#123;</span><br><span class="line">            <span class="keyword">return</span> q</span><br><span class="line">        &#125;</span><br><span class="line">        q = parent[q.Val]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚äºŒå‰æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æœ‰ä¸”åªä¼šè¢«è®¿é—®ä¸€æ¬¡ï¼Œä» <code>p</code> å’Œ <code>q</code> èŠ‚ç‚¹å¾€ä¸Šè·³ç»è¿‡çš„ç¥–å…ˆèŠ‚ç‚¹ä¸ªæ•°ä¸ä¼šè¶…è¿‡ <em>N</em>ï¼Œå› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(N)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em> ï¼Œå…¶ä¸­ <em>N</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚é€’å½’è°ƒç”¨çš„æ ˆæ·±åº¦å–å†³äºäºŒå‰æ ‘çš„é«˜åº¦ï¼ŒäºŒå‰æ ‘æœ€åæƒ…å†µä¸‹ä¸ºä¸€æ¡é“¾ï¼Œæ­¤æ—¶é«˜åº¦ä¸º <em>N</em>ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º <em>O(N)*ï¼Œå“ˆå¸Œè¡¨å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¹Ÿéœ€è¦ *O(N)</em> çš„ç©ºé—´å¤æ‚åº¦ï¼Œå› æ­¤æœ€åæ€»çš„ç©ºé—´å¤æ‚åº¦ä¸º <em>O(N)</em>ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
  </entry>
  
  <entry>
    <title>230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ </title>
    <link href="http://yoursite.com/2020/08/22/230.%20%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E4%B8%AD%E7%AC%ACK%E5%B0%8F%E7%9A%84%E5%85%83%E7%B4%A0/"/>
    <id>http://yoursite.com/2020/08/22/230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ /</id>
    <published>2020-08-22T05:44:12.000Z</published>
    <updated>2020-08-24T01:47:21.206Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•° kthSmallest æ¥æŸ¥æ‰¾å…¶ä¸­ç¬¬ k ä¸ªæœ€å°çš„å…ƒç´ ã€‚</p><a id="more"></a><p>è¯´æ˜ï¼š<br>ä½ å¯ä»¥å‡è®¾ k æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œ1 â‰¤ k â‰¤ äºŒå‰æœç´¢æ ‘å…ƒç´ ä¸ªæ•°ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: root = [3,1,4,null,2], k = 1   3  / \ 1   4  \   2è¾“å‡º: 1</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: root = [5,3,6,2,4,null,null,1], k = 3       5      / \     3   6    / \   2   4  / 1è¾“å‡º: 3</code></pre><p>è¿›é˜¶ï¼š</p><p>å¦‚æœäºŒå‰æœç´¢æ ‘ç»å¸¸è¢«ä¿®æ”¹ï¼ˆæ’å…¥/åˆ é™¤æ“ä½œï¼‰å¹¶ä¸”ä½ éœ€è¦é¢‘ç¹åœ°æŸ¥æ‰¾ç¬¬ k å°çš„å€¼ï¼Œä½ å°†å¦‚ä½•ä¼˜åŒ– kthSmallest å‡½æ•°ï¼Ÿ</p><h1 id="æ¦‚è¿°ï¼š"><a href="#æ¦‚è¿°ï¼š" class="headerlink" title="æ¦‚è¿°ï¼š"></a>æ¦‚è¿°ï¼š</h1><p><strong>æ€ä¹ˆéå†æ ‘ï¼š</strong></p><ul><li>æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆ<code>DFS</code>ï¼‰</li></ul><p>åœ¨è¿™ä¸ªç­–ç•¥ä¸­ï¼Œæˆ‘ä»¬ä»æ ¹å»¶ä¼¸åˆ°æŸä¸€ç‰‡å¶å­ï¼Œç„¶åå†è¿”å›å¦ä¸€ä¸ªåˆ†æ”¯ã€‚æ ¹æ®æ ¹èŠ‚ç‚¹ï¼Œå·¦èŠ‚ç‚¹ï¼Œå³èŠ‚ç‚¹çš„ç›¸å¯¹é¡ºåºï¼Œ<code>DFS</code> è¿˜å¯ä»¥åˆ†ä¸ºå‰åºï¼Œä¸­åºï¼Œååºã€‚ </p><ul><li>å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆ<code>BFS</code>ï¼‰</li></ul><p>åœ¨è¿™ä¸ªç­–ç•¥ä¸­ï¼Œæˆ‘ä»¬é€å±‚ï¼Œä»ä¸Šåˆ°ä¸‹æ‰«ææ•´ä¸ªæ ‘ã€‚</p><p>ä¸‹å›¾å±•ç¤ºäº†ä¸åŒçš„éå†ç­–ç•¥ï¼š<br><a href="https://pic.leetcode-cn.com/40cb9af2a0c21fdc1ce72e6e24b48bd73d5f280c0f4b207ce3d7cf0c19fbdf21-file_1579413216186" target="_blank" rel="noopener">ä¸åŒçš„éå†ç­–ç•¥</a></p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ BST çš„ç‰¹æ€§ï¼šBST çš„ä¸­åºéå†æ˜¯å‡åºåºåˆ—ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šé€’å½’"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’"></a>æ–¹æ³•ä¸€ï¼šé€’å½’</h1><p><strong>ç®—æ³•ï¼š</strong></p><p>é€šè¿‡æ„é€  BST çš„ä¸­åºéå†åºåˆ—ï¼Œåˆ™ç¬¬ <code>k-1</code> ä¸ªå…ƒç´ å°±æ˜¯ç¬¬ <code>k</code> å°çš„å…ƒç´ ã€‚</p><p><a href="https://pic.leetcode-cn.com/7dc3fe454519e27105c5aaf57d20b26137bd77c56bb0289830bf18116627de12-file_1579413216156" target="_blank" rel="noopener">é€’å½’</a></p><details>    <summary>é€’å½’python</summary><figure class="highlight python"><figcaption><span>[solution1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kthSmallest</span><span class="params">(self, root, k)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :type k: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inorder</span><span class="params">(r)</span>:</span></span><br><span class="line">            <span class="keyword">return</span> inorder(r.left) + [r.val] + inorder(r.right) <span class="keyword">if</span> r <span class="keyword">else</span> []</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> inorder(root)[k - <span class="number">1</span>]</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’java</summary><figure class="highlight java"><figcaption><span>[solution1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">inorder</span><span class="params">(TreeNode root, ArrayList&lt;Integer&gt; arr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> arr;</span><br><span class="line">    inorder(root.left, arr);</span><br><span class="line">    arr.add(root.val);</span><br><span class="line">    inorder(root.right, arr);</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(TreeNode root, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    ArrayList&lt;Integer&gt; nums = inorder(root, <span class="keyword">new</span> ArrayList&lt;Integer&gt;());</span><br><span class="line">    <span class="keyword">return</span> nums.get(k - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)</em>ï¼Œéå†äº†æ•´ä¸ªæ ‘ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em>ï¼Œç”¨äº†ä¸€ä¸ªæ•°ç»„å­˜å‚¨ä¸­åºåºåˆ—ã€‚</li></ul><h1 id="æ–¹æ³•äºŒï¼šè¿­ä»£"><a href="#æ–¹æ³•äºŒï¼šè¿­ä»£" class="headerlink" title="æ–¹æ³•äºŒï¼šè¿­ä»£"></a>æ–¹æ³•äºŒï¼šè¿­ä»£</h1><p><strong>ç®—æ³•ï¼š</strong></p><p>åœ¨æ ˆçš„å¸®åŠ©ä¸‹ï¼Œå¯ä»¥å°†æ–¹æ³•ä¸€çš„é€’å½’è½¬æ¢ä¸ºè¿­ä»£ï¼Œè¿™æ ·å¯ä»¥åŠ å¿«é€Ÿåº¦ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥ä¸ç”¨éå†æ•´ä¸ªæ ‘ï¼Œå¯ä»¥åœ¨æ‰¾åˆ°ç­”æ¡ˆååœæ­¢ã€‚</p><p><a href="https://pic.leetcode-cn.com/25159a5137867644b75f203ee1917645d2cd454d8f4871e371d7edfa67bef083-file_1579413216176" target="_blank" rel="noopener">è¿­ä»£</a></p><details>    <summary>è¿­ä»£python</summary><figure class="highlight python"><figcaption><span>[solution2-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kthSmallest</span><span class="params">(self, root, k)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :type k: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        stack = []</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">            <span class="keyword">while</span> root:</span><br><span class="line">                stack.append(root)</span><br><span class="line">                root = root.left</span><br><span class="line">            root = stack.pop()</span><br><span class="line">            k -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> k:</span><br><span class="line">                <span class="keyword">return</span> root.val</span><br><span class="line">            root = root.right</span><br></pre></td></tr></table></figure></details><details>    <summary>è¿­ä»£java</summary><figure class="highlight java"><figcaption><span>[solution2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(TreeNode root, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    LinkedList&lt;TreeNode&gt; stack = <span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">      <span class="keyword">while</span> (root != <span class="keyword">null</span>) &#123;</span><br><span class="line">        stack.add(root);</span><br><span class="line">        root = root.left;</span><br><span class="line">      &#125;</span><br><span class="line">      root = stack.removeLast();</span><br><span class="line">      <span class="keyword">if</span> (--k == <span class="number">0</span>) <span class="keyword">return</span> root.val;</span><br><span class="line">      root = root.right;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(H+k) ï¼Œå…¶ä¸­ <em>H</em> æŒ‡çš„æ˜¯æ ‘çš„é«˜åº¦ï¼Œç”±äºæˆ‘ä»¬å¼€å§‹éå†ä¹‹å‰ï¼Œè¦å…ˆå‘ä¸‹è¾¾åˆ°å¶ï¼Œå½“æ ‘æ˜¯ä¸€ä¸ªå¹³è¡¡æ ‘æ—¶ï¼šå¤æ‚åº¦ä¸º O(logN+k) ã€‚å½“æ ‘æ˜¯ä¸€ä¸ªä¸å¹³è¡¡æ ‘æ—¶ï¼šå¤æ‚åº¦ä¸ºO(N+k) ï¼Œæ­¤æ—¶æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½åœ¨å·¦å­æ ‘ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(H+k)  ã€‚å½“æ ‘æ˜¯ä¸€ä¸ªå¹³è¡¡æ ‘æ—¶ï¼šO(logN+k) ã€‚å½“æ ‘æ˜¯ä¸€ä¸ªéå¹³è¡¡æ ‘æ—¶ï¼šO(N+k) ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•° kthSmallest æ¥æŸ¥æ‰¾å…¶ä¸­ç¬¬ k ä¸ªæœ€å°çš„å…ƒç´ ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
  </entry>
  
  <entry>
    <title>380. å¸¸æ•°æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ </title>
    <link href="http://yoursite.com/2020/08/21/380.%20%E5%B8%B8%E6%95%B0%E6%97%B6%E9%97%B4%E6%8F%92%E5%85%A5%E3%80%81%E5%88%A0%E9%99%A4%E5%92%8C%E8%8E%B7%E5%8F%96%E9%9A%8F%E6%9C%BA%E5%85%83%E7%B4%A0/"/>
    <id>http://yoursite.com/2020/08/21/380. å¸¸æ•°æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ /</id>
    <published>2020-08-21T09:26:12.000Z</published>
    <updated>2020-08-22T05:41:24.660Z</updated>
    
    <content type="html"><![CDATA[<p>è®¾è®¡ä¸€ä¸ªæ”¯æŒåœ¨å¹³å‡æ—¶é—´å¤æ‚åº¦ O(1)ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œçš„æ•°æ®ç»“æ„ã€‚</p><a id="more"></a><p>æ“ä½œ:</p><pre><code>insert(val)ï¼šå½“å…ƒç´  val ä¸å­˜åœ¨æ—¶ï¼Œå‘é›†åˆä¸­æ’å…¥è¯¥é¡¹ã€‚remove(val)ï¼šå…ƒç´  val å­˜åœ¨æ—¶ï¼Œä»é›†åˆä¸­ç§»é™¤è¯¥é¡¹ã€‚getRandomï¼šéšæœºè¿”å›ç°æœ‰é›†åˆä¸­çš„ä¸€é¡¹ã€‚æ¯ä¸ªå…ƒç´ åº”è¯¥æœ‰ç›¸åŒçš„æ¦‚ç‡è¢«è¿”å›ã€‚</code></pre><p>ç¤ºä¾‹ :</p><pre><code>// åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„é›†åˆã€‚RandomizedSet randomSet = new RandomizedSet();// å‘é›†åˆä¸­æ’å…¥ 1 ã€‚è¿”å› true è¡¨ç¤º 1 è¢«æˆåŠŸåœ°æ’å…¥ã€‚randomSet.insert(1);// è¿”å› false ï¼Œè¡¨ç¤ºé›†åˆä¸­ä¸å­˜åœ¨ 2 ã€‚randomSet.remove(2);// å‘é›†åˆä¸­æ’å…¥ 2 ã€‚è¿”å› true ã€‚é›†åˆç°åœ¨åŒ…å« [1,2] ã€‚randomSet.insert(2);// getRandom åº”éšæœºè¿”å› 1 æˆ– 2 ã€‚randomSet.getRandom();// ä»é›†åˆä¸­ç§»é™¤ 1 ï¼Œè¿”å› true ã€‚é›†åˆç°åœ¨åŒ…å« [2] ã€‚randomSet.remove(1);// 2 å·²åœ¨é›†åˆä¸­ï¼Œæ‰€ä»¥è¿”å› false ã€‚randomSet.insert(2);// ç”±äº 2 æ˜¯é›†åˆä¸­å”¯ä¸€çš„æ•°å­—ï¼ŒgetRandom æ€»æ˜¯è¿”å› 2 ã€‚randomSet.getRandom();</code></pre><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>æˆ‘ä»¬éœ€è¦åœ¨å¹³å‡å¤æ‚åº¦ä¸º  O(1)  å®ç°ä»¥ä¸‹æ“ä½œï¼š</p><ol><li><code>insert</code></li><li><code>remove</code></li><li><code>getRadom</code></li></ol><p>è®©æˆ‘ä»¬æƒ³æƒ³å¦‚ä½•å®ç°å®ƒã€‚ä» <code>insert</code> å¼€å§‹ï¼Œæˆ‘ä»¬å…·æœ‰ä¸¤ä¸ªå¹³å‡æ’å…¥æ—¶é—´ä¸º O(1)çš„é€‰æ‹©ï¼š</p><ul><li>å“ˆå¸Œè¡¨ï¼šJava ä¸­ä¸º <code>HashMap</code>ï¼ŒPython ä¸­ä¸º <code>dictionary</code>ã€‚</li><li>åŠ¨æ€æ•°ç»„ï¼šJava ä¸­ä¸º <code>ArrayList</code>ï¼ŒPython ä¸­ä¸º <code>list</code>ã€‚</li></ul><p>è®©æˆ‘ä»¬ä¸€ä¸ªä¸ªè¿›è¡Œæ€è€ƒï¼Œè™½ç„¶å“ˆå¸Œè¡¨æä¾›å¸¸æ•°æ—¶é—´çš„æ’å…¥å’Œåˆ é™¤ï¼Œä½†æ˜¯å®ç° <code>getRandom</code> æ—¶ä¼šå‡ºç°é—®é¢˜ã€‚</p><p><code>getRandom</code> çš„æ€æƒ³æ˜¯é€‰æ‹©ä¸€ä¸ªéšæœºç´¢å¼•ï¼Œç„¶åä½¿ç”¨è¯¥ç´¢å¼•è¿”å›ä¸€ä¸ªå…ƒç´ ã€‚è€Œå“ˆå¸Œè¡¨ä¸­æ²¡æœ‰ç´¢å¼•ï¼Œå› æ­¤è¦è·å¾—çœŸæ­£çš„éšæœºå€¼ï¼Œåˆ™è¦å°†å“ˆå¸Œè¡¨ä¸­çš„é”®è½¬æ¢ä¸ºåˆ—è¡¨ï¼Œè¿™éœ€è¦çº¿æ€§æ—¶é—´ã€‚è§£å†³çš„æ–¹æ³•æ˜¯ç”¨ä¸€ä¸ªåˆ—è¡¨å­˜å‚¨å€¼ï¼Œå¹¶åœ¨è¯¥åˆ—è¡¨ä¸­å®ç°å¸¸æ•°æ—¶é—´çš„ <code>getRandom</code>ã€‚</p><p>åˆ—è¡¨æœ‰ç´¢å¼•å¯ä»¥å®ç°å¸¸æ•°æ—¶é—´çš„ <code>insert</code> å’Œ <code>getRandom</code>ï¼Œåˆ™æ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯å¦‚ä½•å®ç°å¸¸æ•°æ—¶é—´çš„ <code>remove</code>ã€‚</p><p>åˆ é™¤ä»»æ„ç´¢å¼•å…ƒç´ éœ€è¦çº¿æ€§æ—¶é—´ï¼Œè¿™é‡Œçš„è§£å†³æ–¹æ¡ˆæ˜¯æ€»æ˜¯åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ã€‚</p><ul><li>å°†è¦åˆ é™¤å…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢ã€‚</li><li>å°†æœ€åä¸€ä¸ªå…ƒç´ åˆ é™¤ã€‚</li></ul><p>ä¸ºæ­¤ï¼Œå¿…é¡»åœ¨å¸¸æ•°æ—¶é—´è·å–åˆ°è¦åˆ é™¤å…ƒç´ çš„ç´¢å¼•ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥å­˜å‚¨å€¼åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æ•°æ®ç»“æ„ï¼š</p><ul><li>åŠ¨æ€æ•°ç»„å­˜å‚¨å…ƒç´ å€¼</li><li>å“ˆå¸Œè¡¨å­˜å‚¨å­˜å‚¨å€¼åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚</li></ul><h1 id="æ–¹æ³•ï¼šå“ˆå¸Œè¡¨-åŠ¨æ€æ•°ç»„"><a href="#æ–¹æ³•ï¼šå“ˆå¸Œè¡¨-åŠ¨æ€æ•°ç»„" class="headerlink" title="æ–¹æ³•ï¼šå“ˆå¸Œè¡¨ + åŠ¨æ€æ•°ç»„"></a>æ–¹æ³•ï¼šå“ˆå¸Œè¡¨ + åŠ¨æ€æ•°ç»„</h1><h2 id="Insert"><a href="#Insert" class="headerlink" title="Insert:"></a><strong>Insert:</strong></h2><ul><li>æ·»åŠ å…ƒç´ åˆ°åŠ¨æ€æ•°ç»„ã€‚</li><li>åœ¨å“ˆå¸Œè¡¨ä¸­æ·»åŠ å€¼åˆ°ç´¢å¼•çš„æ˜ å°„</li></ul><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMubGVldGNvZGUtY24uY29tL0ZpZ3VyZXMvMzgwL2lzZXJ0LnBuZw?x-oss-process=image/format,png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><details>    <summary>å“ˆå¸Œè¡¨ + åŠ¨æ€æ•°ç»„python</summary><figure class="highlight python"><figcaption><span>[insert-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert</span><span class="params">(self, val: int)</span> -&gt; bool:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Inserts a value to the set. Returns true if the set did not already contain the specified element.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> val <span class="keyword">in</span> self.dict:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    self.dict[val] = len(self.list)</span><br><span class="line">    self.list.append(val)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">True</span></span><br></pre></td></tr></table></figure></details><details>    <summary>å“ˆå¸Œè¡¨ + åŠ¨æ€æ•°ç»„java</summary><figure class="highlight java"><figcaption><span>[insert-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Inserts a value to the set. Returns true if the set did not already contain the specified element. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (dict.containsKey(val)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    </span><br><span class="line">  dict.put(val, list.size());</span><br><span class="line">  list.add(list.size(), val);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="remove"><a href="#remove" class="headerlink" title="remove:"></a><strong>remove:</strong></h2><ul><li>åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾è¦åˆ é™¤å…ƒç´ çš„ç´¢å¼•ã€‚</li><li>å°†è¦åˆ é™¤å…ƒç´ ä¸æœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢ã€‚</li><li>åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li><li>æ›´æ–°å“ˆå¸Œè¡¨ä¸­çš„å¯¹åº”å…³ç³»ã€‚</li></ul><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMubGVldGNvZGUtY24uY29tL0ZpZ3VyZXMvMzgwL2RlbGV0ZS5wbmc?x-oss-process=image/format,png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><details>    <summary>å“ˆå¸Œè¡¨ + åŠ¨æ€æ•°ç»„python</summary><figure class="highlight python"><figcaption><span>[remove-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">remove</span><span class="params">(self, val: int)</span> -&gt; bool:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Removes a value from the set. Returns true if the set contained the specified element.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> val <span class="keyword">in</span> self.dict:</span><br><span class="line">        <span class="comment"># move the last element to the place idx of the element to delete</span></span><br><span class="line">        last_element, idx = self.list[<span class="number">-1</span>], self.dict[val]</span><br><span class="line">        self.list[idx], self.dict[last_element] = last_element, idx</span><br><span class="line">        <span class="comment"># delete the last element</span></span><br><span class="line">        self.list.pop()</span><br><span class="line">        <span class="keyword">del</span> self.dict[val]</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure></details><details>    <summary>å“ˆå¸Œè¡¨ + åŠ¨æ€æ•°ç»„java</summary><figure class="highlight java"><figcaption><span>[remove-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Removes a value from the set. Returns true if the set contained the specified element. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (! dict.containsKey(val)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// move the last element to the place idx of the element to delete</span></span><br><span class="line">  <span class="keyword">int</span> lastElement = list.get(list.size() - <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">int</span> idx = dict.get(val);</span><br><span class="line">  list.set(idx, lastElement);</span><br><span class="line">  dict.put(lastElement, idx);</span><br><span class="line">  <span class="comment">// delete the last element</span></span><br><span class="line">  list.remove(list.size() - <span class="number">1</span>);</span><br><span class="line">  dict.remove(val);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="getRandomï¼š"><a href="#getRandomï¼š" class="headerlink" title="getRandomï¼š"></a><strong>getRandomï¼š</strong></h2><p>å€ŸåŠ© Python ä¸­çš„ <code>random.choice</code> å’Œ Java ä¸­ çš„ <code>Random</code> å®ç°ã€‚</p><details>    <summary>python</summary><figure class="highlight python"><figcaption><span>[getRandom-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getRandom</span><span class="params">(self)</span> -&gt; int:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Get a random element from the set.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">return</span> choice(self.list)</span><br></pre></td></tr></table></figure></details><details>    <summary>java</summary><figure class="highlight java"><figcaption><span>[getRandom-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Get a random element from the set. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> list.get(rand.nextInt(list.size()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="å®Œæ•´ä»£ç ï¼š"><a href="#å®Œæ•´ä»£ç ï¼š" class="headerlink" title="å®Œæ•´ä»£ç ï¼š"></a><strong>å®Œæ•´ä»£ç ï¼š</strong></h2><details>    <summary>python</summary><figure class="highlight python"><figcaption><span>[solution1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> choice</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomizedSet</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Initialize your data structure here.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.dict = &#123;&#125;</span><br><span class="line">        self.list = []</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span><span class="params">(self, val: int)</span> -&gt; bool:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Inserts a value to the set. Returns true if the set did not already contain the specified element.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> val <span class="keyword">in</span> self.dict:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        self.dict[val] = len(self.list)</span><br><span class="line">        self.list.append(val)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">remove</span><span class="params">(self, val: int)</span> -&gt; bool:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Removes a value from the set. Returns true if the set contained the specified element.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> val <span class="keyword">in</span> self.dict:</span><br><span class="line">            <span class="comment"># move the last element to the place idx of the element to delete</span></span><br><span class="line">            last_element, idx = self.list[<span class="number">-1</span>], self.dict[val]</span><br><span class="line">            self.list[idx], self.dict[last_element] = last_element, idx</span><br><span class="line">            <span class="comment"># delete the last element</span></span><br><span class="line">            self.list.pop()</span><br><span class="line">            <span class="keyword">del</span> self.dict[val]</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getRandom</span><span class="params">(self)</span> -&gt; int:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Get a random element from the set.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> choice(self.list)</span><br></pre></td></tr></table></figure></details><details>    <summary>java</summary><figure class="highlight java"><figcaption><span>[solution1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomizedSet</span> </span>&#123;</span><br><span class="line">  Map&lt;Integer, Integer&gt; dict;</span><br><span class="line">  List&lt;Integer&gt; list;</span><br><span class="line">  Random rand = <span class="keyword">new</span> Random();</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">RandomizedSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    dict = <span class="keyword">new</span> HashMap();</span><br><span class="line">    list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Inserts a value to the set. Returns true if the set did not already contain the specified element. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (dict.containsKey(val)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    dict.put(val, list.size());</span><br><span class="line">    list.add(list.size(), val);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Removes a value from the set. Returns true if the set contained the specified element. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (! dict.containsKey(val)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// move the last element to the place idx of the element to delete</span></span><br><span class="line">    <span class="keyword">int</span> lastElement = list.get(list.size() - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> idx = dict.get(val);</span><br><span class="line">    list.set(idx, lastElement);</span><br><span class="line">    dict.put(lastElement, idx);</span><br><span class="line">    <span class="comment">// delete the last element</span></span><br><span class="line">    list.remove(list.size() - <span class="number">1</span>);</span><br><span class="line">    dict.remove(val);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Get a random element from the set. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> list.get(rand.nextInt(list.size()));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<code>getRandom</code> æ—¶é—´å¤æ‚åº¦ä¸º  O(1)ï¼Œ<code>insert</code> å’Œ <code>remove</code> å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º  O(1) ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ä¸º  O(N) å½“å…ƒç´ æ•°é‡è¶…è¿‡å½“å‰åˆ†é…çš„åŠ¨æ€æ•°ç»„å’Œå“ˆå¸Œè¡¨çš„å®¹é‡å¯¼è‡´ç©ºé—´é‡æ–°åˆ†é…æ—¶ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œåœ¨åŠ¨æ€æ•°ç»„å’Œå“ˆå¸Œè¡¨åˆ†åˆ«å­˜å‚¨äº† *N</em> ä¸ªå…ƒç´ çš„ä¿¡æ¯ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®¾è®¡ä¸€ä¸ªæ”¯æŒåœ¨å¹³å‡æ—¶é—´å¤æ‚åº¦ O(1)ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œçš„æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Design" scheme="http://yoursite.com/tags/Design/"/>
    
  </entry>
  
  <entry>
    <title>454. å››æ•°ç›¸åŠ  II</title>
    <link href="http://yoursite.com/2020/08/21/454.%20%E5%9B%9B%E6%95%B0%E7%9B%B8%E5%8A%A0%20II/"/>
    <id>http://yoursite.com/2020/08/21/454. å››æ•°ç›¸åŠ  II/</id>
    <published>2020-08-21T07:34:12.000Z</published>
    <updated>2020-08-21T09:15:42.339Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šå››ä¸ªåŒ…å«æ•´æ•°çš„æ•°ç»„åˆ—è¡¨ A , B , C , D ,è®¡ç®—æœ‰å¤šå°‘ä¸ªå…ƒç»„ (i, j, k, l) ï¼Œä½¿å¾— A[i] + B[j] + C[k] + D[l] = 0ã€‚</p><a id="more"></a><p>ä¸ºäº†ä½¿é—®é¢˜ç®€å•åŒ–ï¼Œæ‰€æœ‰çš„ A, B, C, D å…·æœ‰ç›¸åŒçš„é•¿åº¦ Nï¼Œä¸” 0 â‰¤ N â‰¤ 500 ã€‚æ‰€æœ‰æ•´æ•°çš„èŒƒå›´åœ¨ -228 åˆ° 228 - 1 ä¹‹é—´ï¼Œæœ€ç»ˆç»“æœä¸ä¼šè¶…è¿‡ 231 - 1 ã€‚</p><p>ä¾‹å¦‚:</p><pre><code>è¾“å…¥:A = [ 1, 2]B = [-2,-1]C = [-1, 2]D = [ 0, 2]è¾“å‡º:2è§£é‡Š:ä¸¤ä¸ªå…ƒç»„å¦‚ä¸‹:1. (0, 0, 0, 1) -&gt; A[0] + B[0] + C[0] + D[1] = 1 + (-2) + (-1) + 2 = 02. (1, 1, 0, 0) -&gt; A[1] + B[1] + C[0] + D[0] = 2 + (-1) + (-1) + 0 = 0</code></pre><h1 id="mapå‡½æ•°ä»‹ç»"><a href="#mapå‡½æ•°ä»‹ç»" class="headerlink" title="mapå‡½æ•°ä»‹ç»"></a>mapå‡½æ•°ä»‹ç»</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å½“Mapé›†åˆä¸­æœ‰è¿™ä¸ªkeyæ—¶ï¼Œå°±ä½¿ç”¨è¿™ä¸ªkeyå€¼ï¼Œå¦‚æœæ²¡æœ‰å°±ä½¿ç”¨é»˜è®¤å€¼defaultValue</span></span><br><span class="line"><span class="function"><span class="keyword">default</span> V <span class="title">getOrDefault</span><span class="params">(Object key, V defaultValue)</span></span></span><br><span class="line"><span class="function"><span class="comment">//å¦‚æœkeyå€¼å·²å­˜åœ¨ï¼Œåˆ™ä¸æ›¿æ¢å¯¹åº”çš„value</span></span></span><br><span class="line"><span class="function">V <span class="title">putIfAbsent</span><span class="params">(K key, V value)</span></span></span><br></pre></td></tr></table></figure><h1 id="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨"><a href="#æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨"></a>æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</h1><p><strong>æ€è·¯ï¼š</strong></p><p>ä¸€. é‡‡ç”¨åˆ†ä¸ºä¸¤ç»„ï¼ŒHashMapå­˜ä¸€ç»„ï¼Œå¦ä¸€ç»„å’ŒHashMapè¿›è¡Œæ¯”å¯¹ã€‚</p><p>äºŒ. è¿™æ ·çš„è¯æƒ…å†µå°±å¯ä»¥åˆ†ä¸ºä¸‰ç§ï¼š</p><pre><code>1. HashMapå­˜ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚Aã€‚ç„¶åè®¡ç®—ä¸‰ä¸ªæ•°ç»„ä¹‹å’Œï¼Œå¦‚BCDã€‚æ—¶é—´å¤æ‚åº¦ä¸ºï¼šO(n)+O(n^3),å¾—åˆ°O(n^3).2. HashMapå­˜ä¸‰ä¸ªæ•°ç»„ä¹‹å’Œï¼Œå¦‚ABCã€‚ç„¶åè®¡ç®—ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚Dã€‚æ—¶é—´å¤æ‚åº¦ä¸ºï¼šO(n^3)+O(n),å¾—åˆ°O(n^3).3. HashMapå­˜ä¸¤ä¸ªæ•°ç»„ä¹‹å’Œï¼Œå¦‚ABã€‚ç„¶åè®¡ç®—ä¸¤ä¸ªæ•°ç»„ä¹‹å’Œï¼Œå¦‚CDã€‚æ—¶é—´å¤æ‚åº¦ä¸ºï¼šO(n^2)+O(n^2),å¾—åˆ°O(n^2).</code></pre><p>ä¸‰.æ ¹æ®ç¬¬äºŒç‚¹æˆ‘ä»¬å¯ä»¥å¾—å‡ºè¦å­˜ä¸¤ä¸ªæ•°ç»„ç®—ä¸¤ä¸ªæ•°ç»„ã€‚</p><p>å››.æˆ‘ä»¬ä»¥å­˜ABä¸¤æ•°ç»„ä¹‹å’Œä¸ºä¾‹ã€‚é¦–å…ˆæ±‚å‡ºAå’ŒBä»»æ„ä¸¤æ•°ä¹‹å’ŒsumABï¼Œä»¥sumABä¸ºkeyï¼ŒsumABå‡ºç°çš„æ¬¡æ•°ä¸ºvalueï¼Œå­˜å…¥hashmapä¸­ã€‚<br>ç„¶åè®¡ç®—Cå’ŒDä¸­ä»»æ„ä¸¤æ•°ä¹‹å’Œçš„ç›¸åæ•°sumCDï¼Œåœ¨hashmapä¸­æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨keyä¸ºsumCDã€‚<br>ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO(n2)ã€‚</p><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><details>    <summary>java</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">fourSumCount</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span>[] B, <span class="keyword">int</span>[] C, <span class="keyword">int</span>[] D)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    Map&lt;Integer, Integer&gt; map1 = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> a : A) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> b : B) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum1 = a + b;</span><br><span class="line">            map1.put(sum1, map1.getOrDefault(sum1, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> c : C) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> d : D) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum2 = c + d;</span><br><span class="line">            <span class="keyword">if</span>(map1.containsKey(-sum2))  res += map1.get(-sum2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾</h1><p>1ï¼‰æ±‚å’Œæ³•</p><p>Aä¸Bæ‰€æœ‰å…ƒç´ æ±‚å’Œï¼Œå¾—åˆ°æ•°ç»„firstï¼›</p><p>Cä¸Dæ‰€æœ‰å…ƒç´ æ±‚å’Œï¼Œå¾—åˆ°æ•°ç»„secondï¼š</p><p>2ï¼‰å¯¹secondè¿›è¡Œæ’åºï¼›</p><p>3ï¼‰é’ˆå¯¹firstä¸­æ•°ç»„å…ƒç´ *-1ï¼Œåœ¨secondæ•°ç»„ä¸­éå†ï¼Œç”±äºå¯èƒ½å­˜åœ¨å¤šä¸ªï¼Œå› æ­¤æˆ‘ä»¬è¦è·å¾—ä¸Šè¾¹ç•Œå’Œä¸‹è¾¹ç•Œ</p><p>å¯ä»¥ä½¿ç”¨lower_bound å’Œupper_bound</p><p>ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨equal_range</p><details>    <summary>C++</summary><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">fourSumCount</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;A, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;B, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;C, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;D)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; firstvec;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; secondvec;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; A.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; A.size(); j++) &#123;</span><br><span class="line">                firstvec.push_back(A[i] + B[j]);</span><br><span class="line">                secondvec.push_back(C[i] + D[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        sort(secondvec.begin(), secondvec.end());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; firstvec.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> findvalue = firstvec[i] * (<span class="number">-1</span>);</span><br><span class="line">            pair&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator&gt; range = equal_range(secondvec.begin(), secondvec.end(), findvalue);</span><br><span class="line">            result += range.second - range.first;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šå››ä¸ªåŒ…å«æ•´æ•°çš„æ•°ç»„åˆ—è¡¨ A , B , C , D ,è®¡ç®—æœ‰å¤šå°‘ä¸ªå…ƒç»„ (i, j, k, l) ï¼Œä½¿å¾— A[i] + B[j] + C[k] + D[l] = 0ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
  </entry>
  
  <entry>
    <title>171. Excelè¡¨åˆ—åºå·</title>
    <link href="http://yoursite.com/2020/08/21/Excel%E8%A1%A8%E5%88%97%E5%BA%8F%E5%8F%B7/"/>
    <id>http://yoursite.com/2020/08/21/Excelè¡¨åˆ—åºå·/</id>
    <published>2020-08-21T07:33:12.000Z</published>
    <updated>2020-08-21T09:16:24.239Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªExcelè¡¨æ ¼ä¸­çš„åˆ—åç§°ï¼Œè¿”å›å…¶ç›¸åº”çš„åˆ—åºå·ã€‚</p><a id="more"></a><p>ä¾‹å¦‚ï¼Œ</p><pre><code>A -&gt; 1B -&gt; 2C -&gt; 3...Z -&gt; 26AA -&gt; 27AB -&gt; 28 ...</code></pre><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: &quot;A&quot;è¾“å‡º: 1</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: &quot;AB&quot;è¾“å‡º: 28</code></pre><p>ç¤ºä¾‹ 3:</p><pre><code>è¾“å…¥: &quot;ZY&quot;è¾“å‡º: 701</code></pre><p>è¿™é“é¢˜å¾ˆç®€å•</p><h1 id="è§£é¢˜æ–¹æ¡ˆ"><a href="#è§£é¢˜æ–¹æ¡ˆ" class="headerlink" title="è§£é¢˜æ–¹æ¡ˆ"></a>è§£é¢˜æ–¹æ¡ˆ</h1><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ul><li>æ ‡ç­¾ï¼šå­—ç¬¦ä¸²éå†ï¼Œè¿›åˆ¶è½¬æ¢</li><li>åˆå§‹åŒ–ç»“æœ<code>ans = 0</code>ï¼Œéå†æ—¶å°†æ¯ä¸ªå­—æ¯ä¸Aåšå‡æ³•ï¼Œå› ä¸ºAè¡¨ç¤º1ï¼Œæ‰€ä»¥å‡æ³•åéœ€è¦æ¯ä¸ªæ•°åŠ 1ï¼Œè®¡ç®—å…¶ä»£è¡¨çš„æ•°å€¼<code>num = å­—æ¯ - â€˜Aâ€™ + 1</code></li><li>å› ä¸ºæœ‰26ä¸ªå­—æ¯ï¼Œæ‰€ä»¥ç›¸å½“äº26è¿›åˆ¶ï¼Œæ¯26ä¸ªæ•°åˆ™å‘å‰è¿›ä¸€ä½</li><li>æ‰€ä»¥æ¯éå†ä¸€ä½åˆ™<code>ans = ans * 26 + num</code></li><li>ä»¥ZYä¸ºä¾‹ï¼ŒZçš„å€¼ä¸º26ï¼ŒYçš„å€¼ä¸º25ï¼Œåˆ™ç»“æœä¸º<code>26 * 26 + 25=701</code></li><li>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</li></ul><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">titleToNumber</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> num = s.charAt(i) - <span class="string">'A'</span> + <span class="number">1</span>;</span><br><span class="line">            ans = ans * <span class="number">26</span> + num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç”»è§£"><a href="#ç”»è§£" class="headerlink" title="ç”»è§£"></a>ç”»è§£</h2><p> <a href="https://pic.leetcode-cn.com/97416a122f3315e3a0eb9951a1d742e7c1734d915f4b96099610a92629899d04-frame_00001.png" target="_blank" rel="noopener">frame_00001.png</a></p><p> <a href="https://pic.leetcode-cn.com/a5e8e39fa19491e3e1d82c6aba3dec24e080c368d0400bf57012548b0fdb2af4-frame_00002.png" target="_blank" rel="noopener">frame_00002.png</a> </p><p> <a href="https://pic.leetcode-cn.com/da62003ebc140532fe1e42ff2c46d5c920101d6de50fd3c6910eee1e9d9c7df5-frame_00003.png" target="_blank" rel="noopener">frame_00003.png</a> </p><p> <a href="https://pic.leetcode-cn.com/4267220aeef6e659dcae4fa7b59d63c68efdb7b0f748d431d8acca4af278de65-frame_00004.png" target="_blank" rel="noopener">frame_00004.png</a> </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªExcelè¡¨æ ¼ä¸­çš„åˆ—åç§°ï¼Œè¿”å›å…¶ç›¸åº”çš„åˆ—åºå·ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>328. å¥‡å¶é“¾è¡¨</title>
    <link href="http://yoursite.com/2020/08/21/328.%20%E5%A5%87%E5%81%B6%E9%93%BE%E8%A1%A8/"/>
    <id>http://yoursite.com/2020/08/21/328. å¥‡å¶é“¾è¡¨/</id>
    <published>2020-08-21T03:45:12.000Z</published>
    <updated>2020-08-21T07:22:45.846Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼ŒæŠŠæ‰€æœ‰çš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹åˆ†åˆ«æ’åœ¨ä¸€èµ·ã€‚è¯·æ³¨æ„ï¼Œè¿™é‡Œçš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹æŒ‡çš„æ˜¯èŠ‚ç‚¹ç¼–å·çš„å¥‡å¶æ€§ï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹çš„å€¼çš„å¥‡å¶æ€§ã€‚</p><a id="more"></a><p>è¯·å°è¯•ä½¿ç”¨åŸåœ°ç®—æ³•å®Œæˆã€‚ä½ çš„ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦åº”ä¸º O(1)ï¼Œæ—¶é—´å¤æ‚åº¦åº”ä¸º O(nodes)ï¼Œnodes ä¸ºèŠ‚ç‚¹æ€»æ•°ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULLè¾“å‡º: 1-&gt;3-&gt;5-&gt;2-&gt;4-&gt;NULL</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: 2-&gt;1-&gt;3-&gt;5-&gt;6-&gt;4-&gt;7-&gt;NULL è¾“å‡º: 2-&gt;3-&gt;6-&gt;7-&gt;1-&gt;5-&gt;4-&gt;NULL</code></pre><p>è¯´æ˜:</p><ul><li>åº”å½“ä¿æŒå¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹çš„ç›¸å¯¹é¡ºåºã€‚</li><li>é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹è§†ä¸ºå¥‡æ•°èŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªèŠ‚ç‚¹è§†ä¸ºå¶æ•°èŠ‚ç‚¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li></ul><h1 id="è§£æ³•"><a href="#è§£æ³•" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h1><p>æˆ‘ä¸€å¼€å§‹æƒ³ç”¨å¿«æ…¢æŒ‡é’ˆæ¥è§£å†³ï¼Œä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„æ–¹æ³•æ¥äº¤æ¢å¥‡å¶èŠ‚ç‚¹ã€‚æ‰€ä»¥è¿˜æ˜¯é‡‡ç”¨ä¸‹é¢çš„æ–¹æ³•ã€‚</p><p><strong>æƒ³æ³•</strong></p><p>å°†å¥‡èŠ‚ç‚¹æ”¾åœ¨ä¸€ä¸ªé“¾è¡¨é‡Œï¼Œå¶é“¾è¡¨æ”¾åœ¨å¦ä¸€ä¸ªé“¾è¡¨é‡Œã€‚ç„¶åæŠŠå¶é“¾è¡¨æ¥åœ¨å¥‡é“¾è¡¨çš„å°¾éƒ¨ã€‚</p><p><strong>ç®—æ³•</strong></p><p>è¿™ä¸ªè§£æ³•éå¸¸ç¬¦åˆç›´è§‰æ€è·¯ä¹Ÿå¾ˆç®€å•ã€‚ä½†æ˜¯è¦å†™ä¸€ä¸ªç²¾ç¡®ä¸”æ²¡æœ‰ bug çš„ä»£ç è¿˜æ˜¯å¾ˆè´¹ä¸€ç•ªåŠŸå¤«ï¼Œæƒ³è¦é¿å…ç©ºæŒ‡é’ˆå’Œå¾ªç¯é“¾è¡¨çš„æƒ…å†µéœ€è¦è®¤çœŸè€ƒè™‘è¾¹ç•Œæ¡ä»¶ã€‚</p><p>ä¸€ä¸ª <code>LinkedList</code> éœ€è¦ä¸€ä¸ªå¤´æŒ‡é’ˆå’Œä¸€ä¸ªå°¾æŒ‡é’ˆæ¥æ”¯æŒåŒç«¯æ“ä½œã€‚æˆ‘ä»¬ç”¨å˜é‡ <code>head</code> å’Œ <code>odd</code> ä¿å­˜å¥‡é“¾è¡¨çš„å¤´å’Œå°¾æŒ‡é’ˆã€‚ <code>evenHead</code> å’Œ <code>even</code> ä¿å­˜å¶é“¾è¡¨çš„å¤´å’Œå°¾æŒ‡é’ˆã€‚ç®—æ³•ä¼šéå†åŸé“¾è¡¨ä¸€æ¬¡å¹¶æŠŠå¥‡èŠ‚ç‚¹æ”¾åˆ°å¥‡é“¾è¡¨é‡Œå»ã€å¶èŠ‚ç‚¹æ”¾åˆ°å¶é“¾è¡¨é‡Œå»ã€‚éå†æ•´ä¸ªé“¾è¡¨æˆ‘ä»¬è‡³å°‘éœ€è¦ä¸€ä¸ªæŒ‡é’ˆä½œä¸ºè¿­ä»£å™¨ã€‚è¿™é‡Œ <code>odd</code> æŒ‡é’ˆå’Œ <code>even</code> æŒ‡é’ˆä¸ä»…ä»…æ˜¯å°¾æŒ‡é’ˆï¼Œä¹Ÿå¯ä»¥æ‰®æ¼”åŸé“¾è¡¨è¿­ä»£å™¨çš„è§’è‰²ã€‚</p><p>è§£å†³é“¾è¡¨é—®é¢˜æœ€å¥½çš„åŠæ³•æ˜¯åœ¨è„‘ä¸­æˆ–è€…çº¸ä¸ŠæŠŠé“¾è¡¨ç”»å‡ºæ¥ã€‚æ¯”æ–¹è¯´ï¼š</p><p><a href="https://pic.leetcode-cn.com/00bd1d974b5a2e6d7d4faf0d5baad1c691f4ed8963cb1b7133d1112bad4c5e86-image.png" target="_blank" rel="noopener">å¥‡å¶é“¾è¡¨çš„ä¾‹å­</a></p><figure class="highlight java"><figcaption><span>[solution-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">oddEvenList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        ListNode odd = head, even = head.next, evenHead = even;</span><br><span class="line">        <span class="keyword">while</span> (even != <span class="keyword">null</span> &amp;&amp; even.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            odd.next = even.next;</span><br><span class="line">            odd = odd.next;</span><br><span class="line">            even.next = odd.next;</span><br><span class="line">            even = even.next;</span><br><span class="line">        &#125;</span><br><span class="line">        odd.next = evenHead;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š <em>O(n)</em> ã€‚æ€»å…±æœ‰ <em>n</em> ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬æ¯ä¸ªéå†ä¸€æ¬¡ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š <em>O(1)</em> ã€‚æˆ‘ä»¬åªéœ€è¦ 4 ä¸ªæŒ‡é’ˆã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼ŒæŠŠæ‰€æœ‰çš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹åˆ†åˆ«æ’åœ¨ä¸€èµ·ã€‚è¯·æ³¨æ„ï¼Œè¿™é‡Œçš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹æŒ‡çš„æ˜¯èŠ‚ç‚¹ç¼–å·çš„å¥‡å¶æ€§ï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹çš„å€¼çš„å¥‡å¶æ€§ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
  </entry>
  
  <entry>
    <title>237. åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</title>
    <link href="http://yoursite.com/2020/08/21/237.%20%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E8%8A%82%E7%82%B9/"/>
    <id>http://yoursite.com/2020/08/21/237. åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹/</id>
    <published>2020-08-21T03:12:12.000Z</published>
    <updated>2020-08-21T03:44:57.927Z</updated>
    
    <content type="html"><![CDATA[<p>è¯·ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œä½¿å…¶å¯ä»¥åˆ é™¤æŸä¸ªé“¾è¡¨ä¸­ç»™å®šçš„ï¼ˆéæœ«å°¾ï¼‰èŠ‚ç‚¹ã€‚ä¼ å…¥å‡½æ•°çš„å”¯ä¸€å‚æ•°ä¸º è¦è¢«åˆ é™¤çš„èŠ‚ç‚¹ ã€‚</p><a id="more"></a><p>ç°æœ‰ä¸€ä¸ªé“¾è¡¨ â€“ head = [4,5,1,9]ï¼Œå®ƒå¯ä»¥è¡¨ç¤ºä¸º:</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šhead = [4,5,1,9], node = 5è¾“å‡ºï¼š[4,1,9]è§£é‡Šï¼šç»™å®šä½ é“¾è¡¨ä¸­å€¼ä¸º 5 çš„ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨äº†ä½ çš„å‡½æ•°ä¹‹åï¼Œè¯¥é“¾è¡¨åº”å˜ä¸º 4 -&gt; 1 -&gt; 9.</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šhead = [4,5,1,9], node = 1è¾“å‡ºï¼š[4,5,9]è§£é‡Šï¼šç»™å®šä½ é“¾è¡¨ä¸­å€¼ä¸º 1 çš„ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨äº†ä½ çš„å‡½æ•°ä¹‹åï¼Œè¯¥é“¾è¡¨åº”å˜ä¸º 4 -&gt; 5 -&gt; 9.</code></pre><p>æç¤ºï¼š</p><pre><code>é“¾è¡¨è‡³å°‘åŒ…å«ä¸¤ä¸ªèŠ‚ç‚¹ã€‚é“¾è¡¨ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚ç»™å®šçš„èŠ‚ç‚¹ä¸ºéæœ«å°¾èŠ‚ç‚¹å¹¶ä¸”ä¸€å®šæ˜¯é“¾è¡¨ä¸­çš„ä¸€ä¸ªæœ‰æ•ˆèŠ‚ç‚¹ã€‚ä¸è¦ä»ä½ çš„å‡½æ•°ä¸­è¿”å›ä»»ä½•ç»“æœã€‚</code></pre><h1 id="æ–¹æ³•ï¼šä¸ä¸‹ä¸€ä¸ªèŠ‚ç‚¹äº¤æ¢"><a href="#æ–¹æ³•ï¼šä¸ä¸‹ä¸€ä¸ªèŠ‚ç‚¹äº¤æ¢" class="headerlink" title="æ–¹æ³•ï¼šä¸ä¸‹ä¸€ä¸ªèŠ‚ç‚¹äº¤æ¢"></a>æ–¹æ³•ï¼šä¸ä¸‹ä¸€ä¸ªèŠ‚ç‚¹äº¤æ¢</h1><p>æˆ‘ä¸€å¼€å§‹ç”¨äº†éå†æ•´ä¸ªé“¾è¡¨æœ€åä¸¢å¼ƒå°¾èŠ‚ç‚¹ï¼Œåæ¥å‘ç°å¹¶ä¸éœ€è¦è¿™ä¹ˆéº»çƒ¦</p><p>ä»é“¾è¡¨é‡Œåˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹ <code>node</code> çš„æœ€å¸¸è§æ–¹æ³•æ˜¯ä¿®æ”¹<em>ä¹‹å‰</em>èŠ‚ç‚¹çš„ <code>next</code> æŒ‡é’ˆï¼Œä½¿å…¶æŒ‡å‘<em>ä¹‹å</em>çš„èŠ‚ç‚¹ã€‚</p><p><a href="https://pic.leetcode-cn.com/3579a496897df5321c110bf1301872b6e10c342f5e400ce45d2db0348d00d715-file_1555866623326" target="_blank" rel="noopener">image</a></p><p>å› ä¸ºï¼Œæˆ‘ä»¬æ— æ³•è®¿é—®æˆ‘ä»¬æƒ³è¦åˆ é™¤çš„èŠ‚ç‚¹ <em>ä¹‹å‰</em> çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å§‹ç»ˆä¸èƒ½ä¿®æ”¹è¯¥èŠ‚ç‚¹çš„ <code>next</code> æŒ‡é’ˆã€‚ç›¸åï¼Œæˆ‘ä»¬å¿…é¡»å°†æƒ³è¦åˆ é™¤çš„èŠ‚ç‚¹çš„å€¼æ›¿æ¢ä¸ºå®ƒåé¢èŠ‚ç‚¹ä¸­çš„å€¼ï¼Œç„¶ååˆ é™¤å®ƒä¹‹åçš„èŠ‚ç‚¹ã€‚</p><p><a href="https://pic.leetcode-cn.com/858fae01d89c2080eb7e45a1f9d9a2b2f76e1a5c87815b324fd946e0bd8da495-file_1555866651920" target="_blank" rel="noopener">image</a></p><p><a href="https://pic.leetcode-cn.com/902dc5d3f8c44d3cbc0b6e837711cad2eefc021fd2b9de8dfabc6d478bc779b1-file_1555866680932" target="_blank" rel="noopener">image</a></p><p><a href="https://pic.leetcode-cn.com/2a6409b98dd73d6649fdc6fb984c88690547127467104c3923367be6f8fbc916-file_1555866773685" target="_blank" rel="noopener">image</a></p><p>å› ä¸ºæˆ‘ä»¬çŸ¥é“è¦åˆ é™¤çš„èŠ‚ç‚¹ä¸æ˜¯åˆ—è¡¨çš„æœ«å°¾ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¿è¯è¿™ç§æ–¹æ³•æ˜¯å¯è¡Œçš„ã€‚</p><figure class="highlight java"><figcaption><span>[juoWzFbK-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteNode</span><span class="params">(ListNode node)</span> </span>&#123;</span><br><span class="line">    node.val = node.next.val;</span><br><span class="line">    node.next = node.next.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><p>æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯ï¼š<em>O(1)</em>ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¯·ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œä½¿å…¶å¯ä»¥åˆ é™¤æŸä¸ªé“¾è¡¨ä¸­ç»™å®šçš„ï¼ˆéæœ«å°¾ï¼‰èŠ‚ç‚¹ã€‚ä¼ å…¥å‡½æ•°çš„å”¯ä¸€å‚æ•°ä¸º è¦è¢«åˆ é™¤çš„èŠ‚ç‚¹ ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
  </entry>
  
  <entry>
    <title>234. å›æ–‡é“¾è¡¨</title>
    <link href="http://yoursite.com/2020/08/20/234.%20%E5%9B%9E%E6%96%87%E9%93%BE%E8%A1%A8/"/>
    <id>http://yoursite.com/2020/08/20/234. å›æ–‡é“¾è¡¨/</id>
    <published>2020-08-20T09:53:12.000Z</published>
    <updated>2020-08-21T03:06:08.248Z</updated>
    
    <content type="html"><![CDATA[<p>è¯·åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: 1-&gt;2è¾“å‡º: false</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: 1-&gt;2-&gt;2-&gt;1è¾“å‡º: true</code></pre><p>è¿›é˜¶ï¼š</p><p>ä½ èƒ½å¦ç”¨ O(n) æ—¶é—´å¤æ‚åº¦å’Œ O(1) ç©ºé—´å¤æ‚åº¦è§£å†³æ­¤é¢˜ï¼Ÿ</p><h1 id="è§£é¢˜æ€è·¯ï¼š"><a href="#è§£é¢˜æ€è·¯ï¼š" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h1><ol><li>é‡‡ç”¨å¿«æ…¢ä¸¤ä¸ªæŒ‡é’ˆå»å¯»æ‰¾é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹ï¼›</li><li>æ ¹æ®é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹åè½¬åä¸€åŠçš„é“¾è¡¨ï¼›</li><li>è¿­ä»£æ¯”è¾ƒé“¾è¡¨å‰ä¸€åŠçš„å…ƒç´ å’Œåä¸€åŠçš„å…ƒç´ ï¼Œåˆ¤æ–­èŠ‚ç‚¹çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¾—å‡ºæ˜¯å¦ä¸ºå›æ–‡ã€‚</li></ol><h1 id="å›¾è§£ï¼š"><a href="#å›¾è§£ï¼š" class="headerlink" title="å›¾è§£ï¼š"></a>å›¾è§£ï¼š</h1><p><a href="https://pic.leetcode-cn.com/cb25ad29e4c902e12bfe088a79b491dc8e6ff890786f15ce6b176d5419bcbf71-%E9%93%BE%E8%A1%A8%E5%9B%9E%E6%96%87%E5%A5%87%E6%95%B0.jpeg" target="_blank" rel="noopener">é“¾è¡¨å›æ–‡å¥‡æ•°.jpeg</a></p><p><a href="https://pic.leetcode-cn.com/79a887a172f927142b591a28f2d4638223ee992279f6925ec418e1ce1cbc5c1a-%E9%93%BE%E8%A1%A8%E5%9B%9E%E6%96%87%E5%81%B6%E6%95%B0.jpeg" target="_blank" rel="noopener">é“¾è¡¨å›æ–‡å¶æ•°.jpeg</a></p><h1 id="è§£é¢˜ä»£ç ï¼š"><a href="#è§£é¢˜ä»£ç ï¼š" class="headerlink" title="è§£é¢˜ä»£ç ï¼š"></a>è§£é¢˜ä»£ç ï¼š</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public boolean isPalindrome(ListNode head) &#123;</span><br><span class="line">        if(head == null) return true;</span><br><span class="line"></span><br><span class="line">        ListNode midNode = findMidNode(head);</span><br><span class="line">        ListNode secondHalfHead = reverseLinked(midNode.next);</span><br><span class="line">        ListNode curr1 = head;</span><br><span class="line">        ListNode curr2 = secondHalfHead;</span><br><span class="line"></span><br><span class="line">        boolean palindrome = true;</span><br><span class="line">        while(palindrome &amp;&amp; curr2 != null)&#123;</span><br><span class="line">            if(curr1.val != curr2.val) palindrome = false;</span><br><span class="line">            curr1 = curr1.next;</span><br><span class="line">            curr2 = curr2.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return palindrome;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /* åè½¬é“¾è¡¨ */</span><br><span class="line">    private ListNode reverseLinked(ListNode head)&#123;</span><br><span class="line">        ListNode cur = head;</span><br><span class="line">        ListNode prev = null;</span><br><span class="line">        while(cur != null)&#123;</span><br><span class="line">            ListNode nextTemp = cur.next;</span><br><span class="line">            cur.next = prev;</span><br><span class="line">            prev = cur;</span><br><span class="line">            cur = nextTemp;</span><br><span class="line">        &#125;</span><br><span class="line">        return prev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /* å¿«æ…¢æŒ‡é’ˆå¯»æ‰¾ä¸­é—´èŠ‚ç‚¹ */</span><br><span class="line">    private ListNode findMidNode(ListNode head)&#123;</span><br><span class="line">        ListNode fast = head;</span><br><span class="line">        ListNode low = head;</span><br><span class="line">        while(fast.next != null &amp;&amp; fast.next.next != null)&#123;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">            low = low.next;</span><br><span class="line">        &#125;</span><br><span class="line">        return low;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¯·åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
  </entry>
  
  <entry>
    <title>92. åè½¬é“¾è¡¨II</title>
    <link href="http://yoursite.com/2020/08/19/92.%20%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8II/"/>
    <id>http://yoursite.com/2020/08/19/92. åè½¬é“¾è¡¨II/</id>
    <published>2020-08-19T09:15:12.000Z</published>
    <updated>2020-08-20T09:50:00.006Z</updated>
    
    <content type="html"><![CDATA[<p>åè½¬ä»ä½ç½® m åˆ° n çš„é“¾è¡¨ã€‚è¯·ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®Œæˆåè½¬ã€‚</p><a id="more"></a><p> è¯´æ˜:<br>1 â‰¤ m â‰¤ n â‰¤ é“¾è¡¨é•¿åº¦ã€‚</p><p> ç¤ºä¾‹:</p><p>è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL, m = 2, n = 4</p><p>è¾“å‡º: 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;NULL</p><h1 id="æ–¹æ³•ä¸€-é€’å½’"><a href="#æ–¹æ³•ä¸€-é€’å½’" class="headerlink" title="æ–¹æ³•ä¸€: é€’å½’"></a>æ–¹æ³•ä¸€: é€’å½’</h1><p>è¿™ç§æ–¹æ³•å®é™…ä¸Šæ˜¯äº¤æ¢èŠ‚ç‚¹çš„å€¼è€Œéåè½¬é“¾è¡¨çš„æŒ‡é’ˆ</p><p><strong>ç›´è§‰</strong></p><p>ä½¿ç”¨é€’å½’åè½¬é“¾è¡¨çš„æ€è·¯æ¥æºäºåè½¬å­—ç¬¦ä¸²æ—¶ä½¿ç”¨çš„ç±»ä¼¼æ–¹æ³•ã€‚åè½¬å­—ç¬¦ä¸²çš„ä¸€ä¸ªå·¨å¤§ä¼˜åŠ¿æ˜¯å¯ä»¥ä½¿ç”¨ä¸‹æ ‡ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªå¼€å¤´ï¼Œä¸€ä¸ªç»“å°¾ã€‚ä¸æ–­åœ°äº¤æ¢è¿™ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ ï¼Œå¹¶å°†ä¸¤ä¸ªæŒ‡é’ˆå‘ä¸­é—´ç§»åŠ¨ã€‚åœ¨åˆ†æé“¾è¡¨çš„æƒ…å†µå‰ï¼Œå…ˆè®©æˆ‘ä»¬çœ‹çœ‹å­—ç¬¦ä¸²ä¸Šçš„ç¤ºä¾‹ã€‚</p><p><a href="https://pic.leetcode-cn.com/7f6ec0687455cfecce2019fcb560d7066d7e7dfedd46922d3cc96bcbff3c1eb5-image.png" target="_blank" rel="noopener">image.png</a></p><p>åè½¬ç»™å®šé“¾è¡¨çš„ä¸€éƒ¨åˆ†çš„æ€è·¯åŸºäºä¸Šè¿°æ–¹æ³•ã€‚æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªä¸åŒæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘ç¬¬ <em>m</em> ä¸ªç»“ç‚¹ï¼Œå¦ä¸€ä¸ªæŒ‡å‘ç¬¬ <em>n</em> ä¸ªç»“ç‚¹ã€‚ä¸€æ—¦æœ‰äº†è¿™ä¸¤ä¸ªæŒ‡é’ˆï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¸æ–­åœ°äº¤æ¢è¿™ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘ç»“ç‚¹çš„æ•°æ®ï¼Œå¹¶å°†ä¸¤ä¸ªæŒ‡é’ˆç›¸å‘ç§»åŠ¨ï¼Œå°±åƒå­—ç¬¦ä¸²çš„æƒ…å†µé‚£æ ·ã€‚</p><blockquote><p>ç„¶è€Œï¼Œé“¾è¡¨ä¸­æ²¡æœ‰å‘åæŒ‡é’ˆï¼Œä¹Ÿæ²¡æœ‰ä¸‹æ ‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨é€’å½’æ¥ <strong>æ¨¡æ‹Ÿ</strong> å‘åæŒ‡é’ˆã€‚é€’å½’ä¸­çš„å›æº¯å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ¨¡æ‹Ÿä¸€ä¸ªæŒ‡é’ˆä»ç¬¬<em>n</em>ä¸ªç»“ç‚¹å‘ä¸­å¿ƒç§»åŠ¨çš„ç§»åŠ¨è¿‡ç¨‹ã€‚</p></blockquote><p><strong>ç®—æ³•</strong></p><ol><li>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªé€’å½’å‡½æ•°ç”¨äºåè½¬ç»™å®šé“¾è¡¨çš„ä¸€éƒ¨åˆ†ã€‚</li><li>å°†å‡½æ•°è®°ä¸º <code>recurse</code>ã€‚è¯¥å‡½æ•°ä½¿ç”¨ä¸‰ä¸ªå‚æ•°: <code>m</code> ä¸ºåè½¬çš„èµ·ç‚¹, <code>n</code> ä¸ºåè½¬çš„ç»ˆç‚¹, ä»¥åŠä»ç¬¬ <em>n</em> ä¸ªç»“ç‚¹å¼€å§‹ï¼Œéšç€é€’å½’å›æº¯è¿‡ç¨‹å‘åç§»åŠ¨çš„æŒ‡é’ˆ <code>right</code>ã€‚ä¸æ¸…æ¥šçš„è¯ï¼Œå¯ä»¥å‚è€ƒåæ–‡çš„ç¤ºæ„å›¾ã€‚</li><li>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªæŒ‡é’ˆ <code>left</code>ï¼Œå®ƒä»ç¬¬ <code>m</code> ä¸ªç»“ç‚¹å¼€å§‹å‘å‰ç§»åŠ¨ã€‚åœ¨ <code>Python</code> ä¸­, æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå€¼éšç€é€’å½’çš„è¿›è¡Œè€Œæ”¹å˜ã€‚åœ¨å…¶ä»–å‡½æ•°è°ƒç”¨é€ æˆçš„å˜åŒ–å¯ä»¥æŒç»­çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå¯ä»¥è€ƒè™‘å°†è¯¥æŒ‡é’ˆåŠ ä¸ºå‡½æ•° <code>recurse</code> çš„ä¸€ä¸ªå˜é‡ã€‚</li><li>åœ¨é€’å½’è°ƒç”¨ä¸­ï¼Œç»™å®š <code>m</code>ï¼Œ<code>n</code>ï¼Œå’Œ <code>right</code>, é¦–å…ˆåˆ¤æ–­ <code>n = 1</code>ã€‚ è‹¥åˆ¤æ–­ä¸ºçœŸ, åˆ™ç»“æŸã€‚</li><li>äºæ˜¯ï¼Œå½“ <code>n</code> çš„å€¼è¾¾åˆ° 1 æ—¶ï¼Œæˆ‘ä»¬ä¾¿<strong>å›æº¯</strong>ã€‚è¿™æ—¶ï¼Œ<code>right</code> æŒ‡é’ˆåœ¨æˆ‘ä»¬è¦åè½¬çš„å­é“¾è¡¨ç»“å°¾ï¼Œ<code>left</code> åˆ°è¾¾äº†å­—åˆ—è¡¨çš„å¼€å¤´ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬ç½®æ¢æ•°æ®ï¼Œå¹¶å°† <code>left</code> æŒ‡é’ˆå‰ç§»ï¼š<code>left = left.next</code>ã€‚æˆ‘ä»¬éœ€è¦æ­¤å˜åŒ–åœ¨å›æº¯è¿‡ç¨‹ä¸­ä¿æŒã€‚</li><li>è‡ªæ­¤ï¼Œæ¯å½“æˆ‘ä»¬å›æº¯æ—¶ï¼Œ<code>right</code> æŒ‡é’ˆå‘åç§»ä¸€ä½ã€‚è¿™å°±æ˜¯å‰æ–‡æ‰€è¯´çš„æ¨¡æ‹Ÿã€‚é€šè¿‡å›æº¯æ¨¡æ‹Ÿå‘åç§»åŠ¨ã€‚</li><li>å½“ <code>right == left</code> æˆ–è€… <code>right.next == left</code> æ—¶åœæ­¢äº¤æ¢ã€‚å½“å­é“¾è¡¨çš„é•¿åº¦ä¸ºå¥‡æ•°æ—¶ï¼Œæƒ…å†µä¸ºå‰è€…ï¼›å½“å­é“¾è¡¨é•¿åº¦ä¸ºå¶æ•°æ—¶ä¸ºåè€…ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå…¨å±€ boolean å˜é‡ flag æ¥åœæ­¢äº¤æ¢ã€‚</li></ol><p>ä¸‹é¢æ˜¯ä¸€ç³»åˆ—æ•´ä¸ªç®—æ³•çš„ç¤ºæ„å›¾ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©ä½ ç†è§£æ¸…æ¥šã€‚</p><p><img src="http://pic.leetcode-cn.com/1adc7164bea5cd650af1545682900c792bd37a82df607aeb4f87a233d3eb69cf-image.png" alt="image.png"></p><p>è¿™æ˜¯é€’å½’è¿‡ç¨‹çš„ç¬¬ä¸€æ­¥ã€‚ç»™å®šæ‰€ç”¨é“¾è¡¨ï¼Œ<code>left</code> å’Œ <code>right</code> æŒ‡é’ˆä»é“¾è¡¨çš„ <code>head</code> å¼€å§‹ã€‚ç¬¬ä¸€æ­¥æ˜¯ä»¥æ›´æ–°è¿‡çš„ <code>m</code> å’Œ <code>n</code> è¿›è¡Œé€’å½’è°ƒç”¨ï¼Œæ¢è€Œè¨€ä¹‹ï¼Œå®ƒä»¬çš„å€¼å„è‡ªå‡ 1ã€‚æ­¤å¤–ï¼Œ<code>left</code> å’Œ <code>right</code> æŒ‡é’ˆå‘å‰ç§»åŠ¨ä¸€ä½ã€‚</p><p><a href="https://pic.leetcode-cn.com/162f18666a30ffd98e185da1311f2daa48b087b03d3a9eefeeb9541eafbcd013-image.png" target="_blank" rel="noopener">image.png</a></p><p>æ¥ä¸‹æ¥çš„ä¸¤æ­¥å±•ç¤ºäº† <code>left</code> å’Œ <code>right</code> æŒ‡é’ˆåœ¨é“¾è¡¨ä¸­çš„ç§»åŠ¨ã€‚æ³¨æ„åˆ°åœ¨ç¬¬äºŒæ­¥ä¹‹åï¼Œ<code>left</code> æŒ‡é’ˆæŠµè¾¾äº†ç›®æ ‡ä½ç½®ã€‚å› æ­¤ï¼Œåç»­ä¸å†ç§»åŠ¨ã€‚ä»ç°åœ¨èµ·ï¼Œåªæœ‰ <code>right</code> æŒ‡é’ˆç»§ç»­ç§»åŠ¨ï¼Œç›´åˆ°æŠµè¾¾ç»“ç‚¹ <code>6</code>ã€‚</p><p><a href="https://pic.leetcode-cn.com/4213450e7d9466ddf22f289d5e753df47a94a9a87789312a02de2979ed161718-image.png" target="_blank" rel="noopener">image.png</a></p><p>å¦‚ä½ æ‰€è§ï¼Œåœ¨ç¬¬äº”æ­¥ä¹‹åï¼Œä¸¤ä¸ªæŒ‡é’ˆå‡æŠµè¾¾äº†ç›®æ ‡ä½ç½®ï¼Œå¯ä»¥å¼€å§‹è¿›è¡Œå›æº¯ã€‚æˆ‘ä»¬ä¸å†ç»§ç»­é€’å½’ã€‚å›æº¯è¿‡ç¨‹ä¸­çš„æ“ä½œæ˜¯äº¤æ¢ <code>left</code> å’Œ <code>right</code> ç»“ç‚¹çš„æ•°æ®ã€‚</p><p><a href="https://pic.leetcode-cn.com/36b2ed0c1859c5574a17597070797d8f26b77a9c13a0c3462ea150b1058fbbce-image.png" target="_blank" rel="noopener">image.png</a></p><p>å¦‚ä½ æ‰€è§ï¼Œåœ¨ç¬¬ä¸‰æ­¥ï¼ˆå›æº¯ï¼‰ä¹‹åï¼Œ<code>right</code> æŒ‡é’ˆ <strong>ç©¿è¿‡äº†</strong> <code>left</code> æŒ‡é’ˆï¼Œæ­¤æ—¶å·²ç»å®Œæˆäº†è¦æ±‚éƒ¨åˆ†é“¾è¡¨çš„åè½¬ã€‚ç»“æœæ˜¯ <code>[7 â†’ 9 â†’ 8 â†’ 1 â†’ 10 â†’ 2 â†’ 6]</code>ã€‚ äºæ˜¯ä¸å†è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œåœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å…¨å±€ boolean å˜é‡ flag æ¥åœæ­¢æ•°æ®äº¤æ¢ã€‚ä¸èƒ½ç›´æ¥è·³å‡ºé€’å½’ã€‚</p><details>    <summary>é€’å½’Java</summary><figure class="highlight java"><figcaption><span>[solution 1]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Object level variables since we need the changes</span></span><br><span class="line">    <span class="comment">// to persist across recursive calls and Java is pass by value.</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> stop;</span><br><span class="line">    <span class="keyword">private</span> ListNode left;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">recurseAndReverse</span><span class="params">(ListNode right, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// base case. Don't proceed any further</span></span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Keep moving the right pointer one step forward until (n == 1)</span></span><br><span class="line">        right = right.next;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Keep moving left pointer to the right until we reach the proper node</span></span><br><span class="line">        <span class="comment">// from where the reversal is to start.</span></span><br><span class="line">        <span class="keyword">if</span> (m &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.left = <span class="keyword">this</span>.left.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Recurse with m and n reduced.</span></span><br><span class="line">        <span class="keyword">this</span>.recurseAndReverse(right, m - <span class="number">1</span>, n - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// In case both the pointers cross each other or become equal, we</span></span><br><span class="line">        <span class="comment">// stop i.e. don't swap data any further. We are done reversing at this</span></span><br><span class="line">        <span class="comment">// point.</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.left == right || right.next == <span class="keyword">this</span>.left) &#123;</span><br><span class="line">            <span class="keyword">this</span>.stop = <span class="keyword">true</span>;            </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Until the boolean stop is false, swap data between the two pointers</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">this</span>.stop) &#123;</span><br><span class="line">            <span class="keyword">int</span> t = <span class="keyword">this</span>.left.val;</span><br><span class="line">            <span class="keyword">this</span>.left.val = right.val;</span><br><span class="line">            right.val = t;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Move left one step to the right.</span></span><br><span class="line">            <span class="comment">// The right pointer moves one step back via backtracking.</span></span><br><span class="line">            <span class="keyword">this</span>.left = <span class="keyword">this</span>.left.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseBetween</span><span class="params">(ListNode head, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.left = head;</span><br><span class="line">        <span class="keyword">this</span>.stop = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">this</span>.recurseAndReverse(head, m, n);</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’Python</summary><figure class="highlight python"><figcaption><span>[solution 1]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseBetween</span><span class="params">(self, head, m, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type head: ListNode</span></span><br><span class="line"><span class="string">        :type m: int</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: ListNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">        left, right = head, head</span><br><span class="line">        stop = <span class="keyword">False</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">recurseAndReverse</span><span class="params">(right, m, n)</span>:</span></span><br><span class="line">            <span class="keyword">nonlocal</span> left, stop</span><br><span class="line"></span><br><span class="line">            <span class="comment"># base case. Don't proceed any further</span></span><br><span class="line">            <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># Keep moving the right pointer one step forward until (n == 1)</span></span><br><span class="line">            right = right.next</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Keep moving left pointer to the right until we reach the proper node</span></span><br><span class="line">            <span class="comment"># from where the reversal is to start.</span></span><br><span class="line">            <span class="keyword">if</span> m &gt; <span class="number">1</span>:</span><br><span class="line">                left = left.next</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Recurse with m and n reduced.</span></span><br><span class="line">            recurseAndReverse(right, m - <span class="number">1</span>, n - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># In case both the pointers cross each other or become equal, we</span></span><br><span class="line">            <span class="comment"># stop i.e. don't swap data any further. We are done reversing at this</span></span><br><span class="line">            <span class="comment"># point.</span></span><br><span class="line">            <span class="keyword">if</span> left == right <span class="keyword">or</span> right.next == left:</span><br><span class="line">                stop = <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># Until the boolean stop is false, swap data between the two pointers     </span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> stop:</span><br><span class="line">                left.val, right.val = right.val, left.val</span><br><span class="line"></span><br><span class="line">                <span class="comment"># Move left one step to the right.</span></span><br><span class="line">                <span class="comment"># The right pointer moves one step back via backtracking.</span></span><br><span class="line">                left = left.next           </span><br><span class="line"></span><br><span class="line">        recurseAndReverse(right, m, n)</span><br><span class="line">        <span class="keyword">return</span> head</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦: <em>O(N)</em>ã€‚å¯¹æ¯ä¸ªç»“ç‚¹æœ€å¤šå¤„ç†ä¸¤æ¬¡ã€‚é€’å½’è¿‡ç¨‹</li><li>å›æº¯</li><li>åœ¨å›æº¯è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åªäº¤æ¢äº†ä¸€åŠçš„ç»“ç‚¹ï¼Œä½†æ€»å¤æ‚åº¦æ˜¯ <em>O(N)</em>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦: æœ€åæƒ…å†µä¸‹ä¸º <em>O(N)</em>ã€‚åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åè½¬æ•´ä¸ªé“¾è¡¨ã€‚è¿™æ˜¯æ­¤æ—¶é€’å½’æ ˆçš„å¤§å°ã€‚<br><br></li></ul><hr><h1 id="æ–¹æ³•äºŒ-è¿­ä»£é“¾æ¥åè½¬"><a href="#æ–¹æ³•äºŒ-è¿­ä»£é“¾æ¥åè½¬" class="headerlink" title="æ–¹æ³•äºŒ: è¿­ä»£é“¾æ¥åè½¬"></a>æ–¹æ³•äºŒ: è¿­ä»£é“¾æ¥åè½¬</h1><p>æˆ‘ä¸€å¼€å§‹æƒ³åˆ°çš„å°±æ˜¯é€šè¿‡è¿­ä»£æ–¹æ³•æ¥åè½¬ï¼Œä½†æ˜¯åœ¨å¤„ç†åè½¬åè°ƒæ•´æˆç¯çš„æƒ…å†µæ—¶ç¿»è½¦äº†ï¼Œæƒ³äº†åŠå¤©ï¼Œè¿˜æ˜¯å‚ç…§ä¸‹é¢å›¾ä¾‹ä¸­çš„æ–¹æ³•æ¯”è¾ƒç›´è§‚ã€‚</p><p><strong>ç›´è§‰</strong></p><p>åœ¨ä¸Šä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ç ”ç©¶äº†ä¸€ç§åè½¬ç»™å®šé“¾è¡¨éƒ¨åˆ†çš„ç®—æ³•ï¼Œè¯¥ç®—æ³•ä¸æ”¹å˜ç»™å®šé“¾è¡¨çš„å†…åœ¨ç»“æ„ï¼Œåªæ˜¯ä¿®æ”¹äº†å¯¹äºç»“ç‚¹çš„å€¼ã€‚ ç„¶è€Œï¼Œæœ‰æ—¶å¯èƒ½æ— æ³•ä¿®æ”¹ç»“ç‚¹çš„æ•°æ®å€¼ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦æ”¹å˜ç»“ç‚¹çš„é“¾æ¥æ¥å®Œæˆåè½¬ã€‚</p><p>ä»ä½ç½® <code>m</code> åˆ°ä½ç½® <code>n</code> çš„å…¨éƒ¨ç»“ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦åè½¬æ¯ä¸ªç»“ç‚¹çš„ <code>next</code> æŒ‡é’ˆã€‚ä¸‹é¢æ¥çœ‹çœ‹å…·ä½“çš„ç®—æ³•ã€‚</p><p><strong>ç®—æ³•</strong></p><p>åœ¨çœ‹å…·ä½“ç®—æ³•ä¹‹å‰ï¼Œæœ‰å¿…è¦å…ˆå¼„æ¸…æ¥šé“¾æ¥åè½¬çš„åŸç†ä»¥åŠéœ€è¦å“ªäº›æŒ‡é’ˆã€‚ä¸¾ä¾‹è€Œè¨€ï¼Œæœ‰ä¸€ä¸ªä¸‰ä¸ªä¸åŒç»“ç‚¹ç»„æˆçš„é“¾è¡¨ <code>A â†’ B â†’ C</code>ï¼Œéœ€è¦åè½¬ç»“ç‚¹ä¸­çš„é“¾æ¥æˆä¸º <code>A â† B â† C</code>ã€‚</p><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘ç»“ç‚¹ <code>A</code>ï¼Œä¸€ä¸ªæŒ‡å‘ç»“ç‚¹ <code>B</code>ã€‚ åˆ†åˆ«è®°ä¸º <code>prev</code> å’Œ <code>cur</code>ã€‚åˆ™å¯ä»¥ç”¨è¿™ä¸¤ä¸ªæŒ‡é’ˆç®€å•åœ°å®ç° <code>A å’Œ B</code> ä¹‹é—´çš„é“¾æ¥åè½¬ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cur.next = prev</span><br></pre></td></tr></table></figure><p>è¿™æ ·åšå”¯ä¸€çš„é—®é¢˜æ˜¯ï¼Œæ²¡æœ‰åŠæ³•ç»§ç»­ä¸‹å»ï¼Œæ¢è€Œè¨€ä¹‹ï¼Œè¿™æ ·åšä¹‹åå°±æ— æ³•å†è®¿é—®åˆ°ç»“ç‚¹ <code>C</code>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥ç¬¬ä¸‰ä¸ªæŒ‡é’ˆï¼Œç”¨äºå¸®åŠ©åè½¬è¿‡ç¨‹çš„è¿›è¡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸é‡‡ç”¨ä¸Šé¢çš„åè½¬æ–¹æ³•ï¼Œè€Œæ˜¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">third = cur.next</span><br><span class="line">cur.next = prev</span><br><span class="line">prev = cur</span><br><span class="line">cur = third</span><br></pre></td></tr></table></figure><p> <strong>è¿­ä»£</strong> åœ°è¿›è¡Œä¸Šè¿°è¿‡ç¨‹ï¼Œå³å¯å®Œæˆé—®é¢˜çš„è¦æ±‚ã€‚ä¸‹é¢æ¥çœ‹çœ‹ç®—æ³•çš„æ­¥éª¤ã€‚</p><ol><li>å¦‚ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæŒ‡é’ˆ <code>prev</code> å’Œ <code>cur</code>ã€‚</li><li><code>prev</code> æŒ‡é’ˆåˆå§‹åŒ–ä¸º <code>None</code>ï¼Œ<code>cur</code> æŒ‡é’ˆåˆå§‹åŒ–ä¸ºé“¾è¡¨çš„ <code>head</code>ã€‚</li><li>ä¸€æ­¥æ­¥åœ°å‘å‰æ¨è¿› <code>cur</code> æŒ‡é’ˆï¼Œ<code>prev</code> æŒ‡é’ˆè·Ÿéšå…¶åã€‚</li><li>å¦‚æ­¤æ¨è¿›ä¸¤ä¸ªæŒ‡é’ˆï¼Œç›´åˆ° <code>cur</code> æŒ‡é’ˆåˆ°è¾¾ä»é“¾è¡¨å¤´èµ·çš„ç¬¬ <em>m</em> ä¸ªç»“ç‚¹ã€‚è¿™å°±æ˜¯æˆ‘ä»¬åè½¬é“¾è¡¨çš„èµ·å§‹ä½ç½®ã€‚</li><li>æ³¨æ„æˆ‘ä»¬è¦å¼•å…¥ä¸¤ä¸ªé¢å¤–æŒ‡é’ˆï¼Œåˆ†åˆ«ç§°ä¸º <code>tail</code> å’Œ <code>con</code>ã€‚<code>tail</code> æŒ‡é’ˆæŒ‡å‘ä»é“¾è¡¨å¤´èµ·çš„ç¬¬<em>m</em>ä¸ªç»“ç‚¹ï¼Œæ­¤ç»“ç‚¹æ˜¯åè½¬åé“¾è¡¨çš„å°¾éƒ¨ï¼Œæ•…ç§°ä¸º <code>tail</code>ã€‚<code>con</code> æŒ‡é’ˆæŒ‡å‘ç¬¬ <em>m</em> ä¸ªç»“ç‚¹çš„å‰ä¸€ä¸ªç»“ç‚¹ï¼Œæ­¤ç»“ç‚¹æ˜¯æ–°é“¾è¡¨çš„å¤´éƒ¨ã€‚ä¸‹å›¾å¯ä»¥å¸®åŠ©ä½ æ›´å¥½çš„ç†è§£è¿™ä¸¤ä¸ªæŒ‡é’ˆã€‚</li></ol><p><a href="https://pic.leetcode-cn.com/bf38eaeb92184fbfb55bd76336c7f746b6f01b3c83bd921268afe84a3c3cf183-image.png" target="_blank" rel="noopener">image.png</a></p><ol start="6"><li><code>tail</code> å’Œ <code>con</code> æŒ‡é’ˆåœ¨ç®—æ³•å¼€å§‹æ—¶è¢«åˆå§‹åŒ–ï¼Œåœ¨ç®—æ³•æœ€åè¢«è°ƒç”¨ï¼Œç”¨äºå®Œæˆé“¾è¡¨åè½¬ã€‚</li><li>å¦‚å‰æ–‡æ‰€è§£é‡Šçš„é‚£æ ·ï¼ŒæŠµè¾¾ç¬¬ <em>m</em> ä¸ªç»“ç‚¹åï¼Œåœ¨ç”¨åˆ°ä¸Šè¿°ä¸¤ä¸ªæŒ‡é’ˆå‰ï¼Œå…ˆè¿­ä»£åœ°åè½¬é“¾æ¥ã€‚ä¸æ–­è¿­ä»£ï¼Œç›´åˆ°å®ŒæˆæŒ‡å‘ç¬¬ <em>n</em> ä¸ªç»“ç‚¹çš„é“¾æ¥ã€‚æ­¤æ—¶ï¼Œ<code>prev</code> æŒ‡é’ˆä¼šæŒ‡å‘ç¬¬ <em>n</em> ä¸ªç»“ç‚¹ã€‚</li><li>æˆ‘ä»¬ä½¿ç”¨ <code>con</code> æŒ‡é’ˆæ¥è¿æ¥ <code>prev</code> æŒ‡é’ˆï¼Œè¿™æ˜¯å› ä¸º <code>prev</code> æŒ‡é’ˆå½“å‰æŒ‡å‘çš„ç»“ç‚¹(ç¬¬ <em>n</em> ä¸ªç»“ç‚¹)ä¼šä»£æ›¿ç¬¬ <em>m</em> ä¸ªç»“ç‚¹çš„ä½ç½®ã€‚ ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬åˆ©ç”¨ <code>tail</code> æŒ‡é’ˆæ¥è¿æ¥ <code>prev</code> æŒ‡é’ˆä¹‹åçš„ç»“ç‚¹ï¼ˆç¬¬ <em>n+1</em> ä¸ªç»“ç‚¹ï¼‰ã€‚</li></ol><p>ä¸ºäº†ä¾¿äºç†æ¸…æ¯ä¸ªæŒ‡é’ˆçš„ç”¨æ³•ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®—æ³•è¿è¡Œçš„å®ä¾‹ã€‚ç»™å®šä¸€ä¸ªé“¾è¡¨ <code>7 â†’ 9 â†’ 2 â†’ 10 â†’ 1 â†’ 8 â†’ 6</code>ï¼Œæˆ‘ä»¬éœ€è¦åè½¬ä»ç¬¬ 3 ä¸ªç»“ç‚¹åˆ°ç¬¬ 6 ä¸ªç»“ç‚¹çš„å­é“¾è¡¨ã€‚</p><p><a href="https://pic.leetcode-cn.com/08d4eb39be0db6ded442a208399b5778bbab1cf75c26bc5b3d93128b7c224cb4-image.png" target="_blank" rel="noopener">image.png</a></p><p>ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°è¿­ä»£æ³•çš„å‰å‡ æ­¥ã€‚ç¬¬ä¸€æ­¥å±•ç¤ºäº†ä¸¤ä¸ªæŒ‡é’ˆçš„åˆå§‹åŒ–ï¼Œç¬¬ä¸‰æ­¥å±•ç¤ºäº†é“¾è¡¨åè½¬è¿‡ç¨‹çš„åˆå§‹ä½ç½®ã€‚</p><p><a href="https://pic.leetcode-cn.com/77af1e2ca8bd5f9ccc89802094ce07e2505c6b4483ccd6887f2762a6e67310e1-image.png" target="_blank" rel="noopener">image.png</a></p><p>ä¸Šå›¾è¯¦ç»†æ˜¾ç¤ºäº†é“¾æ¥åè½¬çš„è¿‡ç¨‹ä»¥åŠåè½¬ä¸¤ä¸ªç»“ç‚¹çš„é“¾æ¥åå¦‚ä½•å‘å‰ç§»åŠ¨ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæœ¬æ­¥éª¤å°†æ‰§è¡Œå¤šæ¬¡ã€‚</p><p><a href="https://pic.leetcode-cn.com/f634c434bcc5092d84b3125a4cd7c723aa3ddd53dcfb9ec3077423cbff1d2f85-image.png" target="_blank" rel="noopener">image.png</a></p><p><a href="https://pic.leetcode-cn.com/b11861e6d3a86cdec19152d442dd243aaf0fb6c914787e7cf60990f2ecf0d558-image.png" target="_blank" rel="noopener">image.png</a></p><p>å¦‚ä¸Šå›¾æ‰€ç¤º, ä¸¤ä¸ªæŒ‡é’ˆéƒ½å·²ç»åˆ°è¾¾æœ€ç»ˆä½ç½®ã€‚æˆ‘ä»¬å®Œæˆäº†å­é“¾è¡¨çš„åè½¬å·¥ä½œã€‚ç„¶è€Œï¼Œè¿˜æœ‰ä¸€äº›é“¾æ¥éœ€è¦è°ƒæ•´ã€‚ä¸‹å›¾å±•ç¤ºäº†åˆ©ç”¨ <code>tail</code> å’Œ <code>con</code> æŒ‡é’ˆå®Œæˆé“¾æ¥è°ƒæ•´çš„è¿‡ç¨‹ã€‚</p><p><a href="https://pic.leetcode-cn.com/968684e83b4cbc4b4db6f80e3bda03748729af672e702a8d3473b24cd04a7092-image.png" target="_blank" rel="noopener">image.png</a></p><details>    <summary>è¿­ä»£é“¾æ¥åè½¬Java</summary><figure class="highlight java"><figcaption><span>[solution 2]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseBetween</span><span class="params">(ListNode head, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Empty list</span></span><br><span class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Move the two pointers until they reach the proper starting point</span></span><br><span class="line">        <span class="comment">// in the list.</span></span><br><span class="line">        ListNode cur = head, prev = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (m &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            prev = cur;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">            m--;</span><br><span class="line">            n--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// The two pointers that will fix the final connections.</span></span><br><span class="line">        ListNode con = prev, tail = cur;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Iteratively reverse the nodes until n becomes 0.</span></span><br><span class="line">        ListNode third = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            third = cur.next;</span><br><span class="line">            cur.next = prev;</span><br><span class="line">            prev = cur;</span><br><span class="line">            cur = third;</span><br><span class="line">            n--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Adjust the final connections as explained in the algorithm</span></span><br><span class="line">        <span class="keyword">if</span> (con != <span class="keyword">null</span>) &#123;</span><br><span class="line">            con.next = prev;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            head = prev;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        tail.next = cur;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>è¿­ä»£é“¾æ¥åè½¬Python</summary><figure class="highlight python"><figcaption><span>[solution 2]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseBetween</span><span class="params">(self, head, m, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type head: ListNode</span></span><br><span class="line"><span class="string">        :type m: int</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: ListNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Empty list</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Move the two pointers until they reach the proper starting point</span></span><br><span class="line">        <span class="comment"># in the list.</span></span><br><span class="line">        cur, prev = head, <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">while</span> m &gt; <span class="number">1</span>:</span><br><span class="line">            prev = cur</span><br><span class="line">            cur = cur.next</span><br><span class="line">            m, n = m - <span class="number">1</span>, n - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># The two pointers that will fix the final connections.</span></span><br><span class="line">        tail, con = cur, prev</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Iteratively reverse the nodes until n becomes 0.</span></span><br><span class="line">        <span class="keyword">while</span> n:</span><br><span class="line">            third = cur.next</span><br><span class="line">            cur.next = prev</span><br><span class="line">            prev = cur</span><br><span class="line">            cur = third</span><br><span class="line">            n -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Adjust the final connections as explained in the algorithm</span></span><br><span class="line">        <span class="keyword">if</span> con:</span><br><span class="line">            con.next = prev</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            head = prev</span><br><span class="line">        tail.next = cur</span><br><span class="line">        <span class="keyword">return</span> head</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦: <em>O(N)*ã€‚è€ƒè™‘åŒ…å« *N</em> ä¸ªç»“ç‚¹çš„é“¾è¡¨ã€‚å¯¹æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šä¼šå¤„ç†</li><li>ï¼ˆç¬¬ <em>n</em> ä¸ªç»“ç‚¹ä¹‹åçš„ç»“ç‚¹ä¸å¤„ç†ï¼‰ã€‚</li><li>ç©ºé—´å¤æ‚åº¦: <em>O(1)*ã€‚æˆ‘ä»¬ä»…ä»…åœ¨åŸæœ‰é“¾è¡¨çš„åŸºç¡€ä¸Šè°ƒæ•´äº†ä¸€äº›æŒ‡é’ˆï¼Œåªä½¿ç”¨äº† *O(1)</em> çš„é¢å¤–å­˜å‚¨ç©ºé—´æ¥è·å¾—ç»“æœã€‚<br></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åè½¬ä»ä½ç½® m åˆ° n çš„é“¾è¡¨ã€‚è¯·ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®Œæˆåè½¬ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
  </entry>
  
  <entry>
    <title>206. åè½¬é“¾è¡¨</title>
    <link href="http://yoursite.com/2020/08/18/206.%20%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/"/>
    <id>http://yoursite.com/2020/08/18/206. åè½¬é“¾è¡¨/</id>
    <published>2020-08-18T09:51:12.000Z</published>
    <updated>2020-08-19T09:56:23.485Z</updated>
    
    <content type="html"><![CDATA[<p>åè½¬ä¸€ä¸ªå•é“¾è¡¨ã€‚</p><a id="more"></a><p>ç¤ºä¾‹:</p><pre><code>è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULLè¾“å‡º: 5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL</code></pre><p>è¿›é˜¶:</p><pre><code>ä½ å¯ä»¥è¿­ä»£æˆ–é€’å½’åœ°åè½¬é“¾è¡¨ã€‚ä½ èƒ½å¦ç”¨ä¸¤ç§æ–¹æ³•è§£å†³è¿™é“é¢˜ï¼Ÿ</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šè¿­ä»£"><a href="#æ–¹æ³•ä¸€ï¼šè¿­ä»£" class="headerlink" title="æ–¹æ³•ä¸€ï¼šè¿­ä»£"></a>æ–¹æ³•ä¸€ï¼šè¿­ä»£</h1><p>å‡è®¾å­˜åœ¨é“¾è¡¨ <code>1 â†’ 2 â†’ 3 â†’ Ã˜</code>ï¼Œæˆ‘ä»¬æƒ³è¦æŠŠå®ƒæ”¹æˆ <code>Ã˜ â† 1 â† 2 â† 3</code>ã€‚</p><p>åœ¨éå†åˆ—è¡¨æ—¶ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ <code>next</code> æŒ‡é’ˆæ”¹ä¸ºæŒ‡å‘å‰ä¸€ä¸ªå…ƒç´ ã€‚ç”±äºèŠ‚ç‚¹æ²¡æœ‰å¼•ç”¨å…¶ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤å¿…é¡»äº‹å…ˆå­˜å‚¨å…¶å‰ä¸€ä¸ªå…ƒç´ ã€‚åœ¨æ›´æ”¹å¼•ç”¨ä¹‹å‰ï¼Œè¿˜éœ€è¦å¦ä¸€ä¸ªæŒ‡é’ˆæ¥å­˜å‚¨ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ä¸è¦å¿˜è®°åœ¨æœ€åè¿”å›æ–°çš„å¤´å¼•ç”¨ï¼</p><details>    <summary>è¿­ä»£</summary><figure class="highlight java"><figcaption><span>[Tww6MiPp-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    ListNode prev = <span class="keyword">null</span>;</span><br><span class="line">    ListNode curr = head;</span><br><span class="line">    <span class="keyword">while</span> (curr != <span class="keyword">null</span>) &#123;</span><br><span class="line">        ListNode nextTemp = curr.next;</span><br><span class="line">        curr.next = prev;</span><br><span class="line">        prev = curr;</span><br><span class="line">        curr = nextTemp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> prev;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œå‡è®¾ *n</em> æ˜¯åˆ—è¡¨çš„é•¿åº¦ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ <em>O(n)</em>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</li></ul><hr><h1 id="æ–¹æ³•äºŒï¼šé€’å½’"><a href="#æ–¹æ³•äºŒï¼šé€’å½’" class="headerlink" title="æ–¹æ³•äºŒï¼šé€’å½’"></a>æ–¹æ³•äºŒï¼šé€’å½’</h1><p>é€’å½’ç‰ˆæœ¬ç¨å¾®å¤æ‚ä¸€äº›ï¼Œå…¶å…³é”®åœ¨äºåå‘å·¥ä½œã€‚å‡è®¾åˆ—è¡¨çš„å…¶ä½™éƒ¨åˆ†å·²ç»è¢«åè½¬ï¼Œç°åœ¨æˆ‘è¯¥å¦‚ä½•åè½¬å®ƒå‰é¢çš„éƒ¨åˆ†ï¼Ÿ</p><p>å‡è®¾åˆ—è¡¨ä¸ºï¼š</p><p>n1â†’â€¦â†’nkâˆ’1    â†’n kâ†’n k+1â†’â€¦â†’nmâ†’âˆ…</p><p>è‹¥ä»èŠ‚ç‚¹ <em>n_{k+1}</em> åˆ° <em>n_{m}</em> å·²ç»è¢«åè½¬ï¼Œè€Œæˆ‘ä»¬æ­£å¤„äº <em>n_{k}</em>ã€‚</p><p>n1â†’â€¦â†’nkâˆ’1â†’n kâ†’n k+1â†â€¦â†nm</p><p>æˆ‘ä»¬å¸Œæœ› <em>n_{k+1}</em> çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ <em>n_{k}</em>ã€‚</p><p>æ‰€ä»¥ï¼Œ<em>n_{k}</em>.next.next = <em>n_{k}</em>ã€‚</p><p>è¦å°å¿ƒçš„æ˜¯ <em>n_{1}</em> çš„ä¸‹ä¸€ä¸ªå¿…é¡»æŒ‡å‘ Ã˜ ã€‚å¦‚æœä½ å¿½ç•¥äº†è¿™ä¸€ç‚¹ï¼Œä½ çš„é“¾è¡¨ä¸­å¯èƒ½ä¼šäº§ç”Ÿå¾ªç¯ã€‚å¦‚æœä½¿ç”¨å¤§å°ä¸º 2 çš„é“¾è¡¨æµ‹è¯•ä»£ç ï¼Œåˆ™å¯èƒ½ä¼šæ•è·æ­¤é”™è¯¯ã€‚</p><details>    <summary>é€’å½’</summary><figure class="highlight java"><figcaption><span>[ESkYHVXb-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) <span class="keyword">return</span> head;</span><br><span class="line">    ListNode p = reverseList(head.next);</span><br><span class="line">    head.next.next = head;</span><br><span class="line">    head.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œå‡è®¾ *n</em> æ˜¯åˆ—è¡¨çš„é•¿åº¦ï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œç”±äºä½¿ç”¨é€’å½’ï¼Œå°†ä¼šä½¿ç”¨éšå¼æ ˆç©ºé—´ã€‚é€’å½’æ·±åº¦å¯èƒ½ä¼šè¾¾åˆ° *n</em> å±‚ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åè½¬ä¸€ä¸ªå•é“¾è¡¨ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
  </entry>
  
  <entry>
    <title>160. ç›¸äº¤é“¾è¡¨</title>
    <link href="http://yoursite.com/2020/08/18/160.%20%E7%9B%B8%E4%BA%A4%E9%93%BE%E8%A1%A8/"/>
    <id>http://yoursite.com/2020/08/18/160. ç›¸äº¤é“¾è¡¨/</id>
    <published>2020-08-18T08:55:12.000Z</published>
    <updated>2020-08-18T09:50:02.811Z</updated>
    
    <content type="html"><![CDATA[<p>ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾åˆ°ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹ã€‚</p><a id="more"></a><p>å¦‚ä¸‹é¢çš„ä¸¤ä¸ªé“¾è¡¨ï¼š</p><p><a href="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/14/160_statement.png" target="_blank" rel="noopener">image</a></p><p>åœ¨èŠ‚ç‚¹ c1 å¼€å§‹ç›¸äº¤ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šintersectVal = 8, listA = [4,1,8,4,5], listB = [5,0,1,8,4,5], skipA = 2, skipB = 3è¾“å‡ºï¼šReference of the node with value = 8è¾“å…¥è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º 8 ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º 0ï¼‰ã€‚ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [4,1,8,4,5]ï¼Œé“¾è¡¨ B ä¸º [5,0,1,8,4,5]ã€‚åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 2 ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 3 ä¸ªèŠ‚ç‚¹ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šintersectVal = 2, listA = [0,9,1,2,4], listB = [3,2,4], skipA = 3, skipB = 1è¾“å‡ºï¼šReference of the node with value = 2è¾“å…¥è§£é‡Šï¼šç›¸äº¤èŠ‚ç‚¹çš„å€¼ä¸º 2 ï¼ˆæ³¨æ„ï¼Œå¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤åˆ™ä¸èƒ½ä¸º 0ï¼‰ã€‚ä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [0,9,1,2,4]ï¼Œé“¾è¡¨ B ä¸º [3,2,4]ã€‚åœ¨ A ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 3 ä¸ªèŠ‚ç‚¹ï¼›åœ¨ B ä¸­ï¼Œç›¸äº¤èŠ‚ç‚¹å‰æœ‰ 1 ä¸ªèŠ‚ç‚¹ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šintersectVal = 0, listA = [2,6,4], listB = [1,5], skipA = 3, skipB = 2è¾“å‡ºï¼šnullè¾“å…¥è§£é‡Šï¼šä»å„è‡ªçš„è¡¨å¤´å¼€å§‹ç®—èµ·ï¼Œé“¾è¡¨ A ä¸º [2,6,4]ï¼Œé“¾è¡¨ B ä¸º [1,5]ã€‚ç”±äºè¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œæ‰€ä»¥ intersectVal å¿…é¡»ä¸º 0ï¼Œè€Œ skipA å’Œ skipB å¯ä»¥æ˜¯ä»»æ„å€¼ã€‚è§£é‡Šï¼šè¿™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ï¼Œå› æ­¤è¿”å› nullã€‚</code></pre><p>æ³¨æ„ï¼š</p><pre><code>å¦‚æœä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰äº¤ç‚¹ï¼Œè¿”å› null.åœ¨è¿”å›ç»“æœåï¼Œä¸¤ä¸ªé“¾è¡¨ä»é¡»ä¿æŒåŸæœ‰çš„ç»“æ„ã€‚å¯å‡å®šæ•´ä¸ªé“¾è¡¨ç»“æ„ä¸­æ²¡æœ‰å¾ªç¯ã€‚ç¨‹åºå°½é‡æ»¡è¶³ O(n) æ—¶é—´å¤æ‚åº¦ï¼Œä¸”ä»…ç”¨ O(1) å†…å­˜ã€‚</code></pre><h1 id="æ–¹æ³•ä¸€-æš´åŠ›æ³•"><a href="#æ–¹æ³•ä¸€-æš´åŠ›æ³•" class="headerlink" title="æ–¹æ³•ä¸€: æš´åŠ›æ³•"></a>æ–¹æ³•ä¸€: æš´åŠ›æ³•</h1><p>å¯¹é“¾è¡¨Aä¸­çš„æ¯ä¸€ä¸ªç»“ç‚¹ <em>a_i*ï¼Œéå†æ•´ä¸ªé“¾è¡¨ <code>B</code> å¹¶æ£€æŸ¥é“¾è¡¨ <code>B</code> ä¸­æ˜¯å¦å­˜åœ¨ç»“ç‚¹å’Œ *a_i</em> ç›¸åŒã€‚</p><details>    <summary>æš´åŠ›æ³•</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public ListNode getIntersectionNode(ListNode headA, ListNode headB) &#123;</span><br><span class="line">        ListNode p1=headA;</span><br><span class="line">        while (p1 != null) &#123;</span><br><span class="line">            ListNode p2 = headB;</span><br><span class="line">            while ( p2 != null) &#123;</span><br><span class="line">                if (p1 == p2) &#123;</span><br><span class="line">                    return p2;</span><br><span class="line">                &#125;</span><br><span class="line">                p2=p2.next;</span><br><span class="line">            &#125;</span><br><span class="line">            p1=p1.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return null;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ*** æ—¶é—´å¤æ‚åº¦ : *(mn)*ã€‚* ç©ºé—´å¤æ‚åº¦ : *O(1)*ã€‚<br><br><hr><h1 id="æ–¹æ³•äºŒ-å“ˆå¸Œè¡¨æ³•"><a href="#æ–¹æ³•äºŒ-å“ˆå¸Œè¡¨æ³•" class="headerlink" title="æ–¹æ³•äºŒ: å“ˆå¸Œè¡¨æ³•"></a>æ–¹æ³•äºŒ: å“ˆå¸Œè¡¨æ³•</h1><p>éå†é“¾è¡¨ <code>A</code> å¹¶å°†æ¯ä¸ªç»“ç‚¹çš„åœ°å€/å¼•ç”¨å­˜  å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­ã€‚ç„¶åæ£€æŸ¥é“¾è¡¨ <code>B</code> ä¸­çš„æ¯ä¸€ä¸ªç»“ç‚¹ <em>b_i</em> æ˜¯å¦åœ¨å“ˆå¸Œè¡¨ä¸­ã€‚è‹¥åœ¨ï¼Œåˆ™ <em>b_i</em> ä¸ºç›¸äº¤ç»“ç‚¹ã€‚</p><details>    <summary>å“ˆå¸Œè¡¨æ³•</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public ListNode getIntersectionNode(ListNode headA, ListNode headB) &#123;</span><br><span class="line">        if (headA == null || headB == null) &#123;</span><br><span class="line">            return null;</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;ListNode,Integer&gt; map = new HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        ListNode pA = headA, pB = headB;</span><br><span class="line">        while (pA != null) &#123;</span><br><span class="line">            map.put(pA,1);</span><br><span class="line">            pA=pA.next;</span><br><span class="line">        &#125;</span><br><span class="line">        while (pB != null) &#123;</span><br><span class="line">            if (map.containsKey(pB)) &#123;</span><br><span class="line">                return pB;</span><br><span class="line">            &#125;</span><br><span class="line">            pB=pB.next;</span><br><span class="line">        &#125;</span><br><span class="line">        return null;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ : <em>O(m+n)</em>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ : <em>O(m)</em> æˆ– <em>O(n)</em>ã€‚<br><br></li></ul><hr><h1 id="æ–¹æ³•ä¸‰ï¼šåŒæŒ‡é’ˆæ³•"><a href="#æ–¹æ³•ä¸‰ï¼šåŒæŒ‡é’ˆæ³•" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šåŒæŒ‡é’ˆæ³•"></a>æ–¹æ³•ä¸‰ï¼šåŒæŒ‡é’ˆæ³•</h1><ul><li>åˆ›å»ºä¸¤ä¸ªæŒ‡é’ˆ <em>pA</em> å’Œ <em>pB</em>ï¼Œåˆ†åˆ«åˆå§‹åŒ–ä¸ºé“¾è¡¨ <code>A</code> å’Œ <code>B</code> çš„å¤´ç»“ç‚¹ã€‚ç„¶åè®©å®ƒä»¬å‘åé€ç»“ç‚¹éå†ã€‚ </li><li>å½“ <em>pA</em> åˆ°è¾¾é“¾è¡¨çš„å°¾éƒ¨æ—¶ï¼Œå°†å®ƒé‡å®šä½åˆ°é“¾è¡¨ <code>B</code> çš„å¤´ç»“ç‚¹ (ä½ æ²¡çœ‹é”™ï¼Œå°±æ˜¯é“¾è¡¨ <code>B</code>); ç±»ä¼¼çš„ï¼Œå½“ <em>pB</em> åˆ°è¾¾é“¾è¡¨çš„å°¾éƒ¨æ—¶ï¼Œå°†å®ƒé‡å®šä½åˆ°é“¾è¡¨ <code>A</code> çš„å¤´ç»“ç‚¹ã€‚ </li><li>è‹¥åœ¨æŸä¸€æ—¶åˆ» <em>pA</em> å’Œ <em>pB</em> ç›¸é‡ï¼Œåˆ™ <em>pA</em>/<em>pB</em> ä¸ºç›¸äº¤ç»“ç‚¹ã€‚</li><li>æƒ³å¼„æ¸…æ¥šä¸ºä»€ä¹ˆè¿™æ ·å¯è¡Œ, å¯ä»¥è€ƒè™‘ä»¥ä¸‹ä¸¤ä¸ªé“¾è¡¨: <code>A={1,3,5,7,9,11}</code> å’Œ <code>B={2,4,9,11}</code>ï¼Œç›¸äº¤äºç»“ç‚¹ <code>9</code>ã€‚ ç”±äº <code>B.length (=4) &lt; A.length (=6)</code>ï¼Œ<em>pB</em> æ¯” <em>pA</em> å°‘ç»è¿‡ <em>2</em> ä¸ªç»“ç‚¹ï¼Œä¼šå…ˆåˆ°è¾¾å°¾éƒ¨ã€‚å°† <em>pB</em> é‡å®šå‘åˆ° <code>A</code> çš„å¤´ç»“ç‚¹ï¼Œ<em>pA</em> é‡å®šå‘åˆ° <code>B</code> çš„å¤´ç»“ç‚¹åï¼Œ<em>pB</em> è¦æ¯” <em>pA</em> å¤šèµ° <code>2</code> ä¸ªç»“ç‚¹ã€‚å› æ­¤ï¼Œå®ƒä»¬ä¼šåŒæ—¶åˆ°è¾¾äº¤ç‚¹ã€‚</li><li>å¦‚æœä¸¤ä¸ªé“¾è¡¨å­˜åœ¨ç›¸äº¤ï¼Œå®ƒä»¬æœ«å°¾çš„ç»“ç‚¹å¿…ç„¶ç›¸åŒã€‚å› æ­¤å½“ <em>pA</em>/<em>pB</em> åˆ°è¾¾é“¾è¡¨ç»“å°¾æ—¶ï¼Œè®°å½•ä¸‹é“¾è¡¨ <code>A/B</code> å¯¹åº”çš„å…ƒç´ ã€‚è‹¥æœ€åå…ƒç´ ä¸ç›¸åŒï¼Œåˆ™ä¸¤ä¸ªé“¾è¡¨ä¸ç›¸äº¤ã€‚</li></ul><p>è¿™é‡Œä½¿ç”¨å›¾è§£çš„æ–¹å¼ï¼Œè§£é‡Šæ¯”è¾ƒå·§å¦™çš„ä¸€ç§å®ç°ã€‚</p><p>æ ¹æ®é¢˜ç›®æ„æ€<br>å¦‚æœä¸¤ä¸ªé“¾è¡¨ç›¸äº¤ï¼Œé‚£ä¹ˆç›¸äº¤ç‚¹ä¹‹åçš„é•¿åº¦æ˜¯ç›¸åŒçš„</p><p>æˆ‘ä»¬éœ€è¦åšçš„äº‹æƒ…æ˜¯ï¼Œè®©ä¸¤ä¸ªé“¾è¡¨ä»åŒè·ç¦»æœ«å°¾åŒç­‰è·ç¦»çš„ä½ç½®å¼€å§‹éå†ã€‚è¿™ä¸ªä½ç½®åªèƒ½æ˜¯è¾ƒçŸ­é“¾è¡¨çš„å¤´ç»“ç‚¹ä½ç½®ã€‚<br>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¿…é¡»æ¶ˆé™¤ä¸¤ä¸ªé“¾è¡¨çš„é•¿åº¦å·®</p><ol><li>æŒ‡é’ˆ pA æŒ‡å‘ A é“¾è¡¨ï¼ŒæŒ‡é’ˆ pB æŒ‡å‘ B é“¾è¡¨ï¼Œä¾æ¬¡å¾€åéå†</li><li>å¦‚æœ pA åˆ°äº†æœ«å°¾ï¼Œåˆ™ pA = headB ç»§ç»­éå†</li><li>å¦‚æœ pB åˆ°äº†æœ«å°¾ï¼Œåˆ™ pB = headA ç»§ç»­éå†</li><li>æ¯”è¾ƒé•¿çš„é“¾è¡¨æŒ‡é’ˆæŒ‡å‘è¾ƒçŸ­é“¾è¡¨headæ—¶ï¼Œé•¿åº¦å·®å°±æ¶ˆé™¤äº†</li><li>å¦‚æ­¤ï¼Œåªéœ€è¦å°†æœ€çŸ­é“¾è¡¨éå†ä¸¤æ¬¡å³å¯æ‰¾åˆ°ä½ç½®</li></ol><p>å¬ç€å¯èƒ½æœ‰ç‚¹ç»•ï¼Œçœ‹å›¾æœ€ç›´è§‚ï¼Œé“¾è¡¨çš„é¢˜ç›®æœ€é€‚åˆçœ‹å›¾äº†</p><p><a href="https://pic.leetcode-cn.com/e86e947c8b87ac723b9c858cd3834f9a93bcc6c5e884e41117ab803d205ef662-%E7%9B%B8%E4%BA%A4%E9%93%BE%E8%A1%A8.png" target="_blank" rel="noopener">ç›¸äº¤é“¾è¡¨</a></p><p>ä»£ç ä¹Ÿå¾ˆç®€å•ï¼ˆæ­¤å¤„ä»£ç æ˜¯å‚è€ƒè¯„è®ºåŒºçš„é«˜æ‰‹çš„ï¼‰</p><details>    <summary>åŒæŒ‡é’ˆæ³•</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (headA == <span class="keyword">null</span> || headB == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        ListNode pA = headA, pB = headB;</span><br><span class="line">        <span class="keyword">while</span> (pA != pB) &#123;</span><br><span class="line">            pA = pA == <span class="keyword">null</span> ? headB : pA.next;</span><br><span class="line">            pB = pB == <span class="keyword">null</span> ? headA : pB.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pA;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ : <em>O(m+n)</em>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ : <em>O(1)</em>ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾åˆ°ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„èµ·å§‹èŠ‚ç‚¹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
  </entry>
  
  <entry>
    <title>142. ç¯å½¢é“¾è¡¨II</title>
    <link href="http://yoursite.com/2020/07/25/142.%20%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8II/"/>
    <id>http://yoursite.com/2020/07/25/142. ç¯å½¢é“¾è¡¨II/</id>
    <published>2020-07-25T10:22:12.000Z</published>
    <updated>2020-07-31T06:41:23.218Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å›nullã€‚</p><a id="more"></a><p>ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚</p><p>è¯´æ˜ï¼šä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1è¾“å‡ºï¼štail connects to node index 1è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šhead = [1,2], pos = 0è¾“å‡ºï¼štail connects to node index 0è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šhead = [1], pos = -1è¾“å‡ºï¼šno cycleè§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚</code></pre><p>è¿›é˜¶ï¼š<br>ä½ æ˜¯å¦å¯ä»¥ä¸ç”¨é¢å¤–ç©ºé—´è§£å†³æ­¤é¢˜ï¼Ÿ</p><h1 id="æ–¹æ³•-1ï¼šå“ˆå¸Œè¡¨"><a href="#æ–¹æ³•-1ï¼šå“ˆå¸Œè¡¨" class="headerlink" title="æ–¹æ³• 1ï¼šå“ˆå¸Œè¡¨"></a>æ–¹æ³• 1ï¼šå“ˆå¸Œè¡¨</h1><p><strong>æƒ³æ³•</strong></p><p>å¦‚æœæˆ‘ä»¬ç”¨ä¸€ä¸ª <code>Set</code> ä¿å­˜å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥éå†æ•´ä¸ªåˆ—è¡¨å¹¶è¿”å›ç¬¬ä¸€ä¸ªå‡ºç°é‡å¤çš„èŠ‚ç‚¹ã€‚</p><p><strong>ç®—æ³•</strong></p><p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ†é…ä¸€ä¸ª <code>Set</code> å»ä¿å­˜æ‰€æœ‰çš„åˆ—è¡¨èŠ‚ç‚¹ã€‚æˆ‘ä»¬é€ä¸€éå†åˆ—è¡¨ï¼Œæ£€æŸ¥å½“å‰èŠ‚ç‚¹æ˜¯å¦å‡ºç°è¿‡ï¼Œå¦‚æœèŠ‚ç‚¹å·²ç»å‡ºç°è¿‡ï¼Œé‚£ä¹ˆä¸€å®šå½¢æˆäº†ç¯ä¸”å®ƒæ˜¯ç¯çš„å…¥å£ã€‚å¦åˆ™å¦‚æœæœ‰å…¶ä»–ç‚¹æ˜¯ç¯çš„å…¥å£ï¼Œæˆ‘ä»¬åº”è¯¥å…ˆè®¿é—®åˆ°å…¶ä»–èŠ‚ç‚¹è€Œä¸æ˜¯è¿™ä¸ªèŠ‚ç‚¹ã€‚å…¶ä»–æƒ…å†µï¼Œæ²¡æœ‰æˆç¯åˆ™ç›´æ¥è¿”å› <code>null</code> ã€‚</p><p>ç®—æ³•ä¼šåœ¨éå†æœ‰é™ä¸ªèŠ‚ç‚¹åç»ˆæ­¢ï¼Œè¿™æ˜¯å› ä¸ºè¾“å…¥åˆ—è¡¨ä¼šè¢«åˆ†æˆä¸¤ç±»ï¼šæˆç¯çš„å’Œä¸æˆç¯çš„ã€‚ä¸€ä¸ªä¸æˆæ¬¢çš„åˆ—è¡¨åœ¨éå†å®Œæ‰€æœ‰èŠ‚ç‚¹åä¼šåˆ°è¾¾ <code>null</code> - å³é“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ååœæ­¢ã€‚ä¸€ä¸ªæˆç¯åˆ—è¡¨å¯ä»¥æƒ³è±¡æˆæ˜¯ä¸€ä¸ªä¸æˆç¯åˆ—è¡¨å°†æœ€åä¸€ä¸ª <code>null</code> å…ƒç´ æ¢æˆç¯çš„å…¥å£ã€‚</p><p>å¦‚æœ <code>while</code> å¾ªç¯ç»ˆæ­¢ï¼Œæˆ‘ä»¬è¿”å› <code>null</code> å› ä¸ºæˆ‘ä»¬å·²ç»å°†æ‰€æœ‰çš„èŠ‚ç‚¹éå†äº†ä¸€éä¸”æ²¡æœ‰é‡åˆ°é‡å¤çš„èŠ‚ç‚¹ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œåˆ—è¡¨æ˜¯ä¸æˆç¯çš„ã€‚å¯¹äºå¾ªç¯åˆ—è¡¨ï¼Œ <code>while</code> å¾ªç¯æ°¸è¿œä¸ä¼šåœæ­¢ï¼Œä½†åœ¨æŸä¸ªèŠ‚ç‚¹ä¸Šï¼Œ <code>if</code> æ¡ä»¶ä¼šè¢«æ»¡è¶³å¹¶å¯¼è‡´å‡½æ•°çš„é€€å‡ºã€‚</p><details>    <summary>å“ˆå¸Œè¡¨Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">detectCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        Set&lt;ListNode&gt; visited = <span class="keyword">new</span> HashSet&lt;ListNode&gt;();</span><br><span class="line"></span><br><span class="line">        ListNode node = head;</span><br><span class="line">        <span class="keyword">while</span> (node != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited.contains(node)) &#123;</span><br><span class="line">                <span class="keyword">return</span> node;</span><br><span class="line">            &#125;</span><br><span class="line">            visited.add(node);</span><br><span class="line">            node = node.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å“ˆå¸Œè¡¨Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">detectCycle</span><span class="params">(self, head)</span>:</span></span><br><span class="line">        visited = set()</span><br><span class="line"></span><br><span class="line">        node = head</span><br><span class="line">        <span class="keyword">while</span> node <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</span><br><span class="line">            <span class="keyword">if</span> node <span class="keyword">in</span> visited:</span><br><span class="line">                <span class="keyword">return</span> node</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                visited.add(node)</span><br><span class="line">                node = node.next</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">None</span></span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em></p><p>  ä¸ç®¡æ˜¯æˆç¯è¿˜æ˜¯ä¸æˆç¯çš„è¾“å…¥ï¼Œç®—æ³•è‚¯å®šéƒ½åªä¼šè®¿é—®æ¯ä¸ªèŠ‚ç‚¹ä¸€æ¬¡ã€‚å¯¹äºéæˆç¯åˆ—è¡¨è¿™æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œå› ä¸ºç¬¬ <em>n</em> ä¸ªèŠ‚ç‚¹æŒ‡å‘ <code>null</code> ï¼Œè¿™ä¼šè®©å¾ªç¯é€€å‡ºã€‚å¯¹äºå¾ªç¯åˆ—è¡¨ï¼Œ <code>if</code> æ¡ä»¶æ»¡è¶³æ—¶ä¼šå¯¼è‡´å‡½æ•°çš„é€€å‡ºï¼Œå› ä¸ºå®ƒæŒ‡å‘äº†æŸä¸ªå·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹ã€‚ä¸¤ç§æƒ…å†µä¸‹ï¼Œè®¿é—®çš„èŠ‚ç‚¹æ•°æœ€å¤šéƒ½æ˜¯ <em>n</em> ä¸ªï¼Œæ‰€ä»¥è¿è¡Œæ—¶é—´è·ŸèŠ‚ç‚¹æ•°ç›®æˆçº¿æ€§å…³ç³»ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em></p><p>  ä¸ç®¡æˆç¯æˆ–è€…ä¸æˆæ¬¢çš„è¾“å…¥ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å°†æ¯ä¸ªèŠ‚ç‚¹æ’å…¥ <code>Set</code> ä¸­ä¸€æ¬¡ã€‚ä¸¤è€…å”¯ä¸€çš„åŒºåˆ«æ˜¯æœ€åè®¿é—®çš„èŠ‚ç‚¹åæ˜¯ <code>null</code> è¿˜æ˜¯ä¸€ä¸ªå·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹ã€‚å› æ­¤ï¼Œç”±äº <code>Set</code> åŒ…å« <em>n</em> ä¸ªä¸åŒçš„èŠ‚ç‚¹ï¼Œæ‰€éœ€ç©ºé—´ä¸èŠ‚ç‚¹æ•°ç›®ä¹Ÿæ˜¯çº¿æ€§å…³ç³»çš„ã€‚</p></li></ul><hr><h1 id="æ–¹æ³•-2ï¼šFloyd-ç®—æ³•"><a href="#æ–¹æ³•-2ï¼šFloyd-ç®—æ³•" class="headerlink" title="æ–¹æ³• 2ï¼šFloyd ç®—æ³•"></a>æ–¹æ³• 2ï¼šFloyd ç®—æ³•</h1><p><strong>æƒ³æ³•</strong></p><p>å½“ç„¶ä¸€ä¸ªè·‘å¾—å¿«çš„äººå’Œä¸€ä¸ªè·‘å¾—æ…¢çš„äººåœ¨ä¸€ä¸ªåœ†å½¢çš„èµ›é“ä¸Šèµ›è·‘ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿåœ¨æŸä¸€ä¸ªæ—¶åˆ»ï¼Œè·‘å¾—å¿«çš„äººä¸€å®šä¼šä»åé¢èµ¶ä¸Šè·‘å¾—æ…¢çš„äººã€‚</p><p><strong>ç®—æ³•</strong></p><p>Floyd çš„ç®—æ³•è¢«åˆ’åˆ†æˆä¸¤ä¸ªä¸åŒçš„ <em>é˜¶æ®µ</em> ã€‚åœ¨ç¬¬ä¸€é˜¶æ®µï¼Œæ‰¾å‡ºåˆ—è¡¨ä¸­æ˜¯å¦æœ‰ç¯ï¼Œå¦‚æœæ²¡æœ‰ç¯ï¼Œå¯ä»¥ç›´æ¥è¿”å› <code>null</code> å¹¶é€€å‡ºã€‚å¦åˆ™ï¼Œç”¨ <code>ç›¸é‡èŠ‚ç‚¹</code> æ¥æ‰¾åˆ°ç¯çš„å…¥å£ã€‚</p><h2 id="é˜¶æ®µ-1"><a href="#é˜¶æ®µ-1" class="headerlink" title="é˜¶æ®µ 1"></a>é˜¶æ®µ 1</h2><p>è¿™é‡Œæˆ‘ä»¬åˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆ - å¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆã€‚æˆ‘ä»¬æ¯æ¬¡ç§»åŠ¨æ…¢æŒ‡é’ˆä¸€æ­¥ã€å¿«æŒ‡é’ˆä¸¤æ­¥ï¼Œç›´åˆ°å¿«æŒ‡é’ˆæ— æ³•ç»§ç»­å¾€å‰ç§»åŠ¨ã€‚å¦‚æœåœ¨æŸæ¬¡ç§»åŠ¨åï¼Œå¿«æ…¢æŒ‡é’ˆæŒ‡å‘äº†åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬å°±è¿”å›å®ƒã€‚å¦åˆ™ï¼Œæˆ‘ä»¬ç»§ç»­ï¼Œç›´åˆ° <code>while</code> å¾ªç¯ç»ˆæ­¢ä¸”æ²¡æœ‰è¿”å›ä»»ä½•èŠ‚ç‚¹ï¼Œè¿™ç§æƒ…å†µè¯´æ˜æ²¡æœ‰æˆç¯ï¼Œæˆ‘ä»¬è¿”å› <code>null</code> ã€‚</p><p>ä¸‹å›¾è¯´æ˜äº†è¿™ä¸ªç®—æ³•çš„å·¥ä½œæ–¹å¼ï¼š</p><p> <a href="https://pic.leetcode-cn.com/ea37804a3d86a51a1bf827b9068e1f515ffddf840a0563ea0d1174c58ac64352-image.png" target="_blank" rel="noopener">image.png</a></p><p>ç¯ä¸­çš„èŠ‚ç‚¹ä» 0 åˆ° <em>C-1</em> ç¼–å·ï¼Œå…¶ä¸­ <em>C</em> æ˜¯ç¯çš„é•¿åº¦ã€‚éç¯èŠ‚ç‚¹ä» <em>-F</em> åˆ° <em>-1</em> ç¼–å·ï¼Œå…¶ä¸­ <em>F</em> æ˜¯ç¯ä»¥å¤–èŠ‚ç‚¹çš„æ•°ç›®ã€‚ <em>F</em> æ¬¡è¿­ä»£ä»¥åï¼Œæ…¢æŒ‡é’ˆæŒ‡å‘äº† 0 ä¸”å¿«æŒ‡é’ˆæŒ‡å‘æŸä¸ªèŠ‚ç‚¹ <em>h</em> ï¼Œå…¶ä¸­F=h(mod C) ã€‚è¿™æ˜¯å› ä¸ºå¿«æŒ‡é’ˆåœ¨ <em>F</em> æ¬¡è¿­ä»£ä¸­éå†äº† <em>2F</em> ä¸ªèŠ‚ç‚¹ï¼Œä¸”æ°å¥½æœ‰ <em>F</em> ä¸ªåœ¨ç¯ä¸­ã€‚ç»§ç»­è¿­ä»£ <em>C-h</em> æ¬¡ï¼Œæ…¢æŒ‡é’ˆæ˜¾ç„¶æŒ‡å‘ç¬¬ <em>C-h</em> å·èŠ‚ç‚¹ï¼Œè€Œå¿«æŒ‡é’ˆä¹Ÿä¼šæŒ‡å‘ç›¸åŒçš„èŠ‚ç‚¹ã€‚åŸå› åœ¨äºï¼Œå¿«æŒ‡é’ˆä» <em>h</em> å·èŠ‚ç‚¹å‡ºå‘éå†äº† <em>2(C-h)</em> ä¸ªèŠ‚ç‚¹ã€‚</p><pre><code>h+2(Câˆ’h)=2Câˆ’hâ‰¡Câˆ’h(modC)</code></pre><p>å› æ­¤ï¼Œå¦‚æœåˆ—è¡¨æ˜¯æœ‰ç¯çš„ï¼Œå¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆæœ€åä¼šåŒæ—¶æŒ‡å‘åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤è¢«ç§°ä¸º <em>ç›¸é‡</em> ã€‚</p><h2 id="é˜¶æ®µ-2"><a href="#é˜¶æ®µ-2" class="headerlink" title="é˜¶æ®µ 2"></a>é˜¶æ®µ 2</h2><p>ç»™å®šé˜¶æ®µ 1 æ‰¾åˆ°çš„ç›¸é‡ç‚¹ï¼Œé˜¶æ®µ 2 å°†æ‰¾åˆ°ç¯çš„å…¥å£ã€‚é¦–å…ˆæˆ‘ä»¬åˆå§‹åŒ–é¢å¤–çš„ä¸¤ä¸ªæŒ‡é’ˆï¼š <code>ptr1</code> ï¼ŒæŒ‡å‘é“¾è¡¨çš„å¤´ï¼Œ <code>ptr2</code> æŒ‡å‘ç›¸é‡ç‚¹ã€‚ç„¶åï¼Œæˆ‘ä»¬æ¯æ¬¡å°†å®ƒä»¬å¾€å‰ç§»åŠ¨ä¸€æ­¥ï¼Œç›´åˆ°å®ƒä»¬ç›¸é‡ï¼Œå®ƒä»¬ç›¸é‡çš„ç‚¹å°±æ˜¯ç¯çš„å…¥å£ï¼Œè¿”å›è¿™ä¸ªèŠ‚ç‚¹ã€‚</p><p>ä¸‹é¢çš„å›¾å°†æ›´å¥½çš„å¸®åŠ©ç†è§£å’Œè¯æ˜è¿™ä¸ªæ–¹æ³•çš„æ­£ç¡®æ€§ã€‚</p><p> <a href="https://pic.leetcode-cn.com/99987d4e679fdfbcfd206a4429d9b076b46ad09bd2670f886703fb35ef130635-image.png" target="_blank" rel="noopener">image.png</a></p><p>æˆ‘ä»¬åˆ©ç”¨å·²çŸ¥çš„æ¡ä»¶ï¼šæ…¢æŒ‡é’ˆç§»åŠ¨ 1 æ­¥ï¼Œå¿«æŒ‡é’ˆç§»åŠ¨ 2 æ­¥ï¼Œæ¥è¯´æ˜å®ƒä»¬ç›¸é‡åœ¨ç¯çš„å…¥å£å¤„ã€‚ï¼ˆä¸‹é¢è¯æ˜ä¸­çš„ tortoise è¡¨ç¤ºæ…¢æŒ‡é’ˆï¼Œhare è¡¨ç¤ºå¿«æŒ‡é’ˆï¼‰</p><pre><code>2â‹…distance(tortoise)=distance(hare)2(F+a)=F+a+b+a2F+2a=F+2a+bF=b</code></pre><p>å› ä¸º <em>F=b</em> ï¼ŒæŒ‡é’ˆä» <em>h</em> ç‚¹å‡ºå‘å’Œä»é“¾è¡¨çš„å¤´å‡ºå‘ï¼Œæœ€åä¼šéå†ç›¸åŒæ•°ç›®çš„èŠ‚ç‚¹ååœ¨ç¯çš„å…¥å£å¤„ç›¸é‡ã€‚</p><p><strong>è¿™ä¸ªå…¬å¼F=bå…¶å®å°±è¯´æ˜äº†ç›¸é‡èŠ‚ç‚¹å’Œå¤´èŠ‚ç‚¹è·ç¦»å…¥å£èŠ‚ç‚¹çš„è·ç¦»æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥åªè¦ä»è¿™ä¸¤ä¸ªèŠ‚ç‚¹åŒæ—¶å‡ºå‘ä¸€å®šä¼šåœ¨å…¥å£èŠ‚ç‚¹ç›¸é‡ã€‚</strong></p><p>ä¸‹é¢çš„åŠ¨ç”»ä¸­åŠ¨æ€åœ°æ¼”ç¤ºäº†æ•´ä¸ªç®—æ³•è¿‡ç¨‹ï¼š</p><p>  <a href="https://pic.leetcode-cn.com/26d91419cd4e90a8954f4253f779681e135527eb9efcfa761fdea990f6b10770-image.png" target="_blank" rel="noopener">image.png</a>  <a href="https://pic.leetcode-cn.com/4e82b6ff8e2e46f006da98414ae9f9e5ba342e90405ecc37802e83d7652f33aa-image.png" target="_blank" rel="noopener">image.png</a>  <a href="https://pic.leetcode-cn.com/efe62f7f9d2b003819dc617dab2342e1b7428a9019fcd5eeceef383b0bf1c6fc-image.png" target="_blank" rel="noopener">image.png</a>  <a href="https://pic.leetcode-cn.com/05848364a6b75ced28ad6d5f172bf18f9f37c58e89382c7c6f4c5715c00b4d17-image.png" target="_blank" rel="noopener">image.png</a>  <a href="https://pic.leetcode-cn.com/b16ab0dbc5d98adf9b79f9cf1a83b352c1f316dde4f28aab24d980bc17e7a38d-image.png" target="_blank" rel="noopener">image.png</a>  <a href="https://pic.leetcode-cn.com/0e1f5788dba0f811c0bfc63fa275424885d3373b43616ab51efb07c8b811f52e-image.png" target="_blank" rel="noopener">image.png</a>  <a href="https://pic.leetcode-cn.com/566912d38a4fdf7f9fed96cd4d50104c2a110ef24c491e3b8596f0591df1e77c-image.png" target="_blank" rel="noopener">image.png</a>  <a href="https://pic.leetcode-cn.com/c1aa9989085dacdbfc527130186eeffd1af8a1710528b5c10b318314f5c9ff79-image.png" target="_blank" rel="noopener">image.png</a>  <a href="https://pic.leetcode-cn.com/e1f0345de3ffc0eff25b1ecd4d80e121c7f38610d2a74f3b98ac38bfd5d38c92-image.png" target="_blank" rel="noopener">image.png</a>  <a href="https://pic.leetcode-cn.com/4f90bf4e8f1a7d44b686a23394e000573f2bf551fa62816e523161bf0d2da474-image.png" target="_blank" rel="noopener">image.png</a>  <a href="https://pic.leetcode-cn.com/b7d865deedbda8d686fa9c57e9cc819b57527325e852f26721d1fbcd62719757-image.png" target="_blank" rel="noopener">image.png</a>  <a href="https://pic.leetcode-cn.com/744cd130ed875602db99c9ee82f2e7d4b6681831b7674ae919764b5e87e44cd5-image.png" target="_blank" rel="noopener">image.png</a>  <a href="https://pic.leetcode-cn.com/a0dc8d96c672509eabcd2ba856c1d533fa2208894a7e40c05981e1616576c8f4-image.png" target="_blank" rel="noopener">image.png</a> </p><details>    <summary>Floyd ç®—æ³•Javaç‰ˆ</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> ListNode <span class="title">getIntersect</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode tortoise = head;</span><br><span class="line">        ListNode hare = head;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// A fast pointer will either loop around a cycle and meet the slow</span></span><br><span class="line">        <span class="comment">// pointer or reach the `null` at the end of a non-cyclic list.</span></span><br><span class="line">        <span class="keyword">while</span> (hare != <span class="keyword">null</span> &amp;&amp; hare.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            tortoise = tortoise.next;</span><br><span class="line">            hare = hare.next.next;</span><br><span class="line">            <span class="keyword">if</span> (tortoise == hare) &#123;</span><br><span class="line">                <span class="keyword">return</span> tortoise;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">detectCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// If there is a cycle, the fast/slow pointers will intersect at some</span></span><br><span class="line">        <span class="comment">// node. Otherwise, there is no cycle, so we cannot find an e***ance to</span></span><br><span class="line">        <span class="comment">// a cycle.</span></span><br><span class="line">        ListNode intersect = getIntersect(head);</span><br><span class="line">        <span class="keyword">if</span> (intersect == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// To find the e***ance to the cycle, we have two pointers traverse at</span></span><br><span class="line">        <span class="comment">// the same speed -- one from the front of the list, and the other from</span></span><br><span class="line">        <span class="comment">// the point of intersection.</span></span><br><span class="line">        ListNode ptr1 = head;</span><br><span class="line">        ListNode ptr2 = intersect;</span><br><span class="line">        <span class="keyword">while</span> (ptr1 != ptr2) &#123;</span><br><span class="line">            ptr1 = ptr1.next;</span><br><span class="line">            ptr2 = ptr2.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ptr1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Floyd ç®—æ³•Pythonç‰ˆ</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getIntersect</span><span class="params">(self, head)</span>:</span></span><br><span class="line">        tortoise = head</span><br><span class="line">        hare = head</span><br><span class="line"></span><br><span class="line">        <span class="comment"># A fast pointer will either loop around a cycle and meet the slow</span></span><br><span class="line">        <span class="comment"># pointer or reach the `null` at the end of a non-cyclic list.</span></span><br><span class="line">        <span class="keyword">while</span> hare <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span> <span class="keyword">and</span> hare.next <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</span><br><span class="line">            tortoise = tortoise.next</span><br><span class="line">            hare = hare.next.next</span><br><span class="line">            <span class="keyword">if</span> tortoise == hare:</span><br><span class="line">                <span class="keyword">return</span> tortoise</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">detectCycle</span><span class="params">(self, head)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> head <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># If there is a cycle, the fast/slow pointers will intersect at some</span></span><br><span class="line">        <span class="comment"># node. Otherwise, there is no cycle, so we cannot find an e***ance to</span></span><br><span class="line">        <span class="comment"># a cycle.</span></span><br><span class="line">        intersect = self.getIntersect(head)</span><br><span class="line">        <span class="keyword">if</span> intersect <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># To find the e***ance to the cycle, we have two pointers traverse at</span></span><br><span class="line">        <span class="comment"># the same speed -- one from the front of the list, and the other from</span></span><br><span class="line">        <span class="comment"># the point of intersection.</span></span><br><span class="line">        ptr1 = head</span><br><span class="line">        ptr2 = intersect</span><br><span class="line">        <span class="keyword">while</span> ptr1 != ptr2:</span><br><span class="line">            ptr1 = ptr1.next</span><br><span class="line">            ptr2 = ptr2.next</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ptr1</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em></p><p>  å¯¹æœ‰ç¯åˆ—è¡¨ï¼Œå¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆåœ¨ <em>F+C-h</em> æ¬¡è¿­ä»£ä»¥åä¼šæŒ‡å‘åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ­£å¦‚ä¸Šé¢æ­£ç¡®æ€§è¯æ˜æ‰€ç¤ºï¼Œ  F+C-hâ‰¤F+C=n  ï¼Œæ‰€ä»¥é˜¶æ®µ 1 è¿è¡Œæ—¶é—´åœ¨ <em>O(n)</em> æ—¶é—´ä»¥å†…ï¼Œé˜¶æ®µ 2 è¿è¡Œ <em>F &lt; n</em> æ¬¡è¿­ä»£ï¼Œæ‰€ä»¥å®ƒè¿è¡Œæ—¶é—´ä¹Ÿåœ¨ <em>O(n)</em> ä»¥å†…ã€‚</p><p>  å¯¹äºæ— ç¯é“¾è¡¨ï¼Œå¿«æŒ‡é’ˆå¤§çº¦éœ€è¦è¿­ä»£ n/2  æ¬¡ä¼šæŠµè¾¾é“¾è¡¨çš„å°¾éƒ¨ï¼Œè¿™æ ·ä¸ä¼šè¿›å…¥é˜¶æ®µ 2 å°±ç›´æ¥é€€å‡ºã€‚</p><p>  å› æ­¤ï¼Œä¸ç®¡æ˜¯å“ªä¸€ç±»é“¾è¡¨ï¼Œéƒ½ä¼šåœ¨ä¸èŠ‚ç‚¹æ•°æˆçº¿æ€§å…³ç³»çš„æ—¶é—´å†…è¿è¡Œå®Œã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></p><p>Floyd çš„å¿«æ…¢æŒ‡é’ˆç®—æ³•ä»…éœ€è¦å‡ ä¸ªæŒ‡é’ˆï¼Œæ‰€ä»¥åªéœ€å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ã€‚</p></li></ul><h2 id="ç›´è§‚ç†è§£"><a href="#ç›´è§‚ç†è§£" class="headerlink" title="ç›´è§‚ç†è§£"></a>ç›´è§‚ç†è§£</h2><p>çœ‹ä¸æ‡‚ç®—å¼è¯æ˜çš„è¯ï¼Œæˆ–è€…ä½ å¯ä»¥è¿™æ ·è§£é‡Šæ€§åœ°æ¥ç†è§£é˜¶æ®µ2ï¼š</p><ol><li><p>å¿«æŒ‡é’ˆ1æ¬¡èµ°2æ­¥ï¼Œæ…¢æŒ‡é’ˆ1æ¬¡èµ°1æ­¥ã€‚æ‰€ä»¥å¿«æŒ‡é’ˆæ€»æ˜¯èµ°äº†æ…¢æŒ‡é’ˆä¸¤å€çš„è·¯ã€‚</p></li><li><p>å›é¡¾ä¸€ä¸‹é˜¶æ®µ1çš„è¿‡ç¨‹ï¼Œè®¾å¤´èŠ‚ç‚¹åˆ°å…¥ç¯ç‚¹çš„è·¯é€”ä¸º n, é‚£ä¹ˆæ…¢æŒ‡é’ˆèµ°äº†å…¥ç¯è·¯é€”çš„ä¸€åŠï¼ˆn/2ï¼‰æ—¶ï¼Œå¿«æŒ‡é’ˆå°±åˆ°è¾¾å…¥ç¯ç‚¹äº†(èµ°å®Œnäº†)ã€‚</p></li><li><p>æ…¢æŒ‡é’ˆå†ç»§ç»­èµ°å®Œå‰©ä¸‹çš„ä¸€èˆ¬å…¥ç¯è·¯é€”ï¼ˆå‰©ä¸‹çš„n/2ï¼‰ï¼Œåˆ°è¾¾å…¥ç¯ç‚¹æ—¶ï¼Œå¿«æŒ‡é’ˆå·²ç»åœ¨ç¯å†…åˆèµ°äº†ä¸€ä¸ª n é‚£ä¹ˆè¿œçš„è·¯äº†ã€‚</p></li><li><p>ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œè¿™é‡Œå…ˆè®¨è®ºç¯å¾ˆå¤§ï¼Œå¤§äºnçš„æƒ…å†µï¼ˆå…¶ä»–æƒ…å†µåæ–‡è¡¥å……ï¼‰ã€‚æ­¤æ—¶ï¼Œæ…¢æŒ‡é’ˆæ­£å¤„äºå…¥ç¯ç‚¹ï¼Œå¿«æŒ‡é’ˆè·ç¦»å…¥ç¯ç‚¹çš„è·ç¦»ä¸ºnã€‚ç¯å†…è·¯ï¼Œå¯ä»¥ç”¨æ­¤æ—¶å¿«æŒ‡é’ˆçš„ä½ç½®åˆ†å‰²ä¸ºä¸¤æ®µï¼Œå‰é¢çš„ n éƒ¨åˆ†ï¼Œå’Œåé¢çš„ b éƒ¨åˆ†ã€‚</p></li><li><p>æ­¤æ—¶å¼€å§‹ç»§ç»­å¿«æ…¢æŒ‡é’ˆè·‘åœˆï¼Œå› ä¸ºå·²ç»åœ¨ç¯å†…äº†ï¼Œä»–ä»¬å…¶å®å°±æ˜¯åœ¨ä¸€æ¡nbnbnbnbnbnbnbï¼ˆæ— å°½nbè·¯ï¼‰ä¸Šè·‘æ­¥ã€‚</p></li><li><p>æ…¢æŒ‡é’ˆä»å…¥ç¯å¤„å¼€å§‹è·‘bæ­¥ï¼Œè·ç¦»å…¥ç¯å¤„å°±å‰©ä¸‹äº†nã€‚æ­¤æ—¶ï¼Œå¿«æŒ‡é’ˆåˆ™æ˜¯ä»è·ç¦»å…¥ç¯å¤„næ­¥è¿œçš„ä½ç½®å¼€å§‹è·‘äº†2bæ­¥ï¼Œè·ç¦»å…¥ç¯å¤„ä¹Ÿæ˜¯å‰©ä¸‹äº†nã€‚ä»–ä»¬ç›¸é‡äº†ï¼Œå¹¶ä¸”è·ç¦»å…¥ç¯å¤„çš„è·ç¦»å°±æ˜¯nï¼Œnå°±æ˜¯å¤´èŠ‚ç‚¹åˆ°å…¥ç¯ç‚¹çš„è·ç¦»é˜¿!!! åé¢çš„ä¸ç”¨è¯´äº†å§ã€‚</p></li></ol><p>ç¯å¾ˆå°çš„æƒ…å†µï¼Œå…¶å®è·Ÿç¯å¾ˆå¤§æ˜¯ä¸€æ ·çš„ï¼Œæ¯”å¦‚ä½ å¯ä»¥ç†è§£ä¸ºå°†å¤šä¸ªå°ç¯çš„å¾ªç¯é“ºå¼€ï¼Œè™šæ‹Ÿæ‰©å±•æˆä¸€ä¸ªå¤§ç¯æ¥ç†è§£ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å›nullã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´7æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B47%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
      <category term="Two Pointers" scheme="http://yoursite.com/tags/Two-Pointers/"/>
    
  </entry>
  
  <entry>
    <title>148. æ’åºé“¾è¡¨</title>
    <link href="http://yoursite.com/2020/07/25/148.%20%E6%8E%92%E5%BA%8F%E9%93%BE%E8%A1%A8/"/>
    <id>http://yoursite.com/2020/07/25/148. æ’åºé“¾è¡¨/</id>
    <published>2020-07-25T10:22:12.000Z</published>
    <updated>2020-08-18T08:48:04.575Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨O(nlogn) æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°çº§ç©ºé—´å¤æ‚åº¦ä¸‹ï¼Œå¯¹é“¾è¡¨è¿›è¡Œæ’åºã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: 4-&gt;2-&gt;1-&gt;3è¾“å‡º: 1-&gt;2-&gt;3-&gt;4</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: -1-&gt;5-&gt;3-&gt;4-&gt;0è¾“å‡º: -1-&gt;0-&gt;3-&gt;4-&gt;5</code></pre><p>è¿™é“é¢˜æ‹–çš„æ—¶é—´æ¯”è¾ƒé•¿ï¼Œä»å†™åšå®¢åˆ°åšå®ŒæŒç»­äº†åŠä¸ªå¤šæœˆï¼Œåˆ›çºªå½•äº†ï¼Œç¬¬äºŒç§è§£æ³•è¿˜æ²¡å¤ªåƒé€ï¼Œæœ‰å¾…æ·±ç©¶ã€‚</p><h1 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h1><p>å½’å¹¶æ’åºï¼ˆMerge sortï¼‰æ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æ’åºç®—æ³•ã€‚è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ã€‚</p><p>ä½œä¸ºä¸€ç§å…¸å‹çš„åˆ†è€Œæ²»ä¹‹æ€æƒ³çš„ç®—æ³•åº”ç”¨ï¼Œå½’å¹¶æ’åºçš„å®ç°ç”±ä¸¤ç§æ–¹æ³•ï¼š</p><ol><li><p>è‡ªä¸Šè€Œä¸‹çš„é€’å½’ï¼ˆæ‰€æœ‰é€’å½’çš„æ–¹æ³•éƒ½å¯ä»¥ç”¨è¿­ä»£é‡å†™ï¼Œæ‰€ä»¥å°±æœ‰äº†ç¬¬ 2 ç§æ–¹æ³•ï¼‰ï¼›</p></li><li><p>è‡ªä¸‹è€Œä¸Šçš„è¿­ä»£ï¼›</p></li></ol><h2 id="ç®—æ³•æ­¥éª¤"><a href="#ç®—æ³•æ­¥éª¤" class="headerlink" title="ç®—æ³•æ­¥éª¤"></a>ç®—æ³•æ­¥éª¤</h2><ol><li><p>ç”³è¯·ç©ºé—´ï¼Œä½¿å…¶å¤§å°ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—ä¹‹å’Œï¼Œè¯¥ç©ºé—´ç”¨æ¥å­˜æ”¾åˆå¹¶åçš„åºåˆ—ï¼›</p></li><li><p>è®¾å®šä¸¤ä¸ªæŒ‡é’ˆï¼Œæœ€åˆä½ç½®åˆ†åˆ«ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼›</p></li><li><p>æ¯”è¾ƒä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œé€‰æ‹©ç›¸å¯¹å°çš„å…ƒç´ æ”¾å…¥åˆ°åˆå¹¶ç©ºé—´ï¼Œå¹¶ç§»åŠ¨æŒ‡é’ˆåˆ°ä¸‹ä¸€ä½ç½®ï¼›</p></li><li><p>é‡å¤æ­¥éª¤ 3 ç›´åˆ°æŸä¸€æŒ‡é’ˆè¾¾åˆ°åºåˆ—å°¾ï¼›</p></li><li><p>å°†å¦ä¸€åºåˆ—å‰©ä¸‹çš„æ‰€æœ‰å…ƒç´ ç›´æ¥å¤åˆ¶åˆ°åˆå¹¶åºåˆ—å°¾ã€‚</p></li></ol><h1 id="è§£ç­”ä¸€ï¼šå½’å¹¶æ’åºï¼ˆé€’å½’æ³•ï¼‰"><a href="#è§£ç­”ä¸€ï¼šå½’å¹¶æ’åºï¼ˆé€’å½’æ³•ï¼‰" class="headerlink" title="è§£ç­”ä¸€ï¼šå½’å¹¶æ’åºï¼ˆé€’å½’æ³•ï¼‰"></a>è§£ç­”ä¸€ï¼šå½’å¹¶æ’åºï¼ˆé€’å½’æ³•ï¼‰</h1><ul><li><p>é¢˜ç›®è¦æ±‚æ—¶é—´ç©ºé—´å¤æ‚åº¦åˆ†åˆ«ä¸º<em>O(nlogn)</em>å’Œ<em>O(1)</em>ï¼Œæ ¹æ®æ—¶é—´å¤æ‚åº¦æˆ‘ä»¬è‡ªç„¶æƒ³åˆ°äºŒåˆ†æ³•ï¼Œä»è€Œè”æƒ³åˆ°å½’å¹¶æ’åºï¼›</p></li><li><p>å¯¹æ•°ç»„åšå½’å¹¶æ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n)</em>ï¼Œåˆ†åˆ«ç”±æ–°å¼€è¾Ÿæ•°ç»„<em>O(n)</em>å’Œé€’å½’å‡½æ•°è°ƒç”¨<em>O(logn)</em>ç»„æˆï¼Œè€Œæ ¹æ®é“¾è¡¨ç‰¹æ€§ï¼š</p><ul><li>æ•°ç»„é¢å¤–ç©ºé—´ï¼šé“¾è¡¨å¯ä»¥é€šè¿‡ä¿®æ”¹å¼•ç”¨æ¥æ›´æ”¹èŠ‚ç‚¹é¡ºåºï¼Œæ— éœ€åƒæ•°ç»„ä¸€æ ·å¼€è¾Ÿé¢å¤–ç©ºé—´ï¼›</li><li>é€’å½’é¢å¤–ç©ºé—´ï¼šé€’å½’è°ƒç”¨å‡½æ•°å°†å¸¦æ¥<em>O(logn)</em>çš„ç©ºé—´å¤æ‚åº¦ï¼Œå› æ­¤è‹¥å¸Œæœ›è¾¾åˆ°<em>O(1)</em>ç©ºé—´å¤æ‚åº¦ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨é€’å½’ã€‚</li></ul></li><li><p>é€šè¿‡é€’å½’å®ç°é“¾è¡¨å½’å¹¶æ’åºï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªç¯èŠ‚ï¼š</p><ul><li><strong>åˆ†å‰² cut ç¯èŠ‚ï¼š</strong> æ‰¾åˆ°å½“å‰é“¾è¡¨<code>ä¸­ç‚¹</code>ï¼Œå¹¶ä»<code>ä¸­ç‚¹</code>å°†é“¾è¡¨æ–­å¼€ï¼ˆä»¥ä¾¿åœ¨ä¸‹æ¬¡é€’å½’ <code>cut</code> æ—¶ï¼Œé“¾è¡¨ç‰‡æ®µæ‹¥æœ‰æ­£ç¡®è¾¹ç•Œï¼‰ï¼›<ul><li>æˆ‘ä»¬ä½¿ç”¨ <code>fast,slow</code> å¿«æ…¢åŒæŒ‡é’ˆæ³•ï¼Œå¥‡æ•°ä¸ªèŠ‚ç‚¹æ‰¾åˆ°ä¸­ç‚¹ï¼Œå¶æ•°ä¸ªèŠ‚ç‚¹æ‰¾åˆ°ä¸­å¿ƒå·¦è¾¹çš„èŠ‚ç‚¹ã€‚</li><li>æ‰¾åˆ°ä¸­ç‚¹ <code>slow</code> åï¼Œæ‰§è¡Œ <code>slow.next = None</code> å°†é“¾è¡¨åˆ‡æ–­ã€‚</li><li>é€’å½’åˆ†å‰²æ—¶ï¼Œè¾“å…¥å½“å‰é“¾è¡¨å·¦ç«¯ç‚¹ <code>head</code> å’Œä¸­å¿ƒèŠ‚ç‚¹ <code>slow</code> çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ <code>tmp</code>(å› ä¸ºé“¾è¡¨æ˜¯ä» <code>slow</code> åˆ‡æ–­çš„)ã€‚</li><li><strong>cut é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼š</strong> å½“<code>head.next == None</code>æ—¶ï¼Œè¯´æ˜åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹äº†ï¼Œç›´æ¥è¿”å›æ­¤èŠ‚ç‚¹ã€‚</li></ul></li><li><strong>åˆå¹¶ merge ç¯èŠ‚ï¼š</strong> å°†ä¸¤ä¸ªæ’åºé“¾è¡¨åˆå¹¶ï¼Œè½¬åŒ–ä¸ºä¸€ä¸ªæ’åºé“¾è¡¨ã€‚<ul><li>åŒæŒ‡é’ˆæ³•åˆå¹¶ï¼Œå»ºç«‹è¾…åŠ©ListNode <code>h</code> ä½œä¸ºå¤´éƒ¨ã€‚</li><li>è®¾ç½®ä¸¤æŒ‡é’ˆ <code>left</code>, <code>right</code> åˆ†åˆ«æŒ‡å‘ä¸¤é“¾è¡¨å¤´éƒ¨ï¼Œæ¯”è¾ƒä¸¤æŒ‡é’ˆå¤„èŠ‚ç‚¹å€¼å¤§å°ï¼Œç”±å°åˆ°å¤§åŠ å…¥åˆå¹¶é“¾è¡¨å¤´éƒ¨ï¼ŒæŒ‡é’ˆäº¤æ›¿å‰è¿›ï¼Œç›´è‡³æ·»åŠ å®Œä¸¤ä¸ªé“¾è¡¨ã€‚</li><li>è¿”å›è¾…åŠ©ListNode <code>h</code> ä½œä¸ºå¤´éƒ¨çš„ä¸‹ä¸ªèŠ‚ç‚¹ <code>h.next</code>ã€‚</li><li>æ—¶é—´å¤æ‚åº¦ <code>O(l + r)</code>ï¼Œ<code>l, r</code> åˆ†åˆ«ä»£è¡¨ä¸¤ä¸ªé“¾è¡¨é•¿åº¦ã€‚ </li></ul></li><li>å½“é¢˜ç›®è¾“å…¥çš„ <code>head == None</code> æ—¶ï¼Œç›´æ¥è¿”å›Noneã€‚</li></ul></li></ul><p><img src="https://pic.leetcode-cn.com/8c47e58b6247676f3ef14e617a4686bc258cc573e36fcf67c1b0712fa7ed1699-Picture2.png" alt="Picture2.png"></p><details>    <summary>å½’å¹¶æ’åºï¼ˆé€’å½’æ³•ï¼‰python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sortList</span><span class="params">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head <span class="keyword">or</span> <span class="keyword">not</span> head.next: <span class="keyword">return</span> head <span class="comment"># termination.</span></span><br><span class="line">        <span class="comment"># cut the LinkedList at the mid index.</span></span><br><span class="line">        slow, fast = head, head.next</span><br><span class="line">        <span class="keyword">while</span> fast <span class="keyword">and</span> fast.next:</span><br><span class="line">            fast, slow = fast.next.next, slow.next</span><br><span class="line">        mid, slow.next = slow.next, <span class="keyword">None</span> <span class="comment"># save and cut.</span></span><br><span class="line">        <span class="comment"># recursive for cutting.</span></span><br><span class="line">        left, right = self.sortList(head), self.sortList(mid)</span><br><span class="line">        <span class="comment"># merge `left` and `right` linked list and return it.</span></span><br><span class="line">        h = res = ListNode(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">while</span> left <span class="keyword">and</span> right:</span><br><span class="line">            <span class="keyword">if</span> left.val &lt; right.val: h.next, left = left, left.next</span><br><span class="line">            <span class="keyword">else</span>: h.next, right = right, right.next</span><br><span class="line">            h = h.next</span><br><span class="line">        h.next = left <span class="keyword">if</span> left <span class="keyword">else</span> right</span><br><span class="line">        <span class="keyword">return</span> res.next</span><br></pre></td></tr></table></figure></details><details>    <summary>å½’å¹¶æ’åºï¼ˆé€’å½’æ³•ï¼‰java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">sortList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//åˆ†å‰² cut ç¯èŠ‚ï¼š æ‰¾åˆ°å½“å‰é“¾è¡¨ä¸­ç‚¹ï¼Œå¹¶ä»ä¸­ç‚¹å°†é“¾è¡¨æ–­å¼€ï¼ˆä»¥ä¾¿åœ¨ä¸‹æ¬¡é€’å½’ cut æ—¶ï¼Œé“¾è¡¨ç‰‡æ®µæ‹¥æœ‰æ­£ç¡®è¾¹ç•Œï¼‰ï¼›</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//cut é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼š å½“head.next == Noneæ—¶ï¼Œè¯´æ˜åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹äº†ï¼Œç›´æ¥è¿”å›æ­¤èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä½¿ç”¨ fast,slow å¿«æ…¢åŒæŒ‡é’ˆæ³•ï¼Œå¥‡æ•°ä¸ªèŠ‚ç‚¹æ‰¾åˆ°ä¸­ç‚¹ï¼Œå¶æ•°ä¸ªèŠ‚ç‚¹æ‰¾åˆ°ä¸­å¿ƒå·¦è¾¹çš„èŠ‚ç‚¹</span></span><br><span class="line">        ListNode fast=head.next,slow=head;</span><br><span class="line">        <span class="keyword">while</span> (fast != <span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            slow=slow.next;</span><br><span class="line">            fast=fast.next.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ‰¾åˆ°ä¸­ç‚¹ slow åï¼Œæ‰§è¡Œ slow.next = None å°†é“¾è¡¨åˆ‡æ–­</span></span><br><span class="line">        ListNode tmp=slow.next;</span><br><span class="line">        slow.next=<span class="keyword">null</span>;</span><br><span class="line">        <span class="comment">//é€’å½’åˆ†å‰²æ—¶ï¼Œè¾“å…¥å½“å‰é“¾è¡¨å·¦ç«¯ç‚¹ head å’Œä¸­å¿ƒèŠ‚ç‚¹ slow çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ tmp</span></span><br><span class="line">        ListNode left = sortList(head);</span><br><span class="line">        ListNode right = sortList(tmp);</span><br><span class="line">        <span class="comment">//åˆå¹¶ merge ç¯èŠ‚ï¼š å°†ä¸¤ä¸ªæ’åºé“¾è¡¨åˆå¹¶ï¼Œè½¬åŒ–ä¸ºä¸€ä¸ªæ’åºé“¾è¡¨ã€‚</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//åŒæŒ‡é’ˆæ³•åˆå¹¶ï¼Œå»ºç«‹è¾…åŠ©ListNode h ä½œä¸ºå¤´éƒ¨ã€‚</span></span><br><span class="line">        ListNode h = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">        ListNode res=h;</span><br><span class="line">        <span class="comment">//è®¾ç½®ä¸¤æŒ‡é’ˆ left, right åˆ†åˆ«æŒ‡å‘ä¸¤é“¾è¡¨å¤´éƒ¨ï¼Œæ¯”è¾ƒä¸¤æŒ‡é’ˆå¤„èŠ‚ç‚¹å€¼å¤§å°ï¼Œç”±å°åˆ°å¤§åŠ å…¥åˆå¹¶é“¾è¡¨å¤´éƒ¨ï¼ŒæŒ‡é’ˆäº¤æ›¿å‰è¿›ï¼Œç›´è‡³æ·»åŠ å®Œä¸¤ä¸ªé“¾è¡¨ã€‚</span></span><br><span class="line">        <span class="keyword">while</span> (left != <span class="keyword">null</span> &amp;&amp; right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (left.val &lt; right.val) &#123;</span><br><span class="line">                h.next = left;</span><br><span class="line">                left = left.next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                h.next=right;</span><br><span class="line">                right=right.next;</span><br><span class="line">            &#125;</span><br><span class="line">            h = h.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è¿”å›è¾…åŠ©ListNode h ä½œä¸ºå¤´éƒ¨çš„ä¸‹ä¸ªèŠ‚ç‚¹ h.nextã€‚</span></span><br><span class="line">        h.next=(left !=<span class="keyword">null</span>) ? left:right;</span><br><span class="line">        <span class="keyword">return</span> res.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="è§£ç­”äºŒï¼šå½’å¹¶æ’åºï¼ˆä»åº•è‡³é¡¶ç›´æ¥åˆå¹¶ï¼‰"><a href="#è§£ç­”äºŒï¼šå½’å¹¶æ’åºï¼ˆä»åº•è‡³é¡¶ç›´æ¥åˆå¹¶ï¼‰" class="headerlink" title="è§£ç­”äºŒï¼šå½’å¹¶æ’åºï¼ˆä»åº•è‡³é¡¶ç›´æ¥åˆå¹¶ï¼‰"></a>è§£ç­”äºŒï¼šå½’å¹¶æ’åºï¼ˆä»åº•è‡³é¡¶ç›´æ¥åˆå¹¶ï¼‰</h1><ul><li>å¯¹äºéé€’å½’çš„å½’å¹¶æ’åºï¼Œéœ€è¦ä½¿ç”¨è¿­ä»£çš„æ–¹å¼æ›¿æ¢<code>cut</code>ç¯èŠ‚ï¼š<ul><li>æˆ‘ä»¬çŸ¥é“ï¼Œ<code>cut</code>ç¯èŠ‚æœ¬è´¨ä¸Šæ˜¯é€šè¿‡äºŒåˆ†æ³•å¾—åˆ°é“¾è¡¨æœ€å°èŠ‚ç‚¹å•å…ƒï¼Œå†é€šè¿‡å¤šè½®åˆå¹¶å¾—åˆ°æ’åºç»“æœã€‚</li><li>æ¯ä¸€è½®åˆå¹¶<code>merge</code>æ“ä½œé’ˆå¯¹çš„å•å…ƒéƒ½æœ‰å›ºå®šé•¿åº¦<code>intv</code>ï¼Œä¾‹å¦‚ï¼š<ul><li>ç¬¬ä¸€è½®åˆå¹¶æ—¶<code>intv = 1</code>ï¼Œå³å°†æ•´ä¸ªé“¾è¡¨åˆ‡åˆ†ä¸ºå¤šä¸ªé•¿åº¦ä¸º1çš„å•å…ƒï¼Œå¹¶æŒ‰é¡ºåºä¸¤ä¸¤æ’åºåˆå¹¶ï¼Œåˆå¹¶å®Œæˆçš„å·²æ’åºå•å…ƒé•¿åº¦ä¸º2ã€‚</li><li>ç¬¬äºŒè½®åˆå¹¶æ—¶<code>intv = 2</code>ï¼Œå³å°†æ•´ä¸ªé“¾è¡¨åˆ‡åˆ†ä¸ºå¤šä¸ªé•¿åº¦ä¸º2çš„å•å…ƒï¼Œå¹¶æŒ‰é¡ºåºä¸¤ä¸¤æ’åºåˆå¹¶ï¼Œåˆå¹¶å®Œæˆå·²æ’åºå•å…ƒé•¿åº¦ä¸º4ã€‚</li><li>ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°å•å…ƒé•¿åº¦<code>intv &gt;= é“¾è¡¨é•¿åº¦</code>ï¼Œä»£è¡¨å·²ç»æ’åºå®Œæˆã€‚</li></ul></li><li>æ ¹æ®ä»¥ä¸Šæ¨è®ºï¼Œæˆ‘ä»¬å¯ä»¥ä»…æ ¹æ®<code>intv</code>è®¡ç®—æ¯ä¸ªå•å…ƒè¾¹ç•Œï¼Œå¹¶å®Œæˆé“¾è¡¨çš„æ¯è½®æ’åºåˆå¹¶ï¼Œä¾‹å¦‚:<ul><li>å½“<code>intv = 1</code>æ—¶ï¼Œå°†é“¾è¡¨ç¬¬<code>1</code>å’Œç¬¬<code>2</code>èŠ‚ç‚¹æ’åºåˆå¹¶ï¼Œç¬¬<code>3</code>å’Œç¬¬<code>4</code>èŠ‚ç‚¹æ’åºåˆå¹¶ï¼Œâ€¦â€¦ã€‚</li><li>å½“<code>intv = 2</code>æ—¶ï¼Œå°†é“¾è¡¨ç¬¬<code>1-2</code>å’Œç¬¬<code>3-4</code>èŠ‚ç‚¹æ’åºåˆå¹¶ï¼Œç¬¬<code>5-6</code>å’Œç¬¬<code>7-8</code>èŠ‚ç‚¹æ’åºåˆå¹¶ï¼Œâ€¦â€¦ã€‚</li><li>å½“<code>intv = 4</code>æ—¶ï¼Œå°†é“¾è¡¨ç¬¬<code>1-4</code>å’Œç¬¬<code>5-8</code>èŠ‚ç‚¹æ’åºåˆå¹¶ï¼Œç¬¬<code>9-12</code>å’Œç¬¬<code>13-16</code>èŠ‚ç‚¹æ’åºåˆå¹¶ï¼Œâ€¦â€¦ã€‚</li></ul></li></ul></li><li>æ­¤æ–¹æ³•æ—¶é—´å¤æ‚åº¦<em>O(nlogn)</em>ï¼Œç©ºé—´å¤æ‚åº¦<em>O(1)</em>ã€‚</li></ul><p><img src="https://pic.leetcode-cn.com/c1d5347aa56648afdec22372ee0ed13cf4c25347bd2bb9727b09327ce04360c2-Picture1.png" alt="Picture1.png"></p><ul><li>æ¨¡æ‹Ÿä¸Šè¿°çš„å¤šè½®æ’åºåˆå¹¶ï¼š<ul><li>ç»Ÿè®¡é“¾è¡¨é•¿åº¦<code>length</code>ï¼Œç”¨äºé€šè¿‡åˆ¤æ–­<code>intv &lt; length</code>åˆ¤å®šæ˜¯å¦å®Œæˆæ’åºï¼›</li><li>é¢å¤–å£°æ˜ä¸€ä¸ªèŠ‚ç‚¹<code>res</code>ï¼Œä½œä¸ºå¤´éƒ¨åé¢æ¥æ•´ä¸ªé“¾è¡¨ï¼Œç”¨äºï¼š<ul><li><code>intv *= 2</code>å³åˆ‡æ¢åˆ°ä¸‹ä¸€è½®åˆå¹¶æ—¶ï¼Œå¯é€šè¿‡<code>res.next</code>æ‰¾åˆ°é“¾è¡¨å¤´éƒ¨<code>h</code>ï¼›</li><li>æ‰§è¡Œæ’åºåˆå¹¶æ—¶ï¼Œéœ€è¦ä¸€ä¸ªè¾…åŠ©èŠ‚ç‚¹ä½œä¸ºå¤´éƒ¨ï¼Œè€Œ<code>res</code>åˆ™ä½œä¸ºé“¾è¡¨å¤´éƒ¨æ’åºåˆå¹¶æ—¶çš„è¾…åŠ©å¤´éƒ¨<code>pre</code>ï¼›åé¢çš„åˆå¹¶æ’åºå¯ä»¥å°†ä¸Šæ¬¡åˆå¹¶æ’åºçš„å°¾éƒ¨<code>tail</code>ç”¨åšè¾…åŠ©èŠ‚ç‚¹ã€‚</li></ul></li><li>åœ¨æ¯è½®<code>intv</code>ä¸‹çš„åˆå¹¶æµç¨‹ï¼š<ol><li>æ ¹æ®<code>intv</code>æ‰¾åˆ°åˆå¹¶å•å…ƒ1å’Œå•å…ƒ2çš„å¤´éƒ¨<code>h1</code>, <code>h2</code>ã€‚ç”±äºé“¾è¡¨é•¿åº¦å¯èƒ½ä¸æ˜¯<code>2^n</code>ï¼Œéœ€è¦è€ƒè™‘è¾¹ç•Œæ¡ä»¶ï¼š<ul><li>åœ¨æ‰¾<code>h2</code>è¿‡ç¨‹ä¸­ï¼Œå¦‚æœé“¾è¡¨å‰©ä½™å…ƒç´ ä¸ªæ•°å°‘äº<code>intv</code>ï¼Œåˆ™æ— éœ€åˆå¹¶ç¯èŠ‚ï¼Œç›´æ¥<code>break</code>ï¼Œæ‰§è¡Œä¸‹ä¸€è½®åˆå¹¶ï¼›</li><li>è‹¥<code>h2</code>å­˜åœ¨ï¼Œä½†ä»¥<code>h2</code>ä¸ºå¤´éƒ¨çš„å‰©ä½™å…ƒç´ ä¸ªæ•°å°‘äº<code>intv</code>ï¼Œä¹Ÿæ‰§è¡Œåˆå¹¶ç¯èŠ‚ï¼Œ<code>h2</code>å•å…ƒçš„é•¿åº¦ä¸º<code>c2 = intv - i</code>ã€‚</li></ul></li><li>åˆå¹¶é•¿åº¦ä¸º<code>c1, c2</code>çš„<code>h1, h2</code>é“¾è¡¨ï¼Œå…¶ä¸­ï¼š<ul><li>åˆå¹¶å®Œåï¼Œéœ€è¦ä¿®æ”¹æ–°çš„åˆå¹¶å•å…ƒçš„å°¾éƒ¨<code>pre</code>æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªåˆå¹¶å•å…ƒå¤´éƒ¨<code>h</code>ã€‚ï¼ˆåœ¨å¯»æ‰¾<code>h1, h2</code>ç¯èŠ‚ä¸­ï¼ŒhæŒ‡é’ˆå·²ç»è¢«ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå•å…ƒå¤´éƒ¨ï¼‰</li><li>åˆå¹¶å•å…ƒå°¾éƒ¨åŒæ—¶ä¹Ÿä½œä¸ºä¸‹æ¬¡åˆå¹¶çš„è¾…åŠ©å¤´éƒ¨<code>pre</code>ã€‚</li></ul></li><li>å½“<code>h == None</code>ï¼Œä»£è¡¨æ­¤è½®<code>intv</code>åˆå¹¶å®Œæˆï¼Œè·³å‡ºã€‚</li></ol></li><li>æ¯è½®åˆå¹¶å®Œæˆåå°†å•å…ƒé•¿åº¦Ã—2ï¼Œåˆ‡æ¢åˆ°ä¸‹è½®åˆå¹¶ï¼š<code>intv *= 2</code>ã€‚<details><summary>å½’å¹¶æ’åºï¼ˆä»åº•è‡³é¡¶ç›´æ¥åˆå¹¶) python</summary></details></li></ul></li></ul><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sortList</span><span class="params">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">        h, length, intv = head, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> h: h, length = h.next, length + <span class="number">1</span></span><br><span class="line">        res = ListNode(<span class="number">0</span>)</span><br><span class="line">        res.next = head</span><br><span class="line">        <span class="comment"># merge the list in different intv.</span></span><br><span class="line">        <span class="keyword">while</span> intv &lt; length:</span><br><span class="line">            pre, h = res, res.next</span><br><span class="line">            <span class="keyword">while</span> h:</span><br><span class="line">                <span class="comment"># get the two merge head `h1`, `h2`</span></span><br><span class="line">                h1, i = h, intv</span><br><span class="line">                <span class="keyword">while</span> i <span class="keyword">and</span> h: h, i = h.next, i - <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> i: <span class="keyword">break</span> <span class="comment"># no need to merge because the `h2` is None.</span></span><br><span class="line">                h2, i = h, intv</span><br><span class="line">                <span class="keyword">while</span> i <span class="keyword">and</span> h: h, i = h.next, i - <span class="number">1</span></span><br><span class="line">                c1, c2 = intv, intv - i <span class="comment"># the `c2`: length of `h2` can be small than the `intv`.</span></span><br><span class="line">                <span class="comment"># merge the `h1` and `h2`.</span></span><br><span class="line">                <span class="keyword">while</span> c1 <span class="keyword">and</span> c2:</span><br><span class="line">                    <span class="keyword">if</span> h1.val &lt; h2.val: pre.next, h1, c1 = h1, h1.next, c1 - <span class="number">1</span></span><br><span class="line">                    <span class="keyword">else</span>: pre.next, h2, c2 = h2, h2.next, c2 - <span class="number">1</span></span><br><span class="line">                    pre = pre.next</span><br><span class="line">                pre.next = h1 <span class="keyword">if</span> c1 <span class="keyword">else</span> h2</span><br><span class="line">                <span class="keyword">while</span> c1 &gt; <span class="number">0</span> <span class="keyword">or</span> c2 &gt; <span class="number">0</span>: pre, c1, c2 = pre.next, c1 - <span class="number">1</span>, c2 - <span class="number">1</span></span><br><span class="line">                pre.next = h </span><br><span class="line">            intv *= <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> res.next</span><br></pre></td></tr></table></figure><details>    <summary>å½’å¹¶æ’åºï¼ˆä»åº•è‡³é¡¶ç›´æ¥åˆå¹¶ï¼‰java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">sortList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        æ¨¡æ‹Ÿä¸Šè¿°çš„å¤šè½®æ’åºåˆå¹¶ï¼š</span></span><br><span class="line"><span class="comment">//        ç»Ÿè®¡é“¾è¡¨é•¿åº¦lengthï¼Œç”¨äºé€šè¿‡åˆ¤æ–­intv &lt; lengthåˆ¤å®šæ˜¯å¦å®Œæˆæ’åºï¼›</span></span><br><span class="line">        ListNode h,h1,h2,pre,res;</span><br><span class="line">        h=head;</span><br><span class="line">        <span class="keyword">int</span> length=<span class="number">0</span>,intv=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (h != <span class="keyword">null</span>) &#123;</span><br><span class="line">            h=h.next;</span><br><span class="line">            length++;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        é¢å¤–å£°æ˜ä¸€ä¸ªèŠ‚ç‚¹resï¼Œä½œä¸ºå¤´éƒ¨åé¢æ¥æ•´ä¸ªé“¾è¡¨ï¼Œç”¨äºï¼š</span></span><br><span class="line">        res = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">        res.next=head;</span><br><span class="line"><span class="comment">//        intv *= 2å³åˆ‡æ¢åˆ°ä¸‹ä¸€è½®åˆå¹¶æ—¶ï¼Œå¯é€šè¿‡res.nextæ‰¾åˆ°é“¾è¡¨å¤´éƒ¨hï¼›</span></span><br><span class="line"><span class="comment">//        æ‰§è¡Œæ’åºåˆå¹¶æ—¶ï¼Œéœ€è¦ä¸€ä¸ªè¾…åŠ©èŠ‚ç‚¹ä½œä¸ºå¤´éƒ¨ï¼Œè€Œresåˆ™ä½œä¸ºé“¾è¡¨å¤´éƒ¨æ’åºåˆå¹¶æ—¶çš„è¾…åŠ©å¤´éƒ¨preï¼›åé¢çš„åˆå¹¶æ’åºå¯ä»¥å°†ä¸Šæ¬¡åˆå¹¶æ’åºçš„å°¾éƒ¨tailç”¨åšè¾…åŠ©èŠ‚ç‚¹ã€‚</span></span><br><span class="line">        <span class="keyword">while</span> (intv &lt; length) &#123;</span><br><span class="line">            pre = res;</span><br><span class="line">            h = res.next;</span><br><span class="line"><span class="comment">//        åœ¨æ¯è½®intvä¸‹çš„åˆå¹¶æµç¨‹ï¼š</span></span><br><span class="line"><span class="comment">//        a. æ ¹æ®intvæ‰¾åˆ°åˆå¹¶å•å…ƒ1å’Œå•å…ƒ2çš„å¤´éƒ¨h1, h2ã€‚ç”±äºé“¾è¡¨é•¿åº¦å¯èƒ½ä¸æ˜¯2^nï¼Œéœ€è¦è€ƒè™‘è¾¹ç•Œæ¡ä»¶ï¼š</span></span><br><span class="line">            <span class="keyword">while</span> (h != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">int</span> i = intv;</span><br><span class="line">                h1 = h;</span><br><span class="line">                <span class="keyword">while</span> (i &gt; <span class="number">0</span> &amp;&amp; h != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    h = h.next;</span><br><span class="line">                    i--;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="comment">//              åœ¨æ‰¾h2è¿‡ç¨‹ä¸­ï¼Œå¦‚æœé“¾è¡¨å‰©ä½™å…ƒç´ ä¸ªæ•°å°‘äºintvï¼Œåˆ™æ— éœ€åˆå¹¶ç¯èŠ‚ï¼Œç›´æ¥breakï¼Œæ‰§è¡Œä¸‹ä¸€è½®åˆå¹¶ï¼›</span></span><br><span class="line">                <span class="keyword">if</span> (i &gt; <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">                i = intv;</span><br><span class="line">                h2 = h;</span><br><span class="line">                <span class="keyword">while</span> (i &gt; <span class="number">0</span> &amp;&amp; h != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    h = h.next;</span><br><span class="line">                    i--;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="comment">//        è‹¥h2å­˜åœ¨ï¼Œä½†ä»¥h2ä¸ºå¤´éƒ¨çš„å‰©ä½™å…ƒç´ ä¸ªæ•°å°‘äºintvï¼Œä¹Ÿæ‰§è¡Œåˆå¹¶ç¯èŠ‚ï¼Œh2å•å…ƒçš„é•¿åº¦ä¸ºc2 = intv - iã€‚</span></span><br><span class="line">                <span class="keyword">int</span> c1 = intv, c2 = intv - i;</span><br><span class="line"><span class="comment">//        b. åˆå¹¶é•¿åº¦ä¸ºc1, c2çš„h1, h2é“¾è¡¨ï¼Œå…¶ä¸­ï¼š</span></span><br><span class="line">                <span class="keyword">while</span> (c1 &gt; <span class="number">0</span> &amp;&amp; c2 &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (h1.val &lt; h2.val) &#123;</span><br><span class="line">                        pre.next = h1;</span><br><span class="line">                        h1 = h1.next;</span><br><span class="line">                        c1--;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        pre.next = h2;</span><br><span class="line">                        h2 = h2.next;</span><br><span class="line">                        c2--;</span><br><span class="line">                    &#125;</span><br><span class="line">                    pre = pre.next;</span><br><span class="line">                &#125;</span><br><span class="line">                pre.next = c1 == <span class="number">0</span> ? h2 : h1;</span><br><span class="line">                <span class="keyword">while</span> (c1 &gt; <span class="number">0</span> || c2 &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    pre = pre.next;</span><br><span class="line">                    c1--;</span><br><span class="line">                    c2--;</span><br><span class="line">                &#125;</span><br><span class="line"><span class="comment">//        åˆå¹¶å®Œåï¼Œéœ€è¦ä¿®æ”¹æ–°çš„åˆå¹¶å•å…ƒçš„å°¾éƒ¨preæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªåˆå¹¶å•å…ƒå¤´éƒ¨hã€‚ï¼ˆåœ¨å¯»æ‰¾h1, h2ç¯èŠ‚ä¸­ï¼ŒhæŒ‡é’ˆå·²ç»è¢«ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå•å…ƒå¤´éƒ¨ï¼‰</span></span><br><span class="line"><span class="comment">//        åˆå¹¶å•å…ƒå°¾éƒ¨åŒæ—¶ä¹Ÿä½œä¸ºä¸‹æ¬¡åˆå¹¶çš„è¾…åŠ©å¤´éƒ¨preã€‚</span></span><br><span class="line">                pre.next = h;</span><br><span class="line"><span class="comment">//        c. å½“h == Noneï¼Œä»£è¡¨æ­¤è½®intvåˆå¹¶å®Œæˆï¼Œè·³å‡ºã€‚</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//        æ¯è½®åˆå¹¶å®Œæˆåå°†å•å…ƒé•¿åº¦Ã—2ï¼Œåˆ‡æ¢åˆ°ä¸‹è½®åˆå¹¶ï¼šintv *= 2ã€‚</span></span><br><span class="line">            intv *= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨O(nlogn) æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°çº§ç©ºé—´å¤æ‚åº¦ä¸‹ï¼Œå¯¹é“¾è¡¨è¿›è¡Œæ’åºã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´7æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B47%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
      <category term="Sort" scheme="http://yoursite.com/tags/Sort/"/>
    
  </entry>
  
  <entry>
    <title>141. ç¯å½¢é“¾è¡¨</title>
    <link href="http://yoursite.com/2020/07/24/141.%20%E7%8E%AF%E5%BD%A2%E9%93%BE%E8%A1%A8/"/>
    <id>http://yoursite.com/2020/07/24/141. ç¯å½¢é“¾è¡¨/</id>
    <published>2020-07-24T07:22:12.000Z</published>
    <updated>2020-07-25T10:07:47.894Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚</p><a id="more"></a><p>è¿™é“é¢˜ååˆ†ç»å…¸ï¼Œå¿«æ…¢æŒ‡é’ˆè¿™ç§è§£æ³•åº”è¯¥æ˜¯è€³ç†Ÿèƒ½è¯¦ï¼Œè®°å¾—é¢è¯•å¤´æ¡æ—¶ä¸‰é¢æ—¶è¢«é—®åˆ°æœ‰æ²¡æœ‰æ¯”å¿«æ…¢æŒ‡é’ˆæ›´å¥½çš„åŠæ³•æˆ–æ”¹è¿›æ–¹æ³•ï¼Œå½“æ—¶æƒ³äº†åŠå¤©æ²¡æƒ³åˆ°é€’å½’çš„æ–¹æ³•ï¼Œç°åœ¨è¡¥å……åˆ°é¢˜è§£ä¸­ã€‚</p><p>ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ pos æ˜¯ -1ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1è¾“å‡ºï¼štrueè§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šhead = [1,2], pos = 0è¾“å‡ºï¼štrueè§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šhead = [1], pos = -1è¾“å‡ºï¼šfalseè§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚</code></pre><p>è¿›é˜¶ï¼š</p><pre><code>ä½ èƒ½ç”¨ O(1)ï¼ˆå³ï¼Œå¸¸é‡ï¼‰å†…å­˜è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ</code></pre><hr><h1 id="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨"><a href="#æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨"></a>æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</h1><p><strong>æ€è·¯</strong></p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ£€æŸ¥ä¸€ä¸ªç»“ç‚¹æ­¤å‰æ˜¯å¦è¢«è®¿é—®è¿‡æ¥åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç¯å½¢é“¾è¡¨ã€‚å¸¸ç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨å“ˆå¸Œè¡¨ã€‚</p><p><strong>ç®—æ³•</strong></p><p>æˆ‘ä»¬éå†æ‰€æœ‰ç»“ç‚¹å¹¶åœ¨å“ˆå¸Œè¡¨ä¸­å­˜å‚¨æ¯ä¸ªç»“ç‚¹çš„å¼•ç”¨ï¼ˆæˆ–å†…å­˜åœ°å€ï¼‰ã€‚å¦‚æœå½“å‰ç»“ç‚¹ä¸ºç©ºç»“ç‚¹ <code>null</code>ï¼ˆå³å·²æ£€æµ‹åˆ°é“¾è¡¨å°¾éƒ¨çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å·²ç»éå†å®Œæ•´ä¸ªé“¾è¡¨ï¼Œå¹¶ä¸”è¯¥é“¾è¡¨ä¸æ˜¯ç¯å½¢é“¾è¡¨ã€‚å¦‚æœå½“å‰ç»“ç‚¹çš„å¼•ç”¨å·²ç»å­˜åœ¨äºå“ˆå¸Œè¡¨ä¸­ï¼Œé‚£ä¹ˆè¿”å› <code>true</code>ï¼ˆå³è¯¥é“¾è¡¨ä¸ºç¯å½¢é“¾è¡¨ï¼‰ã€‚</p><details>    <summary>å“ˆå¸Œè¡¨Java</summary><figure class="highlight java"><figcaption><span>[SiMGFWod-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    Set&lt;ListNode&gt; nodesSeen = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nodesSeen.contains(head)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            nodesSeen.add(head);</span><br><span class="line">        &#125;</span><br><span class="line">        head = head.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œå¯¹äºå«æœ‰ *n</em> ä¸ªå…ƒç´ çš„é“¾è¡¨ï¼Œæˆ‘ä»¬è®¿é—®æ¯ä¸ªå…ƒç´ æœ€å¤šä¸€æ¬¡ã€‚æ·»åŠ ä¸€ä¸ªç»“ç‚¹åˆ°å“ˆå¸Œè¡¨ä¸­åªéœ€è¦èŠ±è´¹ <em>O(1)</em> çš„æ—¶é—´ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œç©ºé—´å–å†³äºæ·»åŠ åˆ°å“ˆå¸Œè¡¨ä¸­çš„å…ƒç´ æ•°ç›®ï¼Œæœ€å¤šå¯ä»¥æ·»åŠ  *n</em> ä¸ªå…ƒç´ ã€‚</p></li></ul><hr><h1 id="æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆ"><a href="#æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆ" class="headerlink" title="æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆ"></a>æ–¹æ³•äºŒï¼šåŒæŒ‡é’ˆ</h1><p><strong>æ€è·¯</strong></p><p>æƒ³è±¡ä¸€ä¸‹ï¼Œä¸¤åè¿åŠ¨å‘˜ä»¥ä¸åŒçš„é€Ÿåº¦åœ¨ç¯å½¢èµ›é“ä¸Šè·‘æ­¥ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p><p><strong>ç®—æ³•</strong></p><p>é€šè¿‡ä½¿ç”¨å…·æœ‰ <strong>ä¸åŒé€Ÿåº¦</strong> çš„å¿«ã€æ…¢ä¸¤ä¸ªæŒ‡é’ˆéå†é“¾è¡¨ï¼Œç©ºé—´å¤æ‚åº¦å¯ä»¥è¢«é™ä½è‡³ <em>O(1)</em>ã€‚æ…¢æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸€æ­¥ï¼Œè€Œå¿«æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥ã€‚</p><p>å¦‚æœåˆ—è¡¨ä¸­ä¸å­˜åœ¨ç¯ï¼Œæœ€ç»ˆå¿«æŒ‡é’ˆå°†ä¼šæœ€å…ˆåˆ°è¾¾å°¾éƒ¨ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥è¿”å› <code>false</code>ã€‚</p><p>ç°åœ¨è€ƒè™‘ä¸€ä¸ªç¯å½¢é“¾è¡¨ï¼ŒæŠŠæ…¢æŒ‡é’ˆå’Œå¿«æŒ‡é’ˆæƒ³è±¡æˆä¸¤ä¸ªåœ¨ç¯å½¢èµ›é“ä¸Šè·‘æ­¥çš„è¿åŠ¨å‘˜ï¼ˆåˆ†åˆ«ç§°ä¹‹ä¸ºæ…¢è·‘è€…ä¸å¿«è·‘è€…ï¼‰ã€‚è€Œå¿«è·‘è€…æœ€ç»ˆä¸€å®šä¼šè¿½ä¸Šæ…¢è·‘è€…ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè€ƒè™‘ä¸‹é¢è¿™ç§æƒ…å†µï¼ˆè®°ä½œæƒ…å†µ Aï¼‰- å‡å¦‚å¿«è·‘è€…åªè½åæ…¢è·‘è€…ä¸€æ­¥ï¼Œåœ¨ä¸‹ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œå®ƒä»¬å°±ä¼šåˆ†åˆ«è·‘äº†ä¸€æ­¥æˆ–ä¸¤æ­¥å¹¶ç›¸é‡ã€‚</p><p>å…¶ä»–æƒ…å†µåˆä¼šæ€æ ·å‘¢ï¼Ÿä¾‹å¦‚ï¼Œæˆ‘ä»¬æ²¡æœ‰è€ƒè™‘å¿«è·‘è€…åœ¨æ…¢è·‘è€…ä¹‹åä¸¤æ­¥æˆ–ä¸‰æ­¥çš„æƒ…å†µã€‚ä½†å…¶å®ä¸éš¾æƒ³åˆ°ï¼Œå› ä¸ºåœ¨ä¸‹ä¸€æ¬¡æˆ–è€…ä¸‹ä¸‹æ¬¡è¿­ä»£åï¼Œåˆä¼šå˜æˆä¸Šé¢æåˆ°çš„æƒ…å†µ Aã€‚</p><details>    <summary>åŒæŒ‡é’ˆJava</summary><figure class="highlight java"><figcaption><span>[qdD5r8PV-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode slow = head;</span><br><span class="line">    ListNode fast = head.next;</span><br><span class="line">    <span class="keyword">while</span> (slow != fast) &#123;</span><br><span class="line">        <span class="keyword">if</span> (fast == <span class="keyword">null</span> || fast.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œè®©æˆ‘ä»¬å°† *n</em> è®¾ä¸ºé“¾è¡¨ä¸­ç»“ç‚¹çš„æ€»æ•°ã€‚ä¸ºäº†åˆ†ææ—¶é—´å¤æ‚åº¦ï¼Œæˆ‘ä»¬åˆ†åˆ«è€ƒè™‘ä¸‹é¢ä¸¤ç§æƒ…å†µã€‚</p><ul><li><p><strong><em>é“¾è¡¨ä¸­ä¸å­˜åœ¨ç¯ï¼š</em></strong><br>å¿«æŒ‡é’ˆå°†ä¼šé¦–å…ˆåˆ°è¾¾å°¾éƒ¨ï¼Œå…¶æ—¶é—´å–å†³äºåˆ—è¡¨çš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯ <em>O(n)</em>ã€‚</p></li><li><p><strong><em>é“¾è¡¨ä¸­å­˜åœ¨ç¯ï¼š</em></strong><br>æˆ‘ä»¬å°†æ…¢æŒ‡é’ˆçš„ç§»åŠ¨è¿‡ç¨‹åˆ’åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼šéç¯éƒ¨åˆ†ä¸ç¯å½¢éƒ¨åˆ†ï¼š</p><ol><li><p>æ…¢æŒ‡é’ˆåœ¨èµ°å®Œéç¯éƒ¨åˆ†é˜¶æ®µåå°†è¿›å…¥ç¯å½¢éƒ¨åˆ†ï¼šæ­¤æ—¶ï¼Œå¿«æŒ‡é’ˆå·²ç»è¿›å…¥ç¯ä¸­ <code>è¿­ä»£æ¬¡æ•°=éç¯éƒ¨åˆ†é•¿åº¦=N</code></p></li><li><p>ä¸¤ä¸ªæŒ‡é’ˆéƒ½åœ¨ç¯å½¢åŒºåŸŸä¸­ï¼šè€ƒè™‘ä¸¤ä¸ªåœ¨ç¯å½¢èµ›é“ä¸Šçš„è¿åŠ¨å‘˜ - å¿«è·‘è€…æ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥è€Œæ…¢è·‘è€…æ¯æ¬¡åªç§»åŠ¨ä¸€æ­¥ã€‚å…¶é€Ÿåº¦çš„å·®å€¼ä¸º 1ï¼Œå› æ­¤éœ€è¦ç»è¿‡äºŒè€…ä¹‹é—´è·ç¦»/é€Ÿåº¦å·®å€¼ æ¬¡å¾ªç¯åï¼Œå¿«è·‘è€…å¯ä»¥è¿½ä¸Šæ…¢è·‘è€…ã€‚è¿™ä¸ªè·ç¦»å‡ ä¹å°±æ˜¯ â€œç¯å½¢éƒ¨åˆ†é•¿åº¦ Kâ€â€ ä¸”é€Ÿåº¦å·®å€¼ä¸º 1ï¼Œæˆ‘ä»¬å¾—å‡ºè¿™æ ·çš„ç»“è®ºè¿­ä»£æ¬¡æ•°=è¿‘ä¼¼äºç¯å½¢éƒ¨åˆ†é•¿åº¦Kã€‚</p></li></ol><p>å› æ­¤ï¼Œåœ¨æœ€ç³Ÿç³•çš„æƒ…å½¢ä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º <em>O(N+K)</em>ï¼Œä¹Ÿå°±æ˜¯ <em>O(n)</em>ã€‚</p></li></ul></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œæˆ‘ä»¬åªä½¿ç”¨äº†æ…¢æŒ‡é’ˆå’Œå¿«æŒ‡é’ˆä¸¤ä¸ªç»“ç‚¹ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸º <em>O(1)</em>ã€‚</p></li></ul><p>è¿™é“é¢˜ç›¸å½“çš„ç»å…¸ï¼Œé‡æ¸©æ—¶ä¸€å¼€å§‹è¢«posè¿·æƒ‘ä½äº†ï¼Œè¿˜ä»¥ä¸ºæ¡ä»¶å˜äº†ï¼Œè¦è‡ªå·±å†™åˆ°é“¾è¡¨ç»“å°¾çš„è·³è½¬ä»£ç ï¼Œåæ¥çœ‹å…¥å‚æ‰å‘ç°ä¸éœ€è¦è‡ªå·±å¤„ç†ã€‚</p><h1 id="æ–¹æ³•ä¸‰ï¼šJSç‰¹æ®Šè§£æ³•"><a href="#æ–¹æ³•ä¸‰ï¼šJSç‰¹æ®Šè§£æ³•" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šJSç‰¹æ®Šè§£æ³•"></a>æ–¹æ³•ä¸‰ï¼šJSç‰¹æ®Šè§£æ³•</h1><p>ç›¸ä¿¡å¯¹äº JS ä¸­çš„ JSON.stringify() æ–¹æ³•å¤§å®¶éƒ½ç”¨è¿‡ï¼Œä¸»è¦ç”¨äºå°† JS å¯¹è±¡ è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²ã€‚åŸºæœ¬ä½¿ç”¨å¦‚ä¸‹ï¼š</p><details>    <summary>åŸºæœ¬ä½¿ç”¨</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">varÂ carÂ =Â &#123; </span><br><span class="line">  name:Â &apos;å°å–µ&apos;, </span><br><span class="line">  age:Â 20, </span><br><span class="line">&#125; </span><br><span class="line">varÂ strÂ =Â JSON.stringify(car);</span><br><span class="line">console.log(str)Â </span><br><span class="line">//=&gt;Â &#123;&quot;name&quot;:&quot;å°å–µ&quot;,&quot;age&quot;:20&#125;</span><br></pre></td></tr></table></figure></details>å¤§å®¶æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯è‡ªå·±å®ç°è¿™æ ·çš„ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†ä»€ä¹ˆæ ·çš„ç‰¹æ®Šæƒ…å†µï¼Ÿå¯¹ï¼Œå°±æ˜¯å¾ªç¯å¼•ç”¨ã€‚å› ä¸ºå¯¹äºå¾ªç¯å¼•ç”¨ï¼Œæˆ‘ä»¬å¾ˆéš¾é€šè¿‡ JSON çš„ç»“æ„å°†å…¶è¿›è¡Œå±•ç¤ºï¼æ¯”å¦‚ä¸‹é¢ï¼š<details>    <summary>ä¾‹å­</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var a = &#123;&#125; </span><br><span class="line">var b = &#123; </span><br><span class="line">  a: a </span><br><span class="line">&#125;</span><br><span class="line">a.b = b</span><br><span class="line">console.log(JSON.stringify(a))</span><br><span class="line">//=&gt; TypeError: Converting circular structure to JSON</span><br></pre></td></tr></table></figure></details>é‚£æˆ‘ä»¬æ€è€ƒï¼Œå¯¹äºç¯å½¢é“¾è¡¨ï¼Œæ˜¯ä¸æ˜¯å°±æ˜¯ä¸€ä¸ªå¾ªç¯ç»“æ„å‘¢ï¼Ÿå½“ç„¶æ˜¯ï¼å› ä¸ºåªè¦æ˜¯ç¯å½¢é“¾è¡¨ï¼Œå®ƒä¸€å®šå­˜åœ¨ç±»ä¼¼ä»¥ä¸‹ä»£ç ï¼š<details>    <summary>ä¾‹å­</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a.Next = b</span><br><span class="line">b.Next = a</span><br></pre></td></tr></table></figure></details><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ JSON.stringify() çš„ç‰¹æ€§è¿›è¡Œæ±‚è§£ï¼š</p><details>    <summary>JSç‰¹æ®Šè§£æ³•</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var hasCycle = function(head) &#123;</span><br><span class="line">    try&#123;</span><br><span class="line">        JSON.stringify(head)</span><br><span class="line">    &#125;catch(e)&#123;</span><br><span class="line">        return true</span><br><span class="line">    &#125;</span><br><span class="line">    return false</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details>å½“ç„¶ï¼Œè¿™ç§è§£æ³•å¹¶ä¸æ˜¯å»ºè®®çš„æ ‡å‡†é¢˜è§£ï¼åœ¨æ­¤åˆ—å‡ºæ˜¯ä¸ºäº†æ‹“å®½æ€ç»´ï¼ï¼ˆå¦‚æœ‰å…´è¶£ï¼Œå¯ä»¥è‡ªå·±å»çœ‹ä¸‹JSON.stringify å†…éƒ¨çš„å®ç°ï¼Œæ˜¯å¦‚ä½•æ£€æµ‹å¾ªç¯å¼•ç”¨çš„ã€‚ï¼‰<h1 id="æ–¹æ³•å››ï¼šé€’å½’ï¼šç ´åé“¾è¡¨ç»“æ„"><a href="#æ–¹æ³•å››ï¼šé€’å½’ï¼šç ´åé“¾è¡¨ç»“æ„" class="headerlink" title="æ–¹æ³•å››ï¼šé€’å½’ï¼šç ´åé“¾è¡¨ç»“æ„"></a>æ–¹æ³•å››ï¼šé€’å½’ï¼šç ´åé“¾è¡¨ç»“æ„</h1><details>    <summary>é€’å½’ï¼šç ´åé“¾è¡¨ç»“æ„</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public boolean hasCycle(ListNode head) &#123;</span><br><span class="line">        if (head == null || head.next == null) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        //åˆ¤æ–­æ˜¯å¦æ˜¯è‡ªç¯çŠ¶æ€</span><br><span class="line">        if (head == head.next) &#123;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        //è®©éå†è¿‡çš„èŠ‚ç‚¹è‡ªç¯</span><br><span class="line">        ListNode breaker=head.next;</span><br><span class="line">        head.next=head;</span><br><span class="line">        return hasCycle(breaker);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>è¿™ç§æ–¹æ³•å¯ä»¥åªä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆæ¥è§£å†³ï¼Œæ¯æ¬¡éå†ä¸€ä¸ªèŠ‚ç‚¹åéƒ½æŠŠå®ƒå˜æˆè‡ªç¯ç»“æ„ï¼Œè¿™æ ·å¦‚æœéå†åˆ°å¼€å§‹æˆç¯çš„èŠ‚ç‚¹æ—¶è¯¥èŠ‚ç‚¹çš„æŒ‡å‘çš„ç¯è·¯ä¸Šçš„èŠ‚ç‚¹å¿…ç„¶æ˜¯å·²ç»è‡ªç¯çš„èŠ‚ç‚¹ï¼Œé€’å½’åˆ°è¿™ä¸ªè‡ªç¯èŠ‚ç‚¹æ—¶è¿”å›trueã€‚</p><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em></p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></p></li></ul><h1 id="æ–¹æ³•äº”ï¼šé€’å½’ï¼šæ ‡è®°æ³•"><a href="#æ–¹æ³•äº”ï¼šé€’å½’ï¼šæ ‡è®°æ³•" class="headerlink" title="æ–¹æ³•äº”ï¼šé€’å½’ï¼šæ ‡è®°æ³•"></a>æ–¹æ³•äº”ï¼šé€’å½’ï¼šæ ‡è®°æ³•</h1><details>    <summary>é€’å½’ï¼šæ ‡è®°æ³•</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public boolean hasCycle(ListNode head) &#123;</span><br><span class="line">        if (head == null) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        if (head.val == 0xcafebabe) &#123;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        head.val=0xcafebabe;</span><br><span class="line">        return hasCycle(head.next);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>è¿™ç§é€’å½’æ–¹æ³•æ˜¯éå†åˆ°ä¸€ä¸ªèŠ‚ç‚¹å°±æŠŠå®ƒçš„å€¼æ ‡è®°ä¸ºé­”æ•°0xcafebabeï¼ˆç”¨ä¸ªåˆ«çš„åå…­è¿›åˆ¶æ•°æ ‡è®°ä¹Ÿè¡Œï¼‰ï¼Œä¸€ç›´é€’å½’åˆ°é‡åˆ°æ ‡è®°è¿‡çš„èŠ‚ç‚¹æˆ–è€…æ˜¯ç©ºæŒ‡é’ˆã€‚</p><p>é­”æ•°0xcafebabeï¼šJavaä¸­classæ–‡ä»¶çš„å‰å››ä¸ªå­—èŠ‚æ˜¯ CAFEBABEï¼Œå®ƒè¡¨ç¤ºè¿™ä¸ªæ–‡ä»¶çš„ç±»å‹æ˜¯Classæ–‡ä»¶(ç±»ä¼¼äºæ–‡ä»¶ååç¼€ï¼Œä¸è¿‡é­”æ•°æ˜¯ç»™ç¼–è¯‘å™¨çœ‹çš„ï¼Œåç¼€æ˜¯ç»™æ‰§è¡Œç¨‹åºçœ‹çš„)</p><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em></p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em></p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´7æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B47%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
      <category term="Two Pointers" scheme="http://yoursite.com/tags/Two-Pointers/"/>
    
  </entry>
  
  <entry>
    <title>138. å¤åˆ¶å¸¦éšæœºæŒ‡é’ˆçš„é“¾è¡¨</title>
    <link href="http://yoursite.com/2020/07/23/138.%20%E5%A4%8D%E5%88%B6%E5%B8%A6%E9%9A%8F%E6%9C%BA%E6%8C%87%E9%92%88%E7%9A%84%E9%93%BE%E8%A1%A8/"/>
    <id>http://yoursite.com/2020/07/23/138. å¤åˆ¶å¸¦éšæœºæŒ‡é’ˆçš„é“¾è¡¨/</id>
    <published>2020-07-23T08:22:12.000Z</published>
    <updated>2020-07-24T03:06:27.074Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ªé¢å¤–å¢åŠ çš„éšæœºæŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆå¯ä»¥æŒ‡å‘é“¾è¡¨ä¸­çš„ä»»ä½•èŠ‚ç‚¹æˆ–ç©ºèŠ‚ç‚¹ã€‚</p><p>è¦æ±‚è¿”å›è¿™ä¸ªé“¾è¡¨çš„ æ·±æ‹·è´ã€‚å¾ˆç»å…¸çš„ä¸€é“é¢˜ï¼Œä¹Ÿæ˜¯å‰‘æŒ‡Offer ä¸Šçš„é¢è¯•é¢˜26. å¤æ‚é“¾è¡¨çš„å¤åˆ¶ã€‚</p><a id="more"></a><p>æˆ‘ä»¬ç”¨ä¸€ä¸ªç”± n ä¸ªèŠ‚ç‚¹ç»„æˆçš„é“¾è¡¨æ¥è¡¨ç¤ºè¾“å…¥/è¾“å‡ºä¸­çš„é“¾è¡¨ã€‚æ¯ä¸ªèŠ‚ç‚¹ç”¨ä¸€ä¸ª [val, random_index] è¡¨ç¤ºï¼š</p><ul><li>valï¼šä¸€ä¸ªè¡¨ç¤º Node.val çš„æ•´æ•°ã€‚</li><li>random_indexï¼šéšæœºæŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹ç´¢å¼•ï¼ˆèŒƒå›´ä» 0 åˆ° n-1ï¼‰ï¼›å¦‚æœä¸æŒ‡å‘ä»»ä½•èŠ‚ç‚¹ï¼Œåˆ™ä¸º  null ã€‚</li></ul><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šhead = [[7,null],[13,0],[11,4],[10,2],[1,0]]è¾“å‡ºï¼š[[7,null],[13,0],[11,4],[10,2],[1,0]]</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šhead = [[1,1],[2,1]]è¾“å‡ºï¼š[[1,1],[2,1]]</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šhead = [[3,null],[3,0],[3,null]]è¾“å‡ºï¼š[[3,null],[3,0],[3,null]]</code></pre><p>ç¤ºä¾‹ 4ï¼š</p><pre><code>è¾“å…¥ï¼šhead = []è¾“å‡ºï¼š[]è§£é‡Šï¼šç»™å®šçš„é“¾è¡¨ä¸ºç©ºï¼ˆç©ºæŒ‡é’ˆï¼‰ï¼Œå› æ­¤è¿”å› nullã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>-10000 &lt;= Node.val &lt;= 10000Node.random ä¸ºç©ºï¼ˆnullï¼‰æˆ–æŒ‡å‘é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ã€‚èŠ‚ç‚¹æ•°ç›®ä¸è¶…è¿‡ 1000 ã€‚</code></pre><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æœ‰å‘é“¾è¡¨<a href="https://leetcode-cn.com/problems/copy-list-with-random-pointer/solution/fu-zhi-dai-sui-ji-zhi-zhen-de-lian-biao-by-leetcod/" target="_blank" rel="noopener">^1</a>ï¼š</p><p> <a href="https://pic.leetcode-cn.com/6a547c42c3a2d05e054223a2a512844ed2bc7f424433e0d99ae20a4a191c582d-image.png" target="_blank" rel="noopener">image.png</a></p><p>åœ¨ä¸Šå›¾ä¸­ï¼Œå¯¹äºä¸€ä¸ªèŠ‚ç‚¹ï¼Œå®ƒçš„ <code>next</code> æŒ‡é’ˆæŒ‡å‘é“¾è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ <code>next</code> æŒ‡é’ˆæ˜¯é€šå¸¸æœ‰å‘é“¾è¡¨ä¸­æœ‰çš„éƒ¨åˆ†ä¸”å°†æ‰€æœ‰èŠ‚ç‚¹ <strong><em>é“¾æ¥</em></strong> èµ·æ¥ã€‚å›¾ä¸­æœ‰è¶£çš„ä¸€ç‚¹ï¼Œä¹Ÿæ˜¯è¿™é¢˜æœ‰è¶£çš„ä¸€ç‚¹åœ¨äº <code>random</code> æŒ‡é’ˆï¼Œæ­£å¦‚åå­—æ‰€ç¤ºï¼Œå®ƒå¯ä»¥æŒ‡å‘é“¾è¡¨ä¸­çš„ä»»ä¸€èŠ‚ç‚¹ä¹Ÿå¯ä»¥ä¸ºç©ºã€‚</p><h1 id="æ–¹æ³•-1ï¼šå›æº¯"><a href="#æ–¹æ³•-1ï¼šå›æº¯" class="headerlink" title="æ–¹æ³• 1ï¼šå›æº¯"></a>æ–¹æ³• 1ï¼šå›æº¯</h1><p><strong>æƒ³æ³•</strong></p><p>å›æº¯ç®—æ³•çš„ç¬¬ä¸€æƒ³æ³•æ˜¯å°†é“¾è¡¨æƒ³è±¡æˆä¸€å¼ å›¾ã€‚é“¾è¡¨ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ 2 ä¸ªæŒ‡é’ˆï¼ˆå›¾ä¸­çš„è¾¹ï¼‰ã€‚å› ä¸ºéšæœºæŒ‡é’ˆç»™å›¾ç»“æ„æ·»åŠ äº†éšæœºæ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯èƒ½ä¼šè®¿é—®ç›¸åŒçš„èŠ‚ç‚¹å¤šæ¬¡ï¼Œè¿™æ ·å°±å½¢æˆäº†ç¯ã€‚</p><p> <a href="https://pic.leetcode-cn.com/990d6483f673537e98e6162cc9e1c6c4ca32729d0d54b82bb5e46cbdaf2246b8-image.png" target="_blank" rel="noopener">image.png</a></p><p>ä¸Šå›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°éšæœºæŒ‡é’ˆæŒ‡å‘äº†å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤æˆç¯ã€‚æˆ‘ä»¬éœ€è¦è€ƒè™‘è¿™ç§ç¯çš„å®ç°ã€‚</p><p>æ­¤æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦éå†æ•´ä¸ªå›¾å¹¶æ‹·è´å®ƒã€‚æ‹·è´çš„æ„æ€æ˜¯æ¯å½“é‡åˆ°ä¸€ä¸ªæ–°çš„æœªè®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œä½ éƒ½éœ€è¦åˆ›é€ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ã€‚éå†æŒ‰ç…§æ·±åº¦ä¼˜å…ˆè¿›è¡Œã€‚æˆ‘ä»¬éœ€è¦åœ¨å›æº¯çš„è¿‡ç¨‹ä¸­è®°å½•å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œå¦åˆ™å› ä¸ºéšæœºæŒ‡é’ˆçš„å­˜åœ¨æˆ‘ä»¬å¯èƒ½ä¼šäº§ç”Ÿæ­»å¾ªç¯ã€‚</p><p><strong>ç®—æ³•</strong></p><ol><li><p>ä» <code>å¤´</code> æŒ‡é’ˆå¼€å§‹éå†æ•´ä¸ªå›¾ã€‚</p><p> æˆ‘ä»¬å°†é“¾è¡¨çœ‹åšä¸€å¼ å›¾ã€‚ä¸‹å›¾å¯¹åº”çš„æ˜¯ä¸Šé¢çš„æœ‰å‘é“¾è¡¨çš„ä¾‹å­ï¼Œ<code>Head</code> æ˜¯å›¾çš„å‡ºå‘èŠ‚ç‚¹ã€‚</p><p><a href="https://pic.leetcode-cn.com/bd3fb0c9f6d3fdcc3bbc4afdb47183d6aaef93552df135130ea42da77aab911d-image.png" target="_blank" rel="noopener">image.png</a></p></li></ol><ol start="2"><li>å½“æˆ‘ä»¬éå†åˆ°æŸä¸ªç‚¹æ—¶ï¼Œå¦‚æœæˆ‘ä»¬å·²ç»æœ‰äº†å½“å‰èŠ‚ç‚¹çš„ä¸€ä¸ªæ‹·è´ï¼Œæˆ‘ä»¬ä¸éœ€è¦é‡å¤è¿›è¡Œæ‹·è´ã€‚</li><li>å¦‚æœæˆ‘ä»¬è¿˜æ²¡æ‹·è´è¿‡å½“å‰èŠ‚ç‚¹ï¼Œæˆ‘ä»¬åˆ›é€ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œå¹¶æŠŠè¯¥èŠ‚ç‚¹æ”¾åˆ°å·²è®¿é—®å­—å…¸ä¸­ï¼Œå³ï¼š<br><code>visited_dictionary[current_node] = cloned_node_for_current_node.</code></li><li>æˆ‘ä»¬é’ˆå¯¹ä¸¤ç§æƒ…å†µè¿›è¡Œå›æº¯è°ƒç”¨ï¼šä¸€ä¸ªé¡ºç€ <code>random</code> æŒ‡é’ˆè°ƒç”¨ï¼Œå¦ä¸€ä¸ªæ²¿ç€ <code>next</code> æŒ‡é’ˆè°ƒç”¨ã€‚æ­¥éª¤ 1 ä¸­å°† <code>random</code> å’Œ <code>next</code> æŒ‡é’ˆåˆ†åˆ«çº¢çº¢è‰²å’Œè“è‰²æ ‡æ³¨ã€‚ç„¶åæˆ‘ä»¬åˆ†åˆ«å¯¹ä¸¤ä¸ªæŒ‡é’ˆè¿›è¡Œå‡½æ•°é€’å½’è°ƒç”¨ï¼š</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cloned_node_for_current_node.next = copyRandomList(current_node.next);</span><br><span class="line">cloned_node_for_current_node.random = copyRandomList(current_node.random);</span><br></pre></td></tr></table></figure><details>    <summary>å›æº¯Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// Definition for a Node.</span></span><br><span class="line"><span class="comment">class Node &#123;</span></span><br><span class="line"><span class="comment">    public int val;</span></span><br><span class="line"><span class="comment">    public Node next;</span></span><br><span class="line"><span class="comment">    public Node random;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public Node() &#123;&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public Node(int _val,Node _next,Node _random) &#123;</span></span><br><span class="line"><span class="comment">        val = _val;</span></span><br><span class="line"><span class="comment">        next = _next;</span></span><br><span class="line"><span class="comment">        random = _random;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="comment">// HashMap which holds old nodes as keys and new nodes as its values.</span></span><br><span class="line">  HashMap&lt;Node, Node&gt; visitedHash = <span class="keyword">new</span> HashMap&lt;Node, Node&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> Node <span class="title">copyRandomList</span><span class="params">(Node head)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// If we have already processed the current node, then we simply return the cloned version of</span></span><br><span class="line">    <span class="comment">// it.</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.visitedHash.containsKey(head)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.visitedHash.get(head);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create a new node with the value same as old node. (i.e. copy the node)</span></span><br><span class="line">    Node node = <span class="keyword">new</span> Node(head.val, <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Save this value in the hash map. This is needed since there might be</span></span><br><span class="line">    <span class="comment">// loops during traversal due to randomness of random pointers and this would help us avoid</span></span><br><span class="line">    <span class="comment">// them.</span></span><br><span class="line">    <span class="keyword">this</span>.visitedHash.put(head, node);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Recursively copy the remaining linked list starting once from the next pointer and then from</span></span><br><span class="line">    <span class="comment">// the random pointer.</span></span><br><span class="line">    <span class="comment">// Thus we have two independent recursive calls.</span></span><br><span class="line">    <span class="comment">// Finally we update the next and random pointers for the new node created.</span></span><br><span class="line">    node.next = <span class="keyword">this</span>.copyRandomList(head.next);</span><br><span class="line">    node.random = <span class="keyword">this</span>.copyRandomList(head.random);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å›æº¯Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    :type head: Node</span></span><br><span class="line"><span class="string">    :rtype: Node</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># Dictionary which holds old nodes as keys and new nodes as its values.</span></span><br><span class="line">        self.visitedHash = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">copyRandomList</span><span class="params">(self, head)</span>:</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> head == <span class="keyword">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># If we have already processed the current node, then we simply return the cloned version of it.</span></span><br><span class="line">        <span class="keyword">if</span> head <span class="keyword">in</span> self.visitedHash:</span><br><span class="line">            <span class="keyword">return</span> self.visitedHash[head]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># create a new node</span></span><br><span class="line">        <span class="comment"># with the value same as old node.</span></span><br><span class="line">        node = Node(head.val, <span class="keyword">None</span>, <span class="keyword">None</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Save this value in the hash map. This is needed since there might be</span></span><br><span class="line">        <span class="comment"># loops during traversal due to randomness of random pointers and this would help us avoid them.</span></span><br><span class="line">        self.visitedHash[head] = node</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Recursively copy the remaining linked list starting once from the next pointer and then from the random pointer.</span></span><br><span class="line">        <span class="comment"># Thus we have two independent recursive calls.</span></span><br><span class="line">        <span class="comment"># Finally we update the next and random pointers for the new node created.</span></span><br><span class="line">        node.next = self.copyRandomList(head.next)</span><br><span class="line">        node.random = self.copyRandomList(head.random)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> node</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)</em> ï¼Œå…¶ä¸­ <em>N</em> æ˜¯é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em> ã€‚å¦‚æœæˆ‘ä»¬ä»”ç»†åˆ†æï¼Œæˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ä¸ªå›æº¯çš„æ ˆï¼ŒåŒæ—¶ä¹Ÿéœ€è¦è®°å½•å·²ç»è¢«æ·±æ‹·è´è¿‡çš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ç»´æŠ¤ä¸€ä¸ªå·²è®¿é—®å­—å…¸ã€‚æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º <em>O(N)</em> ã€‚</li></ul><br><h1 id="æ–¹æ³•-2ï¼š-O-N-ç©ºé—´çš„è¿­ä»£"><a href="#æ–¹æ³•-2ï¼š-O-N-ç©ºé—´çš„è¿­ä»£" class="headerlink" title="æ–¹æ³• 2ï¼š O(N) ç©ºé—´çš„è¿­ä»£"></a>æ–¹æ³• 2ï¼š <em>O(N)</em> ç©ºé—´çš„è¿­ä»£</h1><p><strong>æƒ³æ³•</strong></p><p>è¿­ä»£ç®—æ³•ä¸éœ€è¦å°†é“¾è¡¨è§†ä¸ºä¸€ä¸ªå›¾ã€‚å½“æˆ‘ä»¬åœ¨è¿­ä»£é“¾è¡¨æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸º <code>random</code> æŒ‡é’ˆå’Œ <code>next</code> æŒ‡é’ˆæŒ‡å‘çš„æœªè®¿é—®è¿‡èŠ‚ç‚¹åˆ›é€ æ–°çš„èŠ‚ç‚¹å¹¶èµ‹å€¼å³å¯ã€‚</p><p><strong>ç®—æ³•</strong></p><ol><li><p>ä» <code>head</code> èŠ‚ç‚¹å¼€å§‹éå†é“¾è¡¨ã€‚ä¸‹å›¾ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›é€ æ–°çš„ <code>head</code> æ‹·è´èŠ‚ç‚¹ã€‚æ‹·è´çš„èŠ‚ç‚¹å¦‚ä¸‹å›¾è™šçº¿æ‰€ç¤ºã€‚å®ç°ä¸­ï¼Œæˆ‘ä»¬å°†è¯¥æ–°å»ºèŠ‚ç‚¹çš„å¼•ç”¨ä¹Ÿæ”¾å…¥å·²è®¿é—®å­—å…¸ä¸­ã€‚</p><p><a href="https://pic.leetcode-cn.com/ba345f073f3edebb79e2500ffea5fd744bf2266bb1426e5b4221f2f21ecea900-image.png" target="_blank" rel="noopener">image.png</a></p></li></ol><ol start="2"><li><p><code>random</code> æŒ‡é’ˆ</p><ul><li><p>å¦‚æœå½“å‰èŠ‚ç‚¹ <em>i</em> çš„ <code>random</code> æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªèŠ‚ç‚¹ <em>j</em> ä¸”èŠ‚ç‚¹ <em>j</em> å·²ç»è¢«æ‹·è´è¿‡ï¼Œæˆ‘ä»¬å°†ç›´æ¥ä½¿ç”¨å·²è®¿é—®å­—å…¸ä¸­è¯¥èŠ‚ç‚¹çš„å¼•ç”¨è€Œä¸ä¼šæ–°å»ºèŠ‚ç‚¹ã€‚</p></li><li><p>å¦‚æœå½“å‰èŠ‚ç‚¹ <em>i</em> çš„ <code>random</code> æŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹ <em>j</em> è¿˜æ²¡æœ‰è¢«æ‹·è´è¿‡ï¼Œæˆ‘ä»¬å°±å¯¹ <em>j</em> èŠ‚ç‚¹åˆ›å»ºå¯¹åº”çš„æ–°èŠ‚ç‚¹ï¼Œå¹¶æŠŠå®ƒæ”¾å…¥å·²è®¿é—®èŠ‚ç‚¹å­—å…¸ä¸­ã€‚</p><p>ä¸‹å›¾ä¸­ï¼Œ <em>A</em> çš„ <code>random</code> æŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹ <em>C</em> ã€‚å‰å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒèŠ‚ç‚¹ <em>C</em> è¿˜æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ›é€ ä¸€ä¸ªæ‹·è´çš„ <em>Câ€™</em> èŠ‚ç‚¹ä¸ä¹‹å¯¹åº”ï¼Œå¹¶å°†å®ƒæ·»åŠ åˆ°å·²è®¿é—®å­—å…¸ä¸­ã€‚</p></li></ul></li></ol><p> <a href="https://pic.leetcode-cn.com/ac190cfe6d9de91a765c103c2a79a89f25b404fa355f1b3cb41f30e47467a676-image.png" target="_blank" rel="noopener">image.png</a></p><ol start="3"><li><code>next</code> æŒ‡é’ˆ<ul><li>å¦‚æœå½“å‰èŠ‚ç‚¹ <em>i</em> çš„ <code>next</code> æŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹ <em>j</em> åœ¨å·²è®¿é—®å­—å…¸ä¸­å·²æœ‰æ‹·è´ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨å®ƒçš„æ‹·è´èŠ‚ç‚¹ã€‚</li><li>å¦‚æœå½“å‰èŠ‚ç‚¹ <em>i</em> çš„<code>next</code> æŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹ <em>j</em> è¿˜æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå¯¹åº”èŠ‚ç‚¹çš„æ‹·è´ï¼Œå¹¶æ”¾å…¥å·²è®¿é—®å­—å…¸ã€‚</li></ul></li></ol><p>ä¸‹å›¾ä¸­ï¼Œ<em>A</em> èŠ‚ç‚¹çš„ <code>next</code> æŒ‡é’ˆæŒ‡å‘èŠ‚ç‚¹ <em>B</em> ã€‚èŠ‚ç‚¹ <em>B</em> åœ¨å‰é¢çš„å›¾ä¸­è¿˜æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œå› æ­¤æˆ‘ä»¬åˆ›é€ ä¸€ä¸ªæ–°çš„æ‹·è´ <em>Bâ€™</em> èŠ‚ç‚¹ï¼Œå¹¶æ”¾å…¥å·²è®¿é—®å­—å…¸ä¸­ã€‚</p><p> <a href="https://pic.leetcode-cn.com/02c55bd01ea1f85231e34ea714de8db3ccb8717f434a80f94c0efdac62b15246-image.png" target="_blank" rel="noopener">image.png</a></p><ol start="4"><li>æˆ‘ä»¬é‡å¤æ­¥éª¤ 2 å’Œæ­¥éª¤ 3 ï¼Œç›´åˆ°æˆ‘ä»¬åˆ°è¾¾é“¾è¡¨çš„ç»“å°¾ã€‚</li></ol><p>ä¸‹å›¾ä¸­ï¼Œ èŠ‚ç‚¹ <em>B</em> çš„ <code>random</code> æŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹ <em>A</em> å·²ç»è¢«è®¿é—®è¿‡äº†ï¼Œå› æ­¤åœ¨æ­¥éª¤ 2 ä¸­ï¼Œæˆ‘ä»¬ä¸ä¼šåˆ›å»ºæ–°çš„æ‹·è´ï¼Œ</p><p>å°†èŠ‚ç‚¹ <em>Bâ€™</em> çš„ <code>random</code> æŒ‡é’ˆæŒ‡å‘å…‹éš†èŠ‚ç‚¹ <em>Aâ€™</em> ã€‚</p><p>åŒæ ·çš„ï¼Œ èŠ‚ç‚¹ <em>B</em> çš„ <code>next</code> æŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹ <em>C</em> å·²ç»è®¿é—®è¿‡ï¼Œå› æ­¤åœ¨æ­¥éª¤ 3 ä¸­ï¼Œæˆ‘ä»¬ä¸ä¼šåˆ›å»ºæ–°çš„æ‹·è´ï¼Œè€Œç›´æ¥å°† <em>Bâ€™</em> çš„ <code>next</code> æŒ‡é’ˆæŒ‡å‘å·²ç»å­˜åœ¨çš„æ‹·è´èŠ‚ç‚¹ <em>Câ€™</em> ã€‚</p><p> <a href="https://pic.leetcode-cn.com/203559119fb45aa1bb844a5441ce18089f4005fa386bd794048c51fd25686e87-image.png" target="_blank" rel="noopener">image.png</a></p><details>    <summary>è¿­ä»£ç®—æ³•Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// Definition for a Node.</span></span><br><span class="line"><span class="comment">class Node &#123;</span></span><br><span class="line"><span class="comment">    public int val;</span></span><br><span class="line"><span class="comment">    public Node next;</span></span><br><span class="line"><span class="comment">    public Node random;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public Node() &#123;&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public Node(int _val,Node _next,Node _random) &#123;</span></span><br><span class="line"><span class="comment">        val = _val;</span></span><br><span class="line"><span class="comment">        next = _next;</span></span><br><span class="line"><span class="comment">        random = _random;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="comment">// Visited dictionary to hold old node reference as "key" and new node reference as the "value"</span></span><br><span class="line">  HashMap&lt;Node, Node&gt; visited = <span class="keyword">new</span> HashMap&lt;Node, Node&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> Node <span class="title">getClonedNode</span><span class="params">(Node node)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// If the node exists then</span></span><br><span class="line">    <span class="keyword">if</span> (node != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="comment">// Check if the node is in the visited dictionary</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.visited.containsKey(node)) &#123;</span><br><span class="line">        <span class="comment">// If its in the visited dictionary then return the new node reference from the dictionary</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.visited.get(node);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// Otherwise create a new node, add to the dictionary and return it</span></span><br><span class="line">        <span class="keyword">this</span>.visited.put(node, <span class="keyword">new</span> Node(node.val, <span class="keyword">null</span>, <span class="keyword">null</span>));</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.visited.get(node);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> Node <span class="title">copyRandomList</span><span class="params">(Node head)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Node oldNode = head;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Creating the new head node.</span></span><br><span class="line">    Node newNode = <span class="keyword">new</span> Node(oldNode.val);</span><br><span class="line">    <span class="keyword">this</span>.visited.put(oldNode, newNode);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Iterate on the linked list until all nodes are cloned.</span></span><br><span class="line">    <span class="keyword">while</span> (oldNode != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="comment">// Get the clones of the nodes referenced by random and next pointers.</span></span><br><span class="line">      newNode.random = <span class="keyword">this</span>.getClonedNode(oldNode.random);</span><br><span class="line">      newNode.next = <span class="keyword">this</span>.getClonedNode(oldNode.next);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Move one step ahead in the linked list.</span></span><br><span class="line">      oldNode = oldNode.next;</span><br><span class="line">      newNode = newNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.visited.get(head);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>è¿­ä»£ç®—æ³•Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># Creating a visited dictionary to hold old node reference as "key" and new node reference as the "value"</span></span><br><span class="line">        self.visited = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getClonedNode</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        <span class="comment"># If node exists then</span></span><br><span class="line">        <span class="keyword">if</span> node:</span><br><span class="line">            <span class="comment"># Check if its in the visited dictionary          </span></span><br><span class="line">            <span class="keyword">if</span> node <span class="keyword">in</span> self.visited:</span><br><span class="line">                <span class="comment"># If its in the visited dictionary then return the new node reference from the dictionary</span></span><br><span class="line">                <span class="keyword">return</span> self.visited[node]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># Otherwise create a new node, save the reference in the visited dictionary and return it.</span></span><br><span class="line">                self.visited[node] = Node(node.val, <span class="keyword">None</span>, <span class="keyword">None</span>)</span><br><span class="line">                <span class="keyword">return</span> self.visited[node]</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">copyRandomList</span><span class="params">(self, head)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type head: Node</span></span><br><span class="line"><span class="string">        :rtype: Node</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">            <span class="keyword">return</span> head</span><br><span class="line"></span><br><span class="line">        old_node = head</span><br><span class="line">        <span class="comment"># Creating the new head node.       </span></span><br><span class="line">        new_node = Node(old_node.val, <span class="keyword">None</span>, <span class="keyword">None</span>)</span><br><span class="line">        self.visited[old_node] = new_node</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Iterate on the linked list until all nodes are cloned.</span></span><br><span class="line">        <span class="keyword">while</span> old_node != <span class="keyword">None</span>:</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Get the clones of the nodes referenced by random and next pointers.</span></span><br><span class="line">            new_node.random = self.getClonedNode(old_node.random)</span><br><span class="line">            new_node.next = self.getClonedNode(old_node.next)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Move one step ahead in the linked list.</span></span><br><span class="line">            old_node = old_node.next</span><br><span class="line">            new_node = new_node.next</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.visited[head]</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)</em> ã€‚å› ä¸ºæˆ‘ä»¬éœ€è¦å°†åŸé“¾è¡¨é€ä¸€éå†ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em> ã€‚ æˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ä¸ªå­—å…¸ï¼Œä¿å­˜æ—§çš„èŠ‚ç‚¹å’Œæ–°çš„èŠ‚ç‚¹çš„å¯¹åº”ã€‚å› æ­¤æ€»å…±éœ€è¦ <em>N</em> ä¸ªèŠ‚ç‚¹ï¼Œéœ€è¦ <em>O(N)</em> çš„ç©ºé—´å¤æ‚åº¦ã€‚</li></ul><br><h1 id="æ–¹æ³•-3ï¼šO-1-ç©ºé—´çš„è¿­ä»£"><a href="#æ–¹æ³•-3ï¼šO-1-ç©ºé—´çš„è¿­ä»£" class="headerlink" title="æ–¹æ³• 3ï¼šO(1) ç©ºé—´çš„è¿­ä»£"></a>æ–¹æ³• 3ï¼š<em>O(1)</em> ç©ºé—´çš„è¿­ä»£</h1><p><strong>æƒ³æ³•</strong></p><p>ä¸ä¸Šé¢æåˆ°çš„ç»´æŠ¤ä¸€ä¸ªæ—§èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹å¯¹åº”çš„å­—å…¸ä¸åŒï¼Œæˆ‘ä»¬é€šè¿‡æ‰­æ›²åŸæ¥çš„é“¾è¡¨ï¼Œå¹¶å°†æ¯ä¸ªæ‹·è´èŠ‚ç‚¹éƒ½æ”¾åœ¨åŸæ¥å¯¹åº”èŠ‚ç‚¹çš„æ—è¾¹ã€‚è¿™ç§æ—§èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹äº¤é”™çš„æ–¹æ³•è®©æˆ‘ä»¬å¯ä»¥åœ¨ä¸éœ€è¦é¢å¤–ç©ºé—´çš„æƒ…å†µä¸‹è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªç®—æ³•å¦‚ä½•å·¥ä½œ</p><p><strong>ç®—æ³•</strong></p><ol><li>éå†åŸæ¥çš„é“¾è¡¨å¹¶æ‹·è´æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°†æ‹·è´èŠ‚ç‚¹æ”¾åœ¨åŸæ¥èŠ‚ç‚¹çš„æ—è¾¹ï¼Œåˆ›é€ å‡ºä¸€ä¸ªæ—§èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹äº¤é”™çš„é“¾è¡¨ã€‚</li></ol><p> <a href="https://pic.leetcode-cn.com/c4e075d7eb23b27074430abda66ff5a74307f85958b063ebb530873b66c117b8-image.png" target="_blank" rel="noopener">image.png</a><br> <a href="https://pic.leetcode-cn.com/62ba6efc1d3a77ba04956a105eeaa5738ef1771d9e2fc9f4daf80a0cf1275d70-image.png" target="_blank" rel="noopener">image.png</a></p><p> å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬åªæ˜¯ç”¨äº†åŸæ¥èŠ‚ç‚¹çš„å€¼æ‹·è´å‡ºæ–°çš„èŠ‚ç‚¹ã€‚åŸèŠ‚ç‚¹ <code>next</code> æŒ‡å‘çš„éƒ½æ˜¯æ–°åˆ›é€ å‡ºæ¥çš„èŠ‚ç‚¹ã€‚</p><p><code>cloned_node.next = original_node.next</code></p><p><code>original_node.next = cloned_node</code></p><ol start="2"><li><p>è¿­ä»£è¿™ä¸ªæ–°æ—§èŠ‚ç‚¹äº¤é”™çš„é“¾è¡¨ï¼Œå¹¶ç”¨æ—§èŠ‚ç‚¹çš„ <code>random</code> æŒ‡é’ˆå»æ›´æ–°å¯¹åº”æ–°èŠ‚ç‚¹çš„ <code>random</code> æŒ‡é’ˆã€‚æ¯”æ–¹è¯´ï¼Œ <code>B</code> çš„ <code>random</code> æŒ‡é’ˆæŒ‡å‘ <code>A</code> ï¼Œæ„å‘³ç€ <code>B&#39;</code> çš„ <code>random</code> æŒ‡é’ˆæŒ‡å‘ <code>A&#39;</code> ã€‚</p><p><a href="https://pic.leetcode-cn.com/1789e6dd9bbe41223cab82b2e0a7615cd1a8ed16a3c992462d4e1eaec3b82fb1-image.png" target="_blank" rel="noopener">image.png</a></p></li><li><p>ç°åœ¨ <code>random</code> æŒ‡é’ˆå·²ç»è¢«èµ‹å€¼ç»™æ­£ç¡®çš„èŠ‚ç‚¹ï¼Œ <code>next</code> æŒ‡é’ˆä¹Ÿéœ€è¦è¢«æ­£ç¡®èµ‹å€¼ï¼Œä»¥ä¾¿å°†æ–°çš„èŠ‚ç‚¹æ­£ç¡®é“¾æ¥åŒæ—¶å°†æ—§èŠ‚ç‚¹é‡æ–°æ­£ç¡®é“¾æ¥ã€‚</p></li></ol><p> <a href="https://pic.leetcode-cn.com/a28323ef84883ec02e7d99fd13b444dede9355389c7567e43e7ee1c85262a2d3-image.png" target="_blank" rel="noopener">image.png</a></p><p>è¯´å®è¯å‰ä¸¤ä¸ªæ–¹æ³•æˆ‘éƒ½æ²¡èƒ½å¤ªç†è§£ï¼Œä½†è¿™ç§æ–¹æ³•æ¸…æ™°æ˜“æ‡‚ï¼Œè€Œä¸”ç©ºé—´å¤æ‚åº¦è¾ƒä½ï¼Œæ¨èã€‚C++ç‰ˆæœ¬çš„æ˜¯2018.1.9æ—¶æäº¤çš„ï¼Œå›è¿‡å¤´æ¥åˆšçœ‹æ—¶è¿˜æ˜¯è¿·ç³Šï¼Œå¤ªä¹…æ²¡æœ‰å¤ä¹ è¿™éƒ¨åˆ†å†…å®¹äº†ï¼Œå¥½åƒç‹—ç†Šæ°æ£’å­å“ˆå“ˆã€‚</p><details>    <summary>O(1)ç©ºé—´çš„è¿­ä»£Java</summary><figure class="highlight"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// Definition for a Node.</span></span><br><span class="line"><span class="comment">class Node &#123;</span></span><br><span class="line"><span class="comment">    public int val;</span></span><br><span class="line"><span class="comment">    public Node next;</span></span><br><span class="line"><span class="comment">    public Node random;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public Node() &#123;&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public Node(int _val,Node _next,Node _random) &#123;</span></span><br><span class="line"><span class="comment">        val = _val;</span></span><br><span class="line"><span class="comment">        next = _next;</span></span><br><span class="line"><span class="comment">        random = _random;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Node <span class="title">copyRandomList</span><span class="params">(Node head)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Creating a new weaved list of original and copied nodes.</span></span><br><span class="line">    Node ptr = head;</span><br><span class="line">    <span class="keyword">while</span> (ptr != <span class="keyword">null</span>) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Cloned node</span></span><br><span class="line">      Node newNode = <span class="keyword">new</span> Node(ptr.val);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Inserting the cloned node just next to the original node.</span></span><br><span class="line">      <span class="comment">// If A-&gt;B-&gt;C is the original linked list,</span></span><br><span class="line">      <span class="comment">// Linked list after weaving cloned nodes would be A-&gt;A'-&gt;B-&gt;B'-&gt;C-&gt;C'</span></span><br><span class="line">      newNode.next = ptr.next;</span><br><span class="line">      ptr.next = newNode;</span><br><span class="line">      ptr = newNode.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ptr = head;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Now link the random pointers of the new nodes created.</span></span><br><span class="line">    <span class="comment">// Iterate the newly created list and use the original nodes' random pointers,</span></span><br><span class="line">    <span class="comment">// to assign references to random pointers for cloned nodes.</span></span><br><span class="line">    <span class="keyword">while</span> (ptr != <span class="keyword">null</span>) &#123;</span><br><span class="line">      ptr.next.random = (ptr.random != <span class="keyword">null</span>) ? ptr.random.next : <span class="keyword">null</span>;</span><br><span class="line">      ptr = ptr.next.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Unweave the linked list to get back the original linked list and the cloned list.</span></span><br><span class="line">    <span class="comment">// i.e. A-&gt;A'-&gt;B-&gt;B'-&gt;C-&gt;C' would be broken to A-&gt;B-&gt;C and A'-&gt;B'-&gt;C'</span></span><br><span class="line">    Node ptr_old_list = head; <span class="comment">// A-&gt;B-&gt;C</span></span><br><span class="line">    Node ptr_new_list = head.next; <span class="comment">// A'-&gt;B'-&gt;C'</span></span><br><span class="line">    Node head_old = head.next;</span><br><span class="line">    <span class="keyword">while</span> (ptr_old_list != <span class="keyword">null</span>) &#123;</span><br><span class="line">      ptr_old_list.next = ptr_old_list.next.next;</span><br><span class="line">      ptr_new_list.next = (ptr_new_list.next != <span class="keyword">null</span>) ? ptr_new_list.next.next : <span class="keyword">null</span>;</span><br><span class="line">      ptr_old_list = ptr_old_list.next;</span><br><span class="line">      ptr_new_list = ptr_new_list.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> head_old;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">```    </span><br><span class="line">&lt;/details&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;details&gt;</span><br><span class="line">    &lt;summary&gt;O(1)ç©ºé—´çš„è¿­ä»£Python&lt;/summary&gt;</span><br><span class="line"></span><br><span class="line">```Python []</span><br><span class="line">class Solution(object):</span><br><span class="line">    <span class="function">def <span class="title">copyRandomList</span><span class="params">(self, head)</span>:</span></span><br><span class="line"><span class="function">        """</span></span><br><span class="line"><span class="function">        :type head: Node</span></span><br><span class="line"><span class="function">        :rtype: Node</span></span><br><span class="line"><span class="function">        """</span></span><br><span class="line"><span class="function">        <span class="keyword">if</span> not head:</span></span><br><span class="line"><span class="function">            return head</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        # Creating a new weaved list of original and copied nodes.</span></span><br><span class="line"><span class="function">        ptr </span>= head</span><br><span class="line">        <span class="keyword">while</span> ptr:</span><br><span class="line"></span><br><span class="line">            # Cloned node</span><br><span class="line">            new_node = Node(ptr.val, None, None)</span><br><span class="line"></span><br><span class="line">            # Inserting the cloned node just next to the original node.</span><br><span class="line">            # If A-&gt;B-&gt;C is the original linked list,</span><br><span class="line">            # Linked list after weaving cloned nodes would be A-&gt;A'-&gt;B-&gt;B'-&gt;C-&gt;C'</span><br><span class="line">            new_node.next = ptr.next</span><br><span class="line">            ptr.next = new_node</span><br><span class="line">            ptr = new_node.next</span><br><span class="line"></span><br><span class="line">        ptr = head</span><br><span class="line"></span><br><span class="line">        # Now link the random pointers of the new nodes created.</span><br><span class="line">        # Iterate the newly created list and use the original nodes random pointers,</span><br><span class="line">        # to assign references to random pointers for cloned nodes.</span><br><span class="line">        <span class="keyword">while</span> ptr:</span><br><span class="line">            ptr.next.random = ptr.random.next <span class="keyword">if</span> ptr.random <span class="keyword">else</span> None</span><br><span class="line">            ptr = ptr.next.next</span><br><span class="line"></span><br><span class="line">        # Unweave the linked list to get back the original linked list and the cloned list.</span><br><span class="line">        # i.e. A-&gt;A'-&gt;B-&gt;B'-&gt;C-&gt;C' would be broken to A-&gt;B-&gt;C and A'-&gt;B'-&gt;C'</span><br><span class="line">        ptr_old_list = head # A-&gt;B-&gt;C</span><br><span class="line">        ptr_new_list = head.next # A'-&gt;B'-&gt;C'</span><br><span class="line">        head_old = head.next</span><br><span class="line">        <span class="keyword">while</span> ptr_old_list:</span><br><span class="line">            ptr_old_list.next = ptr_old_list.next.next</span><br><span class="line">            ptr_new_list.next = ptr_new_list.next.next <span class="keyword">if</span> ptr_new_list.next <span class="keyword">else</span> None</span><br><span class="line">            ptr_old_list = ptr_old_list.next</span><br><span class="line">            ptr_new_list = ptr_new_list.next</span><br><span class="line">        <span class="keyword">return</span> head_old</span><br><span class="line">```    </span><br><span class="line">&lt;/details&gt;</span><br><span class="line">&lt;details&gt;</span><br><span class="line">    &lt;summary&gt;O(1)ç©ºé—´çš„è¿­ä»£C++&lt;/summary&gt;</span><br></pre></td></tr></table></figure><p>/**</p><ul><li><p>Definition for singly-linked list with a random pointer.</p></li><li><p>struct RandomListNode {</p></li><li><p>int label;</p></li><li><p>RandomListNode *next, *random;</p></li><li><p>RandomListNode(int x) : label(x), next(NULL), random(NULL) {}</p></li><li><p>};</p><p> å‰‘æŒ‡Offer é¢è¯•é¢˜ï¼’ï¼–ã€€å¤æ‚é“¾è¡¨çš„å¤åˆ¶</p></li><li><p>/<br>class Solution {<br>public:<br>  RandomListNode *copyRandomList(RandomListNode *head) {</p><pre><code>CloneNodes(head);ConnectRandomNodes(head);return ReconnectNodes(head);</code></pre><p>  }</p></li></ul><pre><code>void CloneNodes(RandomListNode* pHead){    RandomListNode *pNode=pHead;    while(pNode!=NULL){        RandomListNode *pCloned;//= new RandomListNode();        /* copy the node and create the new node */        pCloned=new RandomListNode(pNode-&gt;label);       // pCloned-&gt;label=pNode-&gt;label;        pCloned-&gt;next=pNode-&gt;next;        pCloned-&gt;random=NULL;        pNode-&gt;next=pCloned;// connect the new clone node to the old node        pNode=pCloned-&gt;next;// push forward = i++    }}void ConnectRandomNodes(RandomListNode *pHead){    RandomListNode *pNode=pHead;    while(pNode!= NULL){        RandomListNode *pCloned=pNode-&gt;next;        if(pNode-&gt;random!=NULL){            pCloned-&gt;random = pNode-&gt;random-&gt;next;// pNode-&gt;random-&gt;next point to the next Clone Node which can see the graph of the P149        }        pNode= pCloned-&gt;next;// push forward to the next Node    }}RandomListNode * ReconnectNodes(RandomListNode *pHead){    RandomListNode *pNode=pHead;    RandomListNode *pClonedHead=NULL;    RandomListNode *pClonedNode = NULL;    if(pNode!=NULL){        pClonedHead= pClonedNode= pNode-&gt; next;        pNode-&gt;next=pClonedNode-&gt;next;        pNode = pNode-&gt;next;    }    while(pNode!= NULL){        pClonedNode-&gt;next= pNode-&gt;next;        pClonedNode=pClonedNode-&gt;next;        pNode-&gt;next=pClonedNode-&gt;next;        pNode=pNode-&gt;next;    }    return pClonedHead;}</code></pre><p>};<br>//runtime:50 ms<br>//memory:N/A</p><p>```</p></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)</em></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>    </li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ªé¢å¤–å¢åŠ çš„éšæœºæŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆå¯ä»¥æŒ‡å‘é“¾è¡¨ä¸­çš„ä»»ä½•èŠ‚ç‚¹æˆ–ç©ºèŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;è¦æ±‚è¿”å›è¿™ä¸ªé“¾è¡¨çš„ æ·±æ‹·è´ã€‚å¾ˆç»å…¸çš„ä¸€é“é¢˜ï¼Œä¹Ÿæ˜¯å‰‘æŒ‡Offer ä¸Šçš„é¢è¯•é¢˜26. å¤æ‚é“¾è¡¨çš„å¤åˆ¶ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´7æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B47%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
  </entry>
  
  <entry>
    <title>150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼</title>
    <link href="http://yoursite.com/2020/07/23/150.%20%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B1%82%E5%80%BC/"/>
    <id>http://yoursite.com/2020/07/23/150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼/</id>
    <published>2020-07-23T07:36:12.000Z</published>
    <updated>2020-07-23T08:21:38.495Z</updated>
    
    <content type="html"><![CDATA[<p>æ ¹æ® é€†æ³¢å…°è¡¨ç¤ºæ³•ï¼Œæ±‚è¡¨è¾¾å¼çš„å€¼ã€‚</p><p>æœ‰æ•ˆçš„è¿ç®—ç¬¦åŒ…æ‹¬ +, -, *, / ã€‚æ¯ä¸ªè¿ç®—å¯¹è±¡å¯ä»¥æ˜¯æ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å¦ä¸€ä¸ªé€†æ³¢å…°è¡¨è¾¾å¼ã€‚</p><a id="more"></a><p>è¯´æ˜ï¼š</p><p>æ•´æ•°é™¤æ³•åªä¿ç•™æ•´æ•°éƒ¨åˆ†ã€‚<br>ç»™å®šé€†æ³¢å…°è¡¨è¾¾å¼æ€»æ˜¯æœ‰æ•ˆçš„ã€‚æ¢å¥è¯è¯´ï¼Œè¡¨è¾¾å¼æ€»ä¼šå¾—å‡ºæœ‰æ•ˆæ•°å€¼ä¸”ä¸å­˜åœ¨é™¤æ•°ä¸º 0 çš„æƒ…å†µã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥: [&quot;2&quot;, &quot;1&quot;, &quot;+&quot;, &quot;3&quot;, &quot;*&quot;]è¾“å‡º: 9è§£é‡Š: è¯¥ç®—å¼è½¬åŒ–ä¸ºå¸¸è§çš„ä¸­ç¼€ç®—æœ¯è¡¨è¾¾å¼ä¸ºï¼š((2 + 1) * 3) = 9</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥: [&quot;4&quot;, &quot;13&quot;, &quot;5&quot;, &quot;/&quot;, &quot;+&quot;]è¾“å‡º: 6è§£é‡Š: è¯¥ç®—å¼è½¬åŒ–ä¸ºå¸¸è§çš„ä¸­ç¼€ç®—æœ¯è¡¨è¾¾å¼ä¸ºï¼š(4 + (13 / 5)) = 6</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥: [&quot;10&quot;, &quot;6&quot;, &quot;9&quot;, &quot;3&quot;, &quot;+&quot;, &quot;-11&quot;, &quot;*&quot;, &quot;/&quot;, &quot;*&quot;, &quot;17&quot;, &quot;+&quot;, &quot;5&quot;, &quot;+&quot;]è¾“å‡º: 22è§£é‡Š: è¯¥ç®—å¼è½¬åŒ–ä¸ºå¸¸è§çš„ä¸­ç¼€ç®—æœ¯è¡¨è¾¾å¼ä¸ºï¼š  ((10 * (6 / ((9 + 3) * -11))) + 17) + 5= ((10 * (6 / (12 * -11))) + 17) + 5= ((10 * (6 / -132)) + 17) + 5= ((10 * 0) + 17) + 5= (0 + 17) + 5= 17 + 5= 22</code></pre><p>é€†æ³¢å…°è¡¨è¾¾å¼ï¼š</p><p>é€†æ³¢å…°è¡¨è¾¾å¼æ˜¯ä¸€ç§åç¼€è¡¨è¾¾å¼ï¼Œæ‰€è°“åç¼€å°±æ˜¯æŒ‡ç®—ç¬¦å†™åœ¨åé¢ã€‚</p><ul><li>å¹³å¸¸ä½¿ç”¨çš„ç®—å¼åˆ™æ˜¯ä¸€ç§ä¸­ç¼€è¡¨è¾¾å¼ï¼Œå¦‚ ( 1 + 2 ) * ( 3 + 4 ) ã€‚</li><li>è¯¥ç®—å¼çš„é€†æ³¢å…°è¡¨è¾¾å¼å†™æ³•ä¸º ( ( 1 2 + ) ( 3 4 + ) * ) ã€‚</li></ul><p>é€†æ³¢å…°è¡¨è¾¾å¼ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªä¼˜ç‚¹ï¼š</p><ul><li>å»æ‰æ‹¬å·åè¡¨è¾¾å¼æ— æ­§ä¹‰ï¼Œä¸Šå¼å³ä¾¿å†™æˆ 1 2 + 3 4 + * ä¹Ÿå¯ä»¥ä¾æ®æ¬¡åºè®¡ç®—å‡ºæ­£ç¡®ç»“æœã€‚</li><li>é€‚åˆç”¨æ ˆæ“ä½œè¿ç®—ï¼šé‡åˆ°æ•°å­—åˆ™å…¥æ ˆï¼›é‡åˆ°ç®—ç¬¦åˆ™å–å‡ºæ ˆé¡¶ä¸¤ä¸ªæ•°å­—è¿›è¡Œè®¡ç®—ï¼Œå¹¶å°†ç»“æœå‹å…¥æ ˆä¸­ã€‚</li></ul><h1 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h1><p>æˆ‘é¦–å…ˆæƒ³åˆ°çš„æ˜¯ç”¨æ ˆçš„è§£æ³•</p><p><strong>Javaç›¸å…³ä¼˜åŒ–æ“ä½œï¼š</strong></p><ul><li>switchä»£æ›¿if-elseï¼Œæ•ˆç‡ä¼˜åŒ–</li><li>Integer.parseIntä»£æ›¿Integer.valueOf,å‡å°‘è‡ªåŠ¨æ‹†ç®±è£…ç®±æ“ä½œ</li></ul><details>    <summary>æ ˆ</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Stack;</span><br><span class="line">class Solution &#123;</span><br><span class="line">    public int evalRPN(String[] tokens) &#123;</span><br><span class="line">        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();</span><br><span class="line">        for (String s : tokens) &#123;</span><br><span class="line">            if (!isOp(s)) &#123;</span><br><span class="line">                stack.push(Integer.parseInt(s));</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                int ans = res(s.charAt(0), stack.pop(), stack.pop());</span><br><span class="line">                stack.push(ans);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return stack.pop();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private boolean isOp(String s) &#123;</span><br><span class="line">        if (s.length() &gt; 1) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        switch (s.charAt(0)) &#123;</span><br><span class="line">            case &apos;*&apos;:</span><br><span class="line">                return true; //å› ä¸ºç›´æ¥è¿”å›äº†æ‰€ä»¥ä¸åŠ breakäº†</span><br><span class="line">            case &apos;/&apos;:</span><br><span class="line">                return true;</span><br><span class="line">            case &apos;+&apos;:</span><br><span class="line">                return true;</span><br><span class="line">            case &apos;-&apos;:</span><br><span class="line">                return true;</span><br><span class="line">            default:</span><br><span class="line">                return false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private int res(char op, int b, int a) &#123;</span><br><span class="line">        int res=0;</span><br><span class="line">        switch (op) &#123;</span><br><span class="line">            case &apos;*&apos;:</span><br><span class="line">                res = a * b;</span><br><span class="line">                break;</span><br><span class="line">            case &apos;/&apos;:</span><br><span class="line">                res = a / b;</span><br><span class="line">                break;</span><br><span class="line">            case &apos;+&apos;:</span><br><span class="line">                res = a + b;</span><br><span class="line">                break;</span><br><span class="line">            case &apos;-&apos;:</span><br><span class="line">                res = a - b;</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="çº¯æ•°ç»„æ¨¡æ‹Ÿæ ˆå®ç°ï¼š"><a href="#çº¯æ•°ç»„æ¨¡æ‹Ÿæ ˆå®ç°ï¼š" class="headerlink" title="çº¯æ•°ç»„æ¨¡æ‹Ÿæ ˆå®ç°ï¼š"></a>çº¯æ•°ç»„æ¨¡æ‹Ÿæ ˆå®ç°ï¼š</h1><p><strong>å…¶ä»–Javaç›¸å…³ä¼˜åŒ–æ“ä½œï¼š</strong></p><ul><li>æ•°ç»„æœ€å¤§é•¿åº¦ä¸º<code>tokens.length / 2 + 1</code></li></ul><details>    <summary>çº¯æ•°ç»„æ¨¡æ‹Ÿæ ˆå®ç°(æ¨è)</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="comment">//çº¯æ•°ç»„æ¨¡æ‹Ÿæ ˆå®ç°(æ¨è)   3 ms36 MB</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">evalRPN</span><span class="params">(String[] tokens)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span>[] numStack = <span class="keyword">new</span> <span class="keyword">int</span>[tokens.length / <span class="number">2</span> + <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (String s : tokens) &#123;</span><br><span class="line"><span class="keyword">switch</span> (s) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"+"</span>:</span><br><span class="line">numStack[index - <span class="number">2</span>] += numStack[--index];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"-"</span>:</span><br><span class="line">numStack[index - <span class="number">2</span>] -= numStack[--index];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"*"</span>:</span><br><span class="line">numStack[index - <span class="number">2</span>] *= numStack[--index];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">"/"</span>:</span><br><span class="line">numStack[index - <span class="number">2</span>] /= numStack[--index];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="comment">// numStack[index++] = Integer.valueOf(s);</span></span><br><span class="line"><span class="comment">//valueOfæ”¹ä¸ºparseIntï¼Œå‡å°‘è‡ªåŠ¨æ‹†ç®±è£…ç®±æ“ä½œ</span></span><br><span class="line">numStack[index++] = Integer.parseInt(s);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> numStack[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ ¹æ® é€†æ³¢å…°è¡¨ç¤ºæ³•ï¼Œæ±‚è¡¨è¾¾å¼çš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰æ•ˆçš„è¿ç®—ç¬¦åŒ…æ‹¬ +, -, *, / ã€‚æ¯ä¸ªè¿ç®—å¯¹è±¡å¯ä»¥æ˜¯æ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å¦ä¸€ä¸ªé€†æ³¢å…°è¡¨è¾¾å¼ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´7æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B47%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Stack" scheme="http://yoursite.com/tags/Stack/"/>
    
  </entry>
  
  <entry>
    <title>341. æ‰å¹³åŒ–åµŒå¥—åˆ—è¡¨è¿­ä»£å™¨</title>
    <link href="http://yoursite.com/2020/07/23/341.%20%E6%89%81%E5%B9%B3%E5%8C%96%E5%B5%8C%E5%A5%97%E5%88%97%E8%A1%A8%E8%BF%AD%E4%BB%A3%E5%99%A8/"/>
    <id>http://yoursite.com/2020/07/23/341. æ‰å¹³åŒ–åµŒå¥—åˆ—è¡¨è¿­ä»£å™¨/</id>
    <published>2020-07-23T06:21:12.000Z</published>
    <updated>2020-07-23T07:34:33.200Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªåµŒå¥—çš„æ•´å‹åˆ—è¡¨ã€‚è¯·ä½ è®¾è®¡ä¸€ä¸ªè¿­ä»£å™¨ï¼Œä½¿å…¶èƒ½å¤Ÿéå†è¿™ä¸ªæ•´å‹åˆ—è¡¨ä¸­çš„æ‰€æœ‰æ•´æ•°ã€‚</p><p>åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹æˆ–è€…ä¸ºä¸€ä¸ªæ•´æ•°ï¼Œæˆ–è€…æ˜¯å¦ä¸€ä¸ªåˆ—è¡¨ã€‚å…¶ä¸­åˆ—è¡¨çš„å…ƒç´ ä¹Ÿå¯èƒ½æ˜¯æ•´æ•°æˆ–æ˜¯å…¶ä»–åˆ—è¡¨ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: [[1,1],2,[1,1]]è¾“å‡º: [1,1,2,1,1]è§£é‡Š: é€šè¿‡é‡å¤è°ƒç”¨ next ç›´åˆ° hasNext è¿”å› falseï¼Œnext è¿”å›çš„å…ƒç´ çš„é¡ºåºåº”è¯¥æ˜¯: [1,1,2,1,1]ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: [1,[4,[6]]]è¾“å‡º: [1,4,6]è§£é‡Š: é€šè¿‡é‡å¤è°ƒç”¨ next ç›´åˆ° hasNext è¿”å› falseï¼Œnext è¿”å›çš„å…ƒç´ çš„é¡ºåºåº”è¯¥æ˜¯: [1,4,6]ã€‚</code></pre><h1 id="é€’å½’ï¼š"><a href="#é€’å½’ï¼š" class="headerlink" title="é€’å½’ï¼š"></a>é€’å½’ï¼š</h1><p>ç®€å•ç²—æš´ï¼Œåœ¨åˆå§‹åŒ–è¿­ä»£å™¨çš„æ—¶å€™å°±ç›´æ¥æŠŠç»“æœéå†å‡ºæ¥ï¼Œé€’å½’éå†åˆ—è¡¨ä¸­çš„æ•°æ®ï¼Œæ˜¯æ•´æ•°å°±æ”¾å…¥Listï¼Œä¸æ˜¯åˆ™å†é€’å½’éå†ï¼Œä»£ç ç»“æ„ç®€å•ã€‚ä½†è¿™ç§è§£æ³•å¾ˆå¥‡æ€ªï¼Œå› ä¸ºé¢˜ç›®æ²¡ç»™æ•°æ®ç»“æ„çš„å…·ä½“ç»“æ„ï¼Œä¸çŸ¥é“å“ªæ¥çš„isInteger()è¿™ç§åº“å‡½æ•°çš„</p><details>    <summary>é€’å½’</summary><pre><code class="java"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NestedIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Integer</span>&gt; </span>{    <span class="keyword">private</span> List&lt;Integer&gt; list;    <span class="keyword">private</span> <span class="keyword">int</span> index;    <span class="function"><span class="keyword">public</span> <span class="title">NestedIterator</span><span class="params">(List&lt;NestedInteger&gt; nestedList)</span> </span>{        list = integerIterator(nestedList);        index = -<span class="number">1</span>;    }    <span class="meta">@Override</span>    <span class="function"><span class="keyword">public</span> Integer <span class="title">next</span><span class="params">()</span> </span>{        <span class="keyword">if</span> (<span class="keyword">this</span>.hasNext())  <span class="keyword">return</span> list.get(++index);        <span class="keyword">return</span> <span class="keyword">null</span>;    }    <span class="meta">@Override</span>    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>{        <span class="keyword">if</span> (index + <span class="number">1</span> &lt; list.size()) <span class="keyword">return</span> <span class="keyword">true</span>;        <span class="keyword">return</span> <span class="keyword">false</span>;    }    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">integerIterator</span><span class="params">(List&lt;NestedInteger&gt; nestedIntegerList)</span> </span>{        ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;(nestedIntegerList.size());        <span class="keyword">for</span> (NestedInteger tmp : nestedIntegerList) {            <span class="keyword">if</span> (tmp.isInteger())                 list.add(tmp.getInteger());            <span class="keyword">else</span>                 list.addAll(integerIterator(tmp.getList()));        }        <span class="keyword">return</span> list;    }}</code></pre></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ªåµŒå¥—çš„æ•´å‹åˆ—è¡¨ã€‚è¯·ä½ è®¾è®¡ä¸€ä¸ªè¿­ä»£å™¨ï¼Œä½¿å…¶èƒ½å¤Ÿéå†è¿™ä¸ªæ•´å‹åˆ—è¡¨ä¸­çš„æ‰€æœ‰æ•´æ•°ã€‚&lt;/p&gt;
&lt;p&gt;åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹æˆ–è€…ä¸ºä¸€ä¸ªæ•´æ•°ï¼Œæˆ–è€…æ˜¯å¦ä¸€ä¸ªåˆ—è¡¨ã€‚å…¶ä¸­åˆ—è¡¨çš„å…ƒç´ ä¹Ÿå¯èƒ½æ˜¯æ•´æ•°æˆ–æ˜¯å…¶ä»–åˆ—è¡¨ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´7æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B47%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Stack" scheme="http://yoursite.com/tags/Stack/"/>
    
      <category term="Design" scheme="http://yoursite.com/tags/Design/"/>
    
  </entry>
  
</feed>
