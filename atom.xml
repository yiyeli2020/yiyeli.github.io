<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yiye Li</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2021-12-24T12:12:22.782Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Yiye Li</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>423. ä»è‹±æ–‡ä¸­é‡å»ºæ•°å­—</title>
    <link href="http://yoursite.com/2021/12/24/423.%20%E4%BB%8E%E8%8B%B1%E6%96%87%E4%B8%AD%E9%87%8D%E5%BB%BA%E6%95%B0%E5%AD%97/"/>
    <id>http://yoursite.com/2021/12/24/423. ä»è‹±æ–‡ä¸­é‡å»ºæ•°å­—/</id>
    <published>2021-12-24T10:12:12.000Z</published>
    <updated>2021-12-24T12:12:22.782Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œå…¶ä¸­åŒ…å«å­—æ¯é¡ºåºæ‰“ä¹±çš„ç”¨è‹±æ–‡å•è¯è¡¨ç¤ºçš„è‹¥å¹²æ•°å­—ï¼ˆ0-9ï¼‰ã€‚æŒ‰ å‡åº è¿”å›åŸå§‹çš„æ•°å­—ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;owoztneoer&quot;è¾“å‡ºï¼š&quot;012&quot;</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;fviefuro&quot;è¾“å‡ºï¼š&quot;45&quot;</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= s.length &lt;= 105s[i] ä¸º [&quot;e&quot;,&quot;g&quot;,&quot;f&quot;,&quot;i&quot;,&quot;h&quot;,&quot;o&quot;,&quot;n&quot;,&quot;s&quot;,&quot;r&quot;,&quot;u&quot;,&quot;t&quot;,&quot;w&quot;,&quot;v&quot;,&quot;x&quot;,&quot;z&quot;] è¿™äº›å­—ç¬¦ä¹‹ä¸€s ä¿è¯æ˜¯ä¸€ä¸ªç¬¦åˆé¢˜ç›®è¦æ±‚çš„å­—ç¬¦ä¸²</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šä¾æ¬¡ç¡®å®šæ¯ä¸€ä¸ªæ•°å­—çš„æ¬¡æ•°-1"><a href="#æ–¹æ³•ä¸€ï¼šä¾æ¬¡ç¡®å®šæ¯ä¸€ä¸ªæ•°å­—çš„æ¬¡æ•°-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šä¾æ¬¡ç¡®å®šæ¯ä¸€ä¸ªæ•°å­—çš„æ¬¡æ•°^1"></a>æ–¹æ³•ä¸€ï¼šä¾æ¬¡ç¡®å®šæ¯ä¸€ä¸ªæ•°å­—çš„æ¬¡æ•°<a href="https://leetcode-cn.com/problems/reconstruct-original-digits-from-english/solution/cong-ying-wen-zhong-zhong-jian-shu-zi-by-9g1r/" target="_blank" rel="noopener">^1</a></h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>é¦–å…ˆæˆ‘ä»¬å¯ä»¥ç»Ÿè®¡æ¯ä¸ªå­—æ¯åˆ†åˆ«åœ¨å“ªäº›æ•°å­—ä¸­å‡ºç°ï¼š</p><table><thead><tr><th align="center">å­—æ¯</th><th align="center">æ•°å­—</th></tr></thead><tbody><tr><td align="center">e</td><td align="center">0 1 3 5 7 8 9</td></tr><tr><td align="center">f</td><td align="center">4 5</td></tr><tr><td align="center">g</td><td align="center">8</td></tr><tr><td align="center">h</td><td align="center">3 8</td></tr><tr><td align="center">i</td><td align="center">5 6 8 9</td></tr><tr><td align="center">n</td><td align="center">1 7 9</td></tr><tr><td align="center">o</td><td align="center">0 1 2 4</td></tr><tr><td align="center">r</td><td align="center">0 3 4</td></tr><tr><td align="center">s</td><td align="center">6 7</td></tr><tr><td align="center">t</td><td align="center">2 3 8</td></tr><tr><td align="center">u</td><td align="center">4</td></tr><tr><td align="center">v</td><td align="center">5 7</td></tr><tr><td align="center">w</td><td align="center">2</td></tr><tr><td align="center">x</td><td align="center">6</td></tr><tr><td align="center">z</td><td align="center">0</td></tr></tbody></table><p>å¯ä»¥å‘ç°ï¼Œz,w,u,x,g éƒ½åªåœ¨ä¸€ä¸ªæ•°å­—ä¸­ï¼Œå³ <em>0, 2, 4, 6, 8</em> ä¸­å‡ºç°ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨ç»Ÿè®¡æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°ï¼Œé‚£ä¹ˆ z,w,u,x,g å‡ºç°çš„æ¬¡æ•°ï¼Œå³åˆ†åˆ«ä¸º <em>0, 2, 4, 6, 8</em> å‡ºç°çš„æ¬¡æ•°ã€‚</p><p>éšåæˆ‘ä»¬å¯ä»¥æ³¨æ„é‚£äº›åªåœ¨ä¸¤ä¸ªæ•°å­—ä¸­å‡ºç°çš„å­—ç¬¦ï¼š</p><ul><li><p>h  åªåœ¨ <em>3, 8</em> ä¸­å‡ºç°ã€‚ç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† <em>8</em> å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º <em>3</em> å‡ºç°çš„æ¬¡æ•°ã€‚</p></li><li><p>f  åªåœ¨ <em>4, 5</em> ä¸­å‡ºç°ã€‚ç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† <em>4</em> å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º <em>5</em> å‡ºç°çš„æ¬¡æ•°ã€‚</p></li><li><p>s  åªåœ¨ <em>6, 7</em> ä¸­å‡ºç°ã€‚ç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† <em>6</em> å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º <em>7</em> å‡ºç°çš„æ¬¡æ•°ã€‚</p></li></ul><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬è¿˜å‰©ä¸‹ <em>1</em> å’Œ <em>9</em> çš„å‡ºç°æ¬¡æ•°æ²¡æœ‰æ±‚å‡ºï¼š</p><ul><li>o  åªåœ¨ <em>0, 1, 2, 4</em> ä¸­å‡ºç°ï¼Œç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† <em>0, 2, 4</em> å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º <em>1</em> å‡ºç°çš„æ¬¡æ•°ã€‚</li></ul><p>æœ€åçš„ <em>9</em> å°±å¯ä»¥é€šè¿‡ n,i,e ä¸­çš„ä»»ä¸€å­—ç¬¦è®¡ç®—å¾—åˆ°äº†ã€‚è¿™é‡Œæ¨èä½¿ç”¨ i  è¿›è¡Œè®¡ç®—ï¼Œå› ä¸º n åœ¨ <em>9</em> ä¸­å‡ºç°äº† <em>2</em> æ¬¡ï¼Œe åœ¨ <em>3</em> ä¸­å‡ºç°äº† <em>2</em> æ¬¡ï¼Œå®¹æ˜“åœ¨è®¡ç®—ä¸­é—æ¼ã€‚</p><p>å½“æˆ‘ä»¬ç»Ÿè®¡å®Œæ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°åï¼Œæˆ‘ä»¬æŒ‰ç…§å‡åºå°†å®ƒä»¬è¿›è¡Œæ‹¼æ¥å³å¯ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">originalDigits</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt; c;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> ch: s) &#123;</span><br><span class="line">            ++c[ch];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; cnt(<span class="number">10</span>);</span><br><span class="line">        cnt[<span class="number">0</span>] = c[<span class="string">'z'</span>];</span><br><span class="line">        cnt[<span class="number">2</span>] = c[<span class="string">'w'</span>];</span><br><span class="line">        cnt[<span class="number">4</span>] = c[<span class="string">'u'</span>];</span><br><span class="line">        cnt[<span class="number">6</span>] = c[<span class="string">'x'</span>];</span><br><span class="line">        cnt[<span class="number">8</span>] = c[<span class="string">'g'</span>];</span><br><span class="line"></span><br><span class="line">        cnt[<span class="number">3</span>] = c[<span class="string">'h'</span>] - cnt[<span class="number">8</span>];</span><br><span class="line">        cnt[<span class="number">5</span>] = c[<span class="string">'f'</span>] - cnt[<span class="number">4</span>];</span><br><span class="line">        cnt[<span class="number">7</span>] = c[<span class="string">'s'</span>] - cnt[<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">        cnt[<span class="number">1</span>] = c[<span class="string">'o'</span>] - cnt[<span class="number">0</span>] - cnt[<span class="number">2</span>] - cnt[<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">        cnt[<span class="number">9</span>] = c[<span class="string">'i'</span>] - cnt[<span class="number">5</span>] - cnt[<span class="number">6</span>] - cnt[<span class="number">8</span>];</span><br><span class="line"></span><br><span class="line">        <span class="built_in">string</span> ans;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cnt[i]; ++j) &#123;</span><br><span class="line">                ans += <span class="keyword">char</span>(i + <span class="string">'0'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">originalDigits</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        Map&lt;Character, Integer&gt; c = <span class="keyword">new</span> HashMap&lt;Character, Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); ++i) &#123;</span><br><span class="line">            <span class="keyword">char</span> ch = s.charAt(i);</span><br><span class="line">            c.put(ch, c.getOrDefault(ch, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span>[] cnt = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line">        cnt[<span class="number">0</span>] = c.getOrDefault(<span class="string">'z'</span>, <span class="number">0</span>);</span><br><span class="line">        cnt[<span class="number">2</span>] = c.getOrDefault(<span class="string">'w'</span>, <span class="number">0</span>);</span><br><span class="line">        cnt[<span class="number">4</span>] = c.getOrDefault(<span class="string">'u'</span>, <span class="number">0</span>);</span><br><span class="line">        cnt[<span class="number">6</span>] = c.getOrDefault(<span class="string">'x'</span>, <span class="number">0</span>);</span><br><span class="line">        cnt[<span class="number">8</span>] = c.getOrDefault(<span class="string">'g'</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        cnt[<span class="number">3</span>] = c.getOrDefault(<span class="string">'h'</span>, <span class="number">0</span>) - cnt[<span class="number">8</span>];</span><br><span class="line">        cnt[<span class="number">5</span>] = c.getOrDefault(<span class="string">'f'</span>, <span class="number">0</span>) - cnt[<span class="number">4</span>];</span><br><span class="line">        cnt[<span class="number">7</span>] = c.getOrDefault(<span class="string">'s'</span>, <span class="number">0</span>) - cnt[<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">        cnt[<span class="number">1</span>] = c.getOrDefault(<span class="string">'o'</span>, <span class="number">0</span>) - cnt[<span class="number">0</span>] - cnt[<span class="number">2</span>] - cnt[<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">        cnt[<span class="number">9</span>] = c.getOrDefault(<span class="string">'i'</span>, <span class="number">0</span>) - cnt[<span class="number">5</span>] - cnt[<span class="number">6</span>] - cnt[<span class="number">8</span>];</span><br><span class="line"></span><br><span class="line">        StringBuffer ans = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cnt[i]; ++j) &#123;</span><br><span class="line">                ans.append((<span class="keyword">char</span>) (i + <span class="string">'0'</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public string OriginalDigits(string s) &#123;</span><br><span class="line">        Dictionary&lt;char, int&gt; c = new Dictionary&lt;char, int&gt;();</span><br><span class="line">        foreach (char ch in s) &#123;</span><br><span class="line">            if (!c.ContainsKey(ch)) &#123;</span><br><span class="line">                c.Add(ch, 0);</span><br><span class="line">            &#125;</span><br><span class="line">            ++c[ch];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        int[] cnt = new int[10];</span><br><span class="line">        cnt[0] = c.ContainsKey(&apos;z&apos;) ? c[&apos;z&apos;] : 0;</span><br><span class="line">        cnt[2] = c.ContainsKey(&apos;w&apos;) ? c[&apos;w&apos;] : 0;</span><br><span class="line">        cnt[4] = c.ContainsKey(&apos;u&apos;) ? c[&apos;u&apos;] : 0;</span><br><span class="line">        cnt[6] = c.ContainsKey(&apos;x&apos;) ? c[&apos;x&apos;] : 0;</span><br><span class="line">        cnt[8] = c.ContainsKey(&apos;g&apos;) ? c[&apos;g&apos;] : 0;</span><br><span class="line"></span><br><span class="line">        cnt[3] = (c.ContainsKey(&apos;h&apos;) ? c[&apos;h&apos;] : 0) - cnt[8];</span><br><span class="line">        cnt[5] = (c.ContainsKey(&apos;f&apos;) ? c[&apos;f&apos;] : 0) - cnt[4];</span><br><span class="line">        cnt[7] = (c.ContainsKey(&apos;s&apos;) ? c[&apos;s&apos;] : 0) - cnt[6];</span><br><span class="line"></span><br><span class="line">        cnt[1] = (c.ContainsKey(&apos;o&apos;) ? c[&apos;o&apos;] : 0) - cnt[0] - cnt[2] - cnt[4];</span><br><span class="line"></span><br><span class="line">        cnt[9] = (c.ContainsKey(&apos;i&apos;) ? c[&apos;i&apos;] : 0) - cnt[5] - cnt[6] - cnt[8];</span><br><span class="line"></span><br><span class="line">        StringBuilder ans = new StringBuilder();</span><br><span class="line">        for (int i = 0; i &lt; 10; ++i) &#123;</span><br><span class="line">            for (int j = 0; j &lt; cnt[i]; ++j) &#123;</span><br><span class="line">                ans.Append((char) (i + &apos;0&apos;));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return ans.ToString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">originalDigits</span><span class="params">(self, s: str)</span> -&gt; str:</span></span><br><span class="line">        c = Counter(s)</span><br><span class="line"></span><br><span class="line">        cnt = [<span class="number">0</span>] * <span class="number">10</span></span><br><span class="line">        cnt[<span class="number">0</span>] = c[<span class="string">"z"</span>]</span><br><span class="line">        cnt[<span class="number">2</span>] = c[<span class="string">"w"</span>]</span><br><span class="line">        cnt[<span class="number">4</span>] = c[<span class="string">"u"</span>]</span><br><span class="line">        cnt[<span class="number">6</span>] = c[<span class="string">"x"</span>]</span><br><span class="line">        cnt[<span class="number">8</span>] = c[<span class="string">"g"</span>]</span><br><span class="line"></span><br><span class="line">        cnt[<span class="number">3</span>] = c[<span class="string">"h"</span>] - cnt[<span class="number">8</span>]</span><br><span class="line">        cnt[<span class="number">5</span>] = c[<span class="string">"f"</span>] - cnt[<span class="number">4</span>]</span><br><span class="line">        cnt[<span class="number">7</span>] = c[<span class="string">"s"</span>] - cnt[<span class="number">6</span>]</span><br><span class="line">        </span><br><span class="line">        cnt[<span class="number">1</span>] = c[<span class="string">"o"</span>] - cnt[<span class="number">0</span>] - cnt[<span class="number">2</span>] - cnt[<span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">        cnt[<span class="number">9</span>] = c[<span class="string">"i"</span>] - cnt[<span class="number">5</span>] - cnt[<span class="number">6</span>] - cnt[<span class="number">8</span>]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>.join(str(x) * cnt[x] <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>))</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">originalDigits</span><span class="params">(s <span class="keyword">string</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    c := <span class="keyword">map</span>[<span class="keyword">rune</span>]<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> _, ch := <span class="keyword">range</span> s &#123;</span><br><span class="line">        c[ch]++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cnt := [<span class="number">10</span>]<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">    cnt[<span class="number">0</span>] = c[<span class="string">'z'</span>]</span><br><span class="line">    cnt[<span class="number">2</span>] = c[<span class="string">'w'</span>]</span><br><span class="line">    cnt[<span class="number">4</span>] = c[<span class="string">'u'</span>]</span><br><span class="line">    cnt[<span class="number">6</span>] = c[<span class="string">'x'</span>]</span><br><span class="line">    cnt[<span class="number">8</span>] = c[<span class="string">'g'</span>]</span><br><span class="line"></span><br><span class="line">    cnt[<span class="number">3</span>] = c[<span class="string">'h'</span>] - cnt[<span class="number">8</span>]</span><br><span class="line">    cnt[<span class="number">5</span>] = c[<span class="string">'f'</span>] - cnt[<span class="number">4</span>]</span><br><span class="line">    cnt[<span class="number">7</span>] = c[<span class="string">'s'</span>] - cnt[<span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">    cnt[<span class="number">1</span>] = c[<span class="string">'o'</span>] - cnt[<span class="number">0</span>] - cnt[<span class="number">2</span>] - cnt[<span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">    cnt[<span class="number">9</span>] = c[<span class="string">'i'</span>] - cnt[<span class="number">5</span>] - cnt[<span class="number">6</span>] - cnt[<span class="number">8</span>]</span><br><span class="line"></span><br><span class="line">    ans := []<span class="keyword">byte</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i, c := <span class="keyword">range</span> cnt &#123;</span><br><span class="line">        ans = <span class="built_in">append</span>(ans, bytes.Repeat([]<span class="keyword">byte</span>&#123;<span class="keyword">byte</span>(<span class="string">'0'</span> + i)&#125;, c)...)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">string</span>(ans)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> originalDigits = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> c = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> ch <span class="keyword">of</span> s) &#123;</span><br><span class="line">        c.set(ch, (c.get(ch) || <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> cnt = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>).fill(<span class="number">0</span>);</span><br><span class="line">    cnt[<span class="number">0</span>] = c.get(<span class="string">'z'</span>) || <span class="number">0</span>;</span><br><span class="line">    cnt[<span class="number">2</span>] = c.get(<span class="string">'w'</span>) || <span class="number">0</span>;</span><br><span class="line">    cnt[<span class="number">4</span>] = c.get(<span class="string">'u'</span>) || <span class="number">0</span>;</span><br><span class="line">    cnt[<span class="number">6</span>] = c.get(<span class="string">'x'</span>) || <span class="number">0</span>;</span><br><span class="line">    cnt[<span class="number">8</span>] = c.get(<span class="string">'g'</span>) || <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    cnt[<span class="number">3</span>] = (c.get(<span class="string">'h'</span>) || <span class="number">0</span>) - cnt[<span class="number">8</span>];</span><br><span class="line">    cnt[<span class="number">5</span>] = (c.get(<span class="string">'f'</span>) || <span class="number">0</span>) - cnt[<span class="number">4</span>];</span><br><span class="line">    cnt[<span class="number">7</span>] = (c.get(<span class="string">'s'</span>) || <span class="number">0</span>) - cnt[<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line">    cnt[<span class="number">1</span>] = (c.get(<span class="string">'o'</span>) || <span class="number">0</span>) - cnt[<span class="number">0</span>] - cnt[<span class="number">2</span>] - cnt[<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">    cnt[<span class="number">9</span>] = (c.get(<span class="string">'i'</span>) || <span class="number">0</span>) - cnt[<span class="number">5</span>] - cnt[<span class="number">6</span>] - cnt[<span class="number">8</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> ans = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; cnt[i]; ++j) &#123;</span><br><span class="line">            ans.push(<span class="built_in">String</span>.fromCharCode(i + <span class="string">'0'</span>.charCodeAt()));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans.join(<span class="string">''</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><h1 id="æ–¹æ³•äºŒï¼šçº¿æ€§ä»£æ•°-2"><a href="#æ–¹æ³•äºŒï¼šçº¿æ€§ä»£æ•°-2" class="headerlink" title="æ–¹æ³•äºŒï¼šçº¿æ€§ä»£æ•°^2"></a>æ–¹æ³•äºŒï¼šçº¿æ€§ä»£æ•°<a href="https://leetcode-cn.com/problems/reconstruct-original-digits-from-english/solution/jian-dan-de-xian-xing-dai-shu-kuai-lai-f-6e01/" target="_blank" rel="noopener">^2</a></h1><h2 id="æç¤º"><a href="#æç¤º" class="headerlink" title="æç¤º"></a>æç¤º</h2><p>å·²çŸ¥æ‰€æœ‰å­—ç¬¦åªèƒ½æœ‰<code>chs = [&quot;e&quot;,&quot;g&quot;,&quot;f&quot;,&quot;i&quot;,&quot;h&quot;,&quot;o&quot;,&quot;n&quot;,&quot;s&quot;,&quot;r&quot;,&quot;u&quot;,&quot;t&quot;,&quot;w&quot;,&quot;v&quot;,&quot;x&quot;,&quot;z&quot;]</code>è¿™15ä¸ªå­—ç¬¦ï¼ˆè¿™å¤§å¤§æ–¹ä¾¿äº†æˆ‘ä»¬æ‰‹ç®—å¢å¹¿çŸ©é˜µğŸ˜­ï¼‰</p><p>ä¸”æ„æˆçš„æ•°å­—ä¸º0åˆ°9</p><ul><li>å»ºä¸€ä¸ª<code>15Ã—10</code>çš„çŸ©é˜µ<code>A</code>,å¯ä»¥è®¤ä¸ºAæ˜¯ä¸€ä¸ª<strong>è¯å‘é‡çŸ©é˜µ</strong>ï¼Œç¬¬<code>i</code>è¡Œè¡¨ç¤ºå¯¹åº”çš„å­—ç¬¦<code>chs[i]</code>ï¼Œæ¯”å¦‚ç¬¬0è¡Œå¯¹åº”å­—ç¬¦â€eâ€ï¼›ç¬¬<code>j</code>åˆ—å‘é‡è¡¨ç¤ºæ•°å­—<code>j</code>ï¼Œæ¯”å¦‚ç¬¬0åˆ—è¡¨ç¤ºæ•°å­—0ï¼Œå¯¹åº”çš„å•è¯ä¸ºâ€zeroâ€, å…¶åˆ—å‘é‡è®°ä¸º<code>[1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1]</code>ã€‚</li><li>ç»™å®šå•è¯è¡¨èŒƒå›´çŸ©é˜µ<code>A</code>å°±å›ºå®šä¸‹æ¥ï¼Œä¸ä¼šå˜äº†ï¼Œä¸é¢˜ç›®ç»™å‡ºçš„å­—ç¬¦ä¸²æ— å…³</li><li>æ„å»º<code>10Ã—1</code>çš„åˆ—å‘é‡<code>X = [n0,n1,...,n9]</code>ï¼Œ<code>X[i]</code>å°±è¡¨ç¤ºæ•°å­—<code>i</code>æœ‰å¤šå°‘ä¸ª</li><li>å°±æœ‰è¿™æ ·çŸ©é˜µæ–¹ç¨‹<code>AX = b</code>ï¼Œå…¶ä¸­<code>b</code>å°±æ˜¯ç»™å‡ºå­—ç¬¦ä¸²çš„å­—ç¬¦ç»Ÿè®¡ï¼ˆä¹Ÿæ˜¯ä¸€ä¸ª<strong>åˆ—å‘é‡</strong>ï¼‰,<code>b[i]</code>è¡¨ç¤º<code>s</code>ä¸­<code>chs[i]</code>çš„ä¸ªæ•°</li><li>é‚£ä¹ˆæˆ‘ä»¬çš„ä»»åŠ¡å°±æ˜¯æ±‚è§£<code>AX = b</code>ï¼Œæ±‚è§£ä¸€ä¸ªéé½æ¬¡çº¿æ€§æ–¹ç¨‹</li></ul><h2 id="è®¡ç®—AçŸ©é˜µ"><a href="#è®¡ç®—AçŸ©é˜µ" class="headerlink" title="è®¡ç®—AçŸ©é˜µ"></a>è®¡ç®—AçŸ©é˜µ</h2><details>    <summary>Python3</summary><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">chs = [<span class="string">"e"</span>,<span class="string">"g"</span>,<span class="string">"f"</span>,<span class="string">"i"</span>,<span class="string">"h"</span>,<span class="string">"o"</span>,<span class="string">"n"</span>,<span class="string">"s"</span>,<span class="string">"r"</span>,<span class="string">"u"</span>,<span class="string">"t"</span>,<span class="string">"w"</span>,<span class="string">"v"</span>,<span class="string">"x"</span>,<span class="string">"z"</span>]</span><br><span class="line">num2en = [<span class="string">'zero'</span>, <span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>, <span class="string">'five'</span>, <span class="string">'six'</span>, <span class="string">'seven'</span>, <span class="string">'eight'</span>, <span class="string">'nine'</span>]</span><br><span class="line">A = []</span><br><span class="line"><span class="keyword">for</span> ch <span class="keyword">in</span> chs:</span><br><span class="line">    row = []</span><br><span class="line">    <span class="keyword">for</span> en <span class="keyword">in</span> num2en:</span><br><span class="line">        row.append(en.count(ch))</span><br><span class="line">    A.append(row)</span><br><span class="line">-----------------------------------------</span><br><span class="line">A = [</span><br><span class="line">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>], </span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure></details><h2 id="è®¡ç®—åˆ—å‘é‡b"><a href="#è®¡ç®—åˆ—å‘é‡b" class="headerlink" title="è®¡ç®—åˆ—å‘é‡b"></a>è®¡ç®—åˆ—å‘é‡b</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chs = [&quot;e&quot;,&quot;g&quot;,&quot;f&quot;,&quot;i&quot;,&quot;h&quot;,&quot;o&quot;,&quot;n&quot;,&quot;s&quot;,&quot;r&quot;,&quot;u&quot;,&quot;t&quot;,&quot;w&quot;,&quot;v&quot;,&quot;x&quot;,&quot;z&quot;]</span><br><span class="line">b = [s.count(ch) for ch in chs]</span><br></pre></td></tr></table></figure><p>å®é™…åœ¨æ‰‹å†™å¢å¹¿çŸ©é˜µçš„æ—¶å€™å¯ä»¥å…ˆä¸ç”¨å¸¦å…¥å€¼ï¼Œå°±ä½¿ç”¨å­—ç¬¦ç¬¦å·</p><h2 id="å¾—åˆ°å¢å¹¿çŸ©é˜µ"><a href="#å¾—åˆ°å¢å¹¿çŸ©é˜µ" class="headerlink" title="å¾—åˆ°å¢å¹¿çŸ©é˜µ"></a>å¾—åˆ°å¢å¹¿çŸ©é˜µ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span> <span class="number">1</span> <span class="number">1</span> | e</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> | g</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | f</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> | i</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> | h</span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | o</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span> | n</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> | s</span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | r</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | u</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> | t</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | w</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> | v</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | x</span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | z</span><br></pre></td></tr></table></figure><h2 id="è®¡ç®—å¢å¹¿çŸ©é˜µ"><a href="#è®¡ç®—å¢å¹¿çŸ©é˜µ" class="headerlink" title="è®¡ç®—å¢å¹¿çŸ©é˜µ"></a>è®¡ç®—å¢å¹¿çŸ©é˜µ</h2><p>ä½¿ç”¨<strong>åˆç­‰è¡Œå˜æ¢</strong>æŠŠå¢å¹¿çŸ©é˜µçš„ç³»æ•°çŸ©é˜µåŒ–ä¸ºé˜¶æ¢¯å‹ï¼Œå› ä¸ºé¢˜ç›®ä¿è¯äº†ã€Œsæ˜¯ä¸€ä¸ªç¬¦åˆé¢˜ç›®è¦æ±‚çš„å­—ç¬¦ä¸²ã€ï¼Œ<strong>æ‰€ä»¥ä¸€å®šæœ‰è§£ä¸”æ˜¯å”¯ä¸€è§£</strong>ã€‚</p><p>æˆ‘å·æ‡’åŒ–åˆ°10ä¸ªè¡Œå‘é‡çº¿æ€§æ— å…³å°±è¡Œäº†ï¼Œæœ€åå¢å¹¿çŸ©é˜µåŒ–ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span> <span class="number">1</span> <span class="number">1</span> | e</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> | g</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | f</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> | i</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> | h</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | o - z - w - u</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> | (n - s + x - o + z + w + u) / <span class="number">2</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> | s - x</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | r - z - u</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | u</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> | t - w - r + z + u</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | w</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | v - s + x</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | x</span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | z</span><br></pre></td></tr></table></figure><p>è°ƒæ•´ä¸ºé˜¶æ¢¯é˜µï¼ŒæŠŠå€¼ä»£å…¥å¢å¹¿çŸ©é˜µçš„å³è¾¹ï¼Œå°±å¯ä»¥æ±‚è§£å‡ºåˆ—å‘é‡<code>X</code>äº†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | z</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | o - z - w - u</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | w</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | r - z - u</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | u</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | v - s + x</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> | x</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> | s - x</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> | t - w - r + z + u</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> | (n - s + x - o + z + w + u) / <span class="number">2</span></span><br></pre></td></tr></table></figure><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><details>    <summary>Python3</summary><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">originalDigits</span><span class="params">(self, s: str)</span> -&gt; str:</span></span><br><span class="line">        cnt = Counter(s)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"0"</span> * cnt[<span class="string">"z"</span>] + \</span><br><span class="line">               <span class="string">"1"</span> * (cnt[<span class="string">"o"</span>] - cnt[<span class="string">"z"</span>] - cnt[<span class="string">"u"</span>] - cnt[<span class="string">"w"</span>]) + \</span><br><span class="line">               <span class="string">"2"</span> * cnt[<span class="string">"w"</span>] + \</span><br><span class="line">               <span class="string">"3"</span> * (cnt[<span class="string">"r"</span>] - cnt[<span class="string">"z"</span>] - cnt[<span class="string">"u"</span>]) + \</span><br><span class="line">               <span class="string">"4"</span> * cnt[<span class="string">"u"</span>] + \</span><br><span class="line">               <span class="string">"5"</span> * (cnt[<span class="string">"v"</span>] - cnt[<span class="string">"s"</span>] + cnt[<span class="string">"x"</span>]) + \</span><br><span class="line">               <span class="string">"6"</span> * cnt[<span class="string">"x"</span>] + \</span><br><span class="line">               <span class="string">"7"</span> * (cnt[<span class="string">"s"</span>] - cnt[<span class="string">"x"</span>]) + \</span><br><span class="line">               <span class="string">"8"</span> * (cnt[<span class="string">"t"</span>] - cnt[<span class="string">"w"</span>] - cnt[<span class="string">"r"</span>] + cnt[<span class="string">"z"</span>] + cnt[<span class="string">"u"</span>]) + \</span><br><span class="line">               <span class="string">"9"</span> * ((cnt[<span class="string">"n"</span>] - cnt[<span class="string">"s"</span>] + cnt[<span class="string">"x"</span>] - cnt[<span class="string">"o"</span>] + cnt[<span class="string">"z"</span>] + cnt[<span class="string">"u"</span>] + cnt[<span class="string">"w"</span>]) // <span class="number">2</span>)</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œå…¶ä¸­åŒ…å«å­—æ¯é¡ºåºæ‰“ä¹±çš„ç”¨è‹±æ–‡å•è¯è¡¨ç¤ºçš„è‹¥å¹²æ•°å­—ï¼ˆ0-9ï¼‰ã€‚æŒ‰ å‡åº è¿”å›åŸå§‹çš„æ•°å­—ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>JAVA é›†åˆå­¦ä¹ ç¬”è®°ï¼ˆsetï¼Œlistå’Œmapï¼‰</title>
    <link href="http://yoursite.com/2021/12/22/JAVA%20%E9%9B%86%E5%90%88%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88set%EF%BC%8Clist%E5%92%8Cmap%EF%BC%89/"/>
    <id>http://yoursite.com/2021/12/22/JAVA é›†åˆå­¦ä¹ ç¬”è®°ï¼ˆsetï¼Œlistå’Œmapï¼‰/</id>
    <published>2021-12-22T11:30:12.000Z</published>
    <updated>2021-12-22T13:27:06.656Z</updated>
    
    <content type="html"><![CDATA[<p>é›†åˆç±»å­˜æ”¾äº Java.util åŒ…ä¸­ï¼Œä¸»è¦æœ‰ 3 ç§ï¼šset(é›†ï¼‰ã€list(åˆ—è¡¨åŒ…å« Queueï¼‰å’Œ map(æ˜ å°„)ã€‚</p><a id="more"></a><p>[TOC]</p><h1 id="æ¥å£ç»§æ‰¿å…³ç³»å’Œå®ç°"><a href="#æ¥å£ç»§æ‰¿å…³ç³»å’Œå®ç°" class="headerlink" title="æ¥å£ç»§æ‰¿å…³ç³»å’Œå®ç°"></a>æ¥å£ç»§æ‰¿å…³ç³»å’Œå®ç°</h1><p>é›†åˆç±»å­˜æ”¾äº Java.util åŒ…ä¸­ï¼Œä¸»è¦æœ‰ 3 ç§ï¼šset(é›†ï¼‰ã€list(åˆ—è¡¨åŒ…å« Queueï¼‰å’Œ map(æ˜ å°„)ã€‚</p><ol><li>Collectionï¼šCollection æ˜¯é›†åˆ Listã€Setã€Queue çš„æœ€åŸºæœ¬çš„æ¥å£ã€‚</li><li>Iteratorï¼šè¿­ä»£å™¨ï¼Œå¯ä»¥é€šè¿‡è¿­ä»£å™¨éå†é›†åˆä¸­çš„æ•°æ®</li><li>Mapï¼šæ˜¯æ˜ å°„è¡¨çš„åŸºç¡€æ¥å£</li></ol><h1 id="List"><a href="#List" class="headerlink" title="List"></a>List</h1><p>Java çš„ List æ˜¯éå¸¸å¸¸ç”¨çš„æ•°æ®ç±»å‹ã€‚List æ˜¯æœ‰åºçš„ Collectionã€‚Java List ä¸€å…±ä¸‰ä¸ªå®ç°ç±»ï¼š<br>åˆ†åˆ«æ˜¯ ArrayListã€Vector å’Œ LinkedListã€‚</p><h2 id="ArrayListï¼ˆæ•°ç»„ï¼‰"><a href="#ArrayListï¼ˆæ•°ç»„ï¼‰" class="headerlink" title="ArrayListï¼ˆæ•°ç»„ï¼‰"></a>ArrayListï¼ˆæ•°ç»„ï¼‰</h2><p>ArrayList æ˜¯æœ€å¸¸ç”¨çš„ List å®ç°ç±»ï¼Œå†…éƒ¨æ˜¯é€šè¿‡æ•°ç»„å®ç°çš„ï¼Œå®ƒå…è®¸å¯¹å…ƒç´ è¿›è¡Œå¿«é€Ÿéšæœºè®¿é—®ã€‚æ•°<br>ç»„çš„ç¼ºç‚¹æ˜¯æ¯ä¸ªå…ƒç´ ä¹‹é—´ä¸èƒ½æœ‰é—´éš”ï¼Œå½“æ•°ç»„å¤§å°ä¸æ»¡è¶³æ—¶éœ€è¦å¢åŠ å­˜å‚¨èƒ½åŠ›ï¼Œå°±è¦å°†å·²ç»æœ‰æ•°<br>ç»„çš„æ•°æ®å¤åˆ¶åˆ°æ–°çš„å­˜å‚¨ç©ºé—´ä¸­ã€‚å½“ä» ArrayList çš„ä¸­é—´ä½ç½®æ’å…¥æˆ–è€…åˆ é™¤å…ƒç´ æ—¶ï¼Œéœ€è¦å¯¹æ•°ç»„è¿›<br>è¡Œå¤åˆ¶ã€ç§»åŠ¨ã€ä»£ä»·æ¯”è¾ƒé«˜ã€‚å› æ­¤ï¼Œå®ƒé€‚åˆéšæœºæŸ¥æ‰¾å’Œéå†ï¼Œä¸é€‚åˆæ’å…¥å’Œåˆ é™¤ã€‚</p><h2 id="Vectorï¼ˆæ•°ç»„å®ç°ã€çº¿ç¨‹åŒæ­¥ï¼‰"><a href="#Vectorï¼ˆæ•°ç»„å®ç°ã€çº¿ç¨‹åŒæ­¥ï¼‰" class="headerlink" title="Vectorï¼ˆæ•°ç»„å®ç°ã€çº¿ç¨‹åŒæ­¥ï¼‰"></a>Vectorï¼ˆæ•°ç»„å®ç°ã€çº¿ç¨‹åŒæ­¥ï¼‰</h2><p>Vector ä¸ ArrayList ä¸€æ ·ï¼Œä¹Ÿæ˜¯é€šè¿‡æ•°ç»„å®ç°çš„ï¼Œä¸åŒçš„æ˜¯å®ƒæ”¯æŒçº¿ç¨‹çš„åŒæ­¥ï¼Œå³æŸä¸€æ—¶åˆ»åªæœ‰ä¸€<br>ä¸ªçº¿ç¨‹èƒ½å¤Ÿå†™ Vectorï¼Œé¿å…å¤šçº¿ç¨‹åŒæ—¶å†™è€Œå¼•èµ·çš„ä¸ä¸€è‡´æ€§ï¼Œä½†å®ç°åŒæ­¥éœ€è¦å¾ˆé«˜çš„èŠ±è´¹ï¼Œå› æ­¤ï¼Œ<br>è®¿é—®å®ƒæ¯”è®¿é—® ArrayList æ…¢ã€‚</p><h2 id="LinkListï¼ˆé“¾è¡¨ï¼‰"><a href="#LinkListï¼ˆé“¾è¡¨ï¼‰" class="headerlink" title="LinkListï¼ˆé“¾è¡¨ï¼‰"></a>LinkListï¼ˆé“¾è¡¨ï¼‰</h2><p>LinkedList æ˜¯ç”¨é“¾è¡¨ç»“æ„å­˜å‚¨æ•°æ®çš„ï¼Œå¾ˆé€‚åˆæ•°æ®çš„åŠ¨æ€æ’å…¥å’Œåˆ é™¤ï¼Œéšæœºè®¿é—®å’Œéå†é€Ÿåº¦æ¯”è¾ƒ<br>æ…¢ã€‚å¦å¤–ï¼Œä»–è¿˜æä¾›äº† List æ¥å£ä¸­æ²¡æœ‰å®šä¹‰çš„æ–¹æ³•ï¼Œä¸“é—¨ç”¨äºæ“ä½œè¡¨å¤´å’Œè¡¨å°¾å…ƒç´ ï¼Œå¯ä»¥å½“ä½œå †<br>æ ˆã€é˜Ÿåˆ—å’ŒåŒå‘é˜Ÿåˆ—ä½¿ç”¨ã€‚</p><h1 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h1><p>Set æ³¨é‡ç‹¬ä¸€æ— äºŒçš„æ€§è´¨,è¯¥ä½“ç³»é›†åˆç”¨äºå­˜å‚¨æ— åº(å­˜å…¥å’Œå–å‡ºçš„é¡ºåºä¸ä¸€å®šç›¸åŒ)å…ƒç´ ï¼Œå€¼ä¸èƒ½é‡<br>å¤ã€‚å¯¹è±¡çš„ç›¸ç­‰æ€§æœ¬è´¨æ˜¯å¯¹è±¡ hashCode å€¼ï¼ˆjava æ˜¯ä¾æ®å¯¹è±¡çš„å†…å­˜åœ°å€è®¡ç®—å‡ºçš„æ­¤åºå·ï¼‰åˆ¤æ–­<br>çš„ï¼Œå¦‚æœæƒ³è¦è®©ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡è§†ä¸ºç›¸ç­‰çš„ï¼Œå°±å¿…é¡»è¦†ç›– Object çš„ hashCode æ–¹æ³•å’Œ equals æ–¹<br>æ³•ã€‚</p><h2 id="HashSetï¼ˆHash-è¡¨ï¼‰"><a href="#HashSetï¼ˆHash-è¡¨ï¼‰" class="headerlink" title="HashSetï¼ˆHash è¡¨ï¼‰"></a>HashSetï¼ˆHash è¡¨ï¼‰</h2><p>å“ˆå¸Œè¡¨è¾¹å­˜æ”¾çš„æ˜¯å“ˆå¸Œå€¼ã€‚HashSet å­˜å‚¨å…ƒç´ çš„é¡ºåºå¹¶ä¸æ˜¯æŒ‰ç…§å­˜å…¥æ—¶çš„é¡ºåºï¼ˆå’Œ List æ˜¾ç„¶ä¸<br>åŒï¼‰ è€Œæ˜¯æŒ‰ç…§å“ˆå¸Œå€¼æ¥å­˜çš„æ‰€ä»¥å–æ•°æ®ä¹Ÿæ˜¯æŒ‰ç…§å“ˆå¸Œå€¼å–å¾—ã€‚å…ƒç´ çš„å“ˆå¸Œå€¼æ˜¯é€šè¿‡å…ƒç´ çš„<br>hashcode æ–¹æ³•æ¥è·å–çš„, HashSet é¦–å…ˆåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ çš„å“ˆå¸Œå€¼ï¼Œå¦‚æœå“ˆå¸Œå€¼ä¸€æ ·ï¼Œæ¥ç€ä¼šæ¯”è¾ƒ<br>equals æ–¹æ³• å¦‚æœ equls ç»“æœä¸º true ï¼ŒHashSet å°±è§†ä¸ºåŒä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœ equals ä¸º false å°±ä¸æ˜¯<br>åŒä¸€ä¸ªå…ƒç´ ã€‚<br>å“ˆå¸Œå€¼ç›¸åŒ equals ä¸º false çš„å…ƒç´ æ˜¯æ€ä¹ˆå­˜å‚¨å‘¢,å°±æ˜¯åœ¨åŒæ ·çš„å“ˆå¸Œå€¼ä¸‹é¡ºå»¶ï¼ˆå¯ä»¥è®¤ä¸ºå“ˆå¸Œå€¼ç›¸<br>åŒçš„å…ƒç´ æ”¾åœ¨ä¸€ä¸ªå“ˆå¸Œæ¡¶ä¸­ï¼‰ã€‚ä¹Ÿå°±æ˜¯å“ˆå¸Œä¸€æ ·çš„å­˜ä¸€åˆ—ã€‚å¦‚å›¾ 1 è¡¨ç¤º hashCode å€¼ä¸ç›¸åŒçš„æƒ…<br>å†µï¼›å›¾ 2 è¡¨ç¤º hashCode å€¼ç›¸åŒï¼Œä½† equals ä¸ç›¸åŒçš„æƒ…å†µã€‚<br>HashSet é€šè¿‡ hashCodeå€¼æ¥ç¡®å®šå…ƒç´ åœ¨å†…å­˜ä¸­çš„ä½ç½®ã€‚ä¸€ä¸ªhashCodeä½ç½®ä¸Šå¯ä»¥å­˜æ”¾å¤šä¸ªå…ƒç´ ã€‚</p><h2 id="TreeSetï¼ˆäºŒå‰æ ‘ï¼‰"><a href="#TreeSetï¼ˆäºŒå‰æ ‘ï¼‰" class="headerlink" title="TreeSetï¼ˆäºŒå‰æ ‘ï¼‰"></a>TreeSetï¼ˆäºŒå‰æ ‘ï¼‰</h2><ol><li>TreeSet()æ˜¯ä½¿ç”¨äºŒå‰æ ‘çš„åŸç†å¯¹æ–° add()çš„å¯¹è±¡æŒ‰ç…§æŒ‡å®šçš„é¡ºåºæ’åºï¼ˆå‡åºã€é™åºï¼‰ï¼Œæ¯å¢<br>åŠ ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šè¿›è¡Œæ’åºï¼Œå°†å¯¹è±¡æ’å…¥çš„äºŒå‰æ ‘æŒ‡å®šçš„ä½ç½®ã€‚</li><li>Integer å’Œ String å¯¹è±¡éƒ½å¯ä»¥è¿›è¡Œé»˜è®¤çš„ TreeSet æ’åºï¼Œè€Œè‡ªå®šä¹‰ç±»çš„å¯¹è±¡æ˜¯ä¸å¯ä»¥çš„ï¼Œè‡ª<br>å·±å®šä¹‰çš„ç±»å¿…é¡»å®ç° Comparable æ¥å£ï¼Œå¹¶ä¸”è¦†å†™ç›¸åº”çš„ compareTo()å‡½æ•°ï¼Œæ‰å¯ä»¥æ­£å¸¸ä½¿<br>ç”¨ã€‚</li><li>åœ¨è¦†å†™ compare()å‡½æ•°æ—¶ï¼Œè¦è¿”å›ç›¸åº”çš„å€¼æ‰èƒ½ä½¿ TreeSet æŒ‰ç…§ä¸€å®šçš„è§„åˆ™æ¥æ’åº</li><li>æ¯”è¾ƒæ­¤å¯¹è±¡ä¸æŒ‡å®šå¯¹è±¡çš„é¡ºåºã€‚å¦‚æœè¯¥å¯¹è±¡å°äºã€ç­‰äºæˆ–å¤§äºæŒ‡å®šå¯¹è±¡ï¼Œåˆ™åˆ†åˆ«è¿”å›è´Ÿæ•´<br>æ•°ã€é›¶æˆ–æ­£æ•´æ•°ã€‚</li></ol><h2 id="LinkHashSetï¼ˆHashSet-LinkedHashMapï¼‰"><a href="#LinkHashSetï¼ˆHashSet-LinkedHashMapï¼‰" class="headerlink" title="LinkHashSetï¼ˆHashSet+LinkedHashMapï¼‰"></a>LinkHashSetï¼ˆHashSet+LinkedHashMapï¼‰</h2><p> å¯¹äº LinkedHashSet è€Œè¨€ï¼Œå®ƒç»§æ‰¿ä¸ HashSetã€åˆåŸºäº LinkedHashMap æ¥å®ç°çš„ã€‚<br>LinkedHashSet åº•å±‚ä½¿ç”¨ LinkedHashMap æ¥ä¿å­˜æ‰€æœ‰å…ƒç´ ï¼Œå®ƒç»§æ‰¿ä¸ HashSetï¼Œå…¶æ‰€æœ‰çš„æ–¹æ³•<br>æ“ä½œä¸Šåˆä¸ HashSet ç›¸åŒï¼Œå› æ­¤ LinkedHashSet çš„å®ç°ä¸Šéå¸¸ç®€å•ï¼Œåªæä¾›äº†å››ä¸ªæ„é€ æ–¹æ³•ï¼Œå¹¶<br>é€šè¿‡ä¼ é€’ä¸€ä¸ªæ ‡è¯†å‚æ•°ï¼Œè°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ï¼Œåº•å±‚æ„é€ ä¸€ä¸ª LinkedHashMap æ¥å®ç°ï¼Œåœ¨ç›¸å…³æ“<br>ä½œä¸Šä¸çˆ¶ç±» HashSet çš„æ“ä½œç›¸åŒï¼Œç›´æ¥è°ƒç”¨çˆ¶ç±» HashSet çš„æ–¹æ³•å³å¯ã€‚</p><h1 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h1><h2 id="HashMapï¼ˆæ•°ç»„-é“¾è¡¨-çº¢é»‘æ ‘ï¼‰"><a href="#HashMapï¼ˆæ•°ç»„-é“¾è¡¨-çº¢é»‘æ ‘ï¼‰" class="headerlink" title="HashMapï¼ˆæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ï¼‰"></a>HashMapï¼ˆæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ï¼‰</h2><p>HashMap æ ¹æ®é”®çš„ hashCode å€¼å­˜å‚¨æ•°æ®ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹å¯ä»¥ç›´æ¥å®šä½åˆ°å®ƒçš„å€¼ï¼Œå› è€Œå…·æœ‰å¾ˆå¿«<br>çš„è®¿é—®é€Ÿåº¦ï¼Œä½†éå†é¡ºåºå´æ˜¯ä¸ç¡®å®šçš„ã€‚ HashMap æœ€å¤šåªå…è®¸ä¸€æ¡è®°å½•çš„é”®ä¸º nullï¼Œå…è®¸å¤šæ¡è®°<br>å½•çš„å€¼ä¸º nullã€‚HashMap éçº¿ç¨‹å®‰å…¨ï¼Œå³ä»»ä¸€æ—¶åˆ»å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶å†™ HashMapï¼Œå¯èƒ½ä¼šå¯¼<br>è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚å¦‚æœéœ€è¦æ»¡è¶³çº¿ç¨‹å®‰å…¨ï¼Œå¯ä»¥ç”¨ Collections çš„ synchronizedMap æ–¹æ³•ä½¿<br>HashMap å…·æœ‰çº¿ç¨‹å®‰å…¨çš„èƒ½åŠ›ï¼Œæˆ–è€…ä½¿ç”¨ ConcurrentHashMapã€‚æˆ‘ä»¬ç”¨ä¸‹é¢è¿™å¼ å›¾æ¥ä»‹ç»<br>HashMap çš„ç»“æ„ã€‚</p><h3 id="JAVA7-å®ç°"><a href="#JAVA7-å®ç°" class="headerlink" title="JAVA7 å®ç°"></a>JAVA7 å®ç°</h3><p>å¤§æ–¹å‘ä¸Šï¼ŒHashMap é‡Œé¢æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå•å‘é“¾è¡¨ã€‚ä¸Šå›¾ä¸­ï¼Œæ¯ä¸ªç»¿è‰²<br>çš„å®ä½“æ˜¯åµŒå¥—ç±» Entry çš„å®ä¾‹ï¼ŒEntry åŒ…å«å››ä¸ªå±æ€§ï¼škey, value, hash å€¼å’Œç”¨äºå•å‘é“¾è¡¨çš„ nextã€‚</p><ol><li>capacityï¼šå½“å‰æ•°ç»„å®¹é‡ï¼Œå§‹ç»ˆä¿æŒ 2^nï¼Œå¯ä»¥æ‰©å®¹ï¼Œæ‰©å®¹åæ•°ç»„å¤§å°ä¸ºå½“å‰çš„ 2 å€ã€‚</li><li>loadFactorï¼šè´Ÿè½½å› å­ï¼Œé»˜è®¤ä¸º 0.75ã€‚</li><li>thresholdï¼šæ‰©å®¹çš„é˜ˆå€¼ï¼Œç­‰äº capacity * loadFactor</li></ol><h3 id="JAVA8-å®ç°"><a href="#JAVA8-å®ç°" class="headerlink" title="JAVA8 å®ç°"></a>JAVA8 å®ç°</h3><p>Java8 å¯¹ HashMap è¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ï¼Œæœ€å¤§çš„ä¸åŒå°±æ˜¯åˆ©ç”¨äº†çº¢é»‘æ ‘ï¼Œæ‰€ä»¥å…¶ç”± æ•°ç»„+é“¾è¡¨+çº¢é»‘<br>æ ‘ ç»„æˆã€‚<br>æ ¹æ® Java7 HashMap çš„ä»‹ç»ï¼Œæˆ‘ä»¬çŸ¥é“ï¼ŒæŸ¥æ‰¾çš„æ—¶å€™ï¼Œæ ¹æ® hash å€¼æˆ‘ä»¬èƒ½å¤Ÿå¿«é€Ÿå®šä½åˆ°æ•°ç»„çš„<br>å…·ä½“ä¸‹æ ‡ï¼Œä½†æ˜¯ä¹‹åçš„è¯ï¼Œéœ€è¦é¡ºç€é“¾è¡¨ä¸€ä¸ªä¸ªæ¯”è¾ƒä¸‹å»æ‰èƒ½æ‰¾åˆ°æˆ‘ä»¬éœ€è¦çš„ï¼Œæ—¶é—´å¤æ‚åº¦å–å†³<br>äºé“¾è¡¨çš„é•¿åº¦ï¼Œä¸º O(n)ã€‚ä¸ºäº†é™ä½è¿™éƒ¨åˆ†çš„å¼€é”€ï¼Œåœ¨ Java8 ä¸­ï¼Œå½“é“¾è¡¨ä¸­çš„å…ƒç´ è¶…è¿‡äº† 8 ä¸ªä»¥åï¼Œ<br>ä¼šå°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œåœ¨è¿™äº›ä½ç½®è¿›è¡ŒæŸ¥æ‰¾çš„æ—¶å€™å¯ä»¥é™ä½æ—¶é—´å¤æ‚åº¦ä¸º O(logN)ã€‚</p><h2 id="ConcurrentHashMap"><a href="#ConcurrentHashMap" class="headerlink" title="ConcurrentHashMap"></a>ConcurrentHashMap</h2><h3 id="Segment-æ®µ"><a href="#Segment-æ®µ" class="headerlink" title="Segment æ®µ"></a>Segment æ®µ</h3><p>ConcurrentHashMap å’Œ HashMap æ€è·¯æ˜¯å·®ä¸å¤šçš„ï¼Œä½†æ˜¯å› ä¸ºå®ƒæ”¯æŒå¹¶å‘æ“ä½œï¼Œæ‰€ä»¥è¦å¤æ‚ä¸€<br>äº›ã€‚æ•´ä¸ª ConcurrentHashMap ç”±ä¸€ä¸ªä¸ª Segment ç»„æˆï¼ŒSegment ä»£è¡¨â€éƒ¨åˆ†â€œæˆ–â€ä¸€æ®µâ€œçš„<br>æ„æ€ï¼Œæ‰€ä»¥å¾ˆå¤šåœ°æ–¹éƒ½ä¼šå°†å…¶æè¿°ä¸ºåˆ†æ®µé”ã€‚æ³¨æ„ï¼Œè¡Œæ–‡ä¸­ï¼Œæˆ‘å¾ˆå¤šåœ°æ–¹ç”¨äº†â€œæ§½â€æ¥ä»£è¡¨ä¸€ä¸ª<br>segmentã€‚</p><h3 id="çº¿ç¨‹å®‰å…¨ï¼ˆSegment-ç»§æ‰¿-ReentrantLock-åŠ é”ï¼‰"><a href="#çº¿ç¨‹å®‰å…¨ï¼ˆSegment-ç»§æ‰¿-ReentrantLock-åŠ é”ï¼‰" class="headerlink" title="çº¿ç¨‹å®‰å…¨ï¼ˆSegment ç»§æ‰¿ ReentrantLock åŠ é”ï¼‰"></a>çº¿ç¨‹å®‰å…¨ï¼ˆSegment ç»§æ‰¿ ReentrantLock åŠ é”ï¼‰</h3><p>ç®€å•ç†è§£å°±æ˜¯ï¼ŒConcurrentHashMap æ˜¯ä¸€ä¸ª Segment æ•°ç»„ï¼ŒSegment é€šè¿‡ç»§æ‰¿<br>ReentrantLock æ¥è¿›è¡ŒåŠ é”ï¼Œæ‰€ä»¥æ¯æ¬¡éœ€è¦åŠ é”çš„æ“ä½œé”ä½çš„æ˜¯ä¸€ä¸ª segmentï¼Œè¿™æ ·åªè¦ä¿è¯æ¯<br>ä¸ª Segment æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¹Ÿå°±å®ç°äº†å…¨å±€çš„çº¿ç¨‹å®‰å…¨ã€‚</p><h3 id="å¹¶è¡Œåº¦ï¼ˆé»˜è®¤-16ï¼‰"><a href="#å¹¶è¡Œåº¦ï¼ˆé»˜è®¤-16ï¼‰" class="headerlink" title="å¹¶è¡Œåº¦ï¼ˆé»˜è®¤ 16ï¼‰"></a>å¹¶è¡Œåº¦ï¼ˆé»˜è®¤ 16ï¼‰</h3><p>concurrencyLevelï¼šå¹¶è¡Œçº§åˆ«ã€å¹¶å‘æ•°ã€Segment æ•°ï¼Œæ€ä¹ˆç¿»è¯‘ä¸é‡è¦ï¼Œç†è§£å®ƒã€‚é»˜è®¤æ˜¯ 16ï¼Œ<br>ä¹Ÿå°±æ˜¯è¯´ ConcurrentHashMap æœ‰ 16 ä¸ª Segmentsï¼Œæ‰€ä»¥ç†è®ºä¸Šï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæœ€å¤šå¯ä»¥åŒæ—¶æ”¯<br>æŒ 16 ä¸ªçº¿ç¨‹å¹¶å‘å†™ï¼Œåªè¦å®ƒä»¬çš„æ“ä½œåˆ†åˆ«åˆ†å¸ƒåœ¨ä¸åŒçš„ Segment ä¸Šã€‚è¿™ä¸ªå€¼å¯ä»¥åœ¨åˆå§‹åŒ–çš„æ—¶<br>å€™è®¾ç½®ä¸ºå…¶ä»–å€¼ï¼Œä½†æ˜¯ä¸€æ—¦åˆå§‹åŒ–ä»¥åï¼Œå®ƒæ˜¯ä¸å¯ä»¥æ‰©å®¹çš„ã€‚å†å…·ä½“åˆ°æ¯ä¸ª Segment å†…éƒ¨ï¼Œå…¶å®<br>æ¯ä¸ª Segment å¾ˆåƒä¹‹å‰ä»‹ç»çš„ HashMapï¼Œä¸è¿‡å®ƒè¦ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œæ‰€ä»¥å¤„ç†èµ·æ¥è¦éº»çƒ¦äº›ã€‚</p><h3 id="Java8-å®ç°-ï¼ˆå¼•å…¥äº†çº¢é»‘æ ‘ï¼‰"><a href="#Java8-å®ç°-ï¼ˆå¼•å…¥äº†çº¢é»‘æ ‘ï¼‰" class="headerlink" title="Java8 å®ç° ï¼ˆå¼•å…¥äº†çº¢é»‘æ ‘ï¼‰"></a>Java8 å®ç° ï¼ˆå¼•å…¥äº†çº¢é»‘æ ‘ï¼‰</h3><p>Java8 å¯¹ ConcurrentHashMapè¿›è¡Œäº†æ¯”è¾ƒå¤§çš„æ”¹åŠ¨,Java8 ä¹Ÿå¼•å…¥äº†çº¢é»‘æ ‘</p><h2 id="HashTableï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰"><a href="#HashTableï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰" class="headerlink" title="HashTableï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰"></a>HashTableï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰</h2><p>Hashtable æ˜¯é—ç•™ç±»ï¼Œå¾ˆå¤šæ˜ å°„çš„å¸¸ç”¨åŠŸèƒ½ä¸ HashMap ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯å®ƒæ‰¿è‡ª Dictionary ç±»ï¼Œ<br>å¹¶ä¸”æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä»»ä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å†™ Hashtableï¼Œå¹¶å‘æ€§ä¸å¦‚ ConcurrentHashMapï¼Œ<br>å› ä¸º ConcurrentHashMap å¼•å…¥äº†åˆ†æ®µé”ã€‚Hashtable ä¸å»ºè®®åœ¨æ–°ä»£ç ä¸­ä½¿ç”¨ï¼Œä¸éœ€è¦çº¿ç¨‹å®‰å…¨<br>çš„åœºåˆå¯ä»¥ç”¨ HashMap æ›¿æ¢ï¼Œéœ€è¦çº¿ç¨‹å®‰å…¨çš„åœºåˆå¯ä»¥ç”¨ ConcurrentHashMap æ›¿æ¢ã€‚</p><h2 id="TreeMapï¼ˆå¯æ’åºï¼‰"><a href="#TreeMapï¼ˆå¯æ’åºï¼‰" class="headerlink" title="TreeMapï¼ˆå¯æ’åºï¼‰"></a>TreeMapï¼ˆå¯æ’åºï¼‰</h2><p>TreeMap å®ç° SortedMap æ¥å£ï¼Œèƒ½å¤ŸæŠŠå®ƒä¿å­˜çš„è®°å½•æ ¹æ®é”®æ’åºï¼Œé»˜è®¤æ˜¯æŒ‰é”®å€¼çš„å‡åºæ’åºï¼Œ<br>ä¹Ÿå¯ä»¥æŒ‡å®šæ’åºçš„æ¯”è¾ƒå™¨ï¼Œå½“ç”¨ Iterator éå† TreeMap æ—¶ï¼Œå¾—åˆ°çš„è®°å½•æ˜¯æ’è¿‡åºçš„ã€‚<br>å¦‚æœä½¿ç”¨æ’åºçš„æ˜ å°„ï¼Œå»ºè®®ä½¿ç”¨ TreeMapã€‚<br>åœ¨ä½¿ç”¨ TreeMap æ—¶ï¼Œkey å¿…é¡»å®ç° Comparable æ¥å£æˆ–è€…åœ¨æ„é€  TreeMap ä¼ å…¥è‡ªå®šä¹‰çš„<br>Comparatorï¼Œå¦åˆ™ä¼šåœ¨è¿è¡Œæ—¶æŠ›å‡º java.lang.ClassCastException ç±»å‹çš„å¼‚å¸¸ã€‚<br>å‚è€ƒï¼š<a href="https://www.ibm.com/developerworks/cn/java/j-lo-tree/index.html" target="_blank" rel="noopener">https://www.ibm.com/developerworks/cn/java/j-lo-tree/index.html</a></p><h2 id="LinkHashMapï¼ˆè®°å½•æ’å…¥é¡ºåºï¼‰"><a href="#LinkHashMapï¼ˆè®°å½•æ’å…¥é¡ºåºï¼‰" class="headerlink" title="LinkHashMapï¼ˆè®°å½•æ’å…¥é¡ºåºï¼‰"></a>LinkHashMapï¼ˆè®°å½•æ’å…¥é¡ºåºï¼‰</h2><p>LinkedHashMap æ˜¯ HashMap çš„ä¸€ä¸ªå­ç±»ï¼Œä¿å­˜äº†è®°å½•çš„æ’å…¥é¡ºåºï¼Œåœ¨ç”¨ Iterator éå†<br>LinkedHashMap æ—¶ï¼Œå…ˆå¾—åˆ°çš„è®°å½•è‚¯å®šæ˜¯å…ˆæ’å…¥çš„ï¼Œä¹Ÿå¯ä»¥åœ¨æ„é€ æ—¶å¸¦å‚æ•°ï¼ŒæŒ‰ç…§è®¿é—®æ¬¡åºæ’åºã€‚<br>å‚è€ƒ 1ï¼š<a href="http://www.importnew.com/28263.html" target="_blank" rel="noopener">http://www.importnew.com/28263.html</a><br>å‚è€ƒ 2ï¼š<a href="http://www.importnew.com/20386.html#comment-648123" target="_blank" rel="noopener">http://www.importnew.com/20386.html#comment-648123</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é›†åˆç±»å­˜æ”¾äº Java.util åŒ…ä¸­ï¼Œä¸»è¦æœ‰ 3 ç§ï¼šset(é›†ï¼‰ã€list(åˆ—è¡¨åŒ…å« Queueï¼‰å’Œ map(æ˜ å°„)ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="Collection" scheme="http://yoursite.com/tags/Collection/"/>
    
  </entry>
  
  <entry>
    <title>518. é›¶é’±å…‘æ¢ II</title>
    <link href="http://yoursite.com/2021/12/21/518.%20%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2%20II/"/>
    <id>http://yoursite.com/2021/12/21/518. é›¶é’±å…‘æ¢ II/</id>
    <published>2021-12-21T12:51:12.000Z</published>
    <updated>2021-12-21T13:40:00.066Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ coins è¡¨ç¤ºä¸åŒé¢é¢çš„ç¡¬å¸ï¼Œå¦ç»™ä¸€ä¸ªæ•´æ•° amount è¡¨ç¤ºæ€»é‡‘é¢ã€‚</p><p>è¯·ä½ è®¡ç®—å¹¶è¿”å›å¯ä»¥å‡‘æˆæ€»é‡‘é¢çš„ç¡¬å¸ç»„åˆæ•°ã€‚å¦‚æœä»»ä½•ç¡¬å¸ç»„åˆéƒ½æ— æ³•å‡‘å‡ºæ€»é‡‘é¢ï¼Œè¿”å› 0 ã€‚</p><a id="more"></a><p>[TOC]</p><p>å‡è®¾æ¯ä¸€ç§é¢é¢çš„ç¡¬å¸æœ‰æ— é™ä¸ªã€‚<br>é¢˜ç›®æ•°æ®ä¿è¯ç»“æœç¬¦åˆ 32 ä½å¸¦ç¬¦å·æ•´æ•°ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šamount = 5, coins = [1, 2, 5]è¾“å‡ºï¼š4è§£é‡Šï¼šæœ‰å››ç§æ–¹å¼å¯ä»¥å‡‘æˆæ€»é‡‘é¢ï¼š5=55=2+2+15=2+1+1+15=1+1+1+1+1</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šamount = 3, coins = [2]è¾“å‡ºï¼š0è§£é‡Šï¼šåªç”¨é¢é¢ 2 çš„ç¡¬å¸ä¸èƒ½å‡‘æˆæ€»é‡‘é¢ 3 ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šamount = 10, coins = [10] è¾“å‡ºï¼š1</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= coins.length &lt;= 3001 &lt;= coins[i] &lt;= 5000coins ä¸­çš„æ‰€æœ‰å€¼ äº’ä¸ç›¸åŒ0 &lt;= amount &lt;= 5000</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’-1"><a href="#æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’^1"></a>æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’<a href="https://leetcode-cn.com/problems/coin-change-2/solution/ling-qian-dui-huan-ii-by-leetcode-soluti-f7uh/" target="_blank" rel="noopener">^1</a></h1><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> amount, <span class="keyword">int</span>[] coins)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[amount + <span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> coin : coins) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = coin; i &lt;= amount; i++) &#123;</span><br><span class="line">                dp[i] += dp[i - coin];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[amount];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int Change(int amount, int[] coins) &#123;</span><br><span class="line">        int[] dp = new int[amount + 1];</span><br><span class="line">        dp[0] = 1;</span><br><span class="line">        foreach (int coin in coins) &#123;</span><br><span class="line">            for (int i = coin; i &lt;= amount; i++) &#123;</span><br><span class="line">                dp[i] += dp[i - coin];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[amount];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> change = <span class="function"><span class="keyword">function</span>(<span class="params">amount, coins</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> dp = <span class="keyword">new</span> <span class="built_in">Array</span>(amount + <span class="number">1</span>).fill(<span class="number">0</span>);</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> coin <span class="keyword">of</span> coins) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = coin; i &lt;= amount; i++) &#123;</span><br><span class="line">            dp[i] += dp[i - coin];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[amount];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">change</span><span class="params">(amount <span class="keyword">int</span>, coins []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    dp := <span class="built_in">make</span>([]<span class="keyword">int</span>, amount+<span class="number">1</span>)</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> _, coin := <span class="keyword">range</span> coins &#123;</span><br><span class="line">        <span class="keyword">for</span> i := coin; i &lt;= amount; i++ &#123;</span><br><span class="line">            dp[i] += dp[i-coin]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[amount]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> amount, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; coins)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(amount + <span class="number">1</span>);</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>&amp; coin : coins) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = coin; i &lt;= amount; i++) &#123;</span><br><span class="line">                dp[i] += dp[i - coin];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[amount];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> amount, <span class="keyword">int</span>* coins, <span class="keyword">int</span> coinsSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> dp[amount + <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="keyword">sizeof</span>(dp));</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; coinsSize; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = coins[i]; j &lt;= amount; j++) &#123;</span><br><span class="line">            dp[j] += dp[j - coins[i]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[amount];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ coins è¡¨ç¤ºä¸åŒé¢é¢çš„ç¡¬å¸ï¼Œå¦ç»™ä¸€ä¸ªæ•´æ•° amount è¡¨ç¤ºæ€»é‡‘é¢ã€‚&lt;/p&gt;
&lt;p&gt;è¯·ä½ è®¡ç®—å¹¶è¿”å›å¯ä»¥å‡‘æˆæ€»é‡‘é¢çš„ç¡¬å¸ç»„åˆæ•°ã€‚å¦‚æœä»»ä½•ç¡¬å¸ç»„åˆéƒ½æ— æ³•å‡‘å‡ºæ€»é‡‘é¢ï¼Œè¿”å› 0 ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡ Offer 17. æ‰“å°ä»1åˆ°æœ€å¤§çš„nä½æ•°</title>
    <link href="http://yoursite.com/2021/12/21/%E5%89%91%E6%8C%87%20Offer%2017.%20%E6%89%93%E5%8D%B0%E4%BB%8E1%E5%88%B0%E6%9C%80%E5%A4%A7%E7%9A%84n%E4%BD%8D%E6%95%B0/"/>
    <id>http://yoursite.com/2021/12/21/å‰‘æŒ‡ Offer 17. æ‰“å°ä»1åˆ°æœ€å¤§çš„nä½æ•°/</id>
    <published>2021-12-21T12:15:12.000Z</published>
    <updated>2021-12-22T06:53:17.531Z</updated>
    
    <content type="html"><![CDATA[<p>è¾“å…¥æ•°å­— nï¼ŒæŒ‰é¡ºåºæ‰“å°å‡ºä» 1 åˆ°æœ€å¤§çš„ n ä½åè¿›åˆ¶æ•°ã€‚æ¯”å¦‚è¾“å…¥ 3ï¼Œåˆ™æ‰“å°å‡º 1ã€2ã€3 ä¸€ç›´åˆ°æœ€å¤§çš„ 3 ä½æ•° 999ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: n = 1è¾“å‡º: [1,2,3,4,5,6,7,8,9]</code></pre><p>è¯´æ˜ï¼š</p><pre><code>ç”¨è¿”å›ä¸€ä¸ªæ•´æ•°åˆ—è¡¨æ¥ä»£æ›¿æ‰“å°n ä¸ºæ­£æ•´æ•°</code></pre><h1 id="è§£é¢˜æ€è·¯ï¼š-1"><a href="#è§£é¢˜æ€è·¯ï¼š-1" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š^1"></a>è§£é¢˜æ€è·¯ï¼š<a href="https://leetcode-cn.com/problems/da-yin-cong-1dao-zui-da-de-nwei-shu-lcof/solution/mian-shi-ti-17-da-yin-cong-1-dao-zui-da-de-n-wei-2/" target="_blank" rel="noopener">^1</a></h1><p>é¢˜ç›®è¦æ±‚æ‰“å° â€œä» <em>1</em> è‡³æœ€å¤§çš„ <em>n</em> ä½æ•°çš„åˆ—è¡¨â€ ï¼Œå› æ­¤éœ€è€ƒè™‘ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p><ol><li><strong>æœ€å¤§çš„ <em>n</em> ä½æ•°ï¼ˆè®°ä¸º <em>end</em> ï¼‰å’Œä½æ•° <em>n</em> çš„å…³ç³»ï¼š</strong> ä¾‹å¦‚æœ€å¤§çš„ <em>1</em> ä½æ•°æ˜¯ <em>9</em> ï¼Œæœ€å¤§çš„ <em>2</em> ä½æ•°æ˜¯ <em>99</em> ï¼Œæœ€å¤§çš„ <em>3</em> ä½æ•°æ˜¯ <em>999</em> ã€‚åˆ™å¯æ¨å‡ºå…¬å¼ï¼š</li></ol><pre><code>end = 10^n - 1</code></pre><ol start="2"><li><strong>å¤§æ•°è¶Šç•Œé—®é¢˜ï¼š</strong> å½“ <em>n</em> è¾ƒå¤§æ—¶ï¼Œ<em>end</em> ä¼šè¶…å‡º <em>int32</em> æ•´å‹çš„å–å€¼èŒƒå›´ï¼Œè¶…å‡ºå–å€¼èŒƒå›´çš„æ•°å­—æ— æ³•æ­£å¸¸å­˜å‚¨ã€‚ä½†ç”±äºæœ¬é¢˜è¦æ±‚è¿”å› int ç±»å‹æ•°ç»„ï¼Œç›¸å½“äºé»˜è®¤æ‰€æœ‰æ•°å­—éƒ½åœ¨ int32 æ•´å‹å–å€¼èŒƒå›´å†…ï¼Œå› æ­¤ä¸è€ƒè™‘å¤§æ•°è¶Šç•Œé—®é¢˜ã€‚</li></ol><p>å› æ­¤ï¼Œåªéœ€å®šä¹‰åŒºé—´ <em>[1, 10^n - 1]</em> å’Œæ­¥é•¿ <em>1</em> ï¼Œé€šè¿‡ <em>for</em> å¾ªç¯ç”Ÿæˆç»“æœåˆ—è¡¨ <em>res</em> å¹¶è¿”å›å³å¯ã€‚</p><h2 id="å¤æ‚åº¦åˆ†æï¼š"><a href="#å¤æ‚åº¦åˆ†æï¼š" class="headerlink" title="å¤æ‚åº¦åˆ†æï¼š"></a>å¤æ‚åº¦åˆ†æï¼š</h2><ul><li><strong>æ—¶é—´å¤æ‚åº¦ <em>O(10^n)</em> ï¼š</strong> ç”Ÿæˆé•¿åº¦ä¸º <em>10^n</em> çš„åˆ—è¡¨éœ€ä½¿ç”¨ <em>O(10^n)</em> æ—¶é—´ã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦ <em>O(1)</em> ï¼š</strong> å»ºç«‹åˆ—è¡¨éœ€ä½¿ç”¨ <em>O(1)</em> å¤§å°çš„é¢å¤–ç©ºé—´ï¼ˆ åˆ—è¡¨ä½œä¸ºè¿”å›ç»“æœï¼Œä¸è®¡å…¥é¢å¤–ç©ºé—´ ï¼‰ã€‚</li></ul><h2 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h2><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printNumbers</span><span class="params">(self, n: int)</span> -&gt; List[int]:</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">10</span> ** n):</span><br><span class="line">            res.append(i)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] printNumbers(<span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="keyword">int</span> end = (<span class="keyword">int</span>)Math.pow(<span class="number">10</span>, n) - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[end];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; end; i++)</span><br><span class="line">            res[i] = i + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>åˆ©ç”¨ Python çš„è¯­è¨€ç‰¹æ€§ï¼Œå¯ä»¥ç®€åŒ–ä»£ç ï¼šå…ˆä½¿ç”¨ <code>range()</code> æ–¹æ³•ç”Ÿæˆå¯è¿­ä»£å¯¹è±¡ï¼Œå†ä½¿ç”¨ <code>list()</code> æ–¹æ³•è½¬åŒ–ä¸ºåˆ—è¡¨å¹¶è¿”å›å³å¯ã€‚</p><details>    <summary>Python</summary><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printNumbers</span><span class="params">(self, n: int)</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">return</span> list(range(<span class="number">1</span>, <span class="number">10</span> ** n))</span><br></pre></td></tr></table></figure></details><h1 id="å¤§æ•°æ‰“å°è§£æ³•ï¼š"><a href="#å¤§æ•°æ‰“å°è§£æ³•ï¼š" class="headerlink" title="å¤§æ•°æ‰“å°è§£æ³•ï¼š"></a>å¤§æ•°æ‰“å°è§£æ³•ï¼š</h1><p>å®é™…ä¸Šï¼Œæœ¬é¢˜çš„ä¸»è¦è€ƒç‚¹æ˜¯å¤§æ•°è¶Šç•Œæƒ…å†µä¸‹çš„æ‰“å°ã€‚éœ€è¦è§£å†³ä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜ï¼š</p><h2 id="1-è¡¨ç¤ºå¤§æ•°çš„å˜é‡ç±»å‹ï¼š"><a href="#1-è¡¨ç¤ºå¤§æ•°çš„å˜é‡ç±»å‹ï¼š" class="headerlink" title="1. è¡¨ç¤ºå¤§æ•°çš„å˜é‡ç±»å‹ï¼š"></a>1. è¡¨ç¤ºå¤§æ•°çš„å˜é‡ç±»å‹ï¼š</h2><ul><li>æ— è®ºæ˜¯ short / int / long â€¦ ä»»æ„å˜é‡ç±»å‹ï¼Œæ•°å­—çš„å–å€¼èŒƒå›´éƒ½æ˜¯æœ‰é™çš„ã€‚å› æ­¤ï¼Œå¤§æ•°çš„è¡¨ç¤ºåº”ç”¨å­—ç¬¦ä¸² String ç±»å‹ã€‚</li></ul><h2 id="2-ç”Ÿæˆæ•°å­—çš„å­—ç¬¦ä¸²é›†ï¼š"><a href="#2-ç”Ÿæˆæ•°å­—çš„å­—ç¬¦ä¸²é›†ï¼š" class="headerlink" title="2. ç”Ÿæˆæ•°å­—çš„å­—ç¬¦ä¸²é›†ï¼š"></a>2. ç”Ÿæˆæ•°å­—çš„å­—ç¬¦ä¸²é›†ï¼š</h2><ul><li><p>ä½¿ç”¨ int ç±»å‹æ—¶ï¼Œæ¯è½®å¯é€šè¿‡ <em>+1</em> ç”Ÿæˆä¸‹ä¸ªæ•°å­—ï¼Œè€Œæ­¤æ–¹æ³•æ— æ³•åº”ç”¨è‡³ String ç±»å‹ã€‚å¹¶ä¸”ï¼Œ String ç±»å‹çš„æ•°å­—çš„è¿›ä½æ“ä½œæ•ˆç‡è¾ƒä½ï¼Œä¾‹å¦‚ <code>&quot;9999&quot;</code> è‡³ <code>&quot;10000&quot;</code> éœ€è¦ä»ä¸ªä½åˆ°åƒä½å¾ªç¯åˆ¤æ–­ï¼Œè¿›ä½ 4 æ¬¡ã€‚</p></li><li><p>è§‚å¯Ÿå¯çŸ¥ï¼Œç”Ÿæˆçš„åˆ—è¡¨å®é™…ä¸Šæ˜¯ <em>n</em> ä½ <em>0</em> - <em>9</em> çš„ <strong>å…¨æ’åˆ—</strong> ï¼Œå› æ­¤å¯é¿å¼€è¿›ä½æ“ä½œï¼Œé€šè¿‡é€’å½’ç”Ÿæˆæ•°å­—çš„ String åˆ—è¡¨ã€‚</p></li></ul><h2 id="3-é€’å½’ç”Ÿæˆå…¨æ’åˆ—ï¼š"><a href="#3-é€’å½’ç”Ÿæˆå…¨æ’åˆ—ï¼š" class="headerlink" title="3. é€’å½’ç”Ÿæˆå…¨æ’åˆ—ï¼š"></a>3. é€’å½’ç”Ÿæˆå…¨æ’åˆ—ï¼š</h2><ul><li>åŸºäºåˆ†æ²»ç®—æ³•çš„æ€æƒ³ï¼Œå…ˆå›ºå®šé«˜ä½ï¼Œå‘ä½ä½é€’å½’ï¼Œå½“ä¸ªä½å·²è¢«å›ºå®šæ—¶ï¼Œæ·»åŠ æ•°å­—çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚å½“ <em>n = 2</em> æ—¶ï¼ˆæ•°å­—èŒƒå›´ <em>1 - 99</em> ï¼‰ï¼Œå›ºå®šåä½ä¸º <em>0</em> - <em>9</em> ï¼ŒæŒ‰é¡ºåºä¾æ¬¡å¼€å¯é€’å½’ï¼Œå›ºå®šä¸ªä½ <em>0</em> - <em>9</em> ï¼Œç»ˆæ­¢é€’å½’å¹¶æ·»åŠ æ•°å­—å­—ç¬¦ä¸²ã€‚</li></ul><p><a href="https://pic.leetcode-cn.com/83f4b5930ddc1d42b05c724ea2950ee7f00427b11150c86b45bd88405f8c7c87-Picture1.png" target="_blank" rel="noopener">Picture1.png</a></p><p>æ ¹æ®ä»¥ä¸Šæ–¹æ³•ï¼Œå¯åˆæ­¥ç¼–å†™å…¨æ’åˆ—ä»£ç ï¼š</p><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printNumbers</span><span class="params">(self, n: int)</span> -&gt; [int]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(x)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> x == n: <span class="comment"># ç»ˆæ­¢æ¡ä»¶ï¼šå·²å›ºå®šå®Œæ‰€æœ‰ä½</span></span><br><span class="line">                res.append(<span class="string">''</span>.join(num)) <span class="comment"># æ‹¼æ¥ num å¹¶æ·»åŠ è‡³ res å°¾éƒ¨</span></span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>): <span class="comment"># éå† 0 - 9</span></span><br><span class="line">                num[x] = str(i) <span class="comment"># å›ºå®šç¬¬ x ä½ä¸º i</span></span><br><span class="line">                dfs(x + <span class="number">1</span>) <span class="comment"># å¼€å¯å›ºå®šç¬¬ x + 1 ä½</span></span><br><span class="line">        </span><br><span class="line">        num = [<span class="string">'0'</span>] * n <span class="comment"># èµ·å§‹æ•°å­—å®šä¹‰ä¸º n ä¸ª 0 ç»„æˆçš„å­—ç¬¦åˆ—è¡¨</span></span><br><span class="line">        res = [] <span class="comment"># æ•°å­—å­—ç¬¦ä¸²åˆ—è¡¨</span></span><br><span class="line">        dfs(<span class="number">0</span>) <span class="comment"># å¼€å¯å…¨æ’åˆ—é€’å½’</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">','</span>.join(res)  <span class="comment"># æ‹¼æ¥æ‰€æœ‰æ•°å­—å­—ç¬¦ä¸²ï¼Œä½¿ç”¨é€—å·éš”å¼€ï¼Œå¹¶è¿”å›</span></span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary> </details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    StringBuilder res;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>, n;</span><br><span class="line">    <span class="keyword">char</span>[] num, loop = &#123;<span class="string">'0'</span>, <span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'6'</span>, <span class="string">'7'</span>, <span class="string">'8'</span>, <span class="string">'9'</span>&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">printNumbers</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">        res = <span class="keyword">new</span> StringBuilder(); <span class="comment">// æ•°å­—å­—ç¬¦ä¸²é›†</span></span><br><span class="line">        num = <span class="keyword">new</span> <span class="keyword">char</span>[n]; <span class="comment">// å®šä¹‰é•¿åº¦ä¸º n çš„å­—ç¬¦åˆ—è¡¨</span></span><br><span class="line">        dfs(<span class="number">0</span>); <span class="comment">// å¼€å¯å…¨æ’åˆ—é€’å½’</span></span><br><span class="line">        res.deleteCharAt(res.length() - <span class="number">1</span>); <span class="comment">// åˆ é™¤æœ€åå¤šä½™çš„é€—å·</span></span><br><span class="line">        <span class="keyword">return</span> res.toString(); <span class="comment">// è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x == n) &#123; <span class="comment">// ç»ˆæ­¢æ¡ä»¶ï¼šå·²å›ºå®šå®Œæ‰€æœ‰ä½</span></span><br><span class="line">            res.append(String.valueOf(num) + <span class="string">","</span>); <span class="comment">// æ‹¼æ¥ num å¹¶æ·»åŠ è‡³ res å°¾éƒ¨ï¼Œä½¿ç”¨é€—å·éš”å¼€</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> i : loop) &#123; <span class="comment">// éå† â€˜0â€˜ - â€™9â€˜</span></span><br><span class="line">            num[x] = i; <span class="comment">// å›ºå®šç¬¬ x ä½ä¸º i</span></span><br><span class="line">            dfs(x + <span class="number">1</span>); <span class="comment">// å¼€å¯å›ºå®šç¬¬ x + 1 ä½</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>åœ¨æ­¤æ–¹æ³•ä¸‹ï¼Œå„æ•°å­—å­—ç¬¦ä¸²è¢«é€—å·éš”å¼€ï¼Œå…±åŒç»„æˆé•¿å­—ç¬¦ä¸²ã€‚è¿”å›çš„æ•°å­—é›†å­—ç¬¦ä¸²å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">è¾“å…¥ï¼šn</span> <span class="string">=</span> <span class="number">1</span></span><br><span class="line"><span class="string">è¾“å‡ºï¼š"0,1,2,3,4,5,6,7,8,9"</span></span><br><span class="line"></span><br><span class="line"><span class="string">è¾“å…¥ï¼šn</span> <span class="string">=</span> <span class="number">2</span></span><br><span class="line"><span class="string">è¾“å‡ºï¼š"00,01,02,...,10,11,12,...,97,98,99"</span></span><br><span class="line"></span><br><span class="line"><span class="string">è¾“å…¥ï¼šn</span> <span class="string">=</span> <span class="number">3</span></span><br><span class="line"><span class="string">è¾“å‡ºï¼š"000,001,002,...,100,101,102,...,997,998,999"</span></span><br></pre></td></tr></table></figure><p>è§‚å¯Ÿå¯çŸ¥ï¼Œå½“å‰çš„ç”Ÿæˆæ–¹æ³•ä»æœ‰ä»¥ä¸‹é—®é¢˜ï¼š</p><ol><li>è¯¸å¦‚00,01,02,â€¦  åº”æ˜¾ç¤ºä¸º0,1,2,â€¦ ï¼Œå³åº” <strong>åˆ é™¤é«˜ä½å¤šä½™çš„ <em>0</em></strong> ;</li><li>æ­¤æ–¹æ³•ä» <em>0</em> å¼€å§‹ç”Ÿæˆï¼Œè€Œé¢˜ç›®è¦æ±‚ <strong>åˆ—è¡¨ä» <em>1</em> å¼€å§‹</strong> ï¼›</li></ol><p>ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p><h2 id="1-åˆ é™¤é«˜ä½å¤šä½™çš„-0-ï¼š"><a href="#1-åˆ é™¤é«˜ä½å¤šä½™çš„-0-ï¼š" class="headerlink" title="1. åˆ é™¤é«˜ä½å¤šä½™çš„ 0 ï¼š"></a>1. åˆ é™¤é«˜ä½å¤šä½™çš„ <em>0</em> ï¼š</h2><ul><li><p><strong>å­—ç¬¦ä¸²å·¦è¾¹ç•Œå®šä¹‰ï¼š</strong> å£°æ˜å˜é‡ <em>start</em> è§„å®šå­—ç¬¦ä¸²çš„å·¦è¾¹ç•Œï¼Œä»¥ä¿è¯æ·»åŠ çš„æ•°å­—å­—ç¬¦ä¸² <code>num[start:]</code> ä¸­æ— é«˜ä½å¤šä½™çš„ <em>0</em> ã€‚ä¾‹å¦‚å½“ <em>n = 2</em> æ—¶ï¼Œ <em>1 - 9</em> æ—¶ <em>start = 1</em> ï¼Œ <em>10 - 99</em> æ—¶ <em>start = 0</em> ã€‚</p></li><li><p><strong>å·¦è¾¹ç•Œ <em>start</em> å˜åŒ–è§„å¾‹ï¼š</strong> è§‚å¯Ÿå¯çŸ¥ï¼Œå½“è¾“å‡ºæ•°å­—çš„æ‰€æœ‰ä½éƒ½æ˜¯ <em>9</em> æ—¶ï¼Œåˆ™ä¸‹ä¸ªæ•°å­—éœ€è¦å‘æ›´é«˜ä½è¿› <em>1</em> ï¼Œæ­¤æ—¶å·¦è¾¹ç•Œ <em>start</em> éœ€è¦å‡ <em>1</em> ï¼ˆå³é«˜ä½å¤šä½™çš„ <em>0</em> å‡å°‘ä¸€ä¸ªï¼‰ã€‚ä¾‹å¦‚å½“ <em>n = 3</em> ï¼ˆæ•°å­—èŒƒå›´ <em>1 - 999</em> ï¼‰æ—¶ï¼Œå·¦è¾¹ç•Œ <em>start</em> éœ€è¦å‡ <em>1</em> çš„æƒ…å†µæœ‰ï¼š â€œ009â€ è¿›ä½è‡³ â€œ010â€ ï¼Œ â€œ099â€ è¿›ä½è‡³ â€œ100â€ ã€‚è®¾æ•°å­—å„ä½ä¸­ <em>9</em> çš„æ•°é‡ä¸º <em>nine</em> ï¼Œæ‰€æœ‰ä½éƒ½ä¸º <em>9</em> çš„åˆ¤æ–­æ¡ä»¶å¯ç”¨ä»¥ä¸‹å…¬å¼è¡¨ç¤ºï¼š</p></li></ul><pre><code>n - start = nine</code></pre><ul><li><strong>ç»Ÿè®¡ <em>nine</em> çš„æ–¹æ³•ï¼š</strong> å›ºå®šç¬¬ <em>x</em> ä½æ—¶ï¼Œå½“ <em>i = 9</em> åˆ™æ‰§è¡Œ <em>nine = nine + 1</em> ï¼Œå¹¶åœ¨å›æº¯å‰æ¢å¤ <em>nine = nine - 1</em> ã€‚</li></ul><h2 id="2-åˆ—è¡¨ä»-1-å¼€å§‹ï¼š"><a href="#2-åˆ—è¡¨ä»-1-å¼€å§‹ï¼š" class="headerlink" title="2. åˆ—è¡¨ä» 1 å¼€å§‹ï¼š"></a>2. åˆ—è¡¨ä» <em>1</em> å¼€å§‹ï¼š</h2><ul><li>åœ¨ä»¥ä¸Šæ–¹æ³•çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ æ•°å­—å­—ç¬¦ä¸²å‰åˆ¤æ–­å…¶æ˜¯å¦ä¸º <code>&quot;0&quot;</code> ï¼Œè‹¥ä¸º <code>&quot;0&quot;</code> åˆ™ç›´æ¥è·³è¿‡ã€‚</li></ul><h2 id="å¤æ‚åº¦åˆ†æï¼š-1"><a href="#å¤æ‚åº¦åˆ†æï¼š-1" class="headerlink" title="å¤æ‚åº¦åˆ†æï¼š"></a>å¤æ‚åº¦åˆ†æï¼š</h2><ul><li><strong>æ—¶é—´å¤æ‚åº¦ <em>O(10^n)</em> ï¼š</strong> é€’å½’çš„ç”Ÿæˆçš„æ’åˆ—çš„æ•°é‡ä¸º <em>10^n</em> ã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦ <em>O(10^n)</em> ï¼š</strong> ç»“æœåˆ—è¡¨ <em>res</em> çš„é•¿åº¦ä¸º <em>10^n - 1</em> ï¼Œå„æ•°å­—å­—ç¬¦ä¸²çš„é•¿åº¦åŒºé—´ä¸º <em>1, 2, â€¦, n</em> ï¼Œå› æ­¤å ç”¨ <em>O(10^n)</em> å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li></ul><h2 id="ä»£ç ï¼š-1"><a href="#ä»£ç ï¼š-1" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h2><p>ä¸º <strong>æ­£ç¡®è¡¨ç¤ºå¤§æ•°</strong> ï¼Œä»¥ä¸‹ä»£ç çš„è¿”å›å€¼ä¸ºæ•°å­—å­—ç¬¦ä¸²é›†æ‹¼æ¥è€Œæˆçš„é•¿å­—ç¬¦ä¸²ã€‚</p><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printNumbers</span><span class="params">(self, n: int)</span> -&gt; [int]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(x)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> x == n:</span><br><span class="line">                s = <span class="string">''</span>.join(num[self.start:])</span><br><span class="line">                <span class="keyword">if</span> s != <span class="string">'0'</span>: res.append(s)</span><br><span class="line">                <span class="keyword">if</span> n - self.start == self.nine: self.start -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">                <span class="keyword">if</span> i == <span class="number">9</span>: self.nine += <span class="number">1</span></span><br><span class="line">                num[x] = str(i)</span><br><span class="line">                dfs(x + <span class="number">1</span>)</span><br><span class="line">            self.nine -= <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        num, res = [<span class="string">'0'</span>] * n, []</span><br><span class="line">        self.nine = <span class="number">0</span></span><br><span class="line">        self.start = n - <span class="number">1</span></span><br><span class="line">        dfs(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">','</span>.join(res)</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    StringBuilder res;</span><br><span class="line">    <span class="keyword">int</span> nine = <span class="number">0</span>, count = <span class="number">0</span>, start, n;</span><br><span class="line">    <span class="keyword">char</span>[] num, loop = &#123;<span class="string">'0'</span>, <span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'6'</span>, <span class="string">'7'</span>, <span class="string">'8'</span>, <span class="string">'9'</span>&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">printNumbers</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">        res = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        num = <span class="keyword">new</span> <span class="keyword">char</span>[n];</span><br><span class="line">        start = n - <span class="number">1</span>;</span><br><span class="line">        dfs(<span class="number">0</span>);</span><br><span class="line">        res.deleteCharAt(res.length() - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> res.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x == n) &#123;</span><br><span class="line">            String s = String.valueOf(num).substring(start);</span><br><span class="line">            <span class="keyword">if</span>(!s.equals(<span class="string">"0"</span>)) res.append(s + <span class="string">","</span>);</span><br><span class="line">            <span class="keyword">if</span>(n - start == nine) start--;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> i : loop) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="string">'9'</span>) nine++;</span><br><span class="line">            num[x] = i;</span><br><span class="line">            dfs(x + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        nine--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>æœ¬é¢˜è¦æ±‚è¾“å‡º int ç±»å‹æ•°ç»„ã€‚ä¸º <strong>è¿è¡Œé€šè¿‡</strong> ï¼Œå¯åœ¨æ·»åŠ æ•°å­—å­—ç¬¦ä¸² <em>s</em> å‰ï¼Œå°†å…¶è½¬åŒ–ä¸º int ç±»å‹ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printNumbers</span><span class="params">(self, n: int)</span> -&gt; [int]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(x)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> x == n:</span><br><span class="line">                s = <span class="string">''</span>.join(num[self.start:])</span><br><span class="line">                <span class="keyword">if</span> s != <span class="string">'0'</span>: res.append(int(s))</span><br><span class="line">                <span class="keyword">if</span> n - self.start == self.nine: self.start -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">                <span class="keyword">if</span> i == <span class="number">9</span>: self.nine += <span class="number">1</span></span><br><span class="line">                num[x] = str(i)</span><br><span class="line">                dfs(x + <span class="number">1</span>)</span><br><span class="line">            self.nine -= <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        num, res = [<span class="string">'0'</span>] * n, []</span><br><span class="line">        self.nine = <span class="number">0</span></span><br><span class="line">        self.start = n - <span class="number">1</span></span><br><span class="line">        dfs(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] res;</span><br><span class="line">    <span class="keyword">int</span> nine = <span class="number">0</span>, count = <span class="number">0</span>, start, n;</span><br><span class="line">    <span class="keyword">char</span>[] num, loop = &#123;<span class="string">'0'</span>, <span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'6'</span>, <span class="string">'7'</span>, <span class="string">'8'</span>, <span class="string">'9'</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] printNumbers(<span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">        res = <span class="keyword">new</span> <span class="keyword">int</span>[(<span class="keyword">int</span>)Math.pow(<span class="number">10</span>, n) - <span class="number">1</span>];</span><br><span class="line">        num = <span class="keyword">new</span> <span class="keyword">char</span>[n];</span><br><span class="line">        start = n - <span class="number">1</span>;</span><br><span class="line">        dfs(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x == n) &#123;</span><br><span class="line">            String s = String.valueOf(num).substring(start);</span><br><span class="line">            <span class="keyword">if</span>(!s.equals(<span class="string">"0"</span>)) res[count++] = Integer.parseInt(s);</span><br><span class="line">            <span class="keyword">if</span>(n - start == nine) start--;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> i : loop) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="string">'9'</span>) nine++;</span><br><span class="line">            num[x] = i;</span><br><span class="line">            dfs(x + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        nine--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¾“å…¥æ•°å­— nï¼ŒæŒ‰é¡ºåºæ‰“å°å‡ºä» 1 åˆ°æœ€å¤§çš„ n ä½åè¿›åˆ¶æ•°ã€‚æ¯”å¦‚è¾“å…¥ 3ï¼Œåˆ™æ‰“å°å‡º 1ã€2ã€3 ä¸€ç›´åˆ°æœ€å¤§çš„ 3 ä½æ•° 999ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>2104. å­æ•°ç»„èŒƒå›´å’Œ</title>
    <link href="http://yoursite.com/2021/12/19/2104.%20%E5%AD%90%E6%95%B0%E7%BB%84%E8%8C%83%E5%9B%B4%E5%92%8C/"/>
    <id>http://yoursite.com/2021/12/19/2104. å­æ•°ç»„èŒƒå›´å’Œ/</id>
    <published>2021-12-19T02:30:12.000Z</published>
    <updated>2021-12-19T02:51:25.617Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ã€‚nums ä¸­ï¼Œå­æ•°ç»„çš„ èŒƒå›´ æ˜¯å­æ•°ç»„ä¸­æœ€å¤§å…ƒç´ å’Œæœ€å°å…ƒç´ çš„å·®å€¼ã€‚</p><p>è¿”å› nums ä¸­ æ‰€æœ‰ å­æ•°ç»„èŒƒå›´çš„ å’Œ ã€‚</p><a id="more"></a><p>[TOC]</p><p><strong>å­æ•°ç»„æ˜¯æ•°ç»„ä¸­ä¸€ä¸ªè¿ç»­ éç©º çš„å…ƒç´ åºåˆ—ã€‚</strong></p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [1,2,3]è¾“å‡ºï¼š4è§£é‡Šï¼šnums çš„ 6 ä¸ªå­æ•°ç»„å¦‚ä¸‹æ‰€ç¤ºï¼š[1]ï¼ŒèŒƒå›´ = æœ€å¤§ - æœ€å° = 1 - 1 = 0 [2]ï¼ŒèŒƒå›´ = 2 - 2 = 0[3]ï¼ŒèŒƒå›´ = 3 - 3 = 0[1,2]ï¼ŒèŒƒå›´ = 2 - 1 = 1[2,3]ï¼ŒèŒƒå›´ = 3 - 2 = 1[1,2,3]ï¼ŒèŒƒå›´ = 3 - 1 = 2æ‰€æœ‰èŒƒå›´çš„å’Œæ˜¯ 0 + 0 + 0 + 1 + 1 + 2 = 4</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [1,3,3]è¾“å‡ºï¼š4è§£é‡Šï¼šnums çš„ 6 ä¸ªå­æ•°ç»„å¦‚ä¸‹æ‰€ç¤ºï¼š[1]ï¼ŒèŒƒå›´ = æœ€å¤§ - æœ€å° = 1 - 1 = 0[3]ï¼ŒèŒƒå›´ = 3 - 3 = 0[3]ï¼ŒèŒƒå›´ = 3 - 3 = 0[1,3]ï¼ŒèŒƒå›´ = 3 - 1 = 2[3,3]ï¼ŒèŒƒå›´ = 3 - 3 = 0[1,3,3]ï¼ŒèŒƒå›´ = 3 - 1 = 2æ‰€æœ‰èŒƒå›´çš„å’Œæ˜¯ 0 + 0 + 0 + 2 + 0 + 2 = 4</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [4,-2,-3,4,1]è¾“å‡ºï¼š59è§£é‡Šï¼šnums ä¸­æ‰€æœ‰å­æ•°ç»„èŒƒå›´çš„å’Œæ˜¯ 59</code></pre><p>æç¤ºï¼š</p><p>1 &lt;= nums.length &lt;= 1000<br>-109 &lt;= nums[i] &lt;= 109</p><p>è¿›é˜¶ï¼šä½ å¯ä»¥è®¾è®¡ä¸€ç§æ—¶é—´å¤æ‚åº¦ä¸º O(n) çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ</p><h1 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h1><p>1ã€ä¸€ä¸ªå¾ˆè‡ªç„¶çš„æ€è·¯å°±æ˜¯æšä¸¾æ¯ä¸€ä¸ªå­æ•°ç»„ï¼Œæ‰¾åˆ°å­æ•°ç»„çš„æœ€å°å€¼ã€æœ€å¤§å€¼ï¼Œç„¶åæ±‚èŒƒå›´ä¹‹å’Œã€‚è¿™æ ·åšå¤æ‚åº¦è‡³å°‘æ˜¯O(n^2)ã€‚  </p><p>2ã€è¦æ‰¾åˆ°ä¸€ä¸ªO(n)å¤æ‚åº¦çš„æ–¹æ³•ï¼Œåªèƒ½ä¾æ¬¡è€ƒè™‘æ¯ä¸€ä¸ªæ•°å­—ã€‚å½“å‡ºç°æ•°å­—nums[j]æ—¶ï¼Œå®ƒå¯¹èŒƒå›´ä¹‹å’Œæœ‰ä»€ä¹ˆå½±å“å‘¢ï¼Ÿè¿™æ ·é—®é¢˜å°±å˜ä¸ºäº†nums[j]å¯èƒ½æ˜¯å“ªäº›å­æ•°ç»„çš„æœ€å¤§å€¼ã€æœ€å°å€¼å‘¢ï¼Ÿæ²¿ç€è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå‡è®¾nums[i]â€¦nums[j]â€¦nums[k]ï¼Œnums[i]æ˜¯nums[j]å·¦è¾¹ç¬¬ä¸€ä¸ªå¤§äºnums[j]çš„æ•°ï¼Œnums[k]æ˜¯nums[j]å³è¾¹ç¬¬ä¸€ä¸ªå¤§äºnums[j]çš„æ•°ï¼Œé‚£ä¹ˆæ˜¾ç„¶åŒºé—´nums(i,k)ä¹‹é—´çš„æœ€å¤§å€¼æ˜¯nums[j]ï¼Œè¿™å°±æ„å‘³ç€è¯¥åŒºé—´å†…æ‰€æœ‰åŒ…å«nums[j]çš„å­æ•°ç»„çš„æœ€å¤§å€¼éƒ½æ˜¯nums[j]ï¼›è€Œä»»ä½•ä¸€ä¸ªåŒ…å«nums[i]æˆ–è€…nums[k]çš„å­æ•°ç»„çš„æœ€å¤§å€¼éƒ½ä¸å¯èƒ½æ˜¯nums[j]ã€‚è¿™æ ·nums[j]ä½œä¸ºæœ€å¤§å€¼ï¼Œè´¡çŒ®çš„èŒƒå›´ä¹‹å’Œå°±æ˜¯åŒºé—´nums(i,k)åŒ…å«nums[j]çš„å­æ•°ç»„ä¸ªæ•° * nums[j]ï¼Œè€Œè¿™ä¸ªå­æ•°ç»„ä¸ªæ•° = (j - i) * (k - j)ã€‚  </p><p>3ã€åŒæ ·çš„æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°nums[j]ä½œä¸ºæœ€å°å€¼ï¼Œå¯¹èŒƒå›´ä¹‹å’Œçš„è´¡çŒ®ã€‚æˆ‘ä»¬éå†æ‰€æœ‰çš„nums[j]ï¼ŒåŠ ä¸Šå®ƒä½œä¸ºæœ€å¤§å€¼çš„è´¡çŒ®ï¼Œå‡å»å®ƒä½œä¸ºæœ€å°å€¼çš„è´¡çŒ®ï¼Œè¿™æ ·å°±å¯ä»¥æ±‚å‡ºèŒƒå›´ä¹‹å’Œäº†ã€‚  </p><p>4ã€é‚£ä¹ˆå¦‚ä½•æ±‚å¾—nums[j]å·¦å³ä¸¤è¾¹ç¬¬ä¸€ä¸ªå¤§äºå®ƒçš„æ•°å‘¢ï¼Ÿè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„å•è°ƒæ ˆé—®é¢˜ï¼Œæˆ‘ä»¬æ­£å‘éå†æ•°ç»„ï¼Œç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å¢æ ˆå’Œä¸€ä¸ªå•è°ƒé€’å‡æ ˆï¼Œå•è°ƒé€’å¢æ ˆçš„æ ˆé¡¶å…ƒç´ å°±æ˜¯å·¦è¾¹ç¬¬ä¸€ä¸ªå°äºnums[j]çš„å…ƒç´ ï¼Œå•è°ƒé€’å‡æ ˆçš„æ ˆé¡¶å…ƒç´ å°±æ˜¯å·¦è¾¹ç¬¬ä¸€ä¸ªå¤§äºnums[j]çš„å…ƒç´ ã€‚åŒæ ·çš„æ–¹æ³•ï¼Œåå‘éå†æ•°ç»„ï¼Œå³å¯æ±‚å¾—nums[j]å³è¾¹ç¬¬ä¸€ä¸ªå¤§äºã€å°äºå®ƒçš„å…ƒç´ ã€‚  </p><p>5ã€æ³¨æ„ä¸€ä¸ªç»†èŠ‚é—®é¢˜ï¼Œå½“æœ‰ç›¸åŒnumå‡ºç°æ—¶ï¼Œå¦‚æœæ˜¯æ­£å‘éå†ï¼Œé‚£ä¹ˆä¸åº”è¯¥ç»§ç»­å¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼Œå› ä¸ºåœ¨ä¸€ä¸ªå­æ•°ç»„ä¸­ç›¸åŒçš„ä¸¤ä¸ªæ•°åªæœ‰ç¬¬ä¸€ä¸ªä¼šè¢«è®¤ä¸ºæ˜¯æœ€å¤§å€¼ã€æœ€å°å€¼ï¼Œæ‰€ä»¥åæ¥çš„ç¬¬äºŒä¸ªæ²¡æœ‰åŠæ³•å–ä»£ç¬¬ä¸€ä¸ªã€‚è€Œåå‘éå†æ—¶æ°æ°ç›¸åï¼Œåæ¥çš„ç¬¬äºŒä¸ªæ•°åœ¨åŸæ•°ç»„çš„å‰é¢ä½ç½®ï¼Œå®ƒåº”è¯¥å–ä»£ç¬¬ä¸€ä¸ªæ•°ï¼Œæ‰€ä»¥éœ€è¦ç»§ç»­å¼¹å‡ºæ ˆé¡¶å…ƒç´ ã€‚  </p><h2 id="å¤æ‚åº¦é—®é¢˜"><a href="#å¤æ‚åº¦é—®é¢˜" class="headerlink" title="å¤æ‚åº¦é—®é¢˜"></a>å¤æ‚åº¦é—®é¢˜</h2><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå•è°ƒæ ˆå’Œåç»­çš„æ±‚èŒƒå›´ä¹‹å’Œï¼Œéƒ½åªéœ€è¦éå†ä¸€æ¬¡æ•°ç»„ã€‚  </p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œéœ€è¦ä¿å­˜æ¯ä¸ªæ•°å·¦å³ä¸¤è¾¹ç¬¬ä¸€ä¸ªå¤§äºã€å°äºè‡ªå·±çš„æ•°çš„ä½ç½®ã€‚</p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><details>    <summary>cpp</summary><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">subArrayRanges</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, size = nums.size();</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; leftLess(size), leftGreater(size), rightLess(size), rightGreater(size);</span><br><span class="line"></span><br><span class="line">        getLeft(nums, leftLess, leftGreater);</span><br><span class="line">        getRight(nums, rightLess, rightGreater);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">            sum += (nums[i] * ((<span class="keyword">long</span> <span class="keyword">long</span>)i - leftGreater[i]) * ((<span class="keyword">long</span> <span class="keyword">long</span>)rightGreater[i] - i));</span><br><span class="line">            sum -= (nums[i] * ((<span class="keyword">long</span> <span class="keyword">long</span>)i - leftLess[i]) * ((<span class="keyword">long</span> <span class="keyword">long</span>)rightLess[i] - i));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">getLeft</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; leftLess, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; leftGreater)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, size = nums.size();</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; increasing, decreasing;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!increasing.empty() &amp;&amp; nums[increasing.top()] &gt; nums[i]) &#123;</span><br><span class="line">                increasing.pop();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            leftLess[i] = increasing.empty() ? <span class="number">-1</span> : increasing.top();</span><br><span class="line">            increasing.push(i);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (!decreasing.empty() &amp;&amp; nums[decreasing.top()] &lt; nums[i]) &#123;</span><br><span class="line">                decreasing.pop();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            leftGreater[i] = decreasing.empty() ? <span class="number">-1</span> : decreasing.top();</span><br><span class="line">            decreasing.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">getRight</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; rightLess, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; rightGreater)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i, size = nums.size();</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; increasing, decreasing;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (i = size - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!increasing.empty() &amp;&amp; nums[increasing.top()] &gt;= nums[i]) &#123;</span><br><span class="line">                increasing.pop();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            rightLess[i] = increasing.empty() ? size : increasing.top();</span><br><span class="line">            increasing.push(i);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (!decreasing.empty() &amp;&amp; nums[decreasing.top()] &lt;= nums[i]) &#123;</span><br><span class="line">                decreasing.pop();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            rightGreater[i] = decreasing.empty() ? size : decreasing.top();</span><br><span class="line">            decreasing.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ã€‚nums ä¸­ï¼Œå­æ•°ç»„çš„ èŒƒå›´ æ˜¯å­æ•°ç»„ä¸­æœ€å¤§å…ƒç´ å’Œæœ€å°å…ƒç´ çš„å·®å€¼ã€‚&lt;/p&gt;
&lt;p&gt;è¿”å› nums ä¸­ æ‰€æœ‰ å­æ•°ç»„èŒƒå›´çš„ å’Œ ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Stack" scheme="http://yoursite.com/tags/Stack/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Monotonic Stack" scheme="http://yoursite.com/tags/Monotonic-Stack/"/>
    
  </entry>
  
  <entry>
    <title>2103. ç¯å’Œæ†</title>
    <link href="http://yoursite.com/2021/12/19/2103.%20%E7%8E%AF%E5%92%8C%E6%9D%86/"/>
    <id>http://yoursite.com/2021/12/19/2103. ç¯å’Œæ†/</id>
    <published>2021-12-19T02:30:12.000Z</published>
    <updated>2021-12-19T02:31:37.502Z</updated>
    
    <content type="html"><![CDATA[<p>æ‰¾å‡ºæ‰€æœ‰é›†é½å…¨éƒ¨ä¸‰ç§é¢œè‰²ç¯çš„æ†ï¼Œå¹¶è¿”å›è¿™ç§æ†çš„æ•°é‡ã€‚</p><a id="more"></a><p>[TOC]</p><p>æ€»è®¡æœ‰ n ä¸ªç¯ï¼Œç¯çš„é¢œè‰²å¯ä»¥æ˜¯çº¢ã€ç»¿ã€è“ä¸­çš„ä¸€ç§ã€‚è¿™äº›ç¯åˆ†å¸ƒç©¿åœ¨ 10 æ ¹ç¼–å·ä¸º 0 åˆ° 9 çš„æ†ä¸Šã€‚</p><p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º 2n çš„å­—ç¬¦ä¸² rings ï¼Œè¡¨ç¤ºè¿™ n ä¸ªç¯åœ¨æ†ä¸Šçš„åˆ†å¸ƒã€‚rings ä¸­æ¯ä¸¤ä¸ªå­—ç¬¦å½¢æˆä¸€ä¸ª é¢œè‰²ä½ç½®å¯¹ ï¼Œç”¨äºæè¿°æ¯ä¸ªç¯ï¼š</p><p>ç¬¬ i å¯¹ä¸­çš„ ç¬¬ä¸€ä¸ª å­—ç¬¦è¡¨ç¤ºç¬¬ i ä¸ªç¯çš„ é¢œè‰²ï¼ˆâ€™Râ€™ã€â€™Gâ€™ã€â€™Bâ€™ï¼‰ã€‚<br>ç¬¬ i å¯¹ä¸­çš„ ç¬¬äºŒä¸ª å­—ç¬¦è¡¨ç¤ºç¬¬ i ä¸ªç¯çš„ ä½ç½®ï¼Œä¹Ÿå°±æ˜¯ä½äºå“ªæ ¹æ†ä¸Šï¼ˆâ€™0â€™ åˆ° â€˜9â€™ï¼‰ã€‚<br>ä¾‹å¦‚ï¼Œâ€R3G2B1â€ è¡¨ç¤ºï¼šå…±æœ‰ n == 3 ä¸ªç¯ï¼Œçº¢è‰²çš„ç¯åœ¨ç¼–å·ä¸º 3 çš„æ†ä¸Šï¼Œç»¿è‰²çš„ç¯åœ¨ç¼–å·ä¸º 2 çš„æ†ä¸Šï¼Œè“è‰²çš„ç¯åœ¨ç¼–å·ä¸º 1 çš„æ†ä¸Šã€‚</p><p>æ‰¾å‡ºæ‰€æœ‰é›†é½ å…¨éƒ¨ä¸‰ç§é¢œè‰² ç¯çš„æ†ï¼Œå¹¶è¿”å›è¿™ç§æ†çš„æ•°é‡ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šrings = &quot;B0B6G0R6R0R6G9&quot;è¾“å‡ºï¼š1è§£é‡Šï¼š- ç¼–å· 0 çš„æ†ä¸Šæœ‰ 3 ä¸ªç¯ï¼Œé›†é½å…¨éƒ¨é¢œè‰²ï¼šçº¢ã€ç»¿ã€è“ã€‚- ç¼–å· 6 çš„æ†ä¸Šæœ‰ 3 ä¸ªç¯ï¼Œä½†åªæœ‰çº¢ã€è“ä¸¤ç§é¢œè‰²ã€‚- ç¼–å· 9 çš„æ†ä¸Šåªæœ‰ 1 ä¸ªç»¿è‰²ç¯ã€‚å› æ­¤ï¼Œé›†é½å…¨éƒ¨ä¸‰ç§é¢œè‰²ç¯çš„æ†çš„æ•°ç›®ä¸º 1 ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šrings = &quot;B0R0G0R9R0B0G0&quot;è¾“å‡ºï¼š1è§£é‡Šï¼š- ç¼–å· 0 çš„æ†ä¸Šæœ‰ 6 ä¸ªç¯ï¼Œé›†é½å…¨éƒ¨é¢œè‰²ï¼šçº¢ã€ç»¿ã€è“ã€‚- ç¼–å· 9 çš„æ†ä¸Šåªæœ‰ 1 ä¸ªçº¢è‰²ç¯ã€‚å› æ­¤ï¼Œé›†é½å…¨éƒ¨ä¸‰ç§é¢œè‰²ç¯çš„æ†çš„æ•°ç›®ä¸º 1 ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šrings = &quot;G4&quot;è¾“å‡ºï¼š0è§£é‡Šï¼šåªç»™äº†ä¸€ä¸ªç¯ï¼Œå› æ­¤ï¼Œä¸å­˜åœ¨é›†é½å…¨éƒ¨ä¸‰ç§é¢œè‰²ç¯çš„æ†ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>rings.length == 2 * n1 &lt;= n &lt;= 100å¦‚ i æ˜¯ å¶æ•° ï¼Œåˆ™ rings[i] çš„å€¼å¯ä»¥å– &apos;R&apos;ã€&apos;G&apos; æˆ– &apos;B&apos;ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹è®¡æ•°ï¼‰å¦‚ i æ˜¯ å¥‡æ•° ï¼Œåˆ™ rings[i] çš„å€¼å¯ä»¥å– &apos;0&apos; åˆ° &apos;9&apos; ä¸­çš„ä¸€ä¸ªæ•°å­—ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹è®¡æ•°ï¼‰</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šç»´æŠ¤æ¯æ ¹æ†çš„çŠ¶æ€"><a href="#æ–¹æ³•ä¸€ï¼šç»´æŠ¤æ¯æ ¹æ†çš„çŠ¶æ€" class="headerlink" title="æ–¹æ³•ä¸€ï¼šç»´æŠ¤æ¯æ ¹æ†çš„çŠ¶æ€"></a>æ–¹æ³•ä¸€ï¼šç»´æŠ¤æ¯æ ¹æ†çš„çŠ¶æ€</h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>æˆ‘ä»¬å¯ä»¥éå†å­—ç¬¦ä¸²çš„æ¯ä¸ªé¢œè‰²ä½ç½®å¯¹ï¼Œæ¥æ¨¡æ‹Ÿå¥—ç¯çš„è¿‡ç¨‹ã€‚</p><p>å¯¹äºæ¯ä¸€ä¸ªç¯ï¼Œç”±äºæˆ‘ä»¬åªå…³å¿ƒå®ƒä¸Šé¢æœ‰å“ªäº›é¢œè‰²çš„ç¯ï¼Œè€Œä¸åœ¨æ„å…·ä½“çš„æ•°é‡ï¼›åŒæ—¶æ˜¯å¦æœ‰æŸä¸€ç§é¢œè‰²çš„ç¯çš„çŠ¶æ€ç›¸äº’ç‹¬ç«‹ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ª <em>3</em> äºŒè¿›åˆ¶ä½çš„æ•´æ•°æ¥è¡¨ç¤ºæ¯ä¸ªç¯çš„çŠ¶æ€ã€‚å…·ä½“åœ°ï¼Œ<strong>ä»ä½åˆ°é«˜</strong>ç¬¬ä¸€ä½è¡¨ç¤ºæ˜¯å¦æœ‰çº¢è‰²çš„ç¯ï¼Œç¬¬äºŒä½è¡¨ç¤ºæ˜¯å¦æœ‰è“è‰²çš„ç¯ï¼Œç¬¬ä¸‰ä½è¡¨ç¤ºæ˜¯å¦æœ‰ç»¿è‰²çš„ç¯ï¼›æ¯ä¸€ä½ä¸º <em>1</em> åˆ™ä»£è¡¨å½“å‰æ†ä¸Šæœ‰å¯¹åº”é¢œè‰²çš„ç¯ï¼Œä¸º <em>0</em> åˆ™ä»£è¡¨æ²¡æœ‰ã€‚å½“å¥—ä¸ŠæŸç§é¢œè‰²çš„ç¯åï¼Œæ— è®ºè¯¥äºŒè¿›åˆ¶ä½ä¹‹å‰å–å€¼å¦‚ä½•ï¼Œæ–°çš„å–å€¼ä¸€å®šä¸º <em>1</em>ï¼Œè¿™ç­‰ä»·äºå¯¹åº”äºŒè¿›åˆ¶ä½<strong>å¯¹ <em>1</em> å–æˆ–</strong>çš„æ“ä½œã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªé•¿åº¦ä¸º <em>10</em> çš„çŠ¶æ€æ•°ç»„æ¥è¡¨ç¤ºæ¯ä¸ªç¯çš„çŠ¶æ€ï¼Œæ•°ç»„ä¸‹æ ‡å³ä¸ºæ†çš„ç¼–å·ã€‚åœ¨æ¨¡æ‹Ÿå¼€å§‹å‰ï¼Œæ‰€æœ‰ç¯çš„çŠ¶æ€å¯¹åº”çš„æ•´æ•°å‡ä¸º <em>0</em>ã€‚åœ¨éå†åˆ°æ¯ä¸ªé¢œè‰²ä½ç½®å¯¹æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆçœ‹ç¬¬äºŒä¸ªå­—ç¬¦å¯»æ‰¾å‡ºå¯¹åº”çš„ä¸‹æ ‡ï¼ŒåŒæ—¶æ ¹æ®ç¯çš„é¢œè‰²å¯¹çŠ¶æ€å€¼çš„å¯¹åº”äºŒè¿›åˆ¶ä½<strong>å¯¹ <em>1</em> å–æˆ–</strong>ã€‚å½“éå†å®Œæˆåï¼Œæˆ‘ä»¬éå†çŠ¶æ€æ•°ç»„ï¼Œç»Ÿè®¡çŠ¶æ€å€¼ä¸º <em>(111)_2 = 7</em> ï¼ˆä»£è¡¨å¯¹åº”æ†ä¸Šæœ‰ä¸‰ç§é¢œè‰²çš„ç¯ï¼‰çš„ä¸ªæ•°ï¼Œå¹¶è¿”å›è¯¥ä¸ªæ•°ä½œä¸ºç­”æ¡ˆã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">countPoints</span><span class="params">(<span class="built_in">string</span> rings)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = rings.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; status(<span class="number">10</span>);   <span class="comment">// çŠ¶æ€æ•°ç»„</span></span><br><span class="line">        <span class="comment">// éå†é¢œè‰²ä½ç½®å¯¹ç»´æŠ¤çŠ¶æ€æ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i += <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> idx = rings[i+<span class="number">1</span>] - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">if</span> (rings[i] == <span class="string">'R'</span>) &#123;</span><br><span class="line">                status[idx] |= <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (rings[i] == <span class="string">'G'</span>) &#123;</span><br><span class="line">                status[idx] |= <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                status[idx] |= <span class="number">4</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ç»Ÿè®¡é›†é½ä¸‰è‰²ç¯çš„æ†çš„æ•°é‡</span></span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (status[i] == <span class="number">7</span>) &#123;</span><br><span class="line">                ++res;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countPoints</span><span class="params">(self, rings: str)</span> -&gt; int:</span></span><br><span class="line">        n = len(rings)</span><br><span class="line">        status = [<span class="number">0</span>] * <span class="number">10</span>   <span class="comment"># çŠ¶æ€æ•°ç»„</span></span><br><span class="line">        <span class="comment"># éå†é¢œè‰²ä½ç½®å¯¹ç»´æŠ¤çŠ¶æ€æ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, n, <span class="number">2</span>):</span><br><span class="line">            idx = int(rings[i+<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">if</span> rings[i] == <span class="string">'R'</span>:</span><br><span class="line">                status[idx] |= <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> rings[i] == <span class="string">'G'</span>:</span><br><span class="line">                status[idx] |= <span class="number">2</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                status[idx] |= <span class="number">4</span></span><br><span class="line">        <span class="comment"># ç»Ÿè®¡é›†é½ä¸‰è‰²ç¯çš„æ†çš„æ•°é‡</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">            <span class="keyword">if</span> status[i] == <span class="number">7</span>:</span><br><span class="line">                res += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n + k)*ï¼Œå…¶ä¸­ *n</em> ä¸ºrings çš„é•¿åº¦ï¼Œ<em>k</em> ä¸ºæ†çš„æ•°é‡ã€‚åˆå§‹åŒ–æ†çŠ¶æ€æ•°ç»„ä¸ç»Ÿè®¡æ•°é‡çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(k)</em>ï¼Œéå†å­—ç¬¦ä¸²çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(k)</em>ï¼Œå³ä¸ºçŠ¶æ€æ•°ç»„çš„ç©ºé—´å¼€é”€ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ‰¾å‡ºæ‰€æœ‰é›†é½å…¨éƒ¨ä¸‰ç§é¢œè‰²ç¯çš„æ†ï¼Œå¹¶è¿”å›è¿™ç§æ†çš„æ•°é‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
  </entry>
  
  <entry>
    <title>JVMå­¦ä¹ ç¬”è®°ï¼ˆçº¿ç¨‹ï¼ŒJVMï¼Œåƒåœ¾å›æ”¶ï¼Œå¼•ç”¨ï¼ŒIOï¼Œç±»åŠ è½½ï¼‰</title>
    <link href="http://yoursite.com/2021/12/17/JVM%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E7%BA%BF%E7%A8%8B%EF%BC%8CJVM%EF%BC%8C%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%EF%BC%8C%E5%BC%95%E7%94%A8%EF%BC%8CIO%EF%BC%8C%E7%B1%BB%E5%8A%A0%E8%BD%BD%EF%BC%89/"/>
    <id>http://yoursite.com/2021/12/17/JVMå­¦ä¹ ç¬”è®°ï¼ˆçº¿ç¨‹ï¼ŒJVMï¼Œåƒåœ¾å›æ”¶ï¼Œå¼•ç”¨ï¼ŒIOï¼Œç±»åŠ è½½ï¼‰/</id>
    <published>2021-12-17T12:30:12.000Z</published>
    <updated>2021-12-19T13:14:00.787Z</updated>
    
    <content type="html"><![CDATA[<p>JVM æ˜¯å¯è¿è¡Œ Java ä»£ç çš„å‡æƒ³è®¡ç®—æœº ï¼ŒåŒ…æ‹¬ä¸€å¥—å­—èŠ‚ç æŒ‡ä»¤é›†ã€ä¸€ç»„å¯„å­˜å™¨ã€ä¸€ä¸ªæ ˆã€<br>ä¸€ä¸ªåƒåœ¾å›æ”¶ï¼Œå † å’Œ ä¸€ä¸ªå­˜å‚¨æ–¹æ³•åŸŸã€‚JVM æ˜¯è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šçš„ï¼Œå®ƒä¸ç¡¬ä»¶æ²¡æœ‰ç›´æ¥<br>çš„äº¤äº’ã€‚</p><a id="more"></a><p>[TOC]</p><h1 id="åŸºæœ¬æ¦‚å¿µï¼š-1"><a href="#åŸºæœ¬æ¦‚å¿µï¼š-1" class="headerlink" title="åŸºæœ¬æ¦‚å¿µï¼š^1"></a>åŸºæœ¬æ¦‚å¿µï¼š<a href="[æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼šJVMé«˜çº§ç‰¹æ€§ä¸æœ€ä½³å®è·µ](https://weread.qq.com/web/reader/9b832f305933f09b86bd2a9kecc32f3013eccbc87e4b62e)">^1</a></h1><p>JVM æ˜¯å¯è¿è¡Œ Java ä»£ç çš„å‡æƒ³è®¡ç®—æœº ï¼ŒåŒ…æ‹¬ä¸€å¥—å­—èŠ‚ç æŒ‡ä»¤é›†ã€ä¸€ç»„å¯„å­˜å™¨ã€ä¸€ä¸ªæ ˆã€<br>ä¸€ä¸ªåƒåœ¾å›æ”¶ï¼Œå † å’Œ ä¸€ä¸ªå­˜å‚¨æ–¹æ³•åŸŸã€‚JVM æ˜¯è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šçš„ï¼Œå®ƒä¸ç¡¬ä»¶æ²¡æœ‰ç›´æ¥<br>çš„äº¤äº’ã€‚</p><p>æˆ‘ä»¬éƒ½çŸ¥é“ Java æºæ–‡ä»¶ï¼Œé€šè¿‡ç¼–è¯‘å™¨ï¼Œèƒ½å¤Ÿç”Ÿäº§ç›¸åº”çš„.Class æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯å­—èŠ‚ç æ–‡ä»¶ï¼Œ<br>è€Œå­—èŠ‚ç æ–‡ä»¶åˆé€šè¿‡ Java è™šæ‹Ÿæœºä¸­çš„è§£é‡Šå™¨ï¼Œç¼–è¯‘æˆç‰¹å®šæœºå™¨ä¸Šçš„æœºå™¨ç  ã€‚<br>ä¹Ÿå°±æ˜¯å¦‚ä¸‹ï¼š</p><p>â‘  Java æºæ–‡ä»¶â€”-&gt;ç¼–è¯‘å™¨â€”-&gt;å­—èŠ‚ç æ–‡ä»¶</p><p>â‘¡ å­—èŠ‚ç æ–‡ä»¶â€”-&gt;JVMâ€”-&gt;æœºå™¨ç </p><p>æ¯ä¸€ç§å¹³å°çš„è§£é‡Šå™¨æ˜¯ä¸åŒçš„ï¼Œä½†æ˜¯å®ç°çš„è™šæ‹Ÿæœºæ˜¯ç›¸åŒçš„ï¼Œè¿™ä¹Ÿå°±æ˜¯ Java ä¸ºä»€ä¹ˆèƒ½å¤Ÿ<br>è·¨å¹³å°çš„åŸå› äº† ï¼Œå½“ä¸€ä¸ªç¨‹åºä»å¼€å§‹è¿è¡Œï¼Œè¿™æ—¶è™šæ‹Ÿæœºå°±å¼€å§‹å®ä¾‹åŒ–äº†ï¼Œå¤šä¸ªç¨‹åºå¯åŠ¨å°±ä¼š<br>å­˜åœ¨å¤šä¸ªè™šæ‹Ÿæœºå®ä¾‹ã€‚ç¨‹åºé€€å‡ºæˆ–è€…å…³é—­ï¼Œåˆ™è™šæ‹Ÿæœºå®ä¾‹æ¶ˆäº¡ï¼Œå¤šä¸ªè™šæ‹Ÿæœºå®ä¾‹ä¹‹é—´æ•°æ®ä¸<br>èƒ½å…±äº«ã€‚</p><h2 id="çº¿ç¨‹"><a href="#çº¿ç¨‹" class="headerlink" title="çº¿ç¨‹"></a>çº¿ç¨‹</h2><p>è¿™é‡Œæ‰€è¯´çš„çº¿ç¨‹æŒ‡ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸€ä¸ªçº¿ç¨‹å®ä½“ã€‚JVM å…è®¸ä¸€ä¸ªåº”ç”¨å¹¶å‘æ‰§è¡Œå¤šä¸ªçº¿ç¨‹ã€‚<br>Hotspot JVM ä¸­çš„ Java çº¿ç¨‹ä¸åŸç”Ÿæ“ä½œç³»ç»Ÿçº¿ç¨‹æœ‰ç›´æ¥çš„æ˜ å°„å…³ç³»ã€‚å½“çº¿ç¨‹æœ¬åœ°å­˜å‚¨ã€ç¼“<br>å†²åŒºåˆ†é…ã€åŒæ­¥å¯¹è±¡ã€æ ˆã€ç¨‹åºè®¡æ•°å™¨ç­‰å‡†å¤‡å¥½ä»¥åï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ“ä½œç³»ç»ŸåŸç”Ÿçº¿ç¨‹ã€‚<br>Java çº¿ç¨‹ç»“æŸï¼ŒåŸç”Ÿçº¿ç¨‹éšä¹‹è¢«å›æ”¶ã€‚æ“ä½œç³»ç»Ÿè´Ÿè´£è°ƒåº¦æ‰€æœ‰çº¿ç¨‹ï¼Œå¹¶æŠŠå®ƒä»¬åˆ†é…åˆ°ä»»ä½•å¯<br>ç”¨çš„ CPU ä¸Šã€‚å½“åŸç”Ÿçº¿ç¨‹åˆå§‹åŒ–å®Œæ¯•ï¼Œå°±ä¼šè°ƒç”¨ Java çº¿ç¨‹çš„ run() æ–¹æ³•ã€‚å½“çº¿ç¨‹ç»“æŸæ—¶ä¼šé‡Šæ”¾åŸç”Ÿçº¿ç¨‹å’Œ Java çº¿ç¨‹çš„æ‰€æœ‰èµ„æºã€‚</p><p>Hotspot JVM åå°è¿è¡Œçš„ç³»ç»Ÿçº¿ç¨‹ä¸»è¦æœ‰ä¸‹é¢å‡ ä¸ªï¼š</p><table><thead><tr><th>çº¿ç¨‹</th><th>è¯¦æƒ…</th></tr></thead><tbody><tr><td>è™šæ‹Ÿæœºçº¿ç¨‹ï¼ˆVM threadï¼‰</td><td>è¿™ä¸ªçº¿ç¨‹ç­‰å¾… JVM åˆ°è¾¾å®‰å…¨ç‚¹æ“ä½œå‡ºç°ã€‚è¿™äº›æ“ä½œå¿…é¡»è¦åœ¨ç‹¬ç«‹çš„çº¿ç¨‹é‡Œæ‰§è¡Œï¼Œå› ä¸ºå½“å †ä¿®æ”¹æ— æ³•è¿›è¡Œæ—¶ï¼Œçº¿ç¨‹éƒ½éœ€è¦ JVM ä½äºå®‰å…¨ç‚¹ã€‚è¿™äº›æ“ä½œçš„ç±»å‹æœ‰ï¼šstop-theworld åƒåœ¾å›æ”¶ã€çº¿ç¨‹æ ˆdumpã€çº¿ç¨‹æš‚åœã€çº¿ç¨‹åå‘é”ï¼ˆbiased lockingï¼‰è§£é™¤ã€‚</td></tr><tr><td>å‘¨æœŸæ€§ä»»åŠ¡çº¿ç¨‹</td><td>è¿™çº¿ç¨‹è´Ÿè´£å®šæ—¶å™¨äº‹ä»¶ï¼ˆä¹Ÿå°±æ˜¯ä¸­æ–­ï¼‰ï¼Œç”¨æ¥è°ƒåº¦å‘¨æœŸæ€§æ“ä½œçš„æ‰§è¡Œã€‚</td></tr><tr><td>GC çº¿ç¨‹</td><td>è¿™äº›çº¿ç¨‹æ”¯æŒJVMä¸­ä¸åŒçš„åƒåœ¾å›æ”¶æ´»åŠ¨</td></tr><tr><td>ç¼–è¯‘å™¨çº¿ç¨‹</td><td>è¿™äº›çº¿ç¨‹åœ¨è¿è¡Œæ—¶å°†å­—èŠ‚ç åŠ¨æ€ç¼–è¯‘æˆæœ¬åœ°å¹³å°ç›¸å…³çš„æœºå™¨ç ã€‚</td></tr><tr><td>ä¿¡å·åˆ†å‘çº¿ç¨‹</td><td>è¿™ä¸ªçº¿ç¨‹æ¥æ”¶å‘é€åˆ° JVM çš„ä¿¡å·å¹¶è°ƒç”¨é€‚å½“çš„ JVM æ–¹æ³•å¤„ç†</td></tr></tbody></table><h2 id="JVM-å†…å­˜åŒºåŸŸ"><a href="#JVM-å†…å­˜åŒºåŸŸ" class="headerlink" title="JVM å†…å­˜åŒºåŸŸ"></a>JVM å†…å­˜åŒºåŸŸ</h2><p>JVM å†…å­˜åŒºåŸŸä¸»è¦åˆ†ä¸ºçº¿ç¨‹ç§æœ‰åŒºåŸŸã€ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•åŒºã€‘ã€çº¿ç¨‹å…±äº«åŒºåŸŸã€JAVA å †ã€æ–¹æ³•åŒºã€‘ã€ç›´æ¥å†…å­˜ã€‚</p><p>çº¿ç¨‹ç§æœ‰æ•°æ®åŒºåŸŸç”Ÿå‘½å‘¨æœŸä¸çº¿ç¨‹ç›¸åŒ, ä¾èµ–ç”¨æˆ·çº¿ç¨‹çš„å¯åŠ¨/ç»“æŸ è€Œ åˆ›å»º/é”€æ¯(åœ¨ Hotspot VM å†…,æ¯ä¸ªçº¿ç¨‹éƒ½ä¸æ“ä½œç³»ç»Ÿçš„æœ¬åœ°çº¿ç¨‹ç›´æ¥æ˜ å°„, å› æ­¤è¿™éƒ¨åˆ†å†…å­˜åŒºåŸŸçš„å­˜/å¦è·Ÿéšæœ¬åœ°çº¿ç¨‹çš„ç”Ÿ/æ­»å¯¹åº”)ã€‚</p><p>çº¿ç¨‹å…±äº«åŒºåŸŸéšè™šæ‹Ÿæœºçš„å¯åŠ¨/å…³é—­è€Œåˆ›å»º/é”€æ¯ã€‚<br>ç›´æ¥å†…å­˜å¹¶ä¸æ˜¯ JVM è¿è¡Œæ—¶æ•°æ®åŒºçš„ä¸€éƒ¨åˆ†, ä½†ä¹Ÿä¼šè¢«é¢‘ç¹çš„ä½¿ç”¨: åœ¨ JDK 1.4 å¼•å…¥çš„ NIO æ<br>ä¾›äº†åŸºäº Channel ä¸ Buffer çš„ IO æ–¹å¼, å®ƒå¯ä»¥ä½¿ç”¨ Native å‡½æ•°åº“ç›´æ¥åˆ†é…å †å¤–å†…å­˜, ç„¶åä½¿ç”¨DirectByteBufferå¯¹è±¡ä½œä¸ºè¿™å—å†…å­˜çš„å¼•ç”¨è¿›è¡Œæ“ä½œ(è¯¦è§: Java I/O æ‰©å±•), è¿™æ ·å°±é¿å…äº†åœ¨Javaå †å’ŒNativeå †ä¸­æ¥å›å¤åˆ¶æ•°æ®, å› æ­¤åœ¨ä¸€äº›åœºæ™¯ä¸­å¯ä»¥æ˜¾è‘—æé«˜æ€§èƒ½ã€‚</p><h3 id="ç¨‹åºè®¡æ•°å™¨-çº¿ç¨‹ç§æœ‰"><a href="#ç¨‹åºè®¡æ•°å™¨-çº¿ç¨‹ç§æœ‰" class="headerlink" title="ç¨‹åºè®¡æ•°å™¨(çº¿ç¨‹ç§æœ‰)"></a>ç¨‹åºè®¡æ•°å™¨(çº¿ç¨‹ç§æœ‰)</h3><p>ä¸€å—è¾ƒå°çš„å†…å­˜ç©ºé—´, æ˜¯å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç çš„è¡Œå·æŒ‡ç¤ºå™¨ï¼Œæ¯æ¡çº¿ç¨‹éƒ½è¦æœ‰ä¸€ä¸ªç‹¬ç«‹çš„<br>ç¨‹åºè®¡æ•°å™¨ï¼Œè¿™ç±»å†…å­˜ä¹Ÿç§°ä¸ºâ€œçº¿ç¨‹ç§æœ‰â€çš„å†…å­˜ã€‚<br>æ­£åœ¨æ‰§è¡Œ java æ–¹æ³•çš„è¯ï¼Œè®¡æ•°å™¨è®°å½•çš„æ˜¯è™šæ‹Ÿæœºå­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€ï¼ˆå½“å‰æŒ‡ä»¤çš„åœ°å€ï¼‰ã€‚å¦‚<br>æœè¿˜æ˜¯ Native æ–¹æ³•ï¼Œåˆ™ä¸ºç©ºã€‚<br>è¿™ä¸ªå†…å­˜åŒºåŸŸæ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨è™šæ‹Ÿæœºä¸­æ²¡æœ‰è§„å®šä»»ä½• OutOfMemoryError æƒ…å†µçš„åŒºåŸŸã€‚</p><h3 id="è™šæ‹Ÿæœºæ ˆ-çº¿ç¨‹ç§æœ‰"><a href="#è™šæ‹Ÿæœºæ ˆ-çº¿ç¨‹ç§æœ‰" class="headerlink" title="è™šæ‹Ÿæœºæ ˆ(çº¿ç¨‹ç§æœ‰)"></a>è™šæ‹Ÿæœºæ ˆ(çº¿ç¨‹ç§æœ‰)</h3><p>æ˜¯æè¿°javaæ–¹æ³•æ‰§è¡Œçš„å†…å­˜æ¨¡å‹ï¼Œæ¯ä¸ªæ–¹æ³•åœ¨æ‰§è¡Œçš„åŒæ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼ˆStack Frameï¼‰<br>ç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯ã€‚æ¯ä¸€ä¸ªæ–¹æ³•ä»è°ƒç”¨ç›´è‡³æ‰§è¡Œå®Œæˆ<br>çš„è¿‡ç¨‹ï¼Œå°±å¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§åœ¨è™šæ‹Ÿæœºæ ˆä¸­å…¥æ ˆåˆ°å‡ºæ ˆçš„è¿‡ç¨‹ã€‚<br>æ ˆå¸§ï¼ˆ Frameï¼‰æ˜¯ç”¨æ¥å­˜å‚¨æ•°æ®å’Œéƒ¨åˆ†è¿‡ç¨‹ç»“æœçš„æ•°æ®ç»“æ„ï¼ŒåŒæ—¶ä¹Ÿè¢«ç”¨æ¥å¤„ç†åŠ¨æ€é“¾æ¥<br>(Dynamic Linking)ã€ æ–¹æ³•è¿”å›å€¼å’Œå¼‚å¸¸åˆ†æ´¾ï¼ˆ Dispatch Exceptionï¼‰ã€‚æ ˆå¸§éšç€æ–¹æ³•è°ƒç”¨è€Œåˆ›å»ºï¼Œéšç€æ–¹æ³•ç»“æŸè€Œé”€æ¯â€”â€”æ— è®ºæ–¹æ³•æ˜¯æ­£å¸¸å®Œæˆè¿˜æ˜¯å¼‚å¸¸å®Œæˆï¼ˆæŠ›å‡ºäº†åœ¨æ–¹æ³•å†…æœªè¢«æ•è·çš„å¼‚<br>å¸¸ï¼‰éƒ½ç®—ä½œæ–¹æ³•ç»“æŸã€‚</p><h3 id="æœ¬åœ°æ–¹æ³•åŒº-çº¿ç¨‹ç§æœ‰"><a href="#æœ¬åœ°æ–¹æ³•åŒº-çº¿ç¨‹ç§æœ‰" class="headerlink" title="æœ¬åœ°æ–¹æ³•åŒº(çº¿ç¨‹ç§æœ‰)"></a>æœ¬åœ°æ–¹æ³•åŒº(çº¿ç¨‹ç§æœ‰)</h3><p>æœ¬åœ°æ–¹æ³•åŒºå’Œ Java Stack ä½œç”¨ç±»ä¼¼, åŒºåˆ«æ˜¯è™šæ‹Ÿæœºæ ˆä¸ºæ‰§è¡Œ Java æ–¹æ³•æœåŠ¡, è€Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™ä¸º<br>Native æ–¹æ³•æœåŠ¡, å¦‚æœä¸€ä¸ª VM å®ç°ä½¿ç”¨ C-linkage æ¨¡å‹æ¥æ”¯æŒ Native è°ƒç”¨, é‚£ä¹ˆè¯¥æ ˆå°†ä¼šæ˜¯ä¸€ä¸ª<br>C æ ˆï¼Œä½† HotSpot VM ç›´æ¥å°±æŠŠæœ¬åœ°æ–¹æ³•æ ˆå’Œè™šæ‹Ÿæœºæ ˆåˆäºŒä¸ºä¸€ã€‚</p><h3 id="å †ï¼ˆHeap-çº¿ç¨‹å…±äº«ï¼‰-è¿è¡Œæ—¶æ•°æ®åŒº"><a href="#å †ï¼ˆHeap-çº¿ç¨‹å…±äº«ï¼‰-è¿è¡Œæ—¶æ•°æ®åŒº" class="headerlink" title="å †ï¼ˆHeap-çº¿ç¨‹å…±äº«ï¼‰-è¿è¡Œæ—¶æ•°æ®åŒº"></a>å †ï¼ˆHeap-çº¿ç¨‹å…±äº«ï¼‰-è¿è¡Œæ—¶æ•°æ®åŒº</h3><p>æ˜¯è¢«çº¿ç¨‹å…±äº«çš„ä¸€å—å†…å­˜åŒºåŸŸï¼Œåˆ›å»ºçš„å¯¹è±¡å’Œæ•°ç»„éƒ½ä¿å­˜åœ¨ Java å †å†…å­˜ä¸­ï¼Œä¹Ÿæ˜¯åƒåœ¾æ”¶é›†å™¨è¿›è¡Œ<br>åƒåœ¾æ”¶é›†çš„æœ€é‡è¦çš„å†…å­˜åŒºåŸŸã€‚ç”±äºç°ä»£ VM é‡‡ç”¨åˆ†ä»£æ”¶é›†ç®—æ³•, å› æ­¤ Java å †ä» GC çš„è§’åº¦è¿˜å¯ä»¥<br>ç»†åˆ†ä¸º: æ–°ç”Ÿä»£(Eden åŒºã€From Survivor åŒºå’Œ To Survivor åŒº)å’Œè€å¹´ä»£ã€‚</p><h3 id="æ–¹æ³•åŒº-æ°¸ä¹…ä»£ï¼ˆçº¿ç¨‹å…±äº«ï¼‰"><a href="#æ–¹æ³•åŒº-æ°¸ä¹…ä»£ï¼ˆçº¿ç¨‹å…±äº«ï¼‰" class="headerlink" title="æ–¹æ³•åŒº/æ°¸ä¹…ä»£ï¼ˆçº¿ç¨‹å…±äº«ï¼‰"></a>æ–¹æ³•åŒº/æ°¸ä¹…ä»£ï¼ˆçº¿ç¨‹å…±äº«ï¼‰</h3><p>å³æˆ‘ä»¬å¸¸è¯´çš„æ°¸ä¹…ä»£(Permanent Generation), ç”¨äºå­˜å‚¨è¢« JVM åŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™<br>æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®. HotSpot VMæŠŠGCåˆ†ä»£æ”¶é›†æ‰©å±•è‡³æ–¹æ³•åŒº, å³ä½¿ç”¨Java<br>å †çš„æ°¸ä¹…ä»£æ¥å®ç°æ–¹æ³•åŒº, è¿™æ · HotSpot çš„åƒåœ¾æ”¶é›†å™¨å°±å¯ä»¥åƒç®¡ç† Java å †ä¸€æ ·ç®¡ç†è¿™éƒ¨åˆ†å†…å­˜,<br>è€Œä¸å¿…ä¸ºæ–¹æ³•åŒºå¼€å‘ä¸“é—¨çš„å†…å­˜ç®¡ç†å™¨(æ°¸ä¹…å¸¦çš„å†…å­˜å›æ”¶çš„ä¸»è¦ç›®æ ‡æ˜¯é’ˆå¯¹å¸¸é‡æ± çš„å›æ”¶å’Œç±»å‹<br>çš„å¸è½½, å› æ­¤æ”¶ç›Šä¸€èˆ¬å¾ˆå°)ã€‚<br>è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆRuntime Constant Poolï¼‰æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ã€‚Class æ–‡ä»¶ä¸­é™¤äº†æœ‰ç±»çš„ç‰ˆ<br>æœ¬ã€å­—æ®µã€æ–¹æ³•ã€æ¥å£ç­‰æè¿°ç­‰ä¿¡æ¯å¤–ï¼Œè¿˜æœ‰ä¸€é¡¹ä¿¡æ¯æ˜¯å¸¸é‡æ± ï¼ˆConstant Pool Tableï¼‰ï¼Œç”¨äºå­˜æ”¾ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ï¼Œè¿™éƒ¨åˆ†å†…å®¹å°†åœ¨ç±»åŠ <br>è½½åå­˜æ”¾åˆ°æ–¹æ³•åŒºçš„è¿è¡Œæ—¶å¸¸é‡æ± ä¸­ã€‚ Java è™šæ‹Ÿæœºå¯¹ Class æ–‡ä»¶çš„æ¯ä¸€éƒ¨åˆ†ï¼ˆè‡ªç„¶ä¹ŸåŒ…æ‹¬å¸¸é‡<br>æ± ï¼‰çš„æ ¼å¼éƒ½æœ‰ä¸¥æ ¼çš„è§„å®šï¼Œæ¯ä¸€ä¸ªå­—èŠ‚ç”¨äºå­˜å‚¨å“ªç§æ•°æ®éƒ½å¿…é¡»ç¬¦åˆè§„èŒƒä¸Šçš„è¦æ±‚ï¼Œè¿™æ ·æ‰ä¼š<br>è¢«è™šæ‹Ÿæœºè®¤å¯ã€è£…è½½å’Œæ‰§è¡Œã€‚</p><h2 id="JVM-è¿è¡Œæ—¶å†…å­˜"><a href="#JVM-è¿è¡Œæ—¶å†…å­˜" class="headerlink" title="JVM è¿è¡Œæ—¶å†…å­˜"></a>JVM è¿è¡Œæ—¶å†…å­˜</h2><p>Java å †ä» GC çš„è§’åº¦è¿˜å¯ä»¥ç»†åˆ†ä¸º: æ–°ç”Ÿä»£(Eden åŒºã€From Survivor åŒºå’Œ To Survivor åŒº)å’Œè€å¹´<br>ä»£ã€‚</p><h3 id="æ–°ç”Ÿä»£"><a href="#æ–°ç”Ÿä»£" class="headerlink" title="æ–°ç”Ÿä»£"></a>æ–°ç”Ÿä»£</h3><p>æ˜¯ç”¨æ¥å­˜æ”¾æ–°ç”Ÿçš„å¯¹è±¡ã€‚ä¸€èˆ¬å æ®å †çš„ 1/3 ç©ºé—´ã€‚ç”±äºé¢‘ç¹åˆ›å»ºå¯¹è±¡ï¼Œæ‰€ä»¥æ–°ç”Ÿä»£ä¼šé¢‘ç¹è§¦å‘<br>MinorGC è¿›è¡Œåƒåœ¾å›æ”¶ã€‚æ–°ç”Ÿä»£åˆåˆ†ä¸º Eden åŒºã€SurvivorFromã€SurvivorTo ä¸‰ä¸ªåŒºã€‚</p><h4 id="Eden-åŒº"><a href="#Eden-åŒº" class="headerlink" title="Eden åŒº"></a>Eden åŒº</h4><p>Java æ–°å¯¹è±¡çš„å‡ºç”Ÿåœ°ï¼ˆå¦‚æœæ–°åˆ›å»ºçš„å¯¹è±¡å ç”¨å†…å­˜å¾ˆå¤§ï¼Œåˆ™ç›´æ¥åˆ†é…åˆ°è€<br>å¹´ä»£ï¼‰ã€‚å½“ Eden åŒºå†…å­˜ä¸å¤Ÿçš„æ—¶å€™å°±ä¼šè§¦å‘ MinorGCï¼Œå¯¹æ–°ç”Ÿä»£åŒºè¿›è¡Œ<br>ä¸€æ¬¡åƒåœ¾å›æ”¶ã€‚</p><h4 id="From-Survivor"><a href="#From-Survivor" class="headerlink" title="From Survivor"></a>From Survivor</h4><p>ä¸Šä¸€æ¬¡ GC çš„å¹¸å­˜è€…ï¼Œä½œä¸ºè¿™ä¸€æ¬¡ GC çš„è¢«æ‰«æè€…ã€‚</p><h4 id="To-Survivor"><a href="#To-Survivor" class="headerlink" title="To Survivor"></a>To Survivor</h4><p>ä¿ç•™äº†ä¸€æ¬¡ MinorGC è¿‡ç¨‹ä¸­çš„å¹¸å­˜è€…ã€‚</p><h4 id="MinorGC-çš„è¿‡ç¨‹ï¼ˆå¤åˆ¶-gt-æ¸…ç©º-gt-äº’æ¢ï¼‰"><a href="#MinorGC-çš„è¿‡ç¨‹ï¼ˆå¤åˆ¶-gt-æ¸…ç©º-gt-äº’æ¢ï¼‰" class="headerlink" title="MinorGC çš„è¿‡ç¨‹ï¼ˆå¤åˆ¶-&gt;æ¸…ç©º-&gt;äº’æ¢ï¼‰"></a>MinorGC çš„è¿‡ç¨‹ï¼ˆå¤åˆ¶-&gt;æ¸…ç©º-&gt;äº’æ¢ï¼‰</h4><p>MinorGC é‡‡ç”¨å¤åˆ¶ç®—æ³•ã€‚</p><p>1ï¼šedenã€From Survivor å¤åˆ¶åˆ° To Survivorï¼Œå¹´é¾„+1</p><p>é¦–å…ˆï¼ŒæŠŠ Eden å’Œ From Survivor åŒºåŸŸä¸­å­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ° To Survivor åŒºåŸŸï¼ˆå¦‚æœæœ‰å¯¹è±¡çš„å¹´<br>é¾„ä»¥åŠè¾¾åˆ°äº†è€å¹´çš„æ ‡å‡†ï¼Œåˆ™èµ‹å€¼åˆ°è€å¹´ä»£åŒºï¼‰ï¼ŒåŒæ—¶æŠŠè¿™äº›å¯¹è±¡çš„å¹´é¾„+1ï¼ˆå¦‚æœ To Survivor ä¸<br>å¤Ÿä½ç½®äº†å°±æ”¾åˆ°è€å¹´åŒºï¼‰ï¼›</p><p>2ï¼šæ¸…ç©º edenã€From Survivor</p><p>ç„¶åï¼Œæ¸…ç©º Eden å’Œ From Survivor ä¸­çš„å¯¹è±¡ï¼›</p><p>3ï¼šTo Survivor å’Œ From Survivor äº’æ¢</p><p>æœ€åï¼ŒTo Survivor å’Œ From Survivor äº’æ¢ï¼ŒåŸ To Survivor æˆä¸ºä¸‹ä¸€æ¬¡ GC æ—¶çš„ From Survivor<br>åŒºã€‚</p><h3 id="è€å¹´ä»£"><a href="#è€å¹´ä»£" class="headerlink" title="è€å¹´ä»£"></a>è€å¹´ä»£</h3><p>ä¸»è¦å­˜æ”¾åº”ç”¨ç¨‹åºä¸­ç”Ÿå‘½å‘¨æœŸé•¿çš„å†…å­˜å¯¹è±¡ã€‚</p><p> è€å¹´ä»£çš„å¯¹è±¡æ¯”è¾ƒç¨³å®šï¼Œæ‰€ä»¥ MajorGC ä¸ä¼šé¢‘ç¹æ‰§è¡Œã€‚åœ¨è¿›è¡Œ MajorGC å‰ä¸€èˆ¬éƒ½å…ˆè¿›è¡Œ<br>äº†ä¸€æ¬¡ MinorGCï¼Œä½¿å¾—æœ‰æ–°ç”Ÿä»£çš„å¯¹è±¡æ™‹èº«å…¥è€å¹´ä»£ï¼Œå¯¼è‡´ç©ºé—´ä¸å¤Ÿç”¨æ—¶æ‰è§¦å‘ã€‚å½“æ— æ³•æ‰¾åˆ°è¶³<br>å¤Ÿå¤§çš„è¿ç»­ç©ºé—´åˆ†é…ç»™æ–°åˆ›å»ºçš„è¾ƒå¤§å¯¹è±¡æ—¶ä¹Ÿä¼šæå‰è§¦å‘ä¸€æ¬¡ MajorGC è¿›è¡Œåƒåœ¾å›æ”¶è…¾å‡ºç©ºé—´ã€‚</p><p> MajorGC é‡‡ç”¨æ ‡è®°æ¸…é™¤ç®—æ³•ï¼šé¦–å…ˆæ‰«æä¸€æ¬¡æ‰€æœ‰è€å¹´ä»£ï¼Œæ ‡è®°å‡ºå­˜æ´»çš„å¯¹è±¡ï¼Œç„¶åå›æ”¶æ²¡<br>æœ‰æ ‡è®°çš„å¯¹è±¡ã€‚MajorGC çš„è€—æ—¶æ¯”è¾ƒé•¿ï¼Œå› ä¸ºè¦æ‰«æå†å›æ”¶ã€‚MajorGC ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ï¼Œä¸ºäº†å‡<br>å°‘å†…å­˜æŸè€—ï¼Œæˆ‘ä»¬ä¸€èˆ¬éœ€è¦è¿›è¡Œåˆå¹¶æˆ–è€…æ ‡è®°å‡ºæ¥æ–¹ä¾¿ä¸‹æ¬¡ç›´æ¥åˆ†é…ã€‚å½“è€å¹´ä»£ä¹Ÿæ»¡äº†è£…ä¸ä¸‹çš„<br>æ—¶å€™ï¼Œå°±ä¼šæŠ›å‡º OOMï¼ˆOut of Memoryï¼‰å¼‚å¸¸ã€‚</p><h3 id="æ°¸ä¹…ä»£"><a href="#æ°¸ä¹…ä»£" class="headerlink" title="æ°¸ä¹…ä»£"></a>æ°¸ä¹…ä»£</h3><p>æŒ‡å†…å­˜çš„æ°¸ä¹…ä¿å­˜åŒºåŸŸï¼Œä¸»è¦å­˜æ”¾ Class å’Œ Metaï¼ˆå…ƒæ•°æ®ï¼‰çš„ä¿¡æ¯,Class åœ¨è¢«åŠ è½½çš„æ—¶å€™è¢«<br>æ”¾å…¥æ°¸ä¹…åŒºåŸŸï¼Œå®ƒå’Œå’Œå­˜æ”¾å®ä¾‹çš„åŒºåŸŸä¸åŒ,GC ä¸ä¼šåœ¨ä¸»ç¨‹åºè¿è¡ŒæœŸå¯¹æ°¸ä¹…åŒºåŸŸè¿›è¡Œæ¸…ç†ã€‚æ‰€ä»¥è¿™<br>ä¹Ÿå¯¼è‡´äº†æ°¸ä¹…ä»£çš„åŒºåŸŸä¼šéšç€åŠ è½½çš„ Class çš„å¢å¤šè€Œèƒ€æ»¡ï¼Œæœ€ç»ˆæŠ›å‡º OOM å¼‚å¸¸ã€‚</p><h4 id="JAVA8-ä¸å…ƒæ•°æ®"><a href="#JAVA8-ä¸å…ƒæ•°æ®" class="headerlink" title="JAVA8 ä¸å…ƒæ•°æ®"></a>JAVA8 ä¸å…ƒæ•°æ®</h4><p>åœ¨ Java8 ä¸­ï¼Œæ°¸ä¹…ä»£å·²ç»è¢«ç§»é™¤ï¼Œè¢«ä¸€ä¸ªç§°ä¸ºâ€œå…ƒæ•°æ®åŒºâ€ï¼ˆå…ƒç©ºé—´ï¼‰çš„åŒºåŸŸæ‰€å–ä»£ã€‚å…ƒç©ºé—´<br>çš„æœ¬è´¨å’Œæ°¸ä¹…ä»£ç±»ä¼¼ï¼Œå…ƒç©ºé—´ä¸æ°¸ä¹…ä»£ä¹‹é—´æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼šå…ƒç©ºé—´å¹¶ä¸åœ¨è™šæ‹Ÿæœºä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨<br>æœ¬åœ°å†…å­˜ã€‚å› æ­¤ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå…ƒç©ºé—´çš„å¤§å°ä»…å—æœ¬åœ°å†…å­˜é™åˆ¶ã€‚ç±»çš„å…ƒæ•°æ®æ”¾å…¥ native<br>memory, å­—ç¬¦ä¸²æ± å’Œç±»çš„é™æ€å˜é‡æ”¾å…¥ java å †ä¸­ï¼Œè¿™æ ·å¯ä»¥åŠ è½½å¤šå°‘ç±»çš„å…ƒæ•°æ®å°±ä¸å†ç”±<br>MaxPermSize æ§åˆ¶, è€Œç”±ç³»ç»Ÿçš„å®é™…å¯ç”¨ç©ºé—´æ¥æ§åˆ¶ã€‚</p><h2 id="åƒåœ¾å›æ”¶ä¸ç®—æ³•"><a href="#åƒåœ¾å›æ”¶ä¸ç®—æ³•" class="headerlink" title="åƒåœ¾å›æ”¶ä¸ç®—æ³•"></a>åƒåœ¾å›æ”¶ä¸ç®—æ³•</h2><h3 id="å¦‚ä½•ç¡®å®šåƒåœ¾"><a href="#å¦‚ä½•ç¡®å®šåƒåœ¾" class="headerlink" title="å¦‚ä½•ç¡®å®šåƒåœ¾"></a>å¦‚ä½•ç¡®å®šåƒåœ¾</h3><h4 id="å¼•ç”¨è®¡æ•°æ³•"><a href="#å¼•ç”¨è®¡æ•°æ³•" class="headerlink" title="å¼•ç”¨è®¡æ•°æ³•"></a>å¼•ç”¨è®¡æ•°æ³•</h4><p>åœ¨ Java ä¸­ï¼Œå¼•ç”¨å’Œå¯¹è±¡æ˜¯æœ‰å…³è”çš„ã€‚å¦‚æœè¦æ“ä½œå¯¹è±¡åˆ™å¿…é¡»ç”¨å¼•ç”¨è¿›è¡Œã€‚å› æ­¤ï¼Œå¾ˆæ˜¾ç„¶ä¸€ä¸ªç®€å•<br>çš„åŠæ³•æ˜¯é€šè¿‡å¼•ç”¨è®¡æ•°æ¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å¯ä»¥å›æ”¶ã€‚ç®€å•è¯´ï¼Œå³ä¸€ä¸ªå¯¹è±¡å¦‚æœæ²¡æœ‰ä»»ä½•ä¸ä¹‹å…³è”çš„å¼•ç”¨ï¼Œå³ä»–ä»¬çš„å¼•ç”¨è®¡æ•°éƒ½ä¸º0ï¼Œåˆ™è¯´æ˜å¯¹è±¡ä¸å¤ªå¯èƒ½å†è¢«ç”¨åˆ°ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å°±æ˜¯å¯å›æ”¶<br>å¯¹è±¡ã€‚</p><h4 id="å¯è¾¾æ€§åˆ†æ"><a href="#å¯è¾¾æ€§åˆ†æ" class="headerlink" title="å¯è¾¾æ€§åˆ†æ"></a>å¯è¾¾æ€§åˆ†æ</h4><p>ä¸ºäº†è§£å†³å¼•ç”¨è®¡æ•°æ³•çš„å¾ªç¯å¼•ç”¨é—®é¢˜ï¼ŒJava ä½¿ç”¨äº†å¯è¾¾æ€§åˆ†æçš„æ–¹æ³•ã€‚é€šè¿‡ä¸€ç³»åˆ—çš„â€œGC rootsâ€å¯¹è±¡ä½œä¸ºèµ·ç‚¹æœç´¢ã€‚å¦‚æœåœ¨â€œGC rootsâ€å’Œä¸€ä¸ªå¯¹è±¡ä¹‹é—´æ²¡æœ‰å¯è¾¾è·¯å¾„ï¼Œåˆ™ç§°è¯¥å¯¹è±¡æ˜¯ä¸å¯è¾¾çš„ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œä¸å¯è¾¾å¯¹è±¡ä¸ç­‰ä»·äºå¯å›æ”¶å¯¹è±¡ï¼Œä¸å¯è¾¾å¯¹è±¡å˜ä¸ºå¯å›æ”¶å¯¹è±¡è‡³å°‘è¦ç»è¿‡ä¸¤æ¬¡æ ‡è®°è¿‡ç¨‹ã€‚ä¸¤æ¬¡æ ‡è®°åä»ç„¶æ˜¯å¯å›æ”¶å¯¹è±¡ï¼Œåˆ™å°†é¢ä¸´å›æ”¶ã€‚</p><h3 id="æ ‡è®°æ¸…é™¤ç®—æ³•ï¼ˆMark-Sweepï¼‰"><a href="#æ ‡è®°æ¸…é™¤ç®—æ³•ï¼ˆMark-Sweepï¼‰" class="headerlink" title="æ ‡è®°æ¸…é™¤ç®—æ³•ï¼ˆMark-Sweepï¼‰"></a>æ ‡è®°æ¸…é™¤ç®—æ³•ï¼ˆMark-Sweepï¼‰</h3><p>æœ€åŸºç¡€çš„åƒåœ¾å›æ”¶ç®—æ³•ï¼Œåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œæ ‡æ³¨å’Œæ¸…é™¤ã€‚æ ‡è®°é˜¶æ®µæ ‡è®°å‡ºæ‰€æœ‰éœ€è¦å›æ”¶çš„å¯¹è±¡ï¼Œæ¸…<br>é™¤é˜¶æ®µå›æ”¶è¢«æ ‡è®°çš„å¯¹è±¡æ‰€å ç”¨çš„ç©ºé—´ã€‚å¦‚</p><p>è¯¥ç®—æ³•æœ€å¤§çš„é—®é¢˜æ˜¯å†…å­˜ç¢ç‰‡åŒ–ä¸¥é‡ï¼Œåç»­å¯èƒ½å‘ç”Ÿå¤§å¯¹è±¡ä¸èƒ½æ‰¾åˆ°å¯åˆ©ç”¨ç©ºé—´çš„é—®é¢˜ã€‚</p><h3 id="å¤åˆ¶ç®—æ³•ï¼ˆcopyingï¼‰"><a href="#å¤åˆ¶ç®—æ³•ï¼ˆcopyingï¼‰" class="headerlink" title="å¤åˆ¶ç®—æ³•ï¼ˆcopyingï¼‰"></a>å¤åˆ¶ç®—æ³•ï¼ˆcopyingï¼‰</h3><p>ä¸ºäº†è§£å†³ Mark-Sweepç®—æ³•å†…å­˜ç¢ç‰‡åŒ–çš„ç¼ºé™·è€Œè¢«æå‡ºçš„ç®—æ³•ã€‚æŒ‰å†…å­˜å®¹é‡å°†å†…å­˜åˆ’åˆ†ä¸ºç­‰å¤§å°çš„ä¸¤å—ã€‚æ¯æ¬¡åªä½¿ç”¨å…¶ä¸­ä¸€å—ï¼Œå½“è¿™ä¸€å—å†…å­˜æ»¡åå°†å°šå­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€å—ä¸Šå»ï¼ŒæŠŠå·²ä½¿ç”¨çš„å†…å­˜æ¸…æ‰<br>è¿™ç§ç®—æ³•è™½ç„¶å®ç°ç®€å•ï¼Œå†…å­˜æ•ˆç‡é«˜ï¼Œä¸æ˜“äº§ç”Ÿç¢ç‰‡ï¼Œä½†æ˜¯æœ€å¤§çš„é—®é¢˜æ˜¯å¯ç”¨å†…å­˜è¢«å‹ç¼©åˆ°äº†åŸ<br>æœ¬çš„ä¸€åŠã€‚ä¸”å­˜æ´»å¯¹è±¡å¢å¤šçš„è¯ï¼ŒCopying ç®—æ³•çš„æ•ˆç‡ä¼šå¤§å¤§é™ä½ã€‚</p><h3 id="æ ‡è®°æ•´ç†ç®—æ³•-Mark-Compact"><a href="#æ ‡è®°æ•´ç†ç®—æ³•-Mark-Compact" class="headerlink" title="æ ‡è®°æ•´ç†ç®—æ³•(Mark-Compact)"></a>æ ‡è®°æ•´ç†ç®—æ³•(Mark-Compact)</h3><p>ç»“åˆäº†ä»¥ä¸Šä¸¤ä¸ªç®—æ³•ï¼Œä¸ºäº†é¿å…ç¼ºé™·è€Œæå‡ºã€‚æ ‡è®°é˜¶æ®µå’Œ Mark-Sweep ç®—æ³•ç›¸åŒï¼Œæ ‡è®°åä¸æ˜¯æ¸…<br>ç†å¯¹è±¡ï¼Œè€Œæ˜¯å°†å­˜æ´»å¯¹è±¡ç§»å‘å†…å­˜çš„ä¸€ç«¯ã€‚ç„¶åæ¸…é™¤ç«¯è¾¹ç•Œå¤–çš„å¯¹è±¡ã€‚</p><h3 id="åˆ†ä»£æ”¶é›†ç®—æ³•"><a href="#åˆ†ä»£æ”¶é›†ç®—æ³•" class="headerlink" title="åˆ†ä»£æ”¶é›†ç®—æ³•"></a>åˆ†ä»£æ”¶é›†ç®—æ³•</h3><p>åˆ†ä»£æ”¶é›†æ³•æ˜¯ç›®å‰å¤§éƒ¨åˆ†JVMæ‰€é‡‡ç”¨çš„æ–¹æ³•ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯æ ¹æ®å¯¹è±¡å­˜æ´»çš„ä¸åŒç”Ÿå‘½å‘¨æœŸå°†å†…å­˜åˆ’åˆ†ä¸ºä¸åŒçš„åŸŸï¼Œä¸€èˆ¬æƒ…å†µä¸‹å°† GC å †åˆ’åˆ†ä¸ºè€ç”Ÿä»£(Tenured/Old Generation)å’Œæ–°ç”Ÿä»£(Young Generation)ã€‚è€ç”Ÿä»£çš„ç‰¹ç‚¹æ˜¯æ¯æ¬¡åƒåœ¾å›æ”¶æ—¶åªæœ‰å°‘é‡å¯¹è±¡éœ€è¦è¢«å›æ”¶ï¼Œæ–°ç”Ÿä»£çš„ç‰¹ç‚¹æ˜¯æ¯æ¬¡åƒåœ¾å›æ”¶æ—¶éƒ½æœ‰å¤§é‡åƒåœ¾éœ€è¦è¢«å›æ”¶ï¼Œå› æ­¤å¯ä»¥æ ¹æ®ä¸åŒåŒºåŸŸé€‰æ‹©ä¸åŒçš„ç®—æ³•ã€‚</p><h4 id="æ–°ç”Ÿä»£ä¸å¤åˆ¶ç®—æ³•"><a href="#æ–°ç”Ÿä»£ä¸å¤åˆ¶ç®—æ³•" class="headerlink" title="æ–°ç”Ÿä»£ä¸å¤åˆ¶ç®—æ³•"></a>æ–°ç”Ÿä»£ä¸å¤åˆ¶ç®—æ³•</h4><p>ç›®å‰å¤§éƒ¨åˆ† JVM çš„ GC å¯¹äºæ–°ç”Ÿä»£éƒ½é‡‡å– Copying ç®—æ³•ï¼Œå› ä¸ºæ–°ç”Ÿä»£ä¸­æ¯æ¬¡åƒåœ¾å›æ”¶éƒ½è¦å›æ”¶å¤§éƒ¨åˆ†å¯¹è±¡ï¼Œå³è¦å¤åˆ¶çš„æ“ä½œæ¯”è¾ƒå°‘ï¼Œä½†é€šå¸¸å¹¶ä¸æ˜¯æŒ‰ç…§ 1ï¼š1 æ¥åˆ’åˆ†æ–°ç”Ÿä»£ã€‚ä¸€èˆ¬å°†æ–°ç”Ÿä»£åˆ’åˆ†ä¸ºä¸€å—è¾ƒå¤§çš„ Eden ç©ºé—´å’Œä¸¤ä¸ªè¾ƒå°çš„ Survivor ç©ºé—´(From Space, To Space)ï¼Œæ¯æ¬¡ä½¿ç”¨Eden ç©ºé—´å’Œå…¶ä¸­çš„ä¸€å— Survivor ç©ºé—´ï¼Œå½“è¿›è¡Œå›æ”¶æ—¶ï¼Œå°†è¯¥ä¸¤å—ç©ºé—´ä¸­è¿˜å­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€å— Survivor ç©ºé—´ä¸­ã€‚</p><h4 id="è€å¹´ä»£ä¸æ ‡è®°å¤åˆ¶ç®—æ³•"><a href="#è€å¹´ä»£ä¸æ ‡è®°å¤åˆ¶ç®—æ³•" class="headerlink" title="è€å¹´ä»£ä¸æ ‡è®°å¤åˆ¶ç®—æ³•"></a>è€å¹´ä»£ä¸æ ‡è®°å¤åˆ¶ç®—æ³•</h4><p>è€Œè€å¹´ä»£å› ä¸ºæ¯æ¬¡åªå›æ”¶å°‘é‡å¯¹è±¡ï¼Œå› è€Œé‡‡ç”¨ Mark-Compact ç®—æ³•ã€‚</p><ol><li>JAVA è™šæ‹Ÿæœºæåˆ°è¿‡çš„å¤„äºæ–¹æ³•åŒºçš„æ°¸ç”Ÿä»£(Permanet Generation)ï¼Œå®ƒç”¨æ¥å­˜å‚¨ class ç±»ï¼Œ<br>å¸¸é‡ï¼Œæ–¹æ³•æè¿°ç­‰ã€‚å¯¹æ°¸ç”Ÿä»£çš„å›æ”¶ä¸»è¦åŒ…æ‹¬åºŸå¼ƒå¸¸é‡å’Œæ— ç”¨çš„ç±»ã€‚</li><li>å¯¹è±¡çš„å†…å­˜åˆ†é…ä¸»è¦åœ¨æ–°ç”Ÿä»£çš„ Eden Space å’Œ Survivor Space çš„ From Space(Survivorç›®å‰å­˜æ”¾å¯¹è±¡çš„é‚£ä¸€å—)ï¼Œå°‘æ•°æƒ…å†µä¼šç›´æ¥åˆ†é…åˆ°è€ç”Ÿä»£ã€‚</li><li>å½“æ–°ç”Ÿä»£çš„ Eden Space å’Œ From Spaceç©ºé—´ä¸è¶³æ—¶å°±ä¼šå‘ç”Ÿä¸€æ¬¡ GCï¼Œè¿›è¡Œ GC åï¼ŒEden<br>Space å’Œ From Space åŒºçš„å­˜æ´»å¯¹è±¡ä¼šè¢«æŒªåˆ° To Spaceï¼Œç„¶åå°† Eden Space å’Œ From Spaceè¿›è¡Œæ¸…ç†ã€‚</li><li>å¦‚æœ To Spaceæ— æ³•è¶³å¤Ÿå­˜å‚¨æŸä¸ªå¯¹è±¡ï¼Œåˆ™å°†è¿™ä¸ªå¯¹è±¡å­˜å‚¨åˆ°è€ç”Ÿä»£ã€‚</li><li>åœ¨è¿›è¡Œ GC åï¼Œä½¿ç”¨çš„ä¾¿æ˜¯ Eden Space å’Œ To Space äº†ï¼Œå¦‚æ­¤åå¤å¾ªç¯ã€‚</li><li>å½“å¯¹è±¡åœ¨ SurvivoråŒºèº²è¿‡ä¸€æ¬¡GCåï¼Œå…¶å¹´é¾„å°±ä¼š+1ã€‚é»˜è®¤æƒ…å†µä¸‹å¹´é¾„åˆ°è¾¾ 15 çš„å¯¹è±¡ä¼šè¢«ç§»åˆ°è€ç”Ÿä»£ä¸­ã€‚</li><li></li></ol><h2 id="JAVA-å››ç§å¼•ç”¨ç±»å‹"><a href="#JAVA-å››ç§å¼•ç”¨ç±»å‹" class="headerlink" title="JAVA å››ç§å¼•ç”¨ç±»å‹"></a>JAVA å››ç§å¼•ç”¨ç±»å‹</h2><h3 id="å¼ºå¼•ç”¨"><a href="#å¼ºå¼•ç”¨" class="headerlink" title="å¼ºå¼•ç”¨"></a>å¼ºå¼•ç”¨</h3><p>åœ¨ Java ä¸­æœ€å¸¸è§çš„å°±æ˜¯å¼ºå¼•ç”¨ï¼ŒæŠŠä¸€ä¸ªå¯¹è±¡èµ‹ç»™ä¸€ä¸ªå¼•ç”¨å˜é‡ï¼Œè¿™ä¸ªå¼•ç”¨å˜é‡å°±æ˜¯ä¸€ä¸ªå¼ºå¼•<br>ç”¨ã€‚å½“ä¸€ä¸ªå¯¹è±¡è¢«å¼ºå¼•ç”¨å˜é‡å¼•ç”¨æ—¶ï¼Œå®ƒå¤„äºå¯è¾¾çŠ¶æ€ï¼Œå®ƒæ˜¯ä¸å¯èƒ½è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶çš„ï¼Œå³<br>ä½¿è¯¥å¯¹è±¡ä»¥åæ°¸è¿œéƒ½ä¸ä¼šè¢«ç”¨åˆ° JVM ä¹Ÿä¸ä¼šå›æ”¶ã€‚å› æ­¤å¼ºå¼•ç”¨æ˜¯é€ æˆ Java å†…å­˜æ³„æ¼çš„ä¸»è¦åŸå› ä¹‹<br>ä¸€ã€‚</p><h3 id="è½¯å¼•ç”¨"><a href="#è½¯å¼•ç”¨" class="headerlink" title="è½¯å¼•ç”¨"></a>è½¯å¼•ç”¨</h3><p>è½¯å¼•ç”¨éœ€è¦ç”¨ SoftReferenceç±»æ¥å®ç°ï¼Œå¯¹äºåªæœ‰è½¯å¼•ç”¨çš„å¯¹è±¡æ¥è¯´ï¼Œå½“ç³»ç»Ÿå†…å­˜è¶³å¤Ÿæ—¶å®ƒä¸ä¼šè¢«å›æ”¶ï¼Œå½“ç³»ç»Ÿå†…å­˜ç©ºé—´ä¸è¶³æ—¶å®ƒä¼šè¢«å›æ”¶ã€‚è½¯å¼•ç”¨é€šå¸¸ç”¨åœ¨å¯¹å†…å­˜æ•æ„Ÿçš„ç¨‹åºä¸­ã€‚</p><h3 id="å¼±å¼•ç”¨"><a href="#å¼±å¼•ç”¨" class="headerlink" title="å¼±å¼•ç”¨"></a>å¼±å¼•ç”¨</h3><p>å¼±å¼•ç”¨éœ€è¦ç”¨ WeakReferenceç±»æ¥å®ç°ï¼Œå®ƒæ¯”è½¯å¼•ç”¨çš„ç”Ÿå­˜æœŸæ›´çŸ­ï¼Œå¯¹äºåªæœ‰å¼±å¼•ç”¨çš„å¯¹è±¡æ¥è¯´ï¼Œåªè¦åƒåœ¾å›æ”¶æœºåˆ¶ä¸€è¿è¡Œï¼Œä¸ç®¡JVMçš„å†…å­˜ç©ºé—´æ˜¯å¦è¶³å¤Ÿï¼Œæ€»ä¼šå›æ”¶è¯¥å¯¹è±¡å ç”¨çš„å†…å­˜ã€‚</p><h3 id="è™šå¼•ç”¨"><a href="#è™šå¼•ç”¨" class="headerlink" title="è™šå¼•ç”¨"></a>è™šå¼•ç”¨</h3><p>è™šå¼•ç”¨éœ€è¦ PhantomReferenceç±»æ¥å®ç°ï¼Œå®ƒä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»å’Œå¼•ç”¨é˜Ÿåˆ—è”åˆä½¿ç”¨ã€‚è™šå¼•ç”¨çš„ä¸»è¦ä½œç”¨æ˜¯è·Ÿè¸ªå¯¹è±¡è¢«åƒåœ¾å›æ”¶çš„çŠ¶æ€ã€‚</p><h2 id="GC-åˆ†ä»£æ”¶é›†ç®—æ³•-VS-åˆ†åŒºæ”¶é›†ç®—æ³•"><a href="#GC-åˆ†ä»£æ”¶é›†ç®—æ³•-VS-åˆ†åŒºæ”¶é›†ç®—æ³•" class="headerlink" title="GC åˆ†ä»£æ”¶é›†ç®—æ³• VS åˆ†åŒºæ”¶é›†ç®—æ³•"></a>GC åˆ†ä»£æ”¶é›†ç®—æ³• VS åˆ†åŒºæ”¶é›†ç®—æ³•</h2><h3 id="åˆ†ä»£æ”¶é›†ç®—æ³•-1"><a href="#åˆ†ä»£æ”¶é›†ç®—æ³•-1" class="headerlink" title="åˆ†ä»£æ”¶é›†ç®—æ³•"></a>åˆ†ä»£æ”¶é›†ç®—æ³•</h3><p>å½“å‰ä¸»æµ VM åƒåœ¾æ”¶é›†éƒ½é‡‡ç”¨â€åˆ†ä»£æ”¶é›†â€(Generational Collection)ç®—æ³•,è¿™ç§ç®—æ³•ä¼šæ ¹æ®å¯¹è±¡å­˜æ´»å‘¨æœŸçš„ä¸åŒå°†å†…å­˜åˆ’åˆ†ä¸ºå‡ å—,å¦‚JVMä¸­çš„æ–°ç”Ÿä»£ã€è€å¹´ä»£ã€æ°¸ä¹…ä»£ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®å„å¹´ä»£ç‰¹ç‚¹åˆ†åˆ«é‡‡ç”¨æœ€é€‚å½“çš„ GC ç®—æ³•</p><h4 id="åœ¨æ–°ç”Ÿä»£-å¤åˆ¶ç®—æ³•"><a href="#åœ¨æ–°ç”Ÿä»£-å¤åˆ¶ç®—æ³•" class="headerlink" title="åœ¨æ–°ç”Ÿä»£-å¤åˆ¶ç®—æ³•"></a>åœ¨æ–°ç”Ÿä»£-å¤åˆ¶ç®—æ³•</h4><p>æ¯æ¬¡åƒåœ¾æ”¶é›†éƒ½èƒ½å‘ç°å¤§æ‰¹å¯¹è±¡å·²æ­», åªæœ‰å°‘é‡å­˜æ´». å› æ­¤é€‰ç”¨å¤åˆ¶ç®—æ³•,åªéœ€è¦ä»˜å‡ºå°‘é‡å­˜æ´»å¯¹è±¡çš„å¤åˆ¶æˆæœ¬å°±å¯ä»¥å®Œæˆæ”¶é›†.</p><h4 id="åœ¨è€å¹´ä»£-æ ‡è®°æ•´ç†ç®—æ³•"><a href="#åœ¨è€å¹´ä»£-æ ‡è®°æ•´ç†ç®—æ³•" class="headerlink" title="åœ¨è€å¹´ä»£-æ ‡è®°æ•´ç†ç®—æ³•"></a>åœ¨è€å¹´ä»£-æ ‡è®°æ•´ç†ç®—æ³•</h4><p>å› ä¸ºå¯¹è±¡å­˜æ´»ç‡é«˜ã€æ²¡æœ‰é¢å¤–ç©ºé—´å¯¹å®ƒè¿›è¡Œåˆ†é…æ‹…ä¿, å°±å¿…é¡»é‡‡ç”¨â€œæ ‡è®°â€”æ¸…ç†â€æˆ–â€œæ ‡è®°â€”æ•´ç†â€ç®—æ³•æ¥è¿›è¡Œå›æ”¶, ä¸å¿…è¿›è¡Œå†…å­˜å¤åˆ¶, ä¸”ç›´æ¥è…¾å‡ºç©ºé—²å†…å­˜.</p><h3 id="åˆ†åŒºæ”¶é›†ç®—æ³•"><a href="#åˆ†åŒºæ”¶é›†ç®—æ³•" class="headerlink" title="åˆ†åŒºæ”¶é›†ç®—æ³•"></a>åˆ†åŒºæ”¶é›†ç®—æ³•</h3><p>åˆ†åŒºç®—æ³•åˆ™å°†æ•´ä¸ªå †ç©ºé—´åˆ’åˆ†ä¸ºè¿ç»­çš„ä¸åŒå°åŒºé—´, æ¯ä¸ªå°åŒºé—´ç‹¬ç«‹ä½¿ç”¨, ç‹¬ç«‹å›æ”¶. è¿™æ ·åšçš„<br>å¥½å¤„æ˜¯å¯ä»¥æ§åˆ¶ä¸€æ¬¡å›æ”¶å¤šå°‘ä¸ªå°åŒºé—´ , æ ¹æ®ç›®æ ‡åœé¡¿æ—¶é—´, æ¯æ¬¡åˆç†åœ°å›æ”¶è‹¥å¹²ä¸ªå°åŒºé—´(è€Œä¸æ˜¯<br>æ•´ä¸ªå †), ä»è€Œå‡å°‘ä¸€æ¬¡ GC æ‰€äº§ç”Ÿçš„åœé¡¿ã€‚</p><h2 id="GC-åƒåœ¾æ”¶é›†å™¨"><a href="#GC-åƒåœ¾æ”¶é›†å™¨" class="headerlink" title="GC åƒåœ¾æ”¶é›†å™¨"></a>GC åƒåœ¾æ”¶é›†å™¨</h2><p>Java å †å†…å­˜è¢«åˆ’åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ä¸¤éƒ¨åˆ†ï¼Œæ–°ç”Ÿä»£ä¸»è¦ä½¿ç”¨å¤åˆ¶å’Œæ ‡è®°-æ¸…é™¤åƒåœ¾å›æ”¶ç®—æ³•ï¼›<br>è€å¹´ä»£ä¸»è¦ä½¿ç”¨æ ‡è®°-æ•´ç†åƒåœ¾å›æ”¶ç®—æ³•ï¼Œå› æ­¤ java è™šæ‹Ÿä¸­é’ˆå¯¹æ–°ç”Ÿä»£å’Œè€å¹´ä»£åˆ†åˆ«æä¾›äº†å¤šç§ä¸<br>åŒçš„åƒåœ¾æ”¶é›†å™¨ï¼ŒJDK1.6 ä¸­ Sun HotSpot è™šæ‹Ÿæœºçš„åƒåœ¾æ”¶é›†å™¨å¦‚ä¸‹</p><h3 id="Serial-åƒåœ¾æ”¶é›†å™¨ï¼ˆå•çº¿ç¨‹ã€å¤åˆ¶ç®—æ³•ï¼‰"><a href="#Serial-åƒåœ¾æ”¶é›†å™¨ï¼ˆå•çº¿ç¨‹ã€å¤åˆ¶ç®—æ³•ï¼‰" class="headerlink" title="Serial åƒåœ¾æ”¶é›†å™¨ï¼ˆå•çº¿ç¨‹ã€å¤åˆ¶ç®—æ³•ï¼‰"></a>Serial åƒåœ¾æ”¶é›†å™¨ï¼ˆå•çº¿ç¨‹ã€å¤åˆ¶ç®—æ³•ï¼‰</h3><p>Serialï¼ˆè‹±æ–‡è¿ç»­ï¼‰æ˜¯æœ€åŸºæœ¬åƒåœ¾æ”¶é›†å™¨ï¼Œä½¿ç”¨å¤åˆ¶ç®—æ³•ï¼Œæ›¾ç»æ˜¯JDK1.3.1 ä¹‹å‰æ–°ç”Ÿä»£å”¯ä¸€çš„åƒåœ¾<br>æ”¶é›†å™¨ã€‚Serialæ˜¯ä¸€ä¸ªå•çº¿ç¨‹çš„æ”¶é›†å™¨ï¼Œå®ƒä¸ä½†åªä¼šä½¿ç”¨ä¸€ä¸ªCPUæˆ–ä¸€æ¡çº¿ç¨‹å»å®Œæˆåƒåœ¾æ”¶é›†å·¥ä½œï¼Œå¹¶ä¸”åœ¨è¿›è¡Œåƒåœ¾æ”¶é›†çš„åŒæ—¶ï¼Œå¿…é¡»æš‚åœå…¶ä»–æ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹ï¼Œç›´åˆ°åƒåœ¾æ”¶é›†ç»“æŸã€‚<br>Serial åƒåœ¾æ”¶é›†å™¨è™½ç„¶åœ¨æ”¶é›†åƒåœ¾è¿‡ç¨‹ä¸­éœ€è¦æš‚åœæ‰€æœ‰å…¶ä»–çš„å·¥ä½œçº¿ç¨‹ï¼Œä½†æ˜¯å®ƒç®€å•é«˜æ•ˆï¼Œå¯¹äºé™<br>å®šå•ä¸ª CPU ç¯å¢ƒæ¥è¯´ï¼Œæ²¡æœ‰çº¿ç¨‹äº¤äº’çš„å¼€é”€ï¼Œå¯ä»¥è·å¾—æœ€é«˜çš„å•çº¿ç¨‹åƒåœ¾æ”¶é›†æ•ˆç‡ï¼Œå› æ­¤ Serial<br>åƒåœ¾æ”¶é›†å™¨ä¾ç„¶æ˜¯ java è™šæ‹Ÿæœºè¿è¡Œåœ¨ Client æ¨¡å¼ä¸‹é»˜è®¤çš„æ–°ç”Ÿä»£åƒåœ¾æ”¶é›†å™¨ã€‚</p><h3 id="ParNew-åƒåœ¾æ”¶é›†å™¨ï¼ˆSerial-å¤šçº¿ç¨‹ï¼‰"><a href="#ParNew-åƒåœ¾æ”¶é›†å™¨ï¼ˆSerial-å¤šçº¿ç¨‹ï¼‰" class="headerlink" title="ParNew åƒåœ¾æ”¶é›†å™¨ï¼ˆSerial+å¤šçº¿ç¨‹ï¼‰"></a>ParNew åƒåœ¾æ”¶é›†å™¨ï¼ˆSerial+å¤šçº¿ç¨‹ï¼‰</h3><p>ParNew åƒåœ¾æ”¶é›†å™¨å…¶å®æ˜¯ Serial æ”¶é›†å™¨çš„å¤šçº¿ç¨‹ç‰ˆæœ¬ï¼Œä¹Ÿä½¿ç”¨å¤åˆ¶ç®—æ³•ï¼Œé™¤äº†ä½¿ç”¨å¤šçº¿ç¨‹è¿›è¡Œåƒåœ¾æ”¶é›†ä¹‹å¤–ï¼Œå…¶ä½™çš„è¡Œä¸ºå’Œ Serial æ”¶é›†å™¨å®Œå…¨ä¸€æ ·ï¼ŒParNewåƒåœ¾æ”¶é›†å™¨åœ¨åƒåœ¾æ”¶é›†è¿‡ç¨‹ä¸­åŒæ ·ä¹Ÿè¦æš‚åœæ‰€æœ‰å…¶ä»–çš„å·¥ä½œçº¿ç¨‹ã€‚ParNewæ”¶é›†å™¨é»˜è®¤å¼€å¯å’ŒCPUæ•°ç›®ç›¸åŒçš„çº¿ç¨‹æ•°ï¼Œå¯ä»¥é€šè¿‡-XX:ParallelGCThreadså‚æ•°æ¥é™åˆ¶åƒåœ¾æ”¶é›†å™¨çš„çº¿ç¨‹æ•°ã€‚ã€Parallelï¼šå¹³è¡Œçš„ã€‘ParNewè™½ç„¶æ˜¯é™¤äº†å¤šçº¿ç¨‹å¤–å’ŒSerialæ”¶é›†å™¨å‡ ä¹å®Œå…¨ä¸€æ ·ï¼Œä½†æ˜¯ParNewåƒåœ¾æ”¶é›†å™¨æ˜¯å¾ˆå¤šjavaè™šæ‹Ÿæœºè¿è¡Œåœ¨Serveræ¨¡å¼ä¸‹æ–°ç”Ÿä»£çš„é»˜è®¤åƒåœ¾æ”¶é›†å™¨ã€‚</p><h3 id="Parallel-Scavengeæ”¶é›†å™¨ï¼ˆå¤šçº¿ç¨‹å¤åˆ¶ç®—æ³•ã€é«˜æ•ˆï¼‰"><a href="#Parallel-Scavengeæ”¶é›†å™¨ï¼ˆå¤šçº¿ç¨‹å¤åˆ¶ç®—æ³•ã€é«˜æ•ˆï¼‰" class="headerlink" title="Parallel Scavengeæ”¶é›†å™¨ï¼ˆå¤šçº¿ç¨‹å¤åˆ¶ç®—æ³•ã€é«˜æ•ˆï¼‰"></a>Parallel Scavengeæ”¶é›†å™¨ï¼ˆå¤šçº¿ç¨‹å¤åˆ¶ç®—æ³•ã€é«˜æ•ˆï¼‰</h3><p>Parallel Scavenge æ”¶é›†å™¨ä¹Ÿæ˜¯ä¸€ä¸ªæ–°ç”Ÿä»£åƒåœ¾æ”¶é›†å™¨ï¼ŒåŒæ ·ä½¿ç”¨å¤åˆ¶ç®—æ³•ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¤šçº¿ç¨‹çš„åƒ<br>åœ¾æ”¶é›†å™¨ï¼Œå®ƒé‡ç‚¹å…³æ³¨çš„æ˜¯ç¨‹åºè¾¾åˆ°ä¸€ä¸ªå¯æ§åˆ¶çš„ååé‡ï¼ˆThoughputï¼ŒCPU ç”¨äºè¿è¡Œç”¨æˆ·ä»£ç <br>çš„æ—¶é—´/CPU æ€»æ¶ˆè€—æ—¶é—´ï¼Œå³ååé‡=è¿è¡Œç”¨æˆ·ä»£ç æ—¶é—´/(è¿è¡Œç”¨æˆ·ä»£ç æ—¶é—´+åƒåœ¾æ”¶é›†æ—¶é—´)ï¼‰ï¼Œ<br>é«˜ååé‡å¯ä»¥æœ€é«˜æ•ˆç‡åœ°åˆ©ç”¨ CPU æ—¶é—´ï¼Œå°½å¿«åœ°å®Œæˆç¨‹åºçš„è¿ç®—ä»»åŠ¡ï¼Œä¸»è¦é€‚ç”¨äºåœ¨åå°è¿ç®—è€Œ<br>ä¸éœ€è¦å¤ªå¤šäº¤äº’çš„ä»»åŠ¡ã€‚è‡ªé€‚åº”è°ƒèŠ‚ç­–ç•¥ä¹Ÿæ˜¯ ParallelScavenge æ”¶é›†å™¨ä¸ ParNew æ”¶é›†å™¨çš„ä¸€ä¸ª<br>é‡è¦åŒºåˆ«ã€‚</p><h3 id="Serial-Old-æ”¶é›†å™¨ï¼ˆå•çº¿ç¨‹æ ‡è®°æ•´ç†ç®—æ³•-ï¼‰"><a href="#Serial-Old-æ”¶é›†å™¨ï¼ˆå•çº¿ç¨‹æ ‡è®°æ•´ç†ç®—æ³•-ï¼‰" class="headerlink" title="Serial Old æ”¶é›†å™¨ï¼ˆå•çº¿ç¨‹æ ‡è®°æ•´ç†ç®—æ³• ï¼‰"></a>Serial Old æ”¶é›†å™¨ï¼ˆå•çº¿ç¨‹æ ‡è®°æ•´ç†ç®—æ³• ï¼‰</h3><p>Serial Old æ˜¯ Serial åƒåœ¾æ”¶é›†å™¨å¹´è€ä»£ç‰ˆæœ¬ï¼Œå®ƒåŒæ ·æ˜¯ä¸ªå•çº¿ç¨‹çš„æ”¶é›†å™¨ï¼Œä½¿ç”¨æ ‡è®°-æ•´ç†ç®—æ³•ï¼Œ<br>è¿™ä¸ªæ”¶é›†å™¨ä¹Ÿä¸»è¦æ˜¯è¿è¡Œåœ¨ Client é»˜è®¤çš„ java è™šæ‹Ÿæœºé»˜è®¤çš„å¹´è€ä»£åƒåœ¾æ”¶é›†å™¨ã€‚<br>åœ¨ Server æ¨¡å¼ä¸‹ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªç”¨é€”ï¼š</p><ol><li>åœ¨ JDK1.5 ä¹‹å‰ç‰ˆæœ¬ä¸­ä¸æ–°ç”Ÿä»£çš„ Parallel Scavenge æ”¶é›†å™¨æ­é…ä½¿ç”¨ã€‚</li><li>ä½œä¸ºå¹´è€ä»£ä¸­ä½¿ç”¨ CMS æ”¶é›†å™¨çš„åå¤‡åƒåœ¾æ”¶é›†æ–¹æ¡ˆã€‚<br>æ–°ç”Ÿä»£ Serial ä¸å¹´è€ä»£ Serial Old æ­é…åƒåœ¾æ”¶é›†è¿‡ç¨‹å›¾ï¼š</li></ol><p>æ–°ç”Ÿä»£ Parallel Scavenge æ”¶é›†å™¨ä¸ ParNew æ”¶é›†å™¨å·¥ä½œåŸç†ç±»ä¼¼ï¼Œéƒ½æ˜¯å¤šçº¿ç¨‹çš„æ”¶é›†å™¨ï¼Œéƒ½ä½¿<br>ç”¨çš„æ˜¯å¤åˆ¶ç®—æ³•ï¼Œåœ¨åƒåœ¾æ”¶é›†è¿‡ç¨‹ä¸­éƒ½éœ€è¦æš‚åœæ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹ã€‚æ–°ç”Ÿä»£ Parallel<br>Scavenge/ParNew ä¸å¹´è€ä»£ Serial Old æ­é…åƒåœ¾æ”¶é›†è¿‡ç¨‹å›¾</p><h3 id="Parallel-Old-æ”¶é›†å™¨ï¼ˆå¤šçº¿ç¨‹æ ‡è®°æ•´ç†ç®—æ³•ï¼‰"><a href="#Parallel-Old-æ”¶é›†å™¨ï¼ˆå¤šçº¿ç¨‹æ ‡è®°æ•´ç†ç®—æ³•ï¼‰" class="headerlink" title="Parallel Old æ”¶é›†å™¨ï¼ˆå¤šçº¿ç¨‹æ ‡è®°æ•´ç†ç®—æ³•ï¼‰"></a>Parallel Old æ”¶é›†å™¨ï¼ˆå¤šçº¿ç¨‹æ ‡è®°æ•´ç†ç®—æ³•ï¼‰</h3><p>Parallel Old æ”¶é›†å™¨æ˜¯Parallel Scavengeçš„å¹´è€ä»£ç‰ˆæœ¬ï¼Œä½¿ç”¨å¤šçº¿ç¨‹çš„æ ‡è®°-æ•´ç†ç®—æ³•ï¼Œåœ¨ JDK1.6<br>æ‰å¼€å§‹æä¾›ã€‚<br>åœ¨ JDK1.6 ä¹‹å‰ï¼Œæ–°ç”Ÿä»£ä½¿ç”¨ ParallelScavenge æ”¶é›†å™¨åªèƒ½æ­é…å¹´è€ä»£çš„ Serial Old æ”¶é›†å™¨ï¼Œåª<br>èƒ½ä¿è¯æ–°ç”Ÿä»£çš„ååé‡ä¼˜å…ˆï¼Œæ— æ³•ä¿è¯æ•´ä½“çš„ååé‡ï¼ŒParallel Old æ­£æ˜¯ä¸ºäº†åœ¨å¹´è€ä»£åŒæ ·æä¾›å<br>åé‡ä¼˜å…ˆçš„åƒåœ¾æ”¶é›†å™¨ï¼Œå¦‚æœç³»ç»Ÿå¯¹ååé‡è¦æ±‚æ¯”è¾ƒé«˜ï¼Œå¯ä»¥ä¼˜å…ˆè€ƒè™‘æ–°ç”Ÿä»£ Parallel Scavenge<br>å’Œå¹´è€ä»£ Parallel Old æ”¶é›†å™¨çš„æ­é…ç­–ç•¥ã€‚<br>æ–°ç”Ÿä»£ Parallel Scavenge å’Œå¹´è€ä»£ Parallel Old æ”¶é›†å™¨æ­é…è¿è¡Œè¿‡ç¨‹å›¾ï¼š</p><h3 id="CMS-æ”¶é›†å™¨ï¼ˆå¤šçº¿ç¨‹æ ‡è®°æ¸…é™¤ç®—æ³•ï¼‰"><a href="#CMS-æ”¶é›†å™¨ï¼ˆå¤šçº¿ç¨‹æ ‡è®°æ¸…é™¤ç®—æ³•ï¼‰" class="headerlink" title="CMS æ”¶é›†å™¨ï¼ˆå¤šçº¿ç¨‹æ ‡è®°æ¸…é™¤ç®—æ³•ï¼‰"></a>CMS æ”¶é›†å™¨ï¼ˆå¤šçº¿ç¨‹æ ‡è®°æ¸…é™¤ç®—æ³•ï¼‰</h3><p>Concurrent mark sweep(CMS)æ”¶é›†å™¨æ˜¯ä¸€ç§å¹´è€ä»£åƒåœ¾æ”¶é›†å™¨ï¼Œå…¶æœ€ä¸»è¦ç›®æ ‡æ˜¯è·å–æœ€çŸ­åƒåœ¾<br>å›æ”¶åœé¡¿æ—¶é—´ï¼Œå’Œå…¶ä»–å¹´è€ä»£ä½¿ç”¨æ ‡è®°-æ•´ç†ç®—æ³•ä¸åŒï¼Œå®ƒä½¿ç”¨å¤šçº¿ç¨‹çš„æ ‡è®°-æ¸…é™¤ç®—æ³•ã€‚<br>æœ€çŸ­çš„åƒåœ¾æ”¶é›†åœé¡¿æ—¶é—´å¯ä»¥ä¸ºäº¤äº’æ¯”è¾ƒé«˜çš„ç¨‹åºæé«˜ç”¨æˆ·ä½“éªŒã€‚<br>CMS å·¥ä½œæœºåˆ¶ç›¸æ¯”å…¶ä»–çš„åƒåœ¾æ”¶é›†å™¨æ¥è¯´æ›´å¤æ‚ï¼Œæ•´ä¸ªè¿‡ç¨‹åˆ†ä¸ºä»¥ä¸‹ 4 ä¸ªé˜¶æ®µï¼š</p><h4 id="åˆå§‹æ ‡è®°"><a href="#åˆå§‹æ ‡è®°" class="headerlink" title="åˆå§‹æ ‡è®°"></a>åˆå§‹æ ‡è®°</h4><p>åªæ˜¯æ ‡è®°ä¸€ä¸‹ GC Roots èƒ½ç›´æ¥å…³è”çš„å¯¹è±¡ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼Œä»ç„¶éœ€è¦æš‚åœæ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹ã€‚</p><h4 id="å¹¶å‘æ ‡è®°"><a href="#å¹¶å‘æ ‡è®°" class="headerlink" title="å¹¶å‘æ ‡è®°"></a>å¹¶å‘æ ‡è®°</h4><p>è¿›è¡Œ GC Roots è·Ÿè¸ªçš„è¿‡ç¨‹ï¼Œå’Œç”¨æˆ·çº¿ç¨‹ä¸€èµ·å·¥ä½œï¼Œä¸éœ€è¦æš‚åœå·¥ä½œçº¿ç¨‹ã€‚</p><h4 id="é‡æ–°æ ‡è®°"><a href="#é‡æ–°æ ‡è®°" class="headerlink" title="é‡æ–°æ ‡è®°"></a>é‡æ–°æ ‡è®°</h4><p>ä¸ºäº†ä¿®æ­£åœ¨å¹¶å‘æ ‡è®°æœŸé—´ï¼Œå› ç”¨æˆ·ç¨‹åºç»§ç»­è¿è¡Œè€Œå¯¼è‡´æ ‡è®°äº§ç”Ÿå˜åŠ¨çš„é‚£ä¸€éƒ¨åˆ†å¯¹è±¡çš„æ ‡è®°<br>è®°å½•ï¼Œä»ç„¶éœ€è¦æš‚åœæ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹ã€‚</p><h4 id="å¹¶å‘æ¸…é™¤"><a href="#å¹¶å‘æ¸…é™¤" class="headerlink" title="å¹¶å‘æ¸…é™¤"></a>å¹¶å‘æ¸…é™¤</h4><p>æ¸…é™¤ GC Roots ä¸å¯è¾¾å¯¹è±¡ï¼Œå’Œç”¨æˆ·çº¿ç¨‹ä¸€èµ·å·¥ä½œï¼Œä¸éœ€è¦æš‚åœå·¥ä½œçº¿ç¨‹ã€‚ç”±äºè€—æ—¶æœ€é•¿çš„å¹¶<br>å‘æ ‡è®°å’Œå¹¶å‘æ¸…é™¤è¿‡ç¨‹ä¸­ï¼Œåƒåœ¾æ”¶é›†çº¿ç¨‹å¯ä»¥å’Œç”¨æˆ·ç°åœ¨ä¸€èµ·å¹¶å‘å·¥ä½œï¼Œæ‰€ä»¥æ€»ä½“ä¸Šæ¥çœ‹<br>CMS æ”¶é›†å™¨çš„å†…å­˜å›æ”¶å’Œç”¨æˆ·çº¿ç¨‹æ˜¯ä¸€èµ·å¹¶å‘åœ°æ‰§è¡Œã€‚<br>CMS æ”¶é›†å™¨å·¥ä½œè¿‡ç¨‹ï¼š</p><h3 id="G1-æ”¶é›†å™¨"><a href="#G1-æ”¶é›†å™¨" class="headerlink" title="G1 æ”¶é›†å™¨"></a>G1 æ”¶é›†å™¨</h3><p>Garbage first åƒåœ¾æ”¶é›†å™¨æ˜¯ç›®å‰åƒåœ¾æ”¶é›†å™¨ç†è®ºå‘å±•çš„æœ€å‰æ²¿æˆæœï¼Œç›¸æ¯”ä¸ CMS æ”¶é›†å™¨ï¼ŒG1 æ”¶<br>é›†å™¨ä¸¤ä¸ªæœ€çªå‡ºçš„æ”¹è¿›æ˜¯ï¼š</p><ol><li>åŸºäºæ ‡è®°-æ•´ç†ç®—æ³•ï¼Œä¸äº§ç”Ÿå†…å­˜ç¢ç‰‡ã€‚</li><li>å¯ä»¥éå¸¸ç²¾ç¡®æ§åˆ¶åœé¡¿æ—¶é—´ï¼Œåœ¨ä¸ç‰ºç‰²ååé‡å‰æä¸‹ï¼Œå®ç°ä½åœé¡¿åƒåœ¾å›æ”¶ã€‚<br>G1 æ”¶é›†å™¨é¿å…å…¨åŒºåŸŸåƒåœ¾æ”¶é›†ï¼Œå®ƒæŠŠå †å†…å­˜åˆ’åˆ†ä¸ºå¤§å°å›ºå®šçš„å‡ ä¸ªç‹¬ç«‹åŒºåŸŸï¼Œå¹¶ä¸”è·Ÿè¸ªè¿™äº›åŒºåŸŸ<br>çš„åƒåœ¾æ”¶é›†è¿›åº¦ï¼ŒåŒæ—¶åœ¨åå°ç»´æŠ¤ä¸€ä¸ªä¼˜å…ˆçº§åˆ—è¡¨ï¼Œæ¯æ¬¡æ ¹æ®æ‰€å…è®¸çš„æ”¶é›†æ—¶é—´ï¼Œä¼˜å…ˆå›æ”¶åƒåœ¾<br>æœ€å¤šçš„åŒºåŸŸã€‚åŒºåŸŸåˆ’åˆ†å’Œä¼˜å…ˆçº§åŒºåŸŸå›æ”¶æœºåˆ¶ï¼Œç¡®ä¿ G1 æ”¶é›†å™¨å¯ä»¥åœ¨æœ‰é™æ—¶é—´è·å¾—æœ€é«˜çš„åƒåœ¾æ”¶<br>é›†æ•ˆç‡ã€‚</li></ol><h2 id="JAVA-IO-NIO"><a href="#JAVA-IO-NIO" class="headerlink" title="JAVA IO/NIO"></a>JAVA IO/NIO</h2><h3 id="é˜»å¡-IO-æ¨¡å‹"><a href="#é˜»å¡-IO-æ¨¡å‹" class="headerlink" title="é˜»å¡ IO æ¨¡å‹"></a>é˜»å¡ IO æ¨¡å‹</h3><p>æœ€ä¼ ç»Ÿçš„ä¸€ç§ IOæ¨¡å‹ï¼Œå³åœ¨è¯»å†™æ•°æ®è¿‡ç¨‹ä¸­ä¼šå‘ç”Ÿé˜»å¡ç°è±¡ã€‚å½“ç”¨æˆ·çº¿ç¨‹å‘å‡º IO è¯·æ±‚ä¹‹åï¼Œå†…<br>æ ¸ä¼šå»æŸ¥çœ‹æ•°æ®æ˜¯å¦å°±ç»ªï¼Œå¦‚æœæ²¡æœ‰å°±ç»ªå°±ä¼šç­‰å¾…æ•°æ®å°±ç»ªï¼Œè€Œç”¨æˆ·çº¿ç¨‹å°±ä¼šå¤„äºé˜»å¡çŠ¶æ€ï¼Œç”¨<br>æˆ·çº¿ç¨‹äº¤å‡º CPUã€‚å½“æ•°æ®å°±ç»ªä¹‹åï¼Œå†…æ ¸ä¼šå°†æ•°æ®æ‹·è´åˆ°ç”¨æˆ·çº¿ç¨‹ï¼Œå¹¶è¿”å›ç»“æœç»™ç”¨æˆ·çº¿ç¨‹ï¼Œç”¨æˆ·çº¿ç¨‹æ‰è§£é™¤ block çŠ¶æ€ã€‚å…¸å‹çš„é˜»å¡ IO æ¨¡å‹çš„ä¾‹å­ä¸ºï¼šdata = socket.read();å¦‚æœæ•°æ®æ²¡æœ‰å°±<br>ç»ªï¼Œå°±ä¼šä¸€ç›´é˜»å¡åœ¨ read æ–¹æ³•ã€‚</p><h3 id="éé˜»å¡-IO-æ¨¡å‹"><a href="#éé˜»å¡-IO-æ¨¡å‹" class="headerlink" title="éé˜»å¡ IO æ¨¡å‹"></a>éé˜»å¡ IO æ¨¡å‹</h3><p>å½“ç”¨æˆ·çº¿ç¨‹å‘èµ·ä¸€ä¸ª read æ“ä½œåï¼Œå¹¶ä¸éœ€è¦ç­‰å¾…ï¼Œè€Œæ˜¯é©¬ä¸Šå°±å¾—åˆ°äº†ä¸€ä¸ªç»“æœã€‚å¦‚æœç»“æœæ˜¯ä¸€ä¸ª<br>error æ—¶ï¼Œå®ƒå°±çŸ¥é“æ•°æ®è¿˜æ²¡æœ‰å‡†å¤‡å¥½ï¼Œäºæ˜¯å®ƒå¯ä»¥å†æ¬¡å‘é€ read æ“ä½œã€‚ä¸€æ—¦å†…æ ¸ä¸­çš„æ•°æ®å‡†å¤‡<br>å¥½äº†ï¼Œå¹¶ä¸”åˆå†æ¬¡æ”¶åˆ°äº†ç”¨æˆ·çº¿ç¨‹çš„è¯·æ±‚ï¼Œé‚£ä¹ˆå®ƒé©¬ä¸Šå°±å°†æ•°æ®æ‹·è´åˆ°äº†ç”¨æˆ·çº¿ç¨‹ï¼Œç„¶åè¿”å›ã€‚<br>æ‰€ä»¥äº‹å®ä¸Šï¼Œåœ¨éé˜»å¡ IO æ¨¡å‹ä¸­ï¼Œç”¨æˆ·çº¿ç¨‹éœ€è¦ä¸æ–­åœ°è¯¢é—®å†…æ ¸æ•°æ®æ˜¯å¦å°±ç»ªï¼Œä¹Ÿå°±è¯´éé˜»å¡ IO<br>ä¸ä¼šäº¤å‡º CPUï¼Œè€Œä¼šä¸€ç›´å ç”¨ CPUã€‚å…¸å‹çš„éé˜»å¡ IO æ¨¡å‹ä¸€èˆ¬å¦‚ä¸‹ï¼š</p><pre><code>while(true){    data = socket.read();    if(data!= error){    å¤„ç†æ•°æ®    break;    }}</code></pre><p>ä½†æ˜¯å¯¹äºéé˜»å¡ IO å°±æœ‰ä¸€ä¸ªéå¸¸ä¸¥é‡çš„é—®é¢˜ï¼Œåœ¨ while å¾ªç¯ä¸­éœ€è¦ä¸æ–­åœ°å»è¯¢é—®å†…æ ¸æ•°æ®æ˜¯å¦å°±<br>ç»ªï¼Œè¿™æ ·ä¼šå¯¼è‡´ CPU å ç”¨ç‡éå¸¸é«˜ï¼Œå› æ­¤ä¸€èˆ¬æƒ…å†µä¸‹å¾ˆå°‘ä½¿ç”¨ while å¾ªç¯è¿™ç§æ–¹å¼æ¥è¯»å–æ•°æ®ã€‚ä½†æ˜¯å¯¹äºéé˜»å¡ IO å°±æœ‰ä¸€ä¸ªéå¸¸ä¸¥é‡çš„é—®é¢˜ï¼Œåœ¨ while å¾ªç¯ä¸­éœ€è¦ä¸æ–­åœ°å»è¯¢é—®å†…æ ¸æ•°æ®æ˜¯å¦å°±<br>ç»ªï¼Œè¿™æ ·ä¼šå¯¼è‡´ CPU å ç”¨ç‡éå¸¸é«˜ï¼Œå› æ­¤ä¸€èˆ¬æƒ…å†µä¸‹å¾ˆå°‘ä½¿ç”¨ while å¾ªç¯è¿™ç§æ–¹å¼æ¥è¯»å–æ•°æ®ã€‚</p><h3 id="å¤šè·¯å¤ç”¨-IO-æ¨¡å‹"><a href="#å¤šè·¯å¤ç”¨-IO-æ¨¡å‹" class="headerlink" title="å¤šè·¯å¤ç”¨ IO æ¨¡å‹"></a>å¤šè·¯å¤ç”¨ IO æ¨¡å‹</h3><p>å¤šè·¯å¤ç”¨ IO æ¨¡å‹æ˜¯ç›®å‰ä½¿ç”¨å¾—æ¯”è¾ƒå¤šçš„æ¨¡å‹ã€‚Java NIO å®é™…ä¸Šå°±æ˜¯å¤šè·¯å¤ç”¨ IOã€‚åœ¨å¤šè·¯å¤ç”¨ IO<br>æ¨¡å‹ä¸­ï¼Œä¼šæœ‰ä¸€ä¸ªçº¿ç¨‹ä¸æ–­å»è½®è¯¢å¤šä¸ª socket çš„çŠ¶æ€ï¼Œåªæœ‰å½“ socket çœŸæ­£æœ‰è¯»å†™äº‹ä»¶æ—¶ï¼Œæ‰çœŸ<br>æ­£è°ƒç”¨å®é™…çš„ IO è¯»å†™æ“ä½œã€‚å› ä¸ºåœ¨å¤šè·¯å¤ç”¨ IO æ¨¡å‹ä¸­ï¼Œåªéœ€è¦ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹å°±å¯ä»¥ç®¡ç†å¤šä¸ª<br>socketï¼Œç³»ç»Ÿä¸éœ€è¦å»ºç«‹æ–°çš„è¿›ç¨‹æˆ–è€…çº¿ç¨‹ï¼Œä¹Ÿä¸å¿…ç»´æŠ¤è¿™äº›çº¿ç¨‹å’Œè¿›ç¨‹ï¼Œå¹¶ä¸”åªæœ‰åœ¨çœŸæ­£æœ‰<br>socket è¯»å†™äº‹ä»¶è¿›è¡Œæ—¶ï¼Œæ‰ä¼šä½¿ç”¨ IO èµ„æºï¼Œæ‰€ä»¥å®ƒå¤§å¤§å‡å°‘äº†èµ„æºå ç”¨ã€‚åœ¨ Java NIO ä¸­ï¼Œæ˜¯é€š<br>è¿‡ selector.select()å»æŸ¥è¯¢æ¯ä¸ªé€šé“æ˜¯å¦æœ‰åˆ°è¾¾äº‹ä»¶ï¼Œå¦‚æœæ²¡æœ‰äº‹ä»¶ï¼Œåˆ™ä¸€ç›´é˜»å¡åœ¨é‚£é‡Œï¼Œå› æ­¤è¿™<br>ç§æ–¹å¼ä¼šå¯¼è‡´ç”¨æˆ·çº¿ç¨‹çš„é˜»å¡ã€‚å¤šè·¯å¤ç”¨ IO æ¨¡å¼ï¼Œé€šè¿‡ä¸€ä¸ªçº¿ç¨‹å°±å¯ä»¥ç®¡ç†å¤šä¸ª socketï¼Œåªæœ‰å½“<br>socket çœŸæ­£æœ‰è¯»å†™äº‹ä»¶å‘ç”Ÿæ‰ä¼šå ç”¨èµ„æºæ¥è¿›è¡Œå®é™…çš„è¯»å†™æ“ä½œã€‚å› æ­¤ï¼Œå¤šè·¯å¤ç”¨ IO æ¯”è¾ƒé€‚åˆè¿<br>æ¥æ•°æ¯”è¾ƒå¤šçš„æƒ…å†µã€‚</p><p>å¦å¤–å¤šè·¯å¤ç”¨ IO ä¸ºä½•æ¯”éé˜»å¡ IO æ¨¡å‹çš„æ•ˆç‡é«˜æ˜¯å› ä¸ºåœ¨éé˜»å¡ IO ä¸­ï¼Œä¸æ–­åœ°è¯¢é—® socket çŠ¶æ€<br>æ—¶é€šè¿‡ç”¨æˆ·çº¿ç¨‹å»è¿›è¡Œçš„ï¼Œè€Œåœ¨å¤šè·¯å¤ç”¨ IO ä¸­ï¼Œè½®è¯¢æ¯ä¸ª socket çŠ¶æ€æ˜¯å†…æ ¸åœ¨è¿›è¡Œçš„ï¼Œè¿™ä¸ªæ•ˆ<br>ç‡è¦æ¯”ç”¨æˆ·çº¿ç¨‹è¦é«˜çš„å¤šã€‚</p><p>ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼Œå¤šè·¯å¤ç”¨ IO æ¨¡å‹æ˜¯é€šè¿‡è½®è¯¢çš„æ–¹å¼æ¥æ£€æµ‹æ˜¯å¦æœ‰äº‹ä»¶åˆ°è¾¾ï¼Œå¹¶ä¸”å¯¹åˆ°è¾¾çš„äº‹ä»¶<br>é€ä¸€è¿›è¡Œå“åº”ã€‚å› æ­¤å¯¹äºå¤šè·¯å¤ç”¨ IO æ¨¡å‹æ¥è¯´ï¼Œä¸€æ—¦äº‹ä»¶å“åº”ä½“å¾ˆå¤§ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´åç»­çš„äº‹ä»¶<br>è¿Ÿè¿Ÿå¾—ä¸åˆ°å¤„ç†ï¼Œå¹¶ä¸”ä¼šå½±å“æ–°çš„äº‹ä»¶è½®è¯¢ã€‚</p><h3 id="ä¿¡å·é©±åŠ¨-IO-æ¨¡å‹"><a href="#ä¿¡å·é©±åŠ¨-IO-æ¨¡å‹" class="headerlink" title="ä¿¡å·é©±åŠ¨ IO æ¨¡å‹"></a>ä¿¡å·é©±åŠ¨ IO æ¨¡å‹</h3><p>åœ¨ä¿¡å·é©±åŠ¨ IO æ¨¡å‹ä¸­ï¼Œå½“ç”¨æˆ·çº¿ç¨‹å‘èµ·ä¸€ä¸ª IO è¯·æ±‚æ“ä½œï¼Œä¼šç»™å¯¹åº”çš„ socket æ³¨å†Œä¸€ä¸ªä¿¡å·å‡½<br>æ•°ï¼Œç„¶åç”¨æˆ·çº¿ç¨‹ä¼šç»§ç»­æ‰§è¡Œï¼Œå½“å†…æ ¸æ•°æ®å°±ç»ªæ—¶ä¼šå‘é€ä¸€ä¸ªä¿¡å·ç»™ç”¨æˆ·çº¿ç¨‹ï¼Œç”¨æˆ·çº¿ç¨‹æ¥æ”¶åˆ°<br>ä¿¡å·ä¹‹åï¼Œä¾¿åœ¨ä¿¡å·å‡½æ•°ä¸­è°ƒç”¨ IO è¯»å†™æ“ä½œæ¥è¿›è¡Œå®é™…çš„ IO è¯·æ±‚æ“ä½œã€‚</p><h3 id="å¼‚æ­¥-IO-æ¨¡å‹"><a href="#å¼‚æ­¥-IO-æ¨¡å‹" class="headerlink" title="å¼‚æ­¥ IO æ¨¡å‹"></a>å¼‚æ­¥ IO æ¨¡å‹</h3><p>å¼‚æ­¥ IO æ¨¡å‹æ‰æ˜¯æœ€ç†æƒ³çš„ IO æ¨¡å‹ï¼Œåœ¨å¼‚æ­¥ IO æ¨¡å‹ä¸­ï¼Œå½“ç”¨æˆ·çº¿ç¨‹å‘èµ· read æ“ä½œä¹‹åï¼Œç«‹åˆ»å°±<br>å¯ä»¥å¼€å§‹å»åšå…¶å®ƒçš„äº‹ã€‚è€Œå¦ä¸€æ–¹é¢ï¼Œä»å†…æ ¸çš„è§’åº¦ï¼Œå½“å®ƒå—åˆ°ä¸€ä¸ª asynchronous read ä¹‹åï¼Œ<br>å®ƒä¼šç«‹åˆ»è¿”å›ï¼Œè¯´æ˜ read è¯·æ±‚å·²ç»æˆåŠŸå‘èµ·äº†ï¼Œå› æ­¤ä¸ä¼šå¯¹ç”¨æˆ·çº¿ç¨‹äº§ç”Ÿä»»ä½• blockã€‚ç„¶åï¼Œå†…<br>æ ¸ä¼šç­‰å¾…æ•°æ®å‡†å¤‡å®Œæˆï¼Œç„¶åå°†æ•°æ®æ‹·è´åˆ°ç”¨æˆ·çº¿ç¨‹ï¼Œå½“è¿™ä¸€åˆ‡éƒ½å®Œæˆä¹‹åï¼Œå†…æ ¸ä¼šç»™ç”¨æˆ·çº¿ç¨‹<br>å‘é€ä¸€ä¸ªä¿¡å·ï¼Œå‘Šè¯‰å®ƒ read æ“ä½œå®Œæˆäº†ã€‚ä¹Ÿå°±è¯´ç”¨æˆ·çº¿ç¨‹å®Œå…¨ä¸éœ€è¦å®é™…çš„æ•´ä¸ª IO æ“ä½œæ˜¯å¦‚ä½•<br>è¿›è¡Œçš„ï¼Œåªéœ€è¦å…ˆå‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œå½“æ¥æ”¶å†…æ ¸è¿”å›çš„æˆåŠŸä¿¡å·æ—¶è¡¨ç¤º IO æ“ä½œå·²ç»å®Œæˆï¼Œå¯ä»¥ç›´æ¥<br>å»ä½¿ç”¨æ•°æ®äº†ã€‚<br>ä¹Ÿå°±è¯´åœ¨å¼‚æ­¥ IO æ¨¡å‹ä¸­ï¼ŒIO æ“ä½œçš„ä¸¤ä¸ªé˜¶æ®µéƒ½ä¸ä¼šé˜»å¡ç”¨æˆ·çº¿ç¨‹ï¼Œè¿™ä¸¤ä¸ªé˜¶æ®µéƒ½æ˜¯ç”±å†…æ ¸è‡ªåŠ¨å®Œ<br>æˆï¼Œç„¶åå‘é€ä¸€ä¸ªä¿¡å·å‘ŠçŸ¥ç”¨æˆ·çº¿ç¨‹æ“ä½œå·²å®Œæˆã€‚ç”¨æˆ·çº¿ç¨‹ä¸­ä¸éœ€è¦å†æ¬¡è°ƒç”¨ IO å‡½æ•°è¿›è¡Œå…·ä½“çš„<br>è¯»å†™ã€‚è¿™ç‚¹æ˜¯å’Œä¿¡å·é©±åŠ¨æ¨¡å‹æœ‰æ‰€ä¸åŒçš„ï¼Œåœ¨ä¿¡å·é©±åŠ¨æ¨¡å‹ä¸­ï¼Œå½“ç”¨æˆ·çº¿ç¨‹æ¥æ”¶åˆ°ä¿¡å·è¡¨ç¤ºæ•°æ®<br>å·²ç»å°±ç»ªï¼Œç„¶åéœ€è¦ç”¨æˆ·çº¿ç¨‹è°ƒç”¨ IO å‡½æ•°è¿›è¡Œå®é™…çš„è¯»å†™æ“ä½œï¼›è€Œåœ¨å¼‚æ­¥ IO æ¨¡å‹ä¸­ï¼Œæ”¶åˆ°ä¿¡å·<br>è¡¨ç¤º IO æ“ä½œå·²ç»å®Œæˆï¼Œä¸éœ€è¦å†åœ¨ç”¨æˆ·çº¿ç¨‹ä¸­è°ƒç”¨ IO å‡½æ•°è¿›è¡Œå®é™…çš„è¯»å†™æ“ä½œã€‚<br>æ³¨æ„ï¼Œå¼‚æ­¥ IO æ˜¯éœ€è¦æ“ä½œç³»ç»Ÿçš„åº•å±‚æ”¯æŒï¼Œåœ¨ Java 7 ä¸­ï¼Œæä¾›äº† Asynchronous IOã€‚</p><h3 id="JAVA-IO-åŒ…"><a href="#JAVA-IO-åŒ…" class="headerlink" title="JAVA IO åŒ…"></a>JAVA IO åŒ…</h3><h3 id="JAVA-NIO"><a href="#JAVA-NIO" class="headerlink" title="JAVA NIO"></a>JAVA NIO</h3><p>NIO ä¸»è¦æœ‰ä¸‰å¤§æ ¸å¿ƒéƒ¨åˆ†ï¼šChannel(é€šé“)ï¼ŒBuffer(ç¼“å†²åŒº), Selectorã€‚ä¼ ç»Ÿ IO åŸºäºå­—èŠ‚æµå’Œå­—<br>ç¬¦æµè¿›è¡Œæ“ä½œï¼Œè€Œ NIO åŸºäº Channel å’Œ Buffer(ç¼“å†²åŒº)è¿›è¡Œæ“ä½œï¼Œæ•°æ®æ€»æ˜¯ä»é€šé“è¯»å–åˆ°ç¼“å†²åŒº<br>ä¸­ï¼Œæˆ–è€…ä»ç¼“å†²åŒºå†™å…¥åˆ°é€šé“ä¸­ã€‚Selector(é€‰æ‹©åŒº)ç”¨äºç›‘å¬å¤šä¸ªé€šé“çš„äº‹ä»¶ï¼ˆæ¯”å¦‚ï¼šè¿æ¥æ‰“å¼€ï¼Œ<br>æ•°æ®åˆ°è¾¾ï¼‰ã€‚å› æ­¤ï¼Œå•ä¸ªçº¿ç¨‹å¯ä»¥ç›‘å¬å¤šä¸ªæ•°æ®é€šé“ã€‚<br>NIO å’Œä¼ ç»Ÿ IOä¹‹é—´ç¬¬ä¸€ä¸ªæœ€å¤§çš„åŒºåˆ«æ˜¯ï¼ŒIOæ˜¯é¢å‘æµçš„ï¼ŒNIO æ˜¯é¢å‘ç¼“å†²åŒºçš„ã€‚</p><h4 id="NIO-çš„ç¼“å†²åŒº"><a href="#NIO-çš„ç¼“å†²åŒº" class="headerlink" title="NIO çš„ç¼“å†²åŒº"></a>NIO çš„ç¼“å†²åŒº</h4><p>Java IO é¢å‘æµæ„å‘³ç€æ¯æ¬¡ä»æµä¸­è¯»ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚ï¼Œç›´è‡³è¯»å–æ‰€æœ‰å­—èŠ‚ï¼Œå®ƒä»¬æ²¡æœ‰è¢«ç¼“å­˜åœ¨ä»»ä½•åœ°æ–¹ã€‚æ­¤å¤–ï¼Œå®ƒä¸èƒ½å‰åç§»åŠ¨æµä¸­çš„æ•°æ®ã€‚å¦‚æœéœ€è¦å‰åç§»åŠ¨ä»æµä¸­è¯»å–çš„æ•°æ®ï¼Œéœ€è¦å…ˆå°†å®ƒç¼“å­˜åˆ°ä¸€ä¸ªç¼“å†²åŒºã€‚NIOçš„ç¼“å†²å¯¼å‘æ–¹æ³•ä¸åŒã€‚æ•°æ®è¯»å–åˆ°ä¸€ä¸ªå®ƒç¨åå¤„ç†çš„ç¼“å†²åŒºï¼Œéœ€è¦æ—¶å¯åœ¨ç¼“å†²åŒºä¸­å‰åç§»åŠ¨ã€‚è¿™å°±å¢åŠ äº†å¤„ç†è¿‡ç¨‹ä¸­çš„çµæ´»æ€§ã€‚ä½†æ˜¯ï¼Œè¿˜éœ€è¦æ£€æŸ¥æ˜¯å¦è¯¥ç¼“å†²åŒºä¸­åŒ…å«æ‰€æœ‰æ‚¨éœ€è¦å¤„ç†çš„æ•°æ®ã€‚è€Œä¸”ï¼Œéœ€ç¡®ä¿å½“æ›´å¤šçš„æ•°æ®è¯»å…¥ç¼“å†²åŒºæ—¶ï¼Œä¸è¦è¦†ç›–ç¼“å†²åŒºé‡Œå°šæœªå¤„ç†çš„æ•°æ®ã€‚</p><h4 id="NIO-çš„éé˜»å¡"><a href="#NIO-çš„éé˜»å¡" class="headerlink" title="NIO çš„éé˜»å¡"></a>NIO çš„éé˜»å¡</h4><p>IO çš„å„ç§æµæ˜¯é˜»å¡çš„ã€‚è¿™æ„å‘³ç€ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ read() æˆ– write()æ—¶ï¼Œè¯¥çº¿ç¨‹è¢«é˜»å¡ï¼Œç›´åˆ°æœ‰<br>ä¸€äº›æ•°æ®è¢«è¯»å–ï¼Œæˆ–æ•°æ®å®Œå…¨å†™å…¥ã€‚è¯¥çº¿ç¨‹åœ¨æ­¤æœŸé—´ä¸èƒ½å†å¹²ä»»ä½•äº‹æƒ…äº†ã€‚ NIO çš„éé˜»å¡æ¨¡å¼ï¼Œ<br>ä½¿ä¸€ä¸ªçº¿ç¨‹ä»æŸé€šé“å‘é€è¯·æ±‚è¯»å–æ•°æ®ï¼Œä½†æ˜¯å®ƒä»…èƒ½å¾—åˆ°ç›®å‰å¯ç”¨çš„æ•°æ®ï¼Œå¦‚æœç›®å‰æ²¡æœ‰æ•°æ®å¯<br>ç”¨æ—¶ï¼Œå°±ä»€ä¹ˆéƒ½ä¸ä¼šè·å–ã€‚è€Œä¸æ˜¯ä¿æŒçº¿ç¨‹é˜»å¡ï¼Œæ‰€ä»¥ç›´è‡³æ•°æ®å˜çš„å¯ä»¥è¯»å–ä¹‹å‰ï¼Œè¯¥çº¿ç¨‹å¯ä»¥ç»§ç»­åšå…¶ä»–çš„äº‹æƒ…ã€‚éé˜»å¡å†™ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä¸€ä¸ªçº¿ç¨‹è¯·æ±‚å†™å…¥ä¸€äº›æ•°æ®åˆ°æŸé€šé“ï¼Œä½†ä¸éœ€è¦ç­‰å¾…å®ƒå®Œå…¨å†™å…¥ï¼Œè¿™ä¸ªçº¿ç¨‹åŒæ—¶å¯ä»¥å»åšåˆ«çš„äº‹æƒ…ã€‚ çº¿ç¨‹é€šå¸¸å°†éé˜»å¡ IO çš„ç©ºé—²æ—¶é—´ç”¨äºåœ¨å…¶å®ƒé€šé“ä¸Šæ‰§è¡ŒIOæ“ä½œï¼Œæ‰€ä»¥ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ç°åœ¨å¯ä»¥ç®¡ç†å¤šä¸ªè¾“å…¥å’Œè¾“å‡ºé€šé“ï¼ˆchannelï¼‰ã€‚</p><h3 id="Channel"><a href="#Channel" class="headerlink" title="Channel"></a>Channel</h3><p>é¦–å…ˆè¯´ä¸€ä¸‹ Channelï¼Œå›½å†…å¤§å¤šç¿»è¯‘æˆâ€œé€šé“â€ã€‚Channel å’Œ IO ä¸­çš„ Stream(æµ)æ˜¯å·®ä¸å¤šä¸€ä¸ª<br>ç­‰çº§çš„ã€‚åªä¸è¿‡ Stream æ˜¯å•å‘çš„ï¼Œè­¬å¦‚ï¼šInputStream, OutputStreamï¼Œè€Œ Channel æ˜¯åŒå‘<br>çš„ï¼Œæ—¢å¯ä»¥ç”¨æ¥è¿›è¡Œè¯»æ“ä½œï¼Œåˆå¯ä»¥ç”¨æ¥è¿›è¡Œå†™æ“ä½œã€‚<br>NIO ä¸­çš„ Channel çš„ä¸»è¦å®ç°æœ‰ï¼š</p><ol><li>FileChannel</li><li>DatagramChannel</li><li>SocketChannel</li><li>ServerSocketChannel<br>è¿™é‡Œçœ‹åå­—å°±å¯ä»¥çŒœå‡ºä¸ªæ‰€ä»¥ç„¶æ¥ï¼šåˆ†åˆ«å¯ä»¥å¯¹åº”æ–‡ä»¶ IOã€UDP å’Œ TCPï¼ˆServer å’Œ Clientï¼‰ã€‚<br>ä¸‹é¢æ¼”ç¤ºçš„æ¡ˆä¾‹åŸºæœ¬ä¸Šå°±æ˜¯å›´ç»•è¿™ 4 ä¸ªç±»å‹çš„ Channel è¿›è¡Œé™ˆè¿°çš„ã€‚</li></ol><h3 id="Buffer"><a href="#Buffer" class="headerlink" title="Buffer"></a>Buffer</h3><p>Bufferï¼Œæ•…åæ€æ„ï¼Œç¼“å†²åŒºï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œæ˜¯ä¸€ä¸ªè¿ç»­æ•°ç»„ã€‚Channelæä¾›ä»æ–‡ä»¶ã€ç½‘ç»œè¯»å–æ•°æ®çš„æ¸ é“ï¼Œä½†æ˜¯è¯»å–æˆ–å†™å…¥çš„æ•°æ®éƒ½å¿…é¡»ç»ç”± Bufferã€‚</p><p>ä¸Šé¢çš„å›¾æè¿°äº†ä»ä¸€ä¸ªå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€æ•°æ®ï¼Œç„¶åæœåŠ¡ç«¯æ¥æ”¶æ•°æ®çš„è¿‡ç¨‹ã€‚å®¢æˆ·ç«¯å‘é€<br>æ•°æ®æ—¶ï¼Œå¿…é¡»å…ˆå°†æ•°æ®å­˜å…¥ Buffer ä¸­ï¼Œç„¶åå°† Buffer ä¸­çš„å†…å®¹å†™å…¥é€šé“ã€‚æœåŠ¡ç«¯è¿™è¾¹æ¥æ”¶æ•°æ®å¿…<br>é¡»é€šè¿‡ Channel å°†æ•°æ®è¯»å…¥åˆ° Buffer ä¸­ï¼Œç„¶åå†ä» Buffer ä¸­å–å‡ºæ•°æ®æ¥å¤„ç†ã€‚<br>åœ¨ NIO ä¸­ï¼ŒBuffer æ˜¯ä¸€ä¸ªé¡¶å±‚çˆ¶ç±»ï¼Œå®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå¸¸ç”¨çš„ Buffer çš„å­ç±»æœ‰ï¼š<br>ByteBufferã€IntBufferã€ CharBufferã€ LongBufferã€ DoubleBufferã€FloatBufferã€<br>ShortBuffer</p><h3 id="Selector"><a href="#Selector" class="headerlink" title="Selector"></a>Selector</h3><p>Selector ç±»æ˜¯ NIO çš„æ ¸å¿ƒç±»ï¼ŒSelector èƒ½å¤Ÿæ£€æµ‹å¤šä¸ªæ³¨å†Œçš„é€šé“ä¸Šæ˜¯å¦æœ‰äº‹ä»¶å‘ç”Ÿï¼Œå¦‚æœæœ‰äº‹<br>ä»¶å‘ç”Ÿï¼Œä¾¿è·å–äº‹ä»¶ç„¶åé’ˆå¯¹æ¯ä¸ªäº‹ä»¶è¿›è¡Œç›¸åº”çš„å“åº”å¤„ç†ã€‚è¿™æ ·ä¸€æ¥ï¼Œåªæ˜¯ç”¨ä¸€ä¸ªå•çº¿ç¨‹å°±å¯<br>ä»¥ç®¡ç†å¤šä¸ªé€šé“ï¼Œä¹Ÿå°±æ˜¯ç®¡ç†å¤šä¸ªè¿æ¥ã€‚è¿™æ ·ä½¿å¾—åªæœ‰åœ¨è¿æ¥çœŸæ­£æœ‰è¯»å†™äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œæ‰ä¼šè°ƒç”¨<br>å‡½æ•°æ¥è¿›è¡Œè¯»å†™ï¼Œå°±å¤§å¤§åœ°å‡å°‘äº†ç³»ç»Ÿå¼€é”€ï¼Œå¹¶ä¸”ä¸å¿…ä¸ºæ¯ä¸ªè¿æ¥éƒ½åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œä¸ç”¨å»ç»´æŠ¤<br>å¤šä¸ªçº¿ç¨‹ï¼Œå¹¶ä¸”é¿å…äº†å¤šçº¿ç¨‹ä¹‹é—´çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å¯¼è‡´çš„å¼€é”€ã€‚</p><h2 id="JVM-ç±»åŠ è½½æœºåˆ¶"><a href="#JVM-ç±»åŠ è½½æœºåˆ¶" class="headerlink" title="JVM ç±»åŠ è½½æœºåˆ¶"></a>JVM ç±»åŠ è½½æœºåˆ¶</h2><p>JVM ç±»åŠ è½½æœºåˆ¶åˆ†ä¸ºäº”ä¸ªéƒ¨åˆ†ï¼šåŠ è½½ï¼ŒéªŒè¯ï¼Œå‡†å¤‡ï¼Œè§£æï¼Œåˆå§‹åŒ–ï¼Œä¸‹é¢æˆ‘ä»¬å°±åˆ†åˆ«æ¥çœ‹ä¸€ä¸‹è¿™<br>äº”ä¸ªè¿‡ç¨‹ã€‚</p><h4 id="åŠ è½½"><a href="#åŠ è½½" class="headerlink" title="åŠ è½½"></a>åŠ è½½</h4><p>åŠ è½½æ˜¯ç±»åŠ è½½è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªé˜¶æ®µï¼Œè¿™ä¸ªé˜¶æ®µä¼šåœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„ java.lang.Class å¯¹<br>è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºè¿™ä¸ªç±»çš„å„ç§æ•°æ®çš„å…¥å£ã€‚æ³¨æ„è¿™é‡Œä¸ä¸€å®šéå¾—è¦ä»ä¸€ä¸ª Class æ–‡ä»¶è·å–ï¼Œè¿™é‡Œæ—¢<br>å¯ä»¥ä» ZIP åŒ…ä¸­è¯»å–ï¼ˆæ¯”å¦‚ä» jar åŒ…å’Œ war åŒ…ä¸­è¯»å–ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨è¿è¡Œæ—¶è®¡ç®—ç”Ÿæˆï¼ˆåŠ¨æ€ä»£ç†ï¼‰ï¼Œ<br>ä¹Ÿå¯ä»¥ç”±å…¶å®ƒæ–‡ä»¶ç”Ÿæˆï¼ˆæ¯”å¦‚å°† JSP æ–‡ä»¶è½¬æ¢æˆå¯¹åº”çš„ Class ç±»ï¼‰ã€‚</p><h4 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h4><p>è¿™ä¸€é˜¶æ®µçš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†ç¡®ä¿ Class æ–‡ä»¶çš„å­—èŠ‚æµä¸­åŒ…å«çš„ä¿¡æ¯æ˜¯å¦ç¬¦åˆå½“å‰è™šæ‹Ÿæœºçš„è¦æ±‚ï¼Œå¹¶<br>ä¸”ä¸ä¼šå±å®³è™šæ‹Ÿæœºè‡ªèº«çš„å®‰å…¨ã€‚</p><h4 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h4><p>å‡†å¤‡é˜¶æ®µæ˜¯æ­£å¼ä¸ºç±»å˜é‡åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡çš„åˆå§‹å€¼é˜¶æ®µï¼Œå³åœ¨æ–¹æ³•åŒºä¸­åˆ†é…è¿™äº›å˜é‡æ‰€ä½¿<br>ç”¨çš„å†…å­˜ç©ºé—´ã€‚æ³¨æ„è¿™é‡Œæ‰€è¯´çš„åˆå§‹å€¼æ¦‚å¿µï¼Œæ¯”å¦‚ä¸€ä¸ªç±»å˜é‡å®šä¹‰ä¸ºï¼š<br>public static int v = 8080;<br>å®é™…ä¸Šå˜é‡ v åœ¨å‡†å¤‡é˜¶æ®µè¿‡åçš„åˆå§‹å€¼ä¸º 0 è€Œä¸æ˜¯ 8080ï¼Œå°† v èµ‹å€¼ä¸º 8080 çš„ put static æŒ‡ä»¤æ˜¯<br>ç¨‹åºè¢«ç¼–è¯‘åï¼Œå­˜æ”¾äºç±»æ„é€ å™¨<client>æ–¹æ³•ä¹‹ä¸­ã€‚<br>ä½†æ˜¯æ³¨æ„å¦‚æœå£°æ˜ä¸ºï¼š</client></p><pre><code>public static final int v = 8080;</code></pre><p>åœ¨ç¼–è¯‘é˜¶æ®µä¼šä¸º v ç”Ÿæˆ ConstantValue å±æ€§ï¼Œåœ¨å‡†å¤‡é˜¶æ®µè™šæ‹Ÿæœºä¼šæ ¹æ® ConstantValue å±æ€§å°† v<br>èµ‹å€¼ä¸º 8080ã€‚</p><h4 id="è§£æ"><a href="#è§£æ" class="headerlink" title="è§£æ"></a>è§£æ</h4><p>è§£æé˜¶æ®µæ˜¯æŒ‡è™šæ‹Ÿæœºå°†å¸¸é‡æ± ä¸­çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹ã€‚ç¬¦å·å¼•ç”¨å°±æ˜¯ class æ–‡ä»¶ä¸­çš„ï¼š</p><ol><li>CONSTANT_Class_info</li><li>CONSTANT_Field_info</li><li>CONSTANT_Method_info</li></ol><p>ç­‰ç±»å‹çš„å¸¸é‡ã€‚</p><h4 id="ç¬¦å·å¼•ç”¨"><a href="#ç¬¦å·å¼•ç”¨" class="headerlink" title="ç¬¦å·å¼•ç”¨"></a>ç¬¦å·å¼•ç”¨</h4><p>ï® ç¬¦å·å¼•ç”¨ä¸è™šæ‹Ÿæœºå®ç°çš„å¸ƒå±€æ— å…³ï¼Œå¼•ç”¨çš„ç›®æ ‡å¹¶ä¸ä¸€å®šè¦å·²ç»åŠ è½½åˆ°å†…å­˜ä¸­ã€‚å„ç§è™šæ‹Ÿ<br>æœºå®ç°çš„å†…å­˜å¸ƒå±€å¯ä»¥å„ä¸ç›¸åŒï¼Œä½†æ˜¯å®ƒä»¬èƒ½æ¥å—çš„ç¬¦å·å¼•ç”¨å¿…é¡»æ˜¯ä¸€è‡´çš„ï¼Œå› ä¸ºç¬¦å·å¼•<br>ç”¨çš„å­—é¢é‡å½¢å¼æ˜ç¡®å®šä¹‰åœ¨ Java è™šæ‹Ÿæœºè§„èŒƒçš„ Class æ–‡ä»¶æ ¼å¼ä¸­ã€‚</p><h4 id="ç›´æ¥å¼•ç”¨"><a href="#ç›´æ¥å¼•ç”¨" class="headerlink" title="ç›´æ¥å¼•ç”¨"></a>ç›´æ¥å¼•ç”¨</h4><p>ï® ç›´æ¥å¼•ç”¨å¯ä»¥æ˜¯æŒ‡å‘ç›®æ ‡çš„æŒ‡é’ˆï¼Œç›¸å¯¹åç§»é‡æˆ–æ˜¯ä¸€ä¸ªèƒ½é—´æ¥å®šä½åˆ°ç›®æ ‡çš„å¥æŸ„ã€‚å¦‚æœæœ‰<br>äº†ç›´æ¥å¼•ç”¨ï¼Œé‚£å¼•ç”¨çš„ç›®æ ‡å¿…å®šå·²ç»åœ¨å†…å­˜ä¸­å­˜åœ¨ã€‚</p><h4 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h4><p>åˆå§‹åŒ–é˜¶æ®µæ˜¯ç±»åŠ è½½æœ€åä¸€ä¸ªé˜¶æ®µï¼Œå‰é¢çš„ç±»åŠ è½½é˜¶æ®µä¹‹åï¼Œé™¤äº†åœ¨åŠ è½½é˜¶æ®µå¯ä»¥è‡ªå®šä¹‰ç±»åŠ è½½<br>å™¨ä»¥å¤–ï¼Œå…¶å®ƒæ“ä½œéƒ½ç”± JVM ä¸»å¯¼ã€‚åˆ°äº†åˆå§‹é˜¶æ®µï¼Œæ‰å¼€å§‹çœŸæ­£æ‰§è¡Œç±»ä¸­å®šä¹‰çš„ Java ç¨‹åºä»£ç ã€‚</p><h4 id="ç±»æ„é€ å™¨"><a href="#ç±»æ„é€ å™¨" class="headerlink" title="ç±»æ„é€ å™¨"></a>ç±»æ„é€ å™¨<client></client></h4><p>åˆå§‹åŒ–é˜¶æ®µæ˜¯æ‰§è¡Œç±»æ„é€ å™¨<client>æ–¹æ³•çš„è¿‡ç¨‹ã€‚<client>æ–¹æ³•æ˜¯ç”±ç¼–è¯‘å™¨è‡ªåŠ¨æ”¶é›†ç±»ä¸­çš„ç±»å˜<br>é‡çš„èµ‹å€¼æ“ä½œå’Œé™æ€è¯­å¥å—ä¸­çš„è¯­å¥åˆå¹¶è€Œæˆçš„ã€‚è™šæ‹Ÿæœºä¼šä¿è¯å­<client>æ–¹æ³•æ‰§è¡Œä¹‹å‰ï¼Œçˆ¶ç±»<br>çš„<client>æ–¹æ³•å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œå¦‚æœä¸€ä¸ªç±»ä¸­æ²¡æœ‰å¯¹é™æ€å˜é‡èµ‹å€¼ä¹Ÿæ²¡æœ‰é™æ€è¯­å¥å—ï¼Œé‚£ä¹ˆç¼–è¯‘<br>å™¨å¯ä»¥ä¸ä¸ºè¿™ä¸ªç±»ç”Ÿæˆ<client>()æ–¹æ³•ã€‚<br>æ³¨æ„ä»¥ä¸‹å‡ ç§æƒ…å†µä¸ä¼šæ‰§è¡Œç±»åˆå§‹åŒ–ï¼š</client></client></client></client></client></p><ol><li>é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å­—æ®µï¼Œåªä¼šè§¦å‘çˆ¶ç±»çš„åˆå§‹åŒ–ï¼Œè€Œä¸ä¼šè§¦å‘å­ç±»çš„åˆå§‹åŒ–ã€‚</li><li>å®šä¹‰å¯¹è±¡æ•°ç»„ï¼Œä¸ä¼šè§¦å‘è¯¥ç±»çš„åˆå§‹åŒ–ã€‚</li><li>å¸¸é‡åœ¨ç¼–è¯‘æœŸé—´ä¼šå­˜å…¥è°ƒç”¨ç±»çš„å¸¸é‡æ± ä¸­ï¼Œæœ¬è´¨ä¸Šå¹¶æ²¡æœ‰ç›´æ¥å¼•ç”¨å®šä¹‰å¸¸é‡çš„ç±»ï¼Œä¸ä¼šè§¦<br>å‘å®šä¹‰å¸¸é‡æ‰€åœ¨çš„ç±»ã€‚</li><li>é€šè¿‡ç±»åè·å– Class å¯¹è±¡ï¼Œä¸ä¼šè§¦å‘ç±»çš„åˆå§‹åŒ–ã€‚</li><li>é€šè¿‡ Class.forName åŠ è½½æŒ‡å®šç±»æ—¶ï¼Œå¦‚æœæŒ‡å®šå‚æ•° initialize ä¸º false æ—¶ï¼Œä¹Ÿä¸ä¼šè§¦å‘ç±»åˆ<br>å§‹åŒ–ï¼Œå…¶å®è¿™ä¸ªå‚æ•°æ˜¯å‘Šè¯‰è™šæ‹Ÿæœºï¼Œæ˜¯å¦è¦å¯¹ç±»è¿›è¡Œåˆå§‹åŒ–ã€‚</li><li>é€šè¿‡ ClassLoader é»˜è®¤çš„ loadClass æ–¹æ³•ï¼Œä¹Ÿä¸ä¼šè§¦å‘åˆå§‹åŒ–åŠ¨ä½œã€‚</li></ol><h3 id="ç±»åŠ è½½å™¨"><a href="#ç±»åŠ è½½å™¨" class="headerlink" title="ç±»åŠ è½½å™¨"></a>ç±»åŠ è½½å™¨</h3><p>è™šæ‹Ÿæœºè®¾è®¡å›¢é˜ŸæŠŠåŠ è½½åŠ¨ä½œæ”¾åˆ° JVM å¤–éƒ¨å®ç°ï¼Œä»¥ä¾¿è®©åº”ç”¨ç¨‹åºå†³å®šå¦‚ä½•è·å–æ‰€éœ€çš„ç±»ï¼ŒJVM æä¾›äº† 3 ç§ç±»åŠ è½½å™¨ï¼š</p><h4 id="å¯åŠ¨ç±»åŠ è½½å™¨-Bootstrap-ClassLoader"><a href="#å¯åŠ¨ç±»åŠ è½½å™¨-Bootstrap-ClassLoader" class="headerlink" title="å¯åŠ¨ç±»åŠ è½½å™¨(Bootstrap ClassLoader)"></a>å¯åŠ¨ç±»åŠ è½½å™¨(Bootstrap ClassLoader)</h4><ol><li>è´Ÿè´£åŠ è½½ JAVA_HOME\lib ç›®å½•ä¸­çš„ï¼Œæˆ–é€šè¿‡-Xbootclasspath å‚æ•°æŒ‡å®šè·¯å¾„ä¸­çš„ï¼Œä¸”è¢«<br>è™šæ‹Ÿæœºè®¤å¯ï¼ˆæŒ‰æ–‡ä»¶åè¯†åˆ«ï¼Œå¦‚ rt.jarï¼‰çš„ç±»ã€‚</li></ol><h4 id="æ‰©å±•ç±»åŠ è½½å™¨-Extension-ClassLoader"><a href="#æ‰©å±•ç±»åŠ è½½å™¨-Extension-ClassLoader" class="headerlink" title="æ‰©å±•ç±»åŠ è½½å™¨(Extension ClassLoader)"></a>æ‰©å±•ç±»åŠ è½½å™¨(Extension ClassLoader)</h4><ol start="2"><li>è´Ÿè´£åŠ è½½ JAVA_HOME\lib\ext ç›®å½•ä¸­çš„ï¼Œæˆ–é€šè¿‡ java.ext.dirs ç³»ç»Ÿå˜é‡æŒ‡å®šè·¯å¾„ä¸­çš„ç±»<br>åº“ã€‚</li></ol><h4 id="åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨-Application-ClassLoader-ï¼š"><a href="#åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨-Application-ClassLoader-ï¼š" class="headerlink" title="åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨(Application ClassLoader)ï¼š"></a>åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨(Application ClassLoader)ï¼š</h4><ol start="3"><li>è´Ÿè´£åŠ è½½ç”¨æˆ·è·¯å¾„ï¼ˆclasspathï¼‰ä¸Šçš„ç±»åº“ã€‚<br>JVM é€šè¿‡åŒäº²å§”æ´¾æ¨¡å‹è¿›è¡Œç±»çš„åŠ è½½ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ç»§æ‰¿ java.lang.ClassLoader<br>å®ç°è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨ã€‚</li></ol><h3 id="åŒäº²å§”æ´¾"><a href="#åŒäº²å§”æ´¾" class="headerlink" title="åŒäº²å§”æ´¾"></a>åŒäº²å§”æ´¾</h3><p>å½“ä¸€ä¸ªç±»æ”¶åˆ°äº†ç±»åŠ è½½è¯·æ±‚ï¼Œä»–é¦–å…ˆä¸ä¼šå°è¯•è‡ªå·±å»åŠ è½½è¿™ä¸ªç±»ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚å§”æ´¾ç»™çˆ¶ç±»å»å®Œæˆï¼Œæ¯ä¸€ä¸ªå±‚æ¬¡ç±»åŠ è½½å™¨éƒ½æ˜¯å¦‚æ­¤ï¼Œå› æ­¤æ‰€æœ‰çš„åŠ è½½è¯·æ±‚éƒ½åº”è¯¥ä¼ é€åˆ°å¯åŠ¨ç±»åŠ è½½å…¶ä¸­ï¼Œåªæœ‰å½“çˆ¶ç±»åŠ è½½å™¨åé¦ˆè‡ªå·±æ— æ³•å®Œæˆè¿™ä¸ªè¯·æ±‚çš„æ—¶å€™ï¼ˆåœ¨å®ƒçš„åŠ è½½è·¯å¾„ä¸‹æ²¡æœ‰æ‰¾åˆ°æ‰€éœ€åŠ è½½çš„Classï¼‰ï¼Œå­ç±»åŠ è½½å™¨æ‰ä¼šå°è¯•è‡ªå·±å»åŠ è½½ã€‚é‡‡ç”¨åŒäº²å§”æ´¾çš„ä¸€ä¸ªå¥½å¤„æ˜¯æ¯”å¦‚åŠ è½½ä½äºrt.jaråŒ…ä¸­çš„ç±» java.lang.Objectï¼Œä¸ç®¡æ˜¯å“ªä¸ªåŠ è½½å™¨åŠ è½½è¿™ä¸ªç±»ï¼Œæœ€ç»ˆéƒ½æ˜¯å§”æ‰˜ç»™é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨è¿›è¡ŒåŠ è½½ï¼Œè¿™æ ·å°±ä¿è¯äº†ä½¿ç”¨ä¸åŒçš„ç±»åŠ è½½å™¨æœ€ç»ˆå¾—åˆ°çš„éƒ½æ˜¯åŒæ ·ä¸€ä¸ª Object å¯¹è±¡ã€‚</p><h3 id="OSGIï¼ˆåŠ¨æ€æ¨¡å‹ç³»ç»Ÿï¼‰"><a href="#OSGIï¼ˆåŠ¨æ€æ¨¡å‹ç³»ç»Ÿï¼‰" class="headerlink" title="OSGIï¼ˆåŠ¨æ€æ¨¡å‹ç³»ç»Ÿï¼‰"></a>OSGIï¼ˆåŠ¨æ€æ¨¡å‹ç³»ç»Ÿï¼‰</h3><p>OSGi(Open Service Gateway Initiative)ï¼Œæ˜¯é¢å‘ Java çš„åŠ¨æ€æ¨¡å‹ç³»ç»Ÿï¼Œæ˜¯ Java åŠ¨æ€åŒ–æ¨¡å—åŒ–ç³»<br>ç»Ÿçš„ä¸€ç³»åˆ—è§„èŒƒã€‚</p><h4 id="åŠ¨æ€æ”¹å˜æ„é€ "><a href="#åŠ¨æ€æ”¹å˜æ„é€ " class="headerlink" title="åŠ¨æ€æ”¹å˜æ„é€ "></a>åŠ¨æ€æ”¹å˜æ„é€ </h4><p>OSGi æœåŠ¡å¹³å°æä¾›åœ¨å¤šç§ç½‘ç»œè®¾å¤‡ä¸Šæ— éœ€é‡å¯çš„åŠ¨æ€æ”¹å˜æ„é€ çš„åŠŸèƒ½ã€‚ä¸ºäº†æœ€å°åŒ–è€¦åˆåº¦å’Œä¿ƒä½¿<br>è¿™äº›è€¦åˆåº¦å¯ç®¡ç†ï¼ŒOSGi æŠ€æœ¯æä¾›ä¸€ç§é¢å‘æœåŠ¡çš„æ¶æ„ï¼Œå®ƒèƒ½ä½¿è¿™äº›ç»„ä»¶åŠ¨æ€åœ°å‘ç°å¯¹æ–¹ã€‚</p><h4 id="æ¨¡å—åŒ–ç¼–ç¨‹ä¸çƒ­æ’æ‹”"><a href="#æ¨¡å—åŒ–ç¼–ç¨‹ä¸çƒ­æ’æ‹”" class="headerlink" title="æ¨¡å—åŒ–ç¼–ç¨‹ä¸çƒ­æ’æ‹”"></a>æ¨¡å—åŒ–ç¼–ç¨‹ä¸çƒ­æ’æ‹”</h4><p>OSGi æ—¨åœ¨ä¸ºå®ç° Java ç¨‹åºçš„æ¨¡å—åŒ–ç¼–ç¨‹æä¾›åŸºç¡€æ¡ä»¶ï¼ŒåŸºäº OSGi çš„ç¨‹åºå¾ˆå¯èƒ½å¯ä»¥å®ç°æ¨¡å—çº§<br>çš„çƒ­æ’æ‹”åŠŸèƒ½ï¼Œå½“ç¨‹åºå‡çº§æ›´æ–°æ—¶ï¼Œå¯ä»¥åªåœç”¨ã€é‡æ–°å®‰è£…ç„¶åå¯åŠ¨ç¨‹åºçš„å…¶ä¸­ä¸€éƒ¨åˆ†ï¼Œè¿™å¯¹ä¼<br>ä¸šçº§ç¨‹åºå¼€å‘æ¥è¯´æ˜¯éå¸¸å…·æœ‰è¯±æƒ‘åŠ›çš„ç‰¹æ€§ã€‚<br>OSGi æç»˜äº†ä¸€ä¸ªå¾ˆç¾å¥½çš„æ¨¡å—åŒ–å¼€å‘ç›®æ ‡ï¼Œè€Œä¸”å®šä¹‰äº†å®ç°è¿™ä¸ªç›®æ ‡çš„æ‰€éœ€è¦æœåŠ¡ä¸æ¶æ„ï¼ŒåŒæ—¶<br>ä¹Ÿæœ‰æˆç†Ÿçš„æ¡†æ¶è¿›è¡Œå®ç°æ”¯æŒã€‚ä½†å¹¶éæ‰€æœ‰çš„åº”ç”¨éƒ½é€‚åˆé‡‡ç”¨ OSGi ä½œä¸ºåŸºç¡€æ¶æ„ï¼Œå®ƒåœ¨æä¾›å¼ºå¤§<br>åŠŸèƒ½åŒæ—¶ï¼Œä¹Ÿå¼•å…¥äº†é¢å¤–çš„å¤æ‚åº¦ï¼Œå› ä¸ºå®ƒä¸éµå®ˆäº†ç±»åŠ è½½çš„åŒäº²å§”æ‰˜æ¨¡å‹ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;JVM æ˜¯å¯è¿è¡Œ Java ä»£ç çš„å‡æƒ³è®¡ç®—æœº ï¼ŒåŒ…æ‹¬ä¸€å¥—å­—èŠ‚ç æŒ‡ä»¤é›†ã€ä¸€ç»„å¯„å­˜å™¨ã€ä¸€ä¸ªæ ˆã€&lt;br&gt;ä¸€ä¸ªåƒåœ¾å›æ”¶ï¼Œå † å’Œ ä¸€ä¸ªå­˜å‚¨æ–¹æ³•åŸŸã€‚JVM æ˜¯è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šçš„ï¼Œå®ƒä¸ç¡¬ä»¶æ²¡æœ‰ç›´æ¥&lt;br&gt;çš„äº¤äº’ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="JVM" scheme="http://yoursite.com/tags/JVM/"/>
    
  </entry>
  
  <entry>
    <title>875. çˆ±åƒé¦™è•‰çš„ç‚ç‚</title>
    <link href="http://yoursite.com/2021/12/17/875.%20%E7%88%B1%E5%90%83%E9%A6%99%E8%95%89%E7%9A%84%E7%8F%82%E7%8F%82/"/>
    <id>http://yoursite.com/2021/12/17/875. çˆ±åƒé¦™è•‰çš„ç‚ç‚/</id>
    <published>2021-12-17T11:30:12.000Z</published>
    <updated>2021-12-17T11:16:14.922Z</updated>
    
    <content type="html"><![CDATA[<p>è¿”å›å¥¹å¯ä»¥åœ¨ H å°æ—¶å†…åƒæ‰æ‰€æœ‰é¦™è•‰çš„æœ€å°é€Ÿåº¦ Kï¼ˆK ä¸ºæ•´æ•°ï¼‰ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç‚ç‚å–œæ¬¢åƒé¦™è•‰ã€‚è¿™é‡Œæœ‰ N å †é¦™è•‰ï¼Œç¬¬ i å †ä¸­æœ‰ piles[i] æ ¹é¦™è•‰ã€‚è­¦å«å·²ç»ç¦»å¼€äº†ï¼Œå°†åœ¨ H å°æ—¶åå›æ¥ã€‚</p><p>ç‚ç‚å¯ä»¥å†³å®šå¥¹åƒé¦™è•‰çš„é€Ÿåº¦ K ï¼ˆå•ä½ï¼šæ ¹/å°æ—¶ï¼‰ã€‚æ¯ä¸ªå°æ—¶ï¼Œå¥¹å°†ä¼šé€‰æ‹©ä¸€å †é¦™è•‰ï¼Œä»ä¸­åƒæ‰ K æ ¹ã€‚å¦‚æœè¿™å †é¦™è•‰å°‘äº K æ ¹ï¼Œå¥¹å°†åƒæ‰è¿™å †çš„æ‰€æœ‰é¦™è•‰ï¼Œç„¶åè¿™ä¸€å°æ—¶å†…ä¸ä¼šå†åƒæ›´å¤šçš„é¦™è•‰ã€‚  </p><p>ç‚ç‚å–œæ¬¢æ…¢æ…¢åƒï¼Œä½†ä»ç„¶æƒ³åœ¨è­¦å«å›æ¥å‰åƒæ‰æ‰€æœ‰çš„é¦™è•‰ã€‚</p><p>è¿”å›å¥¹å¯ä»¥åœ¨ H å°æ—¶å†…åƒæ‰æ‰€æœ‰é¦™è•‰çš„æœ€å°é€Ÿåº¦ Kï¼ˆK ä¸ºæ•´æ•°ï¼‰ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥: piles = [3,6,7,11], H = 8è¾“å‡º: 4</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥: piles = [30,11,23,4,20], H = 5è¾“å‡º: 30</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥: piles = [30,11,23,4,20], H = 6è¾“å‡º: 23</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= piles.length &lt;= 10^4piles.length &lt;= H &lt;= 10^91 &lt;= piles[i] &lt;= 10^9</code></pre><h1 id="äºŒåˆ†æŸ¥æ‰¾-1"><a href="#äºŒåˆ†æŸ¥æ‰¾-1" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾^1"></a>äºŒåˆ†æŸ¥æ‰¾<a href="https://leetcode-cn.com/problems/koko-eating-bananas/solution/ai-chi-xiang-jiao-de-ke-ke-by-leetcode/" target="_blank" rel="noopener">^1</a></h1><p><strong>æ€è·¯</strong></p><p>å¦‚æœç‚ç‚èƒ½ä»¥ <code>K</code> çš„è¿›é£Ÿé€Ÿåº¦æœ€ç»ˆåƒå®Œæ‰€æœ‰çš„é¦™è•‰ï¼ˆåœ¨ <code>H</code> å°æ—¶å†…ï¼‰ï¼Œé‚£ä¹ˆå¥¹ä¹Ÿå¯ä»¥ç”¨æ›´å¿«çš„é€Ÿåº¦åƒå®Œã€‚</p><p>å½“ç‚ç‚èƒ½ä»¥ <code>K</code> çš„è¿›é£Ÿé€Ÿåº¦åƒå®Œé¦™è•‰æ—¶ï¼Œæˆ‘ä»¬ä»¤ <code>possible(K)</code> ä¸º <code>true</code>ï¼Œé‚£ä¹ˆå°±å­˜åœ¨ <code>X</code> ä½¿å¾—å½“ <code>K &gt;= X</code> æ—¶ï¼Œ <code>possible(K) = True</code>ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå½“åˆå§‹æ¡ä»¶ä¸º <code>piles = [3, 6, 7, 11]</code> å’Œ <code>H = 8</code> æ—¶ï¼Œå­˜åœ¨ <code>X = 4</code> ä½¿å¾— <code>possible(1) = possible(2) = possible(3) = False</code>ï¼Œä¸” <code>possible(4) = possible(5) = ... = True</code>ã€‚</p><p><strong>ç®—æ³•</strong></p><p>æˆ‘ä»¬å¯ä»¥äºŒåˆ†æŸ¥æ‰¾ <code>possible(K)</code> çš„å€¼æ¥æ‰¾åˆ°ç¬¬ä¸€ä¸ªä½¿å¾— <code>possible(X)</code> ä¸º <code>True</code> çš„ <code>X</code>ï¼šè¿™å°†æ˜¯æˆ‘ä»¬çš„ç­”æ¡ˆã€‚æˆ‘ä»¬çš„å¾ªç¯ä¸­ï¼Œä¸å˜é‡ <code>possible(hi)</code> æ€»ä¸º <code>True</code>ï¼Œ <code>lo</code> æ€»å°äºç­‰äºç­”æ¡ˆã€‚æœ‰å…³äºŒåˆ†æŸ¥æ‰¾çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://leetcode-cn.com/explore/learn/card/binary-search/" target="_blank" rel="noopener">ã€ŠåŠ›æ‰£æ¢ç´¢ï¼šäºŒåˆ†æŸ¥æ‰¾ã€‹</a>ã€‚</p><p>ä¸ºäº†æ‰¾åˆ° <code>possible(K)</code> çš„å€¼ï¼Œ (å³<code>ç‚ç‚</code>æ˜¯å¦èƒ½ä»¥ <code>K</code> çš„è¿›é£Ÿé€Ÿåº¦åœ¨ <code>H</code> å°æ—¶å†…åƒå®Œæ‰€æœ‰çš„é¦™è•‰ï¼‰ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿè¿™ä¸€æƒ…æ™¯ã€‚å¯¹äºæ¯ä¸€å †ï¼ˆå¤§å° <code>p &gt; 0</code>ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥æ¨æ–­å‡ºç‚ç‚å°†åœ¨ <code>Math.ceil(p / K) = ((p-1) // K) + 1</code> å°æ—¶å†…åƒå®Œè¿™ä¸€å †ï¼Œæˆ‘ä»¬å°†æ¯ä¸€å †çš„å®Œæˆæ—¶é—´åŠ åœ¨ä¸€èµ·å¹¶ä¸ <code>H</code> è¿›è¡Œæ¯”è¾ƒã€‚</p><details>    <summary>cpp</summary><figure class="highlight cpp"><figcaption><span>[2q2E5AzB-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minEatingSpeed</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; piles, <span class="keyword">int</span> H)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> lo = <span class="number">1</span>, hi = <span class="built_in">pow</span>(<span class="number">10</span>, <span class="number">9</span>);</span><br><span class="line">        <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">            <span class="keyword">int</span> mi = lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (!possible(piles, H, mi))</span><br><span class="line">                lo = mi + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                hi = mi;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> lo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Can Koko eat all bananas in H hours with eating speed K?</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">possible</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; piles, <span class="keyword">int</span> H, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> time = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> p: piles)</span><br><span class="line">            time += (p - <span class="number">1</span>) / K + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> time &lt;= H;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[2q2E5AzB-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minEatingSpeed</span><span class="params">(<span class="keyword">int</span>[] piles, <span class="keyword">int</span> H)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> lo = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> hi = <span class="number">1_000_000_000</span>;</span><br><span class="line">        <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">            <span class="keyword">int</span> mi = (lo + hi) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (!possible(piles, H, mi))</span><br><span class="line">                lo = mi + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                hi = mi;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> lo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Can Koko eat all bananas in H hours with eating speed K?</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">possible</span><span class="params">(<span class="keyword">int</span>[] piles, <span class="keyword">int</span> H, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> time = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> p: piles)</span><br><span class="line">            time += (p-<span class="number">1</span>) / K + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> time &lt;= H;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[2q2E5AzB-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minEatingSpeed</span><span class="params">(self, piles, H)</span>:</span></span><br><span class="line">        <span class="comment"># Can Koko eat all bananas in H hours with eating speed K?</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">possible</span><span class="params">(K)</span>:</span></span><br><span class="line">            <span class="keyword">return</span> sum((p<span class="number">-1</span>) / K + <span class="number">1</span> <span class="keyword">for</span> p <span class="keyword">in</span> piles) &lt;= H</span><br><span class="line"></span><br><span class="line">        lo, hi = <span class="number">1</span>, max(piles)</span><br><span class="line">        <span class="keyword">while</span> lo &lt; hi:</span><br><span class="line">            mi = (lo + hi) / <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> possible(mi):</span><br><span class="line">                lo = mi + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                hi = mi</span><br><span class="line">        <span class="keyword">return</span> lo</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿”å›å¥¹å¯ä»¥åœ¨ H å°æ—¶å†…åƒæ‰æ‰€æœ‰é¦™è•‰çš„æœ€å°é€Ÿåº¦ Kï¼ˆK ä¸ºæ•´æ•°ï¼‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡ Offer II 073. ç‹’ç‹’åƒé¦™è•‰</title>
    <link href="http://yoursite.com/2021/12/17/%E5%89%91%E6%8C%87%20Offer%20II%20073.%20%E7%8B%92%E7%8B%92%E5%90%83%E9%A6%99%E8%95%89/"/>
    <id>http://yoursite.com/2021/12/17/å‰‘æŒ‡ Offer II 073. ç‹’ç‹’åƒé¦™è•‰/</id>
    <published>2021-12-17T11:30:12.000Z</published>
    <updated>2021-12-17T11:16:09.347Z</updated>
    
    <content type="html"><![CDATA[<p>è¿”å›å¥¹å¯ä»¥åœ¨ H å°æ—¶å†…åƒæ‰æ‰€æœ‰é¦™è•‰çš„æœ€å°é€Ÿåº¦ Kï¼ˆK ä¸ºæ•´æ•°ï¼‰ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç‚ç‚å–œæ¬¢åƒé¦™è•‰ã€‚è¿™é‡Œæœ‰ N å †é¦™è•‰ï¼Œç¬¬ i å †ä¸­æœ‰ piles[i] æ ¹é¦™è•‰ã€‚è­¦å«å·²ç»ç¦»å¼€äº†ï¼Œå°†åœ¨ H å°æ—¶åå›æ¥ã€‚</p><p>ç‚ç‚å¯ä»¥å†³å®šå¥¹åƒé¦™è•‰çš„é€Ÿåº¦ K ï¼ˆå•ä½ï¼šæ ¹/å°æ—¶ï¼‰ã€‚æ¯ä¸ªå°æ—¶ï¼Œå¥¹å°†ä¼šé€‰æ‹©ä¸€å †é¦™è•‰ï¼Œä»ä¸­åƒæ‰ K æ ¹ã€‚å¦‚æœè¿™å †é¦™è•‰å°‘äº K æ ¹ï¼Œå¥¹å°†åƒæ‰è¿™å †çš„æ‰€æœ‰é¦™è•‰ï¼Œç„¶åè¿™ä¸€å°æ—¶å†…ä¸ä¼šå†åƒæ›´å¤šçš„é¦™è•‰ã€‚  </p><p>ç‚ç‚å–œæ¬¢æ…¢æ…¢åƒï¼Œä½†ä»ç„¶æƒ³åœ¨è­¦å«å›æ¥å‰åƒæ‰æ‰€æœ‰çš„é¦™è•‰ã€‚</p><p>è¿”å›å¥¹å¯ä»¥åœ¨ H å°æ—¶å†…åƒæ‰æ‰€æœ‰é¦™è•‰çš„æœ€å°é€Ÿåº¦ Kï¼ˆK ä¸ºæ•´æ•°ï¼‰ã€‚</p><p>æ³¨æ„ï¼šæœ¬é¢˜ä¸<a href="https://leetcode-cn.com/problems/nZZqjQ/" target="_blank" rel="noopener">875. çˆ±åƒé¦™è•‰çš„ç‚ç‚</a>ç›¸åŒ</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥: piles = [3,6,7,11], H = 8è¾“å‡º: 4</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥: piles = [30,11,23,4,20], H = 5è¾“å‡º: 30</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥: piles = [30,11,23,4,20], H = 6è¾“å‡º: 23</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= piles.length &lt;= 10^4piles.length &lt;= H &lt;= 10^91 &lt;= piles[i] &lt;= 10^9</code></pre><h1 id="äºŒåˆ†æŸ¥æ‰¾-1"><a href="#äºŒåˆ†æŸ¥æ‰¾-1" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾^1"></a>äºŒåˆ†æŸ¥æ‰¾<a href="https://leetcode-cn.com/problems/koko-eating-bananas/solution/ai-chi-xiang-jiao-de-ke-ke-by-leetcode/" target="_blank" rel="noopener">^1</a></h1><p><strong>æ€è·¯</strong></p><p>å¦‚æœç‚ç‚èƒ½ä»¥ <code>K</code> çš„è¿›é£Ÿé€Ÿåº¦æœ€ç»ˆåƒå®Œæ‰€æœ‰çš„é¦™è•‰ï¼ˆåœ¨ <code>H</code> å°æ—¶å†…ï¼‰ï¼Œé‚£ä¹ˆå¥¹ä¹Ÿå¯ä»¥ç”¨æ›´å¿«çš„é€Ÿåº¦åƒå®Œã€‚</p><p>å½“ç‚ç‚èƒ½ä»¥ <code>K</code> çš„è¿›é£Ÿé€Ÿåº¦åƒå®Œé¦™è•‰æ—¶ï¼Œæˆ‘ä»¬ä»¤ <code>possible(K)</code> ä¸º <code>true</code>ï¼Œé‚£ä¹ˆå°±å­˜åœ¨ <code>X</code> ä½¿å¾—å½“ <code>K &gt;= X</code> æ—¶ï¼Œ <code>possible(K) = True</code>ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå½“åˆå§‹æ¡ä»¶ä¸º <code>piles = [3, 6, 7, 11]</code> å’Œ <code>H = 8</code> æ—¶ï¼Œå­˜åœ¨ <code>X = 4</code> ä½¿å¾— <code>possible(1) = possible(2) = possible(3) = False</code>ï¼Œä¸” <code>possible(4) = possible(5) = ... = True</code>ã€‚</p><p><strong>ç®—æ³•</strong></p><p>æˆ‘ä»¬å¯ä»¥äºŒåˆ†æŸ¥æ‰¾ <code>possible(K)</code> çš„å€¼æ¥æ‰¾åˆ°ç¬¬ä¸€ä¸ªä½¿å¾— <code>possible(X)</code> ä¸º <code>True</code> çš„ <code>X</code>ï¼šè¿™å°†æ˜¯æˆ‘ä»¬çš„ç­”æ¡ˆã€‚æˆ‘ä»¬çš„å¾ªç¯ä¸­ï¼Œä¸å˜é‡ <code>possible(hi)</code> æ€»ä¸º <code>True</code>ï¼Œ <code>lo</code> æ€»å°äºç­‰äºç­”æ¡ˆã€‚æœ‰å…³äºŒåˆ†æŸ¥æ‰¾çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="https://leetcode-cn.com/explore/learn/card/binary-search/" target="_blank" rel="noopener">ã€ŠåŠ›æ‰£æ¢ç´¢ï¼šäºŒåˆ†æŸ¥æ‰¾ã€‹</a>ã€‚</p><p>ä¸ºäº†æ‰¾åˆ° <code>possible(K)</code> çš„å€¼ï¼Œ (å³<code>ç‚ç‚</code>æ˜¯å¦èƒ½ä»¥ <code>K</code> çš„è¿›é£Ÿé€Ÿåº¦åœ¨ <code>H</code> å°æ—¶å†…åƒå®Œæ‰€æœ‰çš„é¦™è•‰ï¼‰ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿè¿™ä¸€æƒ…æ™¯ã€‚å¯¹äºæ¯ä¸€å †ï¼ˆå¤§å° <code>p &gt; 0</code>ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥æ¨æ–­å‡ºç‚ç‚å°†åœ¨ <code>Math.ceil(p / K) = ((p-1) // K) + 1</code> å°æ—¶å†…åƒå®Œè¿™ä¸€å †ï¼Œæˆ‘ä»¬å°†æ¯ä¸€å †çš„å®Œæˆæ—¶é—´åŠ åœ¨ä¸€èµ·å¹¶ä¸ <code>H</code> è¿›è¡Œæ¯”è¾ƒã€‚</p><details>    <summary>cpp</summary><figure class="highlight cpp"><figcaption><span>[2q2E5AzB-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minEatingSpeed</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; piles, <span class="keyword">int</span> H)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> lo = <span class="number">1</span>, hi = <span class="built_in">pow</span>(<span class="number">10</span>, <span class="number">9</span>);</span><br><span class="line">        <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">            <span class="keyword">int</span> mi = lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (!possible(piles, H, mi))</span><br><span class="line">                lo = mi + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                hi = mi;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> lo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Can Koko eat all bananas in H hours with eating speed K?</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">possible</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; piles, <span class="keyword">int</span> H, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> time = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> p: piles)</span><br><span class="line">            time += (p - <span class="number">1</span>) / K + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> time &lt;= H;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[2q2E5AzB-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minEatingSpeed</span><span class="params">(<span class="keyword">int</span>[] piles, <span class="keyword">int</span> H)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> lo = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> hi = <span class="number">1_000_000_000</span>;</span><br><span class="line">        <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">            <span class="keyword">int</span> mi = (lo + hi) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (!possible(piles, H, mi))</span><br><span class="line">                lo = mi + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                hi = mi;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> lo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Can Koko eat all bananas in H hours with eating speed K?</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">possible</span><span class="params">(<span class="keyword">int</span>[] piles, <span class="keyword">int</span> H, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> time = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> p: piles)</span><br><span class="line">            time += (p-<span class="number">1</span>) / K + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> time &lt;= H;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[2q2E5AzB-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minEatingSpeed</span><span class="params">(self, piles, H)</span>:</span></span><br><span class="line">        <span class="comment"># Can Koko eat all bananas in H hours with eating speed K?</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">possible</span><span class="params">(K)</span>:</span></span><br><span class="line">            <span class="keyword">return</span> sum((p<span class="number">-1</span>) / K + <span class="number">1</span> <span class="keyword">for</span> p <span class="keyword">in</span> piles) &lt;= H</span><br><span class="line"></span><br><span class="line">        lo, hi = <span class="number">1</span>, max(piles)</span><br><span class="line">        <span class="keyword">while</span> lo &lt; hi:</span><br><span class="line">            mi = (lo + hi) / <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> possible(mi):</span><br><span class="line">                lo = mi + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                hi = mi</span><br><span class="line">        <span class="keyword">return</span> lo</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿”å›å¥¹å¯ä»¥åœ¨ H å°æ—¶å†…åƒæ‰æ‰€æœ‰é¦™è•‰çš„æœ€å°é€Ÿåº¦ Kï¼ˆK ä¸ºæ•´æ•°ï¼‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
  </entry>
  
  <entry>
    <title>403. é’è›™è¿‡æ²³</title>
    <link href="http://yoursite.com/2021/12/17/403.%20%E9%9D%92%E8%9B%99%E8%BF%87%E6%B2%B3/"/>
    <id>http://yoursite.com/2021/12/17/403. é’è›™è¿‡æ²³/</id>
    <published>2021-12-17T07:30:12.000Z</published>
    <updated>2021-12-17T10:33:56.730Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€åªé’è›™æƒ³è¦è¿‡æ²³ã€‚ å‡å®šæ²³æµè¢«ç­‰åˆ†ä¸ºè‹¥å¹²ä¸ªå•å…ƒæ ¼ï¼Œå¹¶ä¸”åœ¨æ¯ä¸€ä¸ªå•å…ƒæ ¼å†…éƒ½æœ‰å¯èƒ½æ”¾æœ‰ä¸€å—çŸ³å­ï¼ˆä¹Ÿæœ‰å¯èƒ½æ²¡æœ‰ï¼‰ã€‚ é’è›™å¯ä»¥è·³ä¸ŠçŸ³å­ï¼Œä½†æ˜¯ä¸å¯ä»¥è·³å…¥æ°´ä¸­ã€‚</p><p>ç»™ä½ çŸ³å­çš„ä½ç½®åˆ—è¡¨ stonesï¼ˆç”¨å•å…ƒæ ¼åºå· å‡åº è¡¨ç¤ºï¼‰ï¼Œ è¯·åˆ¤å®šé’è›™èƒ½å¦æˆåŠŸè¿‡æ²³ï¼ˆå³èƒ½å¦åœ¨æœ€åä¸€æ­¥è·³è‡³æœ€åä¸€å—çŸ³å­ä¸Šï¼‰ã€‚</p><a id="more"></a><p>[TOC]</p><p>å¼€å§‹æ—¶ï¼Œ é’è›™é»˜è®¤å·²ç«™åœ¨ç¬¬ä¸€å—çŸ³å­ä¸Šï¼Œå¹¶å¯ä»¥å‡å®šå®ƒç¬¬ä¸€æ­¥åªèƒ½è·³è·ƒä¸€ä¸ªå•ä½ï¼ˆå³åªèƒ½ä»å•å…ƒæ ¼ 1 è·³è‡³å•å…ƒæ ¼ 2 ï¼‰ã€‚</p><p>å¦‚æœé’è›™ä¸Šä¸€æ­¥è·³è·ƒäº† k ä¸ªå•ä½ï¼Œé‚£ä¹ˆå®ƒæ¥ä¸‹æ¥çš„è·³è·ƒè·ç¦»åªèƒ½é€‰æ‹©ä¸º k - 1ã€k æˆ– k + 1 ä¸ªå•ä½ã€‚ å¦è¯·æ³¨æ„ï¼Œé’è›™åªèƒ½å‘å‰æ–¹ï¼ˆç»ˆç‚¹çš„æ–¹å‘ï¼‰è·³è·ƒã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šstones = [0,1,3,5,6,8,12,17]è¾“å‡ºï¼štrueè§£é‡Šï¼šé’è›™å¯ä»¥æˆåŠŸè¿‡æ²³ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ–¹æ¡ˆè·³è·ƒï¼šè·³ 1 ä¸ªå•ä½åˆ°ç¬¬ 2 å—çŸ³å­, ç„¶åè·³ 2 ä¸ªå•ä½åˆ°ç¬¬ 3 å—çŸ³å­, æ¥ç€ è·³ 2 ä¸ªå•ä½åˆ°ç¬¬ 4 å—çŸ³å­, ç„¶åè·³ 3 ä¸ªå•ä½åˆ°ç¬¬ 6 å—çŸ³å­, è·³ 4 ä¸ªå•ä½åˆ°ç¬¬ 7 å—çŸ³å­, æœ€åï¼Œè·³ 5 ä¸ªå•ä½åˆ°ç¬¬ 8 ä¸ªçŸ³å­ï¼ˆå³æœ€åä¸€å—çŸ³å­ï¼‰ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šstones = [0,1,2,3,4,8,9,11]è¾“å‡ºï¼šfalseè§£é‡Šï¼šè¿™æ˜¯å› ä¸ºç¬¬ 5 å’Œç¬¬ 6 ä¸ªçŸ³å­ä¹‹é—´çš„é—´è·å¤ªå¤§ï¼Œæ²¡æœ‰å¯é€‰çš„æ–¹æ¡ˆä¾›é’è›™è·³è·ƒè¿‡å»ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>2 &lt;= stones.length &lt;= 20000 &lt;= stones[i] &lt;= 231 - 1stones[0] == 0</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢-äºŒåˆ†æŸ¥æ‰¾-1"><a href="#æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢-äºŒåˆ†æŸ¥æ‰¾-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢ + äºŒåˆ†æŸ¥æ‰¾^1"></a>æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢ + äºŒåˆ†æŸ¥æ‰¾<a href="https://leetcode-cn.com/problems/frog-jump/solution/qing-wa-guo-he-by-leetcode-solution-mbuo/" target="_blank" rel="noopener">^1</a></h1><p><strong>æ€è·¯åŠç®—æ³•</strong></p><p>æœ€ç›´æ¥çš„æƒ³æ³•æ˜¯ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢çš„æ–¹å¼å°è¯•æ‰€æœ‰è·³è·ƒæ–¹æ¡ˆï¼Œç›´åˆ°æˆ‘ä»¬æ‰¾åˆ°ä¸€ç»„å¯è¡Œè§£ä¸ºæ­¢ã€‚ä½†æ˜¯ä¸åŠ ä¼˜åŒ–çš„è¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åœ¨æœ€åæƒ…å†µä¸‹æ˜¯æŒ‡æ•°çº§çš„ï¼Œå› æ­¤è€ƒè™‘ä¼˜åŒ–ã€‚</p><p>æ³¨æ„åˆ°å½“é’è›™æ¯æ¬¡èƒ½å¤Ÿè·³è·ƒçš„è·ç¦»ä»…å–å†³äºé’è›™çš„ã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€ã€‚è€Œé’è›™æ­¤åèƒ½å¦åˆ°è¾¾ç»ˆç‚¹ï¼Œåªå’Œå®ƒã€Œç°åœ¨æ‰€å¤„çš„çŸ³å­ç¼–å·ã€ä»¥åŠã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€æœ‰å…³ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸¤ä¸ªç»´åº¦ç»¼åˆè®°å½•ä¸ºä¸€ä¸ªçŠ¶æ€ã€‚ä½¿ç”¨è®°å¿†åŒ–æœç´¢çš„æ–¹å¼ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ã€‚</p><p>å…·ä½“åœ°ï¼Œå½“é’è›™ä½äºç¬¬ <em>i</em> ä¸ªçŸ³å­ï¼Œä¸Šæ¬¡è·³è·ƒè·ç¦»ä¸º lastDis æ—¶ï¼Œå®ƒå½“å‰èƒ½å¤Ÿè·³è·ƒçš„è·ç¦»èŒƒå›´ä¸º[lastDis-1,lastDis+1]ã€‚æˆ‘ä»¬éœ€è¦åˆ†åˆ«åˆ¤æ–­è¿™ä¸‰ä¸ªè·ç¦»å¯¹åº”çš„ä¸‰ä¸ªä½ç½®æ˜¯å¦å­˜åœ¨çŸ³å­ã€‚æ³¨æ„åˆ°ç»™å®šçš„çŸ³å­åˆ—è¡¨ä¸ºå‡åºï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥ä¼˜åŒ–æŸ¥æ‰¾çŸ³å­çš„æ—¶é—´å¤æ‚åº¦ã€‚æ¯æ¬¡æˆ‘ä»¬æ‰¾åˆ°äº†ç¬¦åˆè¦æ±‚çš„ä½ç½®ï¼Œæˆ‘ä»¬å°±å°è¯•è¿›è¡Œä¸€æ¬¡é€’å½’æœç´¢å³å¯ã€‚</p><p>ä¸ºäº†ä¼˜åŒ–ç¼–ç ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºé’è›™çš„åˆå§‹çŠ¶æ€ä¸ºï¼šã€Œç°åœ¨æ‰€å¤„çš„çŸ³å­ç¼–å·ã€ä¸º <em>0</em>ï¼ˆçŸ³å­ä» <em>0</em> å¼€å§‹ç¼–å·ï¼‰ï¼Œã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€ä¸º <em>0</em>ï¼ˆè¿™æ ·å¯ä»¥ä¿è¯é’è›™çš„ç¬¬ä¸€æ¬¡è·³è·ƒè·ç¦»ä¸º <em>1</em>ï¼‰ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; rec;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; stones, <span class="keyword">int</span> i, <span class="keyword">int</span> lastDis)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (i == stones.size() - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (rec[i].count(lastDis)) &#123;</span><br><span class="line">            <span class="keyword">return</span> rec[i][lastDis];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> curDis = lastDis - <span class="number">1</span>; curDis &lt;= lastDis + <span class="number">1</span>; curDis++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (curDis &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">int</span> j = lower_bound(stones.begin(), stones.end(), curDis + stones[i]) - stones.begin();</span><br><span class="line">                <span class="keyword">if</span> (j != stones.size() &amp;&amp; stones[j] == curDis + stones[i] &amp;&amp; dfs(stones, j, curDis)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> rec[i][lastDis] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> rec[i][lastDis] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canCross</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; stones)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = stones.size();</span><br><span class="line">        rec.resize(n);</span><br><span class="line">        <span class="keyword">return</span> dfs(stones, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Boolean[][] rec;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canCross</span><span class="params">(<span class="keyword">int</span>[] stones)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = stones.length;</span><br><span class="line">        rec = <span class="keyword">new</span> Boolean[n][n];</span><br><span class="line">        <span class="keyword">return</span> dfs(stones, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[] stones, <span class="keyword">int</span> i, <span class="keyword">int</span> lastDis)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (i == stones.length - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (rec[i][lastDis] != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> rec[i][lastDis];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> curDis = lastDis - <span class="number">1</span>; curDis &lt;= lastDis + <span class="number">1</span>; curDis++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (curDis &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">int</span> j = Arrays.binarySearch(stones, i + <span class="number">1</span>, stones.length, curDis + stones[i]);</span><br><span class="line">                <span class="keyword">if</span> (j &gt;= <span class="number">0</span> &amp;&amp; dfs(stones, j, curDis)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> rec[i][lastDis] = <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> rec[i][lastDis] = <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> canCross = <span class="function"><span class="keyword">function</span>(<span class="params">stones</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = stones.length;</span><br><span class="line">    rec = <span class="keyword">new</span> <span class="built_in">Array</span>(n).fill(<span class="number">0</span>).map(<span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Map</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> dfs = <span class="function">(<span class="params">stones, i, lastDis</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (i === stones.length - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (rec[i].has(lastDis)) &#123;</span><br><span class="line">            <span class="keyword">return</span> rec[i].get(lastDis);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> curDis = lastDis - <span class="number">1</span>; curDis &lt;= lastDis + <span class="number">1</span>; curDis++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (curDis &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">const</span> j = lower_bound(stones, curDis + stones[i]);</span><br><span class="line">                <span class="keyword">if</span> (j !== stones.length &amp;&amp; stones[j] === curDis + stones[i] &amp;&amp; dfs(stones, j, curDis)) &#123;</span><br><span class="line">                    rec[i].set(lastDis, <span class="literal">true</span>);</span><br><span class="line">                    <span class="keyword">return</span> rec[i].get(lastDis);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        rec[i].set(lastDis, <span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">return</span> rec[i].get(lastDis);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dfs(stones, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">lower_bound</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> lo = <span class="number">0</span>, hi = nums.length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">        <span class="keyword">const</span> mid = lo + <span class="built_in">Math</span>.floor((hi - lo) / <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &gt;= target) &#123;</span><br><span class="line">            hi = mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            lo = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> lo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">canCross</span><span class="params">(stones []<span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(stones)</span><br><span class="line">    dp := <span class="built_in">make</span>([]<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">bool</span>, n<span class="number">-1</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> dp &#123;</span><br><span class="line">        dp[i] = <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">bool</span>&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span> <span class="title">bool</span></span></span><br><span class="line"><span class="function">    <span class="title">dfs</span> = <span class="title">func</span><span class="params">(i, lastDis <span class="keyword">int</span>)</span> <span class="params">(res <span class="keyword">bool</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> i == n<span class="number">-1</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> res, has := dp[i][lastDis]; has &#123;</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123; dp[i][lastDis] = res &#125;()</span><br><span class="line">        <span class="keyword">for</span> curDis := lastDis - <span class="number">1</span>; curDis &lt;= lastDis+<span class="number">1</span>; curDis++ &#123;</span><br><span class="line">            <span class="keyword">if</span> curDis &gt; <span class="number">0</span> &#123;</span><br><span class="line">                j := sort.SearchInts(stones, curDis+stones[i])</span><br><span class="line">                <span class="keyword">if</span> j != n &amp;&amp; stones[j] == curDis+stones[i] &amp;&amp; dfs(j, curDis) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dfs(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> key, val;</span><br><span class="line">    UT_hash_handle hh;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span>** <span class="title">rec</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">count</span><span class="params">(struct HashTable** hashTable, <span class="keyword">int</span> ikey)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span>* <span class="title">tmp</span>;</span></span><br><span class="line">    HASH_FIND_INT(*hashTable, &amp;ikey, tmp);</span><br><span class="line">    <span class="keyword">return</span> tmp != <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">modify</span><span class="params">(struct HashTable** hashTable, <span class="keyword">int</span> ikey, <span class="keyword">int</span> ival)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span>* <span class="title">tmp</span>;</span></span><br><span class="line">    HASH_FIND_INT(*hashTable, &amp;ikey, tmp);</span><br><span class="line">    <span class="keyword">if</span> (tmp == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        tmp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct HashTable));</span><br><span class="line">        tmp-&gt;key = ikey, tmp-&gt;val = ival;</span><br><span class="line">        HASH_ADD_INT(*hashTable, key, tmp);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        tmp-&gt;val = ival;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ival;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(struct HashTable** hashTable, <span class="keyword">int</span> ikey)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span>* <span class="title">tmp</span>;</span></span><br><span class="line">    HASH_FIND_INT(*hashTable, &amp;ikey, tmp);</span><br><span class="line">    <span class="keyword">return</span> tmp-&gt;val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lower_bound</span><span class="params">(<span class="keyword">int</span>* stones, <span class="keyword">int</span> stonesSize, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = stonesSize;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (left + right) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (stones[mid] &lt; target) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>* stones, <span class="keyword">int</span> stonesSize, <span class="keyword">int</span> i, <span class="keyword">int</span> lastDis)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i == stonesSize - <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (count(&amp;rec[i], lastDis)) &#123;</span><br><span class="line">        <span class="keyword">return</span> query(&amp;rec[i], lastDis);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> curDis = lastDis - <span class="number">1</span>; curDis &lt;= lastDis + <span class="number">1</span>; curDis++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (curDis &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> j = lower_bound(stones, stonesSize, curDis + stones[i]);</span><br><span class="line">            <span class="keyword">if</span> (j != stonesSize &amp;&amp; stones[j] == curDis + stones[i] &amp;&amp; dfs(stones, stonesSize, j, curDis)) &#123;</span><br><span class="line">                <span class="keyword">return</span> modify(&amp;rec[i], lastDis, <span class="literal">true</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> modify(&amp;rec[i], lastDis, <span class="literal">false</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">canCross</span><span class="params">(<span class="keyword">int</span>* stones, <span class="keyword">int</span> stonesSize)</span> </span>&#123;</span><br><span class="line">    rec = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct HashTable*) * stonesSize);</span><br><span class="line">    <span class="built_in">memset</span>(rec, <span class="number">0</span>, <span class="keyword">sizeof</span>(struct HashTable*) * stonesSize);</span><br><span class="line">    <span class="keyword">return</span> dfs(stones, stonesSize, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"><a href="#æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"></a>æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’</h1><p><strong>æ€è·¯åŠç®—æ³•</strong></p><p>ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canCross</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; stones)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = stones.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n));</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (stones[i] - stones[i - <span class="number">1</span>] &gt; i) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i - <span class="number">1</span>; j &gt;= <span class="number">0</span>; --j) &#123;</span><br><span class="line">                <span class="keyword">int</span> k = stones[i] - stones[j];</span><br><span class="line">                <span class="keyword">if</span> (k &gt; j + <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                dp[i][k] = dp[j][k - <span class="number">1</span>] || dp[j][k] || dp[j][k + <span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (i == n - <span class="number">1</span> &amp;&amp; dp[i][k]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canCross</span><span class="params">(<span class="keyword">int</span>[] stones)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = stones.length;</span><br><span class="line">        <span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[n][n];</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (stones[i] - stones[i - <span class="number">1</span>] &gt; i) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i - <span class="number">1</span>; j &gt;= <span class="number">0</span>; --j) &#123;</span><br><span class="line">                <span class="keyword">int</span> k = stones[i] - stones[j];</span><br><span class="line">                <span class="keyword">if</span> (k &gt; j + <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                dp[i][k] = dp[j][k - <span class="number">1</span>] || dp[j][k] || dp[j][k + <span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (i == n - <span class="number">1</span> &amp;&amp; dp[i][k]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol2-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> canCross = <span class="function"><span class="keyword">function</span>(<span class="params">stones</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = stones.length;</span><br><span class="line">    <span class="keyword">const</span> dp = <span class="keyword">new</span> <span class="built_in">Array</span>(n).fill(<span class="number">0</span>).map(<span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Array</span>(n).fill(<span class="number">0</span>));</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (stones[i] - stones[i - <span class="number">1</span>] &gt; i) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = i - <span class="number">1</span>; j &gt;= <span class="number">0</span>; --j) &#123;</span><br><span class="line">            <span class="keyword">const</span> k = stones[i] - stones[j];</span><br><span class="line">            <span class="keyword">if</span> (k &gt; j + <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            dp[i][k] = dp[j][k - <span class="number">1</span>] || dp[j][k] || dp[j][k + <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (i === n - <span class="number">1</span> &amp;&amp; dp[i][k]) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">canCross</span><span class="params">(stones []<span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(stones)</span><br><span class="line">    dp := <span class="built_in">make</span>([][]<span class="keyword">bool</span>, n)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> dp &#123;</span><br><span class="line">        dp[i] = <span class="built_in">make</span>([]<span class="keyword">bool</span>, n)</span><br><span class="line">    &#125;</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; n; i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> stones[i]-stones[i<span class="number">-1</span>] &gt; i &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; n; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := i - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j-- &#123;</span><br><span class="line">            k := stones[i] - stones[j]</span><br><span class="line">            <span class="keyword">if</span> k &gt; j+<span class="number">1</span> &#123;</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">            dp[i][k] = dp[j][k<span class="number">-1</span>] || dp[j][k] || dp[j][k+<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> i == n<span class="number">-1</span> &amp;&amp; dp[i][k] &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">canCross</span><span class="params">(<span class="keyword">int</span>* stones, <span class="keyword">int</span> stonesSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> dp[stonesSize][stonesSize];</span><br><span class="line">    <span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="keyword">sizeof</span>(dp));</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; stonesSize; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (stones[i] - stones[i - <span class="number">1</span>] &gt; i) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; stonesSize; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i - <span class="number">1</span>; j &gt;= <span class="number">0</span>; --j) &#123;</span><br><span class="line">            <span class="keyword">int</span> k = stones[i] - stones[j];</span><br><span class="line">            <span class="keyword">if</span> (k &gt; j + <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            dp[i][k] = dp[j][k - <span class="number">1</span>] || dp[j][k] || dp[j][k + <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (i == stonesSize - <span class="number">1</span> &amp;&amp; dp[i][k]) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n^2)*ï¼Œå…¶ä¸­ *n</em> æ˜¯çŸ³å­çš„æ•°é‡ã€‚å› ä¸ºé’è›™ä»…èƒ½åœ¨çŸ³å­é—´è·³è·ƒï¼Œä¸”ä¸èƒ½å‘åæ–¹ï¼ˆèµ·ç‚¹çš„æ–¹å‘ï¼‰è·³è·ƒï¼Œè€Œç¬¬ <em>i</em> ä¸ªçŸ³å­åæ–¹åªæœ‰ <em>i-1</em> ä¸ªçŸ³å­ï¼Œå› æ­¤åœ¨ä»»æ„ä½ç½®ï¼Œé’è›™çš„ã€Œä¸Šä¸€æ¬¡è·³è·ƒè·ç¦»ã€è‡³å¤šåªæœ‰ <em>n</em> ç§ï¼ŒçŠ¶æ€æ€»æ•°ä¸º <em>n^2*ã€‚æœ€åæƒ…å†µä¸‹æˆ‘ä»¬è¦éå†æ¯ä¸€ä¸ªçŠ¶æ€ï¼Œæ¯æ¬¡æˆ‘ä»¬åªéœ€è¦ *O(1)</em> çš„æ—¶é—´è®¡ç®—å½“å‰çŠ¶æ€æ˜¯å¦å¯è¾¾ï¼Œç›¸ä¹˜å³å¯å¾—åˆ°æœ€ç»ˆæ—¶é—´å¤æ‚åº¦ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n^2)*ï¼Œå…¶ä¸­ *n</em> æ˜¯çŸ³å­çš„æ•°é‡ã€‚æˆ‘ä»¬éœ€è¦è®°å½•å…¨éƒ¨ <em>n^2</em> ä¸ªçŠ¶æ€ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸€åªé’è›™æƒ³è¦è¿‡æ²³ã€‚ å‡å®šæ²³æµè¢«ç­‰åˆ†ä¸ºè‹¥å¹²ä¸ªå•å…ƒæ ¼ï¼Œå¹¶ä¸”åœ¨æ¯ä¸€ä¸ªå•å…ƒæ ¼å†…éƒ½æœ‰å¯èƒ½æ”¾æœ‰ä¸€å—çŸ³å­ï¼ˆä¹Ÿæœ‰å¯èƒ½æ²¡æœ‰ï¼‰ã€‚ é’è›™å¯ä»¥è·³ä¸ŠçŸ³å­ï¼Œä½†æ˜¯ä¸å¯ä»¥è·³å…¥æ°´ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ç»™ä½ çŸ³å­çš„ä½ç½®åˆ—è¡¨ stonesï¼ˆç”¨å•å…ƒæ ¼åºå· å‡åº è¡¨ç¤ºï¼‰ï¼Œ è¯·åˆ¤å®šé’è›™èƒ½å¦æˆåŠŸè¿‡æ²³ï¼ˆå³èƒ½å¦åœ¨æœ€åä¸€æ­¥è·³è‡³æœ€åä¸€å—çŸ³å­ä¸Šï¼‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>1884. é¸¡è›‹æ‰è½-ä¸¤æšé¸¡è›‹</title>
    <link href="http://yoursite.com/2021/12/16/1884.%20%E9%B8%A1%E8%9B%8B%E6%8E%89%E8%90%BD-%E4%B8%A4%E6%9E%9A%E9%B8%A1%E8%9B%8B/"/>
    <id>http://yoursite.com/2021/12/16/1884. é¸¡è›‹æ‰è½-ä¸¤æšé¸¡è›‹/</id>
    <published>2021-12-16T14:30:12.000Z</published>
    <updated>2021-12-17T07:31:29.457Z</updated>
    
    <content type="html"><![CDATA[<p>è¯·ä½ è®¡ç®—å¹¶è¿”å›è¦ç¡®å®š f ç¡®åˆ‡çš„å€¼ çš„ æœ€å°æ“ä½œæ¬¡æ•° æ˜¯å¤šå°‘ï¼Ÿ</p><a id="more"></a><p>[TOC]</p><p>ç»™ä½  2 æšç›¸åŒ çš„é¸¡è›‹ï¼Œå’Œä¸€æ ‹ä»ç¬¬ 1 å±‚åˆ°ç¬¬ n å±‚å…±æœ‰ n å±‚æ¥¼çš„å»ºç­‘ã€‚</p><p>å·²çŸ¥å­˜åœ¨æ¥¼å±‚ f ï¼Œæ»¡è¶³ 0 &lt;= f &lt;= n ï¼Œä»»ä½•ä» é«˜äº f çš„æ¥¼å±‚è½ä¸‹çš„é¸¡è›‹éƒ½ ä¼šç¢ ï¼Œä» f æ¥¼å±‚æˆ–æ¯”å®ƒä½ çš„æ¥¼å±‚è½ä¸‹çš„é¸¡è›‹éƒ½ ä¸ä¼šç¢ ã€‚</p><p>æ¯æ¬¡æ“ä½œï¼Œä½ å¯ä»¥å–ä¸€æš æ²¡æœ‰ç¢ çš„é¸¡è›‹å¹¶æŠŠå®ƒä»ä»»ä¸€æ¥¼å±‚ x æ‰”ä¸‹ï¼ˆæ»¡è¶³ 1 &lt;= x &lt;= nï¼‰ã€‚å¦‚æœé¸¡è›‹ç¢äº†ï¼Œä½ å°±ä¸èƒ½å†æ¬¡ä½¿ç”¨å®ƒã€‚å¦‚æœæŸæšé¸¡è›‹æ‰”ä¸‹åæ²¡æœ‰æ‘”ç¢ï¼Œåˆ™å¯ä»¥åœ¨ä¹‹åçš„æ“ä½œä¸­ é‡å¤ä½¿ç”¨ è¿™æšé¸¡è›‹ã€‚</p><p>è¯·ä½ è®¡ç®—å¹¶è¿”å›è¦ç¡®å®š f ç¡®åˆ‡çš„å€¼ çš„ æœ€å°æ“ä½œæ¬¡æ•° æ˜¯å¤šå°‘ï¼Ÿ</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šn = 2è¾“å‡ºï¼š2è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥å°†ç¬¬ä¸€æšé¸¡è›‹ä» 1 æ¥¼æ‰”ä¸‹ï¼Œç„¶åå°†ç¬¬äºŒæšä» 2 æ¥¼æ‰”ä¸‹ã€‚å¦‚æœç¬¬ä¸€æšé¸¡è›‹ç¢äº†ï¼Œå¯çŸ¥ f = 0ï¼›å¦‚æœç¬¬äºŒæšé¸¡è›‹ç¢äº†ï¼Œä½†ç¬¬ä¸€æšæ²¡ç¢ï¼Œå¯çŸ¥ f = 1ï¼›å¦åˆ™ï¼Œå½“ä¸¤ä¸ªé¸¡è›‹éƒ½æ²¡ç¢æ—¶ï¼Œå¯çŸ¥ f = 2ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šn = 100è¾“å‡ºï¼š14è§£é‡Šï¼šä¸€ç§æœ€ä¼˜çš„ç­–ç•¥æ˜¯ï¼š- å°†ç¬¬ä¸€æšé¸¡è›‹ä» 9 æ¥¼æ‰”ä¸‹ã€‚å¦‚æœç¢äº†ï¼Œé‚£ä¹ˆ f åœ¨ 0 å’Œ 8 ä¹‹é—´ã€‚å°†ç¬¬äºŒæšä» 1 æ¥¼æ‰”ä¸‹ï¼Œç„¶åæ¯æ‰”ä¸€æ¬¡ä¸Šä¸€å±‚æ¥¼ï¼Œåœ¨ 8 æ¬¡å†…æ‰¾åˆ° f ã€‚æ€»æ“ä½œæ¬¡æ•° = 1 + 8 = 9 ã€‚- å¦‚æœç¬¬ä¸€æšé¸¡è›‹æ²¡æœ‰ç¢ï¼Œé‚£ä¹ˆå†æŠŠç¬¬ä¸€æšé¸¡è›‹ä» 22 å±‚æ‰”ä¸‹ã€‚å¦‚æœç¢äº†ï¼Œé‚£ä¹ˆ f åœ¨ 9 å’Œ 21 ä¹‹é—´ã€‚å°†ç¬¬äºŒæšé¸¡è›‹ä» 10 æ¥¼æ‰”ä¸‹ï¼Œç„¶åæ¯æ‰”ä¸€æ¬¡ä¸Šä¸€å±‚æ¥¼ï¼Œåœ¨ 12 æ¬¡å†…æ‰¾åˆ° f ã€‚æ€»æ“ä½œæ¬¡æ•° = 2 + 12 = 14 ã€‚- å¦‚æœç¬¬ä¸€æšé¸¡è›‹æ²¡æœ‰å†æ¬¡ç¢æ‰ï¼Œåˆ™æŒ‰ç…§ç±»ä¼¼çš„æ–¹æ³•ä» 34, 45, 55, 64, 72, 79, 85, 90, 94, 97, 99 å’Œ 100 æ¥¼åˆ†åˆ«æ‰”ä¸‹ç¬¬ä¸€æšé¸¡è›‹ã€‚ä¸ç®¡ç»“æœå¦‚ä½•ï¼Œæœ€å¤šéœ€è¦æ‰” 14 æ¬¡æ¥ç¡®å®š f ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= n &lt;= 1000</code></pre><p>æ­¤é¢˜å¯å‚è§<a href="https://leetcode-cn.com/problems/super-egg-drop/solution/ji-dan-diao-luo-by-leetcode-solution-2/" target="_blank" rel="noopener">887. é¸¡è›‹æ‰è½</a></p><h1 id="æŸ¥è¡¨-åŠ¨æ€è§„åˆ’"><a href="#æŸ¥è¡¨-åŠ¨æ€è§„åˆ’" class="headerlink" title="æŸ¥è¡¨+åŠ¨æ€è§„åˆ’"></a>æŸ¥è¡¨+åŠ¨æ€è§„åˆ’</h1><p><strong>å‡½æ•°å®šä¹‰ï¼š</strong><br><code>dp(n, k)</code>è¡¨ç¤ºç°åœ¨æœ‰<code>n</code>å±‚æ¥¼éœ€è¦éªŒè¯ï¼Œæ­¤æ—¶ä½ æ‰‹é‡Œæœ‰<code>k</code>ä¸ªé¸¡è›‹ï¼Œè¿”å›æ­¤æ—¶çš„æœ€å°æ“ä½œæ¬¡æ•°ã€‚</p><p><strong>base caseï¼š</strong></p><ul><li>å¦‚æœæ²¡æœ‰æ¥¼å±‚éœ€è¦éªŒè¯äº†(<code>n == 0</code>)ï¼Œé‚£ä½ ä¸ç®¡æœ‰å‡ ä¸ªé¸¡è›‹éƒ½ä¸ç”¨æ“ä½œäº†ã€‚</li><li>å¦‚æœä½ æ‰‹é‡Œåªæœ‰ä¸€ä¸ªé¸¡è›‹äº†(<code>k == 1</code>)ï¼Œé‚£ä½ åªèƒ½ä»1æ¥¼å¼€å§‹è¯•ï¼š1æ¥¼ã€2æ¥¼ã€â€¦ã€næ¥¼ï¼Œå…±éœ€è¦<code>n</code>æ¬¡æ“ä½œã€‚</li></ul><p><strong>çŠ¶æ€è½¬ç§»ï¼š</strong><br>ç°åœ¨ä½ æ‰‹é‡Œæœ‰<code>k</code>ä¸ªé¸¡è›‹ï¼Œæ¥ä¸‹æ¥ä½ è¦é€‰ä¸€å±‚æ¥¼æ‰”é¸¡è›‹ï¼Œå‡è®¾ä½ é€‰æ‹©äº†ç¬¬<code>i</code>å±‚æ¥¼ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š</p><ol><li><strong>é¸¡è›‹ç¢äº†</strong>ã€‚ä½ çŸ¥é“ä½ è¦ç¡®å®šçš„<code>f</code>ä¸€å®šåœ¨[0, i-1]èŒƒå›´å†…äº†ï¼Œä¹Ÿå°±æ˜¯éœ€è¦éªŒè¯çš„æ¥¼å±‚æ•°å˜æˆäº†<code>i-1</code>ï¼Œé™¤æ­¤ä¹‹å¤–ä½ è¿˜æŸå¤±äº†ä¸€ä¸ªé¸¡è›‹ï¼Œåªå‰©ä¸‹<code>k-1</code>ä¸ªé¸¡è›‹äº†ã€‚</li><li><strong>é¸¡è›‹æ²¡ç¢</strong>ã€‚ä½ çŸ¥é“ä½ è¦ç¡®å®šçš„<code>f</code>ä¸€å®šåœ¨[i, n]èŒƒå›´å†…äº†ï¼Œæ¥ä¸‹æ¥éœ€è¦éªŒè¯çš„æ¥¼å±‚æ•°å˜æˆäº†<code>n-i</code>ï¼Œå¹¶ä¸”ä½ æ²¡æœ‰æŸå¤±é¸¡è›‹ï¼Œä½ è¿˜æœ‰<code>k</code>ä¸ªé¸¡è›‹ã€‚</li></ol><p>é¢˜ç›®çš„è¦æ±‚å¯ä»¥è§£é‡Šä¸ºï¼š<strong>æœ€åæƒ…å†µä¸‹æœ€å°‘éœ€è¦æ“ä½œå‡ æ¬¡</strong>ã€‚<strong>æœ€åæƒ…å†µ</strong>å°±æ˜¯åœ¨è¿™ä¸¤ç§æƒ…å†µä¹‹é—´ï¼Œé€‰æ‹©é‚£ä¸ªéœ€è¦<strong>æ“ä½œæ¬¡æ•°æœ€å¤§</strong>çš„ï¼Œå†åŠ ä¸Šè‡ªå·±è¿™ä¸€æ¬¡æ‰”é¸¡è›‹çš„æ“ä½œï¼Œä¹Ÿå°±æ˜¯<code>Math.max(dp(i-1, k-1), dp(n-i, k)) + 1</code>ï¼Œè¿™ä¸ªå€¼å°±æ˜¯ä½ é€‰æ‹©ä»ç¬¬<code>i</code>å±‚æ¥¼æ‰”é¸¡è›‹ï¼Œæœ€åæƒ…å†µä¸‹éœ€è¦çš„æ“ä½œæ¬¡æ•°ã€‚</p><p><code>dp(n, k)</code>éœ€è¦çš„æ“ä½œæ¬¡æ•°ï¼Œæ˜¯ä½ <strong>åœ¨æ‰€æœ‰æ¥¼å±‚ä¸­é€‰æ‹©ä¸€ä¸ªæœ€åæƒ…å†µä¸‹éœ€è¦çš„æ“ä½œæ¬¡æ•°æœ€å°</strong>çš„æ¥¼å±‚æ‰”é¸¡è›‹ã€‚æ‰€ä»¥éœ€è¦éå†æ‰€æœ‰æ¥¼å±‚ï¼Œæ‰¾åˆ°<code>Math.min(res, Math.max(dp(i-1, k-1), dp(n-i, k)) + 1)</code>ã€‚</p><p>ä¸ºäº†é¿å…é‡å¤è®¡ç®—ï¼ŒåŠ ä¸Š<strong>å¤‡å¿˜å½•</strong>ã€‚</p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><details>    <summary>java</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[][] memo;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">twoEggDrop</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        memo = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>][<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">return</span> dp(n, <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dp</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">        <span class="comment">// base case</span></span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(k == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> n;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æŸ¥è¡¨</span></span><br><span class="line">        <span class="keyword">if</span>(memo[n][k] != <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> memo[n][k];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> res = Integer.MAX_VALUE;</span><br><span class="line">        <span class="comment">// é€‰ä¸€å±‚æ¥¼æ‰”é¸¡è›‹</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">            res = Math.min(res, Math.max(dp(i-<span class="number">1</span>, k-<span class="number">1</span>), dp(n-i, k)) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        memo[n][k] = res;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¯·ä½ è®¡ç®—å¹¶è¿”å›è¦ç¡®å®š f ç¡®åˆ‡çš„å€¼ çš„ æœ€å°æ“ä½œæ¬¡æ•° æ˜¯å¤šå°‘ï¼Ÿ&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>1377. T ç§’åé’è›™çš„ä½ç½®</title>
    <link href="http://yoursite.com/2021/12/16/1377.%20T%20%E7%A7%92%E5%90%8E%E9%9D%92%E8%9B%99%E7%9A%84%E4%BD%8D%E7%BD%AE/"/>
    <id>http://yoursite.com/2021/12/16/1377. T ç§’åé’è›™çš„ä½ç½®/</id>
    <published>2021-12-16T12:30:12.000Z</published>
    <updated>2021-12-16T14:29:09.224Z</updated>
    
    <content type="html"><![CDATA[<p>è¿”å›é’è›™åœ¨ t ç§’åä½äºç›®æ ‡é¡¶ç‚¹ target ä¸Šçš„æ¦‚ç‡ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç»™ä½ ä¸€æ£µç”± n ä¸ªé¡¶ç‚¹ç»„æˆçš„æ— å‘æ ‘ï¼Œé¡¶ç‚¹ç¼–å·ä» 1 åˆ° nã€‚é’è›™ä» é¡¶ç‚¹ 1 å¼€å§‹èµ·è·³ã€‚è§„åˆ™å¦‚ä¸‹ï¼š</p><p>åœ¨ä¸€ç§’å†…ï¼Œé’è›™ä»å®ƒæ‰€åœ¨çš„å½“å‰é¡¶ç‚¹è·³åˆ°å¦ä¸€ä¸ª æœªè®¿é—® è¿‡çš„é¡¶ç‚¹ï¼ˆå¦‚æœå®ƒä»¬ç›´æ¥ç›¸è¿ï¼‰ã€‚<br>é’è›™æ— æ³•è·³å›å·²ç»è®¿é—®è¿‡çš„é¡¶ç‚¹ã€‚<br>å¦‚æœé’è›™å¯ä»¥è·³åˆ°å¤šä¸ªä¸åŒé¡¶ç‚¹ï¼Œé‚£ä¹ˆå®ƒè·³åˆ°å…¶ä¸­ä»»æ„ä¸€ä¸ªé¡¶ç‚¹ä¸Šçš„æœºç‡éƒ½ç›¸åŒã€‚<br>å¦‚æœé’è›™ä¸èƒ½è·³åˆ°ä»»ä½•æœªè®¿é—®è¿‡çš„é¡¶ç‚¹ä¸Šï¼Œé‚£ä¹ˆå®ƒæ¯æ¬¡è·³è·ƒéƒ½ä¼šåœç•™åœ¨åŸåœ°ã€‚<br>æ— å‘æ ‘çš„è¾¹ç”¨æ•°ç»„ edges æè¿°ï¼Œå…¶ä¸­ edges[i] = [fromi, toi] æ„å‘³ç€å­˜åœ¨ä¸€æ¡ç›´æ¥è¿é€š fromi å’Œ toi ä¸¤ä¸ªé¡¶ç‚¹çš„è¾¹ã€‚</p><p>è¿”å›é’è›™åœ¨ t ç§’åä½äºç›®æ ‡é¡¶ç‚¹ target ä¸Šçš„æ¦‚ç‡ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šn = 7, edges = [[1,2],[1,3],[1,7],[2,4],[2,6],[3,5]], t = 2, target = 4è¾“å‡ºï¼š0.16666666666666666 è§£é‡Šï¼šä¸Šå›¾æ˜¾ç¤ºäº†é’è›™çš„è·³è·ƒè·¯å¾„ã€‚é’è›™ä»é¡¶ç‚¹ 1 èµ·è·³ï¼Œç¬¬ 1 ç§’ æœ‰ 1/3 çš„æ¦‚ç‡è·³åˆ°é¡¶ç‚¹ 2 ï¼Œç„¶åç¬¬ 2 ç§’ æœ‰ 1/2 çš„æ¦‚ç‡è·³åˆ°é¡¶ç‚¹ 4ï¼Œå› æ­¤é’è›™åœ¨ 2 ç§’åä½äºé¡¶ç‚¹ 4 çš„æ¦‚ç‡æ˜¯ 1/3 * 1/2 = 1/6 = 0.16666666666666666 ã€‚ </code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šn = 7, edges = [[1,2],[1,3],[1,7],[2,4],[2,6],[3,5]], t = 1, target = 7è¾“å‡ºï¼š0.3333333333333333è§£é‡Šï¼šä¸Šå›¾æ˜¾ç¤ºäº†é’è›™çš„è·³è·ƒè·¯å¾„ã€‚é’è›™ä»é¡¶ç‚¹ 1 èµ·è·³ï¼Œæœ‰ 1/3 = 0.3333333333333333 çš„æ¦‚ç‡èƒ½å¤Ÿ 1 ç§’ åè·³åˆ°é¡¶ç‚¹ 7 ã€‚ </code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šn = 7, edges = [[1,2],[1,3],[1,7],[2,4],[2,6],[3,5]], t = 20, target = 6è¾“å‡ºï¼š0.16666666666666666</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= n &lt;= 100edges.length == n-1edges[i].length == 21 &lt;= edges[i][0], edges[i][1] &lt;= n1 &lt;= t &lt;= 501 &lt;= target &lt;= nä¸å‡†ç¡®å€¼è¯¯å·®åœ¨ 10^-5 ä¹‹å†…çš„ç»“æœå°†è¢«åˆ¤å®šä¸ºæ­£ç¡®ã€‚</code></pre><h1 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h1><p>æœ´ç´ BFSæœç´ ï¼Œä¸­é—´éœ€è¦æ³¨æ„å·²ç»è®¿é—®è¿‡çš„ç‚¹ä¸èƒ½è®¡ç®—åˆ°æ¦‚ç‡å½“ä¸­ï¼Œ<br>è¿™ä¸ªé’è›™å°±ç®—æ˜¯å½“å‰å®ƒå·²ç»åˆ°è¾¾targetï¼Œåªè¦è¿˜æœ‰å…¶ä»–æ²¡æœ‰è®¿é—®è¿‡çš„ç‚¹ï¼Œä»–è¿˜æ˜¯ä¼šç»§ç»­è·³ï¼Œç›´åˆ°æ—¶é—´ç”¨å®Œã€‚</p><details>    <summary>Java</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    class node &#123;</span><br><span class="line">        int id;</span><br><span class="line">        double p; //æ¦‚ç‡</span><br><span class="line">        int t; //æ—¶é—´</span><br><span class="line"></span><br><span class="line">        node(int i, double pp, int tt) &#123;</span><br><span class="line">            id = i;</span><br><span class="line">            p = pp;</span><br><span class="line">            t = tt;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public double frogPosition(int n, int[][] edges, int t, int target) &#123;</span><br><span class="line">        Set&lt;Integer&gt;[] sets = new Set[n + 1];</span><br><span class="line">        for (int i = 0; i &lt;= n; i++) &#123;</span><br><span class="line">            sets[i] = new HashSet&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        for (int[] e : edges) &#123;</span><br><span class="line">            sets[e[0]].add(e[1]);</span><br><span class="line">            //å› ä¸ºæ˜¯æ— å‘å›¾ï¼Œæœ‰çš„edgesé¡ºåºå¯èƒ½ä»å­èŠ‚ç‚¹æŒ‡å‘çˆ¶èŠ‚ç‚¹</span><br><span class="line">            sets[e[1]].add(e[0]);</span><br><span class="line">        &#125;</span><br><span class="line">        Queue&lt;node&gt; q = new LinkedList&lt;&gt;();</span><br><span class="line">        q.add(new node(1, 1.0, 0));</span><br><span class="line">        boolean[] vis = new boolean[n + 1];</span><br><span class="line">        vis[1] = true;</span><br><span class="line">        while (!q.isEmpty()) &#123;</span><br><span class="line">            node u = q.poll();</span><br><span class="line">            if (u.t == t &amp;&amp; u.id == target) &#123;</span><br><span class="line">                return u.p;</span><br><span class="line">            &#125;</span><br><span class="line">            //ç»Ÿè®¡ä¸‹ä¸€æ­¥å¯èƒ½çš„æ‰€æœ‰é€‰æ‹©æ•°</span><br><span class="line">            int sz = 0;</span><br><span class="line">            for (int nb : sets[u.id]) &#123;</span><br><span class="line">                if (!vis[nb]) &#123;</span><br><span class="line">                    sz++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if (u.t &lt; t) &#123;</span><br><span class="line">                boolean find = false;</span><br><span class="line">                for (int nb : sets[u.id]) &#123;</span><br><span class="line">                    if (vis[nb]) &#123;</span><br><span class="line">                        continue;</span><br><span class="line">                    &#125;</span><br><span class="line">                    //ä¸‹ä¸€å±‚æœ‰æœªè®¿é—®çš„èŠ‚ç‚¹å³åŠ å…¥é˜Ÿåˆ—</span><br><span class="line">                    find = true;</span><br><span class="line">                    vis[nb] = true;</span><br><span class="line">                    q.add(new node(nb, u.p / sz, u.t + 1));</span><br><span class="line">                &#125;</span><br><span class="line">                //ä¸‹ä¸€å±‚æ— æœªè®¿é—®çš„èŠ‚ç‚¹</span><br><span class="line">                if (find == false) &#123;</span><br><span class="line">                    q.add(new node(u.id, u.p, u.t + 1));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return 0.0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿”å›é’è›™åœ¨ t ç§’åä½äºç›®æ ‡é¡¶ç‚¹ target ä¸Šçš„æ¦‚ç‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
      <category term="Depth-First Search" scheme="http://yoursite.com/tags/Depth-First-Search/"/>
    
      <category term="Breadth-First Search" scheme="http://yoursite.com/tags/Breadth-First-Search/"/>
    
      <category term="Graph" scheme="http://yoursite.com/tags/Graph/"/>
    
  </entry>
  
  <entry>
    <title>1419. æ•°é’è›™</title>
    <link href="http://yoursite.com/2021/12/16/1419.%20%E6%95%B0%E9%9D%92%E8%9B%99/"/>
    <id>http://yoursite.com/2021/12/16/1419. æ•°é’è›™/</id>
    <published>2021-12-16T09:43:12.000Z</published>
    <updated>2021-12-16T10:34:52.080Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² croakOfFrogsï¼Œå®ƒè¡¨ç¤ºä¸åŒé’è›™å‘å‡ºçš„è›™é¸£å£°ï¼ˆå­—ç¬¦ä¸² â€œcroakâ€ ï¼‰çš„ç»„åˆã€‚ç”±äºåŒä¸€æ—¶é—´å¯ä»¥æœ‰å¤šåªé’è›™å‘±å‘±ä½œå“ï¼Œæ‰€ä»¥croakOfFrogs ä¸­ä¼šæ··åˆå¤šä¸ª â€œcroakâ€ ã€‚è¯·ä½ è¿”å›æ¨¡æ‹Ÿå­—ç¬¦ä¸²ä¸­æ‰€æœ‰è›™é¸£æ‰€éœ€ä¸åŒé’è›™çš„æœ€å°‘æ•°ç›®ã€‚</p><a id="more"></a><p>[TOC]</p><p>æ³¨æ„ï¼šè¦æƒ³å‘å‡ºè›™é¸£ â€œcroakâ€ï¼Œé’è›™å¿…é¡» ä¾åº è¾“å‡º â€˜câ€™, â€™râ€™, â€™oâ€™, â€™aâ€™, â€™kâ€™ è¿™ 5 ä¸ªå­—æ¯ã€‚å¦‚æœæ²¡æœ‰è¾“å‡ºå…¨éƒ¨äº”ä¸ªå­—æ¯ï¼Œé‚£ä¹ˆå®ƒå°±ä¸ä¼šå‘å‡ºå£°éŸ³ã€‚</p><p>å¦‚æœå­—ç¬¦ä¸² croakOfFrogs ä¸æ˜¯ç”±è‹¥å¹²æœ‰æ•ˆçš„ â€œcroakâ€ å­—ç¬¦æ··åˆè€Œæˆï¼Œè¯·è¿”å› -1 ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šcroakOfFrogs = &quot;croakcroak&quot;è¾“å‡ºï¼š1 è§£é‡Šï¼šä¸€åªé’è›™ â€œå‘±å‘±â€ ä¸¤æ¬¡</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šcroakOfFrogs = &quot;crcoakroak&quot;è¾“å‡ºï¼š2 è§£é‡Šï¼šæœ€å°‘éœ€è¦ä¸¤åªé’è›™ï¼Œâ€œå‘±å‘±â€ å£°ç”¨é»‘ä½“æ ‡æ³¨ç¬¬ä¸€åªé’è›™ &quot;crcoakroak&quot;ç¬¬äºŒåªé’è›™ &quot;crcoakroak&quot;</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šcroakOfFrogs = &quot;croakcrook&quot;è¾“å‡ºï¼š-1è§£é‡Šï¼šç»™å‡ºçš„å­—ç¬¦ä¸²ä¸æ˜¯ &quot;croak&quot; çš„æœ‰æ•ˆç»„åˆã€‚</code></pre><p>ç¤ºä¾‹ 4ï¼š</p><pre><code>è¾“å…¥ï¼šcroakOfFrogs = &quot;croakcroa&quot;è¾“å‡ºï¼š-1</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= croakOfFrogs.length &lt;= 10^5å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦åªæœ‰ &apos;c&apos;, &apos;r&apos;, &apos;o&apos;, &apos;a&apos; æˆ–è€… &apos;k&apos;</code></pre><p>æ€æƒ³å°±æ˜¯ç»´æŠ¤croakçš„ä¸ªæ•°ï¼Œå¦‚æœé‡åˆ°å½“å‰å­—æ¯ï¼Œåˆ™è‚¯å®šæ˜¯ç”±å‰é¢å­—æ¯è¿‡æ¥ï¼Œå‰é¢å­—æ¯æ•°-1ã€‚<br>å¦‚é‡åˆ°rï¼Œåˆ™å¿…æ˜¯c-&gt;rï¼Œæ‰€ä»¥câ€“<br>kä»£è¡¨ç»“å°¾ï¼Œå…¶å®ä¹Ÿæ˜¯é’è›™çš„èµ·å§‹ï¼ˆä¸€æ¬¡å–Šå«ç»“æŸï¼‰ï¼Œæ‰€ä»¥é‡åˆ°cçš„æ—¶å€™ï¼Œå…ˆå»æ¶ˆè€—kï¼Œæ²¡æœ‰käº†ï¼Œéœ€è¦æ–°é’è›™ï¼Œç­”æ¡ˆ+1</p><details>    <summary>Java</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">public int minNumberOfFrogs(String croakOfFrogs) &#123;</span><br><span class="line">        int c,r,o,a,k;</span><br><span class="line">        c = 0; r = 0; o = 0; a = 0;k = 0;</span><br><span class="line">        char []chars = croakOfFrogs.toCharArray();</span><br><span class="line">        int res = 0;</span><br><span class="line">        for(int i = 0;i &lt; chars.length;i++)&#123;</span><br><span class="line">            if(chars[i] == &apos;c&apos;)&#123;</span><br><span class="line">                if(k &gt; 0)&#123;k--;&#125;else&#123;res++;&#125;</span><br><span class="line">                c++;</span><br><span class="line">            &#125;else if(chars[i] == &apos;r&apos;)&#123;</span><br><span class="line">                c--;r++;</span><br><span class="line">            &#125;else if(chars[i] == &apos;o&apos;)&#123;</span><br><span class="line">                r--;o++;</span><br><span class="line">            &#125;else if(chars[i] == &apos;a&apos;)&#123;</span><br><span class="line">                o--;a++;</span><br><span class="line">            &#125;else if(chars[i] == &apos;k&apos;)&#123;</span><br><span class="line">                a--;k++;</span><br><span class="line">            &#125;</span><br><span class="line">            if(c &lt; 0 || r &lt; 0 || o &lt; 0 || a &lt; 0)&#123;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if(c != 0 || r != 0 || o != 0 || a != 0)&#123;</span><br><span class="line">            return -1;</span><br><span class="line">        &#125;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java switch caseå†™æ³•</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int minNumberOfFrogs(String croakOfFrogs) &#123;</span><br><span class="line">        int c = 0;</span><br><span class="line">        int r = 0;</span><br><span class="line">        int o = 0;</span><br><span class="line">        int a = 0;</span><br><span class="line">        int k = 0;</span><br><span class="line">        int res = 0;</span><br><span class="line">        char[] chars = croakOfFrogs.toCharArray();</span><br><span class="line">        for (char character : chars) &#123;</span><br><span class="line">            switch (character) &#123;</span><br><span class="line">                case &apos;c&apos;:</span><br><span class="line">                    if (k &gt; 0) &#123;</span><br><span class="line">                        k--;</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        res++;</span><br><span class="line">                    &#125;</span><br><span class="line">                    c++;</span><br><span class="line">                    break;</span><br><span class="line">                case &apos;r&apos;:</span><br><span class="line">                    c--;</span><br><span class="line">                    r++;</span><br><span class="line">                    break;</span><br><span class="line">                case &apos;o&apos;:</span><br><span class="line">                    r--;</span><br><span class="line">                    o++;</span><br><span class="line">                    break;</span><br><span class="line">                case &apos;a&apos;:</span><br><span class="line">                    o--;</span><br><span class="line">                    a++;</span><br><span class="line">                    break;</span><br><span class="line">                case &apos;k&apos;:</span><br><span class="line">                    a--;</span><br><span class="line">                    k++;</span><br><span class="line">                    break;</span><br><span class="line">            &#125;</span><br><span class="line">            if (c &lt; 0 || r &lt; 0 || o &lt; 0 || a &lt; 0 || k&lt;0) &#123;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (c != 0 || r != 0 || o != 0 || a != 0) &#123;</span><br><span class="line">            res = -1;</span><br><span class="line">        &#125;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² croakOfFrogsï¼Œå®ƒè¡¨ç¤ºä¸åŒé’è›™å‘å‡ºçš„è›™é¸£å£°ï¼ˆå­—ç¬¦ä¸² â€œcroakâ€ ï¼‰çš„ç»„åˆã€‚ç”±äºåŒä¸€æ—¶é—´å¯ä»¥æœ‰å¤šåªé’è›™å‘±å‘±ä½œå“ï¼Œæ‰€ä»¥croakOfFrogs ä¸­ä¼šæ··åˆå¤šä¸ª â€œcroakâ€ ã€‚è¯·ä½ è¿”å›æ¨¡æ‹Ÿå­—ç¬¦ä¸²ä¸­æ‰€æœ‰è›™é¸£æ‰€éœ€ä¸åŒé’è›™çš„æœ€å°‘æ•°ç›®ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
      <category term="Counting" scheme="http://yoursite.com/tags/Counting/"/>
    
  </entry>
  
  <entry>
    <title>1936. æ–°å¢çš„æœ€å°‘å°é˜¶æ•°</title>
    <link href="http://yoursite.com/2021/12/16/1936.%20%E6%96%B0%E5%A2%9E%E7%9A%84%E6%9C%80%E5%B0%91%E5%8F%B0%E9%98%B6%E6%95%B0/"/>
    <id>http://yoursite.com/2021/12/16/1936. æ–°å¢çš„æœ€å°‘å°é˜¶æ•°/</id>
    <published>2021-12-16T08:28:12.000Z</published>
    <updated>2021-12-16T09:39:28.211Z</updated>
    
    <content type="html"><![CDATA[<p>è¿”å›çˆ¬åˆ°æœ€åä¸€é˜¶æ—¶å¿…é¡»æ·»åŠ åˆ°æ¢¯å­ä¸Šçš„ æœ€å°‘å°é˜¶æ•°ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç»™ä½ ä¸€ä¸ª ä¸¥æ ¼é€’å¢ çš„æ•´æ•°æ•°ç»„ rungs ï¼Œç”¨äºè¡¨ç¤ºæ¢¯å­ä¸Šæ¯ä¸€å°é˜¶çš„ é«˜åº¦ ã€‚å½“å‰ä½ æ­£ç«™åœ¨é«˜åº¦ä¸º 0 çš„åœ°æ¿ä¸Šï¼Œå¹¶æ‰“ç®—çˆ¬åˆ°æœ€åä¸€ä¸ªå°é˜¶ã€‚</p><p>å¦ç»™ä½ ä¸€ä¸ªæ•´æ•° dist ã€‚æ¯æ¬¡ç§»åŠ¨ä¸­ï¼Œä½ å¯ä»¥åˆ°è¾¾ä¸‹ä¸€ä¸ªè·ç¦»ä½ å½“å‰ä½ç½®ï¼ˆåœ°æ¿æˆ–å°é˜¶ï¼‰ä¸è¶…è¿‡disté«˜åº¦çš„å°é˜¶ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ä»»ä½•æ­£ æ•´æ•° é«˜åº¦å¤„æ’å…¥å°šä¸å­˜åœ¨çš„æ–°å°é˜¶ã€‚</p><p>è¿”å›çˆ¬åˆ°æœ€åä¸€é˜¶æ—¶å¿…é¡»æ·»åŠ åˆ°æ¢¯å­ä¸Šçš„ æœ€å°‘å°é˜¶æ•°ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šrungs = [1,3,5,10], dist = 2è¾“å‡ºï¼š2è§£é‡Šï¼šç°åœ¨æ— æ³•åˆ°è¾¾æœ€åä¸€é˜¶ã€‚åœ¨é«˜åº¦ä¸º 7 å’Œ 8 çš„ä½ç½®å¢è®¾æ–°çš„å°é˜¶ï¼Œä»¥çˆ¬ä¸Šæ¢¯å­ã€‚ æ¢¯å­åœ¨é«˜åº¦ä¸º [1,3,5,7,8,10] çš„ä½ç½®ä¸Šæœ‰å°é˜¶ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šrungs = [3,6,8,10], dist = 3è¾“å‡ºï¼š0è§£é‡Šï¼šè¿™ä¸ªæ¢¯å­æ— éœ€å¢è®¾æ–°å°é˜¶ä¹Ÿå¯ä»¥çˆ¬ä¸Šå»ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šrungs = [3,4,6,7], dist = 2è¾“å‡ºï¼š1è§£é‡Šï¼šç°åœ¨æ— æ³•ä»åœ°æ¿åˆ°è¾¾æ¢¯å­çš„ç¬¬ä¸€é˜¶ã€‚ åœ¨é«˜åº¦ä¸º 1 çš„ä½ç½®å¢è®¾æ–°çš„å°é˜¶ï¼Œä»¥çˆ¬ä¸Šæ¢¯å­ã€‚ æ¢¯å­åœ¨é«˜åº¦ä¸º [1,3,4,6,7] çš„ä½ç½®ä¸Šæœ‰å°é˜¶ã€‚</code></pre><p>ç¤ºä¾‹ 4ï¼š</p><pre><code>è¾“å…¥ï¼šrungs = [5], dist = 10è¾“å‡ºï¼š0è§£é‡Šï¼šè¿™ä¸ªæ¢¯å­æ— éœ€å¢è®¾æ–°å°é˜¶ä¹Ÿå¯ä»¥çˆ¬ä¸Šå»ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= rungs.length &lt;= 1051 &lt;= rungs[i] &lt;= 1091 &lt;= dist &lt;= 109rungs ä¸¥æ ¼é€’å¢</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿ-è´ªå¿ƒ"><a href="#æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿ-è´ªå¿ƒ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿ + è´ªå¿ƒ"></a>æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿ + è´ªå¿ƒ</h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong><a href="https://leetcode-cn.com/problems/add-minimum-number-of-rungs/solution/xin-zeng-de-zui-shao-tai-jie-shu-by-leet-y0de/" target="_blank" rel="noopener">^1</a></p><p><strong>ä»£ç </strong></p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">addRungs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; rungs, <span class="keyword">int</span> dist)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;   <span class="comment">// éœ€è¦å¢è®¾çš„æ¢¯å­æ•°ç›®</span></span><br><span class="line">        <span class="keyword">int</span> curr = <span class="number">0</span>;   <span class="comment">// å½“å‰é«˜åº¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> h: rungs)&#123;</span><br><span class="line">            <span class="comment">// éå†æ•°ç»„è®¡ç®—é«˜åº¦å·®å’Œæœ€å°‘æ·»åŠ æ•°ç›®ï¼Œå¹¶æ›´æ–°å½“å‰é«˜åº¦</span></span><br><span class="line">            <span class="keyword">int</span> d = h - curr;</span><br><span class="line">            res += (d - <span class="number">1</span>) / dist;</span><br><span class="line">            curr = h;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addRungs</span><span class="params">(self, rungs: List[int], dist: int)</span> -&gt; int:</span></span><br><span class="line">        res = <span class="number">0</span>   <span class="comment"># éœ€è¦å¢è®¾çš„æ¢¯å­æ•°ç›®</span></span><br><span class="line">        curr = <span class="number">0</span>   <span class="comment"># å½“å‰é«˜åº¦</span></span><br><span class="line">        <span class="keyword">for</span> h <span class="keyword">in</span> rungs:</span><br><span class="line">            <span class="comment"># éå†æ•°ç»„è®¡ç®—é«˜åº¦å·®å’Œæœ€å°‘æ·»åŠ æ•°ç›®ï¼Œå¹¶æ›´æ–°å½“å‰é«˜åº¦</span></span><br><span class="line">            d = h - curr</span><br><span class="line">            res += (h - curr - <span class="number">1</span>) // dist</span><br><span class="line">            curr = h</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">addRungs</span><span class="params">(<span class="keyword">int</span>[] rungs, <span class="keyword">int</span> dist)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;    <span class="comment">// éœ€è¦å¢è®¾çš„æ¢¯å­æ•°ç›®</span></span><br><span class="line">        <span class="keyword">int</span> curr = <span class="number">0</span>;   <span class="comment">// å½“å‰é«˜åº¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> h : rungs) &#123;</span><br><span class="line">            <span class="comment">// éå†æ•°ç»„è®¡ç®—é«˜åº¦å·®å’Œæœ€å°‘æ·»åŠ æ•°ç›®ï¼Œå¹¶æ›´æ–°å½“å‰é«˜åº¦</span></span><br><span class="line">            <span class="keyword">int</span> d = h - curr;</span><br><span class="line">            res += (d - <span class="number">1</span>) / dist;</span><br><span class="line">            curr = h;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿”å›çˆ¬åˆ°æœ€åä¸€é˜¶æ—¶å¿…é¡»æ·»åŠ åˆ°æ¢¯å­ä¸Šçš„ æœ€å°‘å°é˜¶æ•°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯</title>
    <link href="http://yoursite.com/2021/12/16/746.%20%E4%BD%BF%E7%94%A8%E6%9C%80%E5%B0%8F%E8%8A%B1%E8%B4%B9%E7%88%AC%E6%A5%BC%E6%A2%AF/"/>
    <id>http://yoursite.com/2021/12/16/746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯/</id>
    <published>2021-12-16T08:12:12.000Z</published>
    <updated>2021-12-16T08:23:50.543Z</updated>
    
    <content type="html"><![CDATA[<p>æ•°ç»„çš„æ¯ä¸ªä¸‹æ ‡ä½œä¸ºä¸€ä¸ªé˜¶æ¢¯ï¼Œç¬¬ i ä¸ªé˜¶æ¢¯å¯¹åº”ç€ä¸€ä¸ªéè´Ÿæ•°çš„ä½“åŠ›èŠ±è´¹å€¼ cost[i]ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ã€‚</p><p>æ¯å½“ä½ çˆ¬ä¸Šä¸€ä¸ªé˜¶æ¢¯ä½ éƒ½è¦èŠ±è´¹å¯¹åº”çš„ä½“åŠ›å€¼ï¼Œä¸€æ—¦æ”¯ä»˜äº†ç›¸åº”çš„ä½“åŠ›å€¼ï¼Œä½ å°±å¯ä»¥é€‰æ‹©å‘ä¸Šçˆ¬ä¸€ä¸ªé˜¶æ¢¯æˆ–è€…çˆ¬ä¸¤ä¸ªé˜¶æ¢¯ã€‚</p><p>è¯·ä½ æ‰¾å‡ºè¾¾åˆ°æ¥¼å±‚é¡¶éƒ¨çš„æœ€ä½èŠ±è´¹ã€‚åœ¨å¼€å§‹æ—¶ï¼Œä½ å¯ä»¥é€‰æ‹©ä»ä¸‹æ ‡ä¸º 0 æˆ– 1 çš„å…ƒç´ ä½œä¸ºåˆå§‹é˜¶æ¢¯ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šcost = [10, 15, 20]è¾“å‡ºï¼š15è§£é‡Šï¼šæœ€ä½èŠ±è´¹æ˜¯ä» cost[1] å¼€å§‹ï¼Œç„¶åèµ°ä¸¤æ­¥å³å¯åˆ°é˜¶æ¢¯é¡¶ï¼Œä¸€å…±èŠ±è´¹ 15 ã€‚</code></pre><p> ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šcost = [1, 100, 1, 1, 1, 100, 1, 1, 100, 1]è¾“å‡ºï¼š6è§£é‡Šï¼šæœ€ä½èŠ±è´¹æ–¹å¼æ˜¯ä» cost[0] å¼€å§‹ï¼Œé€ä¸ªç»è¿‡é‚£äº› 1 ï¼Œè·³è¿‡ cost[3] ï¼Œä¸€å…±èŠ±è´¹ 6 ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>cost çš„é•¿åº¦èŒƒå›´æ˜¯ [2, 1000]ã€‚cost[i] å°†ä¼šæ˜¯ä¸€ä¸ªæ•´å‹æ•°æ®ï¼ŒèŒƒå›´ä¸º [0, 999] ã€‚</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’-1"><a href="#æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’^1"></a>æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’<a href="https://leetcode-cn.com/problems/min-cost-climbing-stairs/solution/shi-yong-zui-xiao-hua-fei-pa-lou-ti-by-l-ncf8/" target="_blank" rel="noopener">^1</a></h1><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minCostClimbingStairs</span><span class="params">(<span class="keyword">int</span>[] cost)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = cost.length;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = dp[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            dp[i] = Math.min(dp[i - <span class="number">1</span>] + cost[i - <span class="number">1</span>], dp[i - <span class="number">2</span>] + cost[i - <span class="number">2</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int MinCostClimbingStairs(int[] cost) &#123;</span><br><span class="line">        int n = cost.Length;</span><br><span class="line">        int[] dp = new int[n + 1];</span><br><span class="line">        dp[0] = dp[1] = 0;</span><br><span class="line">        for (int i = 2; i &lt;= n; i++) &#123;</span><br><span class="line">            dp[i] = Math.Min(dp[i - 1] + cost[i - 1], dp[i - 2] + cost[i - 2]);</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> minCostClimbingStairs = <span class="function"><span class="keyword">function</span>(<span class="params">cost</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = cost.length;</span><br><span class="line">    <span class="keyword">const</span> dp = <span class="keyword">new</span> <span class="built_in">Array</span>(n + <span class="number">1</span>);</span><br><span class="line">    dp[<span class="number">0</span>] = dp[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        dp[i] = <span class="built_in">Math</span>.min(dp[i - <span class="number">1</span>] + cost[i - <span class="number">1</span>], dp[i - <span class="number">2</span>] + cost[i - <span class="number">2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minCostClimbingStairs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; cost)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = cost.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(n + <span class="number">1</span>);</span><br><span class="line">        dp[<span class="number">0</span>] = dp[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            dp[i] = min(dp[i - <span class="number">1</span>] + cost[i - <span class="number">1</span>], dp[i - <span class="number">2</span>] + cost[i - <span class="number">2</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">minCostClimbingStairs</span><span class="params">(cost []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(cost)</span><br><span class="line">    dp := <span class="built_in">make</span>([]<span class="keyword">int</span>, n+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">2</span>; i &lt;= n; i++ &#123;</span><br><span class="line">        dp[i] = min(dp[i<span class="number">-1</span>]+cost[i<span class="number">-1</span>], dp[i<span class="number">-2</span>]+cost[i<span class="number">-2</span>])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">min</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minCostClimbingStairs</span><span class="params">(self, cost: List[int])</span> -&gt; int:</span></span><br><span class="line">        n = len(cost)</span><br><span class="line">        dp = [<span class="number">0</span>] * (n + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, n + <span class="number">1</span>):</span><br><span class="line">            dp[i] = min(dp[i - <span class="number">1</span>] + cost[i - <span class="number">1</span>], dp[i - <span class="number">2</span>] + cost[i - <span class="number">2</span>])</span><br><span class="line">        <span class="keyword">return</span> dp[n]</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minCostClimbingStairs</span><span class="params">(<span class="keyword">int</span>* cost, <span class="keyword">int</span> costSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> dp[costSize + <span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = dp[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= costSize; i++) &#123;</span><br><span class="line">        dp[i] = fmin(dp[i - <span class="number">1</span>] + cost[i - <span class="number">1</span>], dp[i - <span class="number">2</span>] + cost[i - <span class="number">2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[costSize];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>ä¸Šè¿°ä»£ç çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯ <em>O(n)</em> ã€‚å¯ä»¥ä½¿ç”¨æ»šåŠ¨æ•°ç»„çš„æ€æƒ³ï¼Œå°†ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–åˆ° <em>O(1)</em>ã€‚</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minCostClimbingStairs</span><span class="params">(<span class="keyword">int</span>[] cost)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = cost.length;</span><br><span class="line">        <span class="keyword">int</span> prev = <span class="number">0</span>, curr = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> next = Math.min(curr + cost[i - <span class="number">1</span>], prev + cost[i - <span class="number">2</span>]);</span><br><span class="line">            prev = curr;</span><br><span class="line">            curr = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> curr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol2-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> minCostClimbingStairs = <span class="function"><span class="keyword">function</span>(<span class="params">cost</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = cost.length;</span><br><span class="line">    <span class="keyword">let</span> prev = <span class="number">0</span>, curr = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> next = <span class="built_in">Math</span>.min(curr + cost[i - <span class="number">1</span>], prev + cost[i - <span class="number">2</span>]);</span><br><span class="line">        prev = curr;</span><br><span class="line">        curr = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> curr;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minCostClimbingStairs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; cost)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = cost.size();</span><br><span class="line">        <span class="keyword">int</span> prev = <span class="number">0</span>, curr = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> next = min(curr + cost[i - <span class="number">1</span>], prev + cost[i - <span class="number">2</span>]);</span><br><span class="line">            prev = curr;</span><br><span class="line">            curr = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> curr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol2-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int MinCostClimbingStairs(int[] cost) &#123;</span><br><span class="line">        int n = cost.Length;</span><br><span class="line">        int prev = 0, curr = 0;</span><br><span class="line">        for (int i = 2; i &lt;= n; i++) &#123;</span><br><span class="line">            int next = Math.Min(curr + cost[i - 1], prev + cost[i - 2]);</span><br><span class="line">            prev = curr;</span><br><span class="line">            curr = next;</span><br><span class="line">        &#125;</span><br><span class="line">        return curr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">minCostClimbingStairs</span><span class="params">(cost []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(cost)</span><br><span class="line">    pre, cur := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">2</span>; i &lt;= n; i++ &#123;</span><br><span class="line">        pre, cur = cur, min(cur+cost[i<span class="number">-1</span>], pre+cost[i<span class="number">-2</span>])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cur</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">min</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minCostClimbingStairs</span><span class="params">(self, cost: List[int])</span> -&gt; int:</span></span><br><span class="line">        n = len(cost)</span><br><span class="line">        prev = curr = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, n + <span class="number">1</span>):</span><br><span class="line">            nxt = min(curr + cost[i - <span class="number">1</span>], prev + cost[i - <span class="number">2</span>])</span><br><span class="line">            prev, curr = curr, nxt</span><br><span class="line">        <span class="keyword">return</span> curr</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minCostClimbingStairs</span><span class="params">(<span class="keyword">int</span>* cost, <span class="keyword">int</span> costSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> prev = <span class="number">0</span>, curr = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= costSize; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> next = fmin(curr + cost[i - <span class="number">1</span>], prev + cost[i - <span class="number">2</span>]);</span><br><span class="line">        prev = curr;</span><br><span class="line">        curr = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> curr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œå…¶ä¸­ *n</em> æ˜¯æ•°ç»„cost çš„é•¿åº¦ã€‚éœ€è¦ä¾æ¬¡è®¡ç®—æ¯ä¸ªdp å€¼ï¼Œæ¯ä¸ªå€¼çš„è®¡ç®—éœ€è¦å¸¸æ•°æ—¶é—´ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ <em>O(n)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚ä½¿ç”¨æ»šåŠ¨æ•°ç»„çš„æ€æƒ³ï¼Œåªéœ€è¦ä½¿ç”¨æœ‰é™çš„é¢å¤–ç©ºé—´ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ•°ç»„çš„æ¯ä¸ªä¸‹æ ‡ä½œä¸ºä¸€ä¸ªé˜¶æ¢¯ï¼Œç¬¬ i ä¸ªé˜¶æ¢¯å¯¹åº”ç€ä¸€ä¸ªéè´Ÿæ•°çš„ä½“åŠ›èŠ±è´¹å€¼ cost[i]ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ¯å½“ä½ çˆ¬ä¸Šä¸€ä¸ªé˜¶æ¢¯ä½ éƒ½è¦èŠ±è´¹å¯¹åº”çš„ä½“åŠ›å€¼ï¼Œä¸€æ—¦æ”¯ä»˜äº†ç›¸åº”çš„ä½“åŠ›å€¼ï¼Œä½ å°±å¯ä»¥é€‰æ‹©å‘ä¸Šçˆ¬ä¸€ä¸ªé˜¶æ¢¯æˆ–è€…çˆ¬ä¸¤ä¸ªé˜¶æ¢¯ã€‚&lt;/p&gt;
&lt;p&gt;è¯·ä½ æ‰¾å‡ºè¾¾åˆ°æ¥¼å±‚é¡¶éƒ¨çš„æœ€ä½èŠ±è´¹ã€‚åœ¨å¼€å§‹æ—¶ï¼Œä½ å¯ä»¥é€‰æ‹©ä»ä¸‹æ ‡ä¸º 0 æˆ– 1 çš„å…ƒç´ ä½œä¸ºåˆå§‹é˜¶æ¢¯ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡ Offer II 088. çˆ¬æ¥¼æ¢¯çš„æœ€å°‘æˆæœ¬</title>
    <link href="http://yoursite.com/2021/12/16/%E5%89%91%E6%8C%87%20Offer%20II%20088.%20%E7%88%AC%E6%A5%BC%E6%A2%AF%E7%9A%84%E6%9C%80%E5%B0%91%E6%88%90%E6%9C%AC/"/>
    <id>http://yoursite.com/2021/12/16/å‰‘æŒ‡ Offer II 088. çˆ¬æ¥¼æ¢¯çš„æœ€å°‘æˆæœ¬/</id>
    <published>2021-12-16T08:12:12.000Z</published>
    <updated>2021-12-16T08:25:41.154Z</updated>
    
    <content type="html"><![CDATA[<p>æ•°ç»„çš„æ¯ä¸ªä¸‹æ ‡ä½œä¸ºä¸€ä¸ªé˜¶æ¢¯ï¼Œç¬¬ i ä¸ªé˜¶æ¢¯å¯¹åº”ç€ä¸€ä¸ªéè´Ÿæ•°çš„ä½“åŠ›èŠ±è´¹å€¼ cost[i]ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ã€‚</p><p>æ¯å½“ä½ çˆ¬ä¸Šä¸€ä¸ªé˜¶æ¢¯ä½ éƒ½è¦èŠ±è´¹å¯¹åº”çš„ä½“åŠ›å€¼ï¼Œä¸€æ—¦æ”¯ä»˜äº†ç›¸åº”çš„ä½“åŠ›å€¼ï¼Œä½ å°±å¯ä»¥é€‰æ‹©å‘ä¸Šçˆ¬ä¸€ä¸ªé˜¶æ¢¯æˆ–è€…çˆ¬ä¸¤ä¸ªé˜¶æ¢¯ã€‚</p><p>è¯·ä½ æ‰¾å‡ºè¾¾åˆ°æ¥¼å±‚é¡¶éƒ¨çš„æœ€ä½èŠ±è´¹ã€‚åœ¨å¼€å§‹æ—¶ï¼Œä½ å¯ä»¥é€‰æ‹©ä»ä¸‹æ ‡ä¸º 0 æˆ– 1 çš„å…ƒç´ ä½œä¸ºåˆå§‹é˜¶æ¢¯ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šcost = [10, 15, 20]è¾“å‡ºï¼š15è§£é‡Šï¼šæœ€ä½èŠ±è´¹æ˜¯ä» cost[1] å¼€å§‹ï¼Œç„¶åèµ°ä¸¤æ­¥å³å¯åˆ°é˜¶æ¢¯é¡¶ï¼Œä¸€å…±èŠ±è´¹ 15 ã€‚</code></pre><p> ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šcost = [1, 100, 1, 1, 1, 100, 1, 1, 100, 1]è¾“å‡ºï¼š6è§£é‡Šï¼šæœ€ä½èŠ±è´¹æ–¹å¼æ˜¯ä» cost[0] å¼€å§‹ï¼Œé€ä¸ªç»è¿‡é‚£äº› 1 ï¼Œè·³è¿‡ cost[3] ï¼Œä¸€å…±èŠ±è´¹ 6 ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>cost çš„é•¿åº¦èŒƒå›´æ˜¯ [2, 1000]ã€‚cost[i] å°†ä¼šæ˜¯ä¸€ä¸ªæ•´å‹æ•°æ®ï¼ŒèŒƒå›´ä¸º [0, 999] ã€‚</code></pre><p>æ³¨æ„ï¼šæœ¬é¢˜ä¸<a href="https://leetcode-cn.com/problems/min-cost-climbing-stairs/" target="_blank" rel="noopener">746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯</a>ç›¸åŒï¼š </p><h1 id="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’-1"><a href="#æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’^1"></a>æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’<a href="https://leetcode-cn.com/problems/min-cost-climbing-stairs/solution/shi-yong-zui-xiao-hua-fei-pa-lou-ti-by-l-ncf8/" target="_blank" rel="noopener">^1</a></h1><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minCostClimbingStairs</span><span class="params">(<span class="keyword">int</span>[] cost)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = cost.length;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = dp[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            dp[i] = Math.min(dp[i - <span class="number">1</span>] + cost[i - <span class="number">1</span>], dp[i - <span class="number">2</span>] + cost[i - <span class="number">2</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int MinCostClimbingStairs(int[] cost) &#123;</span><br><span class="line">        int n = cost.Length;</span><br><span class="line">        int[] dp = new int[n + 1];</span><br><span class="line">        dp[0] = dp[1] = 0;</span><br><span class="line">        for (int i = 2; i &lt;= n; i++) &#123;</span><br><span class="line">            dp[i] = Math.Min(dp[i - 1] + cost[i - 1], dp[i - 2] + cost[i - 2]);</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> minCostClimbingStairs = <span class="function"><span class="keyword">function</span>(<span class="params">cost</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = cost.length;</span><br><span class="line">    <span class="keyword">const</span> dp = <span class="keyword">new</span> <span class="built_in">Array</span>(n + <span class="number">1</span>);</span><br><span class="line">    dp[<span class="number">0</span>] = dp[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        dp[i] = <span class="built_in">Math</span>.min(dp[i - <span class="number">1</span>] + cost[i - <span class="number">1</span>], dp[i - <span class="number">2</span>] + cost[i - <span class="number">2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minCostClimbingStairs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; cost)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = cost.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(n + <span class="number">1</span>);</span><br><span class="line">        dp[<span class="number">0</span>] = dp[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            dp[i] = min(dp[i - <span class="number">1</span>] + cost[i - <span class="number">1</span>], dp[i - <span class="number">2</span>] + cost[i - <span class="number">2</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">minCostClimbingStairs</span><span class="params">(cost []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(cost)</span><br><span class="line">    dp := <span class="built_in">make</span>([]<span class="keyword">int</span>, n+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">2</span>; i &lt;= n; i++ &#123;</span><br><span class="line">        dp[i] = min(dp[i<span class="number">-1</span>]+cost[i<span class="number">-1</span>], dp[i<span class="number">-2</span>]+cost[i<span class="number">-2</span>])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">min</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minCostClimbingStairs</span><span class="params">(self, cost: List[int])</span> -&gt; int:</span></span><br><span class="line">        n = len(cost)</span><br><span class="line">        dp = [<span class="number">0</span>] * (n + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, n + <span class="number">1</span>):</span><br><span class="line">            dp[i] = min(dp[i - <span class="number">1</span>] + cost[i - <span class="number">1</span>], dp[i - <span class="number">2</span>] + cost[i - <span class="number">2</span>])</span><br><span class="line">        <span class="keyword">return</span> dp[n]</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minCostClimbingStairs</span><span class="params">(<span class="keyword">int</span>* cost, <span class="keyword">int</span> costSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> dp[costSize + <span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = dp[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= costSize; i++) &#123;</span><br><span class="line">        dp[i] = fmin(dp[i - <span class="number">1</span>] + cost[i - <span class="number">1</span>], dp[i - <span class="number">2</span>] + cost[i - <span class="number">2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[costSize];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>ä¸Šè¿°ä»£ç çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯ <em>O(n)</em> ã€‚å¯ä»¥ä½¿ç”¨æ»šåŠ¨æ•°ç»„çš„æ€æƒ³ï¼Œå°†ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–åˆ° <em>O(1)</em>ã€‚</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minCostClimbingStairs</span><span class="params">(<span class="keyword">int</span>[] cost)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = cost.length;</span><br><span class="line">        <span class="keyword">int</span> prev = <span class="number">0</span>, curr = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> next = Math.min(curr + cost[i - <span class="number">1</span>], prev + cost[i - <span class="number">2</span>]);</span><br><span class="line">            prev = curr;</span><br><span class="line">            curr = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> curr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol2-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> minCostClimbingStairs = <span class="function"><span class="keyword">function</span>(<span class="params">cost</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = cost.length;</span><br><span class="line">    <span class="keyword">let</span> prev = <span class="number">0</span>, curr = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> next = <span class="built_in">Math</span>.min(curr + cost[i - <span class="number">1</span>], prev + cost[i - <span class="number">2</span>]);</span><br><span class="line">        prev = curr;</span><br><span class="line">        curr = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> curr;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">minCostClimbingStairs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; cost)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = cost.size();</span><br><span class="line">        <span class="keyword">int</span> prev = <span class="number">0</span>, curr = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> next = min(curr + cost[i - <span class="number">1</span>], prev + cost[i - <span class="number">2</span>]);</span><br><span class="line">            prev = curr;</span><br><span class="line">            curr = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> curr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol2-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int MinCostClimbingStairs(int[] cost) &#123;</span><br><span class="line">        int n = cost.Length;</span><br><span class="line">        int prev = 0, curr = 0;</span><br><span class="line">        for (int i = 2; i &lt;= n; i++) &#123;</span><br><span class="line">            int next = Math.Min(curr + cost[i - 1], prev + cost[i - 2]);</span><br><span class="line">            prev = curr;</span><br><span class="line">            curr = next;</span><br><span class="line">        &#125;</span><br><span class="line">        return curr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">minCostClimbingStairs</span><span class="params">(cost []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(cost)</span><br><span class="line">    pre, cur := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">2</span>; i &lt;= n; i++ &#123;</span><br><span class="line">        pre, cur = cur, min(cur+cost[i<span class="number">-1</span>], pre+cost[i<span class="number">-2</span>])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cur</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">min</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &lt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minCostClimbingStairs</span><span class="params">(self, cost: List[int])</span> -&gt; int:</span></span><br><span class="line">        n = len(cost)</span><br><span class="line">        prev = curr = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, n + <span class="number">1</span>):</span><br><span class="line">            nxt = min(curr + cost[i - <span class="number">1</span>], prev + cost[i - <span class="number">2</span>])</span><br><span class="line">            prev, curr = curr, nxt</span><br><span class="line">        <span class="keyword">return</span> curr</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minCostClimbingStairs</span><span class="params">(<span class="keyword">int</span>* cost, <span class="keyword">int</span> costSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> prev = <span class="number">0</span>, curr = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= costSize; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> next = fmin(curr + cost[i - <span class="number">1</span>], prev + cost[i - <span class="number">2</span>]);</span><br><span class="line">        prev = curr;</span><br><span class="line">        curr = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> curr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œå…¶ä¸­ *n</em> æ˜¯æ•°ç»„cost çš„é•¿åº¦ã€‚éœ€è¦ä¾æ¬¡è®¡ç®—æ¯ä¸ªdp å€¼ï¼Œæ¯ä¸ªå€¼çš„è®¡ç®—éœ€è¦å¸¸æ•°æ—¶é—´ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ <em>O(n)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚ä½¿ç”¨æ»šåŠ¨æ•°ç»„çš„æ€æƒ³ï¼Œåªéœ€è¦ä½¿ç”¨æœ‰é™çš„é¢å¤–ç©ºé—´ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ•°ç»„çš„æ¯ä¸ªä¸‹æ ‡ä½œä¸ºä¸€ä¸ªé˜¶æ¢¯ï¼Œç¬¬ i ä¸ªé˜¶æ¢¯å¯¹åº”ç€ä¸€ä¸ªéè´Ÿæ•°çš„ä½“åŠ›èŠ±è´¹å€¼ cost[i]ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ¯å½“ä½ çˆ¬ä¸Šä¸€ä¸ªé˜¶æ¢¯ä½ éƒ½è¦èŠ±è´¹å¯¹åº”çš„ä½“åŠ›å€¼ï¼Œä¸€æ—¦æ”¯ä»˜äº†ç›¸åº”çš„ä½“åŠ›å€¼ï¼Œä½ å°±å¯ä»¥é€‰æ‹©å‘ä¸Šçˆ¬ä¸€ä¸ªé˜¶æ¢¯æˆ–è€…çˆ¬ä¸¤ä¸ªé˜¶æ¢¯ã€‚&lt;/p&gt;
&lt;p&gt;è¯·ä½ æ‰¾å‡ºè¾¾åˆ°æ¥¼å±‚é¡¶éƒ¨çš„æœ€ä½èŠ±è´¹ã€‚åœ¨å¼€å§‹æ—¶ï¼Œä½ å¯ä»¥é€‰æ‹©ä»ä¸‹æ ‡ä¸º 0 æˆ– 1 çš„å…ƒç´ ä½œä¸ºåˆå§‹é˜¶æ¢¯ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>70. çˆ¬æ¥¼æ¢¯</title>
    <link href="http://yoursite.com/2021/12/16/70.%20%E7%88%AC%E6%A5%BC%E6%A2%AF/"/>
    <id>http://yoursite.com/2021/12/16/70. çˆ¬æ¥¼æ¢¯/</id>
    <published>2021-12-16T07:12:12.000Z</published>
    <updated>2021-12-16T07:30:09.737Z</updated>
    
    <content type="html"><![CDATA[<p>å‡è®¾ä½ æ­£åœ¨çˆ¬æ¥¼æ¢¯ã€‚éœ€è¦ n é˜¶ä½ æ‰èƒ½åˆ°è¾¾æ¥¼é¡¶ã€‚</p><p>æ¯æ¬¡ä½ å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ã€‚ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿ</p><a id="more"></a><p>[TOC]</p><p>æ³¨æ„ï¼šç»™å®š n æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼š 2è¾“å‡ºï¼š 2è§£é‡Šï¼š æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚1.  1 é˜¶ + 1 é˜¶2.  2 é˜¶</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼š 3è¾“å‡ºï¼š 3è§£é‡Šï¼š æœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶ã€‚1.  1 é˜¶ + 1 é˜¶ + 1 é˜¶2.  1 é˜¶ + 2 é˜¶3.  2 é˜¶ + 1 é˜¶</code></pre><p>å…·ä½“è§£æ³•å’Œæ–æ³¢é‚£å¥‘æ•°åˆ—ä¸€æ ·ï¼ŒåŠ¨æ€è§„åˆ’ï¼ŒçŸ©é˜µå¿«é€Ÿå¹‚å’Œé½æ¬¡çº¿æ€§é€’æ¨æ–¹ç¨‹å–é€šè§£ã€‚æœ¬æ¥å·²ç»è¿™æ ·å°±ç©åˆ°æè‡´äº†<a href="https://leetcode-cn.com/problems/climbing-stairs/solution/pa-lou-ti-by-leetcode-solution/" target="_blank" rel="noopener">^1</a>ï¼Œæ²¡æƒ³åˆ°è¿˜æœ‰å·ä¸­å·ï¼Œè¯„è®ºé‡Œæœ‰äººæåˆ°å­—èŠ‚é¢è¯•è¿˜ä¼šä¿®æ”¹æ¡ä»¶ï¼Œè¿™æ ·å°±åˆä¸ºä¹‹ä¸€å˜ã€‚</p><h1 id="åŠ å…¥æ–°çš„é™åˆ¶æ¡ä»¶ï¼šä¸èƒ½è¿ç»­è·³ä¸¤ä¸ªå°é˜¶ã€‚"><a href="#åŠ å…¥æ–°çš„é™åˆ¶æ¡ä»¶ï¼šä¸èƒ½è¿ç»­è·³ä¸¤ä¸ªå°é˜¶ã€‚" class="headerlink" title="åŠ å…¥æ–°çš„é™åˆ¶æ¡ä»¶ï¼šä¸èƒ½è¿ç»­è·³ä¸¤ä¸ªå°é˜¶ã€‚"></a>åŠ å…¥æ–°çš„é™åˆ¶æ¡ä»¶ï¼šä¸èƒ½è¿ç»­è·³ä¸¤ä¸ªå°é˜¶ã€‚</h1><p> 1ã€æ¯æ¬¡ä½ å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ã€‚</p><p> 2ã€ä¸èƒ½è¿ç»­è·³ä¸¤ä¸ªå°é˜¶ã€‚ï¼ˆä¸ªäººç†è§£ä¸ºè¿™æ¬¡è·³äº†ä¸¤ä¸ªå°é˜¶ï¼Œä¸‹æ¬¡ä¸èƒ½å†è·³ä¸¤ä¸ªå°é˜¶ï¼‰</p><p> å‡è®¾ï¼š</p><pre><code>f(x) è¡¨ç¤ºçˆ¬åˆ°ç¬¬ x çº§å°é˜¶çš„æ–¹æ¡ˆæ•°ï¼Œ g(x, 1) è¡¨ç¤ºçˆ¬åˆ°ç¬¬ x çº§å°é˜¶å¹¶ä¸”æœ€åä¸€æ­¥åªè·¨è¶Šä¸€ä¸ªå°é˜¶çš„æ–¹æ¡ˆæ•°ï¼Œ g(x, 2) è¡¨ç¤ºçˆ¬åˆ°ç¬¬ x çº§å°é˜¶å¹¶ä¸”æœ€åä¸€æ­¥è·¨è¶Šäº†ä¸¤ä¸ªå°é˜¶çš„æ–¹æ¡ˆæ•°ã€‚ç”± ï¼šf(x) = g(x, 1)+g(x,2)ï¼Œ g(x, 1) = f(x-1)ï¼Œ g(x, 2) = g(x-2, 1) // æœ€åä¸€æ­¥è·¨è¶Šäº†ä¸¤æ­¥ï¼Œé‚£ä¹ˆä¸Šä¸€æ­¥åªèƒ½è·¨è¶Šä¸€æ­¥å¾—ï¼šf(x) = g(x, 1) + g(x, 2)       = f(x-1) + g(x-2, 1)       = f(x-1) + f((x-2)-1)      = f(x-1) + f(x-3)</code></pre><p>é¢˜ç›®é‡Œâ€œä¸èƒ½è¿ç»­è·³ä¸¤ä¸ªå°é˜¶â€ï¼Œå³ä¸€æ—¦è·³äº†ä¸¤ä¸ªå°é˜¶ï¼Œåˆ™ä¸‹ä¸€æ­¥åªèƒ½è·³ä¸€æ­¥ï¼ˆ2-&gt;1ï¼‰ï¼ŒæŠŠå®ƒä»¬è¿åœ¨ä¸€èµ·å°±ä¸€å…±è·³äº†ä¸‰ä¸ªå°é˜¶ï¼Œæ‰€ä»¥é—®é¢˜å¯ä»¥è½¬åŒ–ä¸ºè¦ä¹ˆè·³ä¸€ä¸ªå°é˜¶ï¼Œè¦ä¹ˆè·³ä¸‰ä¸ªå°é˜¶ï¼ˆå½“ç„¶è¿˜æ˜¯æœ‰ç‚¹åŒºåˆ«çš„ï¼Œåªä¸è¿‡å› ä¸ºç»“æœæ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥å¯ä»¥è¿™ä¹ˆè½¬åŒ–ï¼‰ï¼Œäºæ˜¯å°±æœ‰äº† f(x) = f(x-1) + f(x-3)</p><pre><code>public int climbStarts2(int n) {        if(n == 1) return 1; // é˜²æ­¢æ•°ç»„æº¢å‡ºï¼ˆf[2]ï¼‰        int[] f = new int[n+1];        f[0] = 1;        f[1] = 1;        f[2] = 2;        for(int i = 3; i &lt;= n; i++) {            f[i] = f[i-1] + f[i-3];        }        return f[n];    }</code></pre><p>ç»“åˆæ‰§è¡Œæ ‘ä¼šæ›´å¿«ç†è§£ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    </span><br><span class="line">                         6</span><br><span class="line">                   /            \</span><br><span class="line">                  5              4</span><br><span class="line">             /        \         /</span><br><span class="line">            4          3       3</span><br><span class="line">        /       \     /      /   \</span><br><span class="line">       3         2   2      2     1</span><br><span class="line">     /  \       /   / \    / \   /</span><br><span class="line">    2    1     1   1   0  1   0 0</span><br><span class="line">   / \   /    /   /      /</span><br><span class="line">  1   0 0    0   0      0</span><br><span class="line"> /</span><br><span class="line">0</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ä¸ª n = 6 æ—¶ç»˜åˆ¶çš„ä¸€ä¸ªå¸¦æƒäºŒå‰æ ‘ï¼Œå…¶ä¸­å·¦èŠ‚ç‚¹ä¸ºæƒ 1ï¼Œå³èŠ‚ç‚¹ä¸ºæƒ 2ï¼Œå¾ˆæ˜æ˜¾ï¼Œé—®é¢˜çš„è§£ä¸ºæ ‘çš„éç©ºå¶èŠ‚ç‚¹ä¸ªæ•°ã€‚</p><p>æ ¹èŠ‚ç‚¹ä¸º f(x)<br>æ ¹èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ä¸º g(x, 1)ï¼Œåˆä¸º f(x - 1)ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªåŒç±»å‹çš„å­é—®é¢˜<br>æ ¹èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ä¸º g(x, 2)<br>è€Œçœ‹èŠ‚ç‚¹ g(x, 2)ï¼Œå…¶ä¸åŒ…å«éç©ºå³èŠ‚ç‚¹ï¼Œå³å®ƒçš„è§£ç­‰åŒäºå®ƒçš„å·¦èŠ‚ç‚¹çš„è§£ï¼Œå†å°†å…¶ç›¸å¯¹äºæ ¹èŠ‚ç‚¹ï¼Œå¯ä»¥æ˜æ˜¾çœ‹å‡ºå…¶ä¸º f(x - 3)</p><p>æœ€ç»ˆç»“æœä¾¿ä¸ºï¼šf(x) = f(x - 1) + f(x - 3)</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å‡è®¾ä½ æ­£åœ¨çˆ¬æ¥¼æ¢¯ã€‚éœ€è¦ n é˜¶ä½ æ‰èƒ½åˆ°è¾¾æ¥¼é¡¶ã€‚&lt;/p&gt;
&lt;p&gt;æ¯æ¬¡ä½ å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ã€‚ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿ&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
      <category term="Recursion" scheme="http://yoursite.com/tags/Recursion/"/>
    
      <category term="Memoization" scheme="http://yoursite.com/tags/Memoization/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡ Offer 10- II. é’è›™è·³å°é˜¶é—®é¢˜</title>
    <link href="http://yoursite.com/2021/12/16/%E5%89%91%E6%8C%87%20Offer%2010-%20II.%20%E9%9D%92%E8%9B%99%E8%B7%B3%E5%8F%B0%E9%98%B6%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2021/12/16/å‰‘æŒ‡ Offer 10- II. é’è›™è·³å°é˜¶é—®é¢˜/</id>
    <published>2021-12-16T07:12:12.000Z</published>
    <updated>2021-12-16T07:30:03.599Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€åªé’è›™ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§å°é˜¶ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ª n çº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šn = 2è¾“å‡ºï¼š2</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šn = 7è¾“å‡ºï¼š21</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šn = 0è¾“å‡ºï¼š1</code></pre><p>æç¤ºï¼š</p><p>0 &lt;= n &lt;= 100</p><p>æ³¨æ„ï¼šæœ¬é¢˜ä¸<a href="https://leetcode-cn.com/problems/climbing-stairs/" target="_blank" rel="noopener">70. çˆ¬æ¥¼æ¢¯</a>ç›¸åŒ</p><p>å…·ä½“è§£æ³•å’Œæ–æ³¢é‚£å¥‘æ•°åˆ—ä¸€æ ·ï¼ŒåŠ¨æ€è§„åˆ’ï¼ŒçŸ©é˜µå¿«é€Ÿå¹‚å’Œé½æ¬¡çº¿æ€§é€’æ¨æ–¹ç¨‹å–é€šè§£ã€‚æœ¬æ¥å·²ç»è¿™æ ·å°±ç©åˆ°æè‡´äº†<a href="https://leetcode-cn.com/problems/climbing-stairs/solution/pa-lou-ti-by-leetcode-solution/" target="_blank" rel="noopener">^1</a>ï¼Œæ²¡æƒ³åˆ°è¿˜æœ‰å·ä¸­å·ï¼Œè¯„è®ºé‡Œæœ‰äººæåˆ°å­—èŠ‚é¢è¯•è¿˜ä¼šä¿®æ”¹æ¡ä»¶ï¼Œè¿™æ ·å°±åˆä¸ºä¹‹ä¸€å˜ã€‚</p><h1 id="åŠ å…¥æ–°çš„é™åˆ¶æ¡ä»¶ï¼šä¸èƒ½è¿ç»­è·³ä¸¤ä¸ªå°é˜¶ã€‚"><a href="#åŠ å…¥æ–°çš„é™åˆ¶æ¡ä»¶ï¼šä¸èƒ½è¿ç»­è·³ä¸¤ä¸ªå°é˜¶ã€‚" class="headerlink" title="åŠ å…¥æ–°çš„é™åˆ¶æ¡ä»¶ï¼šä¸èƒ½è¿ç»­è·³ä¸¤ä¸ªå°é˜¶ã€‚"></a>åŠ å…¥æ–°çš„é™åˆ¶æ¡ä»¶ï¼šä¸èƒ½è¿ç»­è·³ä¸¤ä¸ªå°é˜¶ã€‚</h1><p> 1ã€æ¯æ¬¡ä½ å¯ä»¥çˆ¬ 1 æˆ– 2 ä¸ªå°é˜¶ã€‚</p><p> 2ã€ä¸èƒ½è¿ç»­è·³ä¸¤ä¸ªå°é˜¶ã€‚ï¼ˆä¸ªäººç†è§£ä¸ºè¿™æ¬¡è·³äº†ä¸¤ä¸ªå°é˜¶ï¼Œä¸‹æ¬¡ä¸èƒ½å†è·³ä¸¤ä¸ªå°é˜¶ï¼‰</p><p> å‡è®¾ï¼š</p><pre><code>f(x) è¡¨ç¤ºçˆ¬åˆ°ç¬¬ x çº§å°é˜¶çš„æ–¹æ¡ˆæ•°ï¼Œ g(x, 1) è¡¨ç¤ºçˆ¬åˆ°ç¬¬ x çº§å°é˜¶å¹¶ä¸”æœ€åä¸€æ­¥åªè·¨è¶Šä¸€ä¸ªå°é˜¶çš„æ–¹æ¡ˆæ•°ï¼Œ g(x, 2) è¡¨ç¤ºçˆ¬åˆ°ç¬¬ x çº§å°é˜¶å¹¶ä¸”æœ€åä¸€æ­¥è·¨è¶Šäº†ä¸¤ä¸ªå°é˜¶çš„æ–¹æ¡ˆæ•°ã€‚ç”± ï¼šf(x) = g(x, 1)+g(x,2)ï¼Œ g(x, 1) = f(x-1)ï¼Œ g(x, 2) = g(x-2, 1) // æœ€åä¸€æ­¥è·¨è¶Šäº†ä¸¤æ­¥ï¼Œé‚£ä¹ˆä¸Šä¸€æ­¥åªèƒ½è·¨è¶Šä¸€æ­¥å¾—ï¼šf(x) = g(x, 1) + g(x, 2)       = f(x-1) + g(x-2, 1)       = f(x-1) + f((x-2)-1)      = f(x-1) + f(x-3)</code></pre><p>é¢˜ç›®é‡Œâ€œä¸èƒ½è¿ç»­è·³ä¸¤ä¸ªå°é˜¶â€ï¼Œå³ä¸€æ—¦è·³äº†ä¸¤ä¸ªå°é˜¶ï¼Œåˆ™ä¸‹ä¸€æ­¥åªèƒ½è·³ä¸€æ­¥ï¼ˆ2-&gt;1ï¼‰ï¼ŒæŠŠå®ƒä»¬è¿åœ¨ä¸€èµ·å°±ä¸€å…±è·³äº†ä¸‰ä¸ªå°é˜¶ï¼Œæ‰€ä»¥é—®é¢˜å¯ä»¥è½¬åŒ–ä¸ºè¦ä¹ˆè·³ä¸€ä¸ªå°é˜¶ï¼Œè¦ä¹ˆè·³ä¸‰ä¸ªå°é˜¶ï¼ˆå½“ç„¶è¿˜æ˜¯æœ‰ç‚¹åŒºåˆ«çš„ï¼Œåªä¸è¿‡å› ä¸ºç»“æœæ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥å¯ä»¥è¿™ä¹ˆè½¬åŒ–ï¼‰ï¼Œäºæ˜¯å°±æœ‰äº† f(x) = f(x-1) + f(x-3)</p><pre><code>public int climbStarts2(int n) {        if(n == 1) return 1; // é˜²æ­¢æ•°ç»„æº¢å‡ºï¼ˆf[2]ï¼‰        int[] f = new int[n+1];        f[0] = 1;        f[1] = 1;        f[2] = 2;        for(int i = 3; i &lt;= n; i++) {            f[i] = f[i-1] + f[i-3];        }        return f[n];    }</code></pre><p>ç»“åˆæ‰§è¡Œæ ‘ä¼šæ›´å¿«ç†è§£ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    </span><br><span class="line">                         6</span><br><span class="line">                   /            \</span><br><span class="line">                  5              4</span><br><span class="line">             /        \         /</span><br><span class="line">            4          3       3</span><br><span class="line">        /       \     /      /   \</span><br><span class="line">       3         2   2      2     1</span><br><span class="line">     /  \       /   / \    / \   /</span><br><span class="line">    2    1     1   1   0  1   0 0</span><br><span class="line">   / \   /    /   /      /</span><br><span class="line">  1   0 0    0   0      0</span><br><span class="line"> /</span><br><span class="line">0</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ä¸ª n = 6 æ—¶ç»˜åˆ¶çš„ä¸€ä¸ªå¸¦æƒäºŒå‰æ ‘ï¼Œå…¶ä¸­å·¦èŠ‚ç‚¹ä¸ºæƒ 1ï¼Œå³èŠ‚ç‚¹ä¸ºæƒ 2ï¼Œå¾ˆæ˜æ˜¾ï¼Œé—®é¢˜çš„è§£ä¸ºæ ‘çš„éç©ºå¶èŠ‚ç‚¹ä¸ªæ•°ã€‚</p><p>æ ¹èŠ‚ç‚¹ä¸º f(x)<br>æ ¹èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ä¸º g(x, 1)ï¼Œåˆä¸º f(x - 1)ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªåŒç±»å‹çš„å­é—®é¢˜<br>æ ¹èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ä¸º g(x, 2)<br>è€Œçœ‹èŠ‚ç‚¹ g(x, 2)ï¼Œå…¶ä¸åŒ…å«éç©ºå³èŠ‚ç‚¹ï¼Œå³å®ƒçš„è§£ç­‰åŒäºå®ƒçš„å·¦èŠ‚ç‚¹çš„è§£ï¼Œå†å°†å…¶ç›¸å¯¹äºæ ¹èŠ‚ç‚¹ï¼Œå¯ä»¥æ˜æ˜¾çœ‹å‡ºå…¶ä¸º f(x - 3)</p><p>æœ€ç»ˆç»“æœä¾¿ä¸ºï¼šf(x) = f(x - 1) + f(x - 3)</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸€åªé’è›™ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§å°é˜¶ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ª n çº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
      <category term="Recursion" scheme="http://yoursite.com/tags/Recursion/"/>
    
      <category term="Memoization" scheme="http://yoursite.com/tags/Memoization/"/>
    
  </entry>
  
  <entry>
    <title>1414. å’Œä¸º K çš„æœ€å°‘æ–æ³¢é‚£å¥‘æ•°å­—æ•°ç›®</title>
    <link href="http://yoursite.com/2021/12/15/842.%20%E5%B0%86%E6%95%B0%E7%BB%84%E6%8B%86%E5%88%86%E6%88%90%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E5%BA%8F%E5%88%97/"/>
    <id>http://yoursite.com/2021/12/15/842. å°†æ•°ç»„æ‹†åˆ†æˆæ–æ³¢é‚£å¥‘åºåˆ—/</id>
    <published>2021-12-15T13:30:12.000Z</published>
    <updated>2021-12-15T14:42:44.038Z</updated>
    
    <content type="html"><![CDATA[<p>è¿”å›ä» S æ‹†åˆ†å‡ºæ¥çš„ä»»æ„ä¸€ç»„æ–æ³¢é‚£å¥‘å¼çš„åºåˆ—å—ï¼Œå¦‚æœä¸èƒ½æ‹†åˆ†åˆ™è¿”å› []ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç»™å®šä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸² Sï¼Œæ¯”å¦‚ S = â€œ123456579â€ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒåˆ†æˆæ–æ³¢é‚£å¥‘å¼çš„åºåˆ— [123, 456, 579]ã€‚</p><p>å½¢å¼ä¸Šï¼Œæ–æ³¢é‚£å¥‘å¼åºåˆ—æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°åˆ—è¡¨ Fï¼Œä¸”æ»¡è¶³ï¼š</p><p>0 &lt;= F[i] &lt;= 2^31 - 1ï¼Œï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªæ•´æ•°éƒ½ç¬¦åˆ 32 ä½æœ‰ç¬¦å·æ•´æ•°ç±»å‹ï¼‰ï¼›<br>F.length &gt;= 3ï¼›<br>å¯¹äºæ‰€æœ‰çš„0 &lt;= i &lt; F.length - 2ï¼Œéƒ½æœ‰ F[i] + F[i+1] = F[i+2] æˆç«‹ã€‚<br>å¦å¤–ï¼Œè¯·æ³¨æ„ï¼Œå°†å­—ç¬¦ä¸²æ‹†åˆ†æˆå°å—æ—¶ï¼Œæ¯ä¸ªå—çš„æ•°å­—ä¸€å®šä¸è¦ä»¥é›¶å¼€å¤´ï¼Œé™¤éè¿™ä¸ªå—æ˜¯æ•°å­— 0 æœ¬èº«ã€‚</p><p>è¿”å›ä» S æ‹†åˆ†å‡ºæ¥çš„ä»»æ„ä¸€ç»„æ–æ³¢é‚£å¥‘å¼çš„åºåˆ—å—ï¼Œå¦‚æœä¸èƒ½æ‹†åˆ†åˆ™è¿”å› []ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼š&quot;123456579&quot;è¾“å‡ºï¼š[123,456,579]</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥: &quot;11235813&quot;è¾“å‡º: [1,1,2,3,5,8,13]</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥: &quot;112358130&quot;è¾“å‡º: []è§£é‡Š: è¿™é¡¹ä»»åŠ¡æ— æ³•å®Œæˆã€‚</code></pre><p>ç¤ºä¾‹ 4ï¼š</p><pre><code>è¾“å…¥ï¼š&quot;0123&quot;è¾“å‡ºï¼š[]è§£é‡Šï¼šæ¯ä¸ªå—çš„æ•°å­—ä¸èƒ½ä»¥é›¶å¼€å¤´ï¼Œå› æ­¤ &quot;01&quot;ï¼Œ&quot;2&quot;ï¼Œ&quot;3&quot; ä¸æ˜¯æœ‰æ•ˆç­”æ¡ˆã€‚</code></pre><p>ç¤ºä¾‹ 5ï¼š</p><pre><code>è¾“å…¥: &quot;1101111&quot;è¾“å‡º: [110, 1, 111]è§£é‡Š: è¾“å‡º [11,0,11,11] ä¹ŸåŒæ ·è¢«æ¥å—ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= S.length &lt;= 200å­—ç¬¦ä¸² S ä¸­åªå«æœ‰æ•°å­—ã€‚</code></pre><h1 id="å›æº¯æ³•æ¨¡æ¿-1"><a href="#å›æº¯æ³•æ¨¡æ¿-1" class="headerlink" title="å›æº¯æ³•æ¨¡æ¿^1"></a>å›æº¯æ³•æ¨¡æ¿<a href="https://leetcode-cn.com/problems/split-array-into-fibonacci-sequence/solution/javahui-su-suan-fa-tu-wen-xiang-jie-ji-b-vg5z/" target="_blank" rel="noopener">^1</a></h1><details>    <summary>å›æº¯æ³•æ¨¡æ¿</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">private void backtrack(&quot;åŸå§‹å‚æ•°&quot;) &#123;</span><br><span class="line">    //ç»ˆæ­¢æ¡ä»¶(é€’å½’å¿…é¡»è¦æœ‰ç»ˆæ­¢æ¡ä»¶)</span><br><span class="line">    if (&quot;ç»ˆæ­¢æ¡ä»¶&quot;) &#123;</span><br><span class="line">        //ä¸€äº›é€»è¾‘æ“ä½œï¼ˆå¯æœ‰å¯æ— ï¼Œè§†æƒ…å†µè€Œå®šï¼‰</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for (int i = &quot;forå¾ªç¯å¼€å§‹çš„å‚æ•°&quot;; i &lt; &quot;forå¾ªç¯ç»“æŸçš„å‚æ•°&quot;; i++) &#123;</span><br><span class="line">        //ä¸€äº›é€»è¾‘æ“ä½œï¼ˆå¯æœ‰å¯æ— ï¼Œè§†æƒ…å†µè€Œå®šï¼‰</span><br><span class="line"></span><br><span class="line">        //åšå‡ºé€‰æ‹©</span><br><span class="line"></span><br><span class="line">        //é€’å½’</span><br><span class="line">        backtrack(&quot;æ–°çš„å‚æ•°&quot;);</span><br><span class="line">        //ä¸€äº›é€»è¾‘æ“ä½œï¼ˆå¯æœ‰å¯æ— ï¼Œè§†æƒ…å†µè€Œå®šï¼‰</span><br><span class="line"></span><br><span class="line">        //æ’¤é”€é€‰æ‹©</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="æ–¹æ³•ä¸€ï¼šå›æº¯-å‰ªæ-2"><a href="#æ–¹æ³•ä¸€ï¼šå›æº¯-å‰ªæ-2" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå›æº¯ + å‰ªæ^2"></a>æ–¹æ³•ä¸€ï¼šå›æº¯ + å‰ªæ<a href="https://leetcode-cn.com/problems/split-array-into-fibonacci-sequence/solution/jiang-shu-zu-chai-fen-cheng-fei-bo-na-qi-ts6c/" target="_blank" rel="noopener">^2</a></h1><p>å°†ç»™å®šçš„å­—ç¬¦ä¸²æ‹†åˆ†æˆæ–æ³¢é‚£å¥‘å¼åºåˆ—ï¼Œå¯ä»¥é€šè¿‡å›æº¯çš„æ–¹æ³•å®ç°ã€‚</p><p>ä½¿ç”¨åˆ—è¡¨å­˜å‚¨æ‹†åˆ†å‡ºçš„æ•°ï¼Œå›æº¯è¿‡ç¨‹ä¸­ç»´æŠ¤è¯¥åˆ—è¡¨çš„å…ƒç´ ï¼Œåˆ—è¡¨åˆå§‹ä¸ºç©ºã€‚éå†å­—ç¬¦ä¸²çš„æ‰€æœ‰å¯èƒ½çš„å‰ç¼€ï¼Œä½œä¸ºå½“å‰è¢«æ‹†åˆ†å‡ºçš„æ•°ï¼Œç„¶åå¯¹å‰©ä½™éƒ¨åˆ†ç»§ç»­æ‹†åˆ†ï¼Œç›´åˆ°æ•´ä¸ªå­—ç¬¦ä¸²æ‹†åˆ†å®Œæ¯•ã€‚</p><p>æ ¹æ®æ–æ³¢é‚£å¥‘å¼åºåˆ—çš„è¦æ±‚ï¼Œä»ç¬¬ <em>3</em> ä¸ªæ•°å¼€å§‹ï¼Œæ¯ä¸ªæ•°éƒ½ç­‰äºå‰ <em>2</em> ä¸ªæ•°çš„å’Œï¼Œå› æ­¤ä»ç¬¬ <em>3</em> ä¸ªæ•°å¼€å§‹ï¼Œéœ€è¦åˆ¤æ–­æ‹†åˆ†å‡ºçš„æ•°æ˜¯å¦ç­‰äºå‰ <em>2</em> ä¸ªæ•°çš„å’Œï¼Œåªæœ‰æ»¡è¶³è¦æ±‚æ—¶æ‰è¿›è¡Œæ‹†åˆ†ï¼Œå¦åˆ™ä¸è¿›è¡Œæ‹†åˆ†ã€‚</p><p>å›æº¯è¿‡ç¨‹ä¸­ï¼Œè¿˜æœ‰ä¸‰å¤„å¯ä»¥è¿›è¡Œå‰ªææ“ä½œã€‚</p><ul><li><p>æ‹†åˆ†å‡ºçš„æ•°å¦‚æœä¸æ˜¯ <em>0</em>ï¼Œåˆ™ä¸èƒ½ä»¥ <em>0</em> å¼€å¤´ï¼Œå› æ­¤å¦‚æœå­—ç¬¦ä¸²å‰©ä¸‹çš„éƒ¨åˆ†ä»¥ <em>0</em> å¼€å¤´ï¼Œå°±ä¸éœ€è¦è€ƒè™‘æ‹†åˆ†å‡ºé•¿åº¦å¤§äº <em>1</em> çš„æ•°ï¼Œå› ä¸ºé•¿åº¦å¤§äº <em>1</em> çš„æ•°ä»¥ <em>0</em> å¼€å¤´æ˜¯ä¸ç¬¦åˆè¦æ±‚çš„ï¼Œä¸å¯èƒ½ç»§ç»­æ‹†åˆ†å¾—åˆ°æ–æ³¢é‚£å¥‘å¼åºåˆ—ï¼›</p></li><li><p>æ‹†åˆ†å‡ºçš„æ•°å¿…é¡»ç¬¦åˆ <em>32</em> ä½æœ‰ç¬¦å·æ•´æ•°ç±»å‹ï¼Œå³æ¯ä¸ªæ•°å¿…é¡»åœ¨ <em>[0,2^{31}-1]</em> çš„èŒƒå›´å†…ï¼Œå¦‚æœæ‹†åˆ†å‡ºçš„æ•°å¤§äº <em>2^{31}-1</em>ï¼Œåˆ™ä¸ç¬¦åˆè¦æ±‚ï¼Œé•¿åº¦æ›´å¤§çš„æ•°çš„æ•°å€¼ä¹Ÿä¸€å®šæ›´å¤§ï¼Œä¸€å®šä¹Ÿå¤§äº <em>2^{31}-1</em>ï¼Œå› æ­¤ä¸å¯èƒ½ç»§ç»­æ‹†åˆ†å¾—åˆ°æ–æ³¢é‚£å¥‘å¼åºåˆ—ï¼›</p></li><li><p>å¦‚æœåˆ—è¡¨ä¸­è‡³å°‘æœ‰ <em>2</em> ä¸ªæ•°ï¼Œå¹¶ä¸”æ‹†åˆ†å‡ºçš„æ•°å·²ç»å¤§äºæœ€å <em>2</em> ä¸ªæ•°çš„å’Œï¼Œå°±ä¸éœ€è¦ç»§ç»­å°è¯•æ‹†åˆ†äº†ã€‚</p></li></ul><p>å½“æ•´ä¸ªå­—ç¬¦ä¸²æ‹†åˆ†å®Œæ¯•æ—¶ï¼Œå¦‚æœåˆ—è¡¨ä¸­è‡³å°‘æœ‰ <em>3</em> ä¸ªæ•°ï¼Œåˆ™å¾—åˆ°ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„æ–æ³¢é‚£å¥‘å¼åºåˆ—ï¼Œè¿”å›åˆ—è¡¨ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°ç¬¦åˆè¦æ±‚çš„æ–æ³¢é‚£å¥‘å¼åºåˆ—ï¼Œåˆ™è¿”å›ç©ºåˆ—è¡¨ã€‚</p><p>å®ç°æ–¹é¢ï¼Œå›æº¯éœ€è¦å¸¦è¿”å›å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å­˜åœ¨ç¬¦åˆè¦æ±‚çš„æ–æ³¢é‚£å¥‘å¼åºåˆ—ã€‚</p><p>ä½†æ˜¯ä»£ç éƒ¨åˆ†å®ç°çš„è¿‡äºç¹çï¼Œç®€æ´ç‰ˆå¯ä»¥å‚è§<a href="https://leetcode-cn.com/problems/split-array-into-fibonacci-sequence/solution/javahui-su-suan-fa-tu-wen-xiang-jie-ji-b-vg5z/" target="_blank" rel="noopener">^1</a></p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">splitIntoFibonacci</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    backtrack(S.toCharArray(), res, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">backtrack</span><span class="params">(<span class="keyword">char</span>[] digit, List&lt;Integer&gt; res, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//è¾¹ç•Œæ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœæˆªå–å®Œäº†ï¼Œå¹¶ä¸”resé•¿åº¦å¤§äºç­‰äº3ï¼Œè¡¨ç¤ºæ‰¾åˆ°äº†ä¸€ä¸ªç»„åˆã€‚</span></span><br><span class="line">    <span class="keyword">if</span> (index == digit.length &amp;&amp; res.size() &gt;= <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = index; i &lt; digit.length; i++) &#123;</span><br><span class="line">        <span class="comment">//ä¸¤ä½ä»¥ä¸Šçš„æ•°å­—ä¸èƒ½ä»¥0å¼€å¤´</span></span><br><span class="line">        <span class="keyword">if</span> (digit[index] == <span class="string">'0'</span> &amp;&amp; i &gt; index) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æˆªå–å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°å­—</span></span><br><span class="line">        <span class="keyword">long</span> num = subDigit(digit, index, i + <span class="number">1</span>);</span><br><span class="line">        <span class="comment">//å¦‚æœæˆªå–çš„æ•°å­—å¤§äºintçš„æœ€å¤§å€¼ï¼Œåˆ™ç»ˆæ­¢æˆªå–</span></span><br><span class="line">        <span class="keyword">if</span> (num &gt; Integer.MAX_VALUE) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> size = res.size();</span><br><span class="line">        <span class="comment">//å¦‚æœæˆªå–çš„æ•°å­—å¤§äºresä¸­å‰ä¸¤ä¸ªæ•°å­—çš„å’Œï¼Œè¯´æ˜è¿™æ¬¡æˆªå–çš„å¤ªå¤§ï¼Œç›´æ¥ç»ˆæ­¢ï¼Œå› ä¸ºåé¢è¶Šæˆªå–è¶Šå¤§</span></span><br><span class="line">        <span class="keyword">if</span> (size &gt;= <span class="number">2</span> &amp;&amp; num &gt; res.get(size - <span class="number">1</span>) + res.get(size - <span class="number">2</span>)) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (size &lt;= <span class="number">1</span> || num == res.get(size - <span class="number">1</span>) + res.get(size - <span class="number">2</span>)) &#123;</span><br><span class="line">            <span class="comment">//æŠŠæ•°å­—numæ·»åŠ åˆ°é›†åˆresä¸­</span></span><br><span class="line">            res.add((<span class="keyword">int</span>) num);</span><br><span class="line">            <span class="comment">//å¦‚æœæ‰¾åˆ°äº†å°±ç›´æ¥è¿”å›</span></span><br><span class="line">            <span class="keyword">if</span> (backtrack(digit, res, i + <span class="number">1</span>))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            <span class="comment">//å¦‚æœæ²¡æ‰¾åˆ°ï¼Œå°±ä¼šèµ°å›æº¯è¿™ä¸€æ­¥ï¼Œç„¶åæŠŠä¸Šä¸€æ­¥æ·»åŠ åˆ°é›†åˆresä¸­çš„æ•°å­—ç»™ç§»é™¤æ‰</span></span><br><span class="line">            res.remove(res.size() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç›¸å½“äºæˆªå–å­—ç¬¦ä¸²Sä¸­çš„å­ä¸²ç„¶åè½¬æ¢ä¸ºåè¿›åˆ¶æ•°å­—</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">long</span> <span class="title">subDigit</span><span class="params">(<span class="keyword">char</span>[] digit, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt; end; i++) &#123;</span><br><span class="line">        res = res * <span class="number">10</span> + digit[i] - <span class="string">'0'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; splitIntoFibonacci(<span class="built_in">string</span> num) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">list</span>;</span><br><span class="line">        backtrack(<span class="built_in">list</span>, num, num.length(), <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">list</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">backtrack</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; <span class="built_in">list</span>, <span class="built_in">string</span> num, <span class="keyword">int</span> length, <span class="keyword">int</span> index, <span class="keyword">long</span> <span class="keyword">long</span> sum, <span class="keyword">int</span> prev)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index == length) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">list</span>.size() &gt;= <span class="number">3</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> curr = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = index; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; index &amp;&amp; num[index] == <span class="string">'0'</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            curr = curr * <span class="number">10</span> + num[i] - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">if</span> (curr &gt; INT_MAX) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">list</span>.size() &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (curr &lt; sum) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (curr &gt; sum) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">list</span>.push_back(curr);</span><br><span class="line">            <span class="keyword">if</span> (backtrack(<span class="built_in">list</span>, num, length, i + <span class="number">1</span>, prev + curr, curr)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">list</span>.pop_back();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> splitIntoFibonacci = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> list = <span class="keyword">new</span> <span class="built_in">Array</span>().fill(<span class="number">0</span>);</span><br><span class="line">    backtrack(list, num, num.length, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> backtrack = <span class="function">(<span class="params">list, num, length, index, sum, prev</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index === length) &#123;</span><br><span class="line">        <span class="keyword">return</span> list.length &gt;= <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> currLong = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = index; i &lt; length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt; index &amp;&amp; num[index] === <span class="string">'0'</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        currLong = currLong * <span class="number">10</span> + num[i].charCodeAt() - <span class="string">'0'</span>.charCodeAt();</span><br><span class="line">        <span class="keyword">if</span> (currLong &gt; <span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">31</span>) - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> curr = currLong;</span><br><span class="line">        <span class="keyword">if</span> (list.length &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (curr &lt; sum) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (curr &gt; sum) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        list.push(curr);</span><br><span class="line">        <span class="keyword">if</span> (backtrack(list, num, length, i + <span class="number">1</span>, prev + curr, curr)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            list.splice(list.length - <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">splitIntoFibonacci</span><span class="params">(self, num: str)</span> -&gt; List[int]:</span></span><br><span class="line">        ans = list()</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">backtrack</span><span class="params">(index: int)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> index == len(num):</span><br><span class="line">                <span class="keyword">return</span> len(ans) &gt;= <span class="number">3</span></span><br><span class="line">            </span><br><span class="line">            curr = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(index, len(num)):</span><br><span class="line">                <span class="keyword">if</span> i &gt; index <span class="keyword">and</span> num[index] == <span class="string">"0"</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                curr = curr * <span class="number">10</span> + ord(num[i]) - ord(<span class="string">"0"</span>)</span><br><span class="line">                <span class="keyword">if</span> curr &gt; <span class="number">2</span>**<span class="number">31</span> - <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> len(ans) &lt; <span class="number">2</span> <span class="keyword">or</span> curr == ans[<span class="number">-2</span>] + ans[<span class="number">-1</span>]:</span><br><span class="line">                    ans.append(curr)</span><br><span class="line">                    <span class="keyword">if</span> backtrack(i + <span class="number">1</span>):</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">                    ans.pop()</span><br><span class="line">                <span class="keyword">elif</span> len(ans) &gt; <span class="number">2</span> <span class="keyword">and</span> curr &gt; ans[<span class="number">-2</span>] + ans[<span class="number">-1</span>]:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        </span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        </span><br><span class="line">        backtrack(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">splitIntoFibonacci</span><span class="params">(num <span class="keyword">string</span>)</span> <span class="params">(F []<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(num)</span><br><span class="line">    <span class="keyword">var</span> backtrack <span class="function"><span class="keyword">func</span><span class="params">(index, sum, prev <span class="keyword">int</span>)</span> <span class="title">bool</span></span></span><br><span class="line"><span class="function">    <span class="title">backtrack</span> = <span class="title">func</span><span class="params">(index, sum, prev <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> index == n &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">len</span>(F) &gt;= <span class="number">3</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        cur := <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i := index; i &lt; n; i++ &#123;</span><br><span class="line">            <span class="comment">// æ¯ä¸ªå—çš„æ•°å­—ä¸€å®šä¸è¦ä»¥é›¶å¼€å¤´ï¼Œé™¤éè¿™ä¸ªå—æ˜¯æ•°å­— 0 æœ¬èº«</span></span><br><span class="line">            <span class="keyword">if</span> i &gt; index &amp;&amp; num[index] == <span class="string">'0'</span> &#123;</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            cur = cur*<span class="number">10</span> + <span class="keyword">int</span>(num[i]-<span class="string">'0'</span>)</span><br><span class="line">            <span class="comment">// æ‹†å‡ºçš„æ•´æ•°è¦ç¬¦åˆ 32 ä½æœ‰ç¬¦å·æ•´æ•°ç±»å‹</span></span><br><span class="line">            <span class="keyword">if</span> cur &gt; math.MaxInt32 &#123;</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// F[i] + F[i+1] = F[i+2]</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(F) &gt;= <span class="number">2</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> cur &lt; sum &#123;</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> cur &gt; sum &#123;</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// cur ç¬¦åˆè¦æ±‚ï¼ŒåŠ å…¥åºåˆ— F</span></span><br><span class="line">            F = <span class="built_in">append</span>(F, cur)</span><br><span class="line">            <span class="keyword">if</span> backtrack(i+<span class="number">1</span>, prev+cur, cur) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">            F = F[:<span class="built_in">len</span>(F)<span class="number">-1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    backtrack(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">backtrack</span><span class="params">(<span class="keyword">int</span>* <span class="built_in">list</span>, <span class="keyword">int</span>* listSize, <span class="keyword">char</span>* num, <span class="keyword">int</span> length, <span class="keyword">int</span> index, <span class="keyword">long</span> <span class="keyword">long</span> sum, <span class="keyword">int</span> prev)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index == length) &#123;</span><br><span class="line">        <span class="keyword">return</span> (*listSize) &gt;= <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> curr = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = index; i &lt; length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt; index &amp;&amp; num[index] == <span class="string">'0'</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        curr = curr * <span class="number">10</span> + num[i] - <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">if</span> (curr &gt; INT_MAX) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ((*listSize) &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (curr &lt; sum) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (curr &gt; sum) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">list</span>[(*listSize)++] = curr;</span><br><span class="line">        <span class="keyword">if</span> (backtrack(<span class="built_in">list</span>, listSize, num, length, i + <span class="number">1</span>, prev + curr, curr)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        (*listSize)--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>* <span class="title">splitIntoFibonacci</span><span class="params">(<span class="keyword">char</span>* num, <span class="keyword">int</span>* returnSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = <span class="built_in">strlen</span>(num);</span><br><span class="line">    <span class="keyword">int</span>* <span class="built_in">list</span> = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * n);</span><br><span class="line">    *returnSize = <span class="number">0</span>;</span><br><span class="line">    backtrack(<span class="built_in">list</span>, returnSize, num, <span class="built_in">strlen</span>(num), <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">list</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿”å›ä» S æ‹†åˆ†å‡ºæ¥çš„ä»»æ„ä¸€ç»„æ–æ³¢é‚£å¥‘å¼çš„åºåˆ—å—ï¼Œå¦‚æœä¸èƒ½æ‹†åˆ†åˆ™è¿”å› []ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
      <category term="Backtracking" scheme="http://yoursite.com/tags/Backtracking/"/>
    
  </entry>
  
  <entry>
    <title>1414. å’Œä¸º K çš„æœ€å°‘æ–æ³¢é‚£å¥‘æ•°å­—æ•°ç›®</title>
    <link href="http://yoursite.com/2021/12/15/1414.%20%E5%92%8C%E4%B8%BA%20K%20%E7%9A%84%E6%9C%80%E5%B0%91%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%AD%97%E6%95%B0%E7%9B%AE/"/>
    <id>http://yoursite.com/2021/12/15/1414. å’Œä¸º K çš„æœ€å°‘æ–æ³¢é‚£å¥‘æ•°å­—æ•°ç›®/</id>
    <published>2021-12-15T12:02:12.000Z</published>
    <updated>2021-12-15T13:11:39.981Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ æ•°å­— k ï¼Œè¯·ä½ è¿”å›å’Œä¸º k çš„æ–æ³¢é‚£å¥‘æ•°å­—çš„æœ€å°‘æ•°ç›®ï¼Œå…¶ä¸­ï¼Œæ¯ä¸ªæ–æ³¢é‚£å¥‘æ•°å­—éƒ½å¯ä»¥è¢«ä½¿ç”¨å¤šæ¬¡ã€‚</p><a id="more"></a><p>[TOC]</p><p>æ–æ³¢é‚£å¥‘æ•°å­—å®šä¹‰ä¸ºï¼š</p><pre><code>F1 = 1F2 = 1Fn = Fn-1 + Fn-2 ï¼Œ å…¶ä¸­ n &gt; 2 ã€‚</code></pre><p>æ•°æ®ä¿è¯å¯¹äºç»™å®šçš„ k ï¼Œä¸€å®šèƒ½æ‰¾åˆ°å¯è¡Œè§£ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šk = 7è¾“å‡ºï¼š2 è§£é‡Šï¼šæ–æ³¢é‚£å¥‘æ•°å­—ä¸ºï¼š1ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ5ï¼Œ8ï¼Œ13ï¼Œâ€¦â€¦å¯¹äº k = 7 ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° 2 + 5 = 7 ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šk = 10è¾“å‡ºï¼š2 è§£é‡Šï¼šå¯¹äº k = 10 ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° 2 + 8 = 10 ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šk = 19è¾“å‡ºï¼š3 è§£é‡Šï¼šå¯¹äº k = 19 ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° 1 + 5 + 13 = 19 ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= k &lt;= 10^9</code></pre><h1 id="è´ªå¿ƒ-æ ˆ"><a href="#è´ªå¿ƒ-æ ˆ" class="headerlink" title="è´ªå¿ƒ+æ ˆ"></a>è´ªå¿ƒ+æ ˆ</h1><p>è¯æ˜å‚è§<a href="https://leetcode-cn.com/problems/find-the-minimum-number-of-fibonacci-numbers-whose-sum-is-k/solution/he-wei-k-de-zui-shao-fei-bo-na-qi-shu-zi-shu-mu-by/" target="_blank" rel="noopener">^1</a>ï¼Œè‡ªå·±è§‰å¾—ç”¨æ ˆçš„å†™æ³•æ¯”å®˜æ–¹é¢˜è§£æ›´æ˜“äºç†è§£</p><details>    <summary>Java</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int findMinFibonacciNumbers(int k) &#123;</span><br><span class="line">        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();</span><br><span class="line">        int a = 1, b = 1;</span><br><span class="line">        stack.push(a);</span><br><span class="line">        stack.push(b);</span><br><span class="line">        while (stack.peek() &lt;= k) &#123;</span><br><span class="line">            int c = a + b;</span><br><span class="line">            stack.push(c);</span><br><span class="line">            a = b;</span><br><span class="line">            b = c;</span><br><span class="line">        &#125;</span><br><span class="line">        int len = 0;</span><br><span class="line">        while (!stack.isEmpty() &amp;&amp; k &gt; 0) &#123;</span><br><span class="line">            int temp = stack.pop();</span><br><span class="line">            if (temp &lt;= k) &#123;</span><br><span class="line">                len++;</span><br><span class="line">                k = k - temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return len;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ æ•°å­— k ï¼Œè¯·ä½ è¿”å›å’Œä¸º k çš„æ–æ³¢é‚£å¥‘æ•°å­—çš„æœ€å°‘æ•°ç›®ï¼Œå…¶ä¸­ï¼Œæ¯ä¸ªæ–æ³¢é‚£å¥‘æ•°å­—éƒ½å¯ä»¥è¢«ä½¿ç”¨å¤šæ¬¡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Greedy" scheme="http://yoursite.com/tags/Greedy/"/>
    
  </entry>
  
</feed>
