<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yiye Li</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-10-06T11:23:41.870Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Yiye Li</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>146. LRUç¼“å­˜æœºåˆ¶</title>
    <link href="http://yoursite.com/2020/10/06/146.%20LRU%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6/"/>
    <id>http://yoursite.com/2020/10/06/146. LRUç¼“å­˜æœºåˆ¶/</id>
    <published>2020-10-06T02:03:12.000Z</published>
    <updated>2020-10-06T11:23:41.870Z</updated>
    
    <content type="html"><![CDATA[<p>è¿ç”¨ä½ æ‰€æŒæ¡çš„æ•°æ®ç»“æ„ï¼Œè®¾è®¡å’Œå®ç°ä¸€ä¸ª  LRU (æœ€è¿‘æœ€å°‘ä½¿ç”¨) ç¼“å­˜æœºåˆ¶ã€‚</p><a id="more"></a><p>å®ƒåº”è¯¥æ”¯æŒä»¥ä¸‹æ“ä½œï¼š </p><pre><code>è·å–æ•°æ® get å’Œ å†™å…¥æ•°æ® put ã€‚è·å–æ•°æ® get(key) - å¦‚æœå…³é”®å­— (key) å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è·å–å…³é”®å­—çš„å€¼ï¼ˆæ€»æ˜¯æ­£æ•°ï¼‰ï¼Œå¦åˆ™è¿”å› -1ã€‚å†™å…¥æ•°æ® put(key, value) - å¦‚æœå…³é”®å­—å·²ç»å­˜åœ¨ï¼Œåˆ™å˜æ›´å…¶æ•°æ®å€¼ï¼›å¦‚æœå…³é”®å­—ä¸å­˜åœ¨ï¼Œåˆ™æ’å…¥è¯¥ç»„ã€Œå…³é”®å­—/å€¼ã€ã€‚å½“ç¼“å­˜å®¹é‡è¾¾åˆ°ä¸Šé™æ—¶ï¼Œå®ƒåº”è¯¥åœ¨å†™å…¥æ–°æ•°æ®ä¹‹å‰åˆ é™¤æœ€ä¹…æœªä½¿ç”¨çš„æ•°æ®å€¼ï¼Œä»è€Œä¸ºæ–°çš„æ•°æ®å€¼ç•™å‡ºç©ºé—´ã€‚</code></pre><p>è¿›é˜¶:</p><pre><code>ä½ æ˜¯å¦å¯ä»¥åœ¨ O(1) æ—¶é—´å¤æ‚åº¦å†…å®Œæˆè¿™ä¸¤ç§æ“ä½œï¼Ÿ</code></pre><p>ç¤ºä¾‹:</p><pre><code>LRUCache cache = new LRUCache( 2 /* ç¼“å­˜å®¹é‡ */ );cache.put(1, 1);cache.put(2, 2);cache.get(1);       // è¿”å›  1cache.put(3, 3);    // è¯¥æ“ä½œä¼šä½¿å¾—å…³é”®å­— 2 ä½œåºŸcache.get(2);       // è¿”å› -1 (æœªæ‰¾åˆ°)cache.put(4, 4);    // è¯¥æ“ä½œä¼šä½¿å¾—å…³é”®å­— 1 ä½œåºŸcache.get(1);       // è¿”å› -1 (æœªæ‰¾åˆ°)cache.get(3);       // è¿”å›  3cache.get(4);       // è¿”å›  4</code></pre><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="42b5ca6a-4d69-4f7d-bf63-5c196aa23b44">146. LRUç¼“å­˜æœºåˆ¶.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å®ç°æœ¬é¢˜çš„ä¸¤ç§æ“ä½œï¼Œéœ€è¦ç”¨åˆ°ä¸€ä¸ªå“ˆå¸Œè¡¨å’Œä¸€ä¸ªåŒå‘é“¾è¡¨ã€‚åœ¨é¢è¯•ä¸­ï¼Œé¢è¯•å®˜ä¸€èˆ¬ä¼šæœŸæœ›è¯»è€…èƒ½å¤Ÿè‡ªå·±å®ç°ä¸€ä¸ªç®€å•çš„åŒå‘é“¾è¡¨ï¼Œè€Œä¸æ˜¯ä½¿ç”¨è¯­è¨€è‡ªå¸¦çš„ã€å°è£…å¥½çš„æ•°æ®ç»“æ„ã€‚åœ¨ <code>Python</code> è¯­è¨€ä¸­ï¼Œæœ‰ä¸€ç§ç»“åˆäº†å“ˆå¸Œè¡¨ä¸åŒå‘é“¾è¡¨çš„æ•°æ®ç»“æ„ <code>OrderedDict</code>ï¼Œåªéœ€è¦çŸ­çŸ­çš„å‡ è¡Œä»£ç å°±å¯ä»¥å®Œæˆæœ¬é¢˜ã€‚åœ¨ <code>Java</code> è¯­è¨€ä¸­ï¼ŒåŒæ ·æœ‰ç±»ä¼¼çš„æ•°æ®ç»“æ„ <code>LinkedHashMap</code>ã€‚è¿™äº›åšæ³•éƒ½ä¸ä¼šç¬¦åˆé¢è¯•å®˜çš„è¦æ±‚ï¼Œå› æ­¤ä¸‹é¢åªç»™å‡ºä½¿ç”¨å°è£…å¥½çš„æ•°æ®ç»“æ„å®ç°çš„ä»£ç ï¼Œè€Œä¸å¤šåšä»»ä½•é˜è¿°ã€‚</p><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[sol0-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span><span class="params">(collections.OrderedDict)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, capacity: int)</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.capacity = capacity</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, key: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> key <span class="keyword">not</span> <span class="keyword">in</span> self:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        self.move_to_end(key)</span><br><span class="line">        <span class="keyword">return</span> self[key]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">put</span><span class="params">(self, key: int, value: int)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="keyword">if</span> key <span class="keyword">in</span> self:</span><br><span class="line">            self.move_to_end(key)</span><br><span class="line">        self[key] = value</span><br><span class="line">        <span class="keyword">if</span> len(self) &gt; self.capacity:</span><br><span class="line">            self.popitem(last=<span class="keyword">False</span>)</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol0-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> <span class="keyword">extends</span> <span class="title">LinkedHashMap</span>&lt;<span class="title">Integer</span>, <span class="title">Integer</span>&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> capacity;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(capacity, <span class="number">0.75F</span>, <span class="keyword">true</span>);</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.getOrDefault(key, -<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.put(key, value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">removeEldestEntry</span><span class="params">(Map.Entry&lt;Integer, Integer&gt; eldest)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size() &gt; capacity; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨-åŒå‘é“¾è¡¨"><a href="#æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨-åŒå‘é“¾è¡¨" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨ + åŒå‘é“¾è¡¨"></a>æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨ + åŒå‘é“¾è¡¨</h2><p><strong>ç®—æ³•</strong></p><p>LRU ç¼“å­˜æœºåˆ¶å¯ä»¥é€šè¿‡å“ˆå¸Œè¡¨è¾…ä»¥åŒå‘é“¾è¡¨å®ç°ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨å’Œä¸€ä¸ªåŒå‘é“¾è¡¨ç»´æŠ¤æ‰€æœ‰åœ¨ç¼“å­˜ä¸­çš„é”®å€¼å¯¹ã€‚</p><ul><li><p>åŒå‘é“¾è¡¨æŒ‰ç…§è¢«ä½¿ç”¨çš„é¡ºåºå­˜å‚¨äº†è¿™äº›é”®å€¼å¯¹ï¼Œé è¿‘å¤´éƒ¨çš„é”®å€¼å¯¹æ˜¯æœ€è¿‘ä½¿ç”¨çš„ï¼Œè€Œé è¿‘å°¾éƒ¨çš„é”®å€¼å¯¹æ˜¯æœ€ä¹…æœªä½¿ç”¨çš„ã€‚</p></li><li><p>å“ˆå¸Œè¡¨å³ä¸ºæ™®é€šçš„å“ˆå¸Œæ˜ å°„ï¼ˆHashMapï¼‰ï¼Œé€šè¿‡ç¼“å­˜æ•°æ®çš„é”®æ˜ å°„åˆ°å…¶åœ¨åŒå‘é“¾è¡¨ä¸­çš„ä½ç½®ã€‚</p></li></ul><p>è¿™æ ·ä»¥æ¥ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨å“ˆå¸Œè¡¨è¿›è¡Œå®šä½ï¼Œæ‰¾å‡ºç¼“å­˜é¡¹åœ¨åŒå‘é“¾è¡¨ä¸­çš„ä½ç½®ï¼Œéšåå°†å…¶ç§»åŠ¨åˆ°åŒå‘é“¾è¡¨çš„å¤´éƒ¨ï¼Œå³å¯åœ¨ <em>O(1)</em> çš„æ—¶é—´å†…å®Œæˆ <code>get</code> æˆ–è€… <code>put</code> æ“ä½œã€‚å…·ä½“çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><ul><li><p>å¯¹äº <code>get</code> æ“ä½œï¼Œé¦–å…ˆåˆ¤æ–­ <code>key</code> æ˜¯å¦å­˜åœ¨ï¼š</p><ul><li><p>å¦‚æœ <code>key</code> ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› <em>-1</em>ï¼›</p></li><li><p>å¦‚æœ <code>key</code> å­˜åœ¨ï¼Œåˆ™ <code>key</code> å¯¹åº”çš„èŠ‚ç‚¹æ˜¯æœ€è¿‘è¢«ä½¿ç”¨çš„èŠ‚ç‚¹ã€‚é€šè¿‡å“ˆå¸Œè¡¨å®šä½åˆ°è¯¥èŠ‚ç‚¹åœ¨åŒå‘é“¾è¡¨ä¸­çš„ä½ç½®ï¼Œå¹¶å°†å…¶ç§»åŠ¨åˆ°åŒå‘é“¾è¡¨çš„å¤´éƒ¨ï¼Œæœ€åè¿”å›è¯¥èŠ‚ç‚¹çš„å€¼ã€‚</p></li></ul></li><li><p>å¯¹äº <code>put</code> æ“ä½œï¼Œé¦–å…ˆåˆ¤æ–­ <code>key</code> æ˜¯å¦å­˜åœ¨ï¼š</p><ul><li><p>å¦‚æœ <code>key</code> ä¸å­˜åœ¨ï¼Œä½¿ç”¨ <code>key</code> å’Œ <code>value</code> åˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œåœ¨åŒå‘é“¾è¡¨çš„å¤´éƒ¨æ·»åŠ è¯¥èŠ‚ç‚¹ï¼Œå¹¶å°† <code>key</code> å’Œè¯¥èŠ‚ç‚¹æ·»åŠ è¿›å“ˆå¸Œè¡¨ä¸­ã€‚ç„¶ååˆ¤æ–­åŒå‘é“¾è¡¨çš„èŠ‚ç‚¹æ•°æ˜¯å¦è¶…å‡ºå®¹é‡ï¼Œå¦‚æœè¶…å‡ºå®¹é‡ï¼Œåˆ™åˆ é™¤åŒå‘é“¾è¡¨çš„å°¾éƒ¨èŠ‚ç‚¹ï¼Œå¹¶åˆ é™¤å“ˆå¸Œè¡¨ä¸­å¯¹åº”çš„é¡¹ï¼›</p></li><li><p>å¦‚æœ <code>key</code> å­˜åœ¨ï¼Œåˆ™ä¸ <code>get</code> æ“ä½œç±»ä¼¼ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†å°†å¯¹åº”çš„èŠ‚ç‚¹çš„å€¼æ›´æ–°ä¸º <code>value</code>ï¼Œå¹¶å°†è¯¥èŠ‚ç‚¹ç§»åˆ°åŒå‘é“¾è¡¨çš„å¤´éƒ¨ã€‚</p></li></ul></li></ul><p>ä¸Šè¿°å„é¡¹æ“ä½œä¸­ï¼Œè®¿é—®å“ˆå¸Œè¡¨çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(1)<em>ï¼Œåœ¨åŒå‘é“¾è¡¨çš„å¤´éƒ¨æ·»åŠ èŠ‚ç‚¹ã€åœ¨åŒå‘é“¾è¡¨çš„å°¾éƒ¨åˆ é™¤èŠ‚ç‚¹çš„å¤æ‚åº¦ä¹Ÿä¸º *O(1)</em>ã€‚è€Œå°†ä¸€ä¸ªèŠ‚ç‚¹ç§»åˆ°åŒå‘é“¾è¡¨çš„å¤´éƒ¨ï¼Œå¯ä»¥åˆ†æˆã€Œåˆ é™¤è¯¥èŠ‚ç‚¹ã€å’Œã€Œåœ¨åŒå‘é“¾è¡¨çš„å¤´éƒ¨æ·»åŠ èŠ‚ç‚¹ã€ä¸¤æ­¥æ“ä½œï¼Œéƒ½å¯ä»¥åœ¨ *O(1)</em> æ—¶é—´å†…å®Œæˆã€‚</p><p><strong>å°è´´å£«</strong></p><p>åœ¨åŒå‘é“¾è¡¨çš„å®ç°ä¸­ï¼Œä½¿ç”¨ä¸€ä¸ª<strong>ä¼ªå¤´éƒ¨</strong>ï¼ˆdummy headï¼‰å’Œ<strong>ä¼ªå°¾éƒ¨</strong>ï¼ˆdummy tailï¼‰æ ‡è®°ç•Œé™ï¼Œè¿™æ ·åœ¨æ·»åŠ èŠ‚ç‚¹å’Œåˆ é™¤èŠ‚ç‚¹çš„æ—¶å€™å°±ä¸éœ€è¦æ£€æŸ¥ç›¸é‚»çš„èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ã€‚</p><p> <a href="https://assets.leetcode-cn.com/solution-static/146/1.PNG" target="_blank" rel="noopener">fig1</a> <a href="https://assets.leetcode-cn.com/solution-static/146/2.PNG" target="_blank" rel="noopener">fig2</a> <a href="https://assets.leetcode-cn.com/solution-static/146/3.PNG" target="_blank" rel="noopener">fig3</a> <a href="https://assets.leetcode-cn.com/solution-static/146/4.PNG" target="_blank" rel="noopener">fig4</a> <a href="https://assets.leetcode-cn.com/solution-static/146/5.PNG" target="_blank" rel="noopener">fig5</a> <a href="https://assets.leetcode-cn.com/solution-static/146/6.PNG" target="_blank" rel="noopener">fig6</a> <a href="https://assets.leetcode-cn.com/solution-static/146/7.PNG" target="_blank" rel="noopener">fig7</a> <a href="https://assets.leetcode-cn.com/solution-static/146/8.PNG" target="_blank" rel="noopener">fig8</a> <a href="https://assets.leetcode-cn.com/solution-static/146/9.PNG" target="_blank" rel="noopener">fig9</a> <a href="https://assets.leetcode-cn.com/solution-static/146/10.PNG" target="_blank" rel="noopener">fig10</a> </p><details>    <summary>å“ˆå¸Œè¡¨ + åŒå‘é“¾è¡¨Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DLinkedNode</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, key=<span class="number">0</span>, value=<span class="number">0</span>)</span>:</span></span><br><span class="line">        self.key = key</span><br><span class="line">        self.value = value</span><br><span class="line">        self.prev = <span class="keyword">None</span></span><br><span class="line">        self.next = <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, capacity: int)</span>:</span></span><br><span class="line">        self.cache = dict()</span><br><span class="line">        <span class="comment"># ä½¿ç”¨ä¼ªå¤´éƒ¨å’Œä¼ªå°¾éƒ¨èŠ‚ç‚¹    </span></span><br><span class="line">        self.head = DLinkedNode()</span><br><span class="line">        self.tail = DLinkedNode()</span><br><span class="line">        self.head.next = self.tail</span><br><span class="line">        self.tail.prev = self.head</span><br><span class="line">        self.capacity = capacity</span><br><span class="line">        self.size = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, key: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> key <span class="keyword">not</span> <span class="keyword">in</span> self.cache:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        <span class="comment"># å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ç§»åˆ°å¤´éƒ¨</span></span><br><span class="line">        node = self.cache[key]</span><br><span class="line">        self.moveToHead(node)</span><br><span class="line">        <span class="keyword">return</span> node.value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">put</span><span class="params">(self, key: int, value: int)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="keyword">if</span> key <span class="keyword">not</span> <span class="keyword">in</span> self.cache:</span><br><span class="line">            <span class="comment"># å¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹</span></span><br><span class="line">            node = DLinkedNode(key, value)</span><br><span class="line">            <span class="comment"># æ·»åŠ è¿›å“ˆå¸Œè¡¨</span></span><br><span class="line">            self.cache[key] = node</span><br><span class="line">            <span class="comment"># æ·»åŠ è‡³åŒå‘é“¾è¡¨çš„å¤´éƒ¨</span></span><br><span class="line">            self.addToHead(node)</span><br><span class="line">            self.size += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> self.size &gt; self.capacity:</span><br><span class="line">                <span class="comment"># å¦‚æœè¶…å‡ºå®¹é‡ï¼Œåˆ é™¤åŒå‘é“¾è¡¨çš„å°¾éƒ¨èŠ‚ç‚¹</span></span><br><span class="line">                removed = self.removeTail()</span><br><span class="line">                <span class="comment"># åˆ é™¤å“ˆå¸Œè¡¨ä¸­å¯¹åº”çš„é¡¹</span></span><br><span class="line">                self.cache.pop(removed.key)</span><br><span class="line">                self.size -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ä¿®æ”¹ valueï¼Œå¹¶ç§»åˆ°å¤´éƒ¨</span></span><br><span class="line">            node = self.cache[key]</span><br><span class="line">            node.value = value</span><br><span class="line">            self.moveToHead(node)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addToHead</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        node.prev = self.head</span><br><span class="line">        node.next = self.head.next</span><br><span class="line">        self.head.next.prev = node</span><br><span class="line">        self.head.next = node</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeNode</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        node.prev.next = node.next</span><br><span class="line">        node.next.prev = node.prev</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">moveToHead</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        self.removeNode(node)</span><br><span class="line">        self.addToHead(node)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeTail</span><span class="params">(self)</span>:</span></span><br><span class="line">        node = self.tail.prev</span><br><span class="line">        self.removeNode(node)</span><br><span class="line">        <span class="keyword">return</span> node</span><br></pre></td></tr></table></figure></details><details>    <summary>å“ˆå¸Œè¡¨ + åŒå‘é“¾è¡¨Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">DLinkedNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> key;</span><br><span class="line">        <span class="keyword">int</span> value;</span><br><span class="line">        DLinkedNode prev;</span><br><span class="line">        DLinkedNode next;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">DLinkedNode</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">DLinkedNode</span><span class="params">(<span class="keyword">int</span> _key, <span class="keyword">int</span> _value)</span> </span>&#123;key = _key; value = _value;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Map&lt;Integer, DLinkedNode&gt; cache = <span class="keyword">new</span> HashMap&lt;Integer, DLinkedNode&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> capacity;</span><br><span class="line">    <span class="keyword">private</span> DLinkedNode head, tail;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.size = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨ä¼ªå¤´éƒ¨å’Œä¼ªå°¾éƒ¨èŠ‚ç‚¹</span></span><br><span class="line">        head = <span class="keyword">new</span> DLinkedNode();</span><br><span class="line">        tail = <span class="keyword">new</span> DLinkedNode();</span><br><span class="line">        head.next = tail;</span><br><span class="line">        tail.prev = head;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        DLinkedNode node = cache.get(key);</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ç§»åˆ°å¤´éƒ¨</span></span><br><span class="line">        moveToHead(node);</span><br><span class="line">        <span class="keyword">return</span> node.value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        DLinkedNode node = cache.get(key);</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹</span></span><br><span class="line">            DLinkedNode newNode = <span class="keyword">new</span> DLinkedNode(key, value);</span><br><span class="line">            <span class="comment">// æ·»åŠ è¿›å“ˆå¸Œè¡¨</span></span><br><span class="line">            cache.put(key, newNode);</span><br><span class="line">            <span class="comment">// æ·»åŠ è‡³åŒå‘é“¾è¡¨çš„å¤´éƒ¨</span></span><br><span class="line">            addToHead(newNode);</span><br><span class="line">            ++size;</span><br><span class="line">            <span class="keyword">if</span> (size &gt; capacity) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœè¶…å‡ºå®¹é‡ï¼Œåˆ é™¤åŒå‘é“¾è¡¨çš„å°¾éƒ¨èŠ‚ç‚¹</span></span><br><span class="line">                DLinkedNode tail = removeTail();</span><br><span class="line">                <span class="comment">// åˆ é™¤å“ˆå¸Œè¡¨ä¸­å¯¹åº”çš„é¡¹</span></span><br><span class="line">                cache.remove(tail.key);</span><br><span class="line">                --size;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ä¿®æ”¹ valueï¼Œå¹¶ç§»åˆ°å¤´éƒ¨</span></span><br><span class="line">            node.value = value;</span><br><span class="line">            moveToHead(node);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addToHead</span><span class="params">(DLinkedNode node)</span> </span>&#123;</span><br><span class="line">        node.prev = head;</span><br><span class="line">        node.next = head.next;</span><br><span class="line">        head.next.prev = node;</span><br><span class="line">        head.next = node;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">removeNode</span><span class="params">(DLinkedNode node)</span> </span>&#123;</span><br><span class="line">        node.prev.next = node.next;</span><br><span class="line">        node.next.prev = node.prev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">moveToHead</span><span class="params">(DLinkedNode node)</span> </span>&#123;</span><br><span class="line">        removeNode(node);</span><br><span class="line">        addToHead(node);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> DLinkedNode <span class="title">removeTail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        DLinkedNode res = tail.prev;</span><br><span class="line">        removeNode(res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å“ˆå¸Œè¡¨ + åŒå‘é“¾è¡¨C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">DLinkedNode</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> key, value;</span><br><span class="line">    DLinkedNode* prev;</span><br><span class="line">    DLinkedNode* next;</span><br><span class="line">    DLinkedNode(): key(<span class="number">0</span>), value(<span class="number">0</span>), prev(<span class="literal">nullptr</span>), next(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">    DLinkedNode(<span class="keyword">int</span> _key, <span class="keyword">int</span> _value): key(_key), value(_value), prev(<span class="literal">nullptr</span>), next(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, DLinkedNode*&gt; cache;</span><br><span class="line">    DLinkedNode* head;</span><br><span class="line">    DLinkedNode* tail;</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">    <span class="keyword">int</span> capacity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    LRUCache(<span class="keyword">int</span> _capacity): capacity(_capacity), size(<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨ä¼ªå¤´éƒ¨å’Œä¼ªå°¾éƒ¨èŠ‚ç‚¹</span></span><br><span class="line">        head = <span class="keyword">new</span> DLinkedNode();</span><br><span class="line">        tail = <span class="keyword">new</span> DLinkedNode();</span><br><span class="line">        head-&gt;next = tail;</span><br><span class="line">        tail-&gt;prev = head;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!cache.count(key)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ç§»åˆ°å¤´éƒ¨</span></span><br><span class="line">        DLinkedNode* node = cache[key];</span><br><span class="line">        moveToHead(node);</span><br><span class="line">        <span class="keyword">return</span> node-&gt;value;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!cache.count(key)) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹</span></span><br><span class="line">            DLinkedNode* node = <span class="keyword">new</span> DLinkedNode(key, value);</span><br><span class="line">            <span class="comment">// æ·»åŠ è¿›å“ˆå¸Œè¡¨</span></span><br><span class="line">            cache[key] = node;</span><br><span class="line">            <span class="comment">// æ·»åŠ è‡³åŒå‘é“¾è¡¨çš„å¤´éƒ¨</span></span><br><span class="line">            addToHead(node);</span><br><span class="line">            ++size;</span><br><span class="line">            <span class="keyword">if</span> (size &gt; capacity) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœè¶…å‡ºå®¹é‡ï¼Œåˆ é™¤åŒå‘é“¾è¡¨çš„å°¾éƒ¨èŠ‚ç‚¹</span></span><br><span class="line">                DLinkedNode* removed = removeTail();</span><br><span class="line">                <span class="comment">// åˆ é™¤å“ˆå¸Œè¡¨ä¸­å¯¹åº”çš„é¡¹</span></span><br><span class="line">                cache.erase(removed-&gt;key);</span><br><span class="line">                <span class="comment">// é˜²æ­¢å†…å­˜æ³„æ¼</span></span><br><span class="line">                <span class="keyword">delete</span> removed;</span><br><span class="line">                --size;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ä¿®æ”¹ valueï¼Œå¹¶ç§»åˆ°å¤´éƒ¨</span></span><br><span class="line">            DLinkedNode* node = cache[key];</span><br><span class="line">            node-&gt;value = value;</span><br><span class="line">            moveToHead(node);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addToHead</span><span class="params">(DLinkedNode* node)</span> </span>&#123;</span><br><span class="line">        node-&gt;prev = head;</span><br><span class="line">        node-&gt;next = head-&gt;next;</span><br><span class="line">        head-&gt;next-&gt;prev = node;</span><br><span class="line">        head-&gt;next = node;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">removeNode</span><span class="params">(DLinkedNode* node)</span> </span>&#123;</span><br><span class="line">        node-&gt;prev-&gt;next = node-&gt;next;</span><br><span class="line">        node-&gt;next-&gt;prev = node-&gt;prev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">moveToHead</span><span class="params">(DLinkedNode* node)</span> </span>&#123;</span><br><span class="line">        removeNode(node);</span><br><span class="line">        addToHead(node);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">DLinkedNode* <span class="title">removeTail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        DLinkedNode* node = tail-&gt;prev;</span><br><span class="line">        removeNode(node);</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å“ˆå¸Œè¡¨ + åŒå‘é“¾è¡¨Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> LRUCache <span class="keyword">struct</span> &#123;</span><br><span class="line">    size <span class="keyword">int</span></span><br><span class="line">    capacity <span class="keyword">int</span></span><br><span class="line">    cache <span class="keyword">map</span>[<span class="keyword">int</span>]*DLinkedNode</span><br><span class="line">    head, tail *DLinkedNode</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> DLinkedNode <span class="keyword">struct</span> &#123;</span><br><span class="line">    key, value <span class="keyword">int</span></span><br><span class="line">    prev, next *DLinkedNode</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">initDLinkedNode</span><span class="params">(key, value <span class="keyword">int</span>)</span> *<span class="title">DLinkedNode</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &amp;DLinkedNode&#123;</span><br><span class="line">        key: key,</span><br><span class="line">        value: value,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Constructor</span><span class="params">(capacity <span class="keyword">int</span>)</span> <span class="title">LRUCache</span></span> &#123;</span><br><span class="line">    l := LRUCache&#123;</span><br><span class="line">        cache: <span class="keyword">map</span>[<span class="keyword">int</span>]*DLinkedNode&#123;&#125;,</span><br><span class="line">        head: initDLinkedNode(<span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">        tail: initDLinkedNode(<span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">        capacity: capacity,</span><br><span class="line">    &#125;</span><br><span class="line">    l.head.next = l.tail</span><br><span class="line">    l.tail.prev = l.head</span><br><span class="line">    <span class="keyword">return</span> l</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *LRUCache)</span> <span class="title">Get</span><span class="params">(key <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> _, ok := this.cache[key]; !ok &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">    node := this.cache[key]</span><br><span class="line">    this.moveToHead(node)</span><br><span class="line">    <span class="keyword">return</span> node.value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *LRUCache)</span> <span class="title">Put</span><span class="params">(key <span class="keyword">int</span>, value <span class="keyword">int</span>)</span></span>  &#123;</span><br><span class="line">    <span class="keyword">if</span> _, ok := this.cache[key]; !ok &#123;</span><br><span class="line">        node := initDLinkedNode(key, value)</span><br><span class="line">        this.cache[key] = node</span><br><span class="line">        this.addToHead(node)</span><br><span class="line">        this.size++</span><br><span class="line">        <span class="keyword">if</span> this.size &gt; this.capacity &#123;</span><br><span class="line">            removed := this.removeTail()</span><br><span class="line">            <span class="built_in">delete</span>(this.cache, removed.key)</span><br><span class="line">            this.size--</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        node := this.cache[key]</span><br><span class="line">        node.value = value</span><br><span class="line">        this.moveToHead(node)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *LRUCache)</span> <span class="title">addToHead</span><span class="params">(node *DLinkedNode)</span></span> &#123;</span><br><span class="line">    node.prev = this.head</span><br><span class="line">    node.next = this.head.next</span><br><span class="line">    this.head.next.prev = node</span><br><span class="line">    this.head.next = node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *LRUCache)</span> <span class="title">removeNode</span><span class="params">(node *DLinkedNode)</span></span> &#123;</span><br><span class="line">    node.prev.next = node.next</span><br><span class="line">    node.next.prev = node.prev</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *LRUCache)</span> <span class="title">moveToHead</span><span class="params">(node *DLinkedNode)</span></span> &#123;</span><br><span class="line">    this.removeNode(node)</span><br><span class="line">    this.addToHead(node)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *LRUCache)</span> <span class="title">removeTail</span><span class="params">()</span> *<span class="title">DLinkedNode</span></span> &#123;</span><br><span class="line">    node := this.tail.prev</span><br><span class="line">    this.removeNode(node)</span><br><span class="line">    <span class="keyword">return</span> node</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šå¯¹äº <code>put</code> å’Œ <code>get</code> éƒ½æ˜¯ <em>O(1)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(capacity) ï¼Œå› ä¸ºå“ˆå¸Œè¡¨å’ŒåŒå‘é“¾è¡¨æœ€å¤šå­˜å‚¨ capacity+1 ä¸ªå…ƒç´ ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿ç”¨ä½ æ‰€æŒæ¡çš„æ•°æ®ç»“æ„ï¼Œè®¾è®¡å’Œå®ç°ä¸€ä¸ª  LRU (æœ€è¿‘æœ€å°‘ä½¿ç”¨) ç¼“å­˜æœºåˆ¶ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´10æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B410%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Greedy" scheme="http://yoursite.com/tags/Greedy/"/>
    
  </entry>
  
  <entry>
    <title>134. åŠ æ²¹ç«™</title>
    <link href="http://yoursite.com/2020/10/05/134.%20%E5%8A%A0%E6%B2%B9%E7%AB%99/"/>
    <id>http://yoursite.com/2020/10/05/134. åŠ æ²¹ç«™/</id>
    <published>2020-10-04T17:17:12.000Z</published>
    <updated>2020-10-06T02:02:06.728Z</updated>
    
    <content type="html"><![CDATA[<p>å¦‚æœä½ å¯ä»¥ç»•ç¯è·¯è¡Œé©¶ä¸€å‘¨ï¼Œåˆ™è¿”å›å‡ºå‘æ—¶åŠ æ²¹ç«™çš„ç¼–å·ï¼Œå¦åˆ™è¿”å› -1ã€‚</p><a id="more"></a><p>åœ¨ä¸€æ¡ç¯è·¯ä¸Šæœ‰ N ä¸ªåŠ æ²¹ç«™ï¼Œå…¶ä¸­ç¬¬ i ä¸ªåŠ æ²¹ç«™æœ‰æ±½æ²¹ gas[i] å‡ã€‚</p><p>ä½ æœ‰ä¸€è¾†æ²¹ç®±å®¹é‡æ— é™çš„çš„æ±½è½¦ï¼Œä»ç¬¬ i ä¸ªåŠ æ²¹ç«™å¼€å¾€ç¬¬ i+1 ä¸ªåŠ æ²¹ç«™éœ€è¦æ¶ˆè€—æ±½æ²¹ cost[i] å‡ã€‚ä½ ä»å…¶ä¸­çš„ä¸€ä¸ªåŠ æ²¹ç«™å‡ºå‘ï¼Œå¼€å§‹æ—¶æ²¹ç®±ä¸ºç©ºã€‚</p><p>å¦‚æœä½ å¯ä»¥ç»•ç¯è·¯è¡Œé©¶ä¸€å‘¨ï¼Œåˆ™è¿”å›å‡ºå‘æ—¶åŠ æ²¹ç«™çš„ç¼–å·ï¼Œå¦åˆ™è¿”å› -1ã€‚</p><p>è¯´æ˜: </p><p>å¦‚æœé¢˜ç›®æœ‰è§£ï¼Œè¯¥ç­”æ¡ˆå³ä¸ºå”¯ä¸€ç­”æ¡ˆã€‚<br>è¾“å…¥æ•°ç»„å‡ä¸ºéç©ºæ•°ç»„ï¼Œä¸”é•¿åº¦ç›¸åŒã€‚<br>è¾“å…¥æ•°ç»„ä¸­çš„å…ƒç´ å‡ä¸ºéè´Ÿæ•°ã€‚<br>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: gas  = [1,2,3,4,5]cost = [3,4,5,1,2]è¾“å‡º: 3è§£é‡Š:ä» 3 å·åŠ æ²¹ç«™(ç´¢å¼•ä¸º 3 å¤„)å‡ºå‘ï¼Œå¯è·å¾— 4 å‡æ±½æ²¹ã€‚æ­¤æ—¶æ²¹ç®±æœ‰ = 0 + 4 = 4 å‡æ±½æ²¹å¼€å¾€ 4 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 4 - 1 + 5 = 8 å‡æ±½æ²¹å¼€å¾€ 0 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 8 - 2 + 1 = 7 å‡æ±½æ²¹å¼€å¾€ 1 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 7 - 3 + 2 = 6 å‡æ±½æ²¹å¼€å¾€ 2 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 6 - 4 + 3 = 5 å‡æ±½æ²¹å¼€å¾€ 3 å·åŠ æ²¹ç«™ï¼Œä½ éœ€è¦æ¶ˆè€— 5 å‡æ±½æ²¹ï¼Œæ­£å¥½è¶³å¤Ÿä½ è¿”å›åˆ° 3 å·åŠ æ²¹ç«™ã€‚å› æ­¤ï¼Œ3 å¯ä¸ºèµ·å§‹ç´¢å¼•ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: gas  = [2,3,4]cost = [3,4,3]è¾“å‡º: -1è§£é‡Š:ä½ ä¸èƒ½ä» 0 å·æˆ– 1 å·åŠ æ²¹ç«™å‡ºå‘ï¼Œå› ä¸ºæ²¡æœ‰è¶³å¤Ÿçš„æ±½æ²¹å¯ä»¥è®©ä½ è¡Œé©¶åˆ°ä¸‹ä¸€ä¸ªåŠ æ²¹ç«™ã€‚æˆ‘ä»¬ä» 2 å·åŠ æ²¹ç«™å‡ºå‘ï¼Œå¯ä»¥è·å¾— 4 å‡æ±½æ²¹ã€‚ æ­¤æ—¶æ²¹ç®±æœ‰ = 0 + 4 = 4 å‡æ±½æ²¹å¼€å¾€ 0 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 4 - 3 + 2 = 3 å‡æ±½æ²¹å¼€å¾€ 1 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 3 - 3 + 3 = 3 å‡æ±½æ²¹ä½ æ— æ³•è¿”å› 2 å·åŠ æ²¹ç«™ï¼Œå› ä¸ºè¿”ç¨‹éœ€è¦æ¶ˆè€— 4 å‡æ±½æ²¹ï¼Œä½†æ˜¯ä½ çš„æ²¹ç®±åªæœ‰ 3 å‡æ±½æ²¹ã€‚å› æ­¤ï¼Œæ— è®ºæ€æ ·ï¼Œä½ éƒ½ä¸å¯èƒ½ç»•ç¯è·¯è¡Œé©¶ä¸€å‘¨ã€‚</code></pre><h1 id="æ–¹æ³•ï¼šä¸€æ¬¡éå†"><a href="#æ–¹æ³•ï¼šä¸€æ¬¡éå†" class="headerlink" title="æ–¹æ³•ï¼šä¸€æ¬¡éå†"></a>æ–¹æ³•ï¼šä¸€æ¬¡éå†</h1><p><strong>æƒ³æ³•</strong></p><p>ç¬¬ä¸€æƒ³æ³•æ˜¯æ£€æŸ¥æ¯ä¸€ä¸ªåŠ æ²¹ç«™ï¼š</p><ul><li><p>é€‰æ‹©è¯¥åŠ æ²¹ç«™ä¸ºå‡ºå‘ç«™</p></li><li><p>æ¨¡æ‹Ÿæ±½è½¦ç¯è·¯è¡Œé©¶ï¼Œåœ¨æ¯ä¸€ä¸ªåŠ æ²¹ç«™æ£€æŸ¥æˆ‘ä»¬è¿˜å‰©å¤šå°‘å‡æ±½æ²¹ã€‚</p></li></ul><p>è¿™æ„å‘³ç€ O(N^2)çš„æ—¶é—´å¤æ‚åº¦ã€‚æ˜¾ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥åšå¾—æ›´å¥½ã€‚</p><p>é¦–å…ˆæ³¨æ„ä¸¤ä»¶äº‹æƒ…ï¼š</p><blockquote><p>å¦‚æœ <code>sum(gas) &lt; sum(cost)</code> ï¼Œé‚£ä¹ˆä¸å¯èƒ½ç¯è¡Œä¸€åœˆï¼Œè¿™ç§æƒ…å†µä¸‹ç­”æ¡ˆæ˜¯ <code>-1</code> ã€‚</p></blockquote><p><a href="https://pic.leetcode-cn.com/4381241b2ed28ee64703425af2e6a4ddb85df5dad25d644c89d7bdbcd2927c8b-image.png" target="_blank" rel="noopener">image.png</a></p><p>æˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªå¼å­è®¡ç®—ç¯è¡Œè¿‡ç¨‹ä¸­é‚®ç®±é‡Œå‰©ä¸‹çš„æ²¹ï¼š<code>total_tank = sum(gas) - sum(cost)</code>  ï¼Œå¦‚æœ <code>total_tank &lt; 0</code> åˆ™è¿”å› <code>-1</code> ã€‚</p><blockquote><p>å¯¹äºåŠ æ²¹ç«™ <code>i</code> ï¼Œå¦‚æœ <code>gas[i] - cost[i] &lt; 0</code> ï¼Œåˆ™ä¸å¯èƒ½ä»è¿™ä¸ªåŠ æ²¹ç«™å‡ºå‘ï¼Œå› ä¸ºåœ¨å‰å¾€ <code>i + 1</code> çš„è¿‡ç¨‹ä¸­ï¼Œæ±½æ²¹å°±ä¸å¤Ÿäº†ã€‚</p></blockquote><p><a href="https://pic.leetcode-cn.com/5f9a6f57444dc93f334fdb782f4368e3863888b82fc90d4f9b490eeb53cf86fe-image.png" target="_blank" rel="noopener">image.png</a></p><p>ç¬¬äºŒä¸ªè§„åˆ™å¯ä»¥è¢«ä¸€èˆ¬åŒ–ï¼Œæˆ‘ä»¬å¼•å…¥å˜é‡ <code>curr_tank</code> ï¼Œè®°å½•å½“å‰æ²¹ç®±é‡Œå‰©ä½™çš„æ€»æ²¹é‡ã€‚å¦‚æœåœ¨æŸä¸€ä¸ªåŠ æ²¹ç«™ <code>curr_tank</code>æ¯” <code>0</code> å°ï¼Œæ„å‘³ç€æˆ‘ä»¬æ— æ³•åˆ°è¾¾è¿™ä¸ªåŠ æ²¹ç«™ã€‚<strong>ä¸€ä¸ªç«™çš„æ”¶ç›Šå¦‚æœå°äº0ï¼Œè‚¯å®šä¸èƒ½ä½œä¸ºèµ·ç‚¹ï¼›è€Œè¿ç»­çš„å¤šä¸ªç«™ä¹Ÿå¯ä»¥ç­‰æ•ˆåœ°çœ‹åšä¸€ä¸ªç«™ï¼Œå¦‚æœå…¶ç´¯ç§¯æ”¶ç›Šå°äº0ï¼Œå°±è·³è¿‡ï¼Œå¯»æ‰¾ä¸‹ä¸€ä¸ªã€‚</strong></p><p>ä¸‹ä¸€æ­¥æˆ‘ä»¬æŠŠè¿™ä¸ªåŠ æ²¹ç«™å½“åšæ–°çš„èµ·ç‚¹ï¼Œå¹¶å°† <code>curr_tank</code> é‡ç½®ä¸º 0 ï¼Œå› ä¸ºé‡æ–°å‡ºå‘ï¼Œæ²¹ç®±ä¸­çš„æ²¹ä¸º 0 ã€‚ï¼ˆä»ä¸Šä¸€æ¬¡é‡ç½®çš„åŠ æ²¹ç«™åˆ°å½“å‰åŠ æ²¹ç«™çš„ä»»æ„ä¸€ä¸ªåŠ æ²¹ç«™å‡ºå‘ï¼Œåˆ°è¾¾å½“å‰åŠ æ²¹ç«™ä¹‹å‰ï¼Œ <code>curr_tank</code> ä¹Ÿä¸€å®šä¼šæ¯” 0 å°,<strong>å³å¦‚æœAç«™ä¸èƒ½åˆ°Bç«™ï¼Œé‚£ä¹ˆAï¼ŒBä¹‹é—´åˆ°ä»»ä½•ä¸€ä¸ªç«™éƒ½ä¸èƒ½åˆ°Bç«™ï¼Œï¼ˆBç«™æ˜¯Aç«™ç¬¬ä¸€ä¸ªä¸èƒ½åˆ°çš„ç«™ï¼‰</strong> ï¼‰</p><p><strong>ç®—æ³•</strong></p><p>é‚£ä¹ˆç°åœ¨ç®—æ³•æ˜¯å¾ˆç›´æ¥æ˜äº†çš„ï¼š</p><ol><li><p>åˆå§‹åŒ– <code>total_tank</code> å’Œ <code>curr_tank</code> ä¸º 0 ï¼Œå¹¶ä¸”é€‰æ‹© <code>0</code> å·åŠ æ²¹ç«™ä¸ºèµ·ç‚¹ã€‚</p></li><li><p>éå†æ‰€æœ‰çš„åŠ æ²¹ç«™ï¼š</p><ul><li><p>æ¯ä¸€æ­¥ä¸­ï¼Œéƒ½é€šè¿‡åŠ ä¸Š <code>gas[i]</code> å’Œå‡å» <code>cost[i]</code> æ¥æ›´æ–° <code>total_tank</code> å’Œ <code>curr_tank</code> ã€‚</p></li><li><p>å¦‚æœåœ¨ <code>i + 1</code> å·åŠ æ²¹ç«™ï¼Œ <code>curr_tank &lt; 0</code> ï¼Œå°† <code>i + 1</code> å·åŠ æ²¹ç«™ä½œä¸ºæ–°çš„èµ·ç‚¹ï¼ŒåŒæ—¶é‡ç½® <code>curr_tank = 0</code> ï¼Œè®©æ²¹ç®±ä¹Ÿæ¸…ç©ºã€‚</p></li></ul></li><li><p>å¦‚æœ <code>total_tank &lt; 0</code> ï¼Œè¿”å› <code>-1</code> ï¼Œå¦åˆ™è¿”å› <code>starting station</code>ã€‚</p></li></ol><p><strong>ç®—æ³•åŸç†</strong></p><p>æƒ³è±¡ <code>total_tank &gt;= 0</code> çš„æƒ…å†µï¼ŒåŒæ—¶ä¸Šè¿°ç®—æ³•è¿”å› <em>N_s</em> ä½œä¸ºå‡ºå‘åŠ æ²¹ç«™ã€‚</p><p>ç®—æ³•ç›´æ¥ä¿è¯äº†ä» <em>N_s</em> å¯ä»¥åˆ°è¾¾ <em>0</em> ï¼Œä½†æ˜¯å‰©ä½™çš„è·¯ç¨‹ï¼Œå³ä» <em>0</em> åˆ°ç«™ <em>N_s</em> æ˜¯å¦æœ‰è¶³å¤Ÿçš„æ²¹å‘¢ï¼Ÿ</p><blockquote><p>å¦‚ä½•ç¡®ä¿ä» <em>N_s</em> å‡ºå‘å¯ä»¥ç¯è¡Œä¸€åœˆï¼Ÿ</p></blockquote><p>æˆ‘ä»¬ä½¿ç”¨ <a href="https://baike.baidu.com/item/%E5%8F%8D%E8%AF%81%E6%B3%95/5017739?fr=aladdin" target="_blank" rel="noopener">åè¯æ³•</a> ã€‚å‡è®¾å­˜åœ¨ <em>0 &lt; k &lt; N_s</em> ï¼Œä½¿å¾—æˆ‘ä»¬ä» <em>N_s</em> å‡ºå‘æ— æ³•åˆ°è¾¾ <code>k</code> å·åŠ æ²¹ç«™ã€‚</p><p>æ¡ä»¶ <code>total_tank &gt;= 0</code> å¯ä»¥è¢«å†™ä½œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\sum_&#123;i=1&#125;^&#123;N&#125;&#123;\alpha_i&#125;\ge0\qquad(1)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\alpha_i&gt;=0</span><br></pre></td></tr></table></figure><p>,<br>å…¶ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\alpha_i=gas[i]-cost[i]</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°†å‡ºå‘ç«™ç‚¹ <em>N_s</em> å’Œæ— æ³•åˆ°è¾¾ç«™ç‚¹ <code>k</code> ä½œä¸ºåˆ†éš”ç‚¹ï¼Œå°†å·¦å¼åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\sum_&#123;i=1&#125;^&#123;k&#125;&#123;\alpha_i&#125;+\sum_&#123;i=k+1&#125;^&#123;N_s-1&#125;&#123;\alpha_i&#125;+\sum_&#123;i=N_s&#125;^&#123;N&#125;&#123;\alpha_i&#125;\ge0\qquad(2)</span><br></pre></td></tr></table></figure><p>æ ¹æ®ç®—æ³•æµç¨‹ï¼Œç¬¬äºŒé¡¹ä¸ºè´Ÿï¼Œå› ä¸ºæ¯ä¸€ä¸ªå‡ºå‘ç‚¹å‰é¢ä¸€æ®µè·¯é€”çš„ <code>curr_tank</code> ä¸€å®šä¸ºè´Ÿã€‚å¦åˆ™ï¼Œå‡ºå‘ç‚¹åº”è¯¥æ˜¯æ¯” <em>N_s</em> æ›´é å‰çš„ä¸€ä¸ªåŠ æ²¹ç«™è€Œä¸æ˜¯ <em>N_s</em> ã€‚å½“ä¸”ä»…å½“ <em>k = N_s - 1</em> ï¼Œç¬¬äºŒé¡¹æ‰ä¸º 0 ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\sum_&#123;i=k+1&#125;^&#123;i=N_s-1&#125;&#123;\alpha_i&#125;\le0\qquad(3)</span><br></pre></td></tr></table></figure><p>ç»“åˆä¸ç­‰å¼ <code>(2)</code> å’Œ <code>(3)</code> ï¼Œå¯ä»¥å¾—åˆ°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\sum_&#123;i=0&#125;^&#123;i=k&#125;&#123;\alpha_i&#125;+\sum_&#123;i=N_s&#125;^&#123;i=N&#125;&#123;\alpha_i&#125;\ge0\qquad(4)</span><br></pre></td></tr></table></figure><p>åŒæ—¶ï¼Œå› ä¸º <em>k</em> æ˜¯ä¸€ä¸ªä» <em>N_s</em> å‡ºå‘ä¸å¯åˆ°è¾¾çš„ç«™ç‚¹ï¼Œæ„å‘³ç€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\sum_&#123;i=N_s&#125;^&#123;i=N&#125;&#123;\alpha_i&#125;+\sum_&#123;i=0&#125;^&#123;i=k&#125;&#123;\alpha_i&#125;&lt;0\qquad(5)</span><br></pre></td></tr></table></figure><p>ç»“åˆä¸ç­‰å¼ <code>(4)</code> å’Œ <code>(5)</code> ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªçŸ›ç›¾ã€‚å› æ­¤ï¼Œå‡è®¾ â€œå­˜åœ¨ä¸€ä¸ª <em>0 &lt; k &lt; N_s</em> ï¼Œä» <em>N_s</em> å‡ºå‘æ— æ³•åˆ°è¾¾ <em>k</em>â€ ä¸æˆç«‹ã€‚</p><p>å› æ­¤ï¼Œä» <em>N_s</em> å‡ºå‘ä¸€å®šèƒ½ç¯è¡Œä¸€åœˆï¼Œ <em>N_s</em> æ˜¯ä¸€ä¸ªå¯è¡Œè§£ã€‚æ ¹æ®é¢˜ç›®æè¿°ï¼Œç­”æ¡ˆæ˜¯å”¯ä¸€çš„ã€‚</p><p>ä¸Šé¢çš„å®˜æ–¹é¢˜è§£çœ‹èµ·æ¥å¾ˆé¥¶ï¼Œå…¬å¼ï¼ˆ5ï¼‰å­˜åœ¨ä»¥ç»“è®ºè¯ç»“è®ºçš„é—®é¢˜ï¼Œè€Œä»¥æ¯ç«™æ±½æ²¹ç´¯è®¡é‡profit[i] = gas[i] - cost[i]æ€è€ƒè¿™ä¸ªé—®é¢˜æ›´å®¹æ˜“ç†è§£ã€‚</p><p>è‹¥sum(gas) &gt;= sum(cost)ï¼Œåˆ™å¿…å®šå­˜åœ¨è§£ï¼ˆè´ªå¿ƒç­–ç•¥ä¸ç”¨ä¸¥æ ¼è¯æ˜ï¼Œå¤§å®¶ä»¥æ±½æ²¹ç´¯è®¡é‡ä¸º0ï¼Œæ¯ç«™æ±½æ²¹ç´¯è®¡é‡å¯æ­£å¯è´Ÿï¼Œæé™æ¡ä»¶ç”»ä¸ªç¯å½¢å›¾ç†è§£ä¸‹ï¼šå¤§è‡´å°±æ˜¯å·¦è¾¹ç´¯ç§¯é‡å°‘ï¼Œæˆ‘å°±å¾€å³è¾¹èµ°ï¼Œåä¹‹äº¦ç„¶ï¼‰</p><p>å†åŠ ä¸Šé¢˜ç›®æ¡ä»¶è‹¥æœ‰è§£åˆ™å”¯ä¸€ï¼Œ</p><p>æˆ‘ä»¬åªéœ€æ‰¾åˆ°ä»¥iå¼€å¤´çš„æ€»ç´¯è®¡æ²¹é‡æœ‰å‰©ä½™cur_tank + gas[i] - cost[i] &gt;= 0å³å¯â€”â€”è¿™å°±æ˜¯æœ¬é¢˜è´ªå¿ƒç­–ç•¥çš„ä¾æ®</p><p><strong>å®ç°</strong></p><p> <a href="https://pic.leetcode-cn.com/87e7bb7a0745fe4916de8deb8687b4a84b3482daab0643f1ae6d4a02cf03ceb0-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/4dad65b5a9ed763e2760129635f1704be4a9e093ea66bc4e244657cb59c35744-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/022e56703b9ce5f53fb8ad9c6d51cc74468bff670eb29dfa48cb0625c9d57cba-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/256c9491248c8cf0e8fca7370346ea22333edc4394c57f211c1783a6b163235a-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/d1cef311a434c64d3fd85ea0d1adb5374e1b16d802110c90c833ceb4121bb19c-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/6be953413c1dbb884e5b2e92837cc4384ba32fa662f7c2c0784cb8e1bff973b2-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/ca82d1cec3e8d2a325c20f1dab270bcae405e21f4990e46f38f5394fe6c65249-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/469511c0afc12420e34588cf19cb373ee22e9d4fb5c472d6b92e764f12e0fd7e-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/dcbe6e6975e1ee7d2cedfbdc9cff3d8212b066e6d5d63535ba435aceec67af9c-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/8c6d7bb66df5271a3383bce38fadbf0bfd52c1b035582903c3a6ebd4df8d1989-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/f1aea61b070c96e2e5c718dd3b9a35e40fa74f769204398fbdbd0a7466fa7eff-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/d450f8d85053fbdd914e21e6e0d56b0b7ebd797bea4cfb6fa5b250f794bcaf61-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/67399856acdd96570218a3de68ec86de6d6f385e517cc5e1991493433ca58b05-image.png" target="_blank" rel="noopener">image.png</a> </p><details>    <summary>ä¸€æ¬¡éå†Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canCompleteCircuit</span><span class="params">(self, gas, cost)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type gas: List[int]</span></span><br><span class="line"><span class="string">        :type cost: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        n = len(gas)</span><br><span class="line">        </span><br><span class="line">        total_tank, curr_tank = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        starting_station = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            total_tank += gas[i] - cost[i]</span><br><span class="line">            curr_tank += gas[i] - cost[i]</span><br><span class="line">            <span class="comment"># If one couldn't get here,</span></span><br><span class="line">            <span class="keyword">if</span> curr_tank &lt; <span class="number">0</span>:</span><br><span class="line">                <span class="comment"># Pick up the next station as the starting one.</span></span><br><span class="line">                starting_station = i + <span class="number">1</span></span><br><span class="line">                <span class="comment"># Start with an empty tank.</span></span><br><span class="line">                curr_tank = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> starting_station <span class="keyword">if</span> total_tank &gt;= <span class="number">0</span> <span class="keyword">else</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure></details><details>    <summary>ä¸€æ¬¡éå†Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">canCompleteCircuit</span><span class="params">(<span class="keyword">int</span>[] gas, <span class="keyword">int</span>[] cost)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = gas.length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> total_tank = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> curr_tank = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> starting_station = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">      total_tank += gas[i] - cost[i];</span><br><span class="line">      curr_tank += gas[i] - cost[i];</span><br><span class="line">      <span class="comment">// If one couldn't get here,</span></span><br><span class="line">      <span class="keyword">if</span> (curr_tank &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// Pick up the next station as the starting one.</span></span><br><span class="line">        starting_station = i + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// Start with an empty tank.</span></span><br><span class="line">        curr_tank = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total_tank &gt;= <span class="number">0</span> ? starting_station : -<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ä¸€æ¬¡éå†C++</summary><figure class="highlight c++"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">canCompleteCircuit</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; gas, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; cost)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = gas.size();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> total_tank = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> curr_tank = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> starting_station = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">      total_tank += gas[i] - cost[i];</span><br><span class="line">      curr_tank += gas[i] - cost[i];</span><br><span class="line">      <span class="comment">// If one couldn't get here,</span></span><br><span class="line">      <span class="keyword">if</span> (curr_tank &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// Pick up the next station as the starting one.</span></span><br><span class="line">        starting_station = i + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// Start with an empty tank.</span></span><br><span class="line">        curr_tank = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total_tank &gt;= <span class="number">0</span> ? starting_station : <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š O(N) ï¼Œ è¿™æ˜¯å› ä¸ºåªæœ‰ä¸€ä¸ªéå†äº†æ‰€æœ‰åŠ æ²¹ç«™ä¸€æ¬¡çš„å¾ªç¯ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š O(1)  ï¼Œå› ä¸ºæ­¤ç®—æ³•åªä½¿ç”¨äº†å¸¸æ•°ä¸ªå˜é‡ã€‚</p></li></ul><p><strong>å»¶ä¼¸é˜…è¯»</strong></p><p>è¿˜æœ‰è®¸å¤šåŠ æ²¹ç«™é—®é¢˜çš„å˜ç§é—®é¢˜ï¼Œè¿™é‡Œæ˜¯ä¸€äº›ä¾‹å­ï¼š</p><p><a href="https://www.sciencedirect.com/science/article/pii/S002001901730203X" target="_blank" rel="noopener">å…è®¸ Î” æ¬¡åœç•™çš„åŠ æ²¹ç«™é—´æœ€å°è·¯å¾„å¼€é”€</a> </p><p><a href="https://link.springer.com/chapter/10.1007/978-3-540-75520-3_48" target="_blank" rel="noopener">æ²¹ç®±æœ‰å®¹é‡é™åˆ¶ä¸‹çš„åŠ æ²¹ç«™é—´æœ€å°è·¯å¾„å¼€é”€</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¦‚æœä½ å¯ä»¥ç»•ç¯è·¯è¡Œé©¶ä¸€å‘¨ï¼Œåˆ™è¿”å›å‡ºå‘æ—¶åŠ æ²¹ç«™çš„ç¼–å·ï¼Œå¦åˆ™è¿”å› -1ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´10æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B410%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Greedy" scheme="http://yoursite.com/tags/Greedy/"/>
    
  </entry>
  
  <entry>
    <title>412. Fizz Buzz</title>
    <link href="http://yoursite.com/2020/10/05/412.%20Fizz%20Buzz/"/>
    <id>http://yoursite.com/2020/10/05/412. Fizz Buzz/</id>
    <published>2020-10-04T16:26:12.000Z</published>
    <updated>2020-10-04T17:02:23.520Z</updated>
    
    <content type="html"><![CDATA[<p>å†™ä¸€ä¸ªç¨‹åºï¼Œè¾“å‡ºä» 1 åˆ° n æ•°å­—çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚</p><a id="more"></a><ol><li><p>å¦‚æœnæ˜¯3çš„å€æ•°ï¼Œè¾“å‡ºâ€œFizzâ€ï¼›</p></li><li><p>å¦‚æœnæ˜¯5çš„å€æ•°ï¼Œè¾“å‡ºâ€œBuzzâ€ï¼›</p></li><li><p>å¦‚æœnåŒæ—¶æ˜¯3å’Œ5çš„å€æ•°ï¼Œè¾“å‡º â€œFizzBuzzâ€ã€‚</p></li></ol><p>ç¤ºä¾‹ï¼š</p><pre><code>n = 15,</code></pre><p>è¿”å›:</p><pre><code>[    &quot;1&quot;,    &quot;2&quot;,    &quot;Fizz&quot;,    &quot;4&quot;,    &quot;Buzz&quot;,    &quot;Fizz&quot;,    &quot;7&quot;,    &quot;8&quot;,    &quot;Fizz&quot;,    &quot;Buzz&quot;,    &quot;11&quot;,    &quot;Fizz&quot;,    &quot;13&quot;,    &quot;14&quot;,    &quot;FizzBuzz&quot;]</code></pre><h1 id="æ–¹æ³•ä¸€ï¼š-æ¨¡æ‹Ÿæ³•"><a href="#æ–¹æ³•ä¸€ï¼š-æ¨¡æ‹Ÿæ³•" class="headerlink" title="æ–¹æ³•ä¸€ï¼š æ¨¡æ‹Ÿæ³•"></a>æ–¹æ³•ä¸€ï¼š æ¨¡æ‹Ÿæ³•</h1><p><strong>æ€è·¯</strong></p><p>å°±åƒä½ æ¯æ¬¡ç© FizzBuzz é‚£æ ·ï¼Œä½ åªéœ€è¦åˆ¤æ–­è¿™ä¸ªæ•°æ˜¯èƒ½è¢« <code>3</code> æ•´é™¤ï¼Ÿ è¿˜æ˜¯èƒ½è¢« <code>5</code> æ•´é™¤ï¼Ÿ æˆ–è€…æ˜¯éƒ½èƒ½è¢«æ•´é™¤ã€‚</p><p><strong>ç®—æ³•</strong></p><ol><li>åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„ç­”æ¡ˆåˆ—è¡¨ã€‚</li><li>éå† <em>1 â€¦ N</em>ã€‚</li><li>å¯¹äºæ¯ä¸ªæ•°ï¼Œåˆ¤æ–­å®ƒèƒ½ä¸èƒ½åŒæ—¶è¢« 3 å’Œ 5 æ•´é™¤ï¼Œå¦‚æœå¯ä»¥å°±æŠŠ FizzBuzz åŠ å…¥ç­”æ¡ˆåˆ—è¡¨ã€‚</li><li>å¦‚æœä¸è¡Œï¼Œåˆ¤æ–­å®ƒèƒ½ä¸èƒ½è¢« 3 æ•´é™¤ï¼Œå¦‚æœå¯ä»¥ï¼ŒæŠŠ Fizz åŠ å…¥ç­”æ¡ˆåˆ—è¡¨ã€‚</li><li>å¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œåˆ¤æ–­å®ƒèƒ½ä¸èƒ½è¢« 5 æ•´é™¤ï¼Œå¦‚æœå¯ä»¥ï¼ŒæŠŠ Buzz åŠ å…¥ç­”æ¡ˆåˆ—è¡¨ã€‚</li><li>å¦‚æœä»¥ä¸Šéƒ½ä¸è¡Œï¼ŒæŠŠè¿™ä¸ªæ•°åŠ å…¥ç­”æ¡ˆåˆ—è¡¨ã€‚<details> <summary>æ¨¡æ‹Ÿæ³•Java</summary></details></li></ol><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">fizzBuzz</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ans list</span></span><br><span class="line">    List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num = <span class="number">1</span>; num &lt;= n; num++) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">boolean</span> divisibleBy3 = (num % <span class="number">3</span> == <span class="number">0</span>);</span><br><span class="line">      <span class="keyword">boolean</span> divisibleBy5 = (num % <span class="number">5</span> == <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (divisibleBy3 &amp;&amp; divisibleBy5) &#123;</span><br><span class="line">        <span class="comment">// Divides by both 3 and 5, add FizzBuzz</span></span><br><span class="line">        ans.add(<span class="string">"FizzBuzz"</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (divisibleBy3) &#123;</span><br><span class="line">        <span class="comment">// Divides by 3, add Fizz</span></span><br><span class="line">        ans.add(<span class="string">"Fizz"</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (divisibleBy5) &#123;</span><br><span class="line">        <span class="comment">// Divides by 5, add Buzz</span></span><br><span class="line">        ans.add(<span class="string">"Buzz"</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// Not divisible by 3 or 5, add the number</span></span><br><span class="line">        ans.add(Integer.toString(num));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><details>    <summary>æ¨¡æ‹Ÿæ³•Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fizzBuzz</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: List[str]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># ans list</span></span><br><span class="line">        ans = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line"></span><br><span class="line">            divisible_by_3 = (num % <span class="number">3</span> == <span class="number">0</span>)</span><br><span class="line">            divisible_by_5 = (num % <span class="number">5</span> == <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> divisible_by_3 <span class="keyword">and</span> divisible_by_5:</span><br><span class="line">                <span class="comment"># Divides by both 3 and 5, add FizzBuzz</span></span><br><span class="line">                ans.append(<span class="string">"FizzBuzz"</span>)</span><br><span class="line">            <span class="keyword">elif</span> divisible_by_3:</span><br><span class="line">                <span class="comment"># Divides by 3, add Fizz</span></span><br><span class="line">                ans.append(<span class="string">"Fizz"</span>)</span><br><span class="line">            <span class="keyword">elif</span> divisible_by_5:</span><br><span class="line">                <span class="comment"># Divides by 5, add Buzz</span></span><br><span class="line">                ans.append(<span class="string">"Buzz"</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># Not divisible by 3 or 5, add the number</span></span><br><span class="line">                ans.append(str(num))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š <em>O(N)</em></li><li>ç©ºé—´å¤æ‚åº¦ï¼š <em>O(1)</em></li></ul><h1 id="æ–¹æ³•äºŒï¼š-å­—ç¬¦ä¸²è¿æ¥"><a href="#æ–¹æ³•äºŒï¼š-å­—ç¬¦ä¸²è¿æ¥" class="headerlink" title="æ–¹æ³•äºŒï¼š å­—ç¬¦ä¸²è¿æ¥"></a>æ–¹æ³•äºŒï¼š å­—ç¬¦ä¸²è¿æ¥</h1><p><strong>æ€è·¯</strong></p><p>è¿™ä¸ªæ–¹æ³•ä¸ä¼šé™ä½æ¸è¿›å¤æ‚åº¦ï¼Œä½†æ˜¯å½“ <code>FizzBuzz</code> çš„è§„åˆ™å˜å¾—æ›´å¤æ‚çš„æ—¶å€™ï¼Œè¿™å°†ä¼šæ˜¯ä¸ªæ›´ä¼˜é›…çš„è§£æ³•ã€‚æ¯”æ–¹è¯´ï¼Œç©ä¸ª <code>FizzBuzzJazz</code> çš„æ¸¸æˆã€‚è§„åˆ™å¦‚ä¸‹ï¼š</p><pre>3 ---> "Fizz" , 5 ---> "Buzz", 7 ---> "Jazz"</pre><p>å¦‚æœä½ è¿˜æ˜¯ç”¨ä¹‹å‰çš„æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„è¯ï¼Œé‚£å°†ä¼šæœ‰éå¸¸å¤šçš„æ¡ä»¶éœ€è¦åˆ¤æ–­å“¦~</p><ol><li>èƒ½ä¸èƒ½è¢« 3 æ•´é™¤</li><li>èƒ½ä¸èƒ½è¢« 5 æ•´é™¤</li><li>èƒ½ä¸èƒ½è¢« 7 æ•´é™¤</li><li>èƒ½ä¸èƒ½åŒæ—¶è¢« 3 å’Œ 5 æ•´é™¤</li><li>èƒ½ä¸èƒ½åŒæ—¶è¢« 5 å’Œ 7 æ•´é™¤</li><li>èƒ½ä¸èƒ½åŒæ—¶è¢« 3 å’Œ 7 æ•´é™¤</li><li>èƒ½ä¸èƒ½åŒæ—¶è¢« 3ï¼Œ5ï¼Œ7 æ•´é™¤</li><li>ä¸èƒ½è¢« 3ï¼Œ5ï¼Œ7 å…¶ä¸­ä»»ä½•ä¸€ä¸ªæ•°æ•´é™¤</li></ol><p>å¦‚æœ <code>FizzBuzz</code> ç…§ç€è¿™ç§æ–¹å¼å˜åœ°æ›´å¤æ‚çš„è¯ï¼Œé‚£ä¹ˆä½ è¦å†™çš„åˆ¤æ–­å¯èƒ½ä¼šè®©ä½ æŠ“ç‹‚ã€‚</p><p><strong>ç®—æ³•</strong></p><p>æˆ‘ä»¬æ”¾å¼ƒä½¿ç”¨ä¹‹å‰çš„è”åˆåˆ¤æ–­ï¼Œå–è€Œä»£ä¹‹ä¾æ¬¡åˆ¤æ–­æ˜¯å¦èƒ½è¢«ç»™å®šçš„æ•°æ•´æ•°ã€‚è¿™é“é¢˜ä¸­ï¼Œå°±æ˜¯ä¾æ¬¡åˆ¤æ–­èƒ½ä¸èƒ½è¢« 3 æ•´é™¤ï¼Œèƒ½ä¸èƒ½è¢« 5 æ•´é™¤ã€‚å¦‚æœèƒ½è¢« 3 æ•´é™¤ï¼Œå°±æŠŠå¯¹åº”çš„ <code>Fizz</code> è¿æ¥åˆ°ç­”æ¡ˆå­—ç¬¦ä¸²ï¼Œå¦‚æœèƒ½è¢« 5 æ•´é™¤ï¼Œå°±æŠŠ <code>Buzz</code> è¿æ¥åˆ°ç­”æ¡ˆå­—ç¬¦ä¸²ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œç°åœ¨éœ€è¦åˆ¤æ–­ 15ï¼Œæ­¥éª¤å°†ä¼šæ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š</p><blockquote><p>æ¡ä»¶ 1ï¼š 15 % 3 == 0, num_ans_str = â€œFizzâ€<br>æ¡ä»¶ 2ï¼š 15 % 5 == 0, num_ans_str += â€œBuzzâ€<br>=&gt; num_ans_str = â€œFizzBuzzâ€</p></blockquote><p>å¯¹äº <code>FizzBuzz</code> æ¥è¯´ï¼Œåªéœ€è¦åˆ¤æ–­ä¸¤ä¸ªæ¡ä»¶å°±å¯ä»¥äº†ï¼Œè€Œä¸éœ€è¦åƒæ–¹æ³•ä¸€ä¸­é‚£æ ·åˆ¤æ–­ä¸‰ä¸ªæ¡ä»¶ã€‚</p><p>åŒæ ·çš„ï¼Œå¯¹äº <code>FizzBuzzJazz</code>ï¼Œç°åœ¨åªéœ€è¦åˆ¤æ–­ä¸‰ä¸ªæ¡ä»¶å°±å¯ä»¥äº†ã€‚</p><details>    <summary>å­—ç¬¦ä¸²è¿æ¥Java</summary><figure class="highlight java"><figcaption><span>[solution-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">fizzBuzz</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ans list</span></span><br><span class="line">    List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num = <span class="number">1</span>; num &lt;= n; num++) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">boolean</span> divisibleBy3 = (num % <span class="number">3</span> == <span class="number">0</span>);</span><br><span class="line">      <span class="keyword">boolean</span> divisibleBy5 = (num % <span class="number">5</span> == <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">      String numAnsStr = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (divisibleBy3) &#123;</span><br><span class="line">        <span class="comment">// Divides by 3, add Fizz</span></span><br><span class="line">        numAnsStr += <span class="string">"Fizz"</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (divisibleBy5) &#123;</span><br><span class="line">        <span class="comment">// Divides by 5, add Buzz</span></span><br><span class="line">        numAnsStr += <span class="string">"Buzz"</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (numAnsStr.equals(<span class="string">""</span>)) &#123;</span><br><span class="line">        <span class="comment">// Not divisible by 3 or 5, add the number</span></span><br><span class="line">        numAnsStr += Integer.toString(num);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Append the current answer str to the ans list</span></span><br><span class="line">      ans.add(numAnsStr);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å­—ç¬¦ä¸²è¿æ¥Python</summary><figure class="highlight python"><figcaption><span>[solution-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fizzBuzz</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: List[str]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># ans list</span></span><br><span class="line">        ans = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line"></span><br><span class="line">            divisible_by_3 = (num % <span class="number">3</span> == <span class="number">0</span>)</span><br><span class="line">            divisible_by_5 = (num % <span class="number">5</span> == <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">            num_ans_str = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> divisible_by_3:</span><br><span class="line">                <span class="comment"># Divides by 3</span></span><br><span class="line">                num_ans_str += <span class="string">"Fizz"</span></span><br><span class="line">            <span class="keyword">if</span> divisible_by_5:</span><br><span class="line">                <span class="comment"># Divides by 5</span></span><br><span class="line">                num_ans_str += <span class="string">"Buzz"</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> num_ans_str:</span><br><span class="line">                <span class="comment"># Not divisible by 3 or 5</span></span><br><span class="line">                num_ans_str = str(num)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Append the current answer str to the ans list</span></span><br><span class="line">            ans.append(num_ans_str)  </span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li>æ—¶é—´å¤æ‚åº¦ï¼š <em>O(N)</em></li><li>ç©ºé—´å¤æ‚åº¦ï¼š <em>O(1)</em><br><br></li></ul><h1 id="æ–¹æ³•ä¸‰-ç”¨æ•£åˆ—è¡¨"><a href="#æ–¹æ³•ä¸‰-ç”¨æ•£åˆ—è¡¨" class="headerlink" title="æ–¹æ³•ä¸‰ ç”¨æ•£åˆ—è¡¨"></a>æ–¹æ³•ä¸‰ ç”¨æ•£åˆ—è¡¨</h1><p><strong>æ€è·¯</strong></p><p>è¿™ä¸ªæ–¹æ³•æ˜¯å¯¹æ–¹æ³•äºŒçš„ä¼˜åŒ–ã€‚å½“æ•°å­—å’Œç­”æ¡ˆçš„æ˜ å°„æ˜¯å®šå¥½çš„ï¼Œé‚£ä¹ˆæ–¹æ³•äºŒç”¨èµ·æ¥ä¹Ÿè¿˜å¯ä»¥ã€‚ä½†æ˜¯å¦‚æœä½ é‡åˆ°ä¸€ä¸ªå˜æ€çš„é¢è¯•å®˜ï¼Œä»–è·Ÿä½ è¯´ä»–éœ€è¦æ›´è‡ªç”±çš„æ˜ å°„å…³ç³»å‘¢ï¼Ÿ</p><p>æ¯ä¸ªæ˜ å°„ä¸€ä¸ªåˆ¤æ–­æ˜¾ç„¶æ˜¯ä¸å¯è¡Œçš„ï¼Œè¿™æ ·å†™å‡ºæ¥çš„ä»£ç ä¸€å®šæ˜¯ä¸‘é™‹ä¸å ªä¸”éš¾ä»¥ç»´æŠ¤çš„ã€‚</p><p>å¦‚æœè€æ¿æœ‰è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼Œæ˜å¤©ä½ æŠŠæ˜ å°„å…³ç³»æ¢æ‰æˆ–è€…åˆ é™¤ä¸€ä¸ªæ˜ å°„å…³ç³»å§ã€‚å¯¹äºè¿™ç§è¦æ±‚ï¼Œæˆ‘ä»¬åªèƒ½ä¸€ä¸ªä¸ªå»ä¿®æ”¹åˆ¤æ–­æ¡ä»¶çš„ä»£ç ã€‚</p><p>ä½†æˆ‘ä»¬å®é™…ä¸Šæœ‰ä¸ªæ›´ä¼˜é›…çš„åšæ³•ï¼Œé‚£å°±æ˜¯æŠŠæ˜ å°„å…³ç³»æ”¾åœ¨ <code>æ•£åˆ—è¡¨</code> é‡Œé¢ã€‚</p><p><strong>ç®—æ³•</strong></p><ol><li>æŠŠæ‰€æœ‰çš„æ˜ å°„å…³ç³»æ”¾åœ¨æ•£åˆ—è¡¨ <code>fizzBuzzHash</code> ä¸­ï¼Œè¿™ä¸ªæ•£åˆ—è¡¨å½¢å¦‚ <code>{ 3: &#39;Fizz&#39;, 5: &#39;Buzz&#39; }</code>ã€‚</li><li>éå† <em>1 â€¦ N</em>ã€‚</li><li>å¯¹äºæ¯ä¸ªæ•°å­—ï¼Œéå† <code>fizzBuzzHash</code> ä¸­çš„é”®ï¼Œæ£€æŸ¥æ˜¯å¦èƒ½è¢«å®ƒæ•´é™¤ã€‚</li><li>å¦‚æœè¿™ä¸ªæ•°èƒ½è¢«é”®æ•´é™¤ï¼Œå°±æŠŠå½“å‰é”®æ˜ å°„çš„å€¼åŠ åˆ°åˆ°ç­”æ¡ˆå­—ç¬¦ä¸²åé¢å»ã€‚å¯¹äºæ•£åˆ—è¡¨çš„æ¯ä¸ªé”®å€¼å¯¹ï¼Œéƒ½è¿™æ ·æ“ä½œã€‚</li><li>æœ€åå°†ç­”æ¡ˆå­—ç¬¦ä¸²åŠ å…¥ç­”æ¡ˆåˆ—è¡¨ã€‚</li></ol><blockquote><p>é€šè¿‡è¿™æ ·çš„æ–¹å¼ä½ å¯ä»¥å¯¹æ•£åˆ—è¡¨<code>æ·»åŠ /åˆ é™¤</code>æ˜ å°„å…³ç³»ï¼ŒåŒæ—¶è¿˜ä¸éœ€è¦ä¿®æ”¹å¤ªå¤šä»£ç ã€‚</p></blockquote><p>è€Œå¯¹äº <code>FizzBuzzJazz</code> è¿™ä¸ªé—®é¢˜ï¼Œæ•£åˆ—è¡¨å°±å¯ä»¥æ˜¯è¿™æ ·çš„ï¼Œ<code>{ 3: &#39;Fizz&#39;, 5: &#39;Buzz&#39;, 7: &#39;Jazz&#39; }</code>ã€‚</p><details>    <summary>ç”¨æ•£åˆ—è¡¨Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">fizzBuzz</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ans list</span></span><br><span class="line">    List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Hash map to store all fizzbuzz mappings.</span></span><br><span class="line">    HashMap&lt;Integer, String&gt; fizzBizzDict =</span><br><span class="line">        <span class="keyword">new</span> HashMap&lt;Integer, String&gt;() &#123;</span><br><span class="line">          &#123;</span><br><span class="line">            put(<span class="number">3</span>, <span class="string">"Fizz"</span>);</span><br><span class="line">            put(<span class="number">5</span>, <span class="string">"Buzz"</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num = <span class="number">1</span>; num &lt;= n; num++) &#123;</span><br><span class="line"></span><br><span class="line">      String numAnsStr = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (Integer key : fizzBizzDict.keySet()) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// If the num is divisible by key,</span></span><br><span class="line">        <span class="comment">// then add the corresponding string mapping to current numAnsStr</span></span><br><span class="line">        <span class="keyword">if</span> (num % key == <span class="number">0</span>) &#123;</span><br><span class="line">          numAnsStr += fizzBizzDict.get(key);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (numAnsStr.equals(<span class="string">""</span>)) &#123;</span><br><span class="line">        <span class="comment">// Not divisible by 3 or 5, add the number</span></span><br><span class="line">        numAnsStr += Integer.toString(num);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Append the current answer str to the ans list</span></span><br><span class="line">      ans.add(numAnsStr);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ç”¨æ•£åˆ—è¡¨Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fizzBuzz</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: List[str]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># ans list</span></span><br><span class="line">        ans = []</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Dictionary to store all fizzbuzz mappings</span></span><br><span class="line">        fizz_buzz_dict = &#123;<span class="number">3</span> : <span class="string">"Fizz"</span>, <span class="number">5</span> : <span class="string">"Buzz"</span>&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line"></span><br><span class="line">            num_ans_str = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> key <span class="keyword">in</span> fizz_buzz_dict.keys():</span><br><span class="line"></span><br><span class="line">                <span class="comment"># If the num is divisible by key,</span></span><br><span class="line">                <span class="comment"># then add the corresponding string mapping to current num_ans_str</span></span><br><span class="line">                <span class="keyword">if</span> num % key == <span class="number">0</span>:</span><br><span class="line">                    num_ans_str += fizz_buzz_dict[key]</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> num_ans_str:</span><br><span class="line">                num_ans_str = str(num)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Append the current answer str to the ans list</span></span><br><span class="line">            ans.append(num_ans_str)  </span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š <em>O(N)</em></li><li>ç©ºé—´å¤æ‚åº¦ï¼š <em>O(1)</em></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å†™ä¸€ä¸ªç¨‹åºï¼Œè¾“å‡ºä» 1 åˆ° n æ•°å­—çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´10æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B410%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
  </entry>
  
  <entry>
    <title>371. ä¸¤æ•´æ•°ä¹‹å’Œ</title>
    <link href="http://yoursite.com/2020/10/04/371.%20%E4%B8%A4%E6%95%B4%E6%95%B0%E4%B9%8B%E5%92%8C/"/>
    <id>http://yoursite.com/2020/10/04/371. ä¸¤æ•´æ•°ä¹‹å’Œ/</id>
    <published>2020-10-04T04:40:12.000Z</published>
    <updated>2020-10-04T16:25:24.939Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸ä½¿ç”¨è¿ç®—ç¬¦ + å’Œ -ï¼Œè®¡ç®—ä¸¤æ•´æ•°aã€bä¹‹å’Œã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: a = 1, b = 2è¾“å‡º: 3</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: a = -2, b = 3è¾“å‡º: 1</code></pre><h1 id="åˆ©ç”¨ä½æ“ä½œå®ç°åŠ æ³•"><a href="#åˆ©ç”¨ä½æ“ä½œå®ç°åŠ æ³•" class="headerlink" title="åˆ©ç”¨ä½æ“ä½œå®ç°åŠ æ³•"></a>åˆ©ç”¨ä½æ“ä½œå®ç°åŠ æ³•</h1><p>é¦–å…ˆçœ‹åè¿›åˆ¶æ˜¯å¦‚ä½•åšçš„ï¼š 5+7=12ï¼Œä¸‰æ­¥èµ° </p><ul><li>ç¬¬ä¸€æ­¥ï¼šç›¸åŠ å„ä½çš„å€¼ï¼Œä¸ç®—è¿›ä½ï¼Œå¾—åˆ°2ã€‚ </li><li>ç¬¬äºŒæ­¥ï¼šè®¡ç®—è¿›ä½å€¼ï¼Œå¾—åˆ°10. å¦‚æœè¿™ä¸€æ­¥çš„è¿›ä½å€¼ä¸º0ï¼Œé‚£ä¹ˆç¬¬ä¸€æ­¥å¾—åˆ°çš„å€¼å°±æ˜¯æœ€ç»ˆç»“æœã€‚  </li><li>ç¬¬ä¸‰æ­¥ï¼šé‡å¤ä¸Šè¿°ä¸¤æ­¥ï¼Œåªæ˜¯ç›¸åŠ çš„å€¼å˜æˆä¸Šè¿°ä¸¤æ­¥çš„å¾—åˆ°çš„ç»“æœ2å’Œ10ï¼Œå¾—åˆ°12ã€‚ </li></ul><p>åŒæ ·æˆ‘ä»¬å¯ä»¥ç”¨ä¸‰æ­¥èµ°çš„æ–¹å¼è®¡ç®—äºŒè¿›åˆ¶å€¼ç›¸åŠ ï¼š 5â€”101ï¼Œ7â€”111 </p><ul><li>ç¬¬ä¸€æ­¥ï¼šç›¸åŠ å„ä½çš„å€¼ï¼Œä¸ç®—è¿›ä½ï¼Œå¾—åˆ°010ï¼Œ<strong>äºŒè¿›åˆ¶æ¯ä½ç›¸åŠ å°±ç›¸å½“äºå„ä½åšå¼‚æˆ–æ“ä½œ</strong>ï¼Œ101^111ã€‚ </li><li>ç¬¬äºŒæ­¥ï¼šè®¡ç®—è¿›ä½å€¼ï¼Œå¾—åˆ°1010ï¼Œ<strong>ç›¸å½“äºå„ä½è¿›è¡Œä¸æ“ä½œå¾—åˆ°101ï¼Œå†å‘å·¦ç§»ä¸€ä½å¾—åˆ°1010</strong>ï¼Œ(101&amp;111)&lt;&lt;1ã€‚  </li><li>ç¬¬ä¸‰æ­¥é‡å¤ä¸Šè¿°ä¸¤æ­¥ï¼Œå„ä½ç›¸åŠ  010^1010=1000ï¼Œè¿›ä½å€¼ä¸º100=(010 &amp; 1010)&lt;&lt;1ã€‚ </li><li>ç»§ç»­é‡å¤ä¸Šè¿°ä¸¤æ­¥ï¼š1000^100 = 1100ï¼Œè¿›ä½å€¼ä¸º0ï¼Œè·³å‡ºå¾ªç¯ï¼Œ1100ä¸ºæœ€ç»ˆç»“æœã€‚ </li><li>ç»“æŸæ¡ä»¶ï¼š<strong>è¿›ä½ä¸º0ï¼Œå³aä¸ºæœ€ç»ˆçš„æ±‚å’Œç»“æœã€‚</strong><details>  <summary>åˆ©ç”¨ä½æ“ä½œå®ç°åŠ æ³•</summary></details></li></ul><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(b != <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> temp = a ^ b;</span><br><span class="line">            b = (a &amp; b) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">            a = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å›é¡¾ä¸€ä¸‹æˆ‘ä»¬å°å­¦å°±å¼€å§‹å­¦ä¹ çš„åè¿›åˆ¶çš„åŠ æ³•ï¼Œæ¯”å¦‚<code>15+7</code>ï¼Œæœ€ä½ä½<code>5+7</code>å¾—åˆ°<code>12</code>ï¼Œå¯¹<code>10</code>å–æ¨¡å¾—åˆ°<code>2</code>ï¼Œè¿›ä½ä¸º<code>1</code>ï¼Œå†é«˜ä½ç›¸åŠ <code>1+0</code>å†åŠ ä¸Šè¿›ä½<code>1</code>å°±å¾—åˆ°é«˜ä½ç»“æœ<code>2</code>,ç»„åˆèµ·æ¥å°±æ˜¯<code>22</code>ã€‚è¿™é‡Œé¢æ¶‰åŠåˆ°äº†ä¸¤ä¸ªæ•°å­—ï¼Œä¸€ä¸ªæ˜¯ç›¸åŠ å¾—åˆ°çš„ä½ä½ï¼Œä¹Ÿå°±æ˜¯<code>5+7</code>å¾—åˆ°çš„ç»“æœ<code>2</code>ï¼Œç¬¬äºŒä¸ªæ˜¯è¿›ä½<code>1</code>ã€‚åœ¨äºŒè¿›åˆ¶çš„è®¡ç®—ä¸­å°±æ˜¯è¦é€šè¿‡ä½æ“ä½œæ¥å¾—åˆ°ç»“æœçš„ä½ä½å’Œè¿›ä½ï¼Œå¯¹äºä¸åŒçš„æƒ…å†µï¼Œç”¨è¡¨æ ¼æ¥è¡¨ç¤ºä¸€ä¸‹ï¼Œä¸¤ä¸ªæ•°å­—åˆ†åˆ«ä¸º<code>a</code>å’Œ<code>b</code></p><table><thead><tr><th align="center">a</th><th align="center">b</th><th align="center">ä½ä½</th><th align="center">è¿›ä½</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center">1</td><td align="center">0</td><td align="center">1</td><td align="center">0</td></tr><tr><td align="center">0</td><td align="center">1</td><td align="center">1</td><td align="center">0</td></tr><tr><td align="center">1</td><td align="center">1</td><td align="center">0</td><td align="center">1</td></tr></tbody></table><p>ä»ä¸Šé¢çš„è¡¨æ ¼å°±å¯ä»¥å‘ç°ï¼Œ<code>ä½ä½ = a^b</code>ï¼Œ<code>è¿›ä½ = a &amp; b</code>ã€‚è¿™æ ·çš„è®¡ç®—å¯èƒ½è¦æŒç»­å¤šæ¬¡ï¼Œå›æƒ³ä¸€ä¸‹åœ¨åè¿›åˆ¶çš„è®¡ç®—ä¸­ï¼Œå¦‚æœè¿›ä½ä¸€ç›´å¤§äº0ï¼Œå°±å¾—å¾€åé¢è¿›è¡Œè®¡ç®—ï¼Œåœ¨è¿™é‡Œä¹Ÿæ˜¯ä¸€æ ·ï¼Œåªè¦è¿›ä½ä¸æ˜¯0ï¼Œæˆ‘ä»¬å°±å¾—ä¸€ç›´é‡å¤è®¡ç®—ä½ä½å’Œè¿›ä½çš„æ“ä½œï¼ˆéœ€è¦åœ¨ä¸‹ä¸€æ¬¡è®¡ç®—ä¹‹å‰è¦æŠŠè¿›ä½å‘å·¦ç§»åŠ¨ä¸€ä½ï¼Œè¿™æ ·è¿›ä½æ‰èƒ½å’Œæ›´é«˜ä½è¿›è¡Œè¿ç®—ï¼‰ã€‚è¿™ä¸ªæ—¶å€™çš„<code>a</code>å’Œ<code>b</code>å°±æ˜¯åˆšæ‰è®¡ç®—çš„ä½ä½å’Œè¿›ä½ï¼Œç”¨ç®€å•çš„åŠ æ³•è¿­ä»£çš„ä»£ç è¡¨ç¤ºï¼š</p><details>    <summary>åˆ©ç”¨ä½æ“ä½œå®ç°åŠ æ³•</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a==<span class="number">0</span>) <span class="keyword">return</span> b;</span><br><span class="line">    <span class="keyword">if</span> (b==<span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">int</span> lower;</span><br><span class="line">    <span class="keyword">int</span> carrier;</span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">        lower = a^b;    <span class="comment">// è®¡ç®—ä½ä½</span></span><br><span class="line">        carrier = a&amp;b;  <span class="comment">// è®¡ç®—è¿›ä½</span></span><br><span class="line">        <span class="keyword">if</span> (carrier==<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        a = lower;</span><br><span class="line">        b = carrier&lt;&lt;<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> lower;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸ä½¿ç”¨è¿ç®—ç¬¦ + å’Œ -ï¼Œè®¡ç®—ä¸¤æ•´æ•°aã€bä¹‹å’Œã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´10æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B410%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
  </entry>
  
  <entry>
    <title>202. å¿«ä¹æ•°</title>
    <link href="http://yoursite.com/2020/10/04/202.%20%E5%BF%AB%E4%B9%90%E6%95%B0/"/>
    <id>http://yoursite.com/2020/10/04/202. å¿«ä¹æ•°/</id>
    <published>2020-10-04T01:30:12.000Z</published>
    <updated>2020-10-04T04:38:25.560Z</updated>
    
    <content type="html"><![CDATA[<p>ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•° n æ˜¯ä¸æ˜¯å¿«ä¹æ•°ã€‚</p><a id="more"></a><p>ã€Œå¿«ä¹æ•°ã€å®šä¹‰ä¸ºï¼šå¯¹äºä¸€ä¸ªæ­£æ•´æ•°ï¼Œæ¯ä¸€æ¬¡å°†è¯¥æ•°æ›¿æ¢ä¸ºå®ƒæ¯ä¸ªä½ç½®ä¸Šçš„æ•°å­—çš„å¹³æ–¹å’Œï¼Œç„¶åé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°è¿™ä¸ªæ•°å˜ä¸º 1ï¼Œä¹Ÿå¯èƒ½æ˜¯ æ— é™å¾ªç¯ ä½†å§‹ç»ˆå˜ä¸åˆ° 1ã€‚å¦‚æœ å¯ä»¥å˜ä¸º1ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯å¿«ä¹æ•°ã€‚</p><p>å¦‚æœ n æ˜¯å¿«ä¹æ•°å°±è¿”å› True ï¼›ä¸æ˜¯ï¼Œåˆ™è¿”å› False ã€‚</p><p>ç¤ºä¾‹ï¼š</p><pre><code>è¾“å…¥ï¼š19è¾“å‡ºï¼štrueè§£é‡Šï¼š1^2 + 9^2 = 828^2 + 2^2 = 686^2 + 8^2 = 1001^2 + 0^2 + 0^2 = 1</code></pre><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="9d8ce931-e835-45d1-a3d2-ab54b52b5377">202. å¿«ä¹æ•° - Lizzi.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šç”¨-HashSet-æ£€æµ‹å¾ªç¯"><a href="#æ–¹æ³•ä¸€ï¼šç”¨-HashSet-æ£€æµ‹å¾ªç¯" class="headerlink" title="æ–¹æ³•ä¸€ï¼šç”¨ HashSet æ£€æµ‹å¾ªç¯"></a>æ–¹æ³•ä¸€ï¼šç”¨ HashSet æ£€æµ‹å¾ªç¯</h2><p>æˆ‘ä»¬å¯ä»¥å…ˆä¸¾å‡ ä¸ªä¾‹å­ã€‚æˆ‘ä»¬ä» <em>7</em> å¼€å§‹ã€‚åˆ™ä¸‹ä¸€ä¸ªæ•°å­—æ˜¯ <em>49<em>ï¼ˆå› ä¸º *7^2=49</em>ï¼‰ï¼Œç„¶åä¸‹ä¸€ä¸ªæ•°å­—æ˜¯ <em>97</em>ï¼ˆå› ä¸º <em>4^2+9^2=97</em>ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥ä¸æ–­é‡å¤è¯¥çš„è¿‡ç¨‹ï¼Œç›´åˆ°æˆ‘ä»¬å¾—åˆ° <em>1</em>ã€‚å› ä¸ºæˆ‘ä»¬å¾—åˆ°äº† <em>1</em>ï¼Œæˆ‘ä»¬çŸ¥é“ *7</em> æ˜¯ä¸€ä¸ªå¿«ä¹æ•°ï¼Œå‡½æ•°åº”è¯¥è¿”å› <code>true</code>ã€‚</p><p><a href="https://assets.leetcode-cn.com/solution-static/202/202_fig1.png" target="_blank" rel="noopener">fig1</a></p><p>å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œè®©æˆ‘ä»¬ä» <em>116</em> å¼€å§‹ã€‚é€šè¿‡åå¤é€šè¿‡å¹³æ–¹å’Œè®¡ç®—ä¸‹ä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬æœ€ç»ˆå¾—åˆ° <em>58</em>ï¼Œå†ç»§ç»­è®¡ç®—ä¹‹åï¼Œæˆ‘ä»¬åˆå›åˆ° <em>58</em>ã€‚ç”±äºæˆ‘ä»¬å›åˆ°äº†ä¸€ä¸ªå·²ç»è®¡ç®—è¿‡çš„æ•°å­—ï¼Œå¯ä»¥çŸ¥é“æœ‰ä¸€ä¸ªå¾ªç¯ï¼Œå› æ­¤ä¸å¯èƒ½è¾¾åˆ° <em>1</em>ã€‚æ‰€ä»¥å¯¹äº <em>116</em>ï¼Œå‡½æ•°åº”è¯¥è¿”å› <code>false</code>ã€‚</p><p><a href="https://assets.leetcode-cn.com/solution-static/202/202_fig2.png" target="_blank" rel="noopener">fig2</a></p><p>æ ¹æ®æˆ‘ä»¬çš„æ¢ç´¢ï¼Œæˆ‘ä»¬çŒœæµ‹ä¼šæœ‰ä»¥ä¸‹ä¸‰ç§å¯èƒ½ã€‚</p><ol><li>æœ€ç»ˆä¼šå¾—åˆ° <em>1</em>ã€‚</li><li>æœ€ç»ˆä¼šè¿›å…¥å¾ªç¯ã€‚</li><li>å€¼ä¼šè¶Šæ¥è¶Šå¤§ï¼Œæœ€åæ¥è¿‘æ— ç©·å¤§ã€‚</li></ol><p>ç¬¬ä¸‰ä¸ªæƒ…å†µæ¯”è¾ƒéš¾ä»¥æ£€æµ‹å’Œå¤„ç†ã€‚æˆ‘ä»¬æ€ä¹ˆçŸ¥é“å®ƒä¼šç»§ç»­å˜å¤§ï¼Œè€Œä¸æ˜¯æœ€ç»ˆå¾—åˆ° <em>1</em> å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä»”ç»†æƒ³ä¸€æƒ³ï¼Œæ¯ä¸€ä½æ•°çš„æœ€å¤§æ•°å­—çš„ä¸‹ä¸€ä½æ•°æ˜¯å¤šå°‘ã€‚</p><table><thead><tr><th>Digits</th><th align="center">Largest</th><th align="right">Next</th></tr></thead><tbody><tr><td>1</td><td align="center">9</td><td align="right">81</td></tr><tr><td>2</td><td align="center">99</td><td align="right">162</td></tr><tr><td>3</td><td align="center">999</td><td align="right">243</td></tr><tr><td>4</td><td align="center">9999</td><td align="right">324</td></tr><tr><td>13</td><td align="center">9999999999999</td><td align="right">1053</td></tr></tbody></table><p>å¯¹äº <em>3</em> ä½æ•°çš„æ•°å­—ï¼Œå®ƒä¸å¯èƒ½å¤§äº <em>243*ã€‚è¿™æ„å‘³ç€å®ƒè¦ä¹ˆè¢«å›°åœ¨ *243</em> ä»¥ä¸‹çš„å¾ªç¯å†…ï¼Œè¦ä¹ˆè·Œåˆ° <em>1</em>ã€‚<em>4</em> ä½æˆ– <em>4</em> ä½ä»¥ä¸Šçš„æ•°å­—åœ¨æ¯ä¸€æ­¥éƒ½ä¼šä¸¢å¤±ä¸€ä½ï¼Œç›´åˆ°é™åˆ° <em>3</em> ä½ä¸ºæ­¢ã€‚æ‰€ä»¥æˆ‘ä»¬çŸ¥é“ï¼Œæœ€åçš„æƒ…å†µä¸‹ï¼Œç®—æ³•å¯èƒ½ä¼šåœ¨ <em>243</em> ä»¥ä¸‹çš„æ‰€æœ‰æ•°å­—ä¸Šå¾ªç¯ï¼Œç„¶åå›åˆ°å®ƒå·²ç»åˆ°è¿‡çš„ä¸€ä¸ªå¾ªç¯æˆ–è€…å›åˆ° <em>1</em>ã€‚ä½†å®ƒä¸ä¼šæ— é™æœŸåœ°è¿›è¡Œä¸‹å»ï¼Œæ‰€ä»¥æˆ‘ä»¬æ’é™¤ç¬¬ä¸‰ç§é€‰æ‹©ã€‚</p><p>å³ä½¿åœ¨ä»£ç ä¸­ä½ ä¸éœ€è¦å¤„ç†ç¬¬ä¸‰ç§æƒ…å†µï¼Œä½ ä»ç„¶éœ€è¦ç†è§£ä¸ºä»€ä¹ˆå®ƒæ°¸è¿œä¸ä¼šå‘ç”Ÿï¼Œè¿™æ ·ä½ å°±å¯ä»¥è¯æ˜ä¸ºä»€ä¹ˆä½ ä¸å¤„ç†å®ƒã€‚</p><p><strong>ç®—æ³•ï¼š</strong></p><p>ç®—æ³•åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œæˆ‘ä»¬éœ€è¦è®¾è®¡å’Œç¼–å†™ä»£ç ã€‚</p><ol><li>ç»™ä¸€ä¸ªæ•°å­— <em>n</em>ï¼Œå®ƒçš„ä¸‹ä¸€ä¸ªæ•°å­—æ˜¯ä»€ä¹ˆï¼Ÿ</li><li>æŒ‰ç…§ä¸€ç³»åˆ—çš„æ•°å­—æ¥åˆ¤æ–­æˆ‘ä»¬æ˜¯å¦è¿›å…¥äº†ä¸€ä¸ªå¾ªç¯ã€‚</li></ol><p>ç¬¬ 1 éƒ¨åˆ†æˆ‘ä»¬æŒ‰ç…§é¢˜ç›®çš„è¦æ±‚åšæ•°ä½åˆ†ç¦»ï¼Œæ±‚å¹³æ–¹å’Œã€‚</p><p>ç¬¬ 2 éƒ¨åˆ†å¯ä»¥ä½¿ç”¨ HashSet å®Œæˆã€‚æ¯æ¬¡ç”Ÿæˆé“¾ä¸­çš„ä¸‹ä¸€ä¸ªæ•°å­—æ—¶ï¼Œæˆ‘ä»¬éƒ½ä¼šæ£€æŸ¥å®ƒæ˜¯å¦å·²ç»åœ¨ HashSet ä¸­ã€‚</p><ul><li>å¦‚æœå®ƒä¸åœ¨ HashSet ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥æ·»åŠ å®ƒã€‚</li><li>å¦‚æœå®ƒåœ¨ HashSet ä¸­ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¤„äºä¸€ä¸ªå¾ªç¯ä¸­ï¼Œå› æ­¤åº”è¯¥è¿”å› <code>false</code>ã€‚</li></ul><p>æˆ‘ä»¬ä½¿ç”¨ HashSet  è€Œä¸æ˜¯å‘é‡ã€åˆ—è¡¨æˆ–æ•°ç»„çš„åŸå› æ˜¯å› ä¸ºæˆ‘ä»¬åå¤æ£€æŸ¥å…¶ä¸­æ˜¯å¦å­˜åœ¨æŸæ•°å­—ã€‚æ£€æŸ¥æ•°å­—æ˜¯å¦åœ¨å“ˆå¸Œé›†ä¸­éœ€è¦ <em>O(1)</em> çš„æ—¶é—´ï¼Œè€Œå¯¹äºå…¶ä»–æ•°æ®ç»“æ„ï¼Œåˆ™éœ€è¦ <em>O(n)</em> çš„æ—¶é—´ã€‚é€‰æ‹©æ­£ç¡®çš„æ•°æ®ç»“æ„æ˜¯è§£å†³è¿™äº›é—®é¢˜çš„å…³é”®éƒ¨åˆ†ã€‚</p><details>    <summary>ç”¨ HashSet æ£€æµ‹å¾ªç¯Python</summary><figure class="highlight python"><figcaption><span>[solution1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isHappy</span><span class="params">(self, n: int)</span> -&gt; bool:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_next</span><span class="params">(n)</span>:</span></span><br><span class="line">        total_sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">            n, digit = divmod(n, <span class="number">10</span>)</span><br><span class="line">            total_sum += digit ** <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> total_sum</span><br><span class="line"></span><br><span class="line">    seen = set()</span><br><span class="line">    <span class="keyword">while</span> n != <span class="number">1</span> <span class="keyword">and</span> n <span class="keyword">not</span> <span class="keyword">in</span> seen:</span><br><span class="line">        seen.add(n)</span><br><span class="line">        n = get_next(n)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> n == <span class="number">1</span></span><br></pre></td></tr></table></figure></details><details>    <summary>ç”¨ HashSet æ£€æµ‹å¾ªç¯Java</summary><figure class="highlight java"><figcaption><span>[solution1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getNext</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> totalSum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> d = n % <span class="number">10</span>;</span><br><span class="line">            n = n / <span class="number">10</span>;</span><br><span class="line">            totalSum += d * d;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> totalSum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isHappy</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        Set&lt;Integer&gt; seen = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (n != <span class="number">1</span> &amp;&amp; !seen.contains(n)) &#123;</span><br><span class="line">            seen.add(n);</span><br><span class="line">            n = getNext(n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ç”¨ HashSet æ£€æµ‹å¾ªç¯C#</summary><figure class="highlight csharp"><figcaption><span>[solution1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getNext</span>(<span class="params"><span class="keyword">int</span> n</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> totalSum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> d = n % <span class="number">10</span>;</span><br><span class="line">            n = n / <span class="number">10</span>;</span><br><span class="line">            totalSum += d * d;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> totalSum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">bool</span> <span class="title">IsHappy</span>(<span class="params"><span class="keyword">int</span> n</span>) </span>&#123;</span><br><span class="line">        HashSet &lt;<span class="keyword">int</span>&gt; seen = <span class="keyword">new</span> HashSet&lt;<span class="keyword">int</span>&gt;();</span><br><span class="line">        <span class="keyword">while</span> (n != <span class="number">1</span> &amp;&amp; !seen.Contains(n)) &#123;</span><br><span class="line">            seen.Add(n);</span><br><span class="line">            n = getNext(n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ç”¨ HashSet æ£€æµ‹å¾ªç¯Golang</summary><figure class="highlight golang"><figcaption><span>[solution1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isHappy</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    m := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">bool</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> ; n != <span class="number">1</span> &amp;&amp; !m[n]; n, m[n] = step(n), <span class="literal">true</span> &#123; &#125;</span><br><span class="line">    <span class="keyword">return</span> n == <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">step</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    sum := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n &gt; <span class="number">0</span> &#123;</span><br><span class="line">        sum += (n%<span class="number">10</span>) * (n%<span class="number">10</span>)</span><br><span class="line">        n = n/<span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><p>ç¡®å®šè¿™ä¸ªé—®é¢˜çš„æ—¶é—´å¤æ‚åº¦å¯¹äºä¸€ä¸ª â€œç®€å•â€ çº§åˆ«çš„é—®é¢˜æ¥è¯´æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚å¦‚æœæ‚¨å¯¹è¿™äº›é—®é¢˜è¿˜ä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥å°è¯•åªè®¡ç®—  <code>getNext(n)</code> å‡½æ•°çš„æ—¶é—´å¤æ‚åº¦ã€‚</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<br>O(243 *3 + logn+loglogn+logloglogn)â€¦=O(logn)ã€‚<ul><li>æŸ¥æ‰¾ç»™å®šæ•°å­—çš„ä¸‹ä¸€ä¸ªå€¼çš„æˆæœ¬ä¸ºO(logn) ï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨å¤„ç†æ•°å­—ä¸­çš„æ¯ä½æ•°å­—ï¼Œè€Œæ•°å­—ä¸­çš„ä½æ•°ç”± logn ç»™å®šã€‚</li><li>è¦è®¡ç®—å‡ºæ€»çš„æ—¶é—´å¤æ‚åº¦ï¼Œæˆ‘ä»¬éœ€è¦ä»”ç»†è€ƒè™‘å¾ªç¯ä¸­æœ‰å¤šå°‘ä¸ªæ•°å­—ï¼Œå®ƒä»¬æœ‰å¤šå¤§ã€‚</li></ul><ul><li>æˆ‘ä»¬åœ¨ä¸Šé¢ç¡®å®šï¼Œä¸€æ—¦ä¸€ä¸ªæ•°å­—ä½äº <em>243*ï¼Œå®ƒå°±ä¸å¯èƒ½å›åˆ° *243</em> ä»¥ä¸Šã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨ <em>243</em> ä»¥ä¸‹æœ€é•¿å¾ªç¯çš„é•¿åº¦æ¥ä»£æ›¿ <em>243</em>ï¼Œä¸è¿‡ï¼Œå› ä¸ºå¸¸æ•°æ— è®ºå¦‚ä½•éƒ½æ— å…³ç´§è¦ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ä¼šæ‹…å¿ƒå®ƒã€‚</li><li>å¯¹äºé«˜äº <em>243</em> çš„ <em>n</em>ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘å¾ªç¯ä¸­æ¯ä¸ªæ•°é«˜äº <em>243</em> çš„æˆæœ¬ã€‚é€šè¿‡æ•°å­¦è¿ç®—ï¼Œæˆ‘ä»¬å¯ä»¥è¯æ˜åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œè¿™äº›æˆæœ¬å°†æ˜¯ O(logn)+O(loglogn)+O(logloglogn) ã€‚å¹¸è¿çš„æ˜¯ï¼ŒO(logn)  æ˜¯å ä¸»å¯¼åœ°ä½çš„éƒ¨åˆ†ï¼Œè€Œå…¶ä»–éƒ¨åˆ†ç›¸æ¯”ä¹‹ä¸‹éƒ½å¾ˆå°ï¼ˆæ€»çš„æ¥è¯´ï¼Œå®ƒä»¬çš„æ€»å’Œå°äºO(logn)ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¿½ç•¥å®ƒä»¬ã€‚</li></ul></li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(logn) ã€‚ä¸æ—¶é—´å¤æ‚åº¦å¯†åˆ‡ç›¸å…³çš„æ˜¯è¡¡é‡æˆ‘ä»¬æ”¾å…¥ HashSet ä¸­çš„æ•°å­—ä»¥åŠå®ƒä»¬æœ‰å¤šå¤§çš„æŒ‡æ ‡ã€‚å¯¹äºè¶³å¤Ÿå¤§çš„ <em>n</em>ï¼Œå¤§éƒ¨åˆ†ç©ºé—´å°†ç”± <em>n</em> æœ¬èº«å ç”¨ã€‚æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ä¼˜åŒ–åˆ°O(243<em>3)=O(1) ï¼Œæ–¹æ³•æ˜¯åªä¿å­˜é›†åˆä¸­å°äº *243</em> çš„æ•°å­—ï¼Œå› ä¸ºå¯¹äºè¾ƒé«˜çš„æ•°å­—ï¼Œæ— è®ºå¦‚ä½•éƒ½ä¸å¯èƒ½è¿”å›åˆ°å®ƒä»¬ã€‚</li></ul><h2 id="æ–¹æ³•äºŒï¼šå¿«æ…¢æŒ‡é’ˆæ³•"><a href="#æ–¹æ³•äºŒï¼šå¿«æ…¢æŒ‡é’ˆæ³•" class="headerlink" title="æ–¹æ³•äºŒï¼šå¿«æ…¢æŒ‡é’ˆæ³•"></a>æ–¹æ³•äºŒï¼šå¿«æ…¢æŒ‡é’ˆæ³•</h2><p>é€šè¿‡åå¤è°ƒç”¨ <code>getNext(n)</code> å¾—åˆ°çš„é“¾æ˜¯ä¸€ä¸ªéšå¼çš„é“¾è¡¨ã€‚éšå¼æ„å‘³ç€æˆ‘ä»¬æ²¡æœ‰å®é™…çš„é“¾è¡¨èŠ‚ç‚¹å’ŒæŒ‡é’ˆï¼Œä½†æ•°æ®ä»ç„¶å½¢æˆé“¾è¡¨ç»“æ„ã€‚èµ·å§‹æ•°å­—æ˜¯é“¾è¡¨çš„å¤´ â€œèŠ‚ç‚¹â€ï¼Œé“¾ä¸­çš„æ‰€æœ‰å…¶ä»–æ•°å­—éƒ½æ˜¯èŠ‚ç‚¹ã€‚<code>next</code> æŒ‡é’ˆæ˜¯é€šè¿‡è°ƒç”¨ <code>getNext(n)</code> å‡½æ•°è·å¾—ã€‚</p><p>æ„è¯†åˆ°æˆ‘ä»¬å®é™…æœ‰ä¸ªé“¾è¡¨ï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜å°±å¯ä»¥è½¬æ¢ä¸ºæ£€æµ‹ä¸€ä¸ªé“¾è¡¨æ˜¯å¦æœ‰ç¯ã€‚å› æ­¤æˆ‘ä»¬åœ¨è¿™é‡Œå¯ä»¥ä½¿ç”¨å¼—æ´›ä¼Šå¾·å¾ªç¯æŸ¥æ‰¾ç®—æ³•ã€‚è¿™ä¸ªç®—æ³•æ˜¯ä¸¤ä¸ªå¥”è·‘é€‰æ‰‹ï¼Œä¸€ä¸ªè·‘çš„å¿«ï¼Œä¸€ä¸ªè·‘å¾—æ…¢ã€‚åœ¨é¾Ÿå…”èµ›è·‘çš„å¯“è¨€ä¸­ï¼Œè·‘çš„å¿«çš„ç§°ä¸º â€œä¹Œé¾Ÿâ€ï¼Œè·‘å¾—å¿«çš„ç§°ä¸º â€œå…”å­â€ã€‚</p><p>ä¸ç®¡ä¹Œé¾Ÿå’Œå…”å­åœ¨å¾ªç¯ä¸­ä»å“ªé‡Œå¼€å§‹ï¼Œå®ƒä»¬æœ€ç»ˆéƒ½ä¼šç›¸é‡ã€‚è¿™æ˜¯å› ä¸ºå…”å­æ¯èµ°ä¸€æ­¥å°±å‘ä¹Œé¾Ÿé è¿‘ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆåœ¨å®ƒä»¬çš„ç§»åŠ¨æ–¹å‘ä¸Šï¼‰ã€‚</p><p> <a href="https://assets.leetcode-cn.com/solution-static/202/1.jpg" target="_blank" rel="noopener">fig1</a> <a href="https://assets.leetcode-cn.com/solution-static/202/2.jpg" target="_blank" rel="noopener">fig2</a> <a href="https://assets.leetcode-cn.com/solution-static/202/3.jpg" target="_blank" rel="noopener">fig3</a> <a href="https://assets.leetcode-cn.com/solution-static/202/4.jpg" target="_blank" rel="noopener">fig4</a> <a href="https://assets.leetcode-cn.com/solution-static/202/5.jpg" target="_blank" rel="noopener">fig5</a> <a href="https://assets.leetcode-cn.com/solution-static/202/6.jpg" target="_blank" rel="noopener">fig6</a> <a href="https://assets.leetcode-cn.com/solution-static/202/7.jpg" target="_blank" rel="noopener">fig7</a> <a href="https://assets.leetcode-cn.com/solution-static/202/8.jpg" target="_blank" rel="noopener">fig8</a> </p><p><strong>ç®—æ³•ï¼š</strong></p><p>æˆ‘ä»¬ä¸æ˜¯åªè·Ÿè¸ªé“¾è¡¨ä¸­çš„ä¸€ä¸ªå€¼ï¼Œè€Œæ˜¯è·Ÿè¸ªä¸¤ä¸ªå€¼ï¼Œç§°ä¸ºå¿«è·‘è€…å’Œæ…¢è·‘è€…ã€‚åœ¨ç®—æ³•çš„æ¯ä¸€æ­¥ä¸­ï¼Œæ…¢é€Ÿåœ¨é“¾è¡¨ä¸­å‰è¿› 1 ä¸ªèŠ‚ç‚¹ï¼Œå¿«è·‘è€…å‰è¿› 2 ä¸ªèŠ‚ç‚¹ï¼ˆå¯¹ <code>getNext(n)</code> å‡½æ•°çš„åµŒå¥—è°ƒç”¨ï¼‰ã€‚</p><p>å¦‚æœ <code>n</code> æ˜¯ä¸€ä¸ªå¿«ä¹æ•°ï¼Œå³æ²¡æœ‰å¾ªç¯ï¼Œé‚£ä¹ˆå¿«è·‘è€…æœ€ç»ˆä¼šæ¯”æ…¢è·‘è€…å…ˆåˆ°è¾¾æ•°å­— 1ã€‚</p><p>å¦‚æœ <code>n</code> ä¸æ˜¯ä¸€ä¸ªå¿«ä¹çš„æ•°å­—ï¼Œé‚£ä¹ˆæœ€ç»ˆå¿«è·‘è€…å’Œæ…¢è·‘è€…å°†åœ¨åŒä¸€ä¸ªæ•°å­—ä¸Šç›¸é‡ã€‚</p><details>    <summary>å¿«æ…¢æŒ‡é’ˆæ³•Python</summary><figure class="highlight python"><figcaption><span>[solution2-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isHappy</span><span class="params">(self, n: int)</span> -&gt; bool:</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_next</span><span class="params">(number)</span>:</span></span><br><span class="line">        total_sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> number &gt; <span class="number">0</span>:</span><br><span class="line">            number, digit = divmod(number, <span class="number">10</span>)</span><br><span class="line">            total_sum += digit ** <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> total_sum</span><br><span class="line"></span><br><span class="line">    slow_runner = n</span><br><span class="line">    fast_runner = get_next(n)</span><br><span class="line">    <span class="keyword">while</span> fast_runner != <span class="number">1</span> <span class="keyword">and</span> slow_runner != fast_runner:</span><br><span class="line">        slow_runner = get_next(slow_runner)</span><br><span class="line">        fast_runner = get_next(get_next(fast_runner))</span><br><span class="line">    <span class="keyword">return</span> fast_runner == <span class="number">1</span></span><br></pre></td></tr></table></figure></details><details>    <summary>å¿«æ…¢æŒ‡é’ˆæ³•Java</summary><figure class="highlight java"><figcaption><span>[solution2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNext</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> totalSum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> d = n % <span class="number">10</span>;</span><br><span class="line">            n = n / <span class="number">10</span>;</span><br><span class="line">            totalSum += d * d;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> totalSum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isHappy</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> slowRunner = n;</span><br><span class="line">        <span class="keyword">int</span> fastRunner = getNext(n);</span><br><span class="line">        <span class="keyword">while</span> (fastRunner != <span class="number">1</span> &amp;&amp; slowRunner != fastRunner) &#123;</span><br><span class="line">            slowRunner = getNext(slowRunner);</span><br><span class="line">            fastRunner = getNext(getNext(fastRunner));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fastRunner == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¿«æ…¢æŒ‡é’ˆæ³•C#</summary><figure class="highlight csharp"><figcaption><span>[solution2-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNext</span>(<span class="params"><span class="keyword">int</span> n</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> totalSum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> d = n % <span class="number">10</span>;</span><br><span class="line">            n = n / <span class="number">10</span>;</span><br><span class="line">            totalSum += d * d;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> totalSum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">bool</span> <span class="title">IsHappy</span>(<span class="params"><span class="keyword">int</span> n</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> slowRunner = n;</span><br><span class="line">        <span class="keyword">int</span> fastRunner = getNext(n);</span><br><span class="line">        <span class="keyword">while</span> (fastRunner != <span class="number">1</span> &amp;&amp; slowRunner != fastRunner) &#123;</span><br><span class="line">            slowRunner = getNext(slowRunner);</span><br><span class="line">            fastRunner = getNext(getNext(fastRunner));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fastRunner == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¿«æ…¢æŒ‡é’ˆæ³•Golang</summary><figure class="highlight golang"><figcaption><span>[solution2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isHappy</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    slow, fast := n, step(n)</span><br><span class="line">    <span class="keyword">for</span> fast != <span class="number">1</span> &amp;&amp; slow != fast &#123;</span><br><span class="line">        slow = step(slow)</span><br><span class="line">        fast = step(step(fast))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fast == <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">step</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    sum := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n &gt; <span class="number">0</span> &#123;</span><br><span class="line">        sum += (n%<span class="number">10</span>) * (n%<span class="number">10</span>)</span><br><span class="line">        n = n/<span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(logn)  ã€‚è¯¥åˆ†æå»ºç«‹åœ¨å¯¹å‰ä¸€ç§æ–¹æ³•çš„åˆ†æçš„åŸºç¡€ä¸Šï¼Œä½†æ˜¯è¿™æ¬¡æˆ‘ä»¬éœ€è¦è·Ÿè¸ªä¸¤ä¸ªæŒ‡é’ˆè€Œä¸æ˜¯ä¸€ä¸ªæŒ‡é’ˆæ¥åˆ†æï¼Œä»¥åŠåœ¨å®ƒä»¬ç›¸é‡å‰éœ€è¦ç»•ç€è¿™ä¸ªå¾ªç¯èµ°å¤šå°‘æ¬¡ã€‚<ul><li>å¦‚æœæ²¡æœ‰å¾ªç¯ï¼Œé‚£ä¹ˆå¿«è·‘è€…å°†å…ˆåˆ°è¾¾ 1ï¼Œæ…¢è·‘è€…å°†åˆ°è¾¾é“¾è¡¨ä¸­çš„ä¸€åŠã€‚æˆ‘ä»¬çŸ¥é“æœ€åçš„æƒ…å†µä¸‹ï¼Œæˆæœ¬æ˜¯    O(2logn) = O(logn) ã€‚</li><li>ä¸€æ—¦ä¸¤ä¸ªæŒ‡é’ˆéƒ½åœ¨å¾ªç¯ä¸­ï¼Œåœ¨æ¯ä¸ªå¾ªç¯ä¸­ï¼Œå¿«è·‘è€…å°†ç¦»æ…¢è·‘è€…æ›´è¿‘ä¸€æ­¥ã€‚ä¸€æ—¦å¿«è·‘è€…è½åæ…¢è·‘è€…ä¸€æ­¥ï¼Œä»–ä»¬å°±ä¼šåœ¨ä¸‹ä¸€æ­¥ç›¸é‡ã€‚å‡è®¾å¾ªç¯ä¸­æœ‰ <em>k</em> ä¸ªæ•°å­—ã€‚å¦‚æœä»–ä»¬çš„èµ·ç‚¹æ˜¯ç›¸éš” <em>k-1</em> çš„ä½ç½®ï¼ˆè¿™æ˜¯ä»–ä»¬å¯ä»¥å¼€å§‹çš„æœ€è¿œçš„è·ç¦»ï¼‰ï¼Œé‚£ä¹ˆå¿«è·‘è€…éœ€è¦ <em>k-1</em> æ­¥æ‰èƒ½åˆ°è¾¾æ…¢è·‘è€…ï¼Œè¿™å¯¹äºæˆ‘ä»¬çš„ç›®çš„æ¥è¯´ä¹Ÿæ˜¯ä¸å˜çš„ã€‚å› æ­¤ï¼Œä¸»æ“ä½œä»ç„¶åœ¨è®¡ç®—èµ·å§‹ n çš„ä¸‹ä¸€ä¸ªå€¼ï¼Œå³ O(logn)  ã€‚</li></ul></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œå¯¹äºè¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬ä¸éœ€è¦å“ˆå¸Œé›†æ¥æ£€æµ‹å¾ªç¯ã€‚æŒ‡é’ˆéœ€è¦å¸¸æ•°çš„é¢å¤–ç©ºé—´ã€‚</li></ul><h2 id="æ–¹æ³•ä¸‰ï¼šæ•°å­¦"><a href="#æ–¹æ³•ä¸‰ï¼šæ•°å­¦" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šæ•°å­¦"></a>æ–¹æ³•ä¸‰ï¼šæ•°å­¦</h2><p>å‰ä¸¤ç§æ–¹æ³•æ˜¯ä½ åœ¨é¢è¯•ä¸­åº”è¯¥æƒ³åˆ°çš„ã€‚ç¬¬ä¸‰ç§æ–¹æ³•ä¸æ˜¯ä½ åœ¨é¢è¯•ä¸­ä¼šå†™çš„ï¼Œè€Œæ˜¯é’ˆå¯¹å¯¹æ•°å­¦å¥½å¥‡çš„äººï¼Œå› ä¸ºå®ƒå¾ˆæœ‰è¶£ã€‚</p><p>ä¸‹ä¸€ä¸ªå€¼å¯èƒ½æ¯”è‡ªå·±å¤§çš„æœ€å¤§æ•°å­—æ˜¯ä»€ä¹ˆï¼Ÿæ ¹æ®æˆ‘ä»¬ä¹‹å‰çš„åˆ†æï¼Œæˆ‘ä»¬çŸ¥é“å®ƒå¿…é¡»ä½äº 243ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çŸ¥é“ä»»ä½•å¾ªç¯éƒ½å¿…é¡»åŒ…å«å°äº 243 çš„æ•°å­—ï¼Œç”¨è¿™ä¹ˆå°çš„æ•°å­—ï¼Œç¼–å†™ä¸€ä¸ªèƒ½æ‰¾åˆ°æ‰€æœ‰å‘¨æœŸçš„å¼ºåŠ›ç¨‹åºå¹¶ä¸å›°éš¾ã€‚</p><p>å¦‚æœè¿™æ ·åšï¼Œæ‚¨ä¼šå‘ç°åªæœ‰ä¸€ä¸ªå¾ªç¯ï¼š4â†’16â†’37â†’58â†’89â†’145â†’42â†’20â†’4 ã€‚æ‰€æœ‰å…¶ä»–æ•°å­—éƒ½åœ¨è¿›å…¥è¿™ä¸ªå¾ªç¯çš„é“¾ä¸Šï¼Œæˆ–è€…åœ¨è¿›å…¥ <em>1</em> çš„é“¾ä¸Šã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç¡¬ç¼–ç ä¸€ä¸ªåŒ…å«è¿™äº›æ•°å­—çš„æ•£åˆ—é›†ï¼Œå¦‚æœæˆ‘ä»¬è¾¾åˆ°å…¶ä¸­ä¸€ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±çŸ¥é“åœ¨å¾ªç¯ä¸­ã€‚</p><p><strong>ç®—æ³•ï¼š</strong></p><details>    <summary>æ•°å­¦Python</summary><figure class="highlight python"><figcaption><span>[solution3-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isHappy</span><span class="params">(self, n: int)</span> -&gt; bool:</span></span><br><span class="line"></span><br><span class="line">    cycle_members = &#123;<span class="number">4</span>, <span class="number">16</span>, <span class="number">37</span>, <span class="number">58</span>, <span class="number">89</span>, <span class="number">145</span>, <span class="number">42</span>, <span class="number">20</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_next</span><span class="params">(number)</span>:</span></span><br><span class="line">        total_sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> number &gt; <span class="number">0</span>:</span><br><span class="line">            number, digit = divmod(number, <span class="number">10</span>)</span><br><span class="line">            total_sum += digit ** <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> total_sum</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> n != <span class="number">1</span> <span class="keyword">and</span> n <span class="keyword">not</span> <span class="keyword">in</span> cycle_members:</span><br><span class="line">        n = get_next(n)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> n == <span class="number">1</span></span><br></pre></td></tr></table></figure></details><details>    <summary>æ•°å­¦Java</summary><figure class="highlight java"><figcaption><span>[solution3-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Set&lt;Integer&gt; cycleMembers =</span><br><span class="line">        <span class="keyword">new</span> HashSet&lt;&gt;(Arrays.asList(<span class="number">4</span>, <span class="number">16</span>, <span class="number">37</span>, <span class="number">58</span>, <span class="number">89</span>, <span class="number">145</span>, <span class="number">42</span>, <span class="number">20</span>));</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNext</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> totalSum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> d = n % <span class="number">10</span>;</span><br><span class="line">            n = n / <span class="number">10</span>;</span><br><span class="line">            totalSum += d * d;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> totalSum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isHappy</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (n != <span class="number">1</span> &amp;&amp; !cycleMembers.contains(n)) &#123;</span><br><span class="line">            n = getNext(n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ•°å­¦C#</summary><figure class="highlight csharp"><figcaption><span>[solution3-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNext</span>(<span class="params"><span class="keyword">int</span> n</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> totalSum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> d = n % <span class="number">10</span>;</span><br><span class="line">            n = n / <span class="number">10</span>;</span><br><span class="line">            totalSum += d * d;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> totalSum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">bool</span> <span class="title">IsHappy</span>(<span class="params"><span class="keyword">int</span> n</span>) </span>&#123;</span><br><span class="line">        HashSet&lt;<span class="keyword">int</span>&gt; cycleMembers =</span><br><span class="line">            <span class="keyword">new</span> HashSet&lt;<span class="keyword">int</span>&gt;(<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">8</span>] &#123;<span class="number">4</span>, <span class="number">16</span>, <span class="number">37</span>, <span class="number">58</span>, <span class="number">89</span>, <span class="number">145</span>, <span class="number">42</span>, <span class="number">20</span>&#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (n != <span class="number">1</span> &amp;&amp; !cycleMembers.Contains(n)) &#123;</span><br><span class="line">            n = getNext(n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ•°å­¦Golang</summary><figure class="highlight golang"><figcaption><span>[solution3-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isHappy</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    cycle := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">bool</span>&#123;<span class="number">4</span>: <span class="literal">true</span>, <span class="number">6</span>: <span class="literal">true</span>, <span class="number">37</span>: <span class="literal">true</span>, <span class="number">58</span>: <span class="literal">true</span>, <span class="number">89</span>: <span class="literal">true</span>, <span class="number">145</span>: <span class="literal">true</span>, <span class="number">42</span>: <span class="literal">true</span>, <span class="number">20</span>: <span class="literal">true</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> n != <span class="number">1</span> &amp;&amp; !cycle[n] &#123;</span><br><span class="line">        n = step(n)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n == <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">step</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    sum := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n &gt; <span class="number">0</span> &#123;</span><br><span class="line">        sum += (n%<span class="number">10</span>) * (n%<span class="number">10</span>)</span><br><span class="line">        n = n/<span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(logn)  ã€‚å’Œä¸Šé¢ä¸€æ ·ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œæˆ‘ä»¬æ²¡æœ‰ä¿ç•™æˆ‘ä»¬æ‰€é‡åˆ°çš„æ•°å­—çš„å†å²è®°å½•ã€‚ç¡¬ç¼–ç å“ˆå¸Œé›†çš„å¤§å°æ˜¯å›ºå®šçš„ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•° n æ˜¯ä¸æ˜¯å¿«ä¹æ•°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´10æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B410%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>326. 3çš„å¹‚</title>
    <link href="http://yoursite.com/2020/09/30/326.%203%E7%9A%84%E5%B9%82/"/>
    <id>http://yoursite.com/2020/09/30/326. 3çš„å¹‚/</id>
    <published>2020-09-30T06:30:12.000Z</published>
    <updated>2020-10-03T16:14:24.038Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæ•´æ•°ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­å®ƒæ˜¯å¦æ˜¯3çš„å¹‚æ¬¡æ–¹ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: 27è¾“å‡º: true</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: 0è¾“å‡º: false</code></pre><p>ç¤ºä¾‹ 3:</p><pre><code>è¾“å…¥: 9è¾“å‡º: true</code></pre><p>ç¤ºä¾‹ 4:</p><pre><code>è¾“å…¥: 45è¾“å‡º: false</code></pre><p>è¿›é˜¶ï¼š</p><pre><code>ä½ èƒ½ä¸ä½¿ç”¨å¾ªç¯æˆ–è€…é€’å½’æ¥å®Œæˆæœ¬é¢˜å—ï¼Ÿ</code></pre><h1 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h1><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨åŠ é€Ÿç®€å•è®¡ç®—çš„æ–¹æ³•ï¼Œä»¥åŠä¸ºä»€ä¹ˆåœ¨å®è·µä¸­æœ‰ç”¨ã€‚ </p><h2 id="æ–¹æ³•ä¸€ï¼šå¾ªç¯è¿­ä»£"><a href="#æ–¹æ³•ä¸€ï¼šå¾ªç¯è¿­ä»£" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå¾ªç¯è¿­ä»£"></a>æ–¹æ³•ä¸€ï¼šå¾ªç¯è¿­ä»£</h2><p>æ‰¾å‡ºæ•°å­— <code>n</code> æ˜¯å¦æ˜¯æ•°å­— <code>b</code> çš„å¹‚çš„ä¸€ä¸ªç®€å•æ–¹æ³•æ˜¯ï¼Œ<code>n%3</code>  åªè¦ä½™æ•°ä¸º 0ï¼Œå°±ä¸€ç›´å°† <code>n</code> é™¤ä»¥ <code>b</code>ã€‚</p><pre><code>n=b^x * n=b*b*...*b</code></pre><p>å› æ­¤ï¼Œåº”è¯¥å¯ä»¥å°† <code>n</code> é™¤ä»¥ <code>b</code>  x æ¬¡ï¼Œæ¯æ¬¡éƒ½æœ‰ 0 çš„ä½™æ•°ï¼Œæœ€ç»ˆç»“æœæ˜¯ 1ã€‚ </p><details>    <summary>å¾ªç¯è¿­ä»£</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPowerOfThree</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (n % <span class="number">3</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            n /= <span class="number">3</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> n == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>æ³¨æ„æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè­¦å«æ¥æ£€æŸ¥é‚£ä¸ª <code>nï¼=0</code>ï¼Œå¦åˆ™ while å¾ªç¯å°†æ°¸è¿œä¸ä¼šç»“æŸã€‚å¯¹äºè´Ÿæ•°ï¼Œè¯¥ç®—æ³•æ²¡æœ‰æ„ä¹‰ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿå°†åŒ…æ‹¬è¯¥ä¿æŠ¤ã€‚ </p><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(log_b(n)) ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯O(logn) ã€‚é™¤æ•°æ˜¯ç”¨å¯¹æ•°è¡¨ç¤ºçš„ã€‚ </li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œæ²¡æœ‰ä½¿ç”¨é¢å¤–çš„ç©ºé—´ã€‚</li></ul><h2 id="æ–¹æ³•äºŒï¼šåŸºå‡†è½¬æ¢"><a href="#æ–¹æ³•äºŒï¼šåŸºå‡†è½¬æ¢" class="headerlink" title="æ–¹æ³•äºŒï¼šåŸºå‡†è½¬æ¢"></a>æ–¹æ³•äºŒï¼šåŸºå‡†è½¬æ¢</h2><p>åœ¨åŸºæ•° 10 ä¸­ï¼Œ10 çš„æ‰€æœ‰å¹‚éƒ½ä»æ•°å­— 1 å¼€å§‹ï¼Œç„¶ååªè·Ÿ 0ï¼ˆä¾‹å¦‚10ã€100ã€1000ï¼‰ã€‚å…¶ä»–åŸºåœ°åŠå…¶å„è‡ªçš„æƒåŠ›ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä¾‹å¦‚ï¼Œåœ¨åŸºæ•° 2 ä¸­ï¼Œ<em>10 _2<em>ã€</em>100 _2</em> å’Œ <em>1000 _2</em> åˆ†åˆ«è¡¨ç¤ºä¸º  <em>2_{10}</em>, <em>4_{10}</em> å’Œ <em>8_{10}</em>ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬æŠŠæˆ‘ä»¬çš„æ•°è½¬æ¢æˆåŸº3ï¼Œå¹¶ä¸”è¡¨ç¤ºå½¢å¼æ˜¯ 100â€¦0ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯3çš„å¹‚ã€‚</p><p><strong>è¯æ˜ ï¼š</strong><br>ç»™å®šä»¥ 3 ä¸ºåº•çš„æ•°å­—è¡¨ç¤ºä¸ºæ•°ç»„ <code>s</code>ï¼Œç¬¬ 0 ä½å¼€å§‹ä¸ºæœ‰æ•ˆæ•°ã€‚<br>å› æ­¤ï¼Œåªæœ‰ä¸€ä¸ªæ•°å­— 1ï¼Œå…¶ä½™çš„éƒ½æ˜¯ 0ï¼Œè¿™æ„å‘³ç€è¿™ä¸ªæ•°å­—æ˜¯ 3 çš„å¹‚ã€‚ </p><p><strong>å®ç°ï¼š</strong></p><ul><li>æˆ‘ä»¬æ‰€è¦åšçš„å°±æ˜¯å°†æ•°å­—è½¬æ¢ä¸ºä»¥3ä¸ºåº•çš„åŸºæ•° ï¼Œå¹¶æ£€æŸ¥å®ƒæ˜¯å¦ä¸ºå‰å¯¼1ï¼Œåè·Ÿæ‰€æœ‰ 0ã€‚ </li><li>ä¸¤ä¸ªå†…ç½®çš„Javaå‡½æ•°å°†å¸®åŠ©æˆ‘ä»¬å‰è¿›ã€‚ </li></ul><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String baseChange = Integer.toString(number, base);</span><br></pre></td></tr></table></figure><ul><li>ä¸Šé¢çš„ä»£ç å°† <code>number</code> è½¬æ¢ä»¥ <code>base</code> ä¸ºåº•çš„åŸºæ•°ï¼Œå¹¶ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›ç»“æœã€‚ä¾‹å¦‚ï¼Œ<code>integer.toStringï¼ˆ5ï¼Œ2ï¼‰=â€œ101â€</code> å’Œ <code>integer.toStringï¼ˆ5ï¼Œ3ï¼‰=â€œ12â€</code>ã€‚ </li></ul><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">boolean</span> matches = myString.matches(<span class="string">"123"</span>);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç æ£€æŸ¥å­—ç¬¦ä¸²ä¸­æ˜¯å¦å­˜åœ¨ç‰¹å®šçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå­—ç¬¦ä¸² <code>mystring</code> ä¸­å­˜åœ¨å­å­—ç¬¦ä¸² â€œ123â€ï¼Œä¸Šé¢çš„å†…å®¹å°†è¿”å› trueã€‚ </p><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">boolean</span> powerOfThree = baseChange.matches(<span class="string">"^10**"</span>)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°†ä½¿ç”¨ä¸Šé¢çš„æ­£åˆ™è¡¨è¾¾å¼æ¥æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥1 <code>^1</code> å¼€å¤´ï¼Œåè·Ÿ 0 æˆ– å¤šä¸ª 0 <code>0*</code> å¹¶ä¸”ä¸åŒ…å«ä»»ä½•å…¶ä»–å€¼ <code>*</code>ã€‚</p><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPowerOfThree</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.toString(n, <span class="number">3</span>).matches(<span class="string">"^10**"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(log_3n)</em>ã€‚<ul><li>å‡è®¾ï¼š<ul><li><code>Integer.toString()</code> - åŸºè½¬æ¢é€šå¸¸æ˜¯ä½œä¸ºä¸€ä¸ªé‡å¤çš„é™¤æ³•æ¥å®ç°çš„ã€‚å¤æ‚æ€§åº”è¯¥ç±»ä¼¼äºæˆ‘ä»¬çš„æ–¹æ³• 1:<em>Oï¼ˆ\ log_3nï¼‰</em>çš„å¤æ‚æ€§ã€‚</li><li><code>String.matches()</code> - æ–¹æ³•è¿­ä»£æ•´ä¸ªå­—ç¬¦ä¸²ã€‚<code>n</code> ä»¥ 3 ä¸ºåŸºæ•°è¡¨ç¤ºçš„ä½æ•°æ˜¯<em>Oï¼ˆ\log_3nï¼‰</em>ã€‚ </li></ul></li></ul></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(\log_3n)</em>ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªé™„åŠ å˜é‡ã€‚<ul><li>ä»¥ 3 ä¸ºåŸºæ•°è¡¨ç¤ºæ•°å­—çš„å­—ç¬¦ä¸²ï¼ˆå¤§å°ä¸º <em>\log_3n</em>ï¼‰</li><li>æ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ï¼ˆå¸¸é‡å¤§å°ï¼‰ </li></ul></li></ul><h2 id="æ–¹æ³•ä¸‰ï¼šè¿ç®—æ³•"><a href="#æ–¹æ³•ä¸‰ï¼šè¿ç®—æ³•" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šè¿ç®—æ³•"></a>æ–¹æ³•ä¸‰ï¼šè¿ç®—æ³•</h2><p>æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„æ•°å­¦å…¬å¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">n = 3^i </span><br><span class="line"></span><br><span class="line">\ i = \ log_3(n) </span><br><span class="line"></span><br><span class="line">\ i = \frac&#123;\ log_b(n)&#125;&#123;\ log_b(3)&#125;</span><br></pre></td></tr></table></figure><p>è‹¥ <code>n</code> æ˜¯ 3 çš„å¹‚åˆ™ <code>i</code> æ˜¯æ•´æ•°ã€‚åœ¨ Java ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å–å°æ•°éƒ¨åˆ†ï¼ˆåˆ©ç”¨ <code>% 1</code>ï¼‰æ¥æ£€æŸ¥æ•°å­—æ˜¯å¦æ˜¯æ•´æ•°ï¼Œå¹¶æ£€æŸ¥å®ƒæ˜¯å¦æ˜¯ 0ã€‚ </p><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPowerOfThree</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (Math.log10(n) / Math.log10(<span class="number">3</span>)) % <span class="number">1</span> == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¸¸è§çš„é™·é˜± :</strong><br>è¿™ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºæˆ‘ä»¬å¼€å§‹ä½¿ç”¨ <code>double</code> sï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ä¼šé‡åˆ°ç²¾åº¦é”™è¯¯ã€‚è¯´æ˜åœ¨æ¯”è¾ƒåŒç²¾åº¦æ•°æ—¶ä¸åº”ä½¿ç”¨ <code>==</code>ã€‚è¿™æ˜¯å› ä¸º <code>Math.log10(n)/Math.log10(3)</code> çš„ç»“æœå¯èƒ½æ˜¯ <code>5.0000001</code> æˆ– <code>4.9999999</code>ã€‚ä½¿ç”¨ <code>Math.log()</code> å‡½æ•°è€Œä¸æ˜¯<code>Math.log10()</code> å¯ä»¥è§‚å¯Ÿåˆ°è¿™ç§æ•ˆæœã€‚ </p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å°†ç»“æœä¸ <code>epsilon</code> è¿›è¡Œæ¯”è¾ƒã€‚</p><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> (Math.log(n) / Math.log(<span class="number">3</span>) + epsilon) % <span class="number">1</span> &lt;= <span class="number">2</span> * epsilon;</span><br></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š*Unknown$ã€‚è¿™é‡Œä¸»è¦æ¶ˆè€—æ—¶é—´çš„è¿ç®—æ˜¯ <code>Math.log</code>ï¼Œå®ƒé™åˆ¶äº†æˆ‘ä»¬ç®—æ³•çš„æ—¶é—´å¤æ‚æ€§ã€‚å®ç°ä¾èµ–äºæˆ‘ä»¬ä½¿ç”¨çš„è¯­è¨€å’Œç¼–è¯‘å™¨ ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š <em>O(1)</em>ï¼Œæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨ä»»ä½•é¢å¤–çš„å†…å­˜ã€‚<code>epsilon</code> å˜é‡å¯ä»¥æ˜¯å†…è”çš„ã€‚ </li></ul><h2 id="æ–¹æ³•å››ï¼šæ•´æ•°é™åˆ¶"><a href="#æ–¹æ³•å››ï¼šæ•´æ•°é™åˆ¶" class="headerlink" title="æ–¹æ³•å››ï¼šæ•´æ•°é™åˆ¶"></a>æ–¹æ³•å››ï¼šæ•´æ•°é™åˆ¶</h2><p>ä¸€ä¸ªé‡è¦çš„ä¿¡æ¯å¯ä»¥ä»å‡½æ•°åä¸­æ¨å¯¼å‡ºæ¥ã€‚</p><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPowerOfThree</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹å‡º <code>n</code> çš„ç±»å‹æ˜¯  <code>int</code>ã€‚åœ¨ Java ä¸­è¯´æ˜äº†è¯¥å˜é‡æ˜¯å››ä¸ªå­—èŠ‚ï¼Œä»–çš„æœ€å¤§å€¼ä¸º <strong>2147483647</strong>ã€‚æœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥è®¡ç®—å‡ºè¯¥æœ€å¤§å€¼ã€‚</p><ol><li><a href="http://stackoverflow.com/questions/15004944/max-value-of-integer" target="_blank" rel="noopener">Google</a></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">3. MaxInt = 2^32/2 - 1 ,å› ä¸ºæˆ‘ä»¬ä½¿ç”¨ 32 ä½æ¥è¡¨ç¤ºæ•°å­—ï¼Œæ‰€ä»¥èŒƒå›´çš„ä¸€åŠç”¨äºè´Ÿæ•°ï¼Œ0 æ˜¯æ­£æ•°çš„ä¸€éƒ¨åˆ†ã€‚</span><br><span class="line"></span><br><span class="line">çŸ¥é“äº† `n` çš„é™åˆ¶ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥æ¨æ–­å‡º `n` çš„æœ€å¤§å€¼ï¼Œä¹Ÿå°±æ˜¯ 3 çš„å¹‚ï¼Œæ˜¯ **1162261467**ã€‚æˆ‘ä»¬è®¡ç®—å¦‚ä¸‹ï¼š </span><br><span class="line"></span><br><span class="line">```math</span><br><span class="line">3^&#123;\lfloor&#123;&#125;\log_3&#123;MaxInt&#125;\rfloor&#123;&#125;&#125; = 3^&#123;\lfloor&#123;&#125;19.56\rfloor&#123;&#125;&#125; = 3^&#123;19&#125; = 1162261467</span><br></pre></td></tr></table></figure></li></ol><p>å› æ­¤ï¼Œæˆ‘ä»¬åº”è¯¥è¿”å› <code>true</code> çš„ <code>n</code> çš„å¯èƒ½å€¼æ˜¯ <em>3^0<em>ï¼Œ</em>3^1<em>â€¦</em>3 ^ {19}*ã€‚å› ä¸º 3 æ˜¯è´¨æ•°ï¼Œæ‰€ä»¥ *3^{19}</em> çš„é™¤æ•°åªæœ‰ <em>3^0<em>ï¼Œ</em>3^1<em>â€¦</em>3 ^{19}*ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦å°† *3^{19}</em> é™¤ä»¥ <code>n</code>ã€‚è‹¥ä½™æ•°ä¸º <strong>0</strong> æ„å‘³ç€ <code>n</code> æ˜¯ *3^{19}$ çš„é™¤æ•°ï¼Œå› æ­¤æ˜¯ 3 çš„å¹‚ã€‚ </p><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPowerOfThree</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n &gt; <span class="number">0</span> &amp;&amp; <span class="number">1162261467</span> % n == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚æˆ‘ä»¬åªåšäº†ä¸€æ¬¡æ“ä½œã€‚ </li><li>ç©ºé—´å¤æ‚åº¦ï¼š <em>O(1)</em>ï¼Œæ²¡æœ‰ä½¿ç”¨é¢å¤–ç©ºé—´ã€‚</li></ul><h2 id="æ€§èƒ½æµ‹é‡-ï¼š"><a href="#æ€§èƒ½æµ‹é‡-ï¼š" class="headerlink" title="æ€§èƒ½æµ‹é‡ ï¼š"></a>æ€§èƒ½æµ‹é‡ ï¼š</h2><p>å‡½æ•°çš„å•æ¬¡è¿è¡Œä½¿å¾—éš¾ä»¥æµ‹é‡ä¸¤ç§è§£çš„å·®åˆ«ã€‚åœ¨ leetcode ä¸Šçš„ $Accepted* <em>Solutions</em>  <em>Runtime</em> <em>Distribution</em> é¡µé¢ä¸Šï¼Œæ‰€æœ‰è§£å†³æ–¹æ¡ˆéƒ½åœ¨ <code>15 ms</code> åˆ° <code>20 ms</code> ä¹‹é—´ã€‚ä¸ºäº†å®Œæ•´æ€§ï¼Œæˆ‘ä»¬æå‡ºäº†ä»¥ä¸‹åŸºå‡†ï¼Œä»¥äº†è§£è¿™ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆçš„åŒºåˆ«ã€‚ </p><p><strong>JavaåŸºå‡†ç  :</strong></p><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Solution sol = <span class="keyword">new</span> Solution();</span><br><span class="line">    <span class="keyword">int</span> iterations = <span class="number">1</span>; <span class="comment">// See table header for this value</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; iterations; i++) &#123;</span><br><span class="line">        sol.isPowerOfThree(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸‹è¡¨ä¸­ï¼Œä»¥ç§’ä¸ºå•ä½ã€‚<br>| Iterations |<em>10^6</em> |<em>10^7</em>|<em>10^8</em>|<em>10^9</em>|*Maxint$|<br>|â€“|â€“|â€“|â€“|â€“|â€“|<br>| Java Approach 1: (Naive) | 0.04 |0.07|0.30|2.47|5.26|<br>|Java Approach 2: (Strings) | 0.68 |4.02|38.90|409.16|893.89|<br>| Java Approach 3: (Logarithms) | 0.09 |0.50|4.59|45.53|97.50|<br>|Java Approach 4: (Fast) | 0.04 |0.06|0.08|0.41|0.78|</p><p>æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œå¯¹äºå°çš„ N å€¼ï¼Œå·®å¼‚å¹¶ä¸æ˜æ˜¾ï¼Œä½†æ˜¯éšç€æˆ‘ä»¬è¿›è¡Œæ›´å¤šçš„è¿­ä»£ï¼Œå¹¶ä¸”ä¼ é€’ç»™ <code>isPowerOfThree()</code> çš„ <code>n</code> çš„å€¼å¢é•¿ï¼Œæˆ‘ä»¬çœ‹åˆ°æ–¹æ³• 4 çš„æ€§èƒ½æ˜¾è‘—æé«˜ã€‚</p><h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º :"></a>ç»“è®º :</h2><p>åƒè¿™æ ·çš„ç®€å•ä¼˜åŒ–ä¼¼ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä½†å†å²ä¸Šï¼Œå½“è®¡ç®—èƒ½åŠ›æˆä¸ºä¸€ä¸ªé—®é¢˜æ—¶ï¼Œå®ƒå…è®¸æŸäº›è®¡ç®—æœºç¨‹åºï¼ˆå¦‚Quake 3ï¼‰æˆä¸ºå¯èƒ½ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæ•´æ•°ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­å®ƒæ˜¯å¦æ˜¯3çš„å¹‚æ¬¡æ–¹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>268. ç¼ºå¤±æ•°å­—</title>
    <link href="http://yoursite.com/2020/09/30/268.%20%E7%BC%BA%E5%A4%B1%E6%95%B0%E5%AD%97/"/>
    <id>http://yoursite.com/2020/09/30/268. ç¼ºå¤±æ•°å­—/</id>
    <published>2020-09-30T02:30:12.000Z</published>
    <updated>2020-09-30T03:16:46.091Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªåŒ…å« 0, 1, 2, â€¦, n ä¸­ n ä¸ªæ•°çš„åºåˆ—ï¼Œæ‰¾å‡º 0 .. n ä¸­æ²¡æœ‰å‡ºç°åœ¨åºåˆ—ä¸­çš„é‚£ä¸ªæ•°ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: [3,0,1]è¾“å‡º: 2</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: [9,6,4,2,3,5,7,0,1]è¾“å‡º: 8</code></pre><p>è¯´æ˜:</p><pre><code>ä½ çš„ç®—æ³•åº”å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ä½ èƒ½å¦ä»…ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´æ¥å®ç°?</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šæ’åº"><a href="#æ–¹æ³•ä¸€ï¼šæ’åº" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ’åº"></a>æ–¹æ³•ä¸€ï¼šæ’åº</h1><p><strong>åˆ†æ</strong></p><p>å¦‚æœæ•°ç»„æ˜¯æœ‰åºçš„ï¼Œé‚£ä¹ˆå°±å¾ˆå®¹æ˜“çŸ¥é“ç¼ºå¤±çš„æ•°å­—æ˜¯å“ªä¸ªäº†ã€‚</p><p><strong>ç®—æ³•</strong></p><p>é¦–å…ˆæˆ‘ä»¬å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œéšåæˆ‘ä»¬å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…åˆ¤æ–­ä¸¤ç§ç‰¹æ®Šæƒ…å†µï¼š0 æ²¡æœ‰å‡ºç°åœ¨æ•°ç»„çš„é¦–ä½ï¼Œä»¥åŠ <em>n</em> æ²¡æœ‰å‡ºç°åœ¨æ•°ç»„çš„æœ«ä½ã€‚å¦‚æœè¿™ä¸¤ç§ç‰¹æ®Šæƒ…å†µéƒ½ä¸æ»¡è¶³ï¼Œé‚£ä¹ˆç¼ºå¤±çš„æ•°å­—ä¸€å®šåœ¨ 0 å’Œ <em>n</em> ä¹‹é—´ï¼ˆä¸åŒ…æ‹¬ä¸¤è€…ï¼‰ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥åœ¨çº¿æ€§æ—¶é—´å†…æ‰«æè¿™ä¸ªæ•°ç»„ï¼Œå¦‚æœæŸä¸€ä¸ªæ•°æ¯”å®ƒå‰é¢çš„é‚£ä¸ªæ•°å¤§äº†è¶…è¿‡ 1ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ•°ä¹‹é—´çš„é‚£ä¸ªæ•°å³ä¸ºç¼ºå¤±çš„æ•°å­—ã€‚</p><details>    <summary>æ’åºJava</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">missingNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ¤æ–­ n æ˜¯å¦å‡ºç°åœ¨æœ«ä½</span></span><br><span class="line">        <span class="keyword">if</span> (nums[nums.length-<span class="number">1</span>] != nums.length) &#123;</span><br><span class="line">            <span class="keyword">return</span> nums.length;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­ 0 æ˜¯å¦å‡ºç°åœ¨é¦–ä½</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (nums[<span class="number">0</span>] != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ­¤æ—¶ç¼ºå¤±çš„æ•°å­—ä¸€å®šåœ¨ (0, n) ä¸­</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> expectedNum = nums[i-<span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] != expectedNum) &#123;</span><br><span class="line">                <span class="keyword">return</span> expectedNum;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æœªç¼ºå¤±ä»»ä½•æ•°å­—ï¼ˆä¿è¯å‡½æ•°æœ‰è¿”å›å€¼ï¼‰</span></span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ’åºPython</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">missingNumber</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        nums.sort()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Ensure that n is at the last index</span></span><br><span class="line">        <span class="keyword">if</span> nums[<span class="number">-1</span>] != len(nums):</span><br><span class="line">            <span class="keyword">return</span> len(nums)</span><br><span class="line">        <span class="comment"># Ensure that 0 is at the first index</span></span><br><span class="line">        <span class="keyword">elif</span> nums[<span class="number">0</span>] != <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># If we get here, then the missing number is on the range (0, n)</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(nums)):</span><br><span class="line">            expected_num = nums[i<span class="number">-1</span>] + <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> nums[i] != expected_num:</span><br><span class="line">                <span class="keyword">return</span> expected_num</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ã€‚ç”±äºæ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸º O(nlogn) ï¼Œæ‰«ææ•°ç»„çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ï¼Œå› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em> æˆ– <em>O(n)*ã€‚ç©ºé—´å¤æ‚åº¦å–å†³äºä½¿ç”¨çš„æ’åºç®—æ³•ï¼Œæ ¹æ®æ’åºç®—æ³•æ˜¯å¦è¿›è¡ŒåŸåœ°æ’åºï¼ˆå³ä¸ä½¿ç”¨é¢å¤–çš„æ•°ç»„è¿›è¡Œä¸´æ—¶å­˜å‚¨ï¼‰ï¼Œç©ºé—´å¤æ‚åº¦ä¸º *O(1)</em> æˆ– <em>O(n)</em>ã€‚</li></ul><h1 id="æ–¹æ³•äºŒï¼šå“ˆå¸Œè¡¨"><a href="#æ–¹æ³•äºŒï¼šå“ˆå¸Œè¡¨" class="headerlink" title="æ–¹æ³•äºŒï¼šå“ˆå¸Œè¡¨"></a>æ–¹æ³•äºŒï¼šå“ˆå¸Œè¡¨</h1><p><strong>åˆ†æ</strong></p><p>æˆ‘ä»¬å¯ä»¥ç›´æ¥æŸ¥è¯¢æ¯ä¸ªæ•°æ˜¯å¦åœ¨æ•°ç»„ä¸­å‡ºç°è¿‡æ¥æ‰¾å‡ºç¼ºå¤±çš„æ•°å­—ã€‚å¦‚æœä½¿ç”¨å“ˆå¸Œè¡¨ï¼Œé‚£ä¹ˆæ¯ä¸€æ¬¡æŸ¥è¯¢æ“ä½œéƒ½æ˜¯å¸¸æ•°æ—¶é—´çš„ã€‚</p><p><strong>ç®—æ³•</strong></p><p>æˆ‘ä»¬å°†æ•°ç»„ä¸­çš„æ‰€æœ‰æ•°æ’å…¥åˆ°ä¸€ä¸ªé›†åˆä¸­ï¼Œè¿™æ ·æ¯æ¬¡æŸ¥è¯¢æ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ <em>O(1)</em> çš„ã€‚</p><details>    <summary>å“ˆå¸Œè¡¨Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">missingNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        Set&lt;Integer&gt; numSet = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) numSet.add(num);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> expectedNumCount = nums.length + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> number = <span class="number">0</span>; number &lt; expectedNumCount; number++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!numSet.contains(number)) &#123;</span><br><span class="line">                <span class="keyword">return</span> number;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å“ˆå¸Œè¡¨Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">missingNumber</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        num_set = set(nums)</span><br><span class="line">        n = len(nums) + <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> number <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">if</span> number <span class="keyword">not</span> <span class="keyword">in</span> num_set:</span><br><span class="line">                <span class="keyword">return</span> number</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)<em>ã€‚é›†åˆçš„æ’å…¥æ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ *O(1)</em>ï¼Œä¸€å…±æ’å…¥äº† *n</em> ä¸ªæ•°ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)<em>ã€‚é›†åˆçš„æŸ¥è¯¢æ“ä½œçš„æ—¶é—´å¤æ‚åº¦åŒæ ·æ˜¯ *O(1)</em>ï¼Œæœ€å¤šæŸ¥è¯¢ *n+1</em> æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚å› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)*ã€‚é›†åˆä¸­ä¼šå­˜å‚¨ *n</em> ä¸ªæ•°ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li></ul><h1 id="æ–¹æ³•ä¸‰ï¼šä½è¿ç®—"><a href="#æ–¹æ³•ä¸‰ï¼šä½è¿ç®—" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šä½è¿ç®—"></a>æ–¹æ³•ä¸‰ï¼šä½è¿ç®—</h1><p><strong>åˆ†æ</strong></p><p>ç”±äºå¼‚æˆ–è¿ç®—ï¼ˆXORï¼‰æ»¡è¶³ç»“åˆå¾‹ï¼Œå¹¶ä¸”å¯¹ä¸€ä¸ªæ•°è¿›è¡Œä¸¤æ¬¡å®Œå…¨ç›¸åŒçš„å¼‚æˆ–è¿ç®—ä¼šå¾—åˆ°åŸæ¥çš„æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡å¼‚æˆ–è¿ç®—æ‰¾åˆ°ç¼ºå¤±çš„æ•°å­—ã€‚</p><p><strong>ç®—æ³•</strong></p><p>æˆ‘ä»¬çŸ¥é“æ•°ç»„ä¸­æœ‰ <em>n</em> ä¸ªæ•°ï¼Œå¹¶ä¸”ç¼ºå¤±çš„æ•°åœ¨ <em>[0..n]</em> ä¸­ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å…ˆå¾—åˆ° <em>[0..n]</em> çš„å¼‚æˆ–å€¼ï¼Œå†å°†ç»“æœå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ•°è¿›è¡Œä¸€æ¬¡å¼‚æˆ–è¿ç®—ã€‚æœªç¼ºå¤±çš„æ•°åœ¨ <em>[0..n]</em> å’Œæ•°ç»„ä¸­å„å‡ºç°ä¸€æ¬¡ï¼Œå› æ­¤å¼‚æˆ–åå¾—åˆ° 0ã€‚è€Œç¼ºå¤±çš„æ•°å­—åªåœ¨ <em>[0..n]</em> ä¸­å‡ºç°äº†ä¸€æ¬¡ï¼Œåœ¨æ•°ç»„ä¸­æ²¡æœ‰å‡ºç°ï¼Œå› æ­¤æœ€ç»ˆçš„å¼‚æˆ–ç»“æœå³ä¸ºè¿™ä¸ªç¼ºå¤±çš„æ•°å­—ã€‚</p><p>åœ¨ç¼–å†™ä»£ç æ—¶ï¼Œç”±äº <em>[0..n]</em> æ°å¥½æ˜¯è¿™ä¸ªæ•°ç»„çš„ä¸‹æ ‡åŠ ä¸Š <em>n</em>ï¼Œå› æ­¤å¯ä»¥ç”¨ä¸€æ¬¡å¾ªç¯å®Œæˆæ‰€æœ‰çš„å¼‚æˆ–è¿ç®—ï¼Œä¾‹å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><table><thead><tr><th>ä¸‹æ ‡</th><th>0</th><th>1</th><th>2</th><th>3</th></tr></thead><tbody><tr><td>æ•°å­—</td><td>0</td><td>1</td><td>3</td><td>4</td></tr></tbody></table><p>å¯ä»¥å°†ç»“æœçš„åˆå§‹å€¼è®¾ä¸º <em>n</em>ï¼Œå†å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ•°ä»¥åŠå®ƒçš„ä¸‹æ ‡è¿›è¡Œä¸€ä¸ªå¼‚æˆ–è¿ç®—ï¼Œ<br>å°±å¾—åˆ°äº†ç¼ºå¤±çš„æ•°å­—ä¸º 2ã€‚</p><details>    <summary>ä½è¿ç®—Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">missingNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> missing = nums.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            missing ^= i ^ nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> missing;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ä½è¿ç®—Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">missingNumber</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        missing = len(nums)</span><br><span class="line">        <span class="keyword">for</span> i, num <span class="keyword">in</span> enumerate(nums):</span><br><span class="line">            missing ^= i ^ num</span><br><span class="line">        <span class="keyword">return</span> missing</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ã€‚è¿™é‡Œå‡è®¾å¼‚æˆ–è¿ç®—çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¸¸æ•°çš„ï¼Œæ€»å…±ä¼šè¿›è¡Œ *O(n)</em> æ¬¡å¼‚æˆ–è¿ç®—ï¼Œå› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)*ã€‚ç®—æ³•ä¸­åªç”¨åˆ°äº† *O(1)</em> çš„é¢å¤–ç©ºé—´ï¼Œç”¨æ¥å­˜å‚¨ç­”æ¡ˆã€‚</li></ul><h1 id="æ–¹æ³•å››ï¼šæ•°å­¦"><a href="#æ–¹æ³•å››ï¼šæ•°å­¦" class="headerlink" title="æ–¹æ³•å››ï¼šæ•°å­¦"></a>æ–¹æ³•å››ï¼šæ•°å­¦</h1><p><strong>åˆ†æ</strong></p><p>æˆ‘ä»¬å¯ä»¥ç”¨ <a href="https://baike.baidu.com/item/%E9%AB%98%E6%96%AF%E6%B1%82%E5%92%8C" target="_blank" rel="noopener">é«˜æ–¯æ±‚å’Œå…¬å¼</a> æ±‚å‡º <em>[0..n]</em> çš„å’Œï¼Œå‡å»æ•°ç»„ä¸­æ‰€æœ‰æ•°çš„å’Œï¼Œå°±å¾—åˆ°äº†ç¼ºå¤±çš„æ•°å­—ã€‚</p><p><strong>ç®—æ³•</strong></p><p>æˆ‘ä»¬åœ¨çº¿æ€§æ—¶é—´å†…å¯ä»¥æ±‚å‡ºæ•°ç»„ä¸­æ‰€æœ‰æ•°çš„å’Œï¼Œå¹¶åœ¨å¸¸æ•°æ—¶é—´å†…æ±‚å‡ºå‰ <em>n+1</em> ä¸ªè‡ªç„¶æ•°ï¼ˆåŒ…æ‹¬ 0ï¼‰çš„å’Œï¼Œå°†åè€…å‡å»å‰è€…ï¼Œå°±å¾—åˆ°äº†ç¼ºå¤±çš„æ•°å­—ã€‚</p><details>    <summary>æ•°å­¦Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">missingNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> expectedSum = nums.length*(nums.length + <span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> actualSum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) actualSum += num;</span><br><span class="line">        <span class="keyword">return</span> expectedSum - actualSum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ•°å­¦Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">missingNumber</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        expected_sum = len(nums)*(len(nums)+<span class="number">1</span>)//<span class="number">2</span></span><br><span class="line">        actual_sum = sum(nums)</span><br><span class="line">        <span class="keyword">return</span> expected_sum - actual_sum</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ã€‚æ±‚å‡ºæ•°ç»„ä¸­æ‰€æœ‰æ•°çš„å’Œçš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ï¼Œé«˜æ–¯æ±‚å’Œå…¬å¼çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(1)</em>ï¼Œå› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)*ã€‚ç®—æ³•ä¸­åªç”¨åˆ°äº† *O(1)</em> çš„é¢å¤–ç©ºé—´ï¼Œç”¨æ¥å­˜å‚¨ç­”æ¡ˆã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªåŒ…å« 0, 1, 2, â€¦, n ä¸­ n ä¸ªæ•°çš„åºåˆ—ï¼Œæ‰¾å‡º 0 .. n ä¸­æ²¡æœ‰å‡ºç°åœ¨åºåˆ—ä¸­çš„é‚£ä¸ªæ•°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>204. è®¡æ•°è´¨æ•°</title>
    <link href="http://yoursite.com/2020/09/29/204.%20%E8%AE%A1%E6%95%B0%E8%B4%A8%E6%95%B0/"/>
    <id>http://yoursite.com/2020/09/29/204. è®¡æ•°è´¨æ•°/</id>
    <published>2020-09-29T08:30:12.000Z</published>
    <updated>2020-09-30T02:45:06.077Z</updated>
    
    <content type="html"><![CDATA[<p>ç»Ÿè®¡æ‰€æœ‰å°äºéè´Ÿæ•´æ•° n çš„è´¨æ•°çš„æ•°é‡ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šn = 10è¾“å‡ºï¼š4è§£é‡Šï¼šå°äº 10 çš„è´¨æ•°ä¸€å…±æœ‰ 4 ä¸ª, å®ƒä»¬æ˜¯ 2, 3, 5, 7 ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šn = 0è¾“å‡ºï¼š0</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šn = 1è¾“å‡ºï¼š0</code></pre><p>æç¤ºï¼š</p><pre><code>0 &lt;= n &lt;= 5 * 106</code></pre><h1 id="æ€»æ‹¬ï¼š"><a href="#æ€»æ‹¬ï¼š" class="headerlink" title="æ€»æ‹¬ï¼š"></a>æ€»æ‹¬ï¼š</h1><p>æ­¤ç¯‡é¢˜è§£å°†å…±è®²è¿°æš´åŠ›ç®—æ³•ã€ä¼˜åŒ–æš´åŠ›ç®—æ³•ã€å„æ‹‰å¤šå¡ï¼ˆè¯è¯´è¿™ä½è€å“¥ç¬¬ä¸€ä¸ªé‡äº†åœ°çƒå‘¨é•¿ï¼‰æ‰€åˆ›é€ çš„å„æ‹‰å¤šå¡ç­›æ³•ã€åŠè¿ç”¨å„æ‹‰å¤šå¡ç­›æ³•æ—¶äºå†…å­˜ä¸Šçš„ä¼˜åŒ–æ–¹æ³•ã€‚åœ¨è§£é‡Šæ€è·¯æ—¶ï¼Œå°†å°½é‡ä¸€æ­¥æ­¥åœ°è¿›è¡Œè¯¦ç»†è§£è¯»ã€‚</p><p>å¸Œæœ›å¯¹å¤§å®¶èƒ½æœ‰æ‰€å¸®åŠ©ï¼</p><hr><h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ:"></a>è§£å†³æ–¹æ¡ˆ:</h1><h2 id="æš´åŠ›æ³•ï¼ˆè®¡ç®—è¶…æ—¶ï¼‰ï¼š"><a href="#æš´åŠ›æ³•ï¼ˆè®¡ç®—è¶…æ—¶ï¼‰ï¼š" class="headerlink" title="æš´åŠ›æ³•ï¼ˆè®¡ç®—è¶…æ—¶ï¼‰ï¼š"></a><strong>æš´åŠ›æ³•ï¼ˆè®¡ç®—è¶…æ—¶ï¼‰ï¼š</strong></h2><p>éªŒè¯ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºè´¨æ•°ï¼ˆç´ æ•°ï¼‰æœ‰å¾ˆå¤šæ–¹æ³•ã€‚ä½†æœ€å®¹æ˜“æƒ³åˆ°çš„è«éç”¨æš´åŠ›è®¡ç®—çš„æ–¹å¼ä¸€æ­¥æ­¥ç¢¾å‹è¿‡å»çš„æ–¹æ³•ã€‚è™½ç„¶è¿™ç§æ–¹æ³•ä¸æ˜¯æœ€ä¼˜çš„ï¼Œä½†æ˜¯å…¶å¯¹äºæˆ‘ä»¬äº†è§£ç´ æ•°ä»æ˜¯æœ‰æ‰€å¸®åŠ©çš„ã€‚</p><p>æ€è·¯ï¼šéªŒè¯æŸä¸ªæ•°æ˜¯å¦ä¸ºè´¨æ•°æ—¶ï¼Œå°†å…¶å¯¹æ¯ä¸€ä¸ªæ¯”å…¶å°çš„æ•°è¿›è¡Œå–ä½™è¿ç®—ï¼Œå¹¶å¯¹å–ä½™ä¸ºé›¶çš„æƒ…å†µè¿›è¡Œè®¡æ•°ã€‚ç”±äºè´¨æ•°æ˜¯æŒ‡åœ¨å¤§äº 1 çš„è‡ªç„¶æ•°ä¸­ï¼Œé™¤äº† 1 å’Œå®ƒæœ¬èº«ä»¥å¤–ä¸å†æœ‰å…¶ä»–å› æ•°çš„è‡ªç„¶æ•°ã€‚æ‰€ä»¥ï¼Œå½“è®¡æ•°ç»“æœä¸º 1 æ—¶ï¼Œè¯¥æ•°ä¸ºè´¨æ•°ã€‚</p><p>åœ¨å®é™…æ“ä½œä¸­ï¼Œç”±äº 1 å’Œä»»æ„ä¸€ä¸ªæ•°å¿…ç„¶å–ä½™ä¸ºé›¶ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æ’é™¤ã€‚å¹¶å½“æ²¡æœ‰å–ä½™ä¸ºé›¶çš„æƒ…å†µæ—¶ï¼Œå…¶æ‰ä¸ºè´¨æ•°ã€‚</p><p>å¾—ä»£ç å¦‚ä¸‹ï¼š</p><details>    <summary>æš´åŠ›æ³•Csharp</summary><figure class="highlight csharp"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">CountPrimes</span>(<span class="params"><span class="keyword">int</span> n</span>) </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">bool</span> sign = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">2</span>; j &lt; i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % j == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                sign = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (sign)</span><br><span class="line">            count++; ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æš´åŠ›æ³•C++</summary><figure class="highlight c++"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">countPrimes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="keyword">bool</span> sign = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">2</span>; j &lt; i; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (i % j == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                sign = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (sign)</span><br><span class="line">            count++; ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="ä¼˜åŒ–æš´åŠ›ç®—æ³•ï¼š"><a href="#ä¼˜åŒ–æš´åŠ›ç®—æ³•ï¼š" class="headerlink" title="ä¼˜åŒ–æš´åŠ›ç®—æ³•ï¼š"></a><strong>ä¼˜åŒ–æš´åŠ›ç®—æ³•ï¼š</strong></h2><p>ç»†ç©¶æš´åŠ›è®¡ç®—çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå‡å¦‚ä¸€ä¸ªæ•°ä¸º 9 ï¼Œé‚£ä¹ˆå…¶äºŒåˆ†ä¹‹ä¸€ï¼ˆ4.5ï¼‰åçš„æ•°éƒ½å¯ä»¥ä¸ç”¨è¿›è¡Œè®¡ç®—ï¼Œå› ä¸ºè‚¯å®šæ˜¯æœ‰ä½™çš„ ã€‚äº‹å®ä¸Šæƒ…å†µä¼šæ¯”è¿™æ›´å¥½ä¸€äº›ï¼šå¯¹æ­£æ•´æ•° n ï¼Œå¦‚æœç”¨ 2 åˆ° âˆšn ä¹‹é—´(åŒ…å«è¾¹ç•Œ)çš„æ‰€æœ‰æ•´æ•°å»é™¤ï¼Œå‡æ— æ³•æ•´é™¤ï¼Œåˆ™ n ä¸ºè´¨æ•°ã€‚</p><p>å¹¶ä¸”ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œä¸€åˆ‡é 2 å¶æ•°ä¸€å®šä¸å¯èƒ½ä¸ºè´¨æ•°ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤å¤„è¿›è¡Œå¦ä¸€æ­¥çš„ä¼˜åŒ–ã€‚</p><p>æœ‰ä¸ªè¿™äº›ä»¤äººåº†å¹¸çš„å‘ç°ï¼Œæˆ‘ä»¬çš„ä»£ç ä¹Ÿå°†å¦‚è™æ·»ç¿¼ï¼š</p><details>    <summary>æš´åŠ›æ³•Csharp</summary><figure class="highlight csharp"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">CountPrimes</span>(<span class="params"><span class="keyword">int</span> n</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; <span class="number">3</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;;</span><br><span class="line">    <span class="comment">//ä»3å¼€å§‹éªŒç®—ï¼Œæ‰€ä»¥åˆå§‹å€¼ä¸º1ï¼ˆ2ä¸ºè´¨æ•°ï¼‰ã€‚</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">3</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å½“æŸä¸ªæ•°ä¸º 2 çš„ n æ¬¡æ–¹æ—¶ï¼ˆnä¸ºè‡ªç„¶æ•°ï¼‰ï¼Œå…¶ &amp; (n - 1) æ‰€å¾—å€¼å°†ç­‰ä»·äºå–ä½™è¿ç®—æ‰€å¾—å€¼</span></span><br><span class="line">        <span class="comment">//*å¦‚æœ x = 2^n ï¼Œåˆ™ x &amp; (n - 1) == x % n</span></span><br><span class="line">        <span class="comment">//if(i % 2 == 0)</span></span><br><span class="line">        <span class="keyword">if</span> ((i &amp; <span class="number">1</span>) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">continue</span>; ;</span><br><span class="line">        <span class="keyword">bool</span> sign = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">//ç”¨ j * j &lt;= i ä»£æ›¿ j &lt;= âˆši ä¼šæ›´å¥½ã€‚</span></span><br><span class="line">        <span class="comment">//å› ä¸ºæˆ‘ä»¬å·²ç»æ’é™¤äº†æ‰€æœ‰å¶æ•°ï¼Œæ‰€ä»¥æ¯æ¬¡å¾ªç¯åŠ äºŒå°†è§„é¿å¶æ•°ä¼šå‡å°‘å¾ªç¯æ¬¡æ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">3</span>; j * j &lt;=i; j+=<span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % j == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                sign = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (sign)</span><br><span class="line">            count++; ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æš´åŠ›æ³•C++</summary><figure class="highlight c++"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">countPrimes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; <span class="number">3</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;;</span><br><span class="line">    <span class="comment">//ä»3å¼€å§‹éªŒç®—ï¼Œæ‰€ä»¥åˆå§‹å€¼ä¸º1ï¼ˆ2ä¸ºè´¨æ•°ï¼‰ã€‚</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">3</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="comment">//å½“æŸä¸ªæ•°ä¸º 2 çš„ n æ¬¡æ–¹æ—¶ï¼ˆnä¸ºè‡ªç„¶æ•°ï¼‰ï¼Œå…¶ &amp; (n - 1) æ‰€å¾—å€¼å°†ç­‰ä»·äºå–ä½™è¿ç®—æ‰€å¾—å€¼</span></span><br><span class="line">        <span class="comment">//*å¦‚æœ x = 2^n ï¼Œåˆ™ x &amp; (n - 1) == x % n</span></span><br><span class="line">        <span class="comment">//if(i % 2 == 0)</span></span><br><span class="line">        <span class="keyword">if</span> ((i &amp; <span class="number">1</span>) == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">continue</span>; ;</span><br><span class="line">        <span class="keyword">bool</span> sign = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">//ç”¨ j * j &lt;= i ä»£æ›¿ j &lt;= âˆši ä¼šæ›´å¥½ã€‚</span></span><br><span class="line">        <span class="comment">//å› ä¸ºæˆ‘ä»¬å·²ç»æ’é™¤äº†æ‰€æœ‰å¶æ•°ï¼Œæ‰€ä»¥æ¯æ¬¡å¾ªç¯åŠ äºŒå°†è§„é¿å¶æ•°ä¼šå‡å°‘å¾ªç¯æ¬¡æ•°</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">3</span>; j * j &lt;=i; j+=<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (i % j == <span class="number">0</span>)&#123;</span><br><span class="line">                sign = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (sign)</span><br><span class="line">            count++; ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æš´åŠ›æ³•Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countPrimes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (odd(i)) &#123;</span><br><span class="line">                cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">odd</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i*i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (n % i == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>(æš´åŠ›æ³•ç³»åˆ—çš„ C# å’Œ C++ çš„ä»£ç å‡ ä¹ç›¸åŒã€‚)</p><p>ç»è¿‡å¯¹æš´åŠ›ç®—æ³•çš„æ­¤ç•ªä¼˜åŒ–ï¼Œæˆ‘ä»¬çš„ä»£ç åˆæ­¥è¾¾åˆ°äº†åº”ç”¨çš„æœ€ä½é—¨æ§›ï¼Œä½†æ˜¾ç„¶è¿˜æ˜¯ä¸å¤§ç†æƒ³ï¼Œå¥½ä¼¼æ€»æ„Ÿè§‰å­˜åœ¨ä¸å¿…è¦çš„æ“ä½œã€‚ä½†æˆ‘ä»¬ç»è¿‡ä»¥ä¸Šçš„ç ”ç©¶ï¼ˆå¯ä»¥æ—©ä¸€æ­¥æ’é™¤å¶æ•°ï¼‰ï¼Œå†ç»“åˆè´¨æ•°çš„æ€§è´¨ï¼Œå¯ä»¥æ¨æƒ³å‡ºï¼šå¦‚æœæˆ‘ä»¬åœ¨è¿›è¡Œé¡ºåºéå†æ—¶ï¼Œæ¯å–å¾—ä¸€ä¸ªæ•°ï¼ˆæ’é™¤0ã€1ï¼‰ï¼Œå¦‚æœå°†å®ƒæ‰€æœ‰çš„å€æ•°ï¼ˆæ’é™¤0ã€1ã€æœ¬èº«ï¼‰éƒ½æ¸…é™¤ï¼Œé‚£ä¹ˆï¼Œå‰©ä¸‹çš„æ•°æ˜¯ä¸æ˜¯å¿…ä¸ºç´ æ•°ï¼Ÿ</p><p>æ²¡é”™ï¼Œè¿™ä¸ªæœ‰è¶£ä¸”å®ç”¨çš„æ–¹æ³•ä¾¿æ˜¯è‘—åçš„<strong>å„æ‹‰å¤šå¡ç­›æ³•</strong>ï¼</p><h2 id="ä¸‰ã€å„æ‹‰å¤šå¡ç­›æ³•ï¼š"><a href="#ä¸‰ã€å„æ‹‰å¤šå¡ç­›æ³•ï¼š" class="headerlink" title="ä¸‰ã€å„æ‹‰å¤šå¡ç­›æ³•ï¼š"></a><strong>ä¸‰ã€å„æ‹‰å¤šå¡ç­›æ³•ï¼š</strong></h2><p>ä½¿ç”¨å„æ‹‰å¤šå¡ç­›æ³•è¿›è¡Œ 1 åˆ° 64 çš„è´¨æ•°æŸ¥æ‰¾çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p> <a href="https://pic.leetcode-cn.com/a1faca1423ae40210283ae99735d3816702ccf4ea3d14b452bd31b52dc5c1ab7-%E8%B4%A8%E6%95%B001.png" target="_blank" rel="noopener">è´¨æ•°01.png</a> <a href="https://pic.leetcode-cn.com/9ce249c55336894269a24b07b24aeda45c9282d2bd7bcfe8b6a4924010f30c56-%E8%B4%A8%E6%95%B002.png" target="_blank" rel="noopener">è´¨æ•°02.png</a> <a href="https://pic.leetcode-cn.com/9907eb6310771945b98d85507e9ac396066eca6687d4a124d8d580cb4cb77331-%E8%B4%A8%E6%95%B003.png" target="_blank" rel="noopener">è´¨æ•°03.png</a> <a href="https://pic.leetcode-cn.com/44a83633f6e730b105c747efe1ea99f1ade9461278735ac1bb310264fe7f7890-%E8%B4%A8%E6%95%B004.png" target="_blank" rel="noopener">è´¨æ•°04.png</a> <a href="https://pic.leetcode-cn.com/11cdfac5138c3a0a1529407157264c066cc36b2acbd6160cb94fe848d5882c47-%E8%B4%A8%E6%95%B005.png" target="_blank" rel="noopener">è´¨æ•°05.png</a> <a href="https://pic.leetcode-cn.com/1474c46f44db885dd00a70dfb475d68cdde33a882cbd9f0e8f16561189441bd6-%E8%B4%A8%E6%95%B006.png" target="_blank" rel="noopener">è´¨æ•°06.png</a> <a href="https://pic.leetcode-cn.com/d1892c5f2c2fc9c76f7d998ac0bf57fa8f11579fb17a6e3305896d40c263b41e-%E8%B4%A8%E6%95%B007.png" target="_blank" rel="noopener">è´¨æ•°07.png</a> <a href="https://pic.leetcode-cn.com/4983199ef4fd10fff41c3e11f052793ea4c7e8fa1122ff1c31ece11a94eea561-%E8%B4%A8%E6%95%B008.png" target="_blank" rel="noopener">è´¨æ•°08.png</a> <a href="https://pic.leetcode-cn.com/cd1a2a9c42fc47a45c907c2e72f88421847d995275a677fd75c0eacce8996c06-%E8%B4%A8%E6%95%B009.png" target="_blank" rel="noopener">è´¨æ•°09.png</a> <a href="https://pic.leetcode-cn.com/e5172309e50d91eb5fced486d2b479677a6cbf594f157e18cc2b080b2cf7acdd-%E8%B4%A8%E6%95%B010.png" target="_blank" rel="noopener">è´¨æ•°10.png</a> <a href="https://pic.leetcode-cn.com/d9c9c9a293b63a9ae6b991f491add5a527b4ed0590c5c1e55bc1d7adf0bbcd30-%E8%B4%A8%E6%95%B011.png" target="_blank" rel="noopener">è´¨æ•°11.png</a> <a href="https://pic.leetcode-cn.com/f6bbb60ddcd9b5ad283163d9ac1612e128fc909120125192e86d77bdf80db6e9-%E8%B4%A8%E6%95%B012.png" target="_blank" rel="noopener">è´¨æ•°12.png</a> <a href="https://pic.leetcode-cn.com/95d13d8085953ddd6cba4298479fe110672e7331922b43b105c8eedaed14a870-%E8%B4%A8%E6%95%B013.png" target="_blank" rel="noopener">è´¨æ•°13.png</a> <a href="https://pic.leetcode-cn.com/9f6f86ac5a51f27e5abbeb25dd25cc527125ef7bcb3822e7ff6229b739166e7b-%E8%B4%A8%E6%95%B014.png" target="_blank" rel="noopener">è´¨æ•°14.png</a> <a href="https://pic.leetcode-cn.com/a81d726b272aec84d583574a6f8ab82245bf85591495a07aff84ed4f5db3db96-%E8%B4%A8%E6%95%B015.png" target="_blank" rel="noopener">è´¨æ•°15.png</a> <a href="https://pic.leetcode-cn.com/95be087f2ccf42f1e020ca2b762ab31eb82209c02a1f2dd5ddcf0ce3dec28eb3-%E8%B4%A8%E6%95%B016.png" target="_blank" rel="noopener">è´¨æ•°16.png</a> <a href="https://pic.leetcode-cn.com/d173b60cd95b8b6cbdadb8a8c5ccc477a8afd48093c3b4bac07216e1d0cd6b83-%E8%B4%A8%E6%95%B017.png" target="_blank" rel="noopener">è´¨æ•°17.png</a> </p><p>ï¼ˆåšå›¾ç‰‡çš„æ—¶å€™æŠŠè´¨æ•°å¼„æˆäº†ç´ æ•°â€¦â€¦ï¼‰</p><p>å¯¹æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å£°æ˜ä¸€ä¸ªé•¿åº¦ä¸ºæœ€å¤§é™åˆ¶æ•°çš„å¸ƒå°”æ•°ç»„ã€‚ç”¨å¸ƒå°”å€¼æ¥åŒºåˆ«ç­›é€‰å‡ºçš„æ•°å’Œè´¨æ•°ã€‚</p><p>è¿ç”¨å„æ‹‰å¤šå¡ç­›æ³•å¾—ä»£ç å¦‚ä¸‹ï¼š</p><details>    <summary>å„æ‹‰å¤šå¡ç­›æ³•Csharp</summary><figure class="highlight csharp"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">CountPrimes</span>(<span class="params"><span class="keyword">int</span> n</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">bool</span>[] signs = <span class="keyword">new</span> <span class="keyword">bool</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å› ä¸ºåœ¨ C# ä¸­ï¼Œå¸ƒå°”ç±»å‹çš„é»˜è®¤å€¼ä¸º å‡ã€‚æ‰€ä»¥åœ¨æ­¤å¤„ç”¨äº†é€»è¾‘éï¼ˆï¼ï¼‰æ“ä½œç¬¦ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (!signs[i])</span><br><span class="line">        &#123;</span><br><span class="line">            count++;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i + i; j &lt; n; j += i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//æ’é™¤ä¸æ˜¯è´¨æ•°çš„æ•°</span></span><br><span class="line">                signs[j] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å„æ‹‰å¤šå¡ç­›æ³•C++</summary><figure class="highlight c++"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">countPrimes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//åˆå§‹é»˜è®¤æ‰€æœ‰æ•°ä¸ºè´¨æ•°</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; signs(n, <span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (signs[i]) &#123;</span><br><span class="line">            count++;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i + i; j &lt; n; j += i) &#123;</span><br><span class="line">                <span class="comment">//æ’é™¤ä¸æ˜¯è´¨æ•°çš„æ•°</span></span><br><span class="line">                signs[j] = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å„æ‹‰å¤šå¡ç­›æ³•Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countPrimes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">boolean</span>[] signs = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="comment">//å› ä¸ºåœ¨ Java ä¸­ï¼Œå¸ƒå°”ç±»å‹çš„é»˜è®¤å€¼ä¸º å‡ã€‚æ‰€ä»¥åœ¨æ­¤å¤„ç”¨äº†é€»è¾‘éï¼ˆï¼ï¼‰æ“ä½œç¬¦ã€‚</span></span><br><span class="line">            <span class="keyword">if</span> (!signs[i]) &#123;</span><br><span class="line">                count++;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = i + i; j &lt; n; j += i) &#123;</span><br><span class="line">                    signs[j] = <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>## **å››ã€è¿ç”¨æ¯”ç‰¹è¡¨ï¼ˆBitmapï¼‰ç®—æ³•å¯¹ç­›æ³•è¿›è¡Œå†…å­˜ä¼˜åŒ–ï¼š**<p>ä¸Šé¢è¿ç”¨å„æ‹‰å¤šå¡ç­›æ³•æ±‚ä¸€å®šèŒƒå›´å†…çš„è´¨æ•°å·²ç»ååˆ†é«˜æ•ˆäº†ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬ä½¿ç”¨å¸ƒå°”æ•°ç»„æ ‡è®°ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºè´¨æ•°æ—¶ï¼Œæ¯ä¸ªå€¼éƒ½å ç”¨äº†ä¸€ä¸ªå­—èŠ‚ï¼ˆByteï¼‰ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ä»…éœ€è¦ä¸¤ä¸ªä¸åŒçš„å€¼æ¥è¡¨ç¤ºæ˜¯å¦ä¸ºè´¨æ•°å³å¯ã€‚å³ä¸€ä¸ªæ¯”ç‰¹ï¼ˆbitï¼‰æ¥è¡¨ç¤ºå³å¯ï¼ˆ0ã€1ï¼‰ã€‚å¦‚æœè¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬ä¾¿æœ€ä¼˜å¯èŠ‚çœå…«åˆ†ä¹‹ä¸ƒçš„ç©ºé—´ï¼ˆç„¶è€Œï¼Œè¿˜å¾—ç»“åˆä»£ç å’Œå®é™…æƒ…å†µï¼Œå¹¶ä¸æ˜¯ç”¨äº†å°±ä¸€å®šæœ‰æ•ˆæœï¼‰ã€‚</p><ul><li>å…³äºæ¯”ç‰¹è¡¨ç®—æ³•åœ¨æ­¤ä¾¿ç®€è¦æ¦‚è¿°ä»¥ä¸‹ï¼ˆå¯ç•¥è¿‡ï¼‰ï¼š</li></ul><p>å‡å¦‚æœ‰ä» 1 è‡³ 8 æ€»å…±å…«ä¸ªæ•°ã€‚ç°æœ‰ä¸€ä¸ªå­—èŠ‚å¤§å°çš„å†…å­˜ç©ºé—´å¯ä¾›ä½¿ç”¨ï¼ˆä»…ä¾›å‚è€ƒï¼Œä¸è€ƒè™‘å®é™…ç”¨é€”åŠæ¯”ç‰¹ç®—æ³•çš„æœ€ä½³ç”¨å¤„ï¼‰ã€‚å¦‚ä½•å°†æ¯ä¸ªæ•°ç™»è®°ä¸‹æ¥ï¼Œå¹¶å¯ä»¥éšæ—¶æ£€æŸ¥ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨å‘¢ï¼Ÿ</p><p>å¦‚æœç”¨ä¸€ä¸ªæ•°ç»„è¡¨ç¤ºï¼Œå³ä½¿ä¸è€ƒè™‘æ•°ç»„çš„å†…å­˜å¼€é”€ï¼Œå“ªæ€•ç”¨ä¸€ä¸ª byte ç±»å‹çš„å˜é‡è®°å½•æ¯ä¸€æ•°ä¹Ÿå°†è¶…å‡ºå†…å­˜å¯ä½¿ç”¨èŒƒå›´ã€‚ä½†æ˜¯ç”±äºæ¯ä¸ªå­—èŠ‚å…±æœ‰å…«ä¸ªæ¯”ç‰¹ä½ï¼Œåˆ™å¯ä»¥ç”¨æ¯ä¸ªæ¯”ç‰¹ä½æ¥è¡¨ç¤ºæ¯ä¸ªæ•°å­—åˆ™æ°å¥½å¯ä»¥ç™»è®°å®Œæ‰€æœ‰çš„æ•°å­—ã€‚</p><p>ç¤ºä¾‹ï¼š</p><ol><li>ç™»è®°æ•°å­— 1 ï¼š0 0 0 0 0 0 0 1</li><li>ç™»è®°æ•°å­— 1ã€3ï¼š0 0 0 0 0 1 0 1</li><li>ç™»è®°æ•°å­— 1ã€2ã€3ã€4ã€5 ï¼š0 0 0 1 1 1 1 1</li></ol><p>å¾—ä»£ç å¦‚ä¸‹ï¼š</p><details>    <summary>è¿ç”¨æ¯”ç‰¹è¡¨Csharp</summary><figure class="highlight csharp"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">CountPrimes</span>(<span class="params"><span class="keyword">int</span> n</span>) </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//ä¸€ä¸ª int å˜é‡å ç”¨ 32 å­—èŠ‚</span></span><br><span class="line">    <span class="comment">//åœ¨C#ä¸­ï¼Œæä¾›äº†ç‚¹é˜µåˆ—ï¼ˆBitArrayï¼‰æ•°ç»„ï¼Œç”¨è¿™ç©æ„å¯è¯»æ€§ä¸€å®šä¼šå¥½äºæˆ‘å†™çš„ä»£ç ã€‚</span></span><br><span class="line">    <span class="keyword">int</span>[] signs = <span class="keyword">new</span> <span class="keyword">int</span>[n / <span class="number">32</span> + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å°†å…ƒç´ å’Œéœ€ç¡®å®šå¾—æ•°å­—ç»è¡ŒæŒ‰ä½æˆ–è¿ç®—ï¼Œå¦‚æœå€¼æ”¹å˜ï¼Œè¯´æ˜ä¸å­˜åœ¨è¯¥æ•°å­—ï¼ˆæœªç™»è®°è¯¥æ•°å­—ï¼‰ï¼Œåˆ™å…¶ä¸ºè´¨æ•°ã€‚</span></span><br><span class="line">        <span class="comment">//(å½“æŸä¸ªæ•°ä¸º 2 çš„ n æ¬¡æ–¹æ—¶ï¼ˆnä¸ºè‡ªç„¶æ•°ï¼‰ï¼Œå…¶ &amp; (n - 1) æ‰€å¾—å€¼å°†ç­‰ä»·äºå–ä½™è¿ç®—æ‰€å¾—å€¼)</span></span><br><span class="line">        <span class="comment">//*å¦‚æœ x = 2^n ï¼Œåˆ™ x &amp; (n - 1) == x % n</span></span><br><span class="line">        <span class="comment">//ä¸‹é¢åˆ¤æ–­å¯ä»¥å†™æˆ</span></span><br><span class="line">        <span class="comment">//if ((signs[i / size] &amp; (1 &lt;&lt; (i % 32))) == 0)</span></span><br><span class="line">        <span class="keyword">if</span> ((signs[i / <span class="number">32</span>] &amp; (<span class="number">1</span> &lt;&lt; (i &amp; <span class="number">31</span>))) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            count++;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i + i; j &lt; n; j += i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//ç™»è®°è¯¥æ•°å­—</span></span><br><span class="line">                signs[j / <span class="number">32</span>] |= <span class="number">1</span> &lt;&lt; (j &amp; <span class="number">31</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>è¿ç”¨æ¯”ç‰¹è¡¨C++</summary><figure class="highlight c++"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">countPrimes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//ä¸€ä¸ª int å˜é‡ä¸çŸ¥é“å å¤šå°‘å­—èŠ‚ï¼ˆä½†è¯·æ³¨æ„ï¼Œè¿™é‡Œé‡‡ç”¨äº†å¸¸é‡ï¼‰</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> size = <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * <span class="number">8</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; signs(n / size + <span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="comment">//å°†å…ƒç´ å’Œéœ€ç¡®å®šå¾—æ•°å­—ç»è¡ŒæŒ‰ä½æˆ–è¿ç®—ï¼Œå¦‚æœå€¼æ”¹å˜ï¼Œè¯´æ˜ä¸å­˜åœ¨è¯¥æ•°å­—ï¼ˆæœªç™»è®°è¯¥æ•°å­—ï¼‰ï¼Œåˆ™å…¶ä¸ºè´¨æ•°ã€‚</span></span><br><span class="line">        <span class="comment">//åœ¨C++ä¸­ï¼Œå…¶æä¾›äº† bitset æ¥æ“ä½œä½ï¼Œåœ¨æ­¤ä¾¿ä¸åšä»‹ç»äº†ã€‚å¦‚æœç”¨äº†ï¼Œå¯è¯»æ€§è‚¯å®šä¼šæ›´å¥½ã€‚</span></span><br><span class="line">        <span class="comment">//(å½“æŸä¸ªæ•°ä¸º 2 çš„ n æ¬¡æ–¹æ—¶ï¼ˆnä¸ºè‡ªç„¶æ•°ï¼‰ï¼Œå…¶ &amp; (n - 1) æ‰€å¾—å€¼å°†ç­‰ä»·äºå–ä½™è¿ç®—æ‰€å¾—å€¼)</span></span><br><span class="line">        <span class="comment">//*å¦‚æœ x = 2^n ï¼Œåˆ™ x &amp; (n - 1) == x % n</span></span><br><span class="line">        <span class="comment">//ä¸‹é¢åˆ¤æ–­å¯ä»¥å†™æˆ</span></span><br><span class="line">        <span class="comment">//if ((signs[i / size] &amp; (1 &lt;&lt; (i % 32))) == 0)</span></span><br><span class="line">        <span class="keyword">if</span> ((signs[i / size] &amp; (<span class="number">1</span> &lt;&lt; (i &amp; (size - <span class="number">1</span>)))) == <span class="number">0</span>)&#123;</span><br><span class="line">            count++;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i + i; j &lt; n; j += i)&#123;</span><br><span class="line">                <span class="comment">//ç™»è®°è¯¥æ•°å­—</span></span><br><span class="line">            signs[j / size] |= <span class="number">1</span> &lt;&lt; (j &amp; (size - <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>ç»æµ‹è¯•ï¼ŒC# å†…å­˜ä¼˜åŒ–æ•ˆæœè¾ƒä¸ºæ˜æ˜¾ï¼Œä½† C++ æ•ˆæœä¸å¤§æ˜æ˜¾ã€‚ä½†è¿™ç§æ–¹æ³•æ˜¾ç„¶æ˜¯ä¸ºäº†ç‰¹æ®Šæƒ…å†µè€Œå‡†å¤‡ï¼ˆæ¯”å¦‚ä¸€äº¿ä¸ªæ•°ï¼‰ã€‚ä¸è¿‡ä¹Ÿå¯èƒ½æ˜¯æˆ‘å†™çš„ä¸å¥½ã€‚ä»…ä½œå‚è€ƒï¼Œå¦‚æœæœ‰æ‰€é”™è¯¯æ³è¯·æ‚¨æ–§æ­£ã€‚<p>ï¼ˆå…¶å®æœ‰æ—¶å€™ä»£ç çš„å¯è¯»æ€§è¦èƒœäºä»£ç æ”¹åŠ¨æ‰€å¸¦æ¥çš„ä¸€ç‚¹çš„æ€§èƒ½ä¸Šçš„æå‡ã€‚ï¼‰</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»Ÿè®¡æ‰€æœ‰å°äºéè´Ÿæ•´æ•° n çš„è´¨æ•°çš„æ•°é‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>191. ä½1çš„ä¸ªæ•°</title>
    <link href="http://yoursite.com/2020/09/28/191.%20%E4%BD%8D1%E7%9A%84%E4%B8%AA%E6%95%B0/"/>
    <id>http://yoursite.com/2020/09/28/191. ä½1çš„ä¸ªæ•°/</id>
    <published>2020-09-28T03:27:12.000Z</published>
    <updated>2020-09-29T08:37:42.516Z</updated>
    
    <content type="html"><![CDATA[<p>ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼Œè¿”å›å…¶äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸­æ•°å­—ä½æ•°ä¸º â€˜1â€™ çš„ä¸ªæ•°ï¼ˆä¹Ÿè¢«ç§°ä¸ºæ±‰æ˜é‡é‡ï¼‰ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼š00000000000000000000000000001011è¾“å‡ºï¼š3è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000000001011 ä¸­ï¼Œå…±æœ‰ä¸‰ä½ä¸º &apos;1&apos;ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼š00000000000000000000000010000000è¾“å‡ºï¼š1è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000010000000 ä¸­ï¼Œå…±æœ‰ä¸€ä½ä¸º &apos;1&apos;ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼š11111111111111111111111111111101è¾“å‡ºï¼š31è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 11111111111111111111111111111101 ä¸­ï¼Œå…±æœ‰ 31 ä½ä¸º &apos;1&apos;ã€‚</code></pre><p>æç¤ºï¼š</p><p>è¯·æ³¨æ„ï¼Œåœ¨æŸäº›è¯­è¨€ï¼ˆå¦‚ Javaï¼‰ä¸­ï¼Œæ²¡æœ‰æ— ç¬¦å·æ•´æ•°ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¾“å…¥å’Œè¾“å‡ºéƒ½å°†è¢«æŒ‡å®šä¸ºæœ‰ç¬¦å·æ•´æ•°ç±»å‹ï¼Œå¹¶ä¸”ä¸åº”å½±å“æ‚¨çš„å®ç°ï¼Œå› ä¸ºæ— è®ºæ•´æ•°æ˜¯æœ‰ç¬¦å·çš„è¿˜æ˜¯æ— ç¬¦å·çš„ï¼Œå…¶å†…éƒ¨çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼éƒ½æ˜¯ç›¸åŒçš„ã€‚</p><p>åœ¨ Java ä¸­ï¼Œç¼–è¯‘å™¨ä½¿ç”¨äºŒè¿›åˆ¶è¡¥ç è®°æ³•æ¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•°ã€‚å› æ­¤ï¼Œåœ¨ä¸Šé¢çš„ ç¤ºä¾‹ 3 ä¸­ï¼Œè¾“å…¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•° -3ã€‚</p><p>è¿›é˜¶:</p><pre><code>å¦‚æœå¤šæ¬¡è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œä½ å°†å¦‚ä½•ä¼˜åŒ–ä½ çš„ç®—æ³•ï¼Ÿ</code></pre><h1 id="æ–¹æ³•-1ï¼šå¾ªç¯å’Œä½ç§»åŠ¨"><a href="#æ–¹æ³•-1ï¼šå¾ªç¯å’Œä½ç§»åŠ¨" class="headerlink" title="æ–¹æ³• 1ï¼šå¾ªç¯å’Œä½ç§»åŠ¨"></a>æ–¹æ³• 1ï¼šå¾ªç¯å’Œä½ç§»åŠ¨</h1><p><strong>ç®—æ³•</strong></p><p>è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒç›´æ¥ã€‚æˆ‘ä»¬éå†æ•°å­—çš„ 32 ä½ã€‚å¦‚æœæŸä¸€ä½æ˜¯ <em>1</em> ï¼Œå°†è®¡æ•°å™¨åŠ ä¸€ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨ <em>ä½æ©ç </em> æ¥æ£€æŸ¥æ•°å­—çš„ç¬¬ <em>i^{th}</em> ä½ã€‚ä¸€å¼€å§‹ï¼Œæ©ç  <em>m=1</em> å› ä¸º <em>1</em> çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯</p><pre><code>0000 0000 0000 0000 0000 0000 0000 0001</code></pre><p>æ˜¾ç„¶ï¼Œä»»ä½•æ•°å­—è·Ÿæ©ç  <em>1</em> è¿›è¡Œé€»è¾‘ä¸è¿ç®—ï¼Œéƒ½å¯ä»¥è®©æˆ‘ä»¬è·å¾—è¿™ä¸ªæ•°å­—çš„æœ€ä½ä½ã€‚æ£€æŸ¥ä¸‹ä¸€ä½æ—¶ï¼Œæˆ‘ä»¬å°†æ©ç å·¦ç§»ä¸€ä½ã€‚</p><pre><code>0000 0000 0000 0000 0000 0000 0000 0010</code></pre><p>å¹¶é‡å¤æ­¤è¿‡ç¨‹ã€‚</p><details>    <summary>å¾ªç¯å’Œä½ç§»åŠ¨</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hammingWeight</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> bits = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> mask = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((n &amp; mask) != <span class="number">0</span>) &#123;</span><br><span class="line">            bits++;</span><br><span class="line">        &#125;</span><br><span class="line">        mask &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> bits;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(1)</em> ã€‚è¿è¡Œæ—¶é—´ä¾èµ–äºæ•°å­— <em>n</em> çš„ä½æ•°ã€‚ç”±äºè¿™é¢˜ä¸­ <em>n</em> æ˜¯ä¸€ä¸ª 32 ä½æ•°ï¼Œæ‰€ä»¥è¿è¡Œæ—¶é—´æ˜¯ <em>O(1)</em> çš„ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚æ²¡æœ‰ä½¿ç”¨é¢å¤–ç©ºé—´ã€‚</p></li></ul><h1 id="æ–¹æ³•-2ï¼šä½æ“ä½œçš„å°æŠ€å·§"><a href="#æ–¹æ³•-2ï¼šä½æ“ä½œçš„å°æŠ€å·§" class="headerlink" title="æ–¹æ³• 2ï¼šä½æ“ä½œçš„å°æŠ€å·§"></a>æ–¹æ³• 2ï¼šä½æ“ä½œçš„å°æŠ€å·§</h1><p><strong>ç®—æ³•</strong></p><p>æˆ‘ä»¬å¯ä»¥æŠŠå‰é¢çš„ç®—æ³•è¿›è¡Œä¼˜åŒ–ã€‚æˆ‘ä»¬ä¸å†æ£€æŸ¥æ•°å­—çš„æ¯ä¸€ä¸ªä½ï¼Œè€Œæ˜¯ä¸æ–­æŠŠæ•°å­—æœ€åä¸€ä¸ª <em>1</em> åè½¬ï¼Œå¹¶æŠŠç­”æ¡ˆåŠ ä¸€ã€‚å½“æ•°å­—å˜æˆ <em>0</em> çš„æ—¶å€™å¶ï¼Œæˆ‘ä»¬å°±çŸ¥é“å®ƒæ²¡æœ‰ <em>1</em> çš„ä½äº†ï¼Œæ­¤æ—¶è¿”å›ç­”æ¡ˆã€‚</p><p>è¿™é‡Œå…³é”®çš„æƒ³æ³•æ˜¯å¯¹äºä»»æ„æ•°å­— <em>n</em> ï¼Œå°† <em>n</em> å’Œ <em>n - 1</em> åšä¸è¿ç®—ï¼Œä¼šæŠŠæœ€åä¸€ä¸ª <em>1</em> çš„ä½å˜æˆ <em>0</em> ã€‚ä¸ºä»€ä¹ˆï¼Ÿè€ƒè™‘ <em>n</em> å’Œ <em>n - 1</em> çš„äºŒè¿›åˆ¶è¡¨ç¤ºã€‚</p><p><a href="https://pic.leetcode-cn.com/abfd6109e7482d70d20cb8fc1d632f90eacf1b5e89dfecb2e523da1bcb562f66-image.png" target="_blank" rel="noopener">image.png</a></p><p><em>å›¾ç‰‡ 1. å°† *n</em> å’Œ <em>n-1</em> åšä¸è¿ç®—ä¼šå°†æœ€ä½ä½çš„ <em>1</em> å˜æˆ <em>0*</em></p><p>åœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ï¼Œæ•°å­— <em>n</em> ä¸­æœ€ä½ä½çš„ <em>1</em> æ€»æ˜¯å¯¹åº” <em>n - 1</em> ä¸­çš„ <em>0</em> ã€‚å› æ­¤ï¼Œå°† <em>n</em> å’Œ <em>n - 1</em> ä¸è¿ç®—æ€»æ˜¯èƒ½æŠŠ <em>n</em> ä¸­æœ€ä½ä½çš„ <em>1</em> å˜æˆ <em>0</em> ï¼Œå¹¶ä¿æŒå…¶ä»–ä½ä¸å˜ã€‚</p><p>ä½¿ç”¨è¿™ä¸ªå°æŠ€å·§ï¼Œä»£ç å˜å¾—éå¸¸ç®€å•ã€‚</p><details>    <summary>ä½æ“ä½œçš„å°æŠ€å·§</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hammingWeight</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">        sum++;</span><br><span class="line">        n &amp;= (n - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(1)</em> ã€‚è¿è¡Œæ—¶é—´ä¸ <em>n</em> ä¸­ä½ä¸º <em>1</em> çš„æœ‰å…³ã€‚åœ¨æœ€åæƒ…å†µä¸‹ï¼Œ <em>n</em> ä¸­æ‰€æœ‰ä½éƒ½æ˜¯ <em>1</em> ã€‚å¯¹äº 32 ä½æ•´æ•°ï¼Œè¿è¡Œæ—¶é—´æ˜¯ <em>O(1)</em> çš„ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em> ã€‚æ²¡æœ‰ä½¿ç”¨é¢å¤–ç©ºé—´ã€‚</p></li></ul><h1 id="ä½è¿ç®—æŠ€å·§"><a href="#ä½è¿ç®—æŠ€å·§" class="headerlink" title="ä½è¿ç®—æŠ€å·§"></a>ä½è¿ç®—æŠ€å·§</h1><h2 id="n-amp-n-1-æŠŠæœ€åä¸€ä¸ª-1-çš„ä½å˜æˆ-0"><a href="#n-amp-n-1-æŠŠæœ€åä¸€ä¸ª-1-çš„ä½å˜æˆ-0" class="headerlink" title="n &amp; (n-1) æŠŠæœ€åä¸€ä¸ª 1 çš„ä½å˜æˆ 0"></a>n &amp; (n-1) æŠŠæœ€åä¸€ä¸ª 1 çš„ä½å˜æˆ 0</h2><p>ä»»æ„æ•°å­— n ï¼Œå°† n å’Œ n - 1 åšä¸è¿ç®—ï¼Œä¼šæŠŠæœ€åä¸€ä¸ª 1 çš„ä½å˜æˆ 0</p><h2 id="n-amp-n-ä¿ç•™-n-æœ€å³è¾¹çš„-1"><a href="#n-amp-n-ä¿ç•™-n-æœ€å³è¾¹çš„-1" class="headerlink" title="n &amp; (-n) ä¿ç•™ n æœ€å³è¾¹çš„ 1"></a>n &amp; (-n) ä¿ç•™ <code>n</code> æœ€å³è¾¹çš„ <code>1</code></h2><p>æˆ‘ä»¬é€šè¿‡ <code>n &amp; (-n)</code> ä¿ç•™ <code>n</code> æœ€å³è¾¹çš„ <code>1</code></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼Œè¿”å›å…¶äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸­æ•°å­—ä½æ•°ä¸º â€˜1â€™ çš„ä¸ªæ•°ï¼ˆä¹Ÿè¢«ç§°ä¸ºæ±‰æ˜é‡é‡ï¼‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
  </entry>
  
  <entry>
    <title>172. é˜¶ä¹˜åçš„é›¶</title>
    <link href="http://yoursite.com/2020/09/27/172.%20%E9%98%B6%E4%B9%98%E5%90%8E%E7%9A%84%E9%9B%B6/"/>
    <id>http://yoursite.com/2020/09/27/172. é˜¶ä¹˜åçš„é›¶/</id>
    <published>2020-09-27T07:27:12.000Z</published>
    <updated>2020-09-27T07:56:47.989Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œè¿”å› n! ç»“æœå°¾æ•°ä¸­é›¶çš„æ•°é‡ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: 3è¾“å‡º: 0è§£é‡Š: 3! = 6, å°¾æ•°ä¸­æ²¡æœ‰é›¶ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: 5è¾“å‡º: 1è§£é‡Š: 5! = 120, å°¾æ•°ä¸­æœ‰ 1 ä¸ªé›¶.è¯´æ˜: ä½ ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”ä¸º O(log n) ã€‚</code></pre><h1 id="è§£æ³•ä¸€"><a href="#è§£æ³•ä¸€" class="headerlink" title="è§£æ³•ä¸€"></a>è§£æ³•ä¸€</h1><p>çœ‹åˆ°è¿™é“é¢˜é¦–å…ˆæ’é™¤æ‰è®¡ç®—é˜¶ä¹˜ï¼Œå…ˆæ±‚ä¹˜æ•°ä¸­å«æœ‰10ï¼Œ5ï¼Œ2çš„ä¸ªæ•°ï¼Œé›¶çš„æ•°é‡å–å†³äºè¿™ä¸‰ä¸ªå› å­</p><details>    <summary>è§£æ³•ä¸€</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int trailingZeroes(int n) &#123;</span><br><span class="line">        int numfive=0;</span><br><span class="line">        int numtwo=0;</span><br><span class="line">        int numten=0;</span><br><span class="line">        for (int j = 1; j &lt;= n; j++) &#123;</span><br><span class="line">            int i = j;</span><br><span class="line">            while (i % 10 == 0) &#123;</span><br><span class="line">                numten++;</span><br><span class="line">                i = i / 10;</span><br><span class="line">            &#125;</span><br><span class="line">            while (i % 5 == 0) &#123;</span><br><span class="line">                numfive++;</span><br><span class="line">                i = i / 5;</span><br><span class="line">            &#125;</span><br><span class="line">            while (i % 2 == 0) &#123;</span><br><span class="line">                numtwo++;</span><br><span class="line">                i = i / 2;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return numten + Math.min(numfive, numtwo);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="è§£æ³•äºŒ"><a href="#è§£æ³•äºŒ" class="headerlink" title="è§£æ³•äºŒ"></a>è§£æ³•äºŒ</h1><p>ä¹‹å‰å°çº¢ä¹¦é¢è¯•çš„æ—¶å€™ç¢°åˆ°çš„ä¸€é“é¢˜ï¼Œæ²¡æƒ³åˆ°åˆæ˜¯ leetcode çš„åŸé¢˜ã€‚è¿™ç§æ²¡æœ‰é€šç”¨è§£æ³•çš„é¢˜ï¼Œå®Œå…¨ä¾é äºå¯¹é¢˜ç›®çš„åˆ†æç†è§£äº†ï¼Œè‡ªå·±å½“æ—¶ä¹Ÿæ˜¯åœ¨é¢è¯•å®˜çš„æç¤ºä¸‹æ…¢æ…¢å‡ºæ¥çš„ï¼Œè¦æ˜¯æƒ³ä¸åˆ°é¢˜ç›®çš„ç‚¹ï¼Œè¿˜æ˜¯æ¯”è¾ƒéš¾åšçš„ã€‚</p><p>é¦–å…ˆè‚¯å®šä¸èƒ½ä¾èµ–äºæŠŠé˜¶ä¹˜ç®—å‡ºæ¥å†å»åˆ¤æ–­æœ‰å¤šå°‘ä¸ªé›¶äº†ï¼Œå› ä¸ºé˜¶ä¹˜å¾ˆå®¹æ˜“å°±æº¢å‡ºäº†ï¼Œæ‰€ä»¥å…ˆä¸€æ­¥ä¸€æ­¥ç†ä¸€ä¸‹æ€è·¯å§ã€‚</p><p>é¦–å…ˆæœ«å°¾æœ‰å¤šå°‘ä¸ª <code>0</code> ï¼Œåªéœ€è¦ç»™å½“å‰æ•°ä¹˜ä»¥ä¸€ä¸ª <code>10</code> å°±å¯ä»¥åŠ ä¸€ä¸ª <code>0</code>ã€‚</p><p>å†å…·ä½“å¯¹äº <code>5!</code>ï¼Œä¹Ÿå°±æ˜¯ <code>5 * 4 * 3 * 2 * 1 = 120</code>ï¼Œæˆ‘ä»¬å‘ç°ç»“æœä¼šæœ‰ä¸€ä¸ª <code>0</code>ï¼ŒåŸå› å°±æ˜¯ <code>2</code> å’Œ <code>5</code> ç›¸ä¹˜æ„æˆäº†ä¸€ä¸ª <code>10</code>ã€‚è€Œå¯¹äº <code>10</code> çš„è¯ï¼Œå…¶å®ä¹Ÿåªæœ‰ <code>2 * 5</code>  å¯ä»¥æ„æˆï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ‰¾æœ‰å¤šå°‘å¯¹ <code>2/5</code>ã€‚</p><p>æˆ‘ä»¬æŠŠæ¯ä¸ªä¹˜æ•°å†ç¨å¾®åˆ†è§£ä¸‹ï¼Œçœ‹ä¸€ä¸ªä¾‹å­ã€‚</p><p><code>11! = 11 * 10 * 9 * 8 * 7 * 6 * 5 * 4 * 3 * 2 * 1 = 11 * (2 * 5) * 9 * (4 * 2) * 7 * (3 * 2) * (1 * 5) * (2 * 2) * 3 * (1 * 2) * 1</code></p><p>å¯¹äºå«æœ‰ <code>2</code> çš„å› å­çš„è¯æ˜¯  <code>1 * 2, 2 * 2, 3 * 2, 4 * 2 ...</code></p><p>å¯¹äºå«æœ‰ <code>5</code> çš„å› å­çš„è¯æ˜¯  <code>1 * 5, 2 * 5...</code></p><p>å«æœ‰ <code>2</code> çš„å› å­æ¯ä¸¤ä¸ªå‡ºç°ä¸€æ¬¡ï¼Œå«æœ‰ <code>5</code> çš„å› å­æ¯ <code>5</code> ä¸ªå‡ºç°ä¸€æ¬¡ï¼Œæ‰€æœ‰ <code>2</code> å‡ºç°çš„ä¸ªæ•°è¿œè¿œå¤šäº <code>5</code>ï¼Œæ¢è¨€ä¹‹æ‰¾åˆ°ä¸€ä¸ª <code>5</code>ï¼Œä¸€å®šèƒ½æ‰¾åˆ°ä¸€ä¸ª <code>2</code> ä¸ä¹‹é…å¯¹ã€‚æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ‰¾æœ‰å¤šå°‘ä¸ª <code>5</code>ã€‚</p><p>ç›´æ¥çš„ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­æ¯ä¸ªç´¯ä¹˜çš„æ•°æœ‰å¤šå°‘ä¸ª <code>5</code> çš„å› å­å³å¯ã€‚</p><details>    <summary>è§£æ³•äºŒ</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trailingZeroes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> N = i;</span><br><span class="line">        <span class="keyword">while</span> (N &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (N % <span class="number">5</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                count++;</span><br><span class="line">                N /= <span class="number">5</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>ä½†å‘ç”Ÿäº†è¶…æ—¶ï¼Œæˆ‘ä»¬ç»§ç»­åˆ†æã€‚</p><p>å¯¹äºä¸€ä¸ªæ•°çš„é˜¶ä¹˜ï¼Œå°±å¦‚ä¹‹å‰åˆ†æçš„ï¼Œ<code>5</code> çš„å› å­ä¸€å®šæ˜¯æ¯éš” <code>5</code> ä¸ªæ•°å‡ºç°ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯ä¸‹è¾¹çš„æ ·å­ã€‚</p><p><code>n! = 1 * 2 * 3 * 4 * (1 * 5) * ... * (2 * 5) * ... * (3 * 5) *... * n</code></p><p>å› ä¸ºæ¯éš” <code>5</code> ä¸ªæ•°å‡ºç°ä¸€ä¸ª <code>5</code>ï¼Œæ‰€ä»¥è®¡ç®—å‡ºç°äº†å¤šå°‘ä¸ª <code>5</code>ï¼Œæˆ‘ä»¬åªéœ€è¦ç”¨ <code>n/5</code> å°±å¯ä»¥ç®—å‡ºæ¥ã€‚</p><p>ä½†è¿˜æ²¡æœ‰ç»“æŸï¼Œç»§ç»­åˆ†æã€‚</p><p><code>... * (1 * 5) * ... * (1 * 5 * 5) * ... * (2 * 5 * 5) * ... * (3 * 5 * 5) * ... * n</code></p><p>æ¯éš” <code>25</code> ä¸ªæ•°å­—ï¼Œå‡ºç°çš„æ˜¯ä¸¤ä¸ª <code>5</code>ï¼Œæ‰€ä»¥é™¤äº†æ¯éš” <code>5</code> ä¸ªæ•°ç®—ä½œä¸€ä¸ª <code>5</code>ï¼Œæ¯éš” <code>25</code> ä¸ªæ•°ï¼Œè¿˜éœ€è¦å¤šç®—ä¸€ä¸ª <code>5</code>ã€‚</p><p>ä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦å†åŠ ä¸Š <code>n / 25</code> ä¸ª <code>5</code>ã€‚</p><p>åŒç†æˆ‘ä»¬è¿˜ä¼šå‘ç°æ¯éš” <code>5 * 5 * 5 = 125</code> ä¸ªæ•°å­—ï¼Œä¼šå‡ºç° <code>3</code> ä¸ª <code>5</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å†åŠ ä¸Š <code>n / 125</code> ã€‚</p><p>ç»¼ä¸Šï¼Œè§„å¾‹å°±æ˜¯æ¯éš” <code>5</code> ä¸ªæ•°ï¼Œå‡ºç°ä¸€ä¸ª <code>5</code>ï¼Œæ¯éš” <code>25</code> ä¸ªæ•°ï¼Œå‡ºç° <code>2</code> ä¸ª <code>5</code>ï¼Œæ¯éš” <code>125</code> ä¸ªæ•°ï¼Œå‡ºç° <code>3</code> ä¸ª <code>5</code>â€¦ ä»¥æ­¤ç±»æ¨ã€‚</p><p>æœ€ç»ˆ <code>5</code> çš„ä¸ªæ•°å°±æ˜¯ <code>n / 5 + n / 25 + n / 125 ...</code></p><p>å†™ç¨‹åºçš„è¯ï¼Œå¦‚æœç›´æ¥æŒ‰ç…§ä¸Šè¾¹çš„å¼å­è®¡ç®—ï¼Œåˆ†æ¯å¯èƒ½ä¼šé€ æˆæº¢å‡ºã€‚æ‰€ä»¥ç®— <code>n / 25</code> çš„æ—¶å€™ï¼Œæˆ‘ä»¬å…ˆæŠŠ <code>n</code> æ›´æ–°ï¼Œ<code>n = n / 5</code>ï¼Œç„¶åå†è®¡ç®— <code>n / 5</code> å³å¯ã€‚åè¾¹çš„åŒç†ã€‚</p><details>    <summary>è§£æ³•äºŒ</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trailingZeroes</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        count += n / <span class="number">5</span>;</span><br><span class="line">        n = n / <span class="number">5</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œè¿”å› n! ç»“æœå°¾æ•°ä¸­é›¶çš„æ•°é‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>190. é¢ å€’äºŒè¿›åˆ¶ä½</title>
    <link href="http://yoursite.com/2020/09/27/190.%20%E9%A2%A0%E5%80%92%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%BD%8D/"/>
    <id>http://yoursite.com/2020/09/27/190. é¢ å€’äºŒè¿›åˆ¶ä½/</id>
    <published>2020-09-27T07:27:12.000Z</published>
    <updated>2020-09-28T03:12:13.275Z</updated>
    
    <content type="html"><![CDATA[<p>é¢ å€’ç»™å®šçš„ 32 ä½æ— ç¬¦å·æ•´æ•°çš„äºŒè¿›åˆ¶ä½ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥: 00000010100101000001111010011100è¾“å‡º: 00111001011110000010100101000000è§£é‡Š: è¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000010100101000001111010011100 è¡¨ç¤ºæ— ç¬¦å·æ•´æ•° 43261596ï¼Œ     å› æ­¤è¿”å› 964176192ï¼Œå…¶äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ä¸º 00111001011110000010100101000000ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼š11111111111111111111111111111101è¾“å‡ºï¼š10111111111111111111111111111111è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 11111111111111111111111111111101 è¡¨ç¤ºæ— ç¬¦å·æ•´æ•° 4294967293ï¼Œ     å› æ­¤è¿”å› 3221225471 å…¶äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ä¸º 10111111111111111111111111111111 ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>è¯·æ³¨æ„ï¼Œåœ¨æŸäº›è¯­è¨€ï¼ˆå¦‚ Javaï¼‰ä¸­ï¼Œæ²¡æœ‰æ— ç¬¦å·æ•´æ•°ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¾“å…¥å’Œè¾“å‡ºéƒ½å°†è¢«æŒ‡å®šä¸ºæœ‰ç¬¦å·æ•´æ•°ç±»å‹ï¼Œå¹¶ä¸”ä¸åº”å½±å“æ‚¨çš„å®ç°ï¼Œå› ä¸ºæ— è®ºæ•´æ•°æ˜¯æœ‰ç¬¦å·çš„è¿˜æ˜¯æ— ç¬¦å·çš„ï¼Œå…¶å†…éƒ¨çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼éƒ½æ˜¯ç›¸åŒçš„ã€‚åœ¨ Java ä¸­ï¼Œç¼–è¯‘å™¨ä½¿ç”¨äºŒè¿›åˆ¶è¡¥ç è®°æ³•æ¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•°ã€‚å› æ­¤ï¼Œåœ¨ä¸Šé¢çš„ ç¤ºä¾‹ 2 ä¸­ï¼Œè¾“å…¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•° -3ï¼Œè¾“å‡ºè¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•° -1073741825ã€‚</code></pre><p>è¿›é˜¶:</p><pre><code>å¦‚æœå¤šæ¬¡è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œä½ å°†å¦‚ä½•ä¼˜åŒ–ä½ çš„ç®—æ³•ï¼Ÿ</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šé€ä½é¢ å€’"><a href="#æ–¹æ³•ä¸€ï¼šé€ä½é¢ å€’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€ä½é¢ å€’"></a>æ–¹æ³•ä¸€ï¼šé€ä½é¢ å€’</h1><p>è™½ç„¶è¿™ä¸ªé—®é¢˜å¹¶ä¸éš¾ï¼Œä½†å®ƒå¸¸å¸¸æ˜¯é¢è¯•å¼€å§‹æ—¶çš„ä¸€ä¸ªçƒ­èº«é—®é¢˜ã€‚é‡ç‚¹æ˜¯æµ‹è¯•ä¸€ä¸ªäººå¯¹æ•°æ®ç±»å‹å’Œä½æ“ä½œçš„åŸºæœ¬çŸ¥è¯†ã€‚</p><p>åœ¨é¢è¯•çš„æ—¶å€™é€ä½é¢ å€’ä½œä¸ºæœ€ç›´æ¥çš„è§£å†³æ–¹æ¡ˆã€‚</p><p><a href="https://pic.leetcode-cn.com/15bcf5b6db9b5211046655737571e3fe2668f9ecfc24ce517cd2b0882824aecd-file_1585801736085" target="_blank" rel="noopener">é€ä½é¢ å€’</a></p><p>å°½ç®¡å¬èµ·æ¥å¾ˆç®€å•ï¼Œä½†ä¸Šè¿°é€»è¾‘çš„ä¸åŒå®ç°äº§ç”Ÿä¸åŒçš„è§£å†³æ–¹æ¡ˆã€‚ä¾‹å¦‚ï¼Œè¦æ£€ç´¢æ•´æ•° <code>n</code> ä¸­æœ€å³è¾¹çš„ä½ï¼Œå¯ä»¥åº”ç”¨æ¨¡è¿ç®—ï¼ˆå³ <code>n%2</code>ï¼‰æˆ–ä¸è¿ç®—ï¼ˆå³ <code>n &amp;1</code>ï¼‰ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯ï¼Œä¸ºäº†ç»„åˆåè½¬ä½ï¼ˆä¾‹å¦‚ <em>2^aï¼Œ2^b</em>ï¼‰çš„ç»“æœï¼Œå¯ä»¥ä½¿ç”¨åŠ æ³•è¿ç®—ï¼ˆå³ <em>2^a+2^b</em>ï¼‰æˆ–å†æ¬¡ä½¿ç”¨ä½æˆ–è¿ç®—ï¼ˆå³ <em>2^a | 2^b</em>ï¼‰ã€‚</p><p><strong>ç®—æ³•ï¼š</strong><br>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†å±•ç¤ºåŸºäºä¸Šè¿°é€»è¾‘çš„å®ç°ç¤ºä¾‹ã€‚</p><p><a href="https://pic.leetcode-cn.com/ca2460d77758bd033e787f6b1602f5571891520acae4eefa7bcc7f1fe48b5a2e-file_1585801736110" target="_blank" rel="noopener">å®ç°ç¤ºä¾‹</a><br>å…³é”®æ€æƒ³æ˜¯ï¼Œå¯¹äºä½äºç´¢å¼• <code>i</code> å¤„çš„ä½ï¼Œåœ¨åè½¬ä¹‹åï¼Œå…¶ä½ç½®åº”ä¸º <code>31-i</code>ï¼ˆæ³¨ï¼šç´¢å¼•ä»é›¶å¼€å§‹ï¼‰ã€‚</p><ul><li>æˆ‘ä»¬ä»å³åˆ°å·¦éå†è¾“å…¥æ•´æ•°çš„ä½å­—ç¬¦ä¸²ï¼ˆå³ <code>n=n&gt;&gt;1</code>ï¼‰ã€‚è¦æ£€ç´¢æ•´æ•°çš„æœ€å³è¾¹çš„ä½ï¼Œæˆ‘ä»¬åº”ç”¨ä¸è¿ç®—ï¼ˆ<code>n&amp;1</code>ï¼‰ã€‚</li><li>å¯¹äºæ¯ä¸ªä½ï¼Œæˆ‘ä»¬å°†å…¶åè½¬åˆ°æ­£ç¡®çš„ä½ç½®ï¼ˆå³<code>ï¼ˆn&amp;1ï¼‰&lt;&lt;power</code>ï¼‰ã€‚ç„¶åæ·»åŠ åˆ°æœ€ç»ˆç»“æœã€‚</li><li>å½“ <code>n==0</code> æ—¶ï¼Œæˆ‘ä»¬ç»ˆæ­¢è¿­ä»£ã€‚</li></ul><details>    <summary>é€ä½é¢ å€’Java</summary><figure class="highlight java"><figcaption><span>[solution1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">// you need treat n as an unsigned value</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">reverseBits</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">32</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// 1. å°†ç»™å®šçš„äºŒè¿›åˆ¶æ•°,ç”±ä½åˆ°é«˜ä½é€ä¸ªå–å‡º</span></span><br><span class="line">            <span class="comment">// 1.1 å³ç§» i ä½,</span></span><br><span class="line">            <span class="keyword">int</span> tmp = n &gt;&gt; i;</span><br><span class="line">            <span class="comment">// 1.2  å–æœ‰æ•ˆä½</span></span><br><span class="line">            tmp = tmp &amp; <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// 2. ç„¶åé€šè¿‡ä½è¿ç®—å°†å…¶æ”¾ç½®åˆ°åè½¬åçš„ä½ç½®.</span></span><br><span class="line">            tmp = tmp &lt;&lt; (<span class="number">31</span> - i);</span><br><span class="line">            <span class="comment">// 3. å°†ä¸Šè¿°ç»“æœå†æ¬¡é€šè¿‡è¿ç®—ç»“åˆåˆ°ä¸€èµ·</span></span><br><span class="line">            result |= tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€ä½é¢ å€’Python</summary><figure class="highlight python"><figcaption><span>[solution1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># @param n, an integer</span></span><br><span class="line">    <span class="comment"># @return an integer</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseBits</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        ret, power = <span class="number">0</span>, <span class="number">31</span></span><br><span class="line">        <span class="keyword">while</span> n:</span><br><span class="line">            ret += (n &amp; <span class="number">1</span>) &lt;&lt; power</span><br><span class="line">            n = n &gt;&gt; <span class="number">1</span></span><br><span class="line">            power -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure></details><details>    <summary>é€ä½é¢ å€’C++</summary><figure class="highlight c++"><figcaption><span>[solution1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">  <span class="keyword">uint32_t</span> reverseBits(<span class="keyword">uint32_t</span> n) &#123;</span><br><span class="line">    <span class="keyword">uint32_t</span> ret = <span class="number">0</span>, power = <span class="number">31</span>;</span><br><span class="line">    <span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">      ret += (n &amp; <span class="number">1</span>) &lt;&lt; power;</span><br><span class="line">      n = n &gt;&gt; <span class="number">1</span>;</span><br><span class="line">      power -= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€ä½é¢ å€’Go</summary><figure class="highlight go"><figcaption><span>[solution1-Go]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseBits</span><span class="params">(num <span class="keyword">uint32</span>)</span> <span class="title">uint32</span></span> &#123;</span><br><span class="line">    ret := <span class="keyword">uint32</span>(<span class="number">0</span>)</span><br><span class="line">    power := <span class="keyword">uint32</span>(<span class="number">31</span>)</span><br><span class="line">    <span class="keyword">for</span> num != <span class="number">0</span> &#123;</span><br><span class="line">        ret += (num &amp; <span class="number">1</span>) &lt;&lt; power</span><br><span class="line">        num = num &gt;&gt; <span class="number">1</span></span><br><span class="line">        power -= <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li>æ—¶é—´å¤æ‚åº¦ï¼šlog_2(N) ã€‚åœ¨ç®—æ³•ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå¾ªç¯æ¥è¿­ä»£è¾“å…¥çš„æœ€é«˜éé›¶ä½ï¼Œå³log_2(N)  ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(1) ï¼Œå› ä¸ºä¸ç®¡è¾“å…¥æ˜¯ä»€ä¹ˆï¼Œå†…å­˜çš„æ¶ˆè€—æ˜¯å›ºå®šçš„ã€‚</li></ul><h1 id="æ–¹æ³•äºŒï¼šå¸¦è®°å¿†åŒ–çš„æŒ‰å­—èŠ‚é¢ å€’"><a href="#æ–¹æ³•äºŒï¼šå¸¦è®°å¿†åŒ–çš„æŒ‰å­—èŠ‚é¢ å€’" class="headerlink" title="æ–¹æ³•äºŒï¼šå¸¦è®°å¿†åŒ–çš„æŒ‰å­—èŠ‚é¢ å€’"></a>æ–¹æ³•äºŒï¼šå¸¦è®°å¿†åŒ–çš„æŒ‰å­—èŠ‚é¢ å€’</h1><p>æœ‰äººå¯èƒ½ä¼šè¯´ï¼Œæ¯å­—èŠ‚ï¼ˆ8 ä½çš„æ¯”ç‰¹ä½ï¼‰åè½¬å¯èƒ½æ›´æœ‰æ•ˆã€‚ç”±äºè¯¥é¢˜çš„è¾“å…¥æ˜¯å›ºå®šçš„ 32 ä½æ•´æ•°ï¼Œæ‰€ä»¥åœ¨æœ¬é¢˜ä¸­ä¸ä¸€å®šæ˜¯è¿™æ ·çš„ã€‚ä½†æ˜¯åœ¨å¤„ç†é•¿å­—èŠ‚æµæ—¶ï¼Œå®ƒä¼šå˜å¾—æ›´æœ‰æ•ˆã€‚</p><p><a href="https://pic.leetcode-cn.com/365599a4030d26a019d37ad97c201e64e2fa3ae9fd7b43d689e8a4d7f802141e-file_1585801736122" target="_blank" rel="noopener">å¸¦è®°å¿†åŒ–çš„æŒ‰å­—èŠ‚é¢ å€’</a></p><p>ä½¿ç”¨å­—èŠ‚ä½œä¸ºè¿­ä»£å•ä½çš„å¦ä¸€ä¸ªéšå«ä¼˜ç‚¹æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è®°å¿†åŒ–æŠ€æœ¯ï¼Œå¯ä»¥ç¼“å­˜å…ˆå‰è®¡ç®—çš„å€¼ï¼Œä»¥é¿å…é‡æ–°è®¡ç®—ã€‚</p><p>è®°å¿†åŒ–çš„åç»­é—®é¢˜æ˜¯ï¼šå¦‚æœè¯¥å‡½æ•°å¤šæ¬¡è¢«è°ƒç”¨ï¼Œä½ è¯¥å¦‚ä½•ä¼˜åŒ–ã€‚</p><p>è‹¥è¦æŒ‰è‡ªå·±ä¸ºå•ä½åè½¬ä½ï¼Œå¯ä»¥åº”ç”¨ä¸Šè¿°æ‰€ç¤ºçš„ç®—æ³•ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å±•ç¤ºä¸€ç§å®Œå…¨åŸºäºç®—æœ¯å’Œä½æ“ä½œï¼Œä¸åŸºäºä»»ä½•å¾ªç¯è¯­å¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight python"><figcaption><span>[example-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverseByte</span><span class="params">(byte)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> (byte * <span class="number">0x0202020202</span> &amp; <span class="number">0x010884422010</span>) % <span class="number">1023</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç®—æ³•ä¸ºç”¨ 3 ä¸ªæ“ä½œåè½¬ä¸€ä¸ªå­—èŠ‚ä¸­çš„ä½ï¼Œåœ¨ Sean Eron Anderson çš„åœ¨çº¿ç”µå­ä¹¦ Bit Twiddling Hacks ä¸­å¯ä»¥çœ‹åˆ°æ›´å¤šçš„ç»†èŠ‚ã€‚</p><p><strong>ç®—æ³•ï¼š</strong></p><ul><li>æˆ‘ä»¬æŒ‰å­—èŠ‚éå†æ•´æ•°ã€‚ä¸ºäº†æ£€ç´¢æ•´æ•°ä¸­æœ€å³è¾¹çš„å­—èŠ‚ï¼Œæˆ‘ä»¬åº”ç”¨ä½æ©ç ä¸º <code>11111111</code> çš„ä¸æ“ä½œï¼ˆå³ <code>n&amp;0xff</code>ï¼‰ã€‚</li><li>å¯¹äºæ¯ä¸ªå­—èŠ‚ï¼Œé¦–å…ˆæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªåä¸º <code>reverseByte(byte)</code> çš„å‡½æ•°æ¥åè½¬å­—èŠ‚ä¸­çš„ä½ã€‚ç„¶åå°†åè½¬çš„ç»“æœæ·»åŠ åˆ°ç­”æ¡ˆä¸­ã€‚</li><li>å¯¹äºå‡½æ•° <code>reverseByte(byte)</code>ï¼Œæˆ‘ä»¬ä½¿ç”¨è®°å¿†åŒ–æŠ€æœ¯ï¼Œå®ƒç¼“å­˜å‡½æ•°çš„ç»“æœå¹¶ç›´æ¥è¿”å›ç»“æœï¼Œä»¥ä¾¿å°†æ¥é‡åˆ°ç›¸åŒçš„è¾“å…¥ã€‚</li></ul><p>æ³¨æ„ï¼Œå¯ä»¥é€‰æ‹©æ›´å°çš„å•ä½è€Œä¸æ˜¯å­—èŠ‚ï¼Œä¾‹å¦‚ 4 ä½çš„å•ä½ï¼Œè¿™å°†éœ€è¦æ›´å¤šçš„è®¡ç®—æ¥äº¤æ¢æ›´å°‘çš„ç¼“å­˜ç©ºé—´ã€‚è®°å¿†åŒ–æŠ€æœ¯æ˜¯ç©ºé—´å’Œè®¡ç®—æ—¶é—´ä¹‹é—´çš„æƒè¡¡ã€‚</p><details>    <summary>å¸¦è®°å¿†åŒ–çš„æŒ‰å­—èŠ‚é¢ å€’Python</summary><figure class="highlight python"><figcaption><span>[solution21-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># @param n, an integer</span></span><br><span class="line">    <span class="comment"># @return an integer</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseBits</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        ret, power = <span class="number">0</span>, <span class="number">24</span></span><br><span class="line">        cache = dict()</span><br><span class="line">        <span class="keyword">while</span> n:</span><br><span class="line">            ret += self.reverseByte(n &amp; <span class="number">0xff</span>, cache) &lt;&lt; power</span><br><span class="line">            n = n &gt;&gt; <span class="number">8</span></span><br><span class="line">            power -= <span class="number">8</span></span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseByte</span><span class="params">(self, byte, cache)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> byte <span class="keyword">not</span> <span class="keyword">in</span> cache:</span><br><span class="line">            cache[byte] = (byte * <span class="number">0x0202020202</span> &amp; <span class="number">0x010884422010</span>) % <span class="number">1023</span> </span><br><span class="line">        <span class="keyword">return</span> cache[byte]</span><br></pre></td></tr></table></figure></details><details>    <summary>å¸¦è®°å¿†åŒ–çš„æŒ‰å­—èŠ‚é¢ å€’Python</summary><figure class="highlight python"><figcaption><span>[solution21-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> functools</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># @param n, an integer</span></span><br><span class="line">    <span class="comment"># @return an integer</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseBits</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        ret, power = <span class="number">0</span>, <span class="number">24</span></span><br><span class="line">        <span class="keyword">while</span> n:</span><br><span class="line">            ret += self.reverseByte(n &amp; <span class="number">0xff</span>) &lt;&lt; power</span><br><span class="line">            n = n &gt;&gt; <span class="number">8</span></span><br><span class="line">            power -= <span class="number">8</span></span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line"></span><br><span class="line">    <span class="comment"># memoization with decorator</span></span><br><span class="line"><span class="meta">    @functools.lru_cache(maxsize=256)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseByte</span><span class="params">(self, byte)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> (byte * <span class="number">0x0202020202</span> &amp; <span class="number">0x010884422010</span>) % <span class="number">1023</span></span><br></pre></td></tr></table></figure></details><details>    <summary>å¸¦è®°å¿†åŒ–çš„æŒ‰å­—èŠ‚é¢ å€’C++</summary><figure class="highlight c++"><figcaption><span>[solution21-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">uint32_t</span> reverseByte(<span class="keyword">uint32_t</span> byte, <span class="built_in">map</span>&lt;<span class="keyword">uint32_t</span>, <span class="keyword">uint32_t</span>&gt; cache) &#123;</span><br><span class="line">        <span class="keyword">if</span> (cache.find(byte) != cache.end()) &#123;</span><br><span class="line">            <span class="keyword">return</span> cache[byte];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">uint32_t</span> value = (byte * <span class="number">0x0202020202</span> &amp; <span class="number">0x010884422010</span>) % <span class="number">1023</span>;</span><br><span class="line">        cache.emplace(byte, value);</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">uint32_t</span> reverseBits(<span class="keyword">uint32_t</span> n) &#123;</span><br><span class="line">        <span class="keyword">uint32_t</span> ret = <span class="number">0</span>, power = <span class="number">24</span>;</span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="keyword">uint32_t</span>, <span class="keyword">uint32_t</span>&gt; cache;</span><br><span class="line">        <span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">            ret += reverseByte(n &amp; <span class="number">0xff</span>, cache) &lt;&lt; power;</span><br><span class="line">            n = n &gt;&gt; <span class="number">8</span>;</span><br><span class="line">            power -= <span class="number">8</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¸¦è®°å¿†åŒ–çš„æŒ‰å­—èŠ‚é¢ å€’Go</summary><figure class="highlight go"><figcaption><span>[solution21-Go]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseByte</span><span class="params">(b <span class="keyword">uint32</span>, cache <span class="keyword">map</span>[<span class="keyword">uint32</span>]<span class="keyword">uint64</span>)</span> <span class="title">uint64</span></span> &#123;</span><br><span class="line">    value, ok := cache[b]</span><br><span class="line">    <span class="keyword">if</span> ok &#123;</span><br><span class="line">        <span class="keyword">return</span> value</span><br><span class="line">    &#125;</span><br><span class="line">    value = (<span class="keyword">uint64</span>(b) * <span class="number">0x0202020202</span> &amp; <span class="number">0x010884422010</span>) % <span class="number">1023</span></span><br><span class="line">    cache[b] = value</span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseBits</span><span class="params">(num <span class="keyword">uint32</span>)</span> <span class="title">uint32</span></span> &#123;</span><br><span class="line">    ret := <span class="keyword">uint64</span>(<span class="number">0</span>)</span><br><span class="line">    power := <span class="keyword">uint64</span>(<span class="number">24</span>)</span><br><span class="line">    <span class="keyword">var</span> cache = <span class="keyword">map</span>[<span class="keyword">uint32</span>]<span class="keyword">uint64</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> num != <span class="number">0</span> &#123;</span><br><span class="line">        ret += reverseByte(num &amp; <span class="number">0xff</span>, cache) &lt;&lt; power</span><br><span class="line">        num = num &gt;&gt; <span class="number">8</span></span><br><span class="line">        power -= <span class="number">8</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">uint32</span>(ret)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(1) ã€‚å°½ç®¡æˆ‘ä»¬åœ¨ç®—æ³•ä¸­æœ‰ä¸€ä¸ªå¾ªç¯ï¼Œä½†æ˜¯æ— è®ºè¾“å…¥æ˜¯ä»€ä¹ˆï¼Œè¿­ä»£æ¬¡æ•°éƒ½æ˜¯å›ºå®šçš„ï¼Œå› ä¸ºåœ¨æˆ‘ä»¬çš„é—®é¢˜ä¸­æ•´æ•°æ˜¯å›ºå®šå¤§å°ï¼ˆ32 ä½ï¼‰çš„ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(1) ï¼ŒåŒæ ·ï¼Œå°½ç®¡æˆ‘ä»¬ä½¿ç”¨äº†ç¼“å­˜æ¥ä¿ç•™åè½¬å­—èŠ‚çš„ç»“æœï¼Œä½†ç¼“å­˜ä¸­çš„å¤§å°æ€»æ•°é™åˆ¶ä¸º <em>2^8=256</em>ã€‚</li></ul><h1 id="æ–¹æ³•ä¸‰ï¼š"><a href="#æ–¹æ³•ä¸‰ï¼š" class="headerlink" title="æ–¹æ³•ä¸‰ï¼š"></a>æ–¹æ³•ä¸‰ï¼š</h1><p>åœ¨æ–¹æ³• 2 ä¸­ï¼Œæˆ‘ä»¬å±•ç¤ºäº†ä¸€ä¸ªå…³äºå¦‚ä½•åœ¨ä¸ä½¿ç”¨å¾ªç¯è¯­å¥çš„æƒ…å†µä¸‹åè½¬å­—èŠ‚ä¸­çš„ä½çš„ç¤ºä¾‹ã€‚</p><p><strong>åœ¨é¢è¯•è¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½ä¼šè¢«è¦æ±‚åœ¨ä¸ä½¿ç”¨å¾ªç¯çš„æƒ…å†µä¸‹åè½¬æ•´ä¸ª 32 ä½ã€‚</strong> </p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§åªä½¿ç”¨ä½æ“ä½œçš„è§£å†³æ–¹æ¡ˆã€‚</p><p>è¿™ç§æ€æƒ³å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§åˆ†æ²»çš„ç­–ç•¥ï¼Œæˆ‘ä»¬é€šè¿‡æ©ç å°† 32 ä½æ•´æ•°åˆ’åˆ†æˆå…·æœ‰è¾ƒå°‘ä½çš„å—ï¼Œç„¶åé€šè¿‡å°†æ¯ä¸ªå—åè½¬ï¼Œæœ€åå°†æ¯ä¸ªå—çš„ç»“æœåˆå¹¶å¾—åˆ°æœ€ç»ˆç»“æœã€‚</p><p>åœ¨ä¸‹å›¾ä¸­ï¼Œæˆ‘ä»¬æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ä¸Šè¿°æ€æƒ³åè½¬ä¸¤ä¸ªä½ã€‚åŒæ ·çš„ï¼Œè¿™ä¸ªæƒ³æ³•å¯ä»¥åº”ç”¨åˆ°æ¯”ç‰¹å—ä¸Šã€‚</p><p><a href="https://pic.leetcode-cn.com/c57a82424197ba1f4091a67cc4a6c575b35dcc0bf9d077415838d3b22d4b1ff3-file_1585801736118" target="_blank" rel="noopener">ä¸ä½¿ç”¨å¾ªç¯è¯­å¥çš„æƒ…å†µä¸‹åè½¬å­—èŠ‚ä¸­çš„ä½</a></p><p><strong>ç®—æ³•ï¼š</strong></p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®ç°è¯¥ç®—æ³•ï¼š</p><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬å°†åŸæ¥çš„ 32 ä½åˆ†ä¸º 2 ä¸ª 16 ä½çš„å—ã€‚</li><li>ç„¶åæˆ‘ä»¬å°† 16 ä½å—åˆ†æˆ 2 ä¸ª 8 ä½çš„å—ã€‚</li><li>ç„¶åæˆ‘ä»¬ç»§ç»­å°†è¿™äº›å—åˆ†æˆæ›´å°çš„å—ï¼Œç›´åˆ°è¾¾åˆ° 1 ä½çš„å—ã€‚</li><li>åœ¨ä¸Šè¿°æ¯ä¸ªæ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬å°†ä¸­é—´ç»“æœåˆå¹¶ä¸ºä¸€ä¸ªæ•´æ•°ï¼Œä½œä¸ºä¸‹ä¸€æ­¥çš„è¾“å…¥ã€‚</li></ul><p>æ—¢ç„¶çŸ¥é“ int å€¼ä¸€å…±32ä½ï¼Œé‚£ä¹ˆå¯ä»¥é‡‡ç”¨åˆ†æ²»æ€æƒ³ï¼Œåè½¬å·¦å³16ä½ï¼Œç„¶ååè½¬æ¯ä¸ª16ä½ä¸­çš„å·¦å³8ä½ï¼Œä¾æ¬¡ç±»æ¨ï¼Œæœ€ååè½¬2ä½ï¼Œåè½¬ååˆå¹¶å³å¯ï¼ŒåŒæ—¶å¯ä»¥åˆ©ç”¨ä½è¿ç®—åœ¨åŸåœ°åè½¬ã€‚JDKä¸­çš„Integer.bitCount()å‡½æ•°ä¹Ÿæ˜¯ä½¿ç”¨ç±»ä¼¼çš„æ–¹æ³•ã€‚</p><p>è¿™ä¹ˆè¯´æ¯”è¾ƒæŠ½è±¡ï¼Œå¯ä»¥ç›´æ¥ç»“åˆä»£ç çœ‹ä¸‹é¢çš„æ­¥éª¤ï¼Œä¹Ÿå¯ä»¥æ‹¿ä»£ç åœ¨IDEä¸­debugä¸€ä¸‹ï¼Œçœ‹æ¯ä¸€æ­¥éƒ½åšäº†ä»€ä¹ˆ</p><ol><li>é¦–å…ˆéšä¾¿æ‰¾ä¸€ä¸ªæ•° (ä¸ºäº†çœ‹çš„æ¸…æ¥šç”¨_ä½œåˆ†éš”ï¼Œå¯ä»¥å¿½ç•¥)</li></ol><pre><code>åè¿›åˆ¶43261596;   // 0000 â€­0010 1001 0100 _ 0001 1110 1001 1100â€¬</code></pre><ol start="2"><li>å·¦è¾¹16ä½ç§»åˆ°å³è¾¹ï¼Œå³è¾¹16ä½ç§»åˆ°å·¦è¾¹ï¼Œç„¶åä½¿ç”¨|ç¬¦å·åˆå¹¶èµ·æ¥</li></ol><pre><code>Javaä¸­çš„æ— ç¬¦å·ä½ç§» &gt;&gt;&gt;ï¼šæ— è®ºæ˜¯æ­£æ•°è¿˜æ˜¯è´Ÿæ•°ï¼Œé«˜ä½é€šé€šè¡¥0ã€‚&gt;&gt;ï¼šå¸¦ç¬¦å·å³ç§»ã€‚æ­£æ•°å³ç§»é«˜ä½è¡¥0ï¼Œè´Ÿæ•°å³ç§»é«˜ä½è¡¥1ã€‚|ï¼šæŒ‰ä½æˆ–é€»è¾‘ï¼Œè¯¥ä½åªè¦æœ‰ä¸€ä½ä¸º1ï¼Œç»“æœå°±ä¸º1ï¼Œè¿™é‡Œç”¨æ¥åˆå¹¶</code></pre><ol start="3"><li>ä½¿ç”¨ä¸€äº›æœ‰è§„å¾‹çš„æ•°ï¼Œå°†16ä½ï¼Œå†åˆ†æˆå·¦å³8ä½è¿›è¡Œåè½¬ååˆå¹¶ï¼Œèµ·å§‹æ•°å­—å˜ä¸ºâ€­0001 1110 1001 1100 _ 0000 0010 1001 0100â€¬</li></ol><pre><code>0xff00ff00 è¡¨ç¤º16è¿›åˆ¶æ•°1111 1111 0000 0000 _ 1111 1111 0000 0000 ï¼Œ0x00ff00ff è¡¨ç¤º16è¿›åˆ¶æ•°0000 0000 1111 1111 _ 0000 0000 1111 1111ï¼Œ</code></pre><ol start="4"><li><p>é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œåˆ†ç»„ã€åˆå¹¶ï¼Œæœ€åå¾—åˆ°åè½¬åçš„ç»“æœã€‚</p></li><li><p>æ€»ç»“æ¥è¯´å°±æ˜¯åˆ©ç”¨ä½è¿ç®—è¿›è¡Œåè½¬ï¼ŒåŒæ—¶å­˜å‚¨åè½¬åçš„æ•°ï¼Œç»§ç»­åˆ†æ²»è¿›è¡Œåè½¬ï¼Œç›´åˆ°å…¨éƒ¨åè½¬å®Œæˆï¼Œå˜åŒ–è¿‡ç¨‹ä¸ºï¼š</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// åŸæ•°å­—43261596</span><br><span class="line"> 0000 â€­0010 1001 0100 _ 0001 1110 1001 1100â€¬ </span><br><span class="line">// åè½¬å·¦å³16ä½ï¼š</span><br><span class="line">â€­ 0001 1110 1001 1100 _ 0000 0010 1001 0100â€¬ </span><br><span class="line">// ç»§ç»­åˆ†ä¸º8ä½ä¸€ç»„åè½¬ï¼š</span><br><span class="line"> 1001 1100 0001 1110 _ 1001 0100 0000 0010</span><br><span class="line">// 4ä½ä¸€ç»„åè½¬ï¼š</span><br><span class="line"> 1100 1001 1110 0001 _ 0100 1001 0010 0000â€¬</span><br><span class="line">// 2ä½ä¸€ç»„åè½¬ï¼š</span><br><span class="line"> 0011 0110 1011 0100 _ 0001 0110 1000 0000</span><br><span class="line">// æ¯ä¸¤ä½å†åè½¬ä¸€ä¸‹</span><br><span class="line">â€­ 0011 1001 0111 1000 _ 0010 1001 0100 0000â€¬â€¬</span><br><span class="line">// è¿™å°±æ˜¯43261596åè½¬åçš„ç»“æœï¼šâ€­964176192â€¬</span><br></pre></td></tr></table></figure><details>    <summary>ä¸ä½¿ç”¨å¾ªç¯è¯­å¥çš„æƒ…å†µä¸‹åè½¬å­—èŠ‚ä¸­çš„ä½Java</summary><figure class="highlight java"><figcaption><span>[solution3-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">// you need treat n as an unsigned value</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">reverseBits</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        n = (n &gt;&gt;&gt; <span class="number">16</span>) | (n &lt;&lt; <span class="number">16</span>); </span><br><span class="line">        n = ((n &amp; <span class="number">0xff00ff00</span>) &gt;&gt;&gt; <span class="number">8</span>) | ((n &amp; <span class="number">0x00ff00ff</span>) &lt;&lt; <span class="number">8</span>); </span><br><span class="line">        n = ((n &amp; <span class="number">0xf0f0f0f0</span>) &gt;&gt;&gt; <span class="number">4</span>) | ((n &amp; <span class="number">0x0f0f0f0f</span>) &lt;&lt; <span class="number">4</span>); </span><br><span class="line">        n = ((n &amp; <span class="number">0xcccccccc</span>) &gt;&gt;&gt; <span class="number">2</span>) | ((n &amp; <span class="number">0x33333333</span>) &lt;&lt; <span class="number">2</span>); </span><br><span class="line">        n = ((n &amp; <span class="number">0xaaaaaaaa</span>) &gt;&gt;&gt; <span class="number">1</span>) | ((n &amp; <span class="number">0x55555555</span>) &lt;&lt; <span class="number">1</span>); </span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ä¸ä½¿ç”¨å¾ªç¯è¯­å¥çš„æƒ…å†µä¸‹åè½¬å­—èŠ‚ä¸­çš„ä½Python</summary><figure class="highlight python"><figcaption><span>[solution3-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># @param n, an integer</span></span><br><span class="line">    <span class="comment"># @return an integer</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseBits</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        n = (n &gt;&gt; <span class="number">16</span>) | (n &lt;&lt; <span class="number">16</span>)</span><br><span class="line">        n = ((n &amp; <span class="number">0xff00ff00</span>) &gt;&gt; <span class="number">8</span>) | ((n &amp; <span class="number">0x00ff00ff</span>) &lt;&lt; <span class="number">8</span>)</span><br><span class="line">        n = ((n &amp; <span class="number">0xf0f0f0f0</span>) &gt;&gt; <span class="number">4</span>) | ((n &amp; <span class="number">0x0f0f0f0f</span>) &lt;&lt; <span class="number">4</span>)</span><br><span class="line">        n = ((n &amp; <span class="number">0xcccccccc</span>) &gt;&gt; <span class="number">2</span>) | ((n &amp; <span class="number">0x33333333</span>) &lt;&lt; <span class="number">2</span>)</span><br><span class="line">        n = ((n &amp; <span class="number">0xaaaaaaaa</span>) &gt;&gt; <span class="number">1</span>) | ((n &amp; <span class="number">0x55555555</span>) &lt;&lt; <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> n</span><br></pre></td></tr></table></figure></details><details>    <summary>ä¸ä½¿ç”¨å¾ªç¯è¯­å¥çš„æƒ…å†µä¸‹åè½¬å­—èŠ‚ä¸­çš„ä½C++</summary><figure class="highlight c++"><figcaption><span>[solution3-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">uint32_t</span> reverseBits(<span class="keyword">uint32_t</span> n) &#123;</span><br><span class="line">        n = (n &gt;&gt; <span class="number">16</span>) | (n &lt;&lt; <span class="number">16</span>);</span><br><span class="line">        n = ((n &amp; <span class="number">0xff00ff00</span>) &gt;&gt; <span class="number">8</span>) | ((n &amp; <span class="number">0x00ff00ff</span>) &lt;&lt; <span class="number">8</span>);</span><br><span class="line">        n = ((n &amp; <span class="number">0xf0f0f0f0</span>) &gt;&gt; <span class="number">4</span>) | ((n &amp; <span class="number">0x0f0f0f0f</span>) &lt;&lt; <span class="number">4</span>);</span><br><span class="line">        n = ((n &amp; <span class="number">0xcccccccc</span>) &gt;&gt; <span class="number">2</span>) | ((n &amp; <span class="number">0x33333333</span>) &lt;&lt; <span class="number">2</span>);</span><br><span class="line">        n = ((n &amp; <span class="number">0xaaaaaaaa</span>) &gt;&gt; <span class="number">1</span>) | ((n &amp; <span class="number">0x55555555</span>) &lt;&lt; <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>ä¸ä½¿ç”¨å¾ªç¯è¯­å¥çš„æƒ…å†µä¸‹åè½¬å­—èŠ‚ä¸­çš„ä½Go</summary><figure class="highlight go"><figcaption><span>[solution3-Go]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseBits</span><span class="params">(num <span class="keyword">uint32</span>)</span> <span class="title">uint32</span></span> &#123;</span><br><span class="line">    num = (num &gt;&gt; <span class="number">16</span>) | (num &lt;&lt; <span class="number">16</span>)</span><br><span class="line">    num = ((num &amp; <span class="number">0xff00ff</span>00) &gt;&gt; <span class="number">8</span>) | ((num &amp; <span class="number">0x00ff00ff</span>) &lt;&lt; <span class="number">8</span>)</span><br><span class="line">    num = ((num &amp; <span class="number">0xf0f0f0f</span>0) &gt;&gt; <span class="number">4</span>) | ((num &amp; <span class="number">0x0f0f0f0f</span>) &lt;&lt; <span class="number">4</span>)</span><br><span class="line">    num = ((num &amp; <span class="number">0xcccccccc</span>) &gt;&gt; <span class="number">2</span>) | ((num &amp; <span class="number">0x33333333</span>) &lt;&lt; <span class="number">2</span>)</span><br><span class="line">    num = ((num &amp; <span class="number">0xaaaaaaaa</span>) &gt;&gt; <span class="number">1</span>) | ((num &amp; <span class="number">0x55555555</span>) &lt;&lt; <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> num</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(1) ï¼Œæ²¡æœ‰ä½¿ç”¨å¾ªç¯ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(1) ï¼Œæ²¡æœ‰ä½¿ç”¨å˜é‡ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é¢ å€’ç»™å®šçš„ 32 ä½æ— ç¬¦å·æ•´æ•°çš„äºŒè¿›åˆ¶ä½ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
  </entry>
  
  <entry>
    <title>166. åˆ†æ•°åˆ°å°æ•°</title>
    <link href="http://yoursite.com/2020/09/18/166.%20%E5%88%86%E6%95%B0%E5%88%B0%E5%B0%8F%E6%95%B0/"/>
    <id>http://yoursite.com/2020/09/18/166. åˆ†æ•°åˆ°å°æ•°/</id>
    <published>2020-09-18T09:27:12.000Z</published>
    <updated>2020-09-27T07:22:11.464Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸¤ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºåˆ†æ•°çš„åˆ†å­numeratorå’Œåˆ†æ¯denominatorï¼Œä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›å°æ•°ã€‚</p><a id="more"></a><p>å¦‚æœå°æ•°éƒ¨åˆ†ä¸ºå¾ªç¯å°æ•°ï¼Œåˆ™å°†å¾ªç¯çš„éƒ¨åˆ†æ‹¬åœ¨æ‹¬å·å†…ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: numerator = 1, denominator = 2è¾“å‡º: &quot;0.5&quot;</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: numerator = 2, denominator = 1è¾“å‡º: &quot;2&quot;</code></pre><p>ç¤ºä¾‹ 3:</p><pre><code>è¾“å…¥: numerator = 2, denominator = 3è¾“å‡º: &quot;0.(6)&quot;</code></pre><h1 id="æ¦‚è¦"><a href="#æ¦‚è¦" class="headerlink" title="æ¦‚è¦"></a>æ¦‚è¦</h1><p>è¿™æ˜¯ä¸€é“éå¸¸ç›´è§‚çš„ä»£ç é¢˜ï¼Œä½†éœ€è¦è€ƒè™‘å¾ˆå¤šç»†èŠ‚ã€‚</p><h1 id="è¦ç‚¹"><a href="#è¦ç‚¹" class="headerlink" title="è¦ç‚¹"></a>è¦ç‚¹</h1><ol><li>ä¸éœ€è¦å¤æ‚çš„æ•°å­¦çŸ¥è¯†ï¼Œåªéœ€è¦æ•°å­¦çš„åŸºæœ¬çŸ¥è¯†ã€‚äº†è§£é•¿é™¤æ³•çš„è¿ç®—è§„åˆ™ã€‚</li><li>ä½¿ç”¨é•¿é™¤æ³•è®¡ç®— 4/9 ï¼Œå¾ªç¯èŠ‚å¾ˆæ˜¾ç„¶å°±ä¼šæ‰¾åˆ°ã€‚é‚£ä¹ˆè®¡ç®— 4/333 å‘¢ï¼Œèƒ½æ‰¾åˆ°è§„å¾‹å—ï¼Ÿ</li><li>æ³¨æ„è¾¹ç•Œæƒ…å†µï¼åˆ—å‡ºæ‰€æœ‰ä½ å¯ä»¥æƒ³åˆ°çš„æµ‹è¯•æ•°æ®å¹¶éªŒè¯ä½ çš„ä»£ç ã€‚</li></ol><h1 id="æ–¹æ³•ï¼šé•¿é™¤æ³•"><a href="#æ–¹æ³•ï¼šé•¿é™¤æ³•" class="headerlink" title="æ–¹æ³•ï¼šé•¿é™¤æ³•"></a>æ–¹æ³•ï¼šé•¿é™¤æ³•</h1><p><strong>æ€è·¯</strong></p><p>æ ¸å¿ƒæ€æƒ³æ˜¯å½“ä½™æ•°å‡ºç°å¾ªç¯çš„æ—¶å€™ï¼Œå¯¹åº”çš„å•†ä¹Ÿä¼šå¾ªç¯ã€‚å‚è§<a href="https://leetcode-cn.com/problems/fraction-to-recurring-decimal/solution/fen-shu-dao-xiao-shu-by-leetcode/" target="_blank" rel="noopener">^1</a></p><p><strong>ç®—æ³•</strong></p><p>éœ€è¦ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨è®°å½•ä½™æ•°å‡ºç°åœ¨å°æ•°éƒ¨åˆ†çš„ä½ç½®ï¼Œå½“ä½ å‘ç°å·²ç»å‡ºç°çš„ä½™æ•°ï¼Œå°±å¯ä»¥å°†é‡å¤å‡ºç°çš„å°æ•°éƒ¨åˆ†ç”¨æ‹¬å·æ‹¬èµ·æ¥ã€‚</p><p>å†å‡ºå‘è¿‡ç¨‹ä¸­ä½™æ•°å¯èƒ½ä¸º 0ï¼Œæ„å‘³ç€ä¸ä¼šå‡ºç°å¾ªç¯å°æ•°ï¼Œç«‹åˆ»åœæ­¢ç¨‹åºã€‚</p><p>å°±åƒ <a href="(https://leetcode-cn.com/problems/divide-two-integers/)">ä¸¤æ•°ç›¸é™¤</a> é—®é¢˜ä¸€æ ·ï¼Œè¦è€ƒè™‘è´Ÿåˆ†æ•°ä»¥åŠæç«¯æƒ…å†µï¼Œæ¯”å¦‚è¯´-2147483648/-1  ã€‚</p><p>ä¸‹é¢åˆ—å‡ºäº†ä¸€äº›å¾ˆå¥½çš„æµ‹è¯•æ ·ä¾‹ï¼š</p><table><thead><tr><th>æµ‹è¯•æ ·ä¾‹</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>0/1</td><td>è¢«é™¤æ•°ä¸º 0ã€‚</td></tr><tr><td>1/0</td><td>é™¤æ•°ä¸º 0ï¼Œåº”å½“æŠ›å‡ºå¼‚å¸¸ï¼Œè¿™é‡Œä¸ºäº†ç®€å•èµ·è§ä¸è€ƒè™‘ã€‚</td></tr><tr><td>20/4</td><td>ç­”æ¡ˆæ˜¯æ•´æ•°ï¼Œä¸åŒ…æ‹¬å°æ•°éƒ¨åˆ†ã€‚</td></tr><tr><td>1/2</td><td>ç­”æ¡ˆæ˜¯ 0.5ï¼Œæ˜¯æœ‰é™å°æ•°ã€‚</td></tr><tr><td>-1/4 or 1/-4</td><td>é™¤æ•°è¢«é™¤æ•°æœ‰ä¸€ä¸ªä¸ºè´Ÿæ•°ï¼Œç»“æœä¸ºè´Ÿæ•°ã€‚</td></tr><tr><td>-1/-4</td><td>é™¤æ•°å’Œè¢«é™¤æ•°éƒ½æ˜¯è´Ÿæ•°ï¼Œç»“æœä¸ºæ­£æ•°ã€‚</td></tr><tr><td>-2147483648/-1</td><td>è½¬æˆæ•´æ•°æ—¶æ³¨æ„å¯èƒ½æº¢å‡ºã€‚</td></tr></tbody></table><details>    <summary>é•¿é™¤æ³•</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">fractionToDecimal</span><span class="params">(<span class="keyword">int</span> numerator, <span class="keyword">int</span> denominator)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (numerator == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    StringBuilder fraction = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="comment">// If either one is negative (not both)</span></span><br><span class="line">    <span class="keyword">if</span> (numerator &lt; <span class="number">0</span> ^ denominator &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        fraction.append(<span class="string">"-"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Convert to Long or else abs(-2147483648) overflows</span></span><br><span class="line">    <span class="keyword">long</span> dividend = Math.abs(Long.valueOf(numerator));</span><br><span class="line">    <span class="keyword">long</span> divisor = Math.abs(Long.valueOf(denominator));</span><br><span class="line">    fraction.append(String.valueOf(dividend / divisor));</span><br><span class="line">    <span class="keyword">long</span> remainder = dividend % divisor;</span><br><span class="line">    <span class="keyword">if</span> (remainder == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> fraction.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    fraction.append(<span class="string">"."</span>);</span><br><span class="line">    Map&lt;Long, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span> (remainder != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (map.containsKey(remainder)) &#123;</span><br><span class="line">            fraction.insert(map.get(remainder), <span class="string">"("</span>);</span><br><span class="line">            fraction.append(<span class="string">")"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        map.put(remainder, fraction.length());</span><br><span class="line">        remainder *= <span class="number">10</span>;</span><br><span class="line">        fraction.append(String.valueOf(remainder / divisor));</span><br><span class="line">        remainder %= divisor;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fraction.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸¤ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºåˆ†æ•°çš„åˆ†å­numeratorå’Œåˆ†æ¯denominatorï¼Œä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›å°æ•°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>149. ç›´çº¿ä¸Šæœ€å¤šçš„ç‚¹æ•°</title>
    <link href="http://yoursite.com/2020/09/18/149.%20%E7%9B%B4%E7%BA%BF%E4%B8%8A%E6%9C%80%E5%A4%9A%E7%9A%84%E7%82%B9%E6%95%B0/"/>
    <id>http://yoursite.com/2020/09/18/149. ç›´çº¿ä¸Šæœ€å¤šçš„ç‚¹æ•°/</id>
    <published>2020-09-18T01:27:12.000Z</published>
    <updated>2020-09-18T09:50:19.555Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªäºŒç»´å¹³é¢ï¼Œå¹³é¢ä¸Šæœ‰ n ä¸ªç‚¹ï¼Œæ±‚æœ€å¤šæœ‰å¤šå°‘ä¸ªç‚¹åœ¨åŒä¸€æ¡ç›´çº¿ä¸Šã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: [[1,1],[2,2],[3,3]]è¾“å‡º: 3è§£é‡Š:^||        o|     o|  o  +-------------&gt;0  1  2  3  4</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: [[1,1],[3,2],[5,3],[4,1],[2,3],[1,4]]è¾“å‡º: 4è§£é‡Š:^||  o|     o        o|        o|  o        o+-------------------&gt;0  1  2  3  4  5  6</code></pre><h1 id="é¢˜ç›®æè¿°ï¼ˆå›°éš¾éš¾åº¦ï¼‰"><a href="#é¢˜ç›®æè¿°ï¼ˆå›°éš¾éš¾åº¦ï¼‰" class="headerlink" title="é¢˜ç›®æè¿°ï¼ˆå›°éš¾éš¾åº¦ï¼‰"></a>é¢˜ç›®æè¿°ï¼ˆå›°éš¾éš¾åº¦ï¼‰</h1><p>å¹³é¢ä¸Šæœ‰å¾ˆå¤šç‚¹ï¼Œæ‰¾å‡ºç»è¿‡æŸä¸€æ¡ç›´çº¿æœ€å¤šæœ‰å¤šå°‘ä¸ªç‚¹ã€‚</p><h1 id="è§£æ³•ä¸€-æš´åŠ›ç ´è§£"><a href="#è§£æ³•ä¸€-æš´åŠ›ç ´è§£" class="headerlink" title="è§£æ³•ä¸€ æš´åŠ›ç ´è§£"></a>è§£æ³•ä¸€ æš´åŠ›ç ´è§£</h1><p>ä¸¤ç‚¹ç¡®å®šä¸€æ¡ç›´çº¿ï¼Œæœ€ç®€å•çš„æ–¹å¼è€ƒè™‘ä»»æ„ä¸¤ç‚¹ç»„æˆä¸€æ¡ç›´çº¿ï¼Œç„¶ååˆ¤æ–­å…¶ä»–ç‚¹åœ¨ä¸åœ¨è¿™æ¡ç›´çº¿ä¸Šã€‚</p><p>ä¸¤ç‚¹ç¡®å®šä¸€æ¡ç›´çº¿ï¼Œç›´çº¿æ–¹ç¨‹å¯ä»¥è¡¨ç¤ºæˆä¸‹è¾¹çš„æ ·å­ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\frac&#123;y_2-y_1&#125;&#123;x_2-x_1&#125;=\frac&#123;y-y_2&#125;&#123;x-x_2&#125;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥å½“æ¥äº†ä¸€ä¸ªç‚¹ <code>(x,y)</code> çš„æ—¶å€™ï¼Œç†è®ºä¸Šï¼Œæˆ‘ä»¬åªéœ€è¦ä»£å…¥åˆ°ä¸Šè¾¹çš„æ–¹ç¨‹è¿›è¡Œåˆ¤æ–­å³å¯ã€‚</p><p>ä½†æ˜¯åœ¨è®¡ç®—æœºä¸­ï¼Œç®—ä¸Šè¾¹çš„é™¤æ³•çš„æ—¶å€™ï¼Œç»“æœå¯èƒ½æ˜¯å°æ•°ï¼Œè®¡ç®—æœºä¸­ç”¨æµ®ç‚¹æ•°å­˜å‚¨ï¼Œä½†å°æ•°å¹¶ä¸èƒ½ç²¾ç¡®è¡¨ç¤ºï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡ <a href="https://zhuanlan.zhihu.com/p/75581822" target="_blank" rel="noopener">æµ®ç‚¹æ•°</a> çš„è®²è§£ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ç›´æ¥å»åˆ¤æ–­ç­‰å¼ä¸¤è¾¹æ˜¯å¦ç›¸ç­‰ã€‚</p><p>ç¬¬ä¸€ä¸ªæƒ³æ³•æ˜¯ï¼Œç­‰å¼ä¸¤è¾¹åˆ†å­ä¹˜åˆ†æ¯ï¼Œè½¬æ¢ä¸ºä¹˜æ³•çš„å½¢å¼ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(y_2-y_1)*(x-x_2)=(y-y_2)*(x_2-x_1)</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ª <code>test</code> å‡½æ•°æ¥åˆ¤æ–­ç‚¹ <code>(x,y)</code> æ˜¯å¦åœ¨ç”±ç‚¹ <code>(x1,y1)</code> å’Œ <code>(x2,y2)</code> ç»„æˆçš„ç›´çº¿ä¸Šã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> (y2 - y1) * (x - x2) == (y - y2) * (x2 - x1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šè¾¹çœ‹èµ·æ¥æ²¡é—®é¢˜ï¼Œä½†å¦‚æœä¹˜ç§¯è¿‡å¤§çš„è¯å°±å¯èƒ½é€ æˆæº¢å‡ºï¼Œä»è€Œäº§ç”Ÿé—®é¢˜ã€‚</p><p>æœ€ç›´æ¥çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ä¸ç”¨ <code>int</code> å­˜ï¼Œæ”¹ç”¨ <code>long</code> å­˜ï¼Œå¯ä»¥æš‚æ—¶è§£å†³ä¸Šè¾¹çš„é—®é¢˜ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> (<span class="keyword">long</span>)(y2 - y1) * (x - x2) == (<span class="keyword">long</span>)(y - y2) * (x2 - x1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†å¦‚æœæ•°æ®è¿‡å¤§ï¼Œä¾æ—§å¯èƒ½é€ æˆæº¢å‡ºï¼Œå†ç›´æ¥çš„æ–¹æ³•å°±æ˜¯ç”¨ <code>java</code> æä¾›çš„ <code>BigInteger</code> ç±»å¤„ç†ã€‚è®°å¾— <code>import java.math.BigInteger;</code>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;        </span><br><span class="line">    BigInteger x11 = BigInteger.valueOf(x1);</span><br><span class="line">    BigInteger x22 = BigInteger.valueOf(x2);</span><br><span class="line">    BigInteger y11 = BigInteger.valueOf(y1);</span><br><span class="line">   BigInteger y22 = BigInteger.valueOf(y2);</span><br><span class="line">    BigInteger x0 = BigInteger.valueOf(x);</span><br><span class="line">    BigInteger y0 = BigInteger.valueOf(y);</span><br><span class="line">    <span class="keyword">return</span> y22.subtract(y11).multiply(x0.subtract(x22)).equals(y0.subtract(y22).multiply(x22.subtract(x11)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªæ–¹æ¡ˆã€‚</p><p>å¯¹äºä¸‹è¾¹çš„ç­‰å¼ï¼Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\frac&#123;y_2-y_1&#125;&#123;x_2-x_1&#125;=\frac&#123;y-y_2&#125;&#123;x-x_2&#125;</span><br></pre></td></tr></table></figure><p>è¿˜å¯ä»¥ç†è§£æˆåˆ¤æ–­ä¸¤ä¸ªåˆ†æ•°ç›¸ç­‰ï¼Œå›åˆ°æ•°å­¦ä¸Šï¼Œæˆ‘ä»¬åªéœ€è¦å°†ä¸¤ä¸ªåˆ†æ•°çº¦åˆ†åˆ°æœ€ç®€ï¼Œç„¶ååˆ†åˆ«åˆ¤æ–­åˆ†å­å’Œåˆ†æ¯æ˜¯å¦ç›¸ç­‰å³å¯ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦æ±‚åˆ†å­å’Œåˆ†æ¯çš„æœ€å¤§å…¬çº¦æ•°ï¼Œç›´æ¥ç”¨<a href="https://baike.baidu.com/item/%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E7%AE%97%E6%B3%95/1647675?fromtitle=%E8%BE%97%E8%BD%AC%E7%9B%B8%E9%99%A4%E6%B3%95&fromid=4625352" target="_blank" rel="noopener">è¾—è½¬ç›¸é™¤æ³•</a>å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (b != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> temp = a % b;</span><br><span class="line">        a = b;</span><br><span class="line">        b = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶å <code>test</code> å‡½æ•°å°±å¯ä»¥å†™æˆä¸‹è¾¹çš„æ ·å­ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬æ±‚äº†<code>y - y2</code> å’Œ <code>x - x2</code> æœ€å¤§å…¬çº¦æ•°ï¼Œæ‰€ä»¥è¦ä¿è¯ä»–ä¿©éƒ½ä¸æ˜¯ <code>0</code> ï¼Œé˜²æ­¢é™¤é›¶é”™è¯¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> g1 = gcd(y2 - y1, x2 - x1);</span><br><span class="line">    <span class="keyword">if</span>(y == y2 &amp;&amp; x == x2)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> g2 = gcd(y - y2, x - x2);</span><br><span class="line">    <span class="keyword">return</span> (y2 - y1) / g1 == (y - y2) / g2 &amp;&amp; (x2 - x1) / g1 == (x - x2) / g2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ‰äº† <code>test</code> å‡½æ•°ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸‰å±‚éå†ã€‚å‰ä¸¤å±‚éå†é€‰æ‹©ä¸¤ä¸ªç‚¹çš„æ‰€æœ‰ç»„åˆæ„æˆä¸€æ¡ç›´çº¿ï¼Œç¬¬ä¸‰å±‚éå†å…¶ä»–æ‰€æœ‰ç‚¹ï¼Œæ¥åˆ¤æ–­å½“å‰ç‚¹åœ¨ä¸åœ¨ä¹‹å‰ä¸¤ä¸ªç‚¹ç»„æˆçš„ç›´çº¿ä¸Šã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºæˆ‘ä»¬ä¸¤ç‚¹ç»„æˆä¸€æ¡ç›´çº¿ï¼Œå¿…é¡»ä¿è¯è¿™ä¸¤ä¸ªç‚¹ä¸é‡åˆã€‚æ‰€ä»¥æˆ‘ä»¬è¿›å…¥ç¬¬ä¸‰å±‚å¾ªç¯ä¹‹å‰ï¼Œå¦‚æœä¸¤ä¸ªç‚¹ç›¸ç­‰å°±å¯ä»¥ç›´æ¥è·³è¿‡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (points[i][<span class="number">0</span>] == points[j][<span class="number">0</span>] &amp;&amp; points[i][<span class="number">1</span>] == points[j][<span class="number">1</span>]) &#123;</span><br><span class="line">    <span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘æ‰€æœ‰ç‚¹éƒ½ç›¸ç­‰çš„æƒ…å†µï¼Œè¿™æ ·å°±å¯ä»¥çœ‹åšæ‰€æœ‰ç‚¹éƒ½åœ¨ä¸€æ¡ç›´çº¿ä¸Šã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (; i &lt; points.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (points[i][<span class="number">0</span>] != points[i + <span class="number">1</span>][<span class="number">0</span>] || points[i][<span class="number">1</span>] != points[i + <span class="number">1</span>][<span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (i == points.length - <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> points.length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰å°±æ˜¯ç‚¹çš„æ•°é‡åªæœ‰ä¸¤ä¸ªï¼Œæˆ–è€…ä¸€ä¸ªï¼Œé›¶ä¸ªçš„æ—¶å€™ï¼Œç›´æ¥è¿”å›ç‚¹çš„æ•°é‡å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (points.length &lt; <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> points.length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»¼ä¸Šæ‰€è¿°ï¼Œä»£ç å°±å‡ºæ¥äº†ï¼Œå…¶ä¸­ <code>test</code> å‡½æ•°æœ‰ä¸‰ç§å†™æ³•ã€‚</p><details>    <summary>æš´åŠ›ç ´è§£</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxPoints</span><span class="params">(<span class="keyword">int</span>[][] points)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (points.length &lt; <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> points.length;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (; i &lt; points.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (points[i][<span class="number">0</span>] != points[i + <span class="number">1</span>][<span class="number">0</span>] || points[i][<span class="number">1</span>] != points[i + <span class="number">1</span>][<span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (i == points.length - <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> points.length;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; points.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; points.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (points[i][<span class="number">0</span>] == points[j][<span class="number">0</span>] &amp;&amp; points[i][<span class="number">1</span>] == points[j][<span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> tempMax = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; points.length; k++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (k != i &amp;&amp; k != j) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (test(points[i][<span class="number">0</span>], points[i][<span class="number">1</span>], points[j][<span class="number">0</span>], points[j][<span class="number">1</span>], points[k][<span class="number">0</span>], points[k][<span class="number">1</span>])) &#123;</span><br><span class="line">                        tempMax++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (tempMax &gt; max) &#123;</span><br><span class="line">                max = tempMax;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åŠ ä¸Šç›´çº¿æœ¬èº«çš„ä¸¤ä¸ªç‚¹</span></span><br><span class="line">    <span class="keyword">return</span> max + <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*private boolean test(int x1, int y1, int x2, int y2, int x, int y) &#123;</span></span><br><span class="line"><span class="comment">return (long)(y2 - y1) * (x - x2) == (long)(y - y2) * (x2 - x1);</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*private boolean test(int x1, int y1, int x2, int y2, int x, int y) &#123;        </span></span><br><span class="line"><span class="comment">    BigInteger x11 = BigInteger.valueOf(x1);</span></span><br><span class="line"><span class="comment">    BigInteger x22 = BigInteger.valueOf(x2);</span></span><br><span class="line"><span class="comment">    BigInteger y11 = BigInteger.valueOf(y1);</span></span><br><span class="line"><span class="comment">   BigInteger y22 = BigInteger.valueOf(y2);</span></span><br><span class="line"><span class="comment">    BigInteger x0 = BigInteger.valueOf(x);</span></span><br><span class="line"><span class="comment">    BigInteger y0 = BigInteger.valueOf(y);</span></span><br><span class="line"><span class="comment">    return y22.subtract(y11).multiply(x0.subtract(x22)).equals(y0.subtract(y22).multiply(x22.subtract(x11)));</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> g1 = gcd(y2 - y1, x2 - x1);</span><br><span class="line">    <span class="keyword">if</span>(y == y2 &amp;&amp; x == x2)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> g2 = gcd(y - y2, x - x2);</span><br><span class="line">    <span class="keyword">return</span> (y2 - y1) / g1 == (y - y2) / g2 &amp;&amp; (x2 - x1) / g1 == (x - x2) / g2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (b != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> temp = a % b;</span><br><span class="line">        a = b;</span><br><span class="line">        b = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="è§£æ³•äºŒ"><a href="#è§£æ³•äºŒ" class="headerlink" title="è§£æ³•äºŒ"></a>è§£æ³•äºŒ</h1><p>è§£æ³•ä¸€å¾ˆæš´åŠ›ï¼Œæˆ‘ä»¬è€ƒè™‘åœ¨å…¶åŸºç¡€ä¸Šè¿›è¡Œä¼˜åŒ–ã€‚</p><p>æ³¨æ„åˆ°ï¼Œå¦‚æœæ˜¯ä¸‹è¾¹çš„æƒ…å†µã€‚</p><p><a href="https://pic.leetcode-cn.com/c2640aab030eac4f019a44b6b88b830002ed056f571c04b4b8dd6a3910bfae5c.jpg" target="_blank" rel="noopener">æƒ…å†µ</a></p><p>å¯¹äºè§£æ³•ä¸€çš„ç®—æ³•ï¼Œæˆ‘ä»¬ä¼šç»è¿‡ä¸‹è¾¹çš„æµç¨‹ã€‚</p><p>æˆ‘ä»¬å…ˆè€ƒè™‘ <code>1,2</code> ç»„æˆçš„ç›´çº¿ï¼Œçœ‹ <code>3,4,5,6</code>åœ¨ä¸åœ¨ <code>1,2</code> çš„ç›´çº¿ä¸Šã€‚</p><p>å†è€ƒè™‘ <code>1,3</code> ç»„æˆçš„ç›´çº¿ï¼Œçœ‹ <code>2,4,5,6</code>åœ¨ä¸åœ¨ <code>1,3</code> çš„ç›´çº¿ä¸Šã€‚</p><p>å†è€ƒè™‘ <code>1,4</code> ç»„æˆçš„ç›´çº¿ï¼Œçœ‹ <code>2,3,5,6</code>åœ¨ä¸åœ¨ <code>1,4</code> çš„ç›´çº¿ä¸Šã€‚</p><p>â€¦.</p><p>ä¸Šè¾¹çš„é—®é¢˜å¾ˆæ˜æ˜¾äº†ï¼Œå¯¹äº <code>1,2</code>ï¼Œ<code>1,3</code>ï¼Œ<code>1,4</code>  â€¦ ç»„æˆçš„ç›´çº¿ï¼Œå…¶å®æ˜¯åŒä¸€æ¡ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­ä¸€æ¬¡å°±å¯ä»¥äº†ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦åšçš„æ˜¯ï¼Œæ€ä¹ˆä¿è¯åœ¨åˆ¤æ–­å®Œ <code>1,2</code> æ„æˆçš„ç›´çº¿åï¼ŒæŠŠ <code>1,3</code>ï¼Œ<code>1,4</code>â€¦ è¿™äº›åœ¨ <code>1,2</code> ç›´çº¿ä¸Šçš„ç‚¹ç›´æ¥è·³è¿‡ã€‚</p><p>å›åˆ°æ•°å­¦ä¸Šï¼Œç»™å®šä¸¤ä¸ªç‚¹å¯ä»¥å”¯ä¸€çš„ç¡®å®šä¸€æ¡ç›´çº¿ï¼Œè¡¨è¾¾å¼ä¸º <code>y = kx + b</code>ã€‚</p><p>å¯¹äº <code>1,2</code>ï¼Œ<code>1,3</code>ï¼Œ<code>1,4</code> è¿™äº›ç‚¹æ±‚å‡ºæ¥çš„è¡¨è¾¾å¼éƒ½æ˜¯å”¯ä¸€ç¡®å®šçš„ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å½“è€ƒè™‘ <code>1,2</code> ä¸¤ä¸ªç‚¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æ±‚å‡º <code>k</code> å’Œ <code>b</code> æŠŠå®ƒå­˜åˆ° <code>HashSet</code> ä¸­ï¼Œç„¶åå½“è€ƒè™‘ <code>1,3</code> ä»¥åŠåè¾¹çš„ç‚¹çš„æ—¶å€™ï¼Œå…ˆæ±‚å‡º <code>k</code> å’Œ <code>b</code>ï¼Œç„¶åä» <code>HashSet</code> ä¸­çœ‹æ˜¯å¦å­˜åœ¨å³å¯ã€‚</p><p>å½“ç„¶å­˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªæŠ€å·§ï¼Œ<code>key</code> å­˜ä¸€ä¸ª  <code>String</code> ï¼Œä¹Ÿå°±æ˜¯ <code>k + &quot;@&quot; + b</code> ã€‚</p><details>    <summary>æš´åŠ›ç ´è§£ä¼˜åŒ–</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxPoints</span><span class="params">(<span class="keyword">int</span>[][] points)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(points.length &lt; <span class="number">3</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> points.length;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­æ‰€æœ‰ç‚¹æ˜¯å¦éƒ½ç›¸åŒçš„ç‰¹æ®Šæƒ…å†µ</span></span><br><span class="line">    <span class="keyword">for</span> (; i &lt; points.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (points[i][<span class="number">0</span>] != points[i + <span class="number">1</span>][<span class="number">0</span>] || points[i][<span class="number">1</span>] != points[i + <span class="number">1</span>][<span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (i == points.length - <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> points.length;</span><br><span class="line">    &#125;</span><br><span class="line">    HashSet&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; points.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; points.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (points[i][<span class="number">0</span>] == points[j][<span class="number">0</span>] &amp;&amp; points[i][<span class="number">1</span>] == points[j][<span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            String key = getK(points[i][<span class="number">0</span>], points[i][<span class="number">1</span>], points[j][<span class="number">0</span>], points[j][<span class="number">1</span>])</span><br><span class="line">                       + <span class="string">"@"</span></span><br><span class="line">                       + getB(points[i][<span class="number">0</span>], points[i][<span class="number">1</span>], points[j][<span class="number">0</span>], points[j][<span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">if</span> (set.contains(key)) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> tempMax = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; points.length; k++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (k != i &amp;&amp; k != j) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (test(points[i][<span class="number">0</span>], points[i][<span class="number">1</span>], points[j][<span class="number">0</span>], points[j][<span class="number">1</span>], points[k][<span class="number">0</span>], points[k][<span class="number">1</span>])) &#123;</span><br><span class="line">                        tempMax++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (tempMax &gt; max) &#123;</span><br><span class="line">                max = tempMax;</span><br><span class="line">            &#125;</span><br><span class="line">            set.add(key);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max + <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">double</span> <span class="title">getB</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (y2 == y1) &#123;</span><br><span class="line">        <span class="keyword">return</span> Double.POSITIVE_INFINITY;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">double</span>) (x2 - x1) * (-y1) / (y2 - y1) + x1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">double</span> <span class="title">getK</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x2 - x1 == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> Double.POSITIVE_INFINITY;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">double</span>) (y2 - y1) / (x2 - x1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> y1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y2, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> (<span class="keyword">long</span>)(y2 - y1) * (x - x2) == (<span class="keyword">long</span>)(y - y2) * (x2 - x1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>ä¸Šè¾¹çš„ç®—æ³•è™½ç„¶èƒ½ <code>AC</code>ï¼Œä½†å¦‚æœä¸¥æ ¼æ¥è¯´å…¶å®æ˜¯æœ‰é—®é¢˜çš„ã€‚è¿˜æ˜¯å› ä¸ºä¹‹å‰è¯´çš„æµ®ç‚¹æ•°çš„é—®é¢˜ï¼Œè®¡ç®—æœºå¹¶ä¸èƒ½ç²¾ç¡®è¡¨ç¤ºå°æ•°ã€‚è¿™å°±é€ æˆä¸åŒçš„ç›´çº¿å¯èƒ½ä¼šæ±‚å‡ºç›¸åŒçš„ <code>k</code> å’Œ <code>b</code>ã€‚</p><p>å¦‚æœè¦ä¿®æ”¹çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åˆ†æ•°è¡¨ç¤ºå°æ•°ï¼ŒåŒæ—¶å¿…é¡»è¿›è¡Œçº¦åˆ†ï¼Œä½¿å¾—åˆ†æ•°åŒ–æˆæœ€ç®€ã€‚</p><p>å¯¹äºä¸Šè¾¹çš„ç®—æ³•ï¼Œæœ‰ä¸¤ä¸ªå˜é‡éƒ½éœ€è¦ç”¨å°æ•°è¡¨ç¤ºï¼Œæ‰€ä»¥å¯èƒ½ä¼šå¤æ‚äº›ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹è§£æ³•ä¸‰çš„æ€è·¯ã€‚</p><h1 id="è§£æ³•ä¸‰"><a href="#è§£æ³•ä¸‰" class="headerlink" title="è§£æ³•ä¸‰"></a>è§£æ³•ä¸‰</h1><p>è§£æ³•äºŒä¸­ï¼Œæˆ‘ä»¬ç›¸å½“äºæ˜¯å¯¹ç›´çº¿çš„åˆ†ç±»ï¼Œä¸€æ¡ç›´çº¿ä¸€æ¡ç›´çº¿çš„è€ƒè™‘ï¼Œå»æ±‚ç›´çº¿ä¸Šçš„ç‚¹ã€‚</p><p><a href="https://leetcode.com/problems/max-points-on-a-line/discuss/47113/A-java-solution-with-notes" target="_blank" rel="noopener">è¿™é‡Œ</a> çœ‹åˆ°å¦ä¸€ç§æƒ³æ³•ï¼Œåˆ†äº«ä¸€ä¸‹ã€‚</p><p>çµæ„Ÿåº”è¯¥æ¥è‡ªäºç›´çº¿æ–¹ç¨‹çš„å¦ä¸€ç§è¡¨ç¤ºæ–¹å¼ï¼Œã€Œç‚¹æ–œå¼ã€ï¼Œæ¢å¥è¯ï¼Œä¸€ä¸ªç‚¹åŠ ä¸€ä¸ªæ–œç‡å³å¯å”¯ä¸€çš„ç¡®å®šä¸€æ¡ç›´çº¿ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¯¹ã€Œç‚¹ã€è¿›è¡Œåˆ†ç±»ç„¶åå»æ±‚ï¼Œé—®é¢˜è½¬æ¢æˆï¼Œç»è¿‡æŸä¸ªç‚¹çš„ç›´çº¿ï¼Œå“ªæ¡ç›´çº¿ä¸Šçš„ç‚¹æœ€å¤šã€‚</p><p><a href="https://pic.leetcode-cn.com/f9da822aada3c01a0eaf203d6df4107c58cf0cf06dc99082a32fa31360368c6d.jpg" target="_blank" rel="noopener">ç¤ºæ„å›¾</a></p><p>å½“ç¡®å®šä¸€ä¸ªç‚¹åï¼Œå¹³é¢ä¸Šçš„å…¶ä»–ç‚¹éƒ½å’Œè¿™ä¸ªç‚¹å¯ä»¥æ±‚å‡ºä¸€ä¸ªæ–œç‡ï¼Œæ–œç‡ç›¸åŒçš„ç‚¹å°±æ„å‘³ç€åœ¨åŒä¸€æ¡ç›´çº¿ä¸Šã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨ <code>HashMap</code> å»è®¡æ•°ï¼Œæ–œç‡ä½œä¸º <code>key</code>ï¼Œç„¶åéå†å¹³é¢ä¸Šçš„å…¶ä»–ç‚¹ï¼Œç›¸åŒçš„ <code>key</code> æ„å‘³ç€åœ¨åŒä¸€æ¡ç›´çº¿ä¸Šã€‚</p><p>ä¸Šè¾¹çš„æ€æƒ³è§£å†³äº†ã€Œç»è¿‡æŸä¸ªç‚¹çš„ç›´çº¿ï¼Œå“ªæ¡ç›´çº¿ä¸Šçš„ç‚¹æœ€å¤šã€çš„é—®é¢˜ã€‚æ¥ä¸‹æ¥åªéœ€è¦æ¢ä¸€ä¸ªç‚¹ï¼Œç„¶åç”¨åŒæ ·çš„æ–¹æ³•è€ƒè™‘å®Œæ‰€æœ‰çš„ç‚¹å³å¯ã€‚</p><p>å½“ç„¶è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯æ–œç‡æ˜¯å°æ•°ï¼Œæ€ä¹ˆåŠã€‚</p><p>ä¹‹å‰æåˆ°è¿‡äº†ï¼Œæˆ‘ä»¬ç”¨åˆ†æ•°å»è¡¨ç¤ºï¼Œæ±‚åˆ†å­åˆ†æ¯çš„æœ€å¤§å…¬çº¦æ•°ï¼Œç„¶åçº¦åˆ†ï¼Œæœ€åå°† ã€Œåˆ†å­ + â€œ@â€ + â€œåˆ†æ¯â€ã€ä½œä¸º <code>key</code> å³å¯ã€‚</p><p>æœ€åè¿˜æœ‰ä¸€ä¸ªç»†èŠ‚å°±æ˜¯ï¼Œå½“ç¡®å®šæŸä¸ªç‚¹çš„æ—¶å€™ï¼Œå¹³é¢å†…å¦‚æœæœ‰å’Œè¿™ä¸ªé‡å çš„ç‚¹ï¼Œå¦‚æœæŒ‰ç…§æ­£å¸¸çš„ç®—æ³•çº¦åˆ†çš„è¯ï¼Œä¼šå‡ºç°é™¤ <code>0</code> çš„æƒ…å†µï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å•ç‹¬ç”¨ä¸€ä¸ªå˜é‡è®°å½•é‡å¤ç‚¹çš„ä¸ªæ•°ï¼Œè€Œé‡å¤ç‚¹ä¸€å®šæ˜¯è¿‡å½“å‰ç‚¹çš„ç›´çº¿çš„ã€‚</p><details>    <summary>æš´åŠ›ç ´è§£</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxPoints</span><span class="params">(<span class="keyword">int</span>[][] points)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (points.length &lt; <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> points.length;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//éå†æ¯ä¸ªç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; points.length; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> duplicate = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> max = <span class="number">0</span>;<span class="comment">//ä¿å­˜ç»è¿‡å½“å‰ç‚¹çš„ç›´çº¿ä¸­ï¼Œæœ€å¤šçš„ç‚¹</span></span><br><span class="line">        HashMap&lt;String, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; points.length; j++) &#123;</span><br><span class="line">            <span class="comment">//æ±‚å‡ºåˆ†å­åˆ†æ¯</span></span><br><span class="line">            <span class="keyword">int</span> x = points[j][<span class="number">0</span>] - points[i][<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> y = points[j][<span class="number">1</span>] - points[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (x == <span class="number">0</span> &amp;&amp; y == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">//é‡å çš„ç‚¹</span></span><br><span class="line">                duplicate++;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//è¿›è¡Œçº¦åˆ†</span></span><br><span class="line">            <span class="keyword">int</span> gcd = gcd(x, y);</span><br><span class="line">            x = x / gcd;</span><br><span class="line">            y = y / gcd;</span><br><span class="line">            String key = x + <span class="string">"@"</span> + y;</span><br><span class="line">            map.put(key, map.getOrDefault(key, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">            max = Math.max(max, map.get(key));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//1 ä»£è¡¨å½“å‰è€ƒè™‘çš„ç‚¹ï¼Œduplicate ä»£è¡¨å’Œå½“å‰çš„ç‚¹é‡å¤çš„ç‚¹</span></span><br><span class="line">        res = Math.max(res, max + duplicate + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (b != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> temp = a % b;</span><br><span class="line">        a = b;</span><br><span class="line">        b = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="è§£æƒ‘"><a href="#è§£æƒ‘" class="headerlink" title="è§£æƒ‘"></a>è§£æƒ‘</h1><p>è§£æ³•ä¸‰è¿˜æ˜¯ä¸å¤ªæ˜ç™½ï¼Œå¦‚æœæœ‰ä¸¤æ¡å¹³è¡Œç›´çº¿ï¼Œé‚£ä¹ˆæ–œç‡ä¸€æ ·ï¼Œä¸å°±éƒ½å­˜åˆ°ä¸€ä¸ªå“ˆå¸Œkeyé‡Œå»äº†å—ï¼Ÿ</p><p>ä»¥æ³¨æ„ä¸‹å¾ªç¯å’Œè¾…åŠ©å“ˆå¸Œè¡¨çš„åˆ›å»ºä½ç½®ï¼Œæœ€å¤–å±‚çš„å¾ªç¯å·²ç»ç¡®ä¿äº†å½“å‰å“ˆå¸Œè¡¨é‡Œçš„æ–œç‡æ˜¯å¯¹å½“å‰èŠ‚ç‚¹points[i]çš„ã€‚æ¯æ¬¡å¾ªç¯åˆ°ä¸€ä¸ªç‚¹éƒ½ä¼šé‡æ–°å®šä¹‰ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œæ‰€ä»¥ä¼šé¿å…è¿™ç§æƒ…å†µ</p><h1 id="æ±‡æ€»"><a href="#æ±‡æ€»" class="headerlink" title="æ±‡æ€»"></a>æ±‡æ€»</h1><p>è¿™é“é¢˜é¦–å…ˆè¿˜æ˜¯å»æƒ³æš´åŠ›çš„æƒ³æ³•ï¼Œç„¶åå»è€ƒè™‘é‡å¤çš„æƒ…å†µï¼Œå¯¹æƒ…å†µè¿›è¡Œåˆ†ç±»ä»è€Œä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ã€‚åŒæ ·è§£æ³•ä¸‰å…¶å®ä¹Ÿæ˜¯ä¸€ç§åˆ†ç±»çš„æ€æƒ³ï¼Œä¼šå‡å°‘å¾ˆå¤šä¸å¿…è¦æƒ…å†µçš„è®¨è®ºã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªäºŒç»´å¹³é¢ï¼Œå¹³é¢ä¸Šæœ‰ n ä¸ªç‚¹ï¼Œæ±‚æœ€å¤šæœ‰å¤šå°‘ä¸ªç‚¹åœ¨åŒä¸€æ¡ç›´çº¿ä¸Šã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—III</title>
    <link href="http://yoursite.com/2020/09/17/260.%20%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B0%E5%AD%97III/"/>
    <id>http://yoursite.com/2020/09/17/260. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—III/</id>
    <published>2020-09-17T09:55:12.000Z</published>
    <updated>2020-09-17T10:37:15.626Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œå…¶ä¸­æ°å¥½æœ‰ä¸¤ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œå…¶ä½™æ‰€æœ‰å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚ æ‰¾å‡ºåªå‡ºç°ä¸€æ¬¡çš„é‚£ä¸¤ä¸ªå…ƒç´ ã€‚</p><a id="more"></a><p> ç¤ºä¾‹ :</p><pre><code>è¾“å…¥: [1,2,1,3,2,5]è¾“å‡º: [3,5]</code></pre><p> æ³¨æ„ï¼š</p><pre><code>ç»“æœè¾“å‡ºçš„é¡ºåºå¹¶ä¸é‡è¦ï¼Œå¯¹äºä¸Šé¢çš„ä¾‹å­ï¼Œ [5, 3] ä¹Ÿæ˜¯æ­£ç¡®ç­”æ¡ˆã€‚ä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ä½ èƒ½å¦ä»…ä½¿ç”¨å¸¸æ•°ç©ºé—´å¤æ‚åº¦æ¥å®ç°ï¼Ÿ</code></pre><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>ä½¿ç”¨å“ˆå¸Œè¡¨å¯ä»¥åœ¨ O(N) çš„æ—¶é—´å¤æ‚åº¦å’Œ O(N)  çš„ç©ºé—´å¤æ‚åº¦ä¸­è§£å†³è¯¥é—®é¢˜ã€‚</p><p>è¿™ä¸ªé—®é¢˜åœ¨å¸¸æ•°çš„ç©ºé—´å¤æ‚åº¦ä¸­è§£å†³æœ‰ç‚¹å›°éš¾ï¼Œä½†å¯ä»¥å€ŸåŠ©ä¸¤ä¸ªä½æ©ç æ¥å®ç°ã€‚</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMubGVldGNvZGUtY24uY29tL0ZpZ3VyZXMvMjYwL3R3bzIucG5n?x-oss-process=image/format,png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨"><a href="#æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨"></a>æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</h1><p>å»ºç«‹ä¸€ä¸ªå€¼åˆ°é¢‘ç‡çš„æ˜ å°„å…³ç³»çš„å“ˆå¸Œè¡¨ï¼Œè¿”å›é¢‘ç‡ä¸º 1 çš„æ•°å­—ã€‚</p><p><strong>ç®—æ³•ï¼š</strong></p><details>    <summary>å“ˆå¸Œè¡¨Python</summary><figure class="highlight python"><figcaption><span>[solution1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums: int)</span> -&gt; List[int]:</span></span><br><span class="line">        hashmap = Counter(nums)</span><br><span class="line">        <span class="keyword">return</span> [x <span class="keyword">for</span> x <span class="keyword">in</span> hashmap <span class="keyword">if</span> hashmap[x] == <span class="number">1</span>]</span><br></pre></td></tr></table></figure></details><details>    <summary>å“ˆå¸Œè¡¨Java</summary><figure class="highlight java"><figcaption><span>[solution1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">int</span>[] singleNumber(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    Map&lt;Integer, Integer&gt; hashmap = <span class="keyword">new</span> HashMap();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> n : nums)</span><br><span class="line">      hashmap.put(n, hashmap.getOrDefault(n, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] output = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;Integer, Integer&gt; item : hashmap.entrySet())</span><br><span class="line">      <span class="keyword">if</span> (item.getValue() == <span class="number">1</span>) output[idx++] = item.getKey();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> output;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(N)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(N) ï¼Œå“ˆå¸Œè¡¨æ‰€ä½¿ç”¨çš„ç©ºé—´ã€‚</li></ul><h1 id="æ–¹æ³•äºŒï¼šä¸¤ä¸ªæ©ç "><a href="#æ–¹æ³•äºŒï¼šä¸¤ä¸ªæ©ç " class="headerlink" title="æ–¹æ³•äºŒï¼šä¸¤ä¸ªæ©ç "></a>æ–¹æ³•äºŒï¼šä¸¤ä¸ªæ©ç </h1><p>æœ¬æ–‡å°†ä½¿ç”¨ä¸¤ä¸ªæŒ‰ä½æŠ€å·§ï¼š</p><ul><li>ä½¿ç”¨å¼‚æˆ–è¿ç®—å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ¶ˆé™¤å‡ºç°ä¸¤æ¬¡çš„æ•°å­—ï¼›æˆ‘ä»¬è®¡ç®— <code>bitmask ^= x</code>ï¼Œåˆ™ <code>bitmask</code> ç•™ä¸‹çš„å°±æ˜¯å‡ºç°å¥‡æ•°æ¬¡çš„ä½ã€‚</li></ul><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMubGVldGNvZGUtY24uY29tL0ZpZ3VyZXMvMjYwL3hvcjMucG5n?x-oss-process=image/format,png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><ul><li><code>x &amp; (-x)</code> æ˜¯ä¿ç•™ä½ä¸­æœ€å³è¾¹ <code>1</code> ï¼Œä¸”å°†å…¶ä½™çš„ <code>1</code> è®¾ä½ <code>0</code> çš„æ–¹æ³•ã€‚</li></ul><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMubGVldGNvZGUtY24uY29tL0ZpZ3VyZXMvMjYwL2lzb2xhdGUzLnBuZw?x-oss-process=image/format,png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>ç®—æ³•ï¼š</strong></p><p>é¦–å…ˆè®¡ç®— <code>bitmask ^= x</code>ï¼Œåˆ™ <code>bitmask</code> ä¸ä¼šä¿ç•™å‡ºç°ä¸¤æ¬¡æ•°å­—çš„å€¼ï¼Œå› ä¸ºç›¸åŒæ•°å­—çš„å¼‚æˆ–å€¼ä¸º <code>0</code>ã€‚</p><p>ä½†æ˜¯ <code>bitmask</code> ä¼šä¿ç•™åªå‡ºç°ä¸€æ¬¡çš„ä¸¤ä¸ªæ•°å­—ï¼ˆ<code>x</code> å’Œ <code>y</code>ï¼‰ä¹‹é—´çš„å·®å¼‚ã€‚</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMubGVldGNvZGUtY24uY29tL0ZpZ3VyZXMvMjYwL2RpZmZfbmV3LnBuZw?x-oss-process=image/format,png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æˆ‘ä»¬å¯ä»¥ç›´æ¥ä» <code>bitmask</code> ä¸­æå– <code>x</code> å’Œ <code>y</code> å—ï¼Ÿä¸èƒ½ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç”¨ <code>bitmask</code> ä½œä¸ºæ ‡è®°æ¥åˆ†ç¦» <code>x</code> å’Œ <code>y</code>ã€‚</p><p>æˆ‘ä»¬é€šè¿‡ <code>bitmask &amp; (-bitmask)</code> ä¿ç•™ <code>bitmask</code> æœ€å³è¾¹çš„ <code>1</code>ï¼Œè¿™ä¸ª <code>1</code> è¦ä¹ˆæ¥è‡ª <code>x</code>ï¼Œè¦ä¹ˆæ¥è‡ª <code>y</code>ã€‚</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMubGVldGNvZGUtY24uY29tL0ZpZ3VyZXMvMjYwL2lzb2xhdGUyX25ldy5wbmc?x-oss-process=image/format,png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å½“æˆ‘ä»¬æ‰¾åˆ°äº† <code>x</code>ï¼Œé‚£ä¹ˆ <code>y = bitmask^x</code>ã€‚</p><details>    <summary>ä¸¤ä¸ªæ©ç Python</summary><figure class="highlight python"><figcaption><span>[solution2-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums: int)</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="comment"># difference between two numbers (x and y) which were seen only once</span></span><br><span class="line">        bitmask = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            bitmask ^= num</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># rightmost 1-bit diff between x and y</span></span><br><span class="line">        diff = bitmask &amp; (-bitmask)</span><br><span class="line">        </span><br><span class="line">        x = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="comment"># bitmask which will contain only x</span></span><br><span class="line">            <span class="keyword">if</span> num &amp; diff:</span><br><span class="line">                x ^= num</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> [x, bitmask^x]</span><br></pre></td></tr></table></figure></details><details>    <summary>ä¸¤ä¸ªæ©ç Java</summary><figure class="highlight java"><figcaption><span>[solution2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">int</span>[] singleNumber(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    <span class="comment">// difference between two numbers (x and y) which were seen only once</span></span><br><span class="line">    <span class="keyword">int</span> bitmask = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) bitmask ^= num;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// rightmost 1-bit diff between x and y</span></span><br><span class="line">    <span class="keyword">int</span> diff = bitmask &amp; (-bitmask);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// bitmask which will contain only x</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) <span class="keyword">if</span> ((num &amp; diff) != <span class="number">0</span>) x ^= num;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;x, bitmask^x&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(N) çš„æ—¶é—´éå†è¾“å…¥æ•°ç»„ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚</li></ul><h2 id="è§£æƒ‘"><a href="#è§£æƒ‘" class="headerlink" title="è§£æƒ‘"></a>è§£æƒ‘</h2><p><strong>è¿™é‡Œæˆ‘ä¸€å¼€å§‹æœ‰äº›ç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆè¦ä¹ˆæ¥è‡ªäºxè¦ä¹ˆæ¥è‡ªäºyå‘¢ï¼Œåæ¥æ‰æƒ³åˆ°å¦‚æœxå’Œyæœ€å³è¾¹çš„1ä½ç›¸åŒçš„è¯é‚£ä¹ˆåœ¨bitmaskä¸­è¯¥ä½ä¸€å®šæ˜¯0ï¼Œbitmaskä¸­æœ€å³è¾¹çš„1ä¸€å®šæ˜¯xå’Œyä»å³è¾¹å¼€å§‹ç¬¬ä¸€ä¸ªä¸åŒçš„ä½</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œå…¶ä¸­æ°å¥½æœ‰ä¸¤ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œå…¶ä½™æ‰€æœ‰å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚ æ‰¾å‡ºåªå‡ºç°ä¸€æ¬¡çš„é‚£ä¸¤ä¸ªå…ƒç´ ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
  </entry>
  
  <entry>
    <title>136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—</title>
    <link href="http://yoursite.com/2020/09/16/136.%20%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B0%E5%AD%97/"/>
    <id>http://yoursite.com/2020/09/16/136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—/</id>
    <published>2020-09-16T09:12:12.000Z</published>
    <updated>2020-09-16T09:01:09.183Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªéç©ºæ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚</p><a id="more"></a><p>è¯´æ˜ï¼š</p><p>ä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ ä½ å¯ä»¥ä¸ä½¿ç”¨é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: [2,2,1]è¾“å‡º: 1</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: [4,1,2,1,2]è¾“å‡º: 4</code></pre><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="47a527e0-e01f-4ece-a158-140764b7c319">136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šä½è¿ç®—"><a href="#æ–¹æ³•ä¸€ï¼šä½è¿ç®—" class="headerlink" title="æ–¹æ³•ä¸€ï¼šä½è¿ç®—"></a>æ–¹æ³•ä¸€ï¼šä½è¿ç®—</h2><p>å¦‚æœæ²¡æœ‰æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦çš„é™åˆ¶ï¼Œè¿™é“é¢˜æœ‰å¾ˆå¤šç§è§£æ³•ï¼Œå¯èƒ½çš„è§£æ³•æœ‰å¦‚ä¸‹å‡ ç§ã€‚</p><ul><li><p>ä½¿ç”¨é›†åˆå­˜å‚¨æ•°å­—ã€‚éå†æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°å­—ï¼Œå¦‚æœé›†åˆä¸­æ²¡æœ‰è¯¥æ•°å­—ï¼Œåˆ™å°†è¯¥æ•°å­—åŠ å…¥é›†åˆï¼Œå¦‚æœé›†åˆä¸­å·²ç»æœ‰è¯¥æ•°å­—ï¼Œåˆ™å°†è¯¥æ•°å­—ä»é›†åˆä¸­åˆ é™¤ï¼Œæœ€åå‰©ä¸‹çš„æ•°å­—å°±æ˜¯åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚</p></li><li><p>ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ¯ä¸ªæ•°å­—å’Œè¯¥æ•°å­—å‡ºç°çš„æ¬¡æ•°ã€‚éå†æ•°ç»„å³å¯å¾—åˆ°æ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°ï¼Œå¹¶æ›´æ–°å“ˆå¸Œè¡¨ï¼Œæœ€åéå†å“ˆå¸Œè¡¨ï¼Œå¾—åˆ°åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚</p></li><li><p>ä½¿ç”¨é›†åˆå­˜å‚¨æ•°ç»„ä¸­å‡ºç°çš„æ‰€æœ‰æ•°å­—ï¼Œå¹¶è®¡ç®—æ•°ç»„ä¸­çš„å…ƒç´ ä¹‹å’Œã€‚ç”±äºé›†åˆä¿è¯å…ƒç´ æ— é‡å¤ï¼Œå› æ­¤è®¡ç®—é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ä¹‹å’Œçš„ä¸¤å€ï¼Œå³ä¸ºæ¯ä¸ªå…ƒç´ å‡ºç°ä¸¤æ¬¡çš„æƒ…å†µä¸‹çš„å…ƒç´ ä¹‹å’Œã€‚ç”±äºæ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ å‡ºç°ä¸€æ¬¡ï¼Œå…¶ä½™å…ƒç´ éƒ½å‡ºç°ä¸¤æ¬¡ï¼Œå› æ­¤ç”¨é›†åˆä¸­çš„å…ƒç´ ä¹‹å’Œçš„ä¸¤å€å‡å»æ•°ç»„ä¸­çš„å…ƒç´ ä¹‹å’Œï¼Œå‰©ä¸‹çš„æ•°å°±æ˜¯æ•°ç»„ä¸­åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚</p></li></ul><p>ä¸Šè¿°ä¸‰ç§è§£æ³•éƒ½éœ€è¦é¢å¤–ä½¿ç”¨ <em>O(n)</em> çš„ç©ºé—´ï¼Œå…¶ä¸­ <em>n</em> æ˜¯æ•°ç»„é•¿åº¦ã€‚å¦‚æœè¦æ±‚ä½¿ç”¨çº¿æ€§æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°ç©ºé—´å¤æ‚åº¦ï¼Œä¸Šè¿°ä¸‰ç§è§£æ³•æ˜¾ç„¶éƒ½ä¸æ»¡è¶³è¦æ±‚ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½åšåˆ°çº¿æ€§æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°ç©ºé—´å¤æ‚åº¦å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ä½¿ç”¨ä½è¿ç®—ã€‚å¯¹äºè¿™é“é¢˜ï¼Œå¯ä½¿ç”¨å¼‚æˆ–è¿ç®— ^ ã€‚å¼‚æˆ–è¿ç®—æœ‰ä»¥ä¸‹ä¸‰ä¸ªæ€§è´¨ã€‚</p><ol><li>ä»»ä½•æ•°å’Œ <em>0</em> åšå¼‚æˆ–è¿ç®—ï¼Œç»“æœä»ç„¶æ˜¯åŸæ¥çš„æ•°ã€‚</li><li>ä»»ä½•æ•°å’Œå…¶è‡ªèº«åšå¼‚æˆ–è¿ç®—ï¼Œç»“æœæ˜¯ <em>0</em>ã€‚</li><li>å¼‚æˆ–è¿ç®—æ»¡è¶³äº¤æ¢å¾‹å’Œç»“åˆå¾‹.</li></ol><p>å‡è®¾æ•°ç»„ä¸­æœ‰ <em>2m+1</em> ä¸ªæ•°ï¼Œå…¶ä¸­æœ‰ <em>m</em> ä¸ªæ•°å„å‡ºç°ä¸¤æ¬¡ï¼Œä¸€ä¸ªæ•°å‡ºç°ä¸€æ¬¡ã€‚ä»¤ <em>a_{1}<em>ã€</em>a_{2}<em>ã€â€¦ã€</em>a_{m}</em> ä¸ºå‡ºç°ä¸¤æ¬¡çš„ <em>m</em> ä¸ªæ•°ï¼Œ<em>a_{m+1}</em> ä¸ºå‡ºç°ä¸€æ¬¡çš„æ•°ã€‚</p><p>å› æ­¤ï¼Œæ•°ç»„ä¸­çš„å…¨éƒ¨å…ƒç´ çš„å¼‚æˆ–è¿ç®—ç»“æœå³ä¸ºæ•°ç»„ä¸­åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚</p><details>    <summary>ä½è¿ç®—Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> single = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            single ^= num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> single;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ä½è¿ç®—C++</summary><figure class="highlight cpp"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> e: nums) ret ^= e;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>ä½è¿ç®—Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">return</span> reduce(<span class="keyword">lambda</span> x, y: x ^ y, nums)</span><br></pre></td></tr></table></figure></details><details>    <summary>ä½è¿ç®—C#</summary><figure class="highlight csharp"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Solution</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">SingleNumber</span>(<span class="params"><span class="keyword">int</span>[] nums</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">int</span> e <span class="keyword">in</span> nums) ret ^= e;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ä½è¿ç®—Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">singleNumber</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    single := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        single ^= num</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> single</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œå…¶ä¸­ *n</em> æ˜¯æ•°ç»„é•¿åº¦ã€‚åªéœ€è¦å¯¹æ•°ç»„éå†ä¸€æ¬¡ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªéç©ºæ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
  </entry>
  
  <entry>
    <title>137. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—II</title>
    <link href="http://yoursite.com/2020/09/16/137.%20%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B0%E5%AD%97II/"/>
    <id>http://yoursite.com/2020/09/16/137. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—II/</id>
    <published>2020-09-16T09:12:12.000Z</published>
    <updated>2020-09-17T09:53:05.162Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªéç©ºæ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°äº†ä¸‰æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚ </p><a id="more"></a><p> è¯´æ˜ï¼š </p><pre><code>ä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ ä½ å¯ä»¥ä¸ä½¿ç”¨é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ </code></pre><p> ç¤ºä¾‹ 1: </p><pre><code>è¾“å…¥: [2,2,3,2]è¾“å‡º: 3</code></pre><p> ç¤ºä¾‹ 2: </p><pre><code>è¾“å…¥: [0,1,0,1,0,1,99]è¾“å‡º: 99 </code></pre><h1 id="è§£é¢˜æ€è·¯-1ï¼š"><a href="#è§£é¢˜æ€è·¯-1ï¼š" class="headerlink" title="è§£é¢˜æ€è·¯^1ï¼š"></a>è§£é¢˜æ€è·¯<a href="https://leetcode-cn.com/problems/single-number-ii/solution/single-number-ii-mo-ni-san-jin-zhi-fa-by-jin407891/" target="_blank" rel="noopener">^1</a>ï¼š</h1><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè€ƒè™‘æ•°å­—çš„äºŒè¿›åˆ¶å½¢å¼ï¼Œå¯¹äºå‡ºç°ä¸‰æ¬¡çš„æ•°å­—ï¼Œå„ <strong>äºŒè¿›åˆ¶ä½</strong> å‡ºç°çš„æ¬¡æ•°éƒ½æ˜¯ <em>3</em> çš„å€æ•°ã€‚<br>å› æ­¤ï¼Œç»Ÿè®¡æ‰€æœ‰æ•°å­—çš„å„äºŒè¿›åˆ¶ä½ä¸­ <em>1</em> çš„å‡ºç°æ¬¡æ•°ï¼Œå¹¶å¯¹ <em>3</em> æ±‚ä½™ï¼Œç»“æœåˆ™ä¸ºåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚</p><p><a href="https://pic.leetcode-cn.com/28f2379be5beccb877c8f1586d8673a256594e0fc45422b03773b8d4c8418825-Picture1.png" target="_blank" rel="noopener">Picture1.png</a></p><h1 id="æ–¹æ³•ä¸€ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº"><a href="#æ–¹æ³•ä¸€ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº"></a>æ–¹æ³•ä¸€ï¼šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº</h1><p>å„äºŒè¿›åˆ¶ä½çš„ <strong>ä½è¿ç®—è§„åˆ™ç›¸åŒ</strong> ï¼Œå› æ­¤åªéœ€è€ƒè™‘ä¸€ä½å³å¯ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯¹äºæ‰€æœ‰æ•°å­—ä¸­çš„æŸäºŒè¿›åˆ¶ä½ <em>1</em> çš„ä¸ªæ•°ï¼Œå­˜åœ¨ 3 ç§çŠ¶æ€ï¼Œå³å¯¹ 3 ä½™æ•°ä¸º <em>0, 1, 2</em> ã€‚</p><ul><li>è‹¥è¾“å…¥äºŒè¿›åˆ¶ä½ <em>1</em> ï¼Œåˆ™çŠ¶æ€æŒ‰ç…§ä»¥ä¸‹é¡ºåºè½¬æ¢ï¼›</li><li>è‹¥è¾“å…¥äºŒè¿›åˆ¶ä½ <em>0</em> ï¼Œåˆ™çŠ¶æ€ä¸å˜ã€‚</li></ul><p>0-&gt;1-&gt;2-&gt;0-&gt;â€¦</p><p><a href="https://pic.leetcode-cn.com/ab00d4d1ad961a3cd4fc1840e34866992571162096000325e7ce10ff75fda770-Picture2.png" target="_blank" rel="noopener">Picture2.png</a></p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç”±äºäºŒè¿›åˆ¶åªèƒ½è¡¨ç¤º <em>0, 1</em> ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ä¸¤ä¸ªäºŒè¿›åˆ¶ä½æ¥è¡¨ç¤º <em>3</em> ä¸ªçŠ¶æ€ã€‚è®¾æ­¤ä¸¤ä½åˆ†åˆ«ä¸º <em>two</em> , <em>one</em> ï¼Œåˆ™çŠ¶æ€è½¬æ¢å˜ä¸ºï¼š</p><p>00-&gt;01-&gt;10-&gt;00</p><p><a href="https://pic.leetcode-cn.com/0a7ea5bca055b095673620d8bb4c98ef6c610a22f999294ed11ae35d43621e93-Picture3.png" target="_blank" rel="noopener">Picture3.png</a></p><p>æ¥ä¸‹æ¥ï¼Œéœ€è¦é€šè¿‡ <strong>çŠ¶æ€è½¬æ¢è¡¨</strong> å¯¼å‡º <strong>çŠ¶æ€è½¬æ¢çš„è®¡ç®—å…¬å¼</strong> ã€‚é¦–å…ˆå›å¿†ä¸€ä¸‹ä½è¿ç®—ç‰¹ç‚¹ï¼Œå¯¹äºä»»æ„äºŒè¿›åˆ¶ä½ <em>x</em> ï¼Œæœ‰ï¼š</p><ul><li>å¼‚æˆ–è¿ç®—ï¼š<code>x ^ 0 = x</code>â€‹ ï¼Œ <code>x ^ 1 = ~x</code></li><li>ä¸è¿ç®—ï¼š<code>x &amp; 0 = 0</code> ï¼Œ <code>x &amp; 1 = x</code></li></ul><p><strong>è®¡ç®— <em>one</em> æ–¹æ³•ï¼š</strong></p><p>è®¾å½“å‰çŠ¶æ€ä¸º <em>two</em> <em>one</em> ï¼Œæ­¤æ—¶è¾“å…¥äºŒè¿›åˆ¶ä½ <em>n</em> ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé€šè¿‡å¯¹çŠ¶æ€è¡¨çš„æƒ…å†µæ‹†åˆ†ï¼Œå¯æ¨å‡º <em>one</em> çš„è®¡ç®—æ–¹æ³•ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> two == <span class="number">0</span>:</span><br><span class="line">  <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">    one = one</span><br><span class="line">  <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">    one = ~one</span><br><span class="line"><span class="keyword">if</span> two == <span class="number">1</span>:</span><br><span class="line">    one = <span class="number">0</span></span><br></pre></td></tr></table></figure><p>å¼•å…¥ <strong>å¼‚æˆ–è¿ç®—</strong> ï¼Œå¯å°†ä»¥ä¸Šæ‹†åˆ†ç®€åŒ–ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> two == <span class="number">0</span>:</span><br><span class="line">    one = one ^ n</span><br><span class="line"><span class="keyword">if</span> two == <span class="number">1</span>:</span><br><span class="line">    one = <span class="number">0</span></span><br></pre></td></tr></table></figure><p>å¼•å…¥ <strong>ä¸è¿ç®—</strong> ï¼Œå¯ç»§ç»­ç®€åŒ–ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">one = one ^ n &amp; ~two</span><br></pre></td></tr></table></figure><p><a href="https://pic.leetcode-cn.com/f75d89219ad93c69757b187c64784b4c7a57dce7911884fe82f14073d654d32f-Picture4.png" target="_blank" rel="noopener">Picture4.png</a></p><p><strong>è®¡ç®— <em>two</em> æ–¹æ³•ï¼š</strong></p><p>ç”±äºæ˜¯å…ˆè®¡ç®— <em>one</em> ï¼Œå› æ­¤åº”åœ¨æ–° <em>one</em> çš„åŸºç¡€ä¸Šè®¡ç®— <em>two</em> ã€‚<br>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¿®æ”¹ä¸ºæ–° <em>one</em> åï¼Œå¾—åˆ°äº†æ–°çš„çŠ¶æ€å›¾ã€‚è§‚å¯Ÿå‘ç°ï¼Œå¯ä»¥ä½¿ç”¨åŒæ ·çš„æ–¹æ³•è®¡ç®— <em>two</em> ï¼Œå³ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">two = two ^ n &amp; ~one</span><br></pre></td></tr></table></figure><p><strong>è¿™éƒ¨åˆ†æˆ‘ä¸€å¼€å§‹çœ‹æ—¶æœ‰äº›ç–‘æƒ‘ï¼Œä½†ä»”ç»†çœ‹ä¸‹é¢è¿™å¼ å›¾ä¼šå‘ç°å…¶ä¸­oneéƒ½æ˜¯æ–°çš„å˜åŒ–åçš„ï¼Œå¯ä»¥å†æŠŠoneå’Œtwoè°ƒæ¢ä½ç½®å°±å‘ç°æ•´ä¸ªçŠ¶æ€å˜åŒ–å›¾æ˜¯ç­‰æ•ˆçš„äº†ã€‚</strong></p><p><a href="https://pic.leetcode-cn.com/6ba76dba1ac98ee2bb982e011fdffd1df9a6963f157b2780461dbce453f0ded3-Picture5.png" target="_blank" rel="noopener">Picture5.png</a></p><p><strong>è¿”å›å€¼ï¼š</strong></p><p>ä»¥ä¸Šæ˜¯å¯¹æ•°å­—çš„äºŒè¿›åˆ¶ä¸­ â€œä¸€ä½â€ çš„åˆ†æï¼Œè€Œ <code>int</code> ç±»å‹çš„å…¶ä»– 31 ä½å…·æœ‰ç›¸åŒçš„è¿ç®—è§„åˆ™ï¼Œå› æ­¤å¯å°†ä»¥ä¸Šå…¬å¼ç›´æ¥å¥—ç”¨åœ¨ 32 ä½æ•°ä¸Šã€‚</p><p>éå†å®Œæ‰€æœ‰æ•°å­—åï¼Œå„äºŒè¿›åˆ¶ä½éƒ½å¤„äºçŠ¶æ€ <em>00</em> å’ŒçŠ¶æ€ <em>01</em> ï¼ˆå–å†³äº â€œåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—â€ çš„å„äºŒè¿›åˆ¶ä½æ˜¯ <em>1</em> è¿˜æ˜¯ <em>0</em> ï¼‰ï¼Œè€Œæ­¤ä¸¤çŠ¶æ€æ˜¯ç”± <em>one</em> æ¥è®°å½•çš„ï¼ˆæ­¤ä¸¤çŠ¶æ€ä¸‹ <em>twos</em> æ’ä¸º <em>0</em> ï¼‰ï¼Œå› æ­¤è¿”å› <em>ones</em> å³å¯ã€‚</p><h2 id="å¤æ‚åº¦åˆ†æï¼š"><a href="#å¤æ‚åº¦åˆ†æï¼š" class="headerlink" title="å¤æ‚åº¦åˆ†æï¼š"></a>å¤æ‚åº¦åˆ†æï¼š</h2><ul><li><p><strong>æ—¶é—´å¤æ‚åº¦ <em>O(N)</em> ï¼š</strong> å…¶ä¸­ <em>N</em> ä½æ•°ç»„ <em>nums</em> çš„é•¿åº¦ï¼›éå†æ•°ç»„å ç”¨ <em>O(N)</em> ï¼Œæ¯è½®ä¸­çš„å¸¸æ•°ä¸ªä½è¿ç®—æ“ä½œå ç”¨ O(32<em>3</em>2)=O(1)ã€‚</p></li><li><p><strong>ç©ºé—´å¤æ‚åº¦ <em>O(1)</em> ï¼š</strong> å˜é‡ <em>ones</em> , <em>twos</em> ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</p><p><a href="https://pic.leetcode-cn.com/045023f05080e0844f05b8ee5b68885e1b9e41926d3e4ab054c68e6dceacfc0a-Picture6.png" target="_blank" rel="noopener">Picture6.png</a> <a href="https://pic.leetcode-cn.com/fd0ab6b3cd20c18729321957f6b4bedbf6480fd6862c01de1c5d598c82a26d2b-Picture7.png" target="_blank" rel="noopener">Picture7.png</a> <a href="https://pic.leetcode-cn.com/46b0974b13206beda512dd037df10772fae1c7375a97a7a05abb4a736dc0ebb3-Picture8.png" target="_blank" rel="noopener">Picture8.png</a> <a href="https://pic.leetcode-cn.com/4cfe4cf13367851efdb9dee5fceed969326cc3478be0769c8f60294ef5d2866d-Picture9.png" target="_blank" rel="noopener">Picture9.png</a> <a href="https://pic.leetcode-cn.com/fa2e7ecb991d5183e2f53ca7741150ae18badb087b01bff4a32caaec245fec79-Picture10.png" target="_blank" rel="noopener">Picture10.png</a> <a href="https://pic.leetcode-cn.com/6a6b8561c913c45d7be3428ff8553a2188890fee0687a1a113a7c2bea12b95a9-Picture11.png" target="_blank" rel="noopener">Picture11.png</a> </p></li></ul><h2 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h2><details>    <summary>æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºpython</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        ones, twos = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            ones = ones ^ num &amp; ~twos</span><br><span class="line">            twos = twos ^ num &amp; ~ones</span><br><span class="line">        <span class="keyword">return</span> ones</span><br></pre></td></tr></table></figure></details><details>    <summary>æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºjava</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ones = <span class="number">0</span>, twos = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">            ones = ones ^ num &amp; ~twos;</span><br><span class="line">            twos = twos ^ num &amp; ~ones;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ones;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="æ–¹æ³•äºŒï¼šéå†ç»Ÿè®¡"><a href="#æ–¹æ³•äºŒï¼šéå†ç»Ÿè®¡" class="headerlink" title="æ–¹æ³•äºŒï¼šéå†ç»Ÿè®¡"></a>æ–¹æ³•äºŒï¼šéå†ç»Ÿè®¡</h1><blockquote><p>æ­¤æ–¹æ³•ç›¸å¯¹å®¹æ˜“ç†è§£ï¼Œä½†æ•ˆç‡è¾ƒä½ï¼Œæ€»ä½“æ¨èæ–¹æ³•ä¸€ã€‚</p></blockquote><p>ä½¿ç”¨ <strong>ä¸è¿ç®—</strong> ï¼Œå¯è·å–äºŒè¿›åˆ¶æ•°å­— <em>num</em> çš„æœ€å³ä¸€ä½ <em>n_1</em> ï¼š</p><p>n_1=num &amp; i</p><p>é…åˆ <strong>æ— ç¬¦å·å³ç§»æ“ä½œ</strong> ï¼Œå¯è·å– <em>num</em> æ‰€æœ‰ä½çš„å€¼ï¼ˆå³ <em>n_1</em> ~ <em>n_{32}</em> ï¼‰ï¼š</p><p>num = num &gt;&gt;&gt; 1</p><p>å»ºç«‹ä¸€ä¸ªé•¿åº¦ä¸º 32 çš„æ•°ç»„ <em>counts</em> ï¼Œé€šè¿‡ä»¥ä¸Šæ–¹æ³•å¯è®°å½•æ‰€æœ‰æ•°å­—çš„å„äºŒè¿›åˆ¶ä½çš„ <em>1</em> çš„å‡ºç°æ¬¡æ•°ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] counts = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">32</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">32</span>; j++) &#123;</span><br><span class="line">        counts[j] += nums[i] &amp; <span class="number">1</span>; <span class="comment">// æ›´æ–°ç¬¬ j ä½</span></span><br><span class="line">        nums[i] &gt;&gt;&gt;= <span class="number">1</span>; <span class="comment">// ç¬¬ j ä½ --&gt; ç¬¬ j + 1 ä½</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°† <em>counts</em> å„å…ƒç´ å¯¹ <em>3</em> æ±‚ä½™ï¼Œåˆ™ç»“æœä¸º â€œåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—â€ çš„å„äºŒè¿›åˆ¶ä½ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">    counts[i] %= <span class="number">3</span>; <span class="comment">// å¾—åˆ° åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— çš„ç¬¬ (31 - i) ä½ </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨ <strong>å·¦ç§»æ“ä½œ</strong> å’Œ <strong>æˆ–è¿ç®—</strong> ï¼Œå¯å°† <em>counts</em> æ•°ç»„ä¸­å„äºŒè¿›ä½çš„å€¼æ¢å¤åˆ°æ•°å­— <em>res</em> ä¸Šï¼ˆå¾ªç¯åŒºé—´æ˜¯ <img src="./p__i_in__0,_31__.png" alt="i\in\[0,31\] ">  ï¼‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; counts.length; i++) &#123;</span><br><span class="line">    res &lt;&lt;= <span class="number">1</span>; <span class="comment">// å·¦ç§» 1 ä½</span></span><br><span class="line">    res |= counts[<span class="number">31</span> - i]; <span class="comment">// æ¢å¤ç¬¬ i ä½çš„å€¼åˆ° res</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆè¿”å› <em>res</em> å³å¯ã€‚</p><blockquote><p>ç”±äº Python çš„å­˜å‚¨è´Ÿæ•°çš„ç‰¹æ®Šæ€§ï¼Œéœ€è¦å…ˆå°† <em>0</em> - <em>32</em> ä½å–åï¼ˆå³ <code>res ^ 0xffffffff</code> ï¼‰ï¼Œå†å°†æ‰€æœ‰ä½å–åï¼ˆå³ <code>~</code> ï¼‰ã€‚<br>ä¸¤ä¸ªç»„åˆæ“ä½œå®è´¨ä¸Šæ˜¯å°†æ•°å­— <em>32</em> ä»¥ä¸Šä½å–åï¼Œ <em>0</em> - <em>32</em> ä½ä¸å˜ã€‚</p></blockquote><h2 id="å¤æ‚åº¦åˆ†æï¼š-1"><a href="#å¤æ‚åº¦åˆ†æï¼š-1" class="headerlink" title="å¤æ‚åº¦åˆ†æï¼š"></a>å¤æ‚åº¦åˆ†æï¼š</h2><ul><li><strong>æ—¶é—´å¤æ‚åº¦ <em>O(N)</em> ï¼š</strong> å…¶ä¸­ <em>N</em> ä½æ•°ç»„ <em>nums</em> çš„é•¿åº¦ï¼›éå†æ•°ç»„å ç”¨ <em>O(N)</em> ï¼Œæ¯è½®ä¸­çš„å¸¸æ•°ä¸ªä½è¿ç®—æ“ä½œå ç”¨ <em>O(1)</em> ã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦ <em>O(1)</em> ï¼š</strong> æ•°ç»„ <em>counts</em> é•¿åº¦æ’ä¸º <em>32</em> ï¼Œå ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li></ul><h2 id="ä»£ç ï¼š-1"><a href="#ä»£ç ï¼š-1" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h2><p>å®é™…ä¸Šï¼Œåªéœ€è¦ä¿®æ”¹æ±‚ä½™æ•°å€¼ <em>m</em> ï¼Œå³å¯å®ç°è§£å†³ <strong>é™¤äº†ä¸€ä¸ªæ•°å­—ä»¥å¤–ï¼Œå…¶ä½™æ•°å­—éƒ½å‡ºç° <em>m</em> æ¬¡</strong> çš„é€šç”¨é—®é¢˜ã€‚</p><details>    <summary>éå†ç»Ÿè®¡python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        counts = [<span class="number">0</span>] * <span class="number">32</span></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">32</span>):</span><br><span class="line">                counts[j] += num &amp; <span class="number">1</span></span><br><span class="line">                num &gt;&gt;= <span class="number">1</span></span><br><span class="line">        res, m = <span class="number">0</span>, <span class="number">3</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">32</span>):</span><br><span class="line">            res &lt;&lt;= <span class="number">1</span></span><br><span class="line">            res |= counts[<span class="number">31</span> - i] % m</span><br><span class="line">        <span class="keyword">return</span> res <span class="keyword">if</span> counts[<span class="number">31</span>] % m == <span class="number">0</span> <span class="keyword">else</span> ~(res ^ <span class="number">0xffffffff</span>)</span><br></pre></td></tr></table></figure></details><details>    <summary>éå†ç»Ÿè®¡java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] counts = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">32</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">32</span>; j++) &#123;</span><br><span class="line">                counts[j] += num &amp; <span class="number">1</span>;</span><br><span class="line">                num &gt;&gt;&gt;= <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>, m = <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">            res &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">            res |= counts[<span class="number">31</span> - i] % m;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªéç©ºæ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°äº†ä¸‰æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚ &lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
  </entry>
  
  <entry>
    <title>210. è¯¾ç¨‹è¡¨II</title>
    <link href="http://yoursite.com/2020/09/15/210.%20%E8%AF%BE%E7%A8%8B%E8%A1%A8II/"/>
    <id>http://yoursite.com/2020/09/15/210. è¯¾ç¨‹è¡¨II/</id>
    <published>2020-09-15T03:12:12.000Z</published>
    <updated>2020-09-16T08:37:41.944Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œè¿”å›ä½ ä¸ºäº†å­¦å®Œæ‰€æœ‰è¯¾ç¨‹æ‰€å®‰æ’çš„å­¦ä¹ é¡ºåºã€‚</p><a id="more"></a><p>ç°åœ¨ä½ æ€»å…±æœ‰ n é—¨è¯¾éœ€è¦é€‰ï¼Œè®°ä¸º 0 åˆ° n-1ã€‚</p><p>åœ¨é€‰ä¿®æŸäº›è¯¾ç¨‹ä¹‹å‰éœ€è¦ä¸€äº›å…ˆä¿®è¯¾ç¨‹ã€‚ ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ 0 ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 1 ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºä»–ä»¬: [0,1]</p><p>ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œè¿”å›ä½ ä¸ºäº†å­¦å®Œæ‰€æœ‰è¯¾ç¨‹æ‰€å®‰æ’çš„å­¦ä¹ é¡ºåºã€‚</p><p>å¯èƒ½ä¼šæœ‰å¤šä¸ªæ­£ç¡®çš„é¡ºåºï¼Œä½ åªè¦è¿”å›ä¸€ç§å°±å¯ä»¥äº†ã€‚å¦‚æœä¸å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹ï¼Œè¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: 2, [[1,0]] è¾“å‡º: [0,1]è§£é‡Š: æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚è¦å­¦ä¹ è¯¾ç¨‹ 1ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 0ã€‚å› æ­¤ï¼Œæ­£ç¡®çš„è¯¾ç¨‹é¡ºåºä¸º [0,1] ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: 4, [[1,0],[2,0],[3,1],[3,2]]è¾“å‡º: [0,1,2,3] or [0,2,1,3]è§£é‡Š: æ€»å…±æœ‰ 4 é—¨è¯¾ç¨‹ã€‚è¦å­¦ä¹ è¯¾ç¨‹ 3ï¼Œä½ åº”è¯¥å…ˆå®Œæˆè¯¾ç¨‹ 1 å’Œè¯¾ç¨‹ 2ã€‚å¹¶ä¸”è¯¾ç¨‹ 1 å’Œè¯¾ç¨‹ 2 éƒ½åº”è¯¥æ’åœ¨è¯¾ç¨‹ 0 ä¹‹åã€‚     å› æ­¤ï¼Œä¸€ä¸ªæ­£ç¡®çš„è¯¾ç¨‹é¡ºåºæ˜¯ [0,1,2,3] ã€‚å¦ä¸€ä¸ªæ­£ç¡®çš„æ’åºæ˜¯ [0,2,1,3] ã€‚</code></pre><p>è¯´æ˜:</p><ul><li>è¾“å…¥çš„å…ˆå†³æ¡ä»¶æ˜¯ç”±è¾¹ç¼˜åˆ—è¡¨è¡¨ç¤ºçš„å›¾å½¢ï¼Œè€Œä¸æ˜¯é‚»æ¥çŸ©é˜µã€‚è¯¦æƒ…è¯·å‚è§å›¾çš„è¡¨ç¤ºæ³•ã€‚</li><li>ä½ å¯ä»¥å‡å®šè¾“å…¥çš„å…ˆå†³æ¡ä»¶ä¸­æ²¡æœ‰é‡å¤çš„è¾¹ã€‚</li></ul><p>æç¤º:</p><ul><li>è¿™ä¸ªé—®é¢˜ç›¸å½“äºæŸ¥æ‰¾ä¸€ä¸ªå¾ªç¯æ˜¯å¦å­˜åœ¨äºæœ‰å‘å›¾ä¸­ã€‚å¦‚æœå­˜åœ¨å¾ªç¯ï¼Œåˆ™ä¸å­˜åœ¨æ‹“æ‰‘æ’åºï¼Œå› æ­¤ä¸å¯èƒ½é€‰å–æ‰€æœ‰è¯¾ç¨‹è¿›è¡Œå­¦ä¹ ã€‚</li><li>é€šè¿‡ DFS è¿›è¡Œæ‹“æ‰‘æ’åº - ä¸€ä¸ªå…³äºCourseraçš„ç²¾å½©è§†é¢‘æ•™ç¨‹ï¼ˆ21åˆ†é’Ÿï¼‰ï¼Œä»‹ç»æ‹“æ‰‘æ’åºçš„åŸºæœ¬æ¦‚å¿µã€‚</li><li>æ‹“æ‰‘æ’åºä¹Ÿå¯ä»¥é€šè¿‡ BFS å®Œæˆã€‚</li></ul><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="def715df-7ba6-462e-b957-ebaf4120b1ce">210. è¯¾ç¨‹è¡¨ IIçš„.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬é¢˜æ˜¯ä¸€é“ç»å…¸çš„ã€Œæ‹“æ‰‘æ’åºã€é—®é¢˜ã€‚</p><p>ç»™å®šä¸€ä¸ªåŒ…å« <em>n</em> ä¸ªèŠ‚ç‚¹çš„æœ‰å‘å›¾ <em>G</em>ï¼Œæˆ‘ä»¬ç»™å‡ºå®ƒçš„èŠ‚ç‚¹ç¼–å·çš„ä¸€ç§æ’åˆ—ï¼Œå¦‚æœæ»¡è¶³ï¼š</p><blockquote><p>å¯¹äºå›¾ <em>G</em> ä¸­çš„ä»»æ„ä¸€æ¡æœ‰å‘è¾¹ <em>(u, v)<em>ï¼Œ</em>u</em> åœ¨æ’åˆ—ä¸­éƒ½å‡ºç°åœ¨ <em>v</em> çš„å‰é¢ã€‚</p></blockquote><p>é‚£ä¹ˆç§°è¯¥æ’åˆ—æ˜¯å›¾ <em>G</em> çš„ã€Œæ‹“æ‰‘æ’åºã€ã€‚æ ¹æ®ä¸Šè¿°çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸¤ä¸ªç»“è®ºï¼š</p><ul><li>å¦‚æœå›¾ <em>G</em> ä¸­å­˜åœ¨ç¯ï¼ˆå³å›¾ <em>G</em> ä¸æ˜¯ã€Œæœ‰å‘æ— ç¯å›¾ã€ï¼‰ï¼Œé‚£ä¹ˆå›¾ <em>G</em> ä¸å­˜åœ¨æ‹“æ‰‘æ’åºã€‚è¿™æ˜¯å› ä¸ºå‡è®¾å›¾ä¸­å­˜åœ¨ç¯ </li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x_1,x_2,...,x_n,x_1</span><br></pre></td></tr></table></figure><p>ï¼Œé‚£ä¹ˆ <em>x_1</em> åœ¨æ’åˆ—ä¸­å¿…é¡»å‡ºç°åœ¨ <em>x_n</em> çš„å‰é¢ï¼Œä½† <em>x_n</em> åŒæ—¶ä¹Ÿå¿…é¡»å‡ºç°åœ¨ <em>x_1</em> çš„å‰é¢ï¼Œå› æ­¤ä¸å­˜åœ¨ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„æ’åˆ—ï¼Œä¹Ÿå°±ä¸å­˜åœ¨æ‹“æ‰‘æ’åºï¼›</p><ul><li>å¦‚æœå›¾ <em>G</em> æ˜¯æœ‰å‘æ— ç¯å›¾ï¼Œé‚£ä¹ˆå®ƒçš„æ‹“æ‰‘æ’åºå¯èƒ½ä¸æ­¢ä¸€ç§ã€‚ä¸¾ä¸€ä¸ªæœ€æç«¯çš„ä¾‹å­ï¼Œå¦‚æœå›¾ <em>G</em> å€¼åŒ…å« <em>n</em> ä¸ªèŠ‚ç‚¹å´æ²¡æœ‰ä»»ä½•è¾¹ï¼Œé‚£ä¹ˆä»»æ„ä¸€ç§ç¼–å·çš„æ’åˆ—éƒ½å¯ä»¥ä½œä¸ºæ‹“æ‰‘æ’åºã€‚</li></ul><p>æœ‰äº†ä¸Šè¿°çš„ç®€å•åˆ†æï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†æœ¬é¢˜å»ºæ¨¡æˆä¸€ä¸ªæ±‚æ‹“æ‰‘æ’åºçš„é—®é¢˜äº†ï¼š</p><ul><li><p>æˆ‘ä»¬å°†æ¯ä¸€é—¨è¯¾çœ‹æˆä¸€ä¸ªèŠ‚ç‚¹ï¼›</p></li><li><p>å¦‚æœæƒ³è¦å­¦ä¹ è¯¾ç¨‹ <em>A</em> ä¹‹å‰å¿…é¡»å®Œæˆè¯¾ç¨‹ <em>B</em>ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä» <em>B</em> åˆ° <em>A</em> è¿æ¥ä¸€æ¡æœ‰å‘è¾¹ã€‚è¿™æ ·ä»¥æ¥ï¼Œåœ¨æ‹“æ‰‘æ’åºä¸­ï¼Œ<em>B</em> ä¸€å®šå‡ºç°åœ¨ <em>A</em> çš„å‰é¢ã€‚</p></li></ul><p>æ±‚å‡ºè¯¥å›¾çš„æ‹“æ‰‘æ’åºï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ç§ç¬¦åˆè¦æ±‚çš„è¯¾ç¨‹å­¦ä¹ é¡ºåºã€‚ä¸‹é¢ä»‹ç»ä¸¤ç§æ±‚è§£æ‹“æ‰‘æ’åºçš„æ–¹æ³•ã€‚</p><h2 id="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</h2><p><strong>æ€è·¯</strong></p><p>æˆ‘ä»¬å¯ä»¥å°†æ·±åº¦ä¼˜å…ˆæœç´¢çš„æµç¨‹ä¸æ‹“æ‰‘æ’åºçš„æ±‚è§£è”ç³»èµ·æ¥ï¼Œç”¨ä¸€ä¸ªæ ˆæ¥å­˜å‚¨æ‰€æœ‰<strong>å·²ç»æœç´¢å®Œæˆçš„èŠ‚ç‚¹</strong>ã€‚</p><blockquote><p>å¯¹äºä¸€ä¸ªèŠ‚ç‚¹ <em>u</em>ï¼Œå¦‚æœå®ƒçš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹éƒ½å·²ç»æœç´¢å®Œæˆï¼Œé‚£ä¹ˆåœ¨æœç´¢å›æº¯åˆ° <em>u</em> çš„æ—¶å€™ï¼Œ<em>u</em> æœ¬èº«ä¹Ÿä¼šå˜æˆä¸€ä¸ªå·²ç»æœç´¢å®Œæˆçš„èŠ‚ç‚¹ã€‚è¿™é‡Œçš„ã€Œç›¸é‚»èŠ‚ç‚¹ã€æŒ‡çš„æ˜¯ä» <em>u</em> å‡ºå‘é€šè¿‡ä¸€æ¡æœ‰å‘è¾¹å¯ä»¥åˆ°è¾¾çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚</p></blockquote><p>å‡è®¾æˆ‘ä»¬å½“å‰æœç´¢åˆ°äº†èŠ‚ç‚¹ <em>u</em>ï¼Œå¦‚æœå®ƒçš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹éƒ½å·²ç»æœç´¢å®Œæˆï¼Œé‚£ä¹ˆè¿™äº›èŠ‚ç‚¹éƒ½å·²ç»åœ¨æ ˆä¸­äº†ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥æŠŠ <em>u</em> å…¥æ ˆã€‚å¯ä»¥å‘ç°ï¼Œå¦‚æœæˆ‘ä»¬ä»æ ˆé¡¶å¾€æ ˆåº•çš„é¡ºåºçœ‹ï¼Œç”±äº <em>u</em> å¤„äºæ ˆé¡¶çš„ä½ç½®ï¼Œé‚£ä¹ˆ <em>u</em> å‡ºç°åœ¨æ‰€æœ‰ <em>u</em> çš„ç›¸é‚»èŠ‚ç‚¹çš„å‰é¢ã€‚å› æ­¤å¯¹äº <em>u</em> è¿™ä¸ªèŠ‚ç‚¹è€Œè¨€ï¼Œå®ƒæ˜¯æ»¡è¶³æ‹“æ‰‘æ’åºçš„è¦æ±‚çš„ã€‚</p><p>è¿™æ ·ä»¥æ¥ï¼Œæˆ‘ä»¬å¯¹å›¾è¿›è¡Œä¸€éæ·±åº¦ä¼˜å…ˆæœç´¢ã€‚å½“æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œå›æº¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŠŠè¯¥èŠ‚ç‚¹æ”¾å…¥æ ˆä¸­ã€‚æœ€ç»ˆä»æ ˆé¡¶åˆ°æ ˆåº•çš„åºåˆ—å°±æ˜¯ä¸€ç§æ‹“æ‰‘æ’åºã€‚</p><p><strong>ç®—æ³•</strong></p><p>å¯¹äºå›¾ä¸­çš„ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå®ƒåœ¨æœç´¢çš„è¿‡ç¨‹ä¸­æœ‰ä¸‰ç§çŠ¶æ€ï¼Œå³ï¼š</p><ul><li><p>ã€Œæœªæœç´¢ã€ï¼šæˆ‘ä»¬è¿˜æ²¡æœ‰æœç´¢åˆ°è¿™ä¸ªèŠ‚ç‚¹ï¼›</p></li><li><p>ã€Œæœç´¢ä¸­ã€ï¼šæˆ‘ä»¬æœç´¢è¿‡è¿™ä¸ªèŠ‚ç‚¹ï¼Œä½†è¿˜æ²¡æœ‰å›æº¯åˆ°è¯¥èŠ‚ç‚¹ï¼Œå³è¯¥èŠ‚ç‚¹è¿˜æ²¡æœ‰å…¥æ ˆï¼Œè¿˜æœ‰ç›¸é‚»çš„èŠ‚ç‚¹æ²¡æœ‰æœç´¢å®Œæˆï¼‰ï¼›</p></li><li><p>ã€Œå·²å®Œæˆã€ï¼šæˆ‘ä»¬æœç´¢è¿‡å¹¶ä¸”å›æº¯è¿‡è¿™ä¸ªèŠ‚ç‚¹ï¼Œå³è¯¥èŠ‚ç‚¹å·²ç»å…¥æ ˆï¼Œå¹¶ä¸”æ‰€æœ‰è¯¥èŠ‚ç‚¹çš„ç›¸é‚»èŠ‚ç‚¹éƒ½å‡ºç°åœ¨æ ˆçš„æ›´åº•éƒ¨çš„ä½ç½®ï¼Œæ»¡è¶³æ‹“æ‰‘æ’åºçš„è¦æ±‚ã€‚</p></li></ul><p>é€šè¿‡ä¸Šè¿°çš„ä¸‰ç§çŠ¶æ€ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»™å‡ºä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢å¾—åˆ°æ‹“æ‰‘æ’åºçš„ç®—æ³•æµç¨‹ï¼Œåœ¨æ¯ä¸€è½®çš„æœç´¢æœç´¢å¼€å§‹æ—¶ï¼Œæˆ‘ä»¬ä»»å–ä¸€ä¸ªã€Œæœªæœç´¢ã€çš„èŠ‚ç‚¹å¼€å§‹è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ã€‚</p><ul><li><p>æˆ‘ä»¬å°†å½“å‰æœç´¢çš„èŠ‚ç‚¹ <em>u</em> æ ‡è®°ä¸ºã€Œæœç´¢ä¸­ã€ï¼Œéå†è¯¥èŠ‚ç‚¹çš„æ¯ä¸€ä¸ªç›¸é‚»èŠ‚ç‚¹ <em>v</em>ï¼š</p><ul><li><p>å¦‚æœ <em>v</em> ä¸ºã€Œæœªæœç´¢ã€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¼€å§‹æœç´¢ <em>v</em>ï¼Œå¾…æœç´¢å®Œæˆå›æº¯åˆ° <em>u</em>ï¼›</p></li><li><p>å¦‚æœ <em>v</em> ä¸ºã€Œæœç´¢ä¸­ã€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ‰¾åˆ°äº†å›¾ä¸­çš„ä¸€ä¸ªç¯ï¼Œå› æ­¤æ˜¯ä¸å­˜åœ¨æ‹“æ‰‘æ’åºçš„ï¼›</p></li><li><p>å¦‚æœ <em>v</em> ä¸ºã€Œå·²å®Œæˆã€ï¼Œé‚£ä¹ˆè¯´æ˜ <em>v</em> å·²ç»åœ¨æ ˆä¸­äº†ï¼Œè€Œ <em>u</em> è¿˜ä¸åœ¨æ ˆä¸­ï¼Œå› æ­¤ <em>u</em> æ— è®ºä½•æ—¶å…¥æ ˆéƒ½ä¸ä¼šå½±å“åˆ° <em>(u, v)</em> ä¹‹å‰çš„æ‹“æ‰‘å…³ç³»ï¼Œä»¥åŠä¸ç”¨è¿›è¡Œä»»ä½•æ“ä½œã€‚</p></li></ul></li><li><p>å½“ <em>u</em> çš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹éƒ½ä¸ºã€Œå·²å®Œæˆã€æ—¶ï¼Œæˆ‘ä»¬å°† <em>u</em> æ”¾å…¥æ ˆä¸­ï¼Œå¹¶å°†å…¶æ ‡è®°ä¸ºã€Œå·²å®Œæˆã€ã€‚</p></li></ul><p>åœ¨æ•´ä¸ªæ·±åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ç»“æŸåï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰æ‰¾åˆ°å›¾ä¸­çš„ç¯ï¼Œé‚£ä¹ˆæ ˆä¸­å­˜å‚¨è¿™æ‰€æœ‰çš„ <em>n</em> ä¸ªèŠ‚ç‚¹ï¼Œä»æ ˆé¡¶åˆ°æ ˆåº•çš„é¡ºåºå³ä¸ºä¸€ç§æ‹“æ‰‘æ’åºã€‚</p><p>ä¸‹é¢çš„å¹»ç¯ç‰‡ç»™å‡ºäº†æ·±åº¦ä¼˜å…ˆæœç´¢çš„å¯è§†åŒ–æµç¨‹ã€‚å›¾ä¸­çš„ã€Œç™½è‰²ã€ã€Œé»„è‰²ã€ã€Œç»¿è‰²ã€èŠ‚ç‚¹åˆ†åˆ«è¡¨ç¤ºã€Œæœªæœç´¢ã€ã€Œæœç´¢ä¸­ã€ã€Œå·²å®Œæˆã€çš„çŠ¶æ€ã€‚</p><p> <a href="https://assets.leetcode-cn.com/solution-static/207/1.png" target="_blank" rel="noopener">DFS1</a> <a href="https://assets.leetcode-cn.com/solution-static/207/2.png" target="_blank" rel="noopener">DFS2</a> <a href="https://assets.leetcode-cn.com/solution-static/207/3.png" target="_blank" rel="noopener">DFS3</a> <a href="https://assets.leetcode-cn.com/solution-static/207/4.png" target="_blank" rel="noopener">DFS4</a> <a href="https://assets.leetcode-cn.com/solution-static/207/5.png" target="_blank" rel="noopener">DFS5</a> <a href="https://assets.leetcode-cn.com/solution-static/207/6.png" target="_blank" rel="noopener">DFS6</a> <a href="https://assets.leetcode-cn.com/solution-static/207/7.png" target="_blank" rel="noopener">DFS7</a> <a href="https://assets.leetcode-cn.com/solution-static/207/8.png" target="_blank" rel="noopener">DFS8</a> <a href="https://assets.leetcode-cn.com/solution-static/207/9.png" target="_blank" rel="noopener">DFS9</a> <a href="https://assets.leetcode-cn.com/solution-static/207/10.png" target="_blank" rel="noopener">DFS10</a> <a href="https://assets.leetcode-cn.com/solution-static/207/11.png" target="_blank" rel="noopener">DFS11</a> <a href="https://assets.leetcode-cn.com/solution-static/207/12.png" target="_blank" rel="noopener">DFS12</a> <a href="https://assets.leetcode-cn.com/solution-static/207/13.png" target="_blank" rel="noopener">DFS13</a> <a href="https://assets.leetcode-cn.com/solution-static/207/14.png" target="_blank" rel="noopener">DFS14</a> <a href="https://assets.leetcode-cn.com/solution-static/207/15.png" target="_blank" rel="noopener">DFS15</a> <a href="https://assets.leetcode-cn.com/solution-static/207/16.png" target="_blank" rel="noopener">DFS16</a> <a href="https://assets.leetcode-cn.com/solution-static/207/17.png" target="_blank" rel="noopener">DFS17</a> <a href="https://assets.leetcode-cn.com/solution-static/207/18.png" target="_blank" rel="noopener">DFS18</a> <a href="https://assets.leetcode-cn.com/solution-static/207/19.png" target="_blank" rel="noopener">DFS19</a> <a href="https://assets.leetcode-cn.com/solution-static/207/20.png" target="_blank" rel="noopener">DFS20</a> </p><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// å­˜å‚¨æœ‰å‘å›¾</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; edges;</span><br><span class="line">    <span class="comment">// æ ‡è®°æ¯ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€ï¼š0=æœªæœç´¢ï¼Œ1=æœç´¢ä¸­ï¼Œ2=å·²å®Œæˆ</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; visited;</span><br><span class="line">    <span class="comment">// ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿæ ˆï¼Œä¸‹æ ‡ 0 ä¸ºæ ˆåº•ï¼Œn-1 ä¸ºæ ˆé¡¶</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æœ‰å‘å›¾ä¸­æ˜¯å¦æœ‰ç¯</span></span><br><span class="line">    <span class="keyword">bool</span> valid = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å°†èŠ‚ç‚¹æ ‡è®°ä¸ºã€Œæœç´¢ä¸­ã€</span></span><br><span class="line">        visited[u] = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// æœç´¢å…¶ç›¸é‚»èŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">// åªè¦å‘ç°æœ‰ç¯ï¼Œç«‹åˆ»åœæ­¢æœç´¢</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v: edges[u]) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœã€Œæœªæœç´¢ã€é‚£ä¹ˆæœç´¢ç›¸é‚»èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span> (visited[v] == <span class="number">0</span>) &#123;</span><br><span class="line">                dfs(v);</span><br><span class="line">                <span class="keyword">if</span> (!valid) &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å¦‚æœã€Œæœç´¢ä¸­ã€è¯´æ˜æ‰¾åˆ°äº†ç¯</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (visited[v] == <span class="number">1</span>) &#123;</span><br><span class="line">                valid = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†èŠ‚ç‚¹æ ‡è®°ä¸ºã€Œå·²å®Œæˆã€</span></span><br><span class="line">        visited[u] = <span class="number">2</span>;</span><br><span class="line">        <span class="comment">// å°†èŠ‚ç‚¹å…¥æ ˆ</span></span><br><span class="line">        result.push_back(u);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; findOrder(<span class="keyword">int</span> numCourses, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; prerequisites) &#123;</span><br><span class="line">        edges.resize(numCourses);</span><br><span class="line">        visited.resize(numCourses);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; info: prerequisites) &#123;</span><br><span class="line">            edges[info[<span class="number">1</span>]].push_back(info[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ¯æ¬¡æŒ‘é€‰ä¸€ä¸ªã€Œæœªæœç´¢ã€çš„èŠ‚ç‚¹ï¼Œå¼€å§‹è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses &amp;&amp; valid; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!visited[i]) &#123;</span><br><span class="line">                dfs(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!valid) &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœæ²¡æœ‰ç¯ï¼Œé‚£ä¹ˆå°±æœ‰æ‹“æ‰‘æ’åº</span></span><br><span class="line">        <span class="comment">// æ³¨æ„ä¸‹æ ‡ 0 ä¸ºæ ˆåº•ï¼Œå› æ­¤éœ€è¦å°†æ•°ç»„ååºè¾“å‡º</span></span><br><span class="line">        reverse(result.begin(), result.end());</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å­˜å‚¨æœ‰å‘å›¾</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; edges;</span><br><span class="line">    <span class="comment">// æ ‡è®°æ¯ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€ï¼š0=æœªæœç´¢ï¼Œ1=æœç´¢ä¸­ï¼Œ2=å·²å®Œæˆ</span></span><br><span class="line">    <span class="keyword">int</span>[] visited;</span><br><span class="line">    <span class="comment">// ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿæ ˆï¼Œä¸‹æ ‡ n-1 ä¸ºæ ˆåº•ï¼Œ0 ä¸ºæ ˆé¡¶</span></span><br><span class="line">    <span class="keyword">int</span>[] result;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æœ‰å‘å›¾ä¸­æ˜¯å¦æœ‰ç¯</span></span><br><span class="line">    <span class="keyword">boolean</span> valid = <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// æ ˆä¸‹æ ‡</span></span><br><span class="line">    <span class="keyword">int</span> index;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] findOrder(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites) &#123;</span><br><span class="line">        edges = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; ++i) &#123;</span><br><span class="line">            edges.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">        visited = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">        result = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">        index = numCourses - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] info : prerequisites) &#123;</span><br><span class="line">            edges.get(info[<span class="number">1</span>]).add(info[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ¯æ¬¡æŒ‘é€‰ä¸€ä¸ªã€Œæœªæœç´¢ã€çš„èŠ‚ç‚¹ï¼Œå¼€å§‹è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses &amp;&amp; valid; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                dfs(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!valid) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœæ²¡æœ‰ç¯ï¼Œé‚£ä¹ˆå°±æœ‰æ‹“æ‰‘æ’åº</span></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å°†èŠ‚ç‚¹æ ‡è®°ä¸ºã€Œæœç´¢ä¸­ã€</span></span><br><span class="line">        visited[u] = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// æœç´¢å…¶ç›¸é‚»èŠ‚ç‚¹</span></span><br><span class="line">        <span class="comment">// åªè¦å‘ç°æœ‰ç¯ï¼Œç«‹åˆ»åœæ­¢æœç´¢</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v: edges.get(u)) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœã€Œæœªæœç´¢ã€é‚£ä¹ˆæœç´¢ç›¸é‚»èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span> (visited[v] == <span class="number">0</span>) &#123;</span><br><span class="line">                dfs(v);</span><br><span class="line">                <span class="keyword">if</span> (!valid) &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å¦‚æœã€Œæœç´¢ä¸­ã€è¯´æ˜æ‰¾åˆ°äº†ç¯</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (visited[v] == <span class="number">1</span>) &#123;</span><br><span class="line">                valid = <span class="keyword">false</span>;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†èŠ‚ç‚¹æ ‡è®°ä¸ºã€Œå·²å®Œæˆã€</span></span><br><span class="line">        visited[u] = <span class="number">2</span>;</span><br><span class="line">        <span class="comment">// å°†èŠ‚ç‚¹å…¥æ ˆ</span></span><br><span class="line">        result[index--] = u;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findOrder</span><span class="params">(self, numCourses: int, prerequisites: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="comment"># å­˜å‚¨æœ‰å‘å›¾</span></span><br><span class="line">        edges = collections.defaultdict(list)</span><br><span class="line">        <span class="comment"># æ ‡è®°æ¯ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€ï¼š0=æœªæœç´¢ï¼Œ1=æœç´¢ä¸­ï¼Œ2=å·²å®Œæˆ</span></span><br><span class="line">        visited = [<span class="number">0</span>] * numCourses</span><br><span class="line">        <span class="comment"># ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿæ ˆï¼Œä¸‹æ ‡ 0 ä¸ºæ ˆåº•ï¼Œn-1 ä¸ºæ ˆé¡¶</span></span><br><span class="line">        result = list()</span><br><span class="line">        <span class="comment"># åˆ¤æ–­æœ‰å‘å›¾ä¸­æ˜¯å¦æœ‰ç¯</span></span><br><span class="line">        valid = <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> info <span class="keyword">in</span> prerequisites:</span><br><span class="line">            edges[info[<span class="number">1</span>]].append(info[<span class="number">0</span>])</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(u: int)</span>:</span></span><br><span class="line">            <span class="keyword">nonlocal</span> valid</span><br><span class="line">            <span class="comment"># å°†èŠ‚ç‚¹æ ‡è®°ä¸ºã€Œæœç´¢ä¸­ã€</span></span><br><span class="line">            visited[u] = <span class="number">1</span></span><br><span class="line">            <span class="comment"># æœç´¢å…¶ç›¸é‚»èŠ‚ç‚¹</span></span><br><span class="line">            <span class="comment"># åªè¦å‘ç°æœ‰ç¯ï¼Œç«‹åˆ»åœæ­¢æœç´¢</span></span><br><span class="line">            <span class="keyword">for</span> v <span class="keyword">in</span> edges[u]:</span><br><span class="line">                <span class="comment"># å¦‚æœã€Œæœªæœç´¢ã€é‚£ä¹ˆæœç´¢ç›¸é‚»èŠ‚ç‚¹</span></span><br><span class="line">                <span class="keyword">if</span> visited[v] == <span class="number">0</span>:</span><br><span class="line">                    dfs(v)</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> valid:</span><br><span class="line">                        <span class="keyword">return</span></span><br><span class="line">                <span class="comment"># å¦‚æœã€Œæœç´¢ä¸­ã€è¯´æ˜æ‰¾åˆ°äº†ç¯</span></span><br><span class="line">                <span class="keyword">elif</span> visited[v] == <span class="number">1</span>:</span><br><span class="line">                    valid = <span class="keyword">False</span></span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">            <span class="comment"># å°†èŠ‚ç‚¹æ ‡è®°ä¸ºã€Œå·²å®Œæˆã€</span></span><br><span class="line">            visited[u] = <span class="number">2</span></span><br><span class="line">            <span class="comment"># å°†èŠ‚ç‚¹å…¥æ ˆ</span></span><br><span class="line">            result.append(u)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æ¯æ¬¡æŒ‘é€‰ä¸€ä¸ªã€Œæœªæœç´¢ã€çš„èŠ‚ç‚¹ï¼Œå¼€å§‹è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(numCourses):</span><br><span class="line">            <span class="keyword">if</span> valid <span class="keyword">and</span> <span class="keyword">not</span> visited[i]:</span><br><span class="line">                dfs(i)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> valid:</span><br><span class="line">            <span class="keyword">return</span> list()</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å¦‚æœæ²¡æœ‰ç¯ï¼Œé‚£ä¹ˆå°±æœ‰æ‹“æ‰‘æ’åº</span></span><br><span class="line">        <span class="comment"># æ³¨æ„ä¸‹æ ‡ 0 ä¸ºæ ˆåº•ï¼Œå› æ­¤éœ€è¦å°†æ•°ç»„ååºè¾“å‡º</span></span><br><span class="line">        <span class="keyword">return</span> result[::<span class="number">-1</span>]</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findOrder</span><span class="params">(numCourses <span class="keyword">int</span>, prerequisites [][]<span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> (</span><br><span class="line">        edges = <span class="built_in">make</span>([][]<span class="keyword">int</span>, numCourses)</span><br><span class="line">        visited = <span class="built_in">make</span>([]<span class="keyword">int</span>, numCourses)</span><br><span class="line">        result []<span class="keyword">int</span></span><br><span class="line">        valid <span class="keyword">bool</span> = <span class="literal">true</span></span><br><span class="line">        dfs <span class="function"><span class="keyword">func</span><span class="params">(u <span class="keyword">int</span>)</span></span></span><br><span class="line"><span class="function">    )</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">dfs</span> = <span class="title">func</span><span class="params">(u <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">        visited[u] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> _, v := <span class="keyword">range</span> edges[u] &#123;</span><br><span class="line">            <span class="keyword">if</span> visited[v] == <span class="number">0</span> &#123;</span><br><span class="line">                dfs(v)</span><br><span class="line">                <span class="keyword">if</span> !valid &#123;</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> visited[v] == <span class="number">1</span> &#123;</span><br><span class="line">                valid = <span class="literal">false</span></span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        visited[u] = <span class="number">2</span></span><br><span class="line">        result = <span class="built_in">append</span>(result, u)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, info := <span class="keyword">range</span> prerequisites &#123;</span><br><span class="line">        edges[info[<span class="number">1</span>]] = <span class="built_in">append</span>(edges[info[<span class="number">1</span>]], info[<span class="number">0</span>])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; numCourses &amp;&amp; valid; i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> visited[i] == <span class="number">0</span> &#123;</span><br><span class="line">            dfs(i)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> !valid &#123;</span><br><span class="line">        <span class="keyword">return</span> []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(result)/<span class="number">2</span>; i ++ &#123;</span><br><span class="line">        result[i], result[numCourses-i<span class="number">-1</span>] = result[numCourses-i<span class="number">-1</span>], result[i]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>** edges;</span><br><span class="line"><span class="keyword">int</span>* edgeColSize;</span><br><span class="line"><span class="keyword">int</span>* visited;</span><br><span class="line"><span class="keyword">int</span>* result;</span><br><span class="line"><span class="keyword">int</span> resultSize;</span><br><span class="line"><span class="keyword">bool</span> valid;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">    visited[u] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; edgeColSize[u]; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (visited[edges[u][i]] == <span class="number">0</span>) &#123;</span><br><span class="line">            dfs(edges[u][i]);</span><br><span class="line">            <span class="keyword">if</span> (!valid) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (visited[edges[u][i]] == <span class="number">1</span>) &#123;</span><br><span class="line">            valid = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    visited[u] = <span class="number">2</span>;</span><br><span class="line">    result[resultSize++] = u;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>* <span class="title">findOrder</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>** prerequisites, <span class="keyword">int</span> prerequisitesSize, <span class="keyword">int</span>* prerequisitesColSize, <span class="keyword">int</span>* returnSize)</span> </span>&#123;</span><br><span class="line">    valid = <span class="literal">true</span>;</span><br><span class="line">    edges = (<span class="keyword">int</span>**)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * numCourses);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">        edges[i] = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    edgeColSize = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numCourses);</span><br><span class="line">    <span class="built_in">memset</span>(edgeColSize, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numCourses);</span><br><span class="line">    visited = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numCourses);</span><br><span class="line">    <span class="built_in">memset</span>(visited, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numCourses);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; prerequisitesSize; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> a = prerequisites[i][<span class="number">1</span>], b = prerequisites[i][<span class="number">0</span>];</span><br><span class="line">        edgeColSize[a]++;</span><br><span class="line">        edges[a] = (<span class="keyword">int</span>*)<span class="built_in">realloc</span>(edges[a], <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * edgeColSize[a]);</span><br><span class="line">        edges[a][edgeColSize[a] - <span class="number">1</span>] = b;</span><br><span class="line">    &#125;</span><br><span class="line">    result = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numCourses);</span><br><span class="line">    resultSize = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses &amp;&amp; valid; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visited[i]) &#123;</span><br><span class="line">            dfs(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">        <span class="built_in">free</span>(edges[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(edges);</span><br><span class="line">    <span class="built_in">free</span>(edgeColSize);</span><br><span class="line">    <span class="built_in">free</span>(visited);</span><br><span class="line">    <span class="keyword">if</span> (!valid) &#123;</span><br><span class="line">        *returnSize = <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span></span><br><span class="line">        *returnSize = numCourses;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses / <span class="number">2</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> t = result[i];</span><br><span class="line">        result[i] = result[numCourses - i - <span class="number">1</span>], result[numCourses - i - <span class="number">1</span>] = t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦: <em>O(n+m)*ï¼Œå…¶ä¸­ *n</em> ä¸ºè¯¾ç¨‹æ•°ï¼Œ<em>m</em> ä¸ºå…ˆä¿®è¯¾ç¨‹çš„è¦æ±‚æ•°ã€‚è¿™å…¶å®å°±æ˜¯å¯¹å›¾è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢çš„æ—¶é—´å¤æ‚åº¦ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦: <em>O(n+m)<em>ã€‚é¢˜ç›®ä¸­æ˜¯ä»¥åˆ—è¡¨å½¢å¼ç»™å‡ºçš„å…ˆä¿®è¯¾ç¨‹å…³ç³»ï¼Œä¸ºäº†å¯¹å›¾è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œæˆ‘ä»¬éœ€è¦å­˜å‚¨æˆé‚»æ¥è¡¨çš„å½¢å¼ï¼Œç©ºé—´å¤æ‚åº¦ä¸º *O(n+m)</em>ã€‚åœ¨æ·±åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æœ€å¤š *O(n)</em> çš„æ ˆç©ºé—´ï¼ˆé€’å½’ï¼‰è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå¹¶ä¸”è¿˜éœ€è¦è‹¥å¹²ä¸ª <em>O(n)</em> çš„ç©ºé—´å­˜å‚¨èŠ‚ç‚¹çŠ¶æ€ã€æœ€ç»ˆç­”æ¡ˆç­‰ã€‚</p></li></ul><h2 id="æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢</h2><p><strong>æ€è·¯</strong></p><p>æ–¹æ³•ä¸€çš„æ·±åº¦ä¼˜å…ˆæœç´¢æ˜¯ä¸€ç§ã€Œé€†å‘æ€ç»´ã€ï¼šæœ€å…ˆè¢«æ”¾å…¥æ ˆä¸­çš„èŠ‚ç‚¹æ˜¯åœ¨æ‹“æ‰‘æ’åºä¸­æœ€åé¢çš„èŠ‚ç‚¹ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ­£å‘æ€ç»´ï¼Œé¡ºåºåœ°ç”Ÿæˆæ‹“æ‰‘æ’åºï¼Œè¿™ç§æ–¹æ³•ä¹Ÿæ›´åŠ ç›´è§‚ã€‚</p><p>æˆ‘ä»¬è€ƒè™‘æ‹“æ‰‘æ’åºä¸­æœ€å‰é¢çš„èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹ä¸€å®šä¸ä¼šæœ‰ä»»ä½•å…¥è¾¹ï¼Œä¹Ÿå°±æ˜¯å®ƒæ²¡æœ‰ä»»ä½•çš„å…ˆä¿®è¯¾ç¨‹è¦æ±‚ã€‚å½“æˆ‘ä»¬å°†ä¸€ä¸ªèŠ‚ç‚¹åŠ å…¥ç­”æ¡ˆä¸­åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç§»é™¤å®ƒçš„æ‰€æœ‰å‡ºè¾¹ï¼Œä»£è¡¨ç€å®ƒçš„ç›¸é‚»èŠ‚ç‚¹<strong>å°‘äº†ä¸€é—¨å…ˆä¿®è¯¾ç¨‹çš„è¦æ±‚</strong>ã€‚å¦‚æœæŸä¸ªç›¸é‚»èŠ‚ç‚¹å˜æˆäº†ã€Œæ²¡æœ‰ä»»ä½•å…¥è¾¹çš„èŠ‚ç‚¹ã€ï¼Œé‚£ä¹ˆå°±ä»£è¡¨ç€è¿™é—¨è¯¾å¯ä»¥å¼€å§‹å­¦ä¹ äº†ã€‚æŒ‰ç…§è¿™æ ·çš„æµç¨‹ï¼Œæˆ‘ä»¬ä¸æ–­åœ°å°†æ²¡æœ‰å…¥è¾¹çš„èŠ‚ç‚¹åŠ å…¥ç­”æ¡ˆï¼Œç›´åˆ°ç­”æ¡ˆä¸­åŒ…å«æ‰€æœ‰çš„èŠ‚ç‚¹ï¼ˆå¾—åˆ°äº†ä¸€ç§æ‹“æ‰‘æ’åºï¼‰æˆ–è€…ä¸å­˜åœ¨æ²¡æœ‰å…¥è¾¹çš„èŠ‚ç‚¹ï¼ˆå›¾ä¸­åŒ…å«ç¯ï¼‰ã€‚</p><p>ä¸Šé¢çš„æƒ³æ³•ç±»ä¼¼äºå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æµç¨‹ä¸æ‹“æ‰‘æ’åºçš„æ±‚è§£è”ç³»èµ·æ¥ã€‚</p><p><strong>ç®—æ³•</strong></p><p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—æ¥è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚å¼€å§‹æ—¶ï¼Œæ‰€æœ‰å…¥åº¦ä¸º <em>0</em> çš„èŠ‚ç‚¹éƒ½è¢«æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œå®ƒä»¬å°±æ˜¯å¯ä»¥ä½œä¸ºæ‹“æ‰‘æ’åºæœ€å‰é¢çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”å®ƒä»¬ä¹‹é—´çš„ç›¸å¯¹é¡ºåºæ˜¯æ— å…³ç´§è¦çš„ã€‚</p><p>åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ¯ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å–å‡ºé˜Ÿé¦–çš„èŠ‚ç‚¹ <em>u</em>ï¼š</p><ul><li><p>æˆ‘ä»¬å°† <em>u</em> æ”¾å…¥ç­”æ¡ˆä¸­ï¼›</p></li><li><p>æˆ‘ä»¬ç§»é™¤ <em>u</em> çš„æ‰€æœ‰å‡ºè¾¹ï¼Œä¹Ÿå°±æ˜¯å°† <em>u</em> çš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹çš„å…¥åº¦å‡å°‘ <em>1</em>ã€‚å¦‚æœæŸä¸ªç›¸é‚»èŠ‚ç‚¹ <em>v</em> çš„å…¥åº¦å˜ä¸º <em>0</em>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å°† <em>v</em> æ”¾å…¥é˜Ÿåˆ—ä¸­ã€‚</p></li></ul><p>åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ç»“æŸåã€‚å¦‚æœç­”æ¡ˆä¸­åŒ…å«äº†è¿™ <em>n</em> ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ‰¾åˆ°äº†ä¸€ç§æ‹“æ‰‘æ’åºï¼Œå¦åˆ™è¯´æ˜å›¾ä¸­å­˜åœ¨ç¯ï¼Œä¹Ÿå°±ä¸å­˜åœ¨æ‹“æ‰‘æ’åºäº†ã€‚</p><p>ä¸‹é¢çš„å¹»ç¯ç‰‡ç»™å‡ºäº†å¹¿åº¦ä¼˜å…ˆæœç´¢çš„å¯è§†åŒ–æµç¨‹ã€‚</p><p> <a href="https://assets.leetcode-cn.com/solution-static/207/fig1.png" target="_blank" rel="noopener">BFS1</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig2.png" target="_blank" rel="noopener">BFS2</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig3.png" target="_blank" rel="noopener">BFS3</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig4.png" target="_blank" rel="noopener">BFS4</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig5.png" target="_blank" rel="noopener">BFS5</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig6.png" target="_blank" rel="noopener">BFS6</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig7.png" target="_blank" rel="noopener">BFS7</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig8.png" target="_blank" rel="noopener">BFS8</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig9.png" target="_blank" rel="noopener">BFS9</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig10.png" target="_blank" rel="noopener">BFS10</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig11.png" target="_blank" rel="noopener">BFS11</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig12.png" target="_blank" rel="noopener">BFS12</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig13.png" target="_blank" rel="noopener">BFS13</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig14.png" target="_blank" rel="noopener">BFS14</a> </p><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// å­˜å‚¨æœ‰å‘å›¾</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; edges;</span><br><span class="line">    <span class="comment">// å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; indeg;</span><br><span class="line">    <span class="comment">// å­˜å‚¨ç­”æ¡ˆ</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; result;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; findOrder(<span class="keyword">int</span> numCourses, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; prerequisites) &#123;</span><br><span class="line">        edges.resize(numCourses);</span><br><span class="line">        indeg.resize(numCourses);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; info: prerequisites) &#123;</span><br><span class="line">            edges[info[<span class="number">1</span>]].push_back(info[<span class="number">0</span>]);</span><br><span class="line">            ++indeg[info[<span class="number">0</span>]];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹æ”¾å…¥é˜Ÿåˆ—ä¸­</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (indeg[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                q.push(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">            <span class="comment">// ä»é˜Ÿé¦–å–å‡ºä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">int</span> u = q.front();</span><br><span class="line">            q.pop();</span><br><span class="line">            <span class="comment">// æ”¾å…¥ç­”æ¡ˆä¸­</span></span><br><span class="line">            result.push_back(u);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> v: edges[u]) &#123;</span><br><span class="line">                --indeg[v];</span><br><span class="line">                <span class="comment">// å¦‚æœç›¸é‚»èŠ‚ç‚¹ v çš„å…¥åº¦ä¸º 0ï¼Œå°±å¯ä»¥é€‰ v å¯¹åº”çš„è¯¾ç¨‹äº†</span></span><br><span class="line">                <span class="keyword">if</span> (indeg[v] == <span class="number">0</span>) &#123;</span><br><span class="line">                    q.push(v);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (result.size() != numCourses) &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å­˜å‚¨æœ‰å‘å›¾</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; edges;</span><br><span class="line">    <span class="comment">// å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦</span></span><br><span class="line">    <span class="keyword">int</span>[] indeg;</span><br><span class="line">    <span class="comment">// å­˜å‚¨ç­”æ¡ˆ</span></span><br><span class="line">    <span class="keyword">int</span>[] result;</span><br><span class="line">    <span class="comment">// ç­”æ¡ˆä¸‹æ ‡</span></span><br><span class="line">    <span class="keyword">int</span> index;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] findOrder(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites) &#123;</span><br><span class="line">        edges = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; ++i) &#123;</span><br><span class="line">            edges.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">        indeg = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">        result = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">        index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] info : prerequisites) &#123;</span><br><span class="line">            edges.get(info[<span class="number">1</span>]).add(info[<span class="number">0</span>]);</span><br><span class="line">            ++indeg[info[<span class="number">0</span>]];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹æ”¾å…¥é˜Ÿåˆ—ä¸­</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (indeg[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                queue.offer(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="comment">// ä»é˜Ÿé¦–å–å‡ºä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">int</span> u = queue.poll();</span><br><span class="line">            <span class="comment">// æ”¾å…¥ç­”æ¡ˆä¸­</span></span><br><span class="line">            result[index++] = u;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> v: edges.get(u)) &#123;</span><br><span class="line">                --indeg[v];</span><br><span class="line">                <span class="comment">// å¦‚æœç›¸é‚»èŠ‚ç‚¹ v çš„å…¥åº¦ä¸º 0ï¼Œå°±å¯ä»¥é€‰ v å¯¹åº”çš„è¯¾ç¨‹äº†</span></span><br><span class="line">                <span class="keyword">if</span> (indeg[v] == <span class="number">0</span>) &#123;</span><br><span class="line">                    queue.offer(v);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (index != numCourses) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findOrder</span><span class="params">(self, numCourses: int, prerequisites: List[List[int]])</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="comment"># å­˜å‚¨æœ‰å‘å›¾</span></span><br><span class="line">        edges = collections.defaultdict(list)</span><br><span class="line">        <span class="comment"># å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦</span></span><br><span class="line">        indeg = [<span class="number">0</span>] * numCourses</span><br><span class="line">        <span class="comment"># å­˜å‚¨ç­”æ¡ˆ</span></span><br><span class="line">        result = list()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> info <span class="keyword">in</span> prerequisites:</span><br><span class="line">            edges[info[<span class="number">1</span>]].append(info[<span class="number">0</span>])</span><br><span class="line">            indeg[info[<span class="number">0</span>]] += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å°†æ‰€æœ‰å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹æ”¾å…¥é˜Ÿåˆ—ä¸­</span></span><br><span class="line">        q = collections.deque([u <span class="keyword">for</span> u <span class="keyword">in</span> range(numCourses) <span class="keyword">if</span> indeg[u] == <span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> q:</span><br><span class="line">            <span class="comment"># ä»é˜Ÿé¦–å–å‡ºä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">            u = q.popleft()</span><br><span class="line">            <span class="comment"># æ”¾å…¥ç­”æ¡ˆä¸­</span></span><br><span class="line">            result.append(u)</span><br><span class="line">            <span class="keyword">for</span> v <span class="keyword">in</span> edges[u]:</span><br><span class="line">                indeg[v] -= <span class="number">1</span></span><br><span class="line">                <span class="comment"># å¦‚æœç›¸é‚»èŠ‚ç‚¹ v çš„å…¥åº¦ä¸º 0ï¼Œå°±å¯ä»¥é€‰ v å¯¹åº”çš„è¯¾ç¨‹äº†</span></span><br><span class="line">                <span class="keyword">if</span> indeg[v] == <span class="number">0</span>:</span><br><span class="line">                    q.append(v)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> len(result) != numCourses:</span><br><span class="line">            result = list()</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findOrder</span><span class="params">(numCourses <span class="keyword">int</span>, prerequisites [][]<span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> (</span><br><span class="line">        edges = <span class="built_in">make</span>([][]<span class="keyword">int</span>, numCourses)</span><br><span class="line">        indeg = <span class="built_in">make</span>([]<span class="keyword">int</span>, numCourses)</span><br><span class="line">        result []<span class="keyword">int</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, info := <span class="keyword">range</span> prerequisites &#123;</span><br><span class="line">        edges[info[<span class="number">1</span>]] = <span class="built_in">append</span>(edges[info[<span class="number">1</span>]], info[<span class="number">0</span>])</span><br><span class="line">        indeg[info[<span class="number">0</span>]]++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    q := []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; numCourses; i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> indeg[i] == <span class="number">0</span> &#123;</span><br><span class="line">            q = <span class="built_in">append</span>(q, i)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">len</span>(q) &gt; <span class="number">0</span> &#123;</span><br><span class="line">        u := q[<span class="number">0</span>]</span><br><span class="line">        q = q[<span class="number">1</span>:]</span><br><span class="line">        result = <span class="built_in">append</span>(result, u)</span><br><span class="line">        <span class="keyword">for</span> _, v := <span class="keyword">range</span> edges[u] &#123;</span><br><span class="line">            indeg[v]--</span><br><span class="line">            <span class="keyword">if</span> indeg[v] == <span class="number">0</span> &#123;</span><br><span class="line">                q = <span class="built_in">append</span>(q, v)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(result) != numCourses &#123;</span><br><span class="line">        <span class="keyword">return</span> []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢C</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span>* <span class="title">findOrder</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>** prerequisites, <span class="keyword">int</span> prerequisitesSize, <span class="keyword">int</span>* prerequisitesColSize, <span class="keyword">int</span>* returnSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>** edges = (<span class="keyword">int</span>**)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * numCourses);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">        edges[i] = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> edgeColSize[numCourses];</span><br><span class="line">    <span class="built_in">memset</span>(edgeColSize, <span class="number">0</span>, <span class="keyword">sizeof</span>(edgeColSize));</span><br><span class="line">    <span class="keyword">int</span> indeg[numCourses];</span><br><span class="line">    <span class="built_in">memset</span>(indeg, <span class="number">0</span>, <span class="keyword">sizeof</span>(indeg));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; prerequisitesSize; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> a = prerequisites[i][<span class="number">1</span>], b = prerequisites[i][<span class="number">0</span>];</span><br><span class="line">        edgeColSize[a]++;</span><br><span class="line">        edges[a] = (<span class="keyword">int</span>*)<span class="built_in">realloc</span>(edges[a], <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * edgeColSize[a]);</span><br><span class="line">        edges[a][edgeColSize[a] - <span class="number">1</span>] = b;</span><br><span class="line">        ++indeg[b];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> q[numCourses];</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (indeg[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            q[++r] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>* result = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numCourses);</span><br><span class="line">    <span class="keyword">int</span> resultSize = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> visited = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">        ++visited;</span><br><span class="line">        <span class="keyword">int</span> u = q[l++];</span><br><span class="line">        result[resultSize++] = u;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; edgeColSize[u]; ++i) &#123;</span><br><span class="line">            --indeg[edges[u][i]];</span><br><span class="line">            <span class="keyword">if</span> (indeg[edges[u][i]] == <span class="number">0</span>) &#123;</span><br><span class="line">                q[++r] = edges[u][i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">        <span class="built_in">free</span>(edges[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(edges);</span><br><span class="line">    <span class="keyword">if</span> (visited == numCourses) &#123;</span><br><span class="line">        *returnSize = numCourses;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        *returnSize = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦: <em>O(n+m)*ï¼Œå…¶ä¸­ *n</em> ä¸ºè¯¾ç¨‹æ•°ï¼Œ<em>m</em> ä¸ºå…ˆä¿®è¯¾ç¨‹çš„è¦æ±‚æ•°ã€‚è¿™å…¶å®å°±æ˜¯å¯¹å›¾è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ—¶é—´å¤æ‚åº¦ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦: <em>O(n+m)<em>ã€‚é¢˜ç›®ä¸­æ˜¯ä»¥åˆ—è¡¨å½¢å¼ç»™å‡ºçš„å…ˆä¿®è¯¾ç¨‹å…³ç³»ï¼Œä¸ºäº†å¯¹å›¾è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œæˆ‘ä»¬éœ€è¦å­˜å‚¨æˆé‚»æ¥è¡¨çš„å½¢å¼ï¼Œç©ºé—´å¤æ‚åº¦ä¸º *O(n+m)</em>ã€‚åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æœ€å¤š *O(n)</em> çš„é˜Ÿåˆ—ç©ºé—´ï¼ˆè¿­ä»£ï¼‰è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œå¹¶ä¸”è¿˜éœ€è¦è‹¥å¹²ä¸ª <em>O(n)</em> çš„ç©ºé—´å­˜å‚¨èŠ‚ç‚¹å…¥åº¦ã€æœ€ç»ˆç­”æ¡ˆç­‰ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œè¿”å›ä½ ä¸ºäº†å­¦å®Œæ‰€æœ‰è¯¾ç¨‹æ‰€å®‰æ’çš„å­¦ä¹ é¡ºåºã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Breadth-first Search" scheme="http://yoursite.com/tags/Breadth-first-Search/"/>
    
      <category term="Depth-first Search" scheme="http://yoursite.com/tags/Depth-first-Search/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Graph" scheme="http://yoursite.com/tags/Graph/"/>
    
      <category term="Topological sort" scheme="http://yoursite.com/tags/Topological-sort/"/>
    
  </entry>
  
  <entry>
    <title>207. è¯¾ç¨‹è¡¨</title>
    <link href="http://yoursite.com/2020/09/14/207.%20%E8%AF%BE%E7%A8%8B%E8%A1%A8/"/>
    <id>http://yoursite.com/2020/09/14/207. è¯¾ç¨‹è¡¨/</id>
    <published>2020-09-14T08:45:12.000Z</published>
    <updated>2020-09-15T03:11:08.819Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œè¯·ä½ åˆ¤æ–­æ˜¯å¦å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹çš„å­¦ä¹ ï¼Ÿ</p><a id="more"></a><p>ä½ è¿™ä¸ªå­¦æœŸå¿…é¡»é€‰ä¿® numCourse é—¨è¯¾ç¨‹ï¼Œè®°ä¸º0åˆ°numCourse-1 ã€‚</p><p>åœ¨é€‰ä¿®æŸäº›è¯¾ç¨‹ä¹‹å‰éœ€è¦ä¸€äº›å…ˆä¿®è¯¾ç¨‹ã€‚ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ 0 ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 1 ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºä»–ä»¬ï¼š[0,1]</p><p>ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œè¯·ä½ åˆ¤æ–­æ˜¯å¦å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹çš„å­¦ä¹ ï¼Ÿ</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: 2, [[1,0]] è¾“å‡º: trueè§£é‡Š: æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ 1 ä¹‹å‰ï¼Œä½ éœ€è¦å®Œæˆè¯¾ç¨‹ 0ã€‚æ‰€ä»¥è¿™æ˜¯å¯èƒ½çš„ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: 2, [[1,0],[0,1]]è¾“å‡º: falseè§£é‡Š: æ€»å…±æœ‰ 2 é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ 1 ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆå®Œæˆâ€‹è¯¾ç¨‹ 0ï¼›å¹¶ä¸”å­¦ä¹ è¯¾ç¨‹ 0 ä¹‹å‰ï¼Œä½ è¿˜åº”å…ˆå®Œæˆè¯¾ç¨‹ 1ã€‚è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>è¾“å…¥çš„å…ˆå†³æ¡ä»¶æ˜¯ç”± è¾¹ç¼˜åˆ—è¡¨ è¡¨ç¤ºçš„å›¾å½¢ï¼Œè€Œä¸æ˜¯ é‚»æ¥çŸ©é˜µ ã€‚è¯¦æƒ…è¯·å‚è§å›¾çš„è¡¨ç¤ºæ³•ã€‚ä½ å¯ä»¥å‡å®šè¾“å…¥çš„å…ˆå†³æ¡ä»¶ä¸­æ²¡æœ‰é‡å¤çš„è¾¹ã€‚1 &lt;= numCourses &lt;= 10^5</code></pre><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="29da2f01-af1a-45a6-bb69-aea71f42900f">207.è¯¾ç¨‹è¡¨ 2.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote><p>æœ¬é¢˜å’Œ <a href="https://leetcode-cn.com/problems/course-schedule-ii/" target="_blank" rel="noopener">210. è¯¾ç¨‹è¡¨ II</a> æ˜¯å‡ ä¹ä¸€æ ·çš„é¢˜ç›®ã€‚å¦‚æœåœ¨è¿‡å»å®Œæˆè¿‡è¯¥é¢˜ï¼Œé‚£ä¹ˆåªè¦å°†ä»£ç ä¸­çš„è¿”å›å€¼ä»ã€Œéç©ºæ•°ç»„ / ç©ºæ•°ç»„ã€ä¿®æ”¹æˆ[True/False]å°±å¯ä»¥é€šè¿‡æœ¬é¢˜ã€‚</p></blockquote><p>æœ¬é¢˜æ˜¯ä¸€é“ç»å…¸çš„ã€Œæ‹“æ‰‘æ’åºã€é—®é¢˜ã€‚</p><p>ç»™å®šä¸€ä¸ªåŒ…å« <em>n</em> ä¸ªèŠ‚ç‚¹çš„æœ‰å‘å›¾ <em>G</em>ï¼Œæˆ‘ä»¬ç»™å‡ºå®ƒçš„èŠ‚ç‚¹ç¼–å·çš„ä¸€ç§æ’åˆ—ï¼Œå¦‚æœæ»¡è¶³ï¼š</p><blockquote><p>å¯¹äºå›¾ <em>G</em> ä¸­çš„ä»»æ„ä¸€æ¡æœ‰å‘è¾¹ <em>(u, v)<em>ï¼Œ</em>u</em> åœ¨æ’åˆ—ä¸­éƒ½å‡ºç°åœ¨ <em>v</em> çš„å‰é¢ã€‚</p></blockquote><p>é‚£ä¹ˆç§°è¯¥æ’åˆ—æ˜¯å›¾ <em>G</em> çš„ã€Œæ‹“æ‰‘æ’åºã€ã€‚æ ¹æ®ä¸Šè¿°çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸¤ä¸ªç»“è®ºï¼š</p><ul><li>å¦‚æœå›¾ <em>G</em> ä¸­å­˜åœ¨ç¯ï¼ˆå³å›¾ <em>G</em> ä¸æ˜¯ã€Œæœ‰å‘æ— ç¯å›¾ã€ï¼‰ï¼Œé‚£ä¹ˆå›¾ <em>G</em> ä¸å­˜åœ¨æ‹“æ‰‘æ’åºã€‚è¿™æ˜¯å› ä¸ºå‡è®¾å›¾ä¸­å­˜åœ¨ç¯ </li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x_1,x_2,...,x_n,x_1</span><br></pre></td></tr></table></figure><p>ï¼Œé‚£ä¹ˆ <em>x_1</em> åœ¨æ’åˆ—ä¸­å¿…é¡»å‡ºç°åœ¨ <em>x_n</em> çš„å‰é¢ï¼Œä½† <em>x_n</em> åŒæ—¶ä¹Ÿå¿…é¡»å‡ºç°åœ¨ <em>x_1</em> çš„å‰é¢ï¼Œå› æ­¤ä¸å­˜åœ¨ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„æ’åˆ—ï¼Œä¹Ÿå°±ä¸å­˜åœ¨æ‹“æ‰‘æ’åºï¼›</p><ul><li>å¦‚æœå›¾ <em>G</em> æ˜¯æœ‰å‘æ— ç¯å›¾ï¼Œé‚£ä¹ˆå®ƒçš„æ‹“æ‰‘æ’åºå¯èƒ½ä¸æ­¢ä¸€ç§ã€‚ä¸¾ä¸€ä¸ªæœ€æç«¯çš„ä¾‹å­ï¼Œå¦‚æœå›¾ <em>G</em> å€¼åŒ…å« <em>n</em> ä¸ªèŠ‚ç‚¹å´æ²¡æœ‰ä»»ä½•è¾¹ï¼Œé‚£ä¹ˆä»»æ„ä¸€ç§ç¼–å·çš„æ’åˆ—éƒ½å¯ä»¥ä½œä¸ºæ‹“æ‰‘æ’åºã€‚</li></ul><p>æœ‰äº†ä¸Šè¿°çš„ç®€å•åˆ†æï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†æœ¬é¢˜å»ºæ¨¡æˆä¸€ä¸ªæ±‚æ‹“æ‰‘æ’åºçš„é—®é¢˜äº†ï¼š</p><ul><li><p>æˆ‘ä»¬å°†æ¯ä¸€é—¨è¯¾çœ‹æˆä¸€ä¸ªèŠ‚ç‚¹ï¼›</p></li><li><p>å¦‚æœæƒ³è¦å­¦ä¹ è¯¾ç¨‹ <em>A</em> ä¹‹å‰å¿…é¡»å®Œæˆè¯¾ç¨‹ <em>B</em>ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä» <em>B</em> åˆ° <em>A</em> è¿æ¥ä¸€æ¡æœ‰å‘è¾¹ã€‚è¿™æ ·ä»¥æ¥ï¼Œåœ¨æ‹“æ‰‘æ’åºä¸­ï¼Œ<em>B</em> ä¸€å®šå‡ºç°åœ¨ <em>A</em> çš„å‰é¢ã€‚</p></li></ul><p>æ±‚å‡ºè¯¥å›¾æ˜¯å¦å­˜åœ¨æ‹“æ‰‘æ’åºï¼Œå°±å¯ä»¥åˆ¤æ–­æ˜¯å¦æœ‰ä¸€ç§ç¬¦åˆè¦æ±‚çš„è¯¾ç¨‹å­¦ä¹ é¡ºåºã€‚äº‹å®ä¸Šï¼Œ<strong>ç”±äºæ±‚å‡ºä¸€ç§æ‹“æ‰‘æ’åºæ–¹æ³•çš„æœ€ä¼˜æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n+m)*ï¼Œå…¶ä¸­ *n</em> å’Œ <em>m</em> åˆ†åˆ«æ˜¯æœ‰å‘å›¾ <em>G</em> çš„èŠ‚ç‚¹æ•°å’Œè¾¹æ•°ï¼Œæ–¹æ³•è§ <a href="https://leetcode-cn.com/problems/course-schedule-ii/solution/ke-cheng-biao-ii-by-leetcode-solution/" target="_blank" rel="noopener">210. è¯¾ç¨‹è¡¨ II çš„å®˜æ–¹é¢˜è§£</a>ã€‚è€Œåˆ¤æ–­å›¾ <em>G</em> æ˜¯å¦å­˜åœ¨æ‹“æ‰‘æ’åºï¼Œè‡³å°‘ä¹Ÿè¦å¯¹å…¶è¿›è¡Œä¸€æ¬¡å®Œæ•´çš„éå†ï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿä¸º <em>O(n+m)*ã€‚å› æ­¤ä¸å¯èƒ½å­˜åœ¨ä¸€ç§ä»…åˆ¤æ–­å›¾æ˜¯å¦å­˜åœ¨æ‹“æ‰‘æ’åºçš„æ–¹æ³•ï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦åœ¨æ¸è¿›æ„ä¹‰ä¸Šä¸¥æ ¼ä¼˜äº *O(n+m)</em></strong>ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨å’Œ <a href="https://leetcode-cn.com/problems/course-schedule-ii/" target="_blank" rel="noopener">210. è¯¾ç¨‹è¡¨ II</a> å®Œå…¨ç›¸åŒçš„æ–¹æ³•ï¼Œä½†æ— éœ€ä½¿ç”¨æ•°æ®ç»“æ„è®°å½•å®é™…çš„æ‹“æ‰‘æ’åºã€‚ä¸ºäº†å™è¿°çš„å®Œæ•´æ€§ï¼Œä¸‹é¢çš„ä¸¤ç§æ–¹æ³•ä¸ <a href="https://leetcode-cn.com/problems/course-schedule-ii/solution/ke-cheng-biao-ii-by-leetcode-solution/" target="_blank" rel="noopener">210. è¯¾ç¨‹è¡¨ II çš„å®˜æ–¹é¢˜è§£</a> å®Œå…¨ç›¸åŒï¼Œä½†åœ¨ã€Œç®—æ³•ã€éƒ¨åˆ†åçš„ã€Œä¼˜åŒ–ã€éƒ¨åˆ†è¯´æ˜äº†å¦‚ä½•çœå»å¯¹åº”çš„æ•°æ®ç»“æ„ã€‚</p><h2 id="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</h2><p><strong>æ€è·¯</strong></p><p>æˆ‘ä»¬å¯ä»¥å°†æ·±åº¦ä¼˜å…ˆæœç´¢çš„æµç¨‹ä¸æ‹“æ‰‘æ’åºçš„æ±‚è§£è”ç³»èµ·æ¥ï¼Œç”¨ä¸€ä¸ªæ ˆæ¥å­˜å‚¨æ‰€æœ‰<strong>å·²ç»æœç´¢å®Œæˆçš„èŠ‚ç‚¹</strong>ã€‚</p><blockquote><p>å¯¹äºä¸€ä¸ªèŠ‚ç‚¹ <em>u</em>ï¼Œå¦‚æœå®ƒçš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹éƒ½å·²ç»æœç´¢å®Œæˆï¼Œé‚£ä¹ˆåœ¨æœç´¢å›æº¯åˆ° <em>u</em> çš„æ—¶å€™ï¼Œ<em>u</em> æœ¬èº«ä¹Ÿä¼šå˜æˆä¸€ä¸ªå·²ç»æœç´¢å®Œæˆçš„èŠ‚ç‚¹ã€‚è¿™é‡Œçš„ã€Œç›¸é‚»èŠ‚ç‚¹ã€æŒ‡çš„æ˜¯ä» <em>u</em> å‡ºå‘é€šè¿‡ä¸€æ¡æœ‰å‘è¾¹å¯ä»¥åˆ°è¾¾çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚</p></blockquote><p>å‡è®¾æˆ‘ä»¬å½“å‰æœç´¢åˆ°äº†èŠ‚ç‚¹ <em>u</em>ï¼Œå¦‚æœå®ƒçš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹éƒ½å·²ç»æœç´¢å®Œæˆï¼Œé‚£ä¹ˆè¿™äº›èŠ‚ç‚¹éƒ½å·²ç»åœ¨æ ˆä¸­äº†ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥æŠŠ <em>u</em> å…¥æ ˆã€‚å¯ä»¥å‘ç°ï¼Œå¦‚æœæˆ‘ä»¬ä»æ ˆé¡¶å¾€æ ˆåº•çš„é¡ºåºçœ‹ï¼Œç”±äº <em>u</em> å¤„äºæ ˆé¡¶çš„ä½ç½®ï¼Œé‚£ä¹ˆ <em>u</em> å‡ºç°åœ¨æ‰€æœ‰ <em>u</em> çš„ç›¸é‚»èŠ‚ç‚¹çš„å‰é¢ã€‚å› æ­¤å¯¹äº <em>u</em> è¿™ä¸ªèŠ‚ç‚¹è€Œè¨€ï¼Œå®ƒæ˜¯æ»¡è¶³æ‹“æ‰‘æ’åºçš„è¦æ±‚çš„ã€‚</p><p>è¿™æ ·ä»¥æ¥ï¼Œæˆ‘ä»¬å¯¹å›¾è¿›è¡Œä¸€éæ·±åº¦ä¼˜å…ˆæœç´¢ã€‚å½“æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œå›æº¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŠŠè¯¥èŠ‚ç‚¹æ”¾å…¥æ ˆä¸­ã€‚æœ€ç»ˆä»æ ˆé¡¶åˆ°æ ˆåº•çš„åºåˆ—å°±æ˜¯ä¸€ç§æ‹“æ‰‘æ’åºã€‚</p><p><strong>ç®—æ³•</strong></p><p>å¯¹äºå›¾ä¸­çš„ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå®ƒåœ¨æœç´¢çš„è¿‡ç¨‹ä¸­æœ‰ä¸‰ç§çŠ¶æ€ï¼Œå³ï¼š</p><ul><li><p>ã€Œæœªæœç´¢ã€ï¼šæˆ‘ä»¬è¿˜æ²¡æœ‰æœç´¢åˆ°è¿™ä¸ªèŠ‚ç‚¹ï¼›</p></li><li><p>ã€Œæœç´¢ä¸­ã€ï¼šæˆ‘ä»¬æœç´¢è¿‡è¿™ä¸ªèŠ‚ç‚¹ï¼Œä½†è¿˜æ²¡æœ‰å›æº¯åˆ°è¯¥èŠ‚ç‚¹ï¼Œå³è¯¥èŠ‚ç‚¹è¿˜æ²¡æœ‰å…¥æ ˆï¼Œè¿˜æœ‰ç›¸é‚»çš„èŠ‚ç‚¹æ²¡æœ‰æœç´¢å®Œæˆï¼‰ï¼›</p></li><li><p>ã€Œå·²å®Œæˆã€ï¼šæˆ‘ä»¬æœç´¢è¿‡å¹¶ä¸”å›æº¯è¿‡è¿™ä¸ªèŠ‚ç‚¹ï¼Œå³è¯¥èŠ‚ç‚¹å·²ç»å…¥æ ˆï¼Œå¹¶ä¸”æ‰€æœ‰è¯¥èŠ‚ç‚¹çš„ç›¸é‚»èŠ‚ç‚¹éƒ½å‡ºç°åœ¨æ ˆçš„æ›´åº•éƒ¨çš„ä½ç½®ï¼Œæ»¡è¶³æ‹“æ‰‘æ’åºçš„è¦æ±‚ã€‚</p></li></ul><p>é€šè¿‡ä¸Šè¿°çš„ä¸‰ç§çŠ¶æ€ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»™å‡ºä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢å¾—åˆ°æ‹“æ‰‘æ’åºçš„ç®—æ³•æµç¨‹ï¼Œåœ¨æ¯ä¸€è½®çš„æœç´¢æœç´¢å¼€å§‹æ—¶ï¼Œæˆ‘ä»¬ä»»å–ä¸€ä¸ªã€Œæœªæœç´¢ã€çš„èŠ‚ç‚¹å¼€å§‹è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ã€‚</p><ul><li><p>æˆ‘ä»¬å°†å½“å‰æœç´¢çš„èŠ‚ç‚¹ <em>u</em> æ ‡è®°ä¸ºã€Œæœç´¢ä¸­ã€ï¼Œéå†è¯¥èŠ‚ç‚¹çš„æ¯ä¸€ä¸ªç›¸é‚»èŠ‚ç‚¹ <em>v</em>ï¼š</p><ul><li><p>å¦‚æœ <em>v</em> ä¸ºã€Œæœªæœç´¢ã€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¼€å§‹æœç´¢ <em>v</em>ï¼Œå¾…æœç´¢å®Œæˆå›æº¯åˆ° <em>u</em>ï¼›</p></li><li><p>å¦‚æœ <em>v</em> ä¸ºã€Œæœç´¢ä¸­ã€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ‰¾åˆ°äº†å›¾ä¸­çš„ä¸€ä¸ªç¯ï¼Œå› æ­¤æ˜¯ä¸å­˜åœ¨æ‹“æ‰‘æ’åºçš„ï¼›</p></li><li><p>å¦‚æœ <em>v</em> ä¸ºã€Œå·²å®Œæˆã€ï¼Œé‚£ä¹ˆè¯´æ˜ <em>v</em> å·²ç»åœ¨æ ˆä¸­äº†ï¼Œè€Œ <em>u</em> è¿˜ä¸åœ¨æ ˆä¸­ï¼Œå› æ­¤ <em>u</em> æ— è®ºä½•æ—¶å…¥æ ˆéƒ½ä¸ä¼šå½±å“åˆ° <em>(u, v)</em> ä¹‹å‰çš„æ‹“æ‰‘å…³ç³»ï¼Œä»¥åŠä¸ç”¨è¿›è¡Œä»»ä½•æ“ä½œã€‚</p></li></ul></li><li><p>å½“ <em>u</em> çš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹éƒ½ä¸ºã€Œå·²å®Œæˆã€æ—¶ï¼Œæˆ‘ä»¬å°† <em>u</em> æ”¾å…¥æ ˆä¸­ï¼Œå¹¶å°†å…¶æ ‡è®°ä¸ºã€Œå·²å®Œæˆã€ã€‚</p></li></ul><p>åœ¨æ•´ä¸ªæ·±åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ç»“æŸåï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰æ‰¾åˆ°å›¾ä¸­çš„ç¯ï¼Œé‚£ä¹ˆæ ˆä¸­å­˜å‚¨è¿™æ‰€æœ‰çš„ <em>n</em> ä¸ªèŠ‚ç‚¹ï¼Œä»æ ˆé¡¶åˆ°æ ˆåº•çš„é¡ºåºå³ä¸ºä¸€ç§æ‹“æ‰‘æ’åºã€‚</p><p>ä¸‹é¢çš„å¹»ç¯ç‰‡ç»™å‡ºäº†æ·±åº¦ä¼˜å…ˆæœç´¢çš„å¯è§†åŒ–æµç¨‹ã€‚å›¾ä¸­çš„ã€Œç™½è‰²ã€ã€Œé»„è‰²ã€ã€Œç»¿è‰²ã€èŠ‚ç‚¹åˆ†åˆ«è¡¨ç¤ºã€Œæœªæœç´¢ã€ã€Œæœç´¢ä¸­ã€ã€Œå·²å®Œæˆã€çš„çŠ¶æ€ã€‚</p><p> <a href="https://assets.leetcode-cn.com/solution-static/207/1.png" target="_blank" rel="noopener">DFS1</a> <a href="https://assets.leetcode-cn.com/solution-static/207/2.png" target="_blank" rel="noopener">DFS2</a> <a href="https://assets.leetcode-cn.com/solution-static/207/3.png" target="_blank" rel="noopener">DFS3</a> <a href="https://assets.leetcode-cn.com/solution-static/207/4.png" target="_blank" rel="noopener">DFS4</a> <a href="https://assets.leetcode-cn.com/solution-static/207/5.png" target="_blank" rel="noopener">DFS5</a> <a href="https://assets.leetcode-cn.com/solution-static/207/6.png" target="_blank" rel="noopener">DFS6</a> <a href="https://assets.leetcode-cn.com/solution-static/207/7.png" target="_blank" rel="noopener">DFS7</a> <a href="https://assets.leetcode-cn.com/solution-static/207/8.png" target="_blank" rel="noopener">DFS8</a> <a href="https://assets.leetcode-cn.com/solution-static/207/9.png" target="_blank" rel="noopener">DFS9</a> <a href="https://assets.leetcode-cn.com/solution-static/207/10.png" target="_blank" rel="noopener">DFS10</a> <a href="https://assets.leetcode-cn.com/solution-static/207/11.png" target="_blank" rel="noopener">DFS11</a> <a href="https://assets.leetcode-cn.com/solution-static/207/12.png" target="_blank" rel="noopener">DFS12</a> <a href="https://assets.leetcode-cn.com/solution-static/207/13.png" target="_blank" rel="noopener">DFS13</a> <a href="https://assets.leetcode-cn.com/solution-static/207/14.png" target="_blank" rel="noopener">DFS14</a> <a href="https://assets.leetcode-cn.com/solution-static/207/15.png" target="_blank" rel="noopener">DFS15</a> <a href="https://assets.leetcode-cn.com/solution-static/207/16.png" target="_blank" rel="noopener">DFS16</a> <a href="https://assets.leetcode-cn.com/solution-static/207/17.png" target="_blank" rel="noopener">DFS17</a> <a href="https://assets.leetcode-cn.com/solution-static/207/18.png" target="_blank" rel="noopener">DFS18</a> <a href="https://assets.leetcode-cn.com/solution-static/207/19.png" target="_blank" rel="noopener">DFS19</a> <a href="https://assets.leetcode-cn.com/solution-static/207/20.png" target="_blank" rel="noopener">DFS20</a> </p><p><strong>ä¼˜åŒ–</strong></p><p>ç”±äºæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸€ç§æ‹“æ‰‘æ’åºï¼Œè€Œæ ˆçš„ä½œç”¨ä»…ä»…æ˜¯å­˜æ”¾æœ€ç»ˆçš„æ‹“æ‰‘æ’åºç»“æœï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åªè®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€ï¼Œè€Œçœå»å¯¹åº”çš„æ ˆã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; edges;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; visited;</span><br><span class="line">    <span class="keyword">bool</span> valid = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">        visited[u] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v: edges[u]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[v] == <span class="number">0</span>) &#123;</span><br><span class="line">                dfs(v);</span><br><span class="line">                <span class="keyword">if</span> (!valid) &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (visited[v] == <span class="number">1</span>) &#123;</span><br><span class="line">                valid = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        visited[u] = <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; prerequisites)</span> </span>&#123;</span><br><span class="line">        edges.resize(numCourses);</span><br><span class="line">        visited.resize(numCourses);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; info: prerequisites) &#123;</span><br><span class="line">            edges[info[<span class="number">1</span>]].push_back(info[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses &amp;&amp; valid; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!visited[i]) &#123;</span><br><span class="line">                dfs(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> valid;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; edges;</span><br><span class="line">    <span class="keyword">int</span>[] visited;</span><br><span class="line">    <span class="keyword">boolean</span> valid = <span class="keyword">true</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites)</span> </span>&#123;</span><br><span class="line">        edges = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">            edges.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">        visited = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] info : prerequisites) &#123;</span><br><span class="line">            edges.get(info[<span class="number">1</span>]).add(info[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses &amp;&amp; valid; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                dfs(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> valid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//æˆ‘ä»¬å°†å½“å‰æœç´¢çš„èŠ‚ç‚¹ u æ ‡è®°ä¸ºã€Œæœç´¢ä¸­ã€ï¼Œéå†è¯¥èŠ‚ç‚¹çš„æ¯ä¸€ä¸ªç›¸é‚»èŠ‚ç‚¹ v</span></span><br><span class="line">        visited[u] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v : edges.get(u)) &#123;</span><br><span class="line">            <span class="comment">//å¦‚æœ v ä¸ºã€Œæœªæœç´¢ã€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¼€å§‹æœç´¢ vï¼Œå¾…æœç´¢å®Œæˆå›æº¯åˆ° u</span></span><br><span class="line">            <span class="keyword">if</span> (visited[v] == <span class="number">0</span>) &#123;</span><br><span class="line">                dfs(v);</span><br><span class="line">                <span class="keyword">if</span> (!valid) &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (visited[v] == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">//å¦‚æœ v ä¸ºã€Œæœç´¢ä¸­ã€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ‰¾åˆ°äº†å›¾ä¸­çš„ä¸€ä¸ªç¯ï¼Œå› æ­¤æ˜¯ä¸å­˜åœ¨æ‹“æ‰‘æ’åºçš„ï¼›</span></span><br><span class="line">                valid = <span class="keyword">false</span>;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å½“ u çš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹éƒ½ä¸ºã€Œå·²å®Œæˆã€æ—¶ï¼Œæˆ‘ä»¬å°† u æ”¾å…¥æ ˆä¸­ï¼Œå¹¶å°†å…¶æ ‡è®°ä¸ºã€Œå·²å®Œæˆã€ã€‚</span></span><br><span class="line">        visited[u] = <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canFinish</span><span class="params">(self, numCourses: int, prerequisites: List[List[int]])</span> -&gt; bool:</span></span><br><span class="line">        edges = collections.defaultdict(list)</span><br><span class="line">        visited = [<span class="number">0</span>] * numCourses</span><br><span class="line">        result = list()</span><br><span class="line">        valid = <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> info <span class="keyword">in</span> prerequisites:</span><br><span class="line">            edges[info[<span class="number">1</span>]].append(info[<span class="number">0</span>])</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(u: int)</span>:</span></span><br><span class="line">            <span class="keyword">nonlocal</span> valid</span><br><span class="line">            visited[u] = <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> v <span class="keyword">in</span> edges[u]:</span><br><span class="line">                <span class="keyword">if</span> visited[v] == <span class="number">0</span>:</span><br><span class="line">                    dfs(v)</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> valid:</span><br><span class="line">                        <span class="keyword">return</span></span><br><span class="line">                <span class="keyword">elif</span> visited[v] == <span class="number">1</span>:</span><br><span class="line">                    valid = <span class="keyword">False</span></span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">            visited[u] = <span class="number">2</span></span><br><span class="line">            result.append(u)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(numCourses):</span><br><span class="line">            <span class="keyword">if</span> valid <span class="keyword">and</span> <span class="keyword">not</span> visited[i]:</span><br><span class="line">                dfs(i)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> valid</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>** edges;</span><br><span class="line"><span class="keyword">int</span>* edgeColSize;</span><br><span class="line"><span class="keyword">int</span>* visited;</span><br><span class="line"><span class="keyword">bool</span> valid;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u)</span> </span>&#123;</span><br><span class="line">    visited[u] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; edgeColSize[u]; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (visited[edges[u][i]] == <span class="number">0</span>) &#123;</span><br><span class="line">            dfs(edges[u][i]);</span><br><span class="line">            <span class="keyword">if</span> (!valid) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (visited[edges[u][i]] == <span class="number">1</span>) &#123;</span><br><span class="line">            valid = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    visited[u] = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>** prerequisites, <span class="keyword">int</span> prerequisitesSize, <span class="keyword">int</span>* prerequisitesColSize)</span> </span>&#123;</span><br><span class="line">    valid = <span class="literal">true</span>;</span><br><span class="line">    edges = (<span class="keyword">int</span>**)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * numCourses);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">        edges[i] = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    edgeColSize = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numCourses);</span><br><span class="line">    <span class="built_in">memset</span>(edgeColSize, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numCourses);</span><br><span class="line">    visited = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numCourses);</span><br><span class="line">    <span class="built_in">memset</span>(visited, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numCourses);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; prerequisitesSize; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> a = prerequisites[i][<span class="number">1</span>], b = prerequisites[i][<span class="number">0</span>];</span><br><span class="line">        edgeColSize[a]++;</span><br><span class="line">        edges[a] = (<span class="keyword">int</span>*)<span class="built_in">realloc</span>(edges[a], <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * edgeColSize[a]);</span><br><span class="line">        edges[a][edgeColSize[a] - <span class="number">1</span>] = b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses &amp;&amp; valid; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visited[i]) &#123;</span><br><span class="line">            dfs(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">        <span class="built_in">free</span>(edges[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(edges);</span><br><span class="line">    <span class="built_in">free</span>(edgeColSize);</span><br><span class="line">    <span class="built_in">free</span>(visited);</span><br><span class="line">    <span class="keyword">return</span> valid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">canFinish</span><span class="params">(numCourses <span class="keyword">int</span>, prerequisites [][]<span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> (</span><br><span class="line">        edges = <span class="built_in">make</span>([][]<span class="keyword">int</span>, numCourses)</span><br><span class="line">        visited = <span class="built_in">make</span>([]<span class="keyword">int</span>, numCourses)</span><br><span class="line">        result []<span class="keyword">int</span></span><br><span class="line">        valid = <span class="literal">true</span></span><br><span class="line">        dfs <span class="function"><span class="keyword">func</span><span class="params">(u <span class="keyword">int</span>)</span></span></span><br><span class="line"><span class="function">    )</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">dfs</span> = <span class="title">func</span><span class="params">(u <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">        visited[u] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> _, v := <span class="keyword">range</span> edges[u] &#123;</span><br><span class="line">            <span class="keyword">if</span> visited[v] == <span class="number">0</span> &#123;</span><br><span class="line">                dfs(v)</span><br><span class="line">                <span class="keyword">if</span> !valid &#123;</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> visited[v] == <span class="number">1</span> &#123;</span><br><span class="line">                valid = <span class="literal">false</span></span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        visited[u] = <span class="number">2</span></span><br><span class="line">        result = <span class="built_in">append</span>(result, u)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, info := <span class="keyword">range</span> prerequisites &#123;</span><br><span class="line">        edges[info[<span class="number">1</span>]] = <span class="built_in">append</span>(edges[info[<span class="number">1</span>]], info[<span class="number">0</span>])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; numCourses &amp;&amp; valid; i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> visited[i] == <span class="number">0</span> &#123;</span><br><span class="line">            dfs(i)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> valid</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦: <em>O(n+m)*ï¼Œå…¶ä¸­ *n</em> ä¸ºè¯¾ç¨‹æ•°ï¼Œ<em>m</em> ä¸ºå…ˆä¿®è¯¾ç¨‹çš„è¦æ±‚æ•°ã€‚è¿™å…¶å®å°±æ˜¯å¯¹å›¾è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢çš„æ—¶é—´å¤æ‚åº¦ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦: <em>O(n+m)<em>ã€‚é¢˜ç›®ä¸­æ˜¯ä»¥åˆ—è¡¨å½¢å¼ç»™å‡ºçš„å…ˆä¿®è¯¾ç¨‹å…³ç³»ï¼Œä¸ºäº†å¯¹å›¾è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œæˆ‘ä»¬éœ€è¦å­˜å‚¨æˆé‚»æ¥è¡¨çš„å½¢å¼ï¼Œç©ºé—´å¤æ‚åº¦ä¸º *O(n+m)</em>ã€‚åœ¨æ·±åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æœ€å¤š *O(n)</em> çš„æ ˆç©ºé—´ï¼ˆé€’å½’ï¼‰è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå› æ­¤æ€»ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n+m)</em>ã€‚</p></li></ul><h2 id="æ–¹æ³•äºŒ-å¹¿åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•äºŒ-å¹¿åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³•äºŒ: å¹¿åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•äºŒ: å¹¿åº¦ä¼˜å…ˆæœç´¢</h2><p><strong>æ€è·¯</strong></p><p>æ–¹æ³•ä¸€çš„æ·±åº¦ä¼˜å…ˆæœç´¢æ˜¯ä¸€ç§ã€Œé€†å‘æ€ç»´ã€ï¼šæœ€å…ˆè¢«æ”¾å…¥æ ˆä¸­çš„èŠ‚ç‚¹æ˜¯åœ¨æ‹“æ‰‘æ’åºä¸­æœ€åé¢çš„èŠ‚ç‚¹ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ­£å‘æ€ç»´ï¼Œé¡ºåºåœ°ç”Ÿæˆæ‹“æ‰‘æ’åºï¼Œè¿™ç§æ–¹æ³•ä¹Ÿæ›´åŠ ç›´è§‚ã€‚</p><p>æˆ‘ä»¬è€ƒè™‘æ‹“æ‰‘æ’åºä¸­æœ€å‰é¢çš„èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹ä¸€å®šä¸ä¼šæœ‰ä»»ä½•å…¥è¾¹ï¼Œä¹Ÿå°±æ˜¯å®ƒæ²¡æœ‰ä»»ä½•çš„å…ˆä¿®è¯¾ç¨‹è¦æ±‚ã€‚å½“æˆ‘ä»¬å°†ä¸€ä¸ªèŠ‚ç‚¹åŠ å…¥ç­”æ¡ˆä¸­åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç§»é™¤å®ƒçš„æ‰€æœ‰å‡ºè¾¹ï¼Œä»£è¡¨ç€å®ƒçš„ç›¸é‚»èŠ‚ç‚¹<strong>å°‘äº†ä¸€é—¨å…ˆä¿®è¯¾ç¨‹çš„è¦æ±‚</strong>ã€‚å¦‚æœæŸä¸ªç›¸é‚»èŠ‚ç‚¹å˜æˆäº†ã€Œæ²¡æœ‰ä»»ä½•å…¥è¾¹çš„èŠ‚ç‚¹ã€ï¼Œé‚£ä¹ˆå°±ä»£è¡¨ç€è¿™é—¨è¯¾å¯ä»¥å¼€å§‹å­¦ä¹ äº†ã€‚æŒ‰ç…§è¿™æ ·çš„æµç¨‹ï¼Œæˆ‘ä»¬ä¸æ–­åœ°å°†æ²¡æœ‰å…¥è¾¹çš„èŠ‚ç‚¹åŠ å…¥ç­”æ¡ˆï¼Œç›´åˆ°ç­”æ¡ˆä¸­åŒ…å«æ‰€æœ‰çš„èŠ‚ç‚¹ï¼ˆå¾—åˆ°äº†ä¸€ç§æ‹“æ‰‘æ’åºï¼‰æˆ–è€…ä¸å­˜åœ¨æ²¡æœ‰å…¥è¾¹çš„èŠ‚ç‚¹ï¼ˆå›¾ä¸­åŒ…å«ç¯ï¼‰ã€‚</p><p>ä¸Šé¢çš„æƒ³æ³•ç±»ä¼¼äºå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æµç¨‹ä¸æ‹“æ‰‘æ’åºçš„æ±‚è§£è”ç³»èµ·æ¥ã€‚</p><p><strong>ç®—æ³•</strong></p><p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—æ¥è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚åˆå§‹æ—¶ï¼Œæ‰€æœ‰å…¥åº¦ä¸º <em>0</em> çš„èŠ‚ç‚¹éƒ½è¢«æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œå®ƒä»¬å°±æ˜¯å¯ä»¥ä½œä¸ºæ‹“æ‰‘æ’åºæœ€å‰é¢çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”å®ƒä»¬ä¹‹é—´çš„ç›¸å¯¹é¡ºåºæ˜¯æ— å…³ç´§è¦çš„ã€‚</p><p>åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ¯ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å–å‡ºé˜Ÿé¦–çš„èŠ‚ç‚¹ <em>u</em>ï¼š</p><ul><li><p>æˆ‘ä»¬å°† <em>u</em> æ”¾å…¥ç­”æ¡ˆä¸­ï¼›</p></li><li><p>æˆ‘ä»¬ç§»é™¤ <em>u</em> çš„æ‰€æœ‰å‡ºè¾¹ï¼Œä¹Ÿå°±æ˜¯å°† <em>u</em> çš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹çš„å…¥åº¦å‡å°‘ <em>1</em>ã€‚å¦‚æœæŸä¸ªç›¸é‚»èŠ‚ç‚¹ <em>v</em> çš„å…¥åº¦å˜ä¸º <em>0</em>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å°† <em>v</em> æ”¾å…¥é˜Ÿåˆ—ä¸­ã€‚</p></li></ul><p>åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ç»“æŸåã€‚å¦‚æœç­”æ¡ˆä¸­åŒ…å«äº†è¿™ <em>n</em> ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ‰¾åˆ°äº†ä¸€ç§æ‹“æ‰‘æ’åºï¼Œå¦åˆ™è¯´æ˜å›¾ä¸­å­˜åœ¨ç¯ï¼Œä¹Ÿå°±ä¸å­˜åœ¨æ‹“æ‰‘æ’åºäº†ã€‚</p><p>ä¸‹é¢çš„å¹»ç¯ç‰‡ç»™å‡ºäº†å¹¿åº¦ä¼˜å…ˆæœç´¢çš„å¯è§†åŒ–æµç¨‹ã€‚</p><p> <a href="https://assets.leetcode-cn.com/solution-static/207/fig1.png" target="_blank" rel="noopener">BFS1</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig2.png" target="_blank" rel="noopener">BFS2</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig3.png" target="_blank" rel="noopener">BFS3</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig4.png" target="_blank" rel="noopener">BFS4</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig5.png" target="_blank" rel="noopener">BFS5</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig6.png" target="_blank" rel="noopener">BFS6</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig7.png" target="_blank" rel="noopener">BFS7</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig8.png" target="_blank" rel="noopener">BFS8</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig9.png" target="_blank" rel="noopener">BFS9</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig10.png" target="_blank" rel="noopener">BFS10</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig11.png" target="_blank" rel="noopener">BFS11</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig12.png" target="_blank" rel="noopener">BFS12</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig13.png" target="_blank" rel="noopener">BFS13</a> <a href="https://assets.leetcode-cn.com/solution-static/207/fig14.png" target="_blank" rel="noopener">BFS14</a> </p><p><strong>ä¼˜åŒ–</strong></p><p>ç”±äºæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸€ç§æ‹“æ‰‘æ’åºï¼Œå› æ­¤æˆ‘ä»¬çœå»å­˜æ”¾ç­”æ¡ˆæ•°ç»„ï¼Œè€Œæ˜¯åªç”¨ä¸€ä¸ªå˜é‡è®°å½•è¢«æ”¾å…¥ç­”æ¡ˆæ•°ç»„çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢ç»“æŸä¹‹åï¼Œæˆ‘ä»¬åˆ¤æ–­è¯¥å˜é‡çš„å€¼æ˜¯å¦ç­‰äºè¯¾ç¨‹æ•°ï¼Œå°±èƒ½çŸ¥é“æ˜¯å¦å­˜åœ¨ä¸€ç§æ‹“æ‰‘æ’åºã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; edges;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; indeg;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; prerequisites)</span> </span>&#123;</span><br><span class="line">        edges.resize(numCourses);</span><br><span class="line">        indeg.resize(numCourses);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; info: prerequisites) &#123;</span><br><span class="line">            edges[info[<span class="number">1</span>]].push_back(info[<span class="number">0</span>]);</span><br><span class="line">            ++indeg[info[<span class="number">0</span>]];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (indeg[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                q.push(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> visited = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">            ++visited;</span><br><span class="line">            <span class="keyword">int</span> u = q.front();</span><br><span class="line">            q.pop();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> v: edges[u]) &#123;</span><br><span class="line">                --indeg[v];</span><br><span class="line">                <span class="keyword">if</span> (indeg[v] == <span class="number">0</span>) &#123;</span><br><span class="line">                    q.push(v);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> visited == numCourses;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; edges;</span><br><span class="line">    <span class="keyword">int</span>[] indeg;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites)</span> </span>&#123;</span><br><span class="line">        edges = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">            edges.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">        indeg = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] info : prerequisites) &#123;</span><br><span class="line">            edges.get(info[<span class="number">1</span>]).add(info[<span class="number">0</span>]);</span><br><span class="line">            ++indeg[info[<span class="number">0</span>]];</span><br><span class="line">        &#125;</span><br><span class="line">        Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="comment">//åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ¯ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å–å‡ºé˜Ÿé¦–çš„èŠ‚ç‚¹ uï¼š</span></span><br><span class="line">        <span class="comment">//æˆ‘ä»¬å°† u æ”¾å…¥ç­”æ¡ˆä¸­ï¼›</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses ; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (indeg[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                queue.offer(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> visited = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            visited++;</span><br><span class="line">            <span class="keyword">int</span> u = queue.poll();</span><br><span class="line">            <span class="comment">//æˆ‘ä»¬ç§»é™¤ u çš„æ‰€æœ‰å‡ºè¾¹ï¼Œä¹Ÿå°±æ˜¯å°† u çš„æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹çš„å…¥åº¦å‡å°‘ 1ã€‚å¦‚æœæŸä¸ªç›¸é‚»èŠ‚ç‚¹ v çš„å…¥åº¦å˜ä¸º 0ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å°† v æ”¾å…¥é˜Ÿåˆ—ä¸­ã€‚</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> v : edges.get(u)) &#123;</span><br><span class="line">                --indeg[v];</span><br><span class="line">                <span class="keyword">if</span> (indeg[v] == <span class="number">0</span>) &#123;</span><br><span class="line">                    queue.offer(v);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ç»“æŸåã€‚å¦‚æœç­”æ¡ˆä¸­åŒ…å«äº†è¿™ n ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ‰¾åˆ°äº†ä¸€ç§æ‹“æ‰‘æ’åºï¼Œå¦åˆ™è¯´æ˜å›¾ä¸­å­˜åœ¨ç¯ï¼Œä¹Ÿå°±ä¸å­˜åœ¨æ‹“æ‰‘æ’åºäº†ã€‚</span></span><br><span class="line">        <span class="keyword">return</span> visited == numCourses;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canFinish</span><span class="params">(self, numCourses: int, prerequisites: List[List[int]])</span> -&gt; bool:</span></span><br><span class="line">        edges = collections.defaultdict(list)</span><br><span class="line">        indeg = [<span class="number">0</span>] * numCourses</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> info <span class="keyword">in</span> prerequisites:</span><br><span class="line">            edges[info[<span class="number">1</span>]].append(info[<span class="number">0</span>])</span><br><span class="line">            indeg[info[<span class="number">0</span>]] += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        q = collections.deque([u <span class="keyword">for</span> u <span class="keyword">in</span> range(numCourses) <span class="keyword">if</span> indeg[u] == <span class="number">0</span>])</span><br><span class="line">        visited = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> q:</span><br><span class="line">            visited += <span class="number">1</span></span><br><span class="line">            u = q.popleft()</span><br><span class="line">            <span class="keyword">for</span> v <span class="keyword">in</span> edges[u]:</span><br><span class="line">                indeg[v] -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> indeg[v] == <span class="number">0</span>:</span><br><span class="line">                    q.append(v)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> visited == numCourses</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢C</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>** prerequisites, <span class="keyword">int</span> prerequisitesSize, <span class="keyword">int</span>* prerequisitesColSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>** edges = (<span class="keyword">int</span>**)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * numCourses);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">        edges[i] = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> edgeColSize[numCourses];</span><br><span class="line">    <span class="built_in">memset</span>(edgeColSize, <span class="number">0</span>, <span class="keyword">sizeof</span>(edgeColSize));</span><br><span class="line">    <span class="keyword">int</span> indeg[numCourses];</span><br><span class="line">    <span class="built_in">memset</span>(indeg, <span class="number">0</span>, <span class="keyword">sizeof</span>(indeg));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; prerequisitesSize; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> a = prerequisites[i][<span class="number">1</span>], b = prerequisites[i][<span class="number">0</span>];</span><br><span class="line">        edgeColSize[a]++;</span><br><span class="line">        edges[a] = (<span class="keyword">int</span>*)<span class="built_in">realloc</span>(edges[a], <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * edgeColSize[a]);</span><br><span class="line">        edges[a][edgeColSize[a] - <span class="number">1</span>] = b;</span><br><span class="line">        ++indeg[b];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> q[numCourses];</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (indeg[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            q[++r] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> visited = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">        ++visited;</span><br><span class="line">        <span class="keyword">int</span> u = q[l++];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; edgeColSize[u]; ++i) &#123;</span><br><span class="line">            --indeg[edges[u][i]];</span><br><span class="line">            <span class="keyword">if</span> (indeg[edges[u][i]] == <span class="number">0</span>) &#123;</span><br><span class="line">                q[++r] = edges[u][i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i++) &#123;</span><br><span class="line">        <span class="built_in">free</span>(edges[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(edges);</span><br><span class="line">    <span class="keyword">return</span> visited == numCourses;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">canFinish</span><span class="params">(numCourses <span class="keyword">int</span>, prerequisites [][]<span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> (</span><br><span class="line">        edges = <span class="built_in">make</span>([][]<span class="keyword">int</span>, numCourses)</span><br><span class="line">        indeg = <span class="built_in">make</span>([]<span class="keyword">int</span>, numCourses)</span><br><span class="line">        result []<span class="keyword">int</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, info := <span class="keyword">range</span> prerequisites &#123;</span><br><span class="line">        edges[info[<span class="number">1</span>]] = <span class="built_in">append</span>(edges[info[<span class="number">1</span>]], info[<span class="number">0</span>])</span><br><span class="line">        indeg[info[<span class="number">0</span>]]++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    q := []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; numCourses; i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> indeg[i] == <span class="number">0</span> &#123;</span><br><span class="line">            q = <span class="built_in">append</span>(q, i)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">len</span>(q) &gt; <span class="number">0</span> &#123;</span><br><span class="line">        u := q[<span class="number">0</span>]</span><br><span class="line">        q = q[<span class="number">1</span>:]</span><br><span class="line">        result = <span class="built_in">append</span>(result, u)</span><br><span class="line">        <span class="keyword">for</span> _, v := <span class="keyword">range</span> edges[u] &#123;</span><br><span class="line">            indeg[v]--</span><br><span class="line">            <span class="keyword">if</span> indeg[v] == <span class="number">0</span> &#123;</span><br><span class="line">                q = <span class="built_in">append</span>(q, v)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(result) == numCourses</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li><p>æ—¶é—´å¤æ‚åº¦: <em>O(n+m)*ï¼Œå…¶ä¸­ *n</em> ä¸ºè¯¾ç¨‹æ•°ï¼Œ<em>m</em> ä¸ºå…ˆä¿®è¯¾ç¨‹çš„è¦æ±‚æ•°ã€‚è¿™å…¶å®å°±æ˜¯å¯¹å›¾è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ—¶é—´å¤æ‚åº¦ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦: <em>O(n+m)<em>ã€‚é¢˜ç›®ä¸­æ˜¯ä»¥åˆ—è¡¨å½¢å¼ç»™å‡ºçš„å…ˆä¿®è¯¾ç¨‹å…³ç³»ï¼Œä¸ºäº†å¯¹å›¾è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œæˆ‘ä»¬éœ€è¦å­˜å‚¨æˆé‚»æ¥è¡¨çš„å½¢å¼ï¼Œç©ºé—´å¤æ‚åº¦ä¸º *O(n+m)</em>ã€‚åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æœ€å¤š *O(n)</em> çš„é˜Ÿåˆ—ç©ºé—´ï¼ˆè¿­ä»£ï¼‰è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚å› æ­¤æ€»ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n+m)</em>ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œè¯·ä½ åˆ¤æ–­æ˜¯å¦å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹çš„å­¦ä¹ ï¼Ÿ&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Breadth-first Search" scheme="http://yoursite.com/tags/Breadth-first-Search/"/>
    
      <category term="Depth-first Search" scheme="http://yoursite.com/tags/Depth-first-Search/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Graph" scheme="http://yoursite.com/tags/Graph/"/>
    
      <category term="Topological sort" scheme="http://yoursite.com/tags/Topological-sort/"/>
    
  </entry>
  
  <entry>
    <title>200. å²›å±¿æ•°é‡</title>
    <link href="http://yoursite.com/2020/09/14/200.%20%E5%B2%9B%E5%B1%BF%E6%95%B0%E9%87%8F/"/>
    <id>http://yoursite.com/2020/09/14/200. å²›å±¿æ•°é‡/</id>
    <published>2020-09-14T07:45:12.000Z</published>
    <updated>2020-09-14T08:51:15.789Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªç”± â€˜1â€™ï¼ˆé™†åœ°ï¼‰å’Œ â€˜0â€™ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚</p><a id="more"></a><p>å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚</p><p>æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥:[[&apos;1&apos;,&apos;1&apos;,&apos;1&apos;,&apos;1&apos;,&apos;0&apos;],[&apos;1&apos;,&apos;1&apos;,&apos;0&apos;,&apos;1&apos;,&apos;0&apos;],[&apos;1&apos;,&apos;1&apos;,&apos;0&apos;,&apos;0&apos;,&apos;0&apos;],[&apos;0&apos;,&apos;0&apos;,&apos;0&apos;,&apos;0&apos;,&apos;0&apos;]]è¾“å‡º: 1</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥:[[&apos;1&apos;,&apos;1&apos;,&apos;0&apos;,&apos;0&apos;,&apos;0&apos;],[&apos;1&apos;,&apos;1&apos;,&apos;0&apos;,&apos;0&apos;,&apos;0&apos;],[&apos;0&apos;,&apos;0&apos;,&apos;1&apos;,&apos;0&apos;,&apos;0&apos;],[&apos;0&apos;,&apos;0&apos;,&apos;0&apos;,&apos;1&apos;,&apos;1&apos;]]è¾“å‡º: 3è§£é‡Š: æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³å’Œ/æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥è€Œæˆã€‚</code></pre><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="0a3f7b6f-abd0-4af8-87ef-89c565b967d4">LeetCode 200 ZYH.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</h2><p>æˆ‘ä»¬å¯ä»¥å°†äºŒç»´ç½‘æ ¼çœ‹æˆä¸€ä¸ªæ— å‘å›¾ï¼Œç«–ç›´æˆ–æ°´å¹³ç›¸é‚»çš„ <em>1</em> ä¹‹é—´æœ‰è¾¹ç›¸è¿ã€‚</p><p>ä¸ºäº†æ±‚å‡ºå²›å±¿çš„æ•°é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ‰«ææ•´ä¸ªäºŒç»´ç½‘æ ¼ã€‚å¦‚æœä¸€ä¸ªä½ç½®ä¸º <em>1</em>ï¼Œåˆ™ä»¥å…¶ä¸ºèµ·å§‹èŠ‚ç‚¹å¼€å§‹è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ã€‚åœ¨æ·±åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªæœç´¢åˆ°çš„ <em>1</em> éƒ½ä¼šè¢«é‡æ–°æ ‡è®°ä¸º <em>0</em>ã€‚</p><p>æœ€ç»ˆå²›å±¿çš„æ•°é‡å°±æ˜¯æˆ‘ä»¬è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢çš„æ¬¡æ•°ã€‚</p><p>ä¸‹é¢çš„åŠ¨ç”»å±•ç¤ºäº†æ•´ä¸ªç®—æ³•ã€‚</p><p> <a href="https://pic.leetcode-cn.com/5dae0de2a06f4eae5113f9cadfa5c51bbcf0b9347c5861aa73c93d7bc1d50b34-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/61a98091fe75de107bf886a608e87d5bb29d810b9e7eb1e00c541f49194ea543-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/6d060f275561dc390841f78d85124fd193efb0801ea2dc865b2767f1093e4f3a-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/233368eab82832268c3c7266fd7fe65c78626de9fd89cb90b3f36a7b4e52860d-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/bf055c3d5f6b310f6a110ada65d503de6d7793276f5638731c81c53b4276b835-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/195ba530a5350e0a8f8e372319d061c85316c1064017d5c00d7cfc2b0c055de6-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/c21a88bde9450ad83d6164c2df4677b16154fa5990408459a2a45982b9cd70fd-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/0cfddec2d15ed9a56c434f470ff07eb3dfc83dccbda0160583d1bce469077274-image.png" target="_blank" rel="noopener">image.png</a> </p><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; grid, <span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> nr = grid.size();</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].size();</span><br><span class="line"></span><br><span class="line">        grid[r][c] = <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">if</span> (r - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[r<span class="number">-1</span>][c] == <span class="string">'1'</span>) dfs(grid, r - <span class="number">1</span>, c);</span><br><span class="line">        <span class="keyword">if</span> (r + <span class="number">1</span> &lt; nr &amp;&amp; grid[r+<span class="number">1</span>][c] == <span class="string">'1'</span>) dfs(grid, r + <span class="number">1</span>, c);</span><br><span class="line">        <span class="keyword">if</span> (c - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[r][c<span class="number">-1</span>] == <span class="string">'1'</span>) dfs(grid, r, c - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (c + <span class="number">1</span> &lt; nc &amp;&amp; grid[r][c+<span class="number">1</span>] == <span class="string">'1'</span>) dfs(grid, r, c + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> nr = grid.size();</span><br><span class="line">        <span class="keyword">if</span> (!nr) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].size();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> num_islands = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; nr; ++r) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; nc; ++c) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[r][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    ++num_islands;</span><br><span class="line">                    dfs(grid, r, c);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> num_islands;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] grid, <span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> nr = grid.length;</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].length;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (r &lt; <span class="number">0</span> || c &lt; <span class="number">0</span> || r &gt;= nr || c &gt;= nc || grid[r][c] == <span class="string">'0'</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        grid[r][c] = <span class="string">'0'</span>;</span><br><span class="line">        dfs(grid, r - <span class="number">1</span>, c);</span><br><span class="line">        dfs(grid, r + <span class="number">1</span>, c);</span><br><span class="line">        dfs(grid, r, c - <span class="number">1</span>);</span><br><span class="line">        dfs(grid, r, c + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> nr = grid.length;</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> num_islands = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; nr; ++r) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; nc; ++c) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[r][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    ++num_islands;</span><br><span class="line">                    dfs(grid, r, c);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> num_islands;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(self, grid, r, c)</span>:</span></span><br><span class="line">        grid[r][c] = <span class="number">0</span></span><br><span class="line">        nr, nc = len(grid), len(grid[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">for</span> x, y <span class="keyword">in</span> [(r - <span class="number">1</span>, c), (r + <span class="number">1</span>, c), (r, c - <span class="number">1</span>), (r, c + <span class="number">1</span>)]:</span><br><span class="line">            <span class="keyword">if</span> <span class="number">0</span> &lt;= x &lt; nr <span class="keyword">and</span> <span class="number">0</span> &lt;= y &lt; nc <span class="keyword">and</span> grid[x][y] == <span class="string">"1"</span>:</span><br><span class="line">                self.dfs(grid, x, y)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numIslands</span><span class="params">(self, grid: List[List[str]])</span> -&gt; int:</span></span><br><span class="line">        nr = len(grid)</span><br><span class="line">        <span class="keyword">if</span> nr == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        nc = len(grid[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">        num_islands = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> range(nr):</span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> range(nc):</span><br><span class="line">                <span class="keyword">if</span> grid[r][c] == <span class="string">"1"</span>:</span><br><span class="line">                    num_islands += <span class="number">1</span></span><br><span class="line">                    self.dfs(grid, r, c)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> num_islands</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(MN)*ï¼Œå…¶ä¸­ *M</em> å’Œ <em>N</em> åˆ†åˆ«ä¸ºè¡Œæ•°å’Œåˆ—æ•°ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(MN)</em>ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ•´ä¸ªç½‘æ ¼å‡ä¸ºé™†åœ°ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢çš„æ·±åº¦è¾¾åˆ° <em>M N</em>ã€‚</p></li></ul><h2 id="æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢</h2><p>åŒæ ·åœ°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ä»£æ›¿æ·±åº¦ä¼˜å…ˆæœç´¢ã€‚</p><p>ä¸ºäº†æ±‚å‡ºå²›å±¿çš„æ•°é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ‰«ææ•´ä¸ªäºŒç»´ç½‘æ ¼ã€‚å¦‚æœä¸€ä¸ªä½ç½®ä¸º <em>1</em>ï¼Œåˆ™å°†å…¶åŠ å…¥é˜Ÿåˆ—ï¼Œå¼€å§‹è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚åœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªæœç´¢åˆ°çš„ <em>1</em> éƒ½ä¼šè¢«é‡æ–°æ ‡è®°ä¸º <em>0</em>ã€‚ç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºï¼Œæœç´¢ç»“æŸã€‚</p><p>æœ€ç»ˆå²›å±¿çš„æ•°é‡å°±æ˜¯æˆ‘ä»¬è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ¬¡æ•°ã€‚</p><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> nr = grid.size();</span><br><span class="line">        <span class="keyword">if</span> (!nr) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].size();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> num_islands = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; nr; ++r) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; nc; ++c) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[r][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    ++num_islands;</span><br><span class="line">                    grid[r][c] = <span class="string">'0'</span>;</span><br><span class="line">                    <span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; neighbors;</span><br><span class="line">                    neighbors.push(&#123;r, c&#125;);</span><br><span class="line">                    <span class="keyword">while</span> (!neighbors.empty()) &#123;</span><br><span class="line">                        <span class="keyword">auto</span> rc = neighbors.front();</span><br><span class="line">                        neighbors.pop();</span><br><span class="line">                        <span class="keyword">int</span> row = rc.first, col = rc.second;</span><br><span class="line">                        <span class="keyword">if</span> (row - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[row<span class="number">-1</span>][col] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.push(&#123;row<span class="number">-1</span>, col&#125;);</span><br><span class="line">                            grid[row<span class="number">-1</span>][col] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (row + <span class="number">1</span> &lt; nr &amp;&amp; grid[row+<span class="number">1</span>][col] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.push(&#123;row+<span class="number">1</span>, col&#125;);</span><br><span class="line">                            grid[row+<span class="number">1</span>][col] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (col - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[row][col<span class="number">-1</span>] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.push(&#123;row, col<span class="number">-1</span>&#125;);</span><br><span class="line">                            grid[row][col<span class="number">-1</span>] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (col + <span class="number">1</span> &lt; nc &amp;&amp; grid[row][col+<span class="number">1</span>] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.push(&#123;row, col+<span class="number">1</span>&#125;);</span><br><span class="line">                            grid[row][col+<span class="number">1</span>] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> num_islands;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> nr = grid.length;</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> num_islands = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; nr; ++r) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; nc; ++c) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[r][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    ++num_islands;</span><br><span class="line">                    grid[r][c] = <span class="string">'0'</span>;</span><br><span class="line">                    Queue&lt;Integer&gt; neighbors = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">                    neighbors.add(r * nc + c);</span><br><span class="line">                    <span class="keyword">while</span> (!neighbors.isEmpty()) &#123;</span><br><span class="line">                        <span class="keyword">int</span> id = neighbors.remove();</span><br><span class="line">                        <span class="keyword">int</span> row = id / nc;</span><br><span class="line">                        <span class="keyword">int</span> col = id % nc;</span><br><span class="line">                        <span class="keyword">if</span> (row - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[row-<span class="number">1</span>][col] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.add((row-<span class="number">1</span>) * nc + col);</span><br><span class="line">                            grid[row-<span class="number">1</span>][col] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (row + <span class="number">1</span> &lt; nr &amp;&amp; grid[row+<span class="number">1</span>][col] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.add((row+<span class="number">1</span>) * nc + col);</span><br><span class="line">                            grid[row+<span class="number">1</span>][col] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (col - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[row][col-<span class="number">1</span>] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.add(row * nc + col-<span class="number">1</span>);</span><br><span class="line">                            grid[row][col-<span class="number">1</span>] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (col + <span class="number">1</span> &lt; nc &amp;&amp; grid[row][col+<span class="number">1</span>] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                            neighbors.add(row * nc + col+<span class="number">1</span>);</span><br><span class="line">                            grid[row][col+<span class="number">1</span>] = <span class="string">'0'</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> num_islands;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Python</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numIslands</span><span class="params">(self, grid: List[List[str]])</span> -&gt; int:</span></span><br><span class="line">        nr = len(grid)</span><br><span class="line">        <span class="keyword">if</span> nr == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        nc = len(grid[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">        num_islands = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> range(nr):</span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> range(nc):</span><br><span class="line">                <span class="keyword">if</span> grid[r][c] == <span class="string">"1"</span>:</span><br><span class="line">                    num_islands += <span class="number">1</span></span><br><span class="line">                    grid[r][c] = <span class="string">"0"</span></span><br><span class="line">                    neighbors = collections.deque([(r, c)])</span><br><span class="line">                    <span class="keyword">while</span> neighbors:</span><br><span class="line">                        row, col = neighbors.popleft()</span><br><span class="line">                        <span class="keyword">for</span> x, y <span class="keyword">in</span> [(row - <span class="number">1</span>, col), (row + <span class="number">1</span>, col), (row, col - <span class="number">1</span>), (row, col + <span class="number">1</span>)]:</span><br><span class="line">                            <span class="keyword">if</span> <span class="number">0</span> &lt;= x &lt; nr <span class="keyword">and</span> <span class="number">0</span> &lt;= y &lt; nc <span class="keyword">and</span> grid[x][y] == <span class="string">"1"</span>:</span><br><span class="line">                                neighbors.append((x, y))</span><br><span class="line">                                grid[x][y] = <span class="string">"0"</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> num_islands</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(MN)*ï¼Œå…¶ä¸­ *M</em> å’Œ <em>N</em> åˆ†åˆ«ä¸ºè¡Œæ•°å’Œåˆ—æ•°ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼šO(min(M,N)) ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ•´ä¸ªç½‘æ ¼å‡ä¸ºé™†åœ°ï¼Œé˜Ÿåˆ—çš„å¤§å°å¯ä»¥è¾¾åˆ° min(M,N)ã€‚</p></li></ul><h2 id="æ–¹æ³•ä¸‰ï¼šå¹¶æŸ¥é›†"><a href="#æ–¹æ³•ä¸‰ï¼šå¹¶æŸ¥é›†" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šå¹¶æŸ¥é›†"></a>æ–¹æ³•ä¸‰ï¼šå¹¶æŸ¥é›†</h2><p>åŒæ ·åœ°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å¹¶æŸ¥é›†ä»£æ›¿æœç´¢ã€‚</p><p>ä¸ºäº†æ±‚å‡ºå²›å±¿çš„æ•°é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ‰«ææ•´ä¸ªäºŒç»´ç½‘æ ¼ã€‚å¦‚æœä¸€ä¸ªä½ç½®ä¸º <em>1</em>ï¼Œåˆ™å°†å…¶ä¸ç›¸é‚»å››ä¸ªæ–¹å‘ä¸Šçš„ <em>1</em> åœ¨å¹¶æŸ¥é›†ä¸­è¿›è¡Œåˆå¹¶ã€‚</p><p>æœ€ç»ˆå²›å±¿çš„æ•°é‡å°±æ˜¯å¹¶æŸ¥é›†ä¸­è¿é€šåˆ†é‡çš„æ•°ç›®ã€‚</p><p>ä¸‹é¢çš„åŠ¨ç”»å±•ç¤ºäº†æ•´ä¸ªç®—æ³•ã€‚</p><p> <a href="https://pic.leetcode-cn.com/41b6ce1794ba80a7a82b31dc4c0642b26ccd280457d254d2fdad37a1f5a73ca6-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/82fa6f7b52294fdd8a2f4a0a28d4ca2dd3d71e86e7ddf5fa5ef4b18a13d3c438-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/773a3ac931ca2b397b0ba6cac17a15a0dd21fe2d0f2887d6b90405d9025c3f85-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/6c1a18d84a24f74c18654e0f20b17c263646a9fad911e6bb227e665688abb037-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/1a35068b177ce3ed70de37d3e7a1fb3e91ba0e5588ab3e3633ddb963f3d64f68-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/6f35cbfc7410e54ec80f96af3123c5eed5e5b8f73e6a1cc2fa4aea0f911e919c-image.png" target="_blank" rel="noopener">image.png</a> </p><details>    <summary>å¹¶æŸ¥é›†C++</summary><figure class="highlight c++"><figcaption><span>[sol3-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnionFind</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    UnionFind(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; grid) &#123;</span><br><span class="line">        count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> m = grid.size();</span><br><span class="line">        <span class="keyword">int</span> n = grid[<span class="number">0</span>].size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    parent.push_back(i * n + j);</span><br><span class="line">                    ++count;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    parent.push_back(<span class="number">-1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                rank.push_back(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (parent[i] != i) &#123;</span><br><span class="line">            parent[i] = find(parent[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> parent[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">unite</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> rootx = find(x);</span><br><span class="line">        <span class="keyword">int</span> rooty = find(y);</span><br><span class="line">        <span class="keyword">if</span> (rootx != rooty) &#123;</span><br><span class="line">            <span class="keyword">if</span> (rank[rootx] &lt; rank[rooty]) &#123;</span><br><span class="line">                swap(rootx, rooty);</span><br><span class="line">            &#125;</span><br><span class="line">            parent[rooty] = rootx;</span><br><span class="line">            <span class="keyword">if</span> (rank[rootx] == rank[rooty]) rank[rootx] += <span class="number">1</span>;</span><br><span class="line">            --count;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; parent;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; rank;</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> nr = grid.size();</span><br><span class="line">        <span class="keyword">if</span> (!nr) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].size();</span><br><span class="line"></span><br><span class="line">        <span class="function">UnionFind <span class="title">uf</span><span class="params">(grid)</span></span>;</span><br><span class="line">        <span class="keyword">int</span> num_islands = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; nr; ++r) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; nc; ++c) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[r][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    grid[r][c] = <span class="string">'0'</span>;</span><br><span class="line">                    <span class="keyword">if</span> (r - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[r<span class="number">-1</span>][c] == <span class="string">'1'</span>) uf.unite(r * nc + c, (r<span class="number">-1</span>) * nc + c);</span><br><span class="line">                    <span class="keyword">if</span> (r + <span class="number">1</span> &lt; nr &amp;&amp; grid[r+<span class="number">1</span>][c] == <span class="string">'1'</span>) uf.unite(r * nc + c, (r+<span class="number">1</span>) * nc + c);</span><br><span class="line">                    <span class="keyword">if</span> (c - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[r][c<span class="number">-1</span>] == <span class="string">'1'</span>) uf.unite(r * nc + c, r * nc + c - <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (c + <span class="number">1</span> &lt; nc &amp;&amp; grid[r][c+<span class="number">1</span>] == <span class="string">'1'</span>) uf.unite(r * nc + c, r * nc + c + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> uf.getCount();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¶æŸ¥é›†Java</summary><figure class="highlight java"><figcaption><span>[sol3-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">UnionFind</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> count;</span><br><span class="line">        <span class="keyword">int</span>[] parent;</span><br><span class="line">        <span class="keyword">int</span>[] rank;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">UnionFind</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">            count = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span> m = grid.length;</span><br><span class="line">            <span class="keyword">int</span> n = grid[<span class="number">0</span>].length;</span><br><span class="line">            parent = <span class="keyword">new</span> <span class="keyword">int</span>[m * n];</span><br><span class="line">            rank = <span class="keyword">new</span> <span class="keyword">int</span>[m * n];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (grid[i][j] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                        parent[i * n + j] = i * n + j;</span><br><span class="line">                        ++count;</span><br><span class="line">                    &#125;</span><br><span class="line">                    rank[i * n + j] = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (parent[i] != i) parent[i] = find(parent[i]);</span><br><span class="line">            <span class="keyword">return</span> parent[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> rootx = find(x);</span><br><span class="line">            <span class="keyword">int</span> rooty = find(y);</span><br><span class="line">            <span class="keyword">if</span> (rootx != rooty) &#123;</span><br><span class="line">                <span class="keyword">if</span> (rank[rootx] &gt; rank[rooty]) &#123;</span><br><span class="line">                    parent[rooty] = rootx;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rank[rootx] &lt; rank[rooty]) &#123;</span><br><span class="line">                    parent[rootx] = rooty;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    parent[rooty] = rootx;</span><br><span class="line">                    rank[rootx] += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                --count;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> count;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> nr = grid.length;</span><br><span class="line">        <span class="keyword">int</span> nc = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> num_islands = <span class="number">0</span>;</span><br><span class="line">        UnionFind uf = <span class="keyword">new</span> UnionFind(grid);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; nr; ++r) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; nc; ++c) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[r][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    grid[r][c] = <span class="string">'0'</span>;</span><br><span class="line">                    <span class="keyword">if</span> (r - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[r-<span class="number">1</span>][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                        uf.union(r * nc + c, (r-<span class="number">1</span>) * nc + c);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (r + <span class="number">1</span> &lt; nr &amp;&amp; grid[r+<span class="number">1</span>][c] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                        uf.union(r * nc + c, (r+<span class="number">1</span>) * nc + c);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (c - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; grid[r][c-<span class="number">1</span>] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                        uf.union(r * nc + c, r * nc + c - <span class="number">1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (c + <span class="number">1</span> &lt; nc &amp;&amp; grid[r][c+<span class="number">1</span>] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                        uf.union(r * nc + c, r * nc + c + <span class="number">1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> uf.getCount();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¶æŸ¥é›†Python</summary><figure class="highlight python"><figcaption><span>[sol3-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnionFind</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, grid)</span>:</span></span><br><span class="line">        m, n = len(grid), len(grid[<span class="number">0</span>])</span><br><span class="line">        self.count = <span class="number">0</span></span><br><span class="line">        self.parent = [<span class="number">-1</span>] * (m * n)</span><br><span class="line">        self.rank = [<span class="number">0</span>] * (m * n)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j] == <span class="string">"1"</span>:</span><br><span class="line">                    self.parent[i * n + j] = i * n + j</span><br><span class="line">                    self.count += <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self, i)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.parent[i] != i:</span><br><span class="line">            self.parent[i] = self.find(self.parent[i])</span><br><span class="line">        <span class="keyword">return</span> self.parent[i]</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        rootx = self.find(x)</span><br><span class="line">        rooty = self.find(y)</span><br><span class="line">        <span class="keyword">if</span> rootx != rooty:</span><br><span class="line">            <span class="keyword">if</span> self.rank[rootx] &lt; self.rank[rooty]:</span><br><span class="line">                rootx, rooty = rooty, rootx</span><br><span class="line">            self.parent[rooty] = rootx</span><br><span class="line">            <span class="keyword">if</span> self.rank[rootx] == self.rank[rooty]:</span><br><span class="line">                self.rank[rootx] += <span class="number">1</span></span><br><span class="line">            self.count -= <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getCount</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.count</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numIslands</span><span class="params">(self, grid: List[List[str]])</span> -&gt; int:</span></span><br><span class="line">        nr = len(grid)</span><br><span class="line">        <span class="keyword">if</span> nr == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        nc = len(grid[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">        uf = UnionFind(grid)</span><br><span class="line">        num_islands = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> range(nr):</span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> range(nc):</span><br><span class="line">                <span class="keyword">if</span> grid[r][c] == <span class="string">"1"</span>:</span><br><span class="line">                    grid[r][c] = <span class="string">"0"</span></span><br><span class="line">                    <span class="keyword">for</span> x, y <span class="keyword">in</span> [(r - <span class="number">1</span>, c), (r + <span class="number">1</span>, c), (r, c - <span class="number">1</span>), (r, c + <span class="number">1</span>)]:</span><br><span class="line">                        <span class="keyword">if</span> <span class="number">0</span> &lt;= x &lt; nr <span class="keyword">and</span> <span class="number">0</span> &lt;= y &lt; nc <span class="keyword">and</span> grid[x][y] == <span class="string">"1"</span>:</span><br><span class="line">                            uf.union(r * nc + c, x * nc + y)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> uf.getCount()</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(MN*\alpha(MN))</span><br></pre></td></tr></table></figure></li></ul><p>ï¼Œå…¶ä¸­ <em>M</em> å’Œ <em>N</em> åˆ†åˆ«ä¸ºè¡Œæ•°å’Œåˆ—æ•°ã€‚æ³¨æ„å½“ä½¿ç”¨è·¯å¾„å‹ç¼©ï¼ˆè§ <code>find</code> å‡½æ•°ï¼‰å’ŒæŒ‰ç§©åˆå¹¶ï¼ˆè§æ•°ç»„ <code>rank</code>ï¼‰å®ç°å¹¶æŸ¥é›†æ—¶ï¼Œå•æ¬¡æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\alpha(MN)</span><br></pre></td></tr></table></figure><p>ï¼Œå…¶ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\alpha(x)</span><br></pre></td></tr></table></figure><p>ä¸ºåé˜¿å…‹æ›¼å‡½æ•°ï¼Œå½“è‡ªå˜é‡ <em>x</em> çš„å€¼åœ¨äººç±»å¯è§‚æµ‹çš„èŒƒå›´å†…ï¼ˆå®‡å®™ä¸­ç²’å­çš„æ•°é‡ï¼‰æ—¶ï¼Œå‡½æ•° </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\alpha(x)</span><br></pre></td></tr></table></figure><p>çš„å€¼ä¸ä¼šè¶…è¿‡ <em>5</em>ï¼Œå› æ­¤ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯å¸¸æ•°æ—¶é—´å¤æ‚åº¦ã€‚</p><ul><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(MN)</em>ï¼Œè¿™æ˜¯å¹¶æŸ¥é›†éœ€è¦ä½¿ç”¨çš„ç©ºé—´ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ªç”± â€˜1â€™ï¼ˆé™†åœ°ï¼‰å’Œ â€˜0â€™ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Breadth-first Search" scheme="http://yoursite.com/tags/Breadth-first-Search/"/>
    
      <category term="Depth-first Search" scheme="http://yoursite.com/tags/Depth-first-Search/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Union Find" scheme="http://yoursite.com/tags/Union-Find/"/>
    
  </entry>
  
  <entry>
    <title>127. å•è¯æ¥é¾™</title>
    <link href="http://yoursite.com/2020/09/09/127.%20%E5%8D%95%E8%AF%8D%E6%8E%A5%E9%BE%99/"/>
    <id>http://yoursite.com/2020/09/09/127. å•è¯æ¥é¾™/</id>
    <published>2020-09-09T09:45:12.000Z</published>
    <updated>2020-09-14T07:42:39.750Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸¤ä¸ªå•è¯ï¼ˆbeginWord å’Œ endWordï¼‰å’Œä¸€ä¸ªå­—å…¸ï¼Œæ‰¾åˆ°ä» beginWord åˆ° endWord çš„æœ€çŸ­è½¬æ¢åºåˆ—çš„é•¿åº¦ã€‚</p><a id="more"></a><p>è½¬æ¢éœ€éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š</p><ul><li>æ¯æ¬¡è½¬æ¢åªèƒ½æ”¹å˜ä¸€ä¸ªå­—æ¯ã€‚</li><li>è½¬æ¢è¿‡ç¨‹ä¸­çš„ä¸­é—´å•è¯å¿…é¡»æ˜¯å­—å…¸ä¸­çš„å•è¯ã€‚</li></ul><p>è¯´æ˜:</p><ul><li>å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„è½¬æ¢åºåˆ—ï¼Œè¿”å› 0ã€‚</li><li>æ‰€æœ‰å•è¯å…·æœ‰ç›¸åŒçš„é•¿åº¦ã€‚</li><li>æ‰€æœ‰å•è¯åªç”±å°å†™å­—æ¯ç»„æˆã€‚</li><li>å­—å…¸ä¸­ä¸å­˜åœ¨é‡å¤çš„å•è¯ã€‚</li><li>ä½ å¯ä»¥å‡è®¾ beginWord å’Œ endWord æ˜¯éç©ºçš„ï¼Œä¸”äºŒè€…ä¸ç›¸åŒã€‚</li></ul><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥:beginWord = &quot;hit&quot;,endWord = &quot;cog&quot;,wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;,&quot;cog&quot;]è¾“å‡º: 5è§£é‡Š: ä¸€ä¸ªæœ€çŸ­è½¬æ¢åºåˆ—æ˜¯ &quot;hit&quot; -&gt; &quot;hot&quot; -&gt; &quot;dot&quot; -&gt; &quot;dog&quot; -&gt; &quot;cog&quot;, è¿”å›å®ƒçš„é•¿åº¦ 5ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥:beginWord = &quot;hit&quot;endWord = &quot;cog&quot;wordList = [&quot;hot&quot;,&quot;dot&quot;,&quot;dog&quot;,&quot;lot&quot;,&quot;log&quot;]è¾“å‡º: 0è§£é‡Š: endWord &quot;cog&quot; ä¸åœ¨å­—å…¸ä¸­ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œè½¬æ¢ã€‚</code></pre><h1 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h1><p>æ‹¥æœ‰ä¸€ä¸ª <code>beginWord</code> å’Œä¸€ä¸ª <code>endWord</code>ï¼Œåˆ†åˆ«è¡¨ç¤ºå›¾ä¸Šçš„ <code>start node</code> å’Œ  <code>end node</code>ã€‚æˆ‘ä»¬å¸Œæœ›åˆ©ç”¨ä¸€äº›ä¸­é—´èŠ‚ç‚¹ï¼ˆå•è¯ï¼‰ä»  <code>start node</code> åˆ°  <code>end node</code>ï¼Œä¸­é—´èŠ‚ç‚¹æ˜¯ <code>wordList</code> ç»™å®šçš„å•è¯ã€‚æˆ‘ä»¬å¯¹è¿™ä¸ªå•è¯æ¥é¾™æ¯ä¸ªæ­¥éª¤çš„å”¯ä¸€æ¡ä»¶æ˜¯ç›¸é‚»å•è¯åªå¯ä»¥æ”¹å˜<code>ä¸€ä¸ªå­—æ¯</code>ã€‚</p><p><a href="https://pic.leetcode-cn.com/fc3a60e60cb7a80723feea0689c25a6f1637df8c64cfec0d70a264eee7e88254-Word_Ladder_1.png" target="_blank" rel="noopener">Word_Ladder_1.png</a></p><p>æˆ‘ä»¬å°†é—®é¢˜æŠ½è±¡åœ¨ä¸€ä¸ªæ— å‘æ— æƒå›¾ä¸­ï¼Œæ¯ä¸ªå•è¯ä½œä¸ºèŠ‚ç‚¹ï¼Œå·®è·åªæœ‰ä¸€ä¸ªå­—æ¯çš„ä¸¤ä¸ªå•è¯ä¹‹é—´è¿ä¸€æ¡è¾¹ã€‚é—®é¢˜å˜æˆæ‰¾åˆ°ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œå¦‚æœå­˜åœ¨çš„è¯ã€‚å› æ­¤å¯ä»¥ä½¿ç”¨<code>å¹¿åº¦ä¼˜å…ˆæœç´¢</code>æ–¹æ³•ã€‚</p><p>ç®—æ³•ä¸­æœ€é‡è¦çš„æ­¥éª¤æ˜¯æ‰¾å‡ºç›¸é‚»çš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯åªå·®ä¸€ä¸ªå­—æ¯çš„ä¸¤ä¸ªå•è¯ã€‚ä¸ºäº†å¿«é€Ÿçš„æ‰¾åˆ°è¿™äº›ç›¸é‚»èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯¹ç»™å®šçš„ <code>wordList</code> åšä¸€ä¸ªé¢„å¤„ç†ï¼Œå°†å•è¯ä¸­çš„æŸä¸ªå­—æ¯ç”¨ <code>*</code> ä»£æ›¿ã€‚</p><p><a href="https://pic.leetcode-cn.com/7212249f3e224d9d5ccbc292e902e48b572f965236378e034d8e03924404cba2-Word_Ladder_2.png" target="_blank" rel="noopener">Word_Ladder_2.png</a></p><p>è¿™ä¸ªé¢„å¤„ç†å¸®æˆ‘ä»¬æ„é€ äº†ä¸€ä¸ªå•è¯å˜æ¢çš„é€šç”¨çŠ¶æ€ã€‚ä¾‹å¦‚ï¼š<code>Dog ----&gt; D*g &lt;---- Dig</code>ï¼Œ<code>Dog</code> å’Œ <code>Dig</code> éƒ½æŒ‡å‘äº†ä¸€ä¸ªé€šç”¨çŠ¶æ€ <code>D*g</code>ã€‚</p><p>è¿™æ­¥é¢„å¤„ç†æ‰¾å‡ºäº†å•è¯è¡¨ä¸­æ‰€æœ‰å•è¯æ”¹å˜æŸä¸ªå­—æ¯åçš„é€šç”¨çŠ¶æ€ï¼Œå¹¶å¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿ä¹Ÿæ›´å¿«çš„æ‰¾åˆ°ç›¸é‚»èŠ‚ç‚¹ã€‚å¦åˆ™ï¼Œå¯¹äºæ¯ä¸ªå•è¯æˆ‘ä»¬éœ€è¦éå†æ•´ä¸ªå­—æ¯è¡¨æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå•è¯ä¸å®ƒç›¸å·®ä¸€ä¸ªå­—æ¯ï¼Œè¿™å°†èŠ±è´¹å¾ˆå¤šæ—¶é—´ã€‚é¢„å¤„ç†æ“ä½œåœ¨å¹¿åº¦ä¼˜å…ˆæœç´¢ä¹‹å‰é«˜æ•ˆçš„å»ºç«‹äº†é‚»æ¥è¡¨ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨å¹¿æœæ—¶æˆ‘ä»¬éœ€è¦è®¿é—® <code>Dug</code> çš„æ‰€æœ‰é‚»æ¥ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆç”Ÿæˆ <code>Dug</code> çš„æ‰€æœ‰é€šç”¨çŠ¶æ€ï¼š</p><ol><li><code>Dug =&gt; *ug</code></li><li><code>Dug =&gt; D*g</code></li><li><code>Dug =&gt; Du*</code></li></ol><p>ç¬¬äºŒä¸ªå˜æ¢ <code>D*g</code> å¯ä»¥åŒæ—¶æ˜ å°„åˆ° <code>Dog</code> æˆ–è€… <code>Dig</code>ï¼Œå› ä¸ºä»–ä»¬éƒ½æœ‰ç›¸åŒçš„é€šç”¨çŠ¶æ€ã€‚æ‹¥æœ‰ç›¸åŒçš„é€šç”¨çŠ¶æ€æ„å‘³ç€ä¸¤ä¸ªå•è¯åªç›¸å·®ä¸€ä¸ªå­—æ¯ï¼Œä»–ä»¬çš„èŠ‚ç‚¹æ˜¯ç›¸è¿çš„ã€‚</p><h1 id="æ–¹æ³•-1ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•-1ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³• 1ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³• 1ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢</h1><p><strong>æƒ³æ³•</strong></p><p>åˆ©ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢æœç´¢ä» <code>beginWord</code> åˆ° <code>endWord</code> çš„è·¯å¾„ã€‚</p><p><strong>ç®—æ³•</strong></p><ol><li><p>å¯¹ç»™å®šçš„ <code>wordList</code> åšé¢„å¤„ç†ï¼Œæ‰¾å‡ºæ‰€æœ‰çš„é€šç”¨çŠ¶æ€ã€‚å°†é€šç”¨çŠ¶æ€è®°å½•åœ¨å­—å…¸ä¸­ï¼Œé”®æ˜¯é€šç”¨çŠ¶æ€ï¼Œå€¼æ˜¯æ‰€æœ‰å…·æœ‰é€šç”¨çŠ¶æ€çš„å•è¯ã€‚</p></li><li><p>å°†åŒ…å« <code>beginWord</code> å’Œ <code>1</code> çš„å…ƒç»„æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œ<code>1</code> ä»£è¡¨èŠ‚ç‚¹çš„å±‚æ¬¡ã€‚æˆ‘ä»¬éœ€è¦è¿”å› <code>endWord</code> çš„å±‚æ¬¡ä¹Ÿå°±æ˜¯ä» <code>beginWord</code> å‡ºå‘çš„æœ€çŸ­è·ç¦»ã€‚</p></li><li><p>ä¸ºäº†é˜²æ­¢å‡ºç°ç¯ï¼Œä½¿ç”¨è®¿é—®æ•°ç»„è®°å½•ã€‚</p></li><li><p>å½“é˜Ÿåˆ—ä¸­æœ‰å…ƒç´ çš„æ—¶å€™ï¼Œå–å‡ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè®°ä¸º <code>current_word</code>ã€‚</p></li><li><p>æ‰¾åˆ° <code>current_word</code> çš„æ‰€æœ‰é€šç”¨çŠ¶æ€ï¼Œå¹¶æ£€æŸ¥è¿™äº›é€šç”¨çŠ¶æ€æ˜¯å¦å­˜åœ¨å…¶å®ƒå•è¯çš„æ˜ å°„ï¼Œè¿™ä¸€æ­¥é€šè¿‡æ£€æŸ¥ <code>all_combo_dict</code> æ¥å®ç°ã€‚</p></li><li><p>ä» <code>all_combo_dict</code> è·å¾—çš„æ‰€æœ‰å•è¯ï¼Œéƒ½å’Œ <code>current_word</code> å…±æœ‰ä¸€ä¸ªé€šç”¨çŠ¶æ€ï¼Œæ‰€ä»¥éƒ½å’Œ <code>current_word</code> ç›¸è¿ï¼Œå› æ­¤å°†ä»–ä»¬åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ã€‚</p></li><li><p>å¯¹äºæ–°è·å¾—çš„æ‰€æœ‰å•è¯ï¼Œå‘é˜Ÿåˆ—ä¸­åŠ å…¥å…ƒç´  <code>(word, level + 1)</code> å…¶ä¸­ <code>level</code> æ˜¯ <code>current_word</code> çš„å±‚æ¬¡ã€‚</p></li><li><p>æœ€ç»ˆå½“ä½ åˆ°è¾¾æœŸæœ›çš„å•è¯ï¼Œå¯¹åº”çš„å±‚æ¬¡å°±æ˜¯æœ€çŸ­å˜æ¢åºåˆ—çš„é•¿åº¦ã€‚</p><blockquote><p>æ ‡å‡†å¹¿åº¦ä¼˜å…ˆæœç´¢çš„ç»ˆæ­¢æ¡ä»¶å°±æ˜¯æ‰¾åˆ°ç»“æŸå•è¯ã€‚</p></blockquote></li></ol><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Java</summary><figure class="highlight java"><figcaption><span>[solution1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Since all words are of same length.</span></span><br><span class="line">    <span class="keyword">int</span> L = beginWord.length();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Dictionary to hold combination of words that can be formed,</span></span><br><span class="line">    <span class="comment">// from any given word. By changing one letter at a time.</span></span><br><span class="line">    Map&lt;String, List&lt;String&gt;&gt; allComboDict = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    wordList.forEach(</span><br><span class="line">        word -&gt; &#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L; i++) &#123;</span><br><span class="line">            <span class="comment">// Key is the generic word</span></span><br><span class="line">            <span class="comment">// Value is a list of words which have the same intermediate generic word.</span></span><br><span class="line">            String newWord = word.substring(<span class="number">0</span>, i) + <span class="string">'*'</span> + word.substring(i + <span class="number">1</span>, L);</span><br><span class="line">            List&lt;String&gt; transformations = allComboDict.getOrDefault(newWord, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">            transformations.add(word);</span><br><span class="line">            allComboDict.put(newWord, transformations);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Queue for BFS</span></span><br><span class="line">    Queue&lt;Pair&lt;String, Integer&gt;&gt; Q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Q.add(<span class="keyword">new</span> Pair(beginWord, <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Visited to make sure we don't repeat processing same word.</span></span><br><span class="line">    Map&lt;String, Boolean&gt; visited = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    visited.put(beginWord, <span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!Q.isEmpty()) &#123;</span><br><span class="line">      Pair&lt;String, Integer&gt; node = Q.remove();</span><br><span class="line">      String word = node.getKey();</span><br><span class="line">      <span class="keyword">int</span> level = node.getValue();</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L; i++) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Intermediate words for current word</span></span><br><span class="line">        String newWord = word.substring(<span class="number">0</span>, i) + <span class="string">'*'</span> + word.substring(i + <span class="number">1</span>, L);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Next states are all the words which share the same intermediate state.</span></span><br><span class="line">        <span class="keyword">for</span> (String adjacentWord : allComboDict.getOrDefault(newWord, <span class="keyword">new</span> ArrayList&lt;&gt;())) &#123;</span><br><span class="line">          <span class="comment">// If at any point if we find what we are looking for</span></span><br><span class="line">          <span class="comment">// i.e. the end word - we can return with the answer.</span></span><br><span class="line">          <span class="keyword">if</span> (adjacentWord.equals(endWord)) &#123;</span><br><span class="line">            <span class="keyword">return</span> level + <span class="number">1</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// Otherwise, add it to the BFS Queue. Also mark it visited</span></span><br><span class="line">          <span class="keyword">if</span> (!visited.containsKey(adjacentWord)) &#123;</span><br><span class="line">            visited.put(adjacentWord, <span class="keyword">true</span>);</span><br><span class="line">            Q.add(<span class="keyword">new</span> Pair(adjacentWord, level + <span class="number">1</span>));</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¿åº¦ä¼˜å…ˆæœç´¢Python</summary><figure class="highlight python"><figcaption><span>[solution1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ladderLength</span><span class="params">(self, beginWord, endWord, wordList)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type beginWord: str</span></span><br><span class="line"><span class="string">        :type endWord: str</span></span><br><span class="line"><span class="string">        :type wordList: List[str]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> endWord <span class="keyword">not</span> <span class="keyword">in</span> wordList <span class="keyword">or</span> <span class="keyword">not</span> endWord <span class="keyword">or</span> <span class="keyword">not</span> beginWord <span class="keyword">or</span> <span class="keyword">not</span> wordList:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Since all words are of same length.</span></span><br><span class="line">        L = len(beginWord)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Dictionary to hold combination of words that can be formed,</span></span><br><span class="line">        <span class="comment"># from any given word. By changing one letter at a time.</span></span><br><span class="line">        all_combo_dict = defaultdict(list)</span><br><span class="line">        <span class="keyword">for</span> word <span class="keyword">in</span> wordList:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(L):</span><br><span class="line">                <span class="comment"># Key is the generic word</span></span><br><span class="line">                <span class="comment"># Value is a list of words which have the same intermediate generic word.</span></span><br><span class="line">                all_combo_dict[word[:i] + <span class="string">"*"</span> + word[i+<span class="number">1</span>:]].append(word)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Queue for BFS</span></span><br><span class="line">        queue = [(beginWord, <span class="number">1</span>)]</span><br><span class="line">        <span class="comment"># Visited to make sure we don't repeat processing same word.</span></span><br><span class="line">        visited = &#123;beginWord: <span class="keyword">True</span>&#125;</span><br><span class="line">        <span class="keyword">while</span> queue:</span><br><span class="line">            current_word, level = queue.pop(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(L):</span><br><span class="line">                <span class="comment"># Intermediate words for current word</span></span><br><span class="line">                intermediate_word = current_word[:i] + <span class="string">"*"</span> + current_word[i+<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line">                <span class="comment"># Next states are all the words which share the same intermediate state.</span></span><br><span class="line">                <span class="keyword">for</span> word <span class="keyword">in</span> all_combo_dict[intermediate_word]:</span><br><span class="line">                    <span class="comment"># If at any point if we find what we are looking for</span></span><br><span class="line">                    <span class="comment"># i.e. the end word - we can return with the answer.</span></span><br><span class="line">                    <span class="keyword">if</span> word == endWord:</span><br><span class="line">                        <span class="keyword">return</span> level + <span class="number">1</span></span><br><span class="line">                    <span class="comment"># Otherwise, add it to the BFS Queue. Also mark it visited</span></span><br><span class="line">                    <span class="keyword">if</span> word <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                        visited[word] = <span class="keyword">True</span></span><br><span class="line">                        queue.append((word, level + <span class="number">1</span>))</span><br><span class="line">                all_combo_dict[intermediate_word] = []</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(M\times N)</span><br></pre></td></tr></table></figure></li></ul><p>ï¼Œå…¶ä¸­ <em>M</em> æ˜¯å•è¯çš„é•¿åº¦ <em>N</em> æ˜¯å•è¯è¡¨ä¸­å•è¯çš„æ€»æ•°ã€‚æ‰¾åˆ°æ‰€æœ‰çš„å˜æ¢éœ€è¦å¯¹æ¯ä¸ªå•è¯åš <em>M</em> æ¬¡æ“ä½œã€‚åŒæ—¶ï¼Œæœ€åæƒ…å†µä¸‹å¹¿åº¦ä¼˜å…ˆæœç´¢ä¹Ÿè¦è®¿é—®æ‰€æœ‰çš„ <em>N</em> ä¸ªå•è¯ã€‚</p><ul><li>ç©ºé—´å¤æ‚åº¦ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(M\times N)</span><br></pre></td></tr></table></figure></li></ul><p>ï¼Œè¦åœ¨ <code>all_combo_dict</code> å­—å…¸ä¸­è®°å½•æ¯ä¸ªå•è¯çš„ <em>M</em> ä¸ªé€šç”¨çŠ¶æ€ã€‚è®¿é—®æ•°ç»„çš„å¤§å°æ˜¯ <em>N</em>ã€‚å¹¿æœé˜Ÿåˆ—æœ€åæƒ…å†µä¸‹éœ€è¦å­˜å‚¨ <em>N</em> ä¸ªå•è¯ã€‚</p><h1 id="æ–¹æ³•-2ï¼šåŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•-2ï¼šåŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³• 2ï¼šåŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³• 2ï¼šåŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢</h1><p><strong>æƒ³æ³•</strong></p><p>æ ¹æ®ç»™å®šå­—å…¸æ„é€ çš„å›¾å¯èƒ½ä¼šå¾ˆå¤§ï¼Œè€Œå¹¿åº¦ä¼˜å…ˆæœç´¢çš„æœç´¢ç©ºé—´å¤§å°ä¾èµ–äºæ¯å±‚èŠ‚ç‚¹çš„åˆ†æ”¯æ•°é‡ã€‚å‡å¦‚æ¯ä¸ªèŠ‚ç‚¹çš„åˆ†æ”¯æ•°é‡ç›¸åŒï¼Œæœç´¢ç©ºé—´ä¼šéšç€å±‚æ•°çš„å¢é•¿æŒ‡æ•°çº§çš„å¢åŠ ã€‚è€ƒè™‘ä¸€ä¸ªç®€å•çš„äºŒå‰æ ‘ï¼Œæ¯ä¸€å±‚éƒ½æ˜¯æ»¡äºŒå‰æ ‘çš„æ‰©å±•ï¼ŒèŠ‚ç‚¹çš„æ•°é‡ä¼šä»¥ <code>2</code> ä¸ºåº•æ•°å‘ˆæŒ‡æ•°å¢é•¿ã€‚</p><p>å¦‚æœä½¿ç”¨ä¸¤ä¸ªåŒæ—¶è¿›è¡Œçš„å¹¿æœå¯ä»¥æœ‰æ•ˆåœ°å‡å°‘æœç´¢ç©ºé—´ã€‚ä¸€è¾¹ä» <code>beginWord</code> å¼€å§‹ï¼Œå¦ä¸€è¾¹ä» <code>endWord</code> å¼€å§‹ã€‚æˆ‘ä»¬æ¯æ¬¡ä»ä¸¤è¾¹å„æ‰©å±•ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½“å‘ç°æŸä¸€æ—¶åˆ»ä¸¤è¾¹éƒ½è®¿é—®äº†æŸä¸€é¡¶ç‚¹æ—¶å°±åœæ­¢æœç´¢ã€‚è¿™å°±æ˜¯<code>åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢</code>ï¼Œå®ƒå¯ä»¥å¯è§‚åœ°å‡å°‘æœç´¢ç©ºé—´å¤§å°ï¼Œä»è€Œé™ä½æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ã€‚</p><p><a href="https://pic.leetcode-cn.com/be92086801e264f49bb1c01593dbfee5b08e52c600b62576c5fa0c1ef2d54eb8-Word_Ladder_3.png" target="_blank" rel="noopener">Word_Ladder_3.png</a></p><p><strong>ç®—æ³•</strong></p><ol><li><p>ç®—æ³•ä¸ä¹‹å‰æè¿°çš„æ ‡å‡†å¹¿æœæ–¹æ³•ç›¸ç±»ä¼¼ã€‚</p></li><li><p>å”¯ä¸€çš„ä¸åŒæ˜¯æˆ‘ä»¬ä»ä¸¤ä¸ªèŠ‚ç‚¹åŒæ—¶å¼€å§‹æœç´¢ï¼ŒåŒæ—¶æœç´¢çš„ç»“æŸæ¡ä»¶ä¹Ÿæœ‰æ‰€å˜åŒ–ã€‚</p></li><li><p>æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ªè®¿é—®æ•°ç»„ï¼Œåˆ†åˆ«è®°å½•ä»å¯¹åº”çš„èµ·ç‚¹æ˜¯å¦å·²ç»è®¿é—®äº†è¯¥èŠ‚ç‚¹ã€‚</p></li><li><p>å¦‚æœæˆ‘ä»¬å‘ç°ä¸€ä¸ªèŠ‚ç‚¹è¢«ä¸¤ä¸ªæœç´¢åŒæ—¶è®¿é—®ï¼Œå°±ç»“æŸæœç´¢è¿‡ç¨‹ã€‚å› ä¸ºæˆ‘ä»¬æ‰¾åˆ°äº†åŒå‘æœç´¢çš„äº¤ç‚¹ã€‚è¿‡ç¨‹å¦‚åŒä»ä¸­é—´ç›¸é‡è€Œä¸æ˜¯æ²¿ç€æœç´¢è·¯å¾„ä¸€ç›´èµ°ã€‚</p><blockquote><p>åŒå‘æœç´¢çš„ç»“æŸæ¡ä»¶æ˜¯æ‰¾åˆ°ä¸€ä¸ªå•è¯è¢«ä¸¤è¾¹æœç´¢éƒ½è®¿é—®è¿‡äº†ã€‚</p></blockquote></li><li><p>æœ€çŸ­å˜æ¢åºåˆ—çš„é•¿åº¦å°±æ˜¯ä¸­é—´èŠ‚ç‚¹åœ¨ä¸¤è¾¹çš„å±‚æ¬¡ä¹‹å’Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è®¿é—®æ•°ç»„ä¸­è®°å½•èŠ‚ç‚¹çš„å±‚æ¬¡ã€‚</p></li></ol><p><a href="https://pic.leetcode-cn.com/77ff942730428bad804a3f3e8bcddb618ce7b26a2df85cae104c5c2563803dde-Word_Ladder_4.png" target="_blank" rel="noopener">Word_Ladder_4.png</a></p><details>    <summary>åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢Java</summary><figure class="highlight java"><figcaption><span>[solution2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> L;</span><br><span class="line">  <span class="keyword">private</span> Map&lt;String, List&lt;String&gt;&gt; allComboDict;</span><br><span class="line"></span><br><span class="line">  Solution() &#123;</span><br><span class="line">    <span class="keyword">this</span>.L = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Dictionary to hold combination of words that can be formed,</span></span><br><span class="line">    <span class="comment">// from any given word. By changing one letter at a time.</span></span><br><span class="line">    <span class="keyword">this</span>.allComboDict = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">visitWordNode</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">      Queue&lt;Pair&lt;String, Integer&gt;&gt; Q,</span></span></span><br><span class="line"><span class="function"><span class="params">      Map&lt;String, Integer&gt; visited,</span></span></span><br><span class="line"><span class="function"><span class="params">      Map&lt;String, Integer&gt; othersVisited)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    Pair&lt;String, Integer&gt; node = Q.remove();</span><br><span class="line">    String word = node.getKey();</span><br><span class="line">    <span class="keyword">int</span> level = node.getValue();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.L; i++) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Intermediate words for current word</span></span><br><span class="line">      String newWord = word.substring(<span class="number">0</span>, i) + <span class="string">'*'</span> + word.substring(i + <span class="number">1</span>, L);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Next states are all the words which share the same intermediate state.</span></span><br><span class="line">      <span class="keyword">for</span> (String adjacentWord : <span class="keyword">this</span>.allComboDict.getOrDefault(newWord, <span class="keyword">new</span> ArrayList&lt;&gt;())) &#123;</span><br><span class="line">        <span class="comment">// If at any point if we find what we are looking for</span></span><br><span class="line">        <span class="comment">// i.e. the end word - we can return with the answer.</span></span><br><span class="line">        <span class="keyword">if</span> (othersVisited.containsKey(adjacentWord)) &#123;</span><br><span class="line">          <span class="keyword">return</span> level + othersVisited.get(adjacentWord);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!visited.containsKey(adjacentWord)) &#123;</span><br><span class="line"></span><br><span class="line">          <span class="comment">// Save the level as the value of the dictionary, to save number of hops.</span></span><br><span class="line">          visited.put(adjacentWord, level + <span class="number">1</span>);</span><br><span class="line">          Q.add(<span class="keyword">new</span> Pair(adjacentWord, level + <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!wordList.contains(endWord)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Since all words are of same length.</span></span><br><span class="line">    <span class="keyword">this</span>.L = beginWord.length();</span><br><span class="line"></span><br><span class="line">    wordList.forEach(</span><br><span class="line">        word -&gt; &#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L; i++) &#123;</span><br><span class="line">            <span class="comment">// Key is the generic word</span></span><br><span class="line">            <span class="comment">// Value is a list of words which have the same intermediate generic word.</span></span><br><span class="line">            String newWord = word.substring(<span class="number">0</span>, i) + <span class="string">'*'</span> + word.substring(i + <span class="number">1</span>, L);</span><br><span class="line">            List&lt;String&gt; transformations =</span><br><span class="line">                <span class="keyword">this</span>.allComboDict.getOrDefault(newWord, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">            transformations.add(word);</span><br><span class="line">            <span class="keyword">this</span>.allComboDict.put(newWord, transformations);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Queues for birdirectional BFS</span></span><br><span class="line">    <span class="comment">// BFS starting from beginWord</span></span><br><span class="line">    Queue&lt;Pair&lt;String, Integer&gt;&gt; Q_begin = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">// BFS starting from endWord</span></span><br><span class="line">    Queue&lt;Pair&lt;String, Integer&gt;&gt; Q_end = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Q_begin.add(<span class="keyword">new</span> Pair(beginWord, <span class="number">1</span>));</span><br><span class="line">    Q_end.add(<span class="keyword">new</span> Pair(endWord, <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Visited to make sure we don't repeat processing same word.</span></span><br><span class="line">    Map&lt;String, Integer&gt; visitedBegin = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    Map&lt;String, Integer&gt; visitedEnd = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    visitedBegin.put(beginWord, <span class="number">1</span>);</span><br><span class="line">    visitedEnd.put(endWord, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!Q_begin.isEmpty() &amp;&amp; !Q_end.isEmpty()) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// One hop from begin word</span></span><br><span class="line">      <span class="keyword">int</span> ans = visitWordNode(Q_begin, visitedBegin, visitedEnd);</span><br><span class="line">      <span class="keyword">if</span> (ans &gt; -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// One hop from end word</span></span><br><span class="line">      ans = visitWordNode(Q_end, visitedEnd, visitedBegin);</span><br><span class="line">      <span class="keyword">if</span> (ans &gt; -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>åŒå‘å¹¿åº¦ä¼˜å…ˆæœç´¢Python</summary><figure class="highlight python"><figcaption><span>[solution2-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.length = <span class="number">0</span></span><br><span class="line">        <span class="comment"># Dictionary to hold combination of words that can be formed,</span></span><br><span class="line">        <span class="comment"># from any given word. By changing one letter at a time.</span></span><br><span class="line">        self.all_combo_dict = defaultdict(list)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">visitWordNode</span><span class="params">(self, queue, visited, others_visited)</span>:</span></span><br><span class="line">        current_word, level = queue.pop(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(self.length):</span><br><span class="line">            <span class="comment"># Intermediate words for current word</span></span><br><span class="line">            intermediate_word = current_word[:i] + <span class="string">"*"</span> + current_word[i+<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Next states are all the words which share the same intermediate state.</span></span><br><span class="line">            <span class="keyword">for</span> word <span class="keyword">in</span> self.all_combo_dict[intermediate_word]:</span><br><span class="line">                <span class="comment"># If the intermediate state/word has already been visited from the</span></span><br><span class="line">                <span class="comment"># other parallel traversal this means we have found the answer.</span></span><br><span class="line">                <span class="keyword">if</span> word <span class="keyword">in</span> others_visited:</span><br><span class="line">                    <span class="keyword">return</span> level + others_visited[word]</span><br><span class="line">                <span class="keyword">if</span> word <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                    <span class="comment"># Save the level as the value of the dictionary, to save number of hops.</span></span><br><span class="line">                    visited[word] = level + <span class="number">1</span></span><br><span class="line">                    queue.append((word, level + <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ladderLength</span><span class="params">(self, beginWord, endWord, wordList)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type beginWord: str</span></span><br><span class="line"><span class="string">        :type endWord: str</span></span><br><span class="line"><span class="string">        :type wordList: List[str]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> endWord <span class="keyword">not</span> <span class="keyword">in</span> wordList <span class="keyword">or</span> <span class="keyword">not</span> endWord <span class="keyword">or</span> <span class="keyword">not</span> beginWord <span class="keyword">or</span> <span class="keyword">not</span> wordList:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Since all words are of same length.</span></span><br><span class="line">        self.length = len(beginWord)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> word <span class="keyword">in</span> wordList:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(self.length):</span><br><span class="line">                <span class="comment"># Key is the generic word</span></span><br><span class="line">                <span class="comment"># Value is a list of words which have the same intermediate generic word.</span></span><br><span class="line">                self.all_combo_dict[word[:i] + <span class="string">"*"</span> + word[i+<span class="number">1</span>:]].append(word)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Queues for birdirectional BFS</span></span><br><span class="line">        queue_begin = [(beginWord, <span class="number">1</span>)] <span class="comment"># BFS starting from beginWord</span></span><br><span class="line">        queue_end = [(endWord, <span class="number">1</span>)] <span class="comment"># BFS starting from endWord</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Visited to make sure we don't repeat processing same word</span></span><br><span class="line">        visited_begin = &#123;beginWord: <span class="number">1</span>&#125;</span><br><span class="line">        visited_end = &#123;endWord: <span class="number">1</span>&#125;</span><br><span class="line">        ans = <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># We do a birdirectional search starting one pointer from begin</span></span><br><span class="line">        <span class="comment"># word and one pointer from end word. Hopping one by one.</span></span><br><span class="line">        <span class="keyword">while</span> queue_begin <span class="keyword">and</span> queue_end:</span><br><span class="line"></span><br><span class="line">            <span class="comment"># One hop from begin word</span></span><br><span class="line">            ans = self.visitWordNode(queue_begin, visited_begin, visited_end)</span><br><span class="line">            <span class="keyword">if</span> ans:</span><br><span class="line">                <span class="keyword">return</span> ans</span><br><span class="line">            <span class="comment"># One hop from end word</span></span><br><span class="line">            ans = self.visitWordNode(queue_end, visited_end, visited_begin)</span><br><span class="line">            <span class="keyword">if</span> ans:</span><br><span class="line">                <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(M\times N)</span><br></pre></td></tr></table></figure></li></ul><p>ï¼Œå…¶ä¸­ <em>M</em> æ˜¯å•è¯çš„é•¿åº¦ <em>N</em> æ˜¯å•è¯è¡¨ä¸­å•è¯çš„æ€»æ•°ã€‚ä¸å•å‘æœç´¢ç›¸åŒçš„æ˜¯ï¼Œæ‰¾åˆ°æ‰€æœ‰çš„å˜æ¢éœ€è¦ <em>M * N</em> æ¬¡æ“ä½œã€‚ä½†æ˜¯æœç´¢æ—¶é—´ä¼šè¢«ç¼©å°ä¸€åŠï¼Œå› ä¸ºä¸¤ä¸ªæœç´¢ä¼šåœ¨ä¸­é—´æŸå¤„ç›¸é‡ã€‚</p><ul><li>ç©ºé—´å¤æ‚åº¦ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(M\times N)</span><br></pre></td></tr></table></figure><p>ï¼Œè¦åœ¨ <code>all_combo_dict</code> å­—å…¸ä¸­è®°å½•æ¯ä¸ªå•è¯çš„ <em>M</em> ä¸ªé€šç”¨çŠ¶æ€ï¼Œè¿™ä¸å•å‘æœç´¢ç›¸åŒã€‚ä½†æ˜¯å› ä¸ºä¼šåœ¨ä¸­é—´ç›¸é‡ï¼Œæ‰€ä»¥åŒå‘æœç´¢çš„æœç´¢ç©ºé—´å˜å°ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸¤ä¸ªå•è¯ï¼ˆbeginWord å’Œ endWordï¼‰å’Œä¸€ä¸ªå­—å…¸ï¼Œæ‰¾åˆ°ä» beginWord åˆ° endWord çš„æœ€çŸ­è½¬æ¢åºåˆ—çš„é•¿åº¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´9æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="Breadth-first Search" scheme="http://yoursite.com/tags/Breadth-first-Search/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
  </entry>
  
</feed>
