<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yiye Li</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-09-03T07:54:39.379Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Yiye Li</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>128. æœ€é•¿è¿ç»­åºåˆ—</title>
    <link href="http://yoursite.com/2020/08/31/128.%20%E6%9C%80%E9%95%BF%E8%BF%9E%E7%BB%AD%E5%BA%8F%E5%88%97/"/>
    <id>http://yoursite.com/2020/08/31/128. æœ€é•¿è¿ç»­åºåˆ—/</id>
    <published>2020-08-31T07:20:12.000Z</published>
    <updated>2020-09-03T07:54:39.379Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºæœ€é•¿è¿ç»­åºåˆ—çš„é•¿åº¦ã€‚</p><a id="more"></a><p>è¦æ±‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚</p><p>ç¤ºä¾‹:</p><pre><code>è¾“å…¥: [100, 4, 200, 1, 3, 2]è¾“å‡º: 4è§£é‡Š: æœ€é•¿è¿ç»­åºåˆ—æ˜¯ [1, 2, 3, 4]ã€‚å®ƒçš„é•¿åº¦ä¸º 4ã€‚</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šæ’åº"><a href="#æ–¹æ³•ä¸€ï¼šæ’åº" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ’åº"></a>æ–¹æ³•ä¸€ï¼šæ’åº</h1><h2 id="å‚è€ƒä»£ç "><a href="#å‚è€ƒä»£ç " class="headerlink" title="å‚è€ƒä»£ç "></a>å‚è€ƒä»£ç </h2><details>    <summary>æ’åº</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// max æœ€ç»ˆç»“æœ, curr å½“å‰é•¿åº¦, last ä¸Šä¸ªæ•°å­—</span></span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">1</span>, curr = <span class="number">1</span>, last = nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] == last) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] == last + <span class="number">1</span>) curr++; <span class="comment">// ç¬¦åˆè¿ç»­ï¼Œé•¿åº¦ +1</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            max = Math.max(max, curr); <span class="comment">// è¿ä¸ä¸Šäº†ï¼Œè®°å½•é•¿åº¦</span></span><br><span class="line">            curr = <span class="number">1</span>; <span class="comment">// é‡æ–°å¼€å§‹</span></span><br><span class="line">        &#125;</span><br><span class="line">        last = nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    max = Math.max(max, curr); <span class="comment">// åˆ«å¿˜äº†æœ€åä¸€æ®µçš„è¿ç»­åŒºé—´</span></span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>## å¤æ‚åº¦åˆ†æ<ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(nlog(n))</em></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em><ul><li>å‰¯ä½œç”¨ï¼šå½±å“åŸæ•°ç»„</li></ul></li></ul><hr><h1 id="æ–¹æ³•äºŒï¼šé›†åˆ"><a href="#æ–¹æ³•äºŒï¼šé›†åˆ" class="headerlink" title="æ–¹æ³•äºŒï¼šé›†åˆ"></a>æ–¹æ³•äºŒï¼šé›†åˆ</h1><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ul><li>åˆ©ç”¨ <em>O(1)</em> æ—¶é—´å¤æ‚åº¦ã€ŒæŸ¥è¯¢æ˜¯å¦æœ‰ä¸‹ä¸€ä¸ªã€</li><li>ä¼˜åŒ–ï¼šå¦‚æœæœ‰æ¯”è‡ªå·±å°ä¸€ç‚¹çš„ï¼Œé‚£è‡ªå·±ä¸æŸ¥ï¼Œè®©å°çš„å»æŸ¥ï¼ˆè¯¦è§ä»£ç ï¼‰<ul><li>è´ªå¿ƒæ€æƒ³ï¼Ÿ</li></ul></li></ul><h2 id="å‚è€ƒä»£ç -1"><a href="#å‚è€ƒä»£ç -1" class="headerlink" title="å‚è€ƒä»£ç "></a>å‚è€ƒä»£ç </h2><details>    <summary>é›†åˆ</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n = nums.length, max = <span class="number">1</span>;</span><br><span class="line">    Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v : nums) set.add(v);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v : nums) &#123;</span><br><span class="line">        <span class="comment">// æŠ€å·§ï¼šå¦‚æœæœ‰æ¯”è‡ªå·±å°ä¸€ç‚¹çš„ï¼Œé‚£è‡ªå·±ä¸æŸ¥ï¼Œè®©å°çš„å»æŸ¥</span></span><br><span class="line">        <span class="keyword">if</span> (set.contains(v - <span class="number">1</span>)) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> r = v; <span class="comment">// r: right è¡¨ç¤ºã€Œä»¥ v å¼€å¤´ï¼Œèƒ½è¿ç»­åˆ°å¤šå°‘ã€</span></span><br><span class="line">        <span class="keyword">while</span> (set.contains(r + <span class="number">1</span>)) r++; <span class="comment">// é€ä¸ªæŸ¥çœ‹</span></span><br><span class="line">        max = Math.max(max, r - v + <span class="number">1</span>); <span class="comment">// è®°å½•åŒºé—´ [v, r] é•¿åº¦</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>## å¤æ‚åº¦åˆ†æ<ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em><ul><li>è™½ <code>for</code> å†…æœ‰ <code>while</code>ï¼Œä½†æ¯ä¸ªå…ƒç´ æœ€å¤šè¢«æŸ¥ <code>2</code> æ¬¡</li><li>ç¬¬ä¸€æ¬¡åœ¨ <code>set.contains(v - 1)</code>ï¼Œå¦‚å…ƒç´  <code>5</code> è¢« <code>6</code> æŸ¥</li><li>ç¬¬äºŒæ¬¡åœ¨ <code>set.contains(r + 1)</code>ï¼Œå¦‚å…ƒç´  <code>5</code> è¢« <code>4</code> æŸ¥</li></ul></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em></li></ul><hr><h1 id="æ–¹æ³•ä¸‰ï¼šå“ˆå¸Œè¡¨"><a href="#æ–¹æ³•ä¸‰ï¼šå“ˆå¸Œè¡¨" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šå“ˆå¸Œè¡¨"></a>æ–¹æ³•ä¸‰ï¼šå“ˆå¸Œè¡¨</h1><h2 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ul><li>è™½ç„¶ä»£ç ç»“æ„ä¸ä¸Šè¿° ã€Œæ–¹æ³•äºŒï¼šé›†åˆã€ååˆ†ç›¸ä¼¼ï¼Œä½†æ€è·¯ç”±å·®å¼‚ï¼Œå€¼å¾—æåŠ</li><li>å°‘äº†æ–¹æ³•äºŒçš„ä¼˜åŒ–ï¼šåªå¯¹å°çš„æ‰§è¡ŒæŸ¥è¯¢</li><li>åˆ©ç”¨å‰é¢å·²çŸ¥çš„å³è¾¹ç•Œï¼Œå¿«é€Ÿæ‰¾åˆ°å½“å‰éœ€è¦çš„å³è¾¹ç•Œï¼ˆè¯¦è§ä»£ç ï¼‰<ul><li>è®°å¿†åŒ–</li></ul></li></ul><h2 id="å‚è€ƒä»£ç -2"><a href="#å‚è€ƒä»£ç -2" class="headerlink" title="å‚è€ƒä»£ç "></a>å‚è€ƒä»£ç </h2><details>    <summary>å“ˆå¸Œè¡¨</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;(); <span class="comment">// è®°å½•åŒºé—´ [v, r]</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v : nums) map.put(v, v);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v : nums) &#123;</span><br><span class="line">        <span class="keyword">int</span> r = v;</span><br><span class="line">        <span class="keyword">while</span> (map.containsKey(r + <span class="number">1</span>))</span><br><span class="line">            r = map.get(r + <span class="number">1</span>); <span class="comment">// åˆ©ç”¨å‰é¢å·²çŸ¥çš„å³è¾¹ç•Œï¼Œå¿«é€Ÿæ‰¾åˆ°å½“å‰éœ€è¦çš„å³è¾¹ç•Œ</span></span><br><span class="line">        map.put(v, r);</span><br><span class="line">        max = Math.max(max, r - v + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>## å¤æ‚åº¦åˆ†æ<ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em></li></ul><hr><h1 id="æ–¹æ³•å››ï¼šå¹¶æŸ¥é›†"><a href="#æ–¹æ³•å››ï¼šå¹¶æŸ¥é›†" class="headerlink" title="æ–¹æ³•å››ï¼šå¹¶æŸ¥é›†"></a>æ–¹æ³•å››ï¼šå¹¶æŸ¥é›†</h1><h2 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ul><li>åˆå§‹ï¼šæ‰€æœ‰å…ƒç´ å„è‡ªä¸ºæˆ˜</li><li>é¦–æ¬¡éå†ï¼šæ‰€æœ‰å…ƒç´  <code>x</code> å‘å„è‡ªé‚»å±… <code>x + 1</code>ï¼Œå‘èµ·ç»“ç›Ÿï¼Œå¹¶ã€Œä»¥å¤§è€…ä¸ºé¢†é˜Ÿã€<ul><li>è‹¥æœ‰é‚»å±…ï¼Œæ‰ç»“ç›ŸæˆåŠŸ</li><li>é¢†é˜Ÿï¼Œå³ åŒºé—´å³è¾¹ç•Œ</li><li>ä¸åªæ˜¯å…ƒç´  <code>x</code> ä¸é‚»å±… <code>x + 1</code> ç»“ç›Ÿï¼Œè€Œæ˜¯æ•´ä¸ª <code>x</code> æ‰€åœ¨é˜Ÿä¼ä¸æ•´ä¸ª <code>x + 1</code> æ‰€åœ¨é˜Ÿä¼ç»“ç›Ÿ<ul><li>å¦‚ <code>[1, 2, 3]</code> ä¸ <code>[4, 5]</code> ä¸¤ä¸ªé˜Ÿä¼ç»“ç›Ÿ</li></ul></li></ul></li><li>äºŒæ¬¡éå†ï¼šè®°å½•æ‰€æœ‰äººä¸å…¶é¢†é˜Ÿè·ç¦»<ul><li>è·ç¦»ï¼Œå³ åŒºé—´å³è¾¹ç•Œ - å½“å‰å…ƒç´  + 1</li></ul></li></ul><h2 id="å‚è€ƒä»£ç -3"><a href="#å‚è€ƒä»£ç -3" class="headerlink" title="å‚è€ƒä»£ç "></a>å‚è€ƒä»£ç </h2><details>    <summary>å¹¶æŸ¥é›†</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é¦–æ¬¡éå†ï¼Œä¸é‚»å±…ç»“ç›Ÿ</span></span><br><span class="line">    UnionFind uf = <span class="keyword">new</span> UnionFind(nums);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v : nums)</span><br><span class="line">        uf.union(v, v + <span class="number">1</span>); <span class="comment">// uf.union() ç»“ç›Ÿ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// äºŒæ¬¡éå†ï¼Œè®°å½•é¢†é˜Ÿè·ç¦»</span></span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v : nums)</span><br><span class="line">        max = Math.max(max, uf.find(v) - v + <span class="number">1</span>); <span class="comment">// uf.find() æŸ¥æ‰¾é¢†é˜Ÿ</span></span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¹¶æŸ¥é›†å®šä¹‰ï¼Œæ”¾åœ¨ä¸€èµ·å³å¯é€šè¿‡</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnionFind</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count;<span class="comment">//è¿˜å‰©å‡ æ”¯é˜Ÿä¼</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;Integer, Integer&gt; parent; <span class="comment">// (curr, leader)</span></span><br><span class="line"></span><br><span class="line">    UnionFind(<span class="keyword">int</span>[] arr) &#123;</span><br><span class="line">        count = arr.length;</span><br><span class="line">        parent = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v : arr)</span><br><span class="line">            parent.put(v, v); <span class="comment">// åˆå§‹æ—¶ï¼Œå„è‡ªä¸ºæˆ˜ï¼Œè‡ªå·±æ˜¯è‡ªå·±çš„é¢†é˜Ÿ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»“ç›Ÿ</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä¸åªæ˜¯ p ä¸ q ç»“ç›Ÿï¼Œè€Œæ˜¯æ•´ä¸ª p æ‰€åœ¨é˜Ÿä¼ ä¸ q æ‰€åœ¨é˜Ÿä¼ç»“ç›Ÿ</span></span><br><span class="line">        <span class="comment">// ç»“ç›Ÿéœ€å„é¢†é˜Ÿå‡ºé¢ï¼Œè€Œä¸æ˜¯å°å¼Ÿå‡ºé¢</span></span><br><span class="line">        Integer rootP = find(p), rootQ = find(q);</span><br><span class="line">        <span class="keyword">if</span> (rootP == rootQ) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (rootP == <span class="keyword">null</span> || rootQ == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç»“ç›Ÿ</span></span><br><span class="line">        parent.put(rootP, rootQ); <span class="comment">// è°å¤§å¬è°</span></span><br><span class="line">        <span class="comment">// åº”å– maxï¼Œè€Œæœ¬é¢˜å·²æ˜ç¡® p &lt; q æ‰å¯è¿™ä¹ˆå†™</span></span><br><span class="line">        <span class="comment">// å½“å‰å†™æ³•æœ‰æŸå°è£…æ€§ï¼Œç®—æ³•é¢˜å¯ä¸çº ç»“</span></span><br><span class="line"></span><br><span class="line">        count--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾é¢†é˜Ÿ</span></span><br><span class="line">    <span class="function">Integer <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!parent.containsKey(p))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€’å½’å‘ä¸Šæ‰¾é¢†é˜Ÿ</span></span><br><span class="line">        <span class="keyword">int</span> root = p;</span><br><span class="line">        <span class="keyword">while</span> (root != parent.get(root))</span><br><span class="line">            root = parent.get(root);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·¯å¾„å‹ç¼©ï¼šæ‰å¹³åŒ–ç®¡ç†ï¼Œé¿å…æ—¥åæ‰¾é¢†é˜Ÿå±‚çº§è¿‡æ·±</span></span><br><span class="line">        <span class="keyword">while</span> (p != parent.get(p)) &#123;</span><br><span class="line">            <span class="keyword">int</span> curr = p;</span><br><span class="line">            p = parent.get(p);</span><br><span class="line">            parent.put(curr, root);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>## å¤æ‚åº¦åˆ†æ<ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em></li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾å‡ºæœ€é•¿è¿ç»­åºåˆ—çš„é•¿åº¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Union Find" scheme="http://yoursite.com/tags/Union-Find/"/>
    
  </entry>
  
  <entry>
    <title>124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</title>
    <link href="http://yoursite.com/2020/08/31/124.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E7%9A%84%E6%9C%80%E5%A4%A7%E8%B7%AF%E5%BE%84%E5%92%8C/"/>
    <id>http://yoursite.com/2020/08/31/124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ/</id>
    <published>2020-08-31T07:20:12.000Z</published>
    <updated>2020-08-31T08:28:38.431Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªéç©ºäºŒå‰æ ‘ï¼Œè¿”å›å…¶æœ€å¤§è·¯å¾„å’Œã€‚</p><a id="more"></a><p>æœ¬é¢˜ä¸­ï¼Œè·¯å¾„è¢«å®šä¹‰ä¸ºä¸€æ¡ä»æ ‘ä¸­ä»»æ„èŠ‚ç‚¹å‡ºå‘ï¼Œè¾¾åˆ°ä»»æ„èŠ‚ç‚¹çš„åºåˆ—ã€‚è¯¥è·¯å¾„è‡³å°‘åŒ…å«ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸”ä¸ä¸€å®šç»è¿‡æ ¹èŠ‚ç‚¹ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: [1,2,3]       1      / \     2   3è¾“å‡º: 6</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: [-10,9,20,null,null,15,7]   -10   / \  9  20    /  \   15   7è¾“å‡º: 42</code></pre><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="0fc716bb-576b-482f-8ec4-a1659b427b4f">124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šé€’å½’"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’"></a>æ–¹æ³•ä¸€ï¼šé€’å½’</h2><p>é¦–å…ˆï¼Œè€ƒè™‘å®ç°ä¸€ä¸ªç®€åŒ–çš„å‡½æ•° <code>maxGain(node)</code>ï¼Œè¯¥å‡½æ•°è®¡ç®—äºŒå‰æ ‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ï¼Œå…·ä½“è€Œè¨€ï¼Œå°±æ˜¯åœ¨ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ä¸­å¯»æ‰¾ä»¥è¯¥èŠ‚ç‚¹ä¸ºèµ·ç‚¹çš„ä¸€æ¡è·¯å¾„ï¼Œä½¿å¾—è¯¥è·¯å¾„ä¸Šçš„èŠ‚ç‚¹å€¼ä¹‹å’Œæœ€å¤§ã€‚</p><p>å…·ä½“è€Œè¨€ï¼Œè¯¥å‡½æ•°çš„è®¡ç®—å¦‚ä¸‹ã€‚</p><ul><li><p>ç©ºèŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ç­‰äº <em>0</em>ã€‚</p></li><li><p>éç©ºèŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ç­‰äºèŠ‚ç‚¹å€¼ä¸å…¶å­èŠ‚ç‚¹ä¸­çš„æœ€å¤§è´¡çŒ®å€¼ä¹‹å’Œï¼ˆå¯¹äºå¶èŠ‚ç‚¹è€Œè¨€ï¼Œæœ€å¤§è´¡çŒ®å€¼ç­‰äºèŠ‚ç‚¹å€¼ï¼‰ã€‚</p></li></ul><p>ä¾‹å¦‚ï¼Œè€ƒè™‘å¦‚ä¸‹äºŒå‰æ ‘ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> -10</span><br><span class="line"> / \</span><br><span class="line">9  20</span><br><span class="line">  /  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure><p>å¶èŠ‚ç‚¹ <em>9</em>ã€<em>15<em>ã€</em>7</em> çš„æœ€å¤§è´¡çŒ®å€¼åˆ†åˆ«ä¸º <em>9</em>ã€<em>15</em>ã€<em>7</em>ã€‚</p><p>å¾—åˆ°å¶èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ä¹‹åï¼Œå†è®¡ç®—éå¶èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ã€‚èŠ‚ç‚¹ <em>20</em> çš„æœ€å¤§è´¡çŒ®å€¼ç­‰äº 20+max(15,7)=35ï¼ŒèŠ‚ç‚¹ <em>-10</em> çš„æœ€å¤§è´¡çŒ®å€¼ç­‰äº-10+max(9,35)=25  ã€‚</p><p>ä¸Šè¿°è®¡ç®—è¿‡ç¨‹æ˜¯é€’å½’çš„è¿‡ç¨‹ï¼Œå› æ­¤ï¼Œå¯¹æ ¹èŠ‚ç‚¹è°ƒç”¨å‡½æ•° <code>maxGain</code>ï¼Œå³å¯å¾—åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ã€‚</p><p>æ ¹æ®å‡½æ•° <code>maxGain</code> å¾—åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ä¹‹åï¼Œå¦‚ä½•å¾—åˆ°äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œï¼Ÿå¯¹äºäºŒå‰æ ‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå–å†³äºè¯¥èŠ‚ç‚¹çš„å€¼ä¸è¯¥èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ï¼Œå¦‚æœå­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ä¸ºæ­£ï¼Œåˆ™è®¡å…¥è¯¥èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œï¼Œå¦åˆ™ä¸è®¡å…¥è¯¥èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œã€‚ç»´æŠ¤ä¸€ä¸ªå…¨å±€å˜é‡ <code>maxSum</code> å­˜å‚¨æœ€å¤§è·¯å¾„å’Œï¼Œåœ¨é€’å½’è¿‡ç¨‹ä¸­æ›´æ–° <code>maxSum</code> çš„å€¼ï¼Œæœ€åå¾—åˆ°çš„ <code>maxSum</code> çš„å€¼å³ä¸ºäºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œã€‚</p><p> <a href="https://assets.leetcode-cn.com/solution-static/124/1.PNG" target="_blank" rel="noopener">fig1</a> <a href="https://assets.leetcode-cn.com/solution-static/124/2.PNG" target="_blank" rel="noopener">fig2</a> <a href="https://assets.leetcode-cn.com/solution-static/124/3.PNG" target="_blank" rel="noopener">fig3</a> <a href="https://assets.leetcode-cn.com/solution-static/124/4.PNG" target="_blank" rel="noopener">fig4</a> <a href="https://assets.leetcode-cn.com/solution-static/124/5.PNG" target="_blank" rel="noopener">fig5</a> <a href="https://assets.leetcode-cn.com/solution-static/124/6.PNG" target="_blank" rel="noopener">fig6</a> <a href="https://assets.leetcode-cn.com/solution-static/124/7.PNG" target="_blank" rel="noopener">fig7</a> </p><p>è¿™é¢˜ç›®çš„éš¾ç‚¹åœ¨äºç†è§£é¢˜æ„å’Œè½¬åŒ–é¢˜æ„ã€‚<br>æˆ‘ä»¬å¯ä»¥ç»“åˆ æ•°ç»„çš„æœ€å¤§å­æ•°ç»„å’Œ çš„æ€è·¯å»è§£é¢˜ã€‚</p><ol><li><p>ã€Œå¯ä»¥ä»ä»»æ„èŠ‚ç‚¹å‡ºå‘, åˆ°è¾¾ä»»æ„èŠ‚ç‚¹ã€ çš„è·¯å¾„,<br>ä¸€å®šæ˜¯å…ˆä¸Šå‡ï¼ˆ 0 ï½ n ä¸ªï¼‰èŠ‚ç‚¹, åˆ°è¾¾é¡¶ç‚¹, åä¸‹é™ï¼ˆ 0 ï½ n ä¸ªï¼‰èŠ‚ç‚¹ã€‚<br>æˆ‘ä»¬å¯ä»¥é€šè¿‡æšä¸¾é¡¶ç‚¹çš„æ–¹å¼æ¥æšä¸¾è·¯å¾„ã€‚</p></li><li><p>æˆ‘ä»¬æšä¸¾é¡¶ç‚¹æ—¶, å¯ä»¥æŠŠè·¯å¾„åˆ†æ‹†æˆ3éƒ¨åˆ†ï¼š å·¦ä¾§è·¯å¾„ã€å³ä¾§è·¯å¾„å’Œé¡¶ç‚¹ã€‚</p><pre><code> å¦‚ä¸‹é¢çš„è·¯å¾„, é¡¶ç‚¹ä¸º 20, å·¦ä¾§è·¯å¾„ä¸º 6 -&gt; 15, å³ä¾§ä¸º 6 -&gt; 7ã€‚   -10   / \  9 [20]    /  \  [15] [7]  /    / \[6]   4  [6]   </code></pre><p>ä»¥å½“å‰èŠ‚ç‚¹ä¸ºé¡¶ç‚¹çš„è·¯å¾„ä¸­, æœ€å¤§å’Œä¸º ä¸¤ä¾§è·¯å¾„çš„æœ€å¤§å’Œ + èŠ‚ç‚¹çš„å€¼ã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯, ä¸¤ä¾§è·¯å¾„ä¹Ÿå¯èƒ½ä¸é€‰, æ­¤æ—¶å– 0ã€‚</p></li><li><p>å¦‚ä½•æ±‚ä¸¤ä¾§è·¯å¾„æœ€å¤§å’Œï¼Ÿ çœ‹ä¸€ä¸ªç±»ä¼¼é—®é¢˜ï¼šæ±‚æ•°ç»„çš„æœ€å¤§å­æ•°ç»„å’Œã€‚<br>åŠ¨æ€è§„åˆ’ï¼š dp[i] ä»£è¡¨ä»¥ nums[i] ä¸ºç»“å°¾çš„å­æ•°ç»„çš„æœ€å¤§å’Œã€‚<br>è½¬ç§»æ–¹ç¨‹ï¼š dp[i] = max(dp[i-1], 0) + nums[i]ã€‚</p></li><li><p>åœ¨æ ‘ä¸Š, è®¾ dp[C] ä»£è¡¨ä»¥å½“å‰èŠ‚ç‚¹ä¸ºç»“å°¾çš„æœ€å¤§ä¸Šå‡è·¯å¾„å’Œ,<br>åˆ™æˆ‘ä»¬éœ€è¦å¯¹èŠ‚ç‚¹çš„å·¦å³å­æ ‘åšä¸€ä¸ªé€‰æ‹©, æœ‰<br>dp[C] = max(max(dp[L], 0), max(dp[R], 0)) + C.val<br>å¼ä¸­, C,L,R åˆ†åˆ«ä»£æŒ‡ å½“å‰èŠ‚ç‚¹ã€å·¦å­èŠ‚ç‚¹ã€å³å­èŠ‚ç‚¹ã€‚</p></li><li><p>æœ€å, ä»¥å½“å‰èŠ‚ç‚¹ä¸ºé¡¶ç‚¹çš„è·¯å¾„ä¸­, æœ€å¤§çš„å’Œä¸º<br>max(dp[L], 0) + max(dp[R], 0) + C.valã€‚<br>æˆ‘ä»¬æšä¸¾é¡¶ç‚¹, å¹¶è®°å½•æœ€å¤§ç­”æ¡ˆã€‚</p></li></ol><details>    <summary>é€’å½’Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> maxSum = Integer.MIN_VALUE;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxPathSum</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        maxGain(root);</span><br><span class="line">        <span class="keyword">return</span> maxSum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxGain</span><span class="params">(TreeNode node)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// é€’å½’è®¡ç®—å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="comment">// åªæœ‰åœ¨æœ€å¤§è´¡çŒ®å€¼å¤§äº 0 æ—¶ï¼Œæ‰ä¼šé€‰å–å¯¹åº”å­èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> leftGain = Math.max(maxGain(node.left), <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> rightGain = Math.max(maxGain(node.right), <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå–å†³äºè¯¥èŠ‚ç‚¹çš„å€¼ä¸è¯¥èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="keyword">int</span> priceNewpath = node.val + leftGain + rightGain;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">        maxSum = Math.max(maxSum, priceNewpath);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å›èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="keyword">return</span> node.val + Math.max(leftGain, rightGain);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.maxSum = float(<span class="string">"-inf"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxPathSum</span><span class="params">(self, root: TreeNode)</span> -&gt; int:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">maxGain</span><span class="params">(node)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> node:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># é€’å½’è®¡ç®—å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">            <span class="comment"># åªæœ‰åœ¨æœ€å¤§è´¡çŒ®å€¼å¤§äº 0 æ—¶ï¼Œæ‰ä¼šé€‰å–å¯¹åº”å­èŠ‚ç‚¹</span></span><br><span class="line">            leftGain = max(maxGain(node.left), <span class="number">0</span>)</span><br><span class="line">            rightGain = max(maxGain(node.right), <span class="number">0</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå–å†³äºè¯¥èŠ‚ç‚¹çš„å€¼ä¸è¯¥èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">            priceNewpath = node.val + leftGain + rightGain</span><br><span class="line">            </span><br><span class="line">            <span class="comment"># æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">            self.maxSum = max(self.maxSum, priceNewpath)</span><br><span class="line">        </span><br><span class="line">            <span class="comment"># è¿”å›èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">            <span class="keyword">return</span> node.val + max(leftGain, rightGain)</span><br><span class="line">   </span><br><span class="line">        maxGain(root)</span><br><span class="line">        <span class="keyword">return</span> self.maxSum</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> maxSum = INT_MIN;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxGain</span><span class="params">(TreeNode* node)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// é€’å½’è®¡ç®—å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="comment">// åªæœ‰åœ¨æœ€å¤§è´¡çŒ®å€¼å¤§äº 0 æ—¶ï¼Œæ‰ä¼šé€‰å–å¯¹åº”å­èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> leftGain = max(maxGain(node-&gt;left), <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> rightGain = max(maxGain(node-&gt;right), <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå–å†³äºè¯¥èŠ‚ç‚¹çš„å€¼ä¸è¯¥èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="keyword">int</span> priceNewpath = node-&gt;val + leftGain + rightGain;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">        maxSum = max(maxSum, priceNewpath);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å›èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="keyword">return</span> node-&gt;val + max(leftGain, rightGain);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxPathSum</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        maxGain(root);</span><br><span class="line">        <span class="keyword">return</span> maxSum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">maxPathSum</span><span class="params">(root *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    maxSum := math.MinInt32</span><br><span class="line">    <span class="keyword">var</span> maxGain <span class="function"><span class="keyword">func</span><span class="params">(*TreeNode)</span> <span class="title">int</span></span></span><br><span class="line"><span class="function">    <span class="title">maxGain</span> = <span class="title">func</span><span class="params">(node *TreeNode)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> node == <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€’å½’è®¡ç®—å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="comment">// åªæœ‰åœ¨æœ€å¤§è´¡çŒ®å€¼å¤§äº 0 æ—¶ï¼Œæ‰ä¼šé€‰å–å¯¹åº”å­èŠ‚ç‚¹</span></span><br><span class="line">        leftGain := max(maxGain(node.Left), <span class="number">0</span>)</span><br><span class="line">        rightGain := max(maxGain(node.Right), <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå–å†³äºè¯¥èŠ‚ç‚¹çš„å€¼ä¸è¯¥èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        priceNewPath := node.Val + leftGain + rightGain</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">        maxSum = max(maxSum, priceNewPath)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å›èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="keyword">return</span> node.Val + max(leftGain, rightGain)</span><br><span class="line">    &#125;</span><br><span class="line">    maxGain(root)</span><br><span class="line">    <span class="keyword">return</span> maxSum</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x &gt; y &#123;</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’C#</summary><figure class="highlight csharp"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Solution</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> maxSum = <span class="keyword">int</span>.MinValue;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">MaxPathSum</span>(<span class="params">TreeNode root</span>) </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        MaxGain(root);</span><br><span class="line">        <span class="keyword">return</span> maxSum;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">MaxGain</span>(<span class="params">TreeNode node</span>) </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// é€’å½’è®¡ç®—å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="comment">// åªæœ‰åœ¨æœ€å¤§è´¡çŒ®å€¼å¤§äº 0 æ—¶ï¼Œæ‰ä¼šé€‰å–å¯¹åº”å­èŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> leftGain = Math.Max(MaxGain(node.left), <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> rightGain = Math.Max(MaxGain(node.right), <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå–å†³äºè¯¥èŠ‚ç‚¹çš„å€¼ä¸è¯¥èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="keyword">int</span> priceNewpath = node.val + leftGain + rightGain;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">        maxSum = Math.Max(maxSum, priceNewpath);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å›èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼</span></span><br><span class="line">        <span class="keyword">return</span> node.val + Math.Max(leftGain, rightGain);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> æ˜¯äºŒå‰æ ‘ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚å¯¹æ¯ä¸ªèŠ‚ç‚¹è®¿é—®ä¸è¶…è¿‡ <em>2</em> æ¬¡ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> æ˜¯äºŒå‰æ ‘ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé€’å½’è°ƒç”¨å±‚æ•°ï¼Œæœ€å¤§å±‚æ•°ç­‰äºäºŒå‰æ ‘çš„é«˜åº¦ï¼Œæœ€åæƒ…å†µä¸‹ï¼ŒäºŒå‰æ ‘çš„é«˜åº¦ç­‰äºäºŒå‰æ ‘ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªéç©ºäºŒå‰æ ‘ï¼Œè¿”å›å…¶æœ€å¤§è·¯å¾„å’Œã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
      <category term="Depth-first Search" scheme="http://yoursite.com/tags/Depth-first-Search/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
  </entry>
  
  <entry>
    <title>395. è‡³å°‘æœ‰Kä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</title>
    <link href="http://yoursite.com/2020/08/31/395.%20%E8%87%B3%E5%B0%91%E6%9C%89K%E4%B8%AA%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/"/>
    <id>http://yoursite.com/2020/08/31/395. è‡³å°‘æœ‰Kä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²/</id>
    <published>2020-08-31T02:40:12.000Z</published>
    <updated>2020-08-31T07:17:03.148Z</updated>
    
    <content type="html"><![CDATA[<p>æ‰¾åˆ°ç»™å®šå­—ç¬¦ä¸²ï¼ˆç”±å°å†™å­—ç¬¦ç»„æˆï¼‰ä¸­çš„æœ€é•¿å­ä¸² T ï¼Œ è¦æ±‚ T ä¸­çš„æ¯ä¸€å­—ç¬¦å‡ºç°æ¬¡æ•°éƒ½ä¸å°‘äº k ã€‚è¾“å‡º T çš„é•¿åº¦ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥:s = &quot;aaabb&quot;, k = 3è¾“å‡º:3</code></pre><p>æœ€é•¿å­ä¸²ä¸º â€œaaaâ€ ï¼Œå…¶ä¸­ â€˜aâ€™ é‡å¤äº† 3 æ¬¡ã€‚<br>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥:s = &quot;ababbc&quot;, k = 2è¾“å‡º:5</code></pre><p>æœ€é•¿å­ä¸²ä¸º â€œababbâ€ ï¼Œå…¶ä¸­ â€˜aâ€™ é‡å¤äº† 2 æ¬¡ï¼Œ â€˜bâ€™ é‡å¤äº† 3 æ¬¡ã€‚</p><h1 id="Javaé€’å½’"><a href="#Javaé€’å½’" class="headerlink" title="Javaé€’å½’"></a>Javaé€’å½’</h1><p>è§£é¢˜æ€è·¯ï¼šé€’å½’æ‹†åˆ†å­ä¸²ï¼Œåˆ†æ²»ã€‚å…ˆç»Ÿè®¡å‡ºæ¯ä¸ªå­—ç¬¦å‡ºç°çš„é¢‘æ¬¡ï¼Œç»´æŠ¤ä¸€å¯¹åŒæŒ‡é’ˆï¼Œä»é¦–å°¾å¼€å§‹ç»Ÿè®¡ï¼Œä»é¦–å°¾å¾€ä¸­é—´æ’é™¤ï¼Œå¦‚æœå‡ºç°æ¬¡æ•°å°äºkåˆ™ä¸å¯èƒ½å‡ºç°åœ¨æœ€ç»ˆå­ä¸²ä¸­ï¼Œæ’é™¤å¹¶æŒªåŠ¨æŒ‡é’ˆï¼Œç„¶åå¾—åˆ°ä¸´æ—¶å­ä¸²ï¼Œä¾æ¬¡ä»å¤´éå†ï¼Œä¸€æ—¦å‘ç°å‡ºç°é¢‘æ¬¡å°äºkçš„å­—ç¬¦ï¼Œä»¥è¯¥å­—ç¬¦ä¸ºåˆ†å‰²çº¿ï¼Œåˆ†åˆ«é€’å½’æ±‚å…¶æœ€å¤§å€¼è¿”å›ã€‚</p><details>    <summary>é€’å½’</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int longestSubstring(String s, int k) &#123;</span><br><span class="line">        int len = s.length();</span><br><span class="line">        if (len == 0 || k &gt; len) return 0;</span><br><span class="line">        if (k &lt; 2) return len;</span><br><span class="line"></span><br><span class="line">        return count(s.toCharArray(), k, 0, len - 1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private static int count(char[] chars, int k, int p1, int p2) &#123;</span><br><span class="line">        if (p2 - p1 + 1 &lt; k) return 0;</span><br><span class="line">        int[] times = new int[26];  //  26ä¸ªå­—æ¯</span><br><span class="line">        //  ç»Ÿè®¡å‡ºç°é¢‘æ¬¡</span><br><span class="line">        for (int i = p1; i &lt;= p2; ++i) &#123;</span><br><span class="line">            ++times[chars[i] - &apos;a&apos;];</span><br><span class="line">        &#125;</span><br><span class="line">        //  å¦‚æœè¯¥å­—ç¬¦å‡ºç°é¢‘æ¬¡å°äºkï¼Œåˆ™ä¸å¯èƒ½å‡ºç°åœ¨ç»“æœå­ä¸²ä¸­</span><br><span class="line">        //  åˆ†åˆ«æ’é™¤ï¼Œç„¶åæŒªåŠ¨ä¸¤ä¸ªæŒ‡é’ˆ</span><br><span class="line">        while (p2 - p1 + 1 &gt;= k &amp;&amp; times[chars[p1] - &apos;a&apos;] &lt; k) &#123;</span><br><span class="line">            ++p1;</span><br><span class="line">        &#125;</span><br><span class="line">        while (p2 - p1 + 1 &gt;= k &amp;&amp; times[chars[p2] - &apos;a&apos;] &lt; k) &#123;</span><br><span class="line">            --p2;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (p2 - p1 + 1 &lt; k) return 0;</span><br><span class="line">        //  å¾—åˆ°ä¸´æ—¶å­ä¸²ï¼Œå†é€’å½’å¤„ç†</span><br><span class="line">        for (int i = p1; i &lt;= p2; ++i) &#123;</span><br><span class="line">            //  å¦‚æœç¬¬iä¸ªä¸ç¬¦åˆè¦æ±‚ï¼Œåˆ‡åˆ†æˆå·¦å³ä¸¤æ®µåˆ†åˆ«é€’å½’æ±‚å¾—</span><br><span class="line">            if (times[chars[i] - &apos;a&apos;] &lt; k) &#123;</span><br><span class="line">                return Math.max(count(chars, k, p1, i - 1), count(chars, k, i + 1, p2));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return p2 - p1 + 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ‰¾åˆ°ç»™å®šå­—ç¬¦ä¸²ï¼ˆç”±å°å†™å­—ç¬¦ç»„æˆï¼‰ä¸­çš„æœ€é•¿å­ä¸² T ï¼Œ è¦æ±‚ T ä¸­çš„æ¯ä¸€å­—ç¬¦å‡ºç°æ¬¡æ•°éƒ½ä¸å°‘äº k ã€‚è¾“å‡º T çš„é•¿åº¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡ offer51.æ•°ç»„ä¸­çš„é€†åºå¯¹</title>
    <link href="http://yoursite.com/2020/08/26/%E5%89%91%E6%8C%87%20offer51.%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E9%80%86%E5%BA%8F%E5%AF%B9/"/>
    <id>http://yoursite.com/2020/08/26/å‰‘æŒ‡ offer51.æ•°ç»„ä¸­çš„é€†åºå¯¹/</id>
    <published>2020-08-26T07:15:12.000Z</published>
    <updated>2020-08-26T10:06:27.373Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¦‚æœå‰é¢ä¸€ä¸ªæ•°å­—å¤§äºåé¢çš„æ•°å­—ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ±‚å‡ºè¿™ä¸ªæ•°ç»„ä¸­çš„é€†åºå¯¹çš„æ€»æ•°ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1: </p><pre><code>è¾“å…¥: [7,5,6,4]è¾“å‡º: 5 </code></pre><p> é™åˆ¶ï¼š </p><p> 0 &lt;= æ•°ç»„é•¿åº¦ &lt;= 50000</p><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="0a3b59f0-4902-4b35-b605-cf2ded591a8b">é¢è¯•é¢˜ 51. æ•°ç»„ä¸­çš„é€†åºå¯¹.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šå½’å¹¶æ’åº"><a href="#æ–¹æ³•ä¸€ï¼šå½’å¹¶æ’åº" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå½’å¹¶æ’åº"></a>æ–¹æ³•ä¸€ï¼šå½’å¹¶æ’åº</h2><p><strong>é¢„å¤‡çŸ¥è¯†</strong></p><p>ã€Œå½’å¹¶æ’åºã€æ˜¯åˆ†æ²»æ€æƒ³çš„å…¸å‹åº”ç”¨ï¼Œå®ƒåŒ…å«è¿™æ ·ä¸‰ä¸ªæ­¥éª¤ï¼š</p><ul><li><strong>åˆ†è§£ï¼š</strong> å¾…æ’åºçš„åŒºé—´ä¸º <em>[l, r]*ï¼Œä»¤m=(l+r)/2ï¼Œæˆ‘ä»¬æŠŠ *[l, r]</em> åˆ†æˆ <em>[l, m]</em> å’Œ <em>[m + 1, r]</em></li><li><strong>è§£å†³ï¼š</strong> ä½¿ç”¨å½’å¹¶æ’åºé€’å½’åœ°æ’åºä¸¤ä¸ªå­åºåˆ—</li><li><strong>åˆå¹¶ï¼š</strong> æŠŠä¸¤ä¸ªå·²ç»æ’å¥½åºçš„å­åºåˆ— <em>[l, m]</em> å’Œ <em>[m + 1, r]</em> åˆå¹¶èµ·æ¥</li></ul><p>åœ¨å¾…æ’åºåºåˆ—é•¿åº¦ä¸º <em>1</em> çš„æ—¶å€™ï¼Œé€’å½’å¼€å§‹ã€Œå›å‡ã€ï¼Œå› ä¸ºæˆ‘ä»¬é»˜è®¤é•¿åº¦ä¸º <em>1</em> çš„åºåˆ—æ˜¯æ’å¥½åºçš„ã€‚</p><p><strong>æ€è·¯</strong></p><p>é‚£ä¹ˆæ±‚é€†åºå¯¹å’Œå½’å¹¶æ’åºåˆæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿå…³é”®å°±åœ¨äºã€Œå½’å¹¶ã€å½“ä¸­ã€Œå¹¶ã€çš„è¿‡ç¨‹ã€‚æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®ä¾‹æ¥çœ‹çœ‹ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªå·²æ’åºçš„åºåˆ—ç­‰å¾…åˆå¹¶ï¼Œåˆ†åˆ«æ˜¯ L={8,12,16,22,100} å’Œ R={9,26,55,64,91}ã€‚ä¸€å¼€å§‹æˆ‘ä»¬ç”¨æŒ‡é’ˆ <code>lPtr = 0</code> æŒ‡å‘ <em>L</em> çš„é¦–éƒ¨ï¼Œ<code>rPtr = 0</code> æŒ‡å‘ <em>R</em> çš„å¤´éƒ¨ã€‚è®°å·²ç»åˆå¹¶å¥½çš„éƒ¨åˆ†ä¸º <em>M</em>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [8, 12, 16, 22, 100]   R = [9, 26, 55, 64, 91]  M = []</span><br><span class="line">     |                          |</span><br><span class="line">   lPtr                       rPtr</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç° <code>lPtr</code> æŒ‡å‘çš„å…ƒç´ å°äº <code>rPtr</code> æŒ‡å‘çš„å…ƒç´ ï¼Œäºæ˜¯æŠŠ <code>lPtr</code> æŒ‡å‘çš„å…ƒç´ æ”¾å…¥ç­”æ¡ˆï¼Œå¹¶æŠŠ <code>lPtr</code> åç§»ä¸€ä½ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [8, 12, 16, 22, 100]   R = [9, 26, 55, 64, 91]  M = [8]</span><br><span class="line">        |                       |</span><br><span class="line">      lPtr                     rPtr</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æŠŠå·¦è¾¹çš„ <em>8</em> åŠ å…¥äº†ç­”æ¡ˆï¼Œæˆ‘ä»¬å‘ç°å³è¾¹æ²¡æœ‰æ•°æ¯” <em>8</em> å°ï¼Œæ‰€ä»¥ <em>8</em> å¯¹é€†åºå¯¹æ€»æ•°çš„ã€Œè´¡çŒ®ã€ä¸º <em>0</em>ã€‚</p><p>æ¥ç€æˆ‘ä»¬ç»§ç»­åˆå¹¶ï¼ŒæŠŠ <em>9</em> åŠ å…¥äº†ç­”æ¡ˆï¼Œæ­¤æ—¶ <code>lPtr</code> æŒ‡å‘ <em>12</em>ï¼Œ<code>rPtr</code> æŒ‡å‘ <em>26</em>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [8, 12, 16, 22, 100]   R = [9, 26, 55, 64, 91]  M = [8, 9]</span><br><span class="line">        |                          |</span><br><span class="line">       lPtr                       rPtr</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ <code>lPtr</code> æ¯” <code>rPtr</code> å°ï¼ŒæŠŠ <code>lPtr</code> å¯¹åº”çš„æ•°åŠ å…¥ç­”æ¡ˆï¼Œå¹¶è€ƒè™‘å®ƒå¯¹é€†åºå¯¹æ€»æ•°çš„è´¡çŒ®ä¸º <code>rPtr</code> ç›¸å¯¹ <em>R</em> é¦–ä½ç½®çš„åç§» <em>1</em>ï¼ˆå³å³è¾¹åªæœ‰ä¸€ä¸ªæ•°æ¯” <em>12</em> å°ï¼Œæ‰€ä»¥åªæœ‰å®ƒå’Œ <em>12</em> æ„æˆé€†åºå¯¹ï¼‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>æˆ‘ä»¬å‘ç°ç”¨è¿™ç§ã€Œç®—è´¡çŒ®ã€çš„æ€æƒ³åœ¨åˆå¹¶çš„è¿‡ç¨‹ä¸­è®¡ç®—é€†åºå¯¹çš„æ•°é‡çš„æ—¶å€™ï¼Œåªåœ¨ <code>lPtr</code> å³ç§»çš„æ—¶å€™è®¡ç®—ï¼Œæ˜¯åŸºäºè¿™æ ·çš„äº‹å®ï¼šå½“å‰ <code>lPtr</code> æŒ‡å‘çš„æ•°å­—æ¯” <code>rPtr</code> å°ï¼Œä½†æ˜¯æ¯” <em>R</em> ä¸­ <code>[0 ... rPtr - 1]</code> çš„å…¶ä»–æ•°å­—å¤§ï¼Œ<code>[0 ... rPtr - 1]</code> çš„å…¶ä»–æ•°å­—æœ¬åº”å½“æ’åœ¨ <code>lPtr</code> å¯¹åº”æ•°å­—çš„å·¦è¾¹ï¼Œä½†æ˜¯å®ƒæ’åœ¨äº†å³è¾¹ï¼Œæ‰€ä»¥è¿™é‡Œå°±è´¡çŒ®äº† <code>rPtr</code> ä¸ªé€†åºå¯¹ã€‚</p><p>åˆ©ç”¨è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºå¦‚ä¸‹ä»£ç ã€‚å®˜æ–¹é¢˜è§£å†™çš„æ¯”è¾ƒæ™¦æ¶©ï¼Œæˆ‘åœ¨Javaç‰ˆä»£ç é‡Œæ¢äº†ä¸€ç§ç›¸å½“å®¹æ˜“ç†è§£çš„å½¢å¼ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>å½’å¹¶æ’åºC++ </summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">mergeSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; tmp, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l &gt;= r) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> inv_count = mergeSort(nums, tmp, l, mid) + mergeSort(nums, tmp, mid + <span class="number">1</span>, r);</span><br><span class="line">        <span class="keyword">int</span> i = l, j = mid + <span class="number">1</span>, pos = l;</span><br><span class="line">        <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &lt;= nums[j]) &#123;</span><br><span class="line">                tmp[pos] = nums[i];</span><br><span class="line">                ++i;</span><br><span class="line">                inv_count += (j - (mid + <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                tmp[pos] = nums[j];</span><br><span class="line">                ++j;</span><br><span class="line">            &#125;</span><br><span class="line">            ++pos;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = i; k &lt;= mid; ++k) &#123;</span><br><span class="line">            tmp[pos++] = nums[k];</span><br><span class="line">            inv_count += (j - (mid + <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = j; k &lt;= r; ++k) &#123;</span><br><span class="line">            tmp[pos++] = nums[k];</span><br><span class="line">        &#125;</span><br><span class="line">        copy(tmp.begin() + l, tmp.begin() + r + <span class="number">1</span>, nums.begin() + l);</span><br><span class="line">        <span class="keyword">return</span> inv_count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">reversePairs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp(n);</span><br><span class="line">        <span class="keyword">return</span> mergeSort(nums, tmp, <span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å½’å¹¶æ’åºPython</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mergeSort</span><span class="params">(self, nums, tmp, l, r)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> l &gt;= r:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        mid = (l + r) // <span class="number">2</span></span><br><span class="line">        inv_count = self.mergeSort(nums, tmp, l, mid) + self.mergeSort(nums, tmp, mid + <span class="number">1</span>, r)</span><br><span class="line">        i, j, pos = l, mid + <span class="number">1</span>, l</span><br><span class="line">        <span class="keyword">while</span> i &lt;= mid <span class="keyword">and</span> j &lt;= r:</span><br><span class="line">            <span class="keyword">if</span> nums[i] &lt;= nums[j]:</span><br><span class="line">                tmp[pos] = nums[i]</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                inv_count += (j - (mid + <span class="number">1</span>))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                tmp[pos] = nums[j]</span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">            pos += <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> range(i, mid + <span class="number">1</span>):</span><br><span class="line">            tmp[pos] = nums[k]</span><br><span class="line">            inv_count += (j - (mid + <span class="number">1</span>))</span><br><span class="line">            pos += <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> range(j, r + <span class="number">1</span>):</span><br><span class="line">            tmp[pos] = nums[k]</span><br><span class="line">            pos += <span class="number">1</span></span><br><span class="line">        nums[l:r+<span class="number">1</span>] = tmp[l:r+<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> inv_count</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reversePairs</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        tmp = [<span class="number">0</span>] * n</span><br><span class="line">        <span class="keyword">return</span> self.mergeSort(nums, tmp, <span class="number">0</span>, n - <span class="number">1</span>)</span><br></pre></td></tr></table></figure></details><details>    <summary>å½’å¹¶æ’åºGolang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reversePairs</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> mergeSort(nums, <span class="number">0</span>, <span class="built_in">len</span>(nums)<span class="number">-1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mergeSort</span><span class="params">(nums []<span class="keyword">int</span>, start, end <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> start &gt;= end &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    mid := start + (end - start)/<span class="number">2</span></span><br><span class="line">    cnt := mergeSort(nums, start, mid) + mergeSort(nums, mid + <span class="number">1</span>, end)</span><br><span class="line">    tmp := []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">    i, j := start, mid + <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i &lt;= mid &amp;&amp; j &lt;= end &#123;</span><br><span class="line">        <span class="keyword">if</span> nums[i] &lt;= nums[j] &#123;</span><br><span class="line">            tmp = <span class="built_in">append</span>(tmp, nums[i])</span><br><span class="line">            cnt += j - (mid + <span class="number">1</span>)</span><br><span class="line">            i++</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tmp = <span class="built_in">append</span>(tmp, nums[j])</span><br><span class="line">            j++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> ; i &lt;= mid; i++ &#123;</span><br><span class="line">        tmp = <span class="built_in">append</span>(tmp, nums[i])</span><br><span class="line">        cnt += end - (mid + <span class="number">1</span>) + <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> ; j &lt;= end; j++ &#123;</span><br><span class="line">        tmp = <span class="built_in">append</span>(tmp, nums[j])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := start; i &lt;= end; i++ &#123;</span><br><span class="line">        nums[i] = tmp[i - start]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å½’å¹¶æ’åºjava</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">reversePairs</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        mergeCount(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mergeCount</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums.length &lt; <span class="number">2</span> || nums == <span class="keyword">null</span> || left == right) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        mergeCount(nums, left, mid);</span><br><span class="line">        mergeCount(nums, mid + <span class="number">1</span>, right);</span><br><span class="line">        merge(nums, left, mid, right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * nums[left..mid] æœ‰åºï¼Œnums[mid + 1..right] æœ‰åºï¼Œè®¡ç®—é€†åºå¯¹ä¸ªæ•°å¹¶ä¸”æ’åº</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> left, <span class="keyword">int</span> mid, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] help = <span class="keyword">new</span> <span class="keyword">int</span>[right - left + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> p = help.length - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//ä¿å­˜ä¸­é—´çš„ä½ç½®ï¼Œå› ä¸ºåé¢midçš„å€¼ä¼šæ”¹å˜</span></span><br><span class="line">        <span class="keyword">int</span> temp = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (mid &gt;= left &amp;&amp; right &gt;= temp) &#123;</span><br><span class="line">            <span class="comment">//è®°å½•ä¸‹å½“å‰ä¸¤ä¸ªæœ‰åºæ•°ç»„ä¸­çš„é€†åºå¯¹ä¸ªæ•°</span></span><br><span class="line">            result = nums[mid] &gt; nums[right] ? result + right - temp+<span class="number">1</span> : result;</span><br><span class="line">            <span class="comment">//helpæ•°ç»„é‡Œä»å³å‘å·¦å¼€å§‹é™åºå­˜å‚¨numsæ•°ç»„ä¸­çš„å…ƒç´ </span></span><br><span class="line">            help[p--] = nums[mid] &gt; nums[right] ? nums[mid--] : nums[right--];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (mid &gt;= left) &#123;</span><br><span class="line">            help[p--] = nums[mid--];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (right &gt;= temp) &#123;</span><br><span class="line">            help[p--] = nums[right--];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//helpæ•°ç»„å­˜å‚¨çš„æ˜¯ä¸¤ä¸ªåˆå¹¶åçš„æœ‰åºæ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; help.length; i++) &#123;</span><br><span class="line">            nums[left + i] = help[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦**<p>è®°åºåˆ—é•¿åº¦ä¸º <em>n</em>ã€‚</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šåŒå½’å¹¶æ’åº O(nlogn) ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šåŒå½’å¹¶æ’åº <em>O(n)</em>ï¼Œå› ä¸ºå½’å¹¶æ’åºéœ€è¦ç”¨åˆ°ä¸€ä¸ªä¸´æ—¶æ•°ç»„ã€‚</li></ul><h2 id="æ–¹æ³•äºŒï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„"><a href="#æ–¹æ³•äºŒï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„" class="headerlink" title="æ–¹æ³•äºŒï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„"></a>æ–¹æ³•äºŒï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„</h2><p><strong>é¢„å¤‡çŸ¥è¯†</strong></p><p>ã€Œæ ‘çŠ¶æ•°ç»„ã€æ˜¯ä¸€ç§å¯ä»¥åŠ¨æ€ç»´æŠ¤åºåˆ—å‰ç¼€å’Œçš„æ•°æ®ç»“æ„ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ï¼š</p><ul><li><strong>å•ç‚¹æ›´æ–° <code>update(i, v)</code>ï¼š</strong> æŠŠåºåˆ— <em>i</em> ä½ç½®çš„æ•°åŠ ä¸Šä¸€ä¸ªå€¼ <em>v</em>ï¼Œè¿™é¢˜ <em>v = 1</em></li><li><strong>åŒºé—´æŸ¥è¯¢ <code>query(i)</code>ï¼š</strong> æŸ¥è¯¢åºåˆ—[1,â€¦,i] åŒºé—´çš„åŒºé—´å’Œï¼Œå³ <em>i</em> ä½ç½®çš„å‰ç¼€å’Œ</li></ul><p>ä¿®æ”¹å’ŒæŸ¥è¯¢çš„æ—¶é—´ä»£ä»·éƒ½æ˜¯ O(logn) ï¼Œå…¶ä¸­ <em>n</em> ä¸ºéœ€è¦ç»´æŠ¤å‰ç¼€å’Œçš„åºåˆ—çš„é•¿åº¦ã€‚</p><p><strong>æ€è·¯</strong></p><p>è®°é¢˜ç›®ç»™å®šçš„åºåˆ—ä¸º <em>a</em>ï¼Œæˆ‘ä»¬è§„å®š <em>a_i</em> çš„å–å€¼é›†åˆä¸º <em>a</em> çš„ã€Œå€¼åŸŸã€ã€‚æˆ‘ä»¬ç”¨æ¡¶æ¥è¡¨ç¤ºå€¼åŸŸä¸­çš„æ¯ä¸€ä¸ªæ•°ï¼Œæ¡¶ä¸­è®°å½•è¿™äº›æ•°å­—å‡ºç°çš„æ¬¡æ•°ã€‚å‡è®¾a={5,5,2,3,6} ï¼Œé‚£ä¹ˆéå†è¿™ä¸ªåºåˆ—å¾—åˆ°çš„æ¡¶æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">index  -&gt;  1 2 3 4 5 6 7 8 9</span><br><span class="line">value  -&gt;  0 1 1 0 2 1 0 0 0</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå®ƒç¬¬ <em>i - 1</em> ä½çš„å‰ç¼€å’Œè¡¨ç¤ºã€Œæœ‰å¤šå°‘ä¸ªæ•°æ¯” <em>i</em> å°ã€ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä»åå¾€å‰éå†åºåˆ— <em>a</em>ï¼Œè®°å½“å‰éå†åˆ°çš„å…ƒç´ ä¸º <em>a_i*ï¼Œæˆ‘ä»¬æŠŠ *a_i</em> å¯¹åº”çš„æ¡¶çš„å€¼è‡ªå¢ <em>1</em>ï¼ŒæŠŠ <em>i - 1</em> ä½ç½®çš„å‰ç¼€å’ŒåŠ å…¥åˆ°ç­”æ¡ˆä¸­ç®—è´¡çŒ®ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆåšæ˜¯å¯¹çš„å‘¢ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨å¾ªç¯çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æŠŠåŸåºåˆ—åˆ†æˆäº†ä¸¤éƒ¨åˆ†ï¼ŒååŠéƒ¨éƒ¨åˆ†å·²ç»éå†è¿‡ï¼ˆå·²å…¥æ¡¶ï¼‰ï¼Œå‰åŠéƒ¨åˆ†æ˜¯å¾…éå†çš„ï¼ˆæœªå…¥æ¡¶ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ±‚åˆ°çš„ <em>i - 1</em> ä½ç½®çš„å‰ç¼€å’Œå°±æ˜¯ã€Œå·²å…¥æ¡¶ã€çš„å…ƒç´ ä¸­æ¯” <em>a_i</em> å°çš„å…ƒç´ çš„æ€»å’Œï¼Œè€Œè¿™äº›å…ƒç´ åœ¨åŸåºåˆ—ä¸­æ’åœ¨ <em>a_i</em> çš„åé¢ï¼Œä½†å®ƒä»¬æœ¬åº”è¯¥æ’åœ¨ <em>a_i</em> çš„å‰é¢ï¼Œè¿™æ ·å°±å½¢æˆäº†é€†åºå¯¹ã€‚</p><p>æˆ‘ä»¬æ˜¾ç„¶å¯ä»¥ç”¨æ•°ç»„æ¥å®ç°è¿™ä¸ªæ¡¶ï¼Œå¯é—®é¢˜æ˜¯å¦‚æœ <em>a_i</em> ä¸­æœ‰å¾ˆå¤§çš„å…ƒç´ ï¼Œæ¯”å¦‚ <em>10^9*ï¼Œæˆ‘ä»¬å°±è¦å¼€ä¸€ä¸ªå¤§å°ä¸º *10^9</em> çš„æ¡¶ï¼Œå†…å­˜ä¸­æ˜¯å­˜ä¸ä¸‹çš„ã€‚è¿™ä¸ªæ¡¶æ•°ç»„ä¸­å¾ˆå¤šä½ç½®æ˜¯ <em>0</em>ï¼Œæœ‰æ•ˆä½ç½®æ˜¯ç¨€ç–çš„ï¼Œæˆ‘ä»¬è¦æƒ³ä¸€ä¸ªåŠæ³•è®©æœ‰æ•ˆçš„ä½ç½®å…¨èšé›†åˆ°ä¸€èµ·ï¼Œå‡å°‘æ— æ•ˆä½ç½®çš„å‡ºç°ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ–¹æ³•â€”â€”ç¦»æ•£åŒ–ã€‚</p><p>ç¦»æ•£åŒ–ä¸€ä¸ªåºåˆ—çš„å‰ææ˜¯æˆ‘ä»¬åªå…³å¿ƒè¿™ä¸ªåºåˆ—é‡Œé¢å…ƒç´ çš„ç›¸å¯¹å¤§å°ï¼Œè€Œä¸å…³å¿ƒç»å¯¹å¤§å°ï¼ˆå³åªå…³å¿ƒå…ƒç´ åœ¨åºåˆ—ä¸­çš„æ’åï¼‰ï¼›ç¦»æ•£åŒ–çš„ç›®çš„æ˜¯è®©åŸæ¥åˆ†å¸ƒé›¶æ•£çš„å€¼èšé›†åˆ°ä¸€èµ·ï¼Œå‡å°‘ç©ºé—´æµªè´¹ã€‚é‚£ä¹ˆå¦‚ä½•è·å¾—å…ƒç´ æ’åå‘¢ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹åŸåºåˆ—æ’åºåå»é‡ï¼Œå¯¹äºæ¯ä¸€ä¸ª <em>a_i</em> é€šè¿‡äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼è®¡ç®—æ’åä½œä¸ºç¦»æ•£åŒ–ä¹‹åçš„å€¼ã€‚å½“ç„¶è¿™é‡Œä¹Ÿå¯ä»¥ä¸å»é‡ï¼Œä¸å½±å“æ’åã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BIT</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tree;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    BIT(<span class="keyword">int</span> _n): n(_n), tree(_n + <span class="number">1</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (x) &#123;</span><br><span class="line">            ret += tree[x];</span><br><span class="line">            x -= lowbit(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (x &lt;= n) &#123;</span><br><span class="line">            ++tree[x];</span><br><span class="line">            x += lowbit(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">reversePairs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmp = nums;</span><br><span class="line">        <span class="comment">// ç¦»æ•£åŒ–</span></span><br><span class="line">        sort(tmp.begin(), tmp.end());</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>&amp; num: nums) &#123;</span><br><span class="line">            num = lower_bound(tmp.begin(), tmp.end(), num) - tmp.begin() + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ ‘çŠ¶æ•°ç»„ç»Ÿè®¡é€†åºå¯¹</span></span><br><span class="line">        <span class="function">BIT <span class="title">bit</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            ans += bit.query(nums[i] - <span class="number">1</span>);</span><br><span class="line">            bit.update(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„Python</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BIT</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.n = n</span><br><span class="line">        self.tree = [<span class="number">0</span>] * (n + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lowbit</span><span class="params">(x)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> x &amp; (-x)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">query</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        ret = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> x &gt; <span class="number">0</span>:</span><br><span class="line">            ret += self.tree[x]</span><br><span class="line">            x -= BIT.lowbit(x)</span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> x &lt;= self.n:</span><br><span class="line">            self.tree[x] += <span class="number">1</span></span><br><span class="line">            x += BIT.lowbit(x)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reversePairs</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        <span class="comment"># ç¦»æ•£åŒ–</span></span><br><span class="line">        tmp = sorted(nums)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            nums[i] = bisect.bisect_left(tmp, nums[i]) + <span class="number">1</span></span><br><span class="line">        <span class="comment"># æ ‘çŠ¶æ•°ç»„ç»Ÿè®¡é€†åºå¯¹</span></span><br><span class="line">        bit = BIT(n)</span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n - <span class="number">1</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">            ans += bit.query(nums[i] - <span class="number">1</span>)</span><br><span class="line">            bit.update(nums[i])</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„Golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reversePairs</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">     n := <span class="built_in">len</span>(nums)</span><br><span class="line">     tmp := <span class="built_in">make</span>([]<span class="keyword">int</span>, n)</span><br><span class="line">     <span class="built_in">copy</span>(tmp, nums)</span><br><span class="line">     sort.Ints(tmp)</span><br><span class="line"></span><br><span class="line">     <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">         nums[i] = sort.SearchInts(tmp, nums[i]) + <span class="number">1</span></span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     bit := BIT&#123;</span><br><span class="line">         n: n,</span><br><span class="line">         tree: <span class="built_in">make</span>([]<span class="keyword">int</span>, n + <span class="number">1</span>),</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     ans := <span class="number">0</span></span><br><span class="line">     <span class="keyword">for</span> i := n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">         ans += bit.query(nums[i] - <span class="number">1</span>)</span><br><span class="line">         bit.update(nums[i])</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> BIT <span class="keyword">struct</span> &#123;</span><br><span class="line">    n <span class="keyword">int</span></span><br><span class="line">    tree []<span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b BIT)</span> <span class="title">lowbit</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123; <span class="keyword">return</span> x &amp; (-x) &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b BIT)</span> <span class="title">query</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    ret := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> x &gt; <span class="number">0</span> &#123;</span><br><span class="line">        ret += b.tree[x]</span><br><span class="line">        x -= b.lowbit(x)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b BIT)</span> <span class="title">update</span><span class="params">(x <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> x &lt;= b.n &#123;</span><br><span class="line">        b.tree[x]++</span><br><span class="line">        x += b.lowbit(x)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šç¦»æ•£åŒ–çš„è¿‡ç¨‹ä¸­ä½¿ç”¨äº†æ—¶é—´ä»£ä»·ä¸ºO(nlogn) çš„æ’åºï¼Œå•æ¬¡äºŒåˆ†çš„æ—¶é—´ä»£ä»·ä¸ºO(logn)ï¼Œä¸€å…±æœ‰ <em>n</em> æ¬¡ï¼Œæ€»æ—¶é—´ä»£ä»·ä¸º O(nlogn)ï¼›å¾ªç¯æ‰§è¡Œ <em>n</em> æ¬¡ï¼Œæ¯æ¬¡è¿›è¡Œ O(logn) çš„ä¿®æ”¹å’Œ O(logn) çš„æŸ¥æ‰¾ï¼Œæ€»æ—¶é—´ä»£ä»·ä¸º  O(nlogn)ã€‚æ•…æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º  O(nlogn)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šæ ‘çŠ¶æ•°ç»„éœ€è¦ä½¿ç”¨é•¿åº¦ä¸º <em>n</em> çš„æ•°ç»„ä½œä¸ºè¾…åŠ©ç©ºé—´ï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨æ•°ç»„ä¸­çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¦‚æœå‰é¢ä¸€ä¸ªæ•°å­—å¤§äºåé¢çš„æ•°å­—ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªé€†åºå¯¹ã€‚è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ±‚å‡ºè¿™ä¸ªæ•°ç»„ä¸­çš„é€†åºå¯¹çš„æ€»æ•°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Coding Interviews" scheme="http://yoursite.com/tags/Coding-Interviews/"/>
    
  </entry>
  
  <entry>
    <title>315. è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°</title>
    <link href="http://yoursite.com/2020/08/26/315.%20%E8%AE%A1%E7%AE%97%E5%8F%B3%E4%BE%A7%E5%B0%8F%E4%BA%8E%E5%BD%93%E5%89%8D%E5%85%83%E7%B4%A0%E7%9A%84%E4%B8%AA%E6%95%B0/"/>
    <id>http://yoursite.com/2020/08/26/315. è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°/</id>
    <published>2020-08-26T06:12:12.000Z</published>
    <updated>2020-08-31T07:17:30.728Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼ŒæŒ‰è¦æ±‚è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ countsã€‚æ•°ç»„ counts æœ‰è¯¥æ€§è´¨ï¼š counts[i] çš„å€¼æ˜¯  nums[i] å³ä¾§å°äº nums[i] çš„å…ƒç´ çš„æ•°é‡ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [5,2,6,1]è¾“å‡ºï¼š[2,1,1,0] è§£é‡Šï¼š5 çš„å³ä¾§æœ‰ 2 ä¸ªæ›´å°çš„å…ƒç´  (2 å’Œ 1)2 çš„å³ä¾§ä»…æœ‰ 1 ä¸ªæ›´å°çš„å…ƒç´  (1)6 çš„å³ä¾§æœ‰ 1 ä¸ªæ›´å°çš„å…ƒç´  (1)1 çš„å³ä¾§æœ‰ 0 ä¸ªæ›´å°çš„å…ƒç´ </code></pre><p>æç¤ºï¼š</p><p>0 &lt;= nums.length &lt;= 10^5<br>-10^4 &lt;= nums[i] &lt;= 10^4</p><h1 id="æ–¹æ³•ä¸€ï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„"><a href="#æ–¹æ³•ä¸€ï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„" class="headerlink" title="æ–¹æ³•ä¸€ï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„"></a>æ–¹æ³•ä¸€ï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„</h1><p><strong>é¢„å¤‡çŸ¥è¯†</strong></p><p>ã€Œæ ‘çŠ¶æ•°ç»„ã€æ˜¯ä¸€ç§å¯ä»¥åŠ¨æ€ç»´æŠ¤åºåˆ—å‰ç¼€å’Œçš„æ•°æ®ç»“æ„ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ï¼š</p><ul><li><strong>å•ç‚¹æ›´æ–° <code>update(i, v)</code>ï¼š</strong> æŠŠåºåˆ— <em>i</em> ä½ç½®çš„æ•°åŠ ä¸Šä¸€ä¸ªå€¼ <em>v</em>ï¼Œåœ¨è¯¥é¢˜ä¸­ <em>v = 1</em></li><li><strong>åŒºé—´æŸ¥è¯¢ <code>query(i)</code>ï¼š</strong> æŸ¥è¯¢åºåˆ— [1,â€¦,i] åŒºé—´çš„åŒºé—´å’Œï¼Œå³ <em>i</em> ä½ç½®çš„å‰ç¼€å’Œ</li></ul><p>ä¿®æ”¹å’ŒæŸ¥è¯¢çš„æ—¶é—´ä»£ä»·éƒ½æ˜¯ O(logn) ï¼Œå…¶ä¸­ <em>n</em> ä¸ºéœ€è¦ç»´æŠ¤å‰ç¼€å’Œçš„åºåˆ—çš„é•¿åº¦ã€‚</p><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>è®°é¢˜ç›®ç»™å®šçš„åºåˆ—ä¸º <em>a</em>ï¼Œæˆ‘ä»¬è§„å®š <em>a_i</em> çš„å–å€¼é›†åˆä¸º <em>a</em> çš„ã€Œå€¼åŸŸã€ã€‚æˆ‘ä»¬ç”¨æ¡¶æ¥è¡¨ç¤ºå€¼åŸŸä¸­çš„æ¯ä¸€ä¸ªæ•°ï¼Œæ¡¶ä¸­è®°å½•è¿™äº›æ•°å­—å‡ºç°çš„æ¬¡æ•°ã€‚å‡è®¾{5,5,2,3,6} ï¼Œé‚£ä¹ˆéå†è¿™ä¸ªåºåˆ—å¾—åˆ°çš„æ¡¶æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">index  -&gt;  1 2 3 4 5 6 7 8 9</span><br><span class="line">value  -&gt;  0 1 1 0 2 1 0 0 0</span><br></pre></td></tr></table></figure><p><strong>è½¬åŒ–ä¸ºåŠ¨æ€ç»´æŠ¤å‰ç¼€å’Œé—®é¢˜</strong> </p><p>è®° <code>value</code> åºåˆ—ä¸º <em>v</em>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºå®ƒç¬¬ <em>i - 1</em> ä½çš„å‰ç¼€å’Œè¡¨ç¤ºã€Œæœ‰å¤šå°‘ä¸ªæ•°æ¯” <em>i</em> å°ã€ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä»åå¾€å‰éå†åºåˆ— <em>a</em>ï¼Œè®°å½“å‰éå†åˆ°çš„å…ƒç´ ä¸º <em>a_i*ï¼Œæˆ‘ä»¬æŠŠ *a_i</em> å¯¹åº”çš„æ¡¶çš„å€¼è‡ªå¢ <em>1</em>ï¼Œè®° <em>a_i = p*ï¼ŒæŠŠ *v</em> åºåˆ— <em>p - 1</em> ä½ç½®çš„å‰ç¼€å’ŒåŠ å…¥åˆ°ç­”æ¡ˆä¸­ç®—è´¡çŒ®ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆåšæ˜¯å¯¹çš„å‘¢ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨å¾ªç¯çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æŠŠåŸåºåˆ—åˆ†æˆäº†ä¸¤éƒ¨åˆ†ï¼ŒååŠéƒ¨éƒ¨åˆ†å·²ç»éå†è¿‡ï¼ˆå·²å…¥æ¡¶ï¼‰ï¼Œå‰åŠéƒ¨åˆ†æ˜¯å¾…éå†çš„ï¼ˆæœªå…¥æ¡¶ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ±‚åˆ°çš„ <em>p - 1</em> ä½ç½®çš„å‰ç¼€å’Œå°±æ˜¯ã€Œå·²å…¥æ¡¶ã€çš„å…ƒç´ ä¸­æ¯” <em>p</em> å°çš„å…ƒç´ çš„ä¸ªæ•°æ€»å’Œã€‚<strong>è¿™ç§åŠ¨æ€ç»´æŠ¤å‰ç¼€å’Œçš„é—®é¢˜æˆ‘ä»¬å¯ä»¥ç”¨ã€Œæ ‘çŠ¶æ•°ç»„ã€æ¥è§£å†³</strong>ã€‚</p><p><strong>ç”¨ç¦»æ•£åŒ–ä¼˜åŒ–ç©ºé—´</strong> </p><p>æˆ‘ä»¬æ˜¾ç„¶å¯ä»¥ç”¨æ•°ç»„æ¥å®ç°è¿™ä¸ªæ¡¶ï¼Œå¯é—®é¢˜æ˜¯å¦‚æœ <em>a_i</em> ä¸­æœ‰å¾ˆå¤§çš„å…ƒç´ ï¼Œæ¯”å¦‚ <em>10^9*ï¼Œæˆ‘ä»¬å°±è¦å¼€ä¸€ä¸ªå¤§å°ä¸º *10^9</em> çš„æ¡¶ï¼Œå†…å­˜ä¸­æ˜¯å­˜ä¸ä¸‹çš„ã€‚è¿™ä¸ªæ¡¶æ•°ç»„ä¸­å¾ˆå¤šä½ç½®æ˜¯ <em>0</em>ï¼Œæœ‰æ•ˆä½ç½®æ˜¯ç¨€ç–çš„ï¼Œæˆ‘ä»¬è¦æƒ³ä¸€ä¸ªåŠæ³•è®©æœ‰æ•ˆçš„ä½ç½®å…¨èšé›†åˆ°ä¸€èµ·ï¼Œå‡å°‘æ— æ•ˆä½ç½®çš„å‡ºç°ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ–¹æ³•â€”â€”ç¦»æ•£åŒ–ã€‚<strong>ç¦»æ•£åŒ–çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œä½†æ˜¯ç›®çš„æ˜¯ä¸€æ ·çš„ï¼Œå³æŠŠåŸåºåˆ—çš„å€¼åŸŸæ˜ å°„åˆ°ä¸€ä¸ªè¿ç»­çš„æ•´æ•°åŒºé—´ï¼Œå¹¶ä¿è¯å®ƒä»¬çš„ååºå…³ç³»ä¸å˜ã€‚</strong> è¿™é‡Œæˆ‘ä»¬å°†åŸæ•°ç»„å»é‡åæ’åºï¼ŒåŸæ•°ç»„æ¯ä¸ªæ•°æ˜ å°„åˆ°å»é‡æ’åºåè¿™ä¸ªæ•°å¯¹åº”ä½ç½®çš„ä¸‹æ ‡ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªä¸‹æ ‡ä¸ºè¿™ä¸ªå¯¹åº”æ•°å­—çš„ idã€‚å·²çŸ¥æ•°å­—è·å– id  å¯ä»¥åœ¨å»é‡æ’åºåçš„æ•°ç»„é‡Œé¢åšäºŒåˆ†æŸ¥æ‰¾ï¼Œå·²çŸ¥id è·å–æ•°å­—å¯ä»¥ç›´æ¥æŠŠidä½œä¸ºä¸‹æ ‡è®¿é—®å»é‡æ’åºæ•°ç»„çš„å¯¹åº”ä½ç½®ã€‚å¤§å®¶å¯ä»¥å‚è€ƒä»£ç å’Œå›¾æ¥ç†è§£è¿™ä¸ªè¿‡ç¨‹ã€‚</p><p> <a href="https://assets.leetcode-cn.com/solution-static/315/1.png" target="_blank" rel="noopener">fig1</a> <a href="https://assets.leetcode-cn.com/solution-static/315/2.png" target="_blank" rel="noopener">fig2</a> <a href="https://assets.leetcode-cn.com/solution-static/315/3.png" target="_blank" rel="noopener">fig3</a> <a href="https://assets.leetcode-cn.com/solution-static/315/4.png" target="_blank" rel="noopener">fig4</a> <a href="https://assets.leetcode-cn.com/solution-static/315/5.png" target="_blank" rel="noopener">fig5</a> <a href="https://assets.leetcode-cn.com/solution-static/315/6.png" target="_blank" rel="noopener">fig6</a> <a href="https://assets.leetcode-cn.com/solution-static/315/7.png" target="_blank" rel="noopener">fig7</a> <a href="https://assets.leetcode-cn.com/solution-static/315/8.png" target="_blank" rel="noopener">fig8</a> <a href="https://assets.leetcode-cn.com/solution-static/315/9.png" target="_blank" rel="noopener">fig9</a> <a href="https://assets.leetcode-cn.com/solution-static/315/10.png" target="_blank" rel="noopener">fig10</a> </p><p>å…¶å®ï¼Œè®¡ç®—æ¯ä¸ªæ•°å­—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘ä»¬åœ¨ <a href="https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/" target="_blank" rel="noopener">ã€Œå‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹ã€</a> é¢˜è§£çš„ã€Œæ–¹æ³•äºŒï¼šç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„ã€ä¸­é‡åˆ°è¿‡ï¼Œåœ¨ç»Ÿè®¡é€†åºå¯¹çš„æ—¶å€™ï¼Œåªéœ€è¦ç»Ÿè®¡æ¯ä¸ªä½ç½®å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°ï¼Œå†å¯¹å®ƒä»¬æ±‚å’Œï¼Œå°±å¯ä»¥å¾—åˆ°é€†åºå¯¹çš„æ€»æ•°ã€‚è¿™é“é€†åºå¯¹çš„é¢˜å¯ä»¥ä½œä¸ºæœ¬é¢˜çš„è¡¥å……ç»ƒä¹ ã€‚</p><p>ä»£ç å¦‚ä¸‹ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„C#</summary><figure class="highlight csharp"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Solution</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] c;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] a;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Init</span>(<span class="params"><span class="keyword">int</span> length</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        c = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">        Array.Fill(c, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">LowBit</span>(<span class="params"><span class="keyword">int</span> x</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>(<span class="params"><span class="keyword">int</span> pos</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (pos &lt; c.Length)</span><br><span class="line">        &#123;</span><br><span class="line">            c[pos] += <span class="number">1</span>;</span><br><span class="line">            pos += LowBit(pos);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">Query</span>(<span class="params"><span class="keyword">int</span> pos</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (pos &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ret += c[pos];</span><br><span class="line">            pos -= LowBit(pos);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Discretization</span>(<span class="params"><span class="keyword">int</span>[] nums</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        a = (<span class="keyword">int</span>[])nums.Clone();</span><br><span class="line">        <span class="keyword">var</span> hashSet = <span class="keyword">new</span> HashSet&lt;<span class="keyword">int</span>&gt;(a);</span><br><span class="line">        a = hashSet.ToArray();</span><br><span class="line">        Array.Sort(a);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">GetId</span>(<span class="params"><span class="keyword">int</span> x</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Array.BinarySearch(a, x) + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IList&lt;<span class="keyword">int</span>&gt; <span class="title">CountSmaller</span>(<span class="params"><span class="keyword">int</span>[] nums</span>) </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> resultList = <span class="keyword">new</span> List&lt;<span class="keyword">int</span>&gt;(); </span><br><span class="line"></span><br><span class="line">        Discretization(nums);</span><br><span class="line"></span><br><span class="line">        Init(nums.Length + <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = nums.Length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> id = GetId(nums[i]);</span><br><span class="line">            resultList.Add(Query(id - <span class="number">1</span>));</span><br><span class="line">            Update(id);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        resultList.Reverse();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] c;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] a;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">countSmaller</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; resultList = <span class="keyword">new</span> ArrayList&lt;Integer&gt;(); </span><br><span class="line">        discretization(nums);</span><br><span class="line">        init(nums.length + <span class="number">5</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = nums.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">int</span> id = getId(nums[i]);</span><br><span class="line">            resultList.add(query(id - <span class="number">1</span>));</span><br><span class="line">            update(id);</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.reverse(resultList);</span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">        c = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">        Arrays.fill(c, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">lowBit</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> pos)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (pos &lt; c.length) &#123;</span><br><span class="line">            c[pos] += <span class="number">1</span>;</span><br><span class="line">            pos += lowBit(pos);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> pos)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (pos &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            ret += c[pos];</span><br><span class="line">            pos -= lowBit(pos);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">discretization</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            set.add(num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> size = set.size();</span><br><span class="line">        a = <span class="keyword">new</span> <span class="keyword">int</span>[size];</span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : set) &#123;</span><br><span class="line">            a[index++] = num;</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(a);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Arrays.binarySearch(a, x) + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; c;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Init</span><span class="params">(<span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">        c.resize(length, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">LowBit</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span><span class="params">(<span class="keyword">int</span> pos)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (pos &lt; c.size()) &#123;</span><br><span class="line">            c[pos] += <span class="number">1</span>;</span><br><span class="line">            pos += LowBit(pos);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">Query</span><span class="params">(<span class="keyword">int</span> pos)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (pos &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            ret += c[pos];</span><br><span class="line">            pos -= LowBit(pos);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Discretization</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        a.assign(nums.begin(), nums.end());</span><br><span class="line">        sort(a.begin(), a.end());</span><br><span class="line">        a.erase(unique(a.begin(), a.end()), a.end());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getId</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> lower_bound(a.begin(), a.end(), x) - a.begin() + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; countSmaller(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; resultList;</span><br><span class="line"></span><br><span class="line">        Discretization(nums);</span><br><span class="line"></span><br><span class="line">        Init(nums.size() + <span class="number">5</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = (<span class="keyword">int</span>)nums.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">int</span> id = getId(nums[i]);</span><br><span class="line">            resultList.push_back(Query(id - <span class="number">1</span>));</span><br><span class="line">            Update(id);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        reverse(resultList.begin(), resultList.end());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resultList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a, c []<span class="keyword">int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">countSmaller</span><span class="params">(nums []<span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    resultList := []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">    discretization(nums)</span><br><span class="line">    c = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="built_in">len</span>(nums) + <span class="number">5</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="built_in">len</span>(nums) - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">        id := getId(nums[i])</span><br><span class="line">        resultList = <span class="built_in">append</span>(resultList, query(id - <span class="number">1</span>))</span><br><span class="line">        update(id)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(resultList)/<span class="number">2</span>; i++ &#123;</span><br><span class="line">        resultList[i], resultList[<span class="built_in">len</span>(resultList)<span class="number">-1</span>-i] = resultList[<span class="built_in">len</span>(resultList)<span class="number">-1</span>-i], resultList[i]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> resultList</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lowBit</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x &amp; (-x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">update</span><span class="params">(pos <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> pos &lt; <span class="built_in">len</span>(c) &#123;</span><br><span class="line">        c[pos]++</span><br><span class="line">        pos += lowBit(pos)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">query</span><span class="params">(pos <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    ret := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> pos &gt; <span class="number">0</span> &#123;</span><br><span class="line">        ret += c[pos]</span><br><span class="line">        pos -= lowBit(pos)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">discretization</span><span class="params">(nums []<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    set := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">struct</span>&#123;&#125;&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> _, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        set[num] = <span class="keyword">struct</span>&#123;&#125;&#123;&#125; </span><br><span class="line">    &#125;</span><br><span class="line">    a = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">0</span>, <span class="built_in">len</span>(nums))</span><br><span class="line">    <span class="keyword">for</span> num := <span class="keyword">range</span> set &#123;</span><br><span class="line">        a = <span class="built_in">append</span>(a, num)</span><br><span class="line">    &#125;</span><br><span class="line">    sort.Ints(a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getId</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> sort.SearchInts(a, x) + <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LowBit</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123; <span class="keyword">return</span> x &amp; (-x); &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span><span class="params">(<span class="keyword">int</span>* c, <span class="keyword">int</span> n, <span class="keyword">int</span> pos)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (pos &lt; n) &#123;</span><br><span class="line">        c[pos] += <span class="number">1</span>;</span><br><span class="line">        pos += LowBit(pos);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Query</span><span class="params">(<span class="keyword">int</span>* c, <span class="keyword">int</span> n, <span class="keyword">int</span> pos)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (pos &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        ret += c[pos];</span><br><span class="line">        pos -= LowBit(pos);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lower_bound</span><span class="params">(<span class="keyword">int</span>* a, <span class="keyword">int</span> n, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, r = n;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (a[mid] &lt; x) &#123;</span><br><span class="line">            l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            r = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">comp</span><span class="params">(<span class="keyword">const</span> <span class="keyword">void</span>* a, <span class="keyword">const</span> <span class="keyword">void</span>* b)</span> </span>&#123; <span class="keyword">return</span> (*(<span class="keyword">int</span>*)a - *(<span class="keyword">int</span>*)b); &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Discretization</span><span class="params">(<span class="keyword">int</span>* a, <span class="keyword">int</span>* nums, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memcpy</span>(a, nums, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * n);</span><br><span class="line">    qsort(a, n, <span class="keyword">sizeof</span>(<span class="keyword">int</span>), comp);</span><br><span class="line">    <span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (a[i] &gt; a[m]) &#123;</span><br><span class="line">            a[++m] = a[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> m + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span>* <span class="title">countSmaller</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize, <span class="keyword">int</span>* returnSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>* a = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numsSize);</span><br><span class="line">    <span class="keyword">int</span>* c = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * (numsSize + <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">int</span>* ret = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numsSize);</span><br><span class="line">    <span class="built_in">memset</span>(a, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numsSize);</span><br><span class="line">    <span class="built_in">memset</span>(c, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * (numsSize + <span class="number">1</span>));</span><br><span class="line">    <span class="built_in">memset</span>(ret, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numsSize);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> m = Discretization(a, nums, numsSize);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = numsSize - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        <span class="keyword">int</span> id = lower_bound(a, m, nums[i]) + <span class="number">1</span>;</span><br><span class="line">        ret[i] = Query(c, m + <span class="number">1</span>, id - <span class="number">1</span>);</span><br><span class="line">        Update(c, m + <span class="number">1</span>, id);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(a);</span><br><span class="line">    <span class="built_in">free</span>(c);</span><br><span class="line">    *returnSize = numsSize;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><p>å‡è®¾é¢˜ç›®ç»™å‡ºçš„åºåˆ—é•¿åº¦ä¸º <em>n</em>ã€‚</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šæˆ‘ä»¬æ¢³ç†ä¸€ä¸‹è¿™ä¸ªç®—æ³•çš„æµç¨‹ï¼Œè¿™é‡Œç¦»æ•£åŒ–ä½¿ç”¨å“ˆå¸Œè¡¨å»é‡ï¼Œç„¶åå†å¯¹å»é‡çš„æ•°ç»„è¿›è¡Œæ’åºï¼Œæ—¶é—´ä»£ä»·ä¸º O(nlogn)ï¼›åˆå§‹åŒ–æ ‘çŠ¶æ•°ç»„çš„æ—¶é—´ä»£ä»·æ˜¯ <em>O(n)</em>ï¼›é€šè¿‡å€¼è·å–ç¦»æ•£åŒ– id  çš„æ“ä½œå•æ¬¡æ—¶é—´ä»£ä»·ä¸ºO(logn) ï¼›å¯¹äºæ¯ä¸ªåºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œéƒ½ä¼šåšä¸€æ¬¡æŸ¥è¯¢ idã€å•ç‚¹ä¿®æ”¹å’Œå‰ç¼€å’ŒæŸ¥è¯¢ï¼Œæ€»çš„æ—¶é—´ä»£ä»·ä¸º O(nlogn) ã€‚æ•…æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šè¿™é‡Œç”¨åˆ°çš„ç¦»æ•£åŒ–æ•°ç»„ã€æ ‘çŠ¶æ•°ç»„ã€å“ˆå¸Œè¡¨çš„ç©ºé—´ä»£ä»·éƒ½æ˜¯ <em>O(n)</em>ï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li></ul><h1 id="æ–¹æ³•äºŒï¼šå½’å¹¶æ’åº"><a href="#æ–¹æ³•äºŒï¼šå½’å¹¶æ’åº" class="headerlink" title="æ–¹æ³•äºŒï¼šå½’å¹¶æ’åº"></a>æ–¹æ³•äºŒï¼šå½’å¹¶æ’åº</h1><p><strong>é¢„å¤‡çŸ¥è¯†</strong></p><p>è¿™é‡Œå‡è®¾è¯»è€…å·²ç»çŸ¥é“å¦‚ä½•ä½¿ç”¨å½’å¹¶æ’åºçš„æ–¹æ³•è®¡ç®—åºåˆ—çš„é€†åºå¯¹æ•°ï¼Œå¦‚æœè¯»è€…è¿˜ä¸çŸ¥é“çš„è¯å¯ä»¥å‚è€ƒ <a href="https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/" target="_blank" rel="noopener">ã€Œå‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹ã€</a> çš„å®˜æ–¹é¢˜è§£å“¦ã€‚</p><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>æˆ‘ä»¬å‘ç°ã€Œç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„ã€çš„æ–¹æ³•å‡ ä¹äº <a href="https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/" target="_blank" rel="noopener">ã€Œå‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹ã€</a> ä¸­çš„å®Œå…¨ç›¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä¸å¯ä»¥å€Ÿé‰´é€†åºå¯¹é—®é¢˜ä¸­çš„å½’å¹¶æ’åºçš„æ–¹æ³•å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬è¿˜æ˜¯è¦åœ¨ã€Œå½’å¹¶æ’åºã€çš„ã€Œå¹¶ã€ä¸­åšæ–‡ç« ã€‚æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®ä¾‹æ¥çœ‹çœ‹ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªå·²æ’åºçš„åºåˆ—ç­‰å¾…åˆå¹¶ï¼Œåˆ†åˆ«æ˜¯L={8,12,16,22,100}å’ŒR={7,26,55,64,91}ã€‚ä¸€å¼€å§‹æˆ‘ä»¬ç”¨æŒ‡é’ˆ <code>lPtr = 0</code> æŒ‡å‘ <em>L</em> çš„å¤´éƒ¨ï¼Œ<code>rPtr = 0</code> æŒ‡å‘ <em>R</em> çš„å¤´éƒ¨ã€‚è®°å·²ç»åˆå¹¶å¥½çš„éƒ¨åˆ†ä¸º <em>M</em>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [8, 12, 16, 22, 100]   R = [7, 26, 55, 64, 91]  M = []</span><br><span class="line">     |                          |</span><br><span class="line">   lPtr                       rPtr</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç° <code>lPtr</code> æŒ‡å‘çš„å…ƒç´ å¤§äº <code>rPtr</code> æŒ‡å‘çš„å…ƒç´ ï¼Œäºæ˜¯æŠŠ <code>rPtr</code> æŒ‡å‘çš„å…ƒç´ æ”¾å…¥ç­”æ¡ˆï¼Œå¹¶æŠŠ <code>rPtr</code> åç§»ä¸€ä½ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [8, 12, 16, 22, 100]   R = [7, 26, 55, 64, 91]  M = [7]</span><br><span class="line">     |                              |</span><br><span class="line">    lPtr                          rPtr</span><br></pre></td></tr></table></figure><p>æ¥ç€æˆ‘ä»¬ç»§ç»­åˆå¹¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [8, 12, 16, 22, 100]   R = [7, 26, 55, 64, 91]  M = [8, 9]</span><br><span class="line">        |                          |</span><br><span class="line">       lPtr                       rPtr</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ <code>lPtr</code> æ¯” <code>rPtr</code> å°ï¼ŒæŠŠ <code>lPtr</code> å¯¹åº”çš„æ•°åŠ å…¥ç­”æ¡ˆã€‚å¦‚æœæˆ‘ä»¬è¦ç»Ÿè®¡ <em>8</em> çš„å³è¾¹æ¯” <em>8</em> å°çš„å…ƒç´ ï¼Œè¿™é‡Œ <em>7</em> å¯¹å®ƒåšäº†ä¸€æ¬¡è´¡çŒ®ã€‚å¦‚æœå¸¦åˆå¹¶çš„åºåˆ— L={8,12,16,22,100} ï¼ŒR={7,7,7,26,55,64,91} ï¼Œé‚£ä¹ˆä¸€å®šæœ‰ä¸€ä¸ªæ—¶åˆ»ï¼Œ<code>lPtr</code> å’Œ <code>rPtr</code> åˆ†åˆ«æŒ‡å‘è¿™äº›å¯¹åº”çš„ä½ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [8, 12, 16, 22, 100]   R = [7, 7, 7, 26, 55, 64, 91]  M = [7, 7, 7]</span><br><span class="line">     |                                   |</span><br><span class="line">    lPtr                                rPtr</span><br></pre></td></tr></table></figure><p>ä¸‹ä¸€æ­¥æˆ‘ä»¬å°±æ˜¯æŠŠ <em>8</em> åŠ å…¥ <em>M</em> ä¸­ï¼Œæ­¤æ—¶ä¸‰ä¸ª <em>7</em> å¯¹ <em>8</em> çš„å³è¾¹æ¯” <em>8</em> å°çš„å…ƒç´ çš„è´¡çŒ®ä¸º <em>3</em>ã€‚ä»¥æ­¤ç±»æ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€è¾¹åˆå¹¶ä¸€è¾¹è®¡ç®— <em>R</em> çš„å¤´éƒ¨åˆ° <code>rPtr</code> å‰ä¸€ä¸ªæ•°å­—å¯¹å½“å‰ <code>lPtr</code> æŒ‡å‘çš„æ•°å­—çš„è´¡çŒ®ã€‚</p><p>æˆ‘ä»¬å‘ç°ç”¨è¿™ç§ã€Œç®—è´¡çŒ®ã€çš„æ€æƒ³åœ¨åˆå¹¶çš„è¿‡ç¨‹ä¸­è®¡ç®—é€†åºå¯¹çš„æ•°é‡çš„æ—¶å€™ï¼Œåªåœ¨ <code>lPtr</code> å³ç§»çš„æ—¶å€™è®¡ç®—ï¼Œæ˜¯åŸºäºè¿™æ ·çš„äº‹å®ï¼šå½“å‰ <code>lPtr</code> æŒ‡å‘çš„æ•°å­—æ¯” <code>rPtr</code> å°ï¼Œä½†æ˜¯æ¯” <em>R</em> ä¸­ <code>[0 ... rPtr - 1]</code> çš„å…¶ä»–æ•°å­—å¤§ï¼Œ<code>[0 ... rPtr - 1]</code> çš„æ•°å­—æ˜¯åœ¨ <code>lPtr</code> å³è¾¹ä½†æ˜¯æ¯” <code>lPtr</code> å¯¹åº”æ•°å°çš„æ•°å­—ï¼Œè´¡çŒ®ä¸ºè¿™äº›æ•°å­—çš„ä¸ªæ•°ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬åˆé‡åˆ°äº†æ–°çš„é—®é¢˜ï¼Œåœ¨ã€Œå¹¶ã€çš„è¿‡ç¨‹ä¸­ <em>8</em> çš„ä½ç½®ä¸€ç›´åœ¨å‘ç”Ÿæ”¹å˜ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠè®¡ç®—çš„è´¡çŒ®ä¿å­˜åˆ°å“ªé‡Œå‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¼•å…¥ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œæ¥è®°å½•æ¯ä¸ªæ•°å­—å¯¹åº”çš„åŸæ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">    a = [8, 9, 1, 5, 2]</span><br><span class="line">index = [0, 1, 2, 3, 4]</span><br></pre></td></tr></table></figure><p>æ’åºçš„æ—¶å€™åŸæ•°ç»„å’Œè¿™ä¸ªä¸‹æ ‡æ•°ç»„åŒæ—¶å˜åŒ–ï¼Œåˆ™æ’åºåæˆ‘ä»¬å¾—åˆ°è¿™æ ·çš„ä¸¤ä¸ªæ•°ç»„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">    a = [1, 2, 5, 8, 9]</span><br><span class="line">index = [2, 4, 3, 0, 1]</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç”¨ä¸€ä¸ªæ•°ç»„ <code>ans</code> æ¥è®°å½•è´¡çŒ®ã€‚æˆ‘ä»¬å¯¹æŸä¸ªå…ƒç´ è®¡ç®—è´¡çŒ®çš„æ—¶å€™ï¼Œå¦‚æœå®ƒå¯¹åº”çš„ä¸‹æ ‡ä¸º <code>p</code>ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ <code>ans[p]</code> ä¸ŠåŠ ä¸Šè´¡çŒ®å³å¯ã€‚</p><p>å¤§å®¶å¯ä»¥å‚è€ƒä»£ç æ¥ç†è§£è¿™ä¸ªè¿‡ç¨‹ã€‚Javaç‰ˆçš„è¿™ç§è§£æ³•æˆ‘è¿˜æ˜¯æ²¡æœ‰åƒé€ï¼Œå¯ä»¥å‚è§<a href="https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/" target="_blank" rel="noopener">ã€Œå‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹ã€</a> çš„ç›¸åº”åšå®¢ä¸­æœ‰ä¸€ç§ç›¸å¯¹æ˜“äºç†è§£çš„è§£æ³•ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>å½’å¹¶æ’åºC#</summary><figure class="highlight csharp"><figcaption><span>[sol2-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] index;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] temp;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] tempIndex;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] ans;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Merge</span>(<span class="params"><span class="keyword">int</span>[] a, <span class="keyword">int</span> l, <span class="keyword">int</span> mid, <span class="keyword">int</span> r</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = l, j = mid + <span class="number">1</span>, p = l;</span><br><span class="line">        <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (a[i] &lt;= a[j])</span><br><span class="line">            &#123;</span><br><span class="line">                temp[p] = a[i];</span><br><span class="line">                tempIndex[p] = index[i];</span><br><span class="line">                ans[index[i]] += (j - mid - <span class="number">1</span>);</span><br><span class="line">                ++i;</span><br><span class="line">                ++p;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">            &#123;</span><br><span class="line">                temp[p] = a[j];</span><br><span class="line">                tempIndex[p] = index[j];</span><br><span class="line">                ++j;</span><br><span class="line">                ++p;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (i &lt;= mid) </span><br><span class="line">        &#123;</span><br><span class="line">            temp[p] = a[i];</span><br><span class="line">            tempIndex[p] = index[i];</span><br><span class="line">            ans[index[i]] += (j - mid - <span class="number">1</span>);</span><br><span class="line">            ++i;</span><br><span class="line">            ++p;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (j &lt;= r)</span><br><span class="line">        &#123;</span><br><span class="line">            temp[p] = a[j];</span><br><span class="line">            tempIndex[p] = index[j];</span><br><span class="line">            ++j;</span><br><span class="line">            ++p;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = l; k &lt;= r; ++k)</span><br><span class="line">        &#123;</span><br><span class="line">            index[k] = tempIndex[k];</span><br><span class="line">            a[k] = temp[k];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MergeSort</span>(<span class="params"><span class="keyword">int</span>[] a, <span class="keyword">int</span> l, <span class="keyword">int</span> r</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l &gt;= r) </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        MergeSort(a, l, mid);</span><br><span class="line">        MergeSort(a, mid + <span class="number">1</span>, r);</span><br><span class="line">        Merge(a, l, mid, r);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> IList&lt;<span class="keyword">int</span>&gt; <span class="title">CountSmaller</span>(<span class="params"><span class="keyword">int</span>[] nums</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.index = <span class="keyword">new</span> <span class="keyword">int</span>[nums.Length];</span><br><span class="line">        <span class="keyword">this</span>.temp = <span class="keyword">new</span> <span class="keyword">int</span>[nums.Length];</span><br><span class="line">        <span class="keyword">this</span>.tempIndex = <span class="keyword">new</span> <span class="keyword">int</span>[nums.Length];</span><br><span class="line">        <span class="keyword">this</span>.ans = <span class="keyword">new</span> <span class="keyword">int</span>[nums.Length];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.Length; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            index[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = nums.Length - <span class="number">1</span>;</span><br><span class="line">        MergeSort(nums, l, r);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> List&lt;<span class="keyword">int</span>&gt;(ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å½’å¹¶æ’åºJava</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] index;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] aux;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] counter;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">countSmaller</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> len = nums.length;</span><br><span class="line">        <span class="keyword">if</span> (len == <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line">        aux = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        counter = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        index = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) index[i] = iï¼›</span><br><span class="line">        <span class="comment">//å½’å¹¶æ’åºå¹¶ç»Ÿè®¡</span></span><br><span class="line">        mergeAndCount(nums, <span class="number">0</span>, len - <span class="number">1</span>);</span><br><span class="line">        <span class="comment">//éå†è·å–ç»Ÿè®¡ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            res.add(counter[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å½’å¹¶æ’åºå…¥å£</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">mergeAndCount</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l == r) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> m = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">        mergeAndCount(nums, l, m);</span><br><span class="line">        mergeAndCount(nums, m + <span class="number">1</span>, r);</span><br><span class="line">        <span class="comment">//æ£€æŸ¥å·²æ’åºçš„éƒ¨åˆ†</span></span><br><span class="line">        <span class="keyword">if</span> (nums[index[m]] &gt; nums[index[m + <span class="number">1</span>]]) &#123;</span><br><span class="line">            sortAndCount(nums, l, m, r);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å­æ•°ç»„æ’åºå¹¶ç»Ÿè®¡</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">sortAndCount</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> m, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = l; i &lt;= r; i++) aux[i] = index[i];</span><br><span class="line">        <span class="keyword">int</span> i = l, j = m + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = l; k &lt;= r; k++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; m) &#123;</span><br><span class="line">                index[k] = aux[j++];</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j &gt; r) &#123;</span><br><span class="line">                index[k] = aux[i++];</span><br><span class="line">                <span class="comment">//æ’åºçš„æ˜¯ç´¢å¼•æ•°ç»„ï¼Œä»ç„¶å¯ä»¥é€šè¿‡ç´¢å¼•æ‰¾åˆ°åŸæ¥æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå¹¶æ›´æ–°ç»Ÿè®¡å€¼</span></span><br><span class="line">                <span class="comment">//å³è¾¹å…ˆèµ°å®Œï¼Œé‚£ä¹ˆå³è¾¹çš„éƒ½æ˜¯é€†åº</span></span><br><span class="line">                counter[index[k]] += (r - m);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[aux[i]] &lt;= nums[aux[j]]) &#123;</span><br><span class="line">                index[k] = aux[i++];</span><br><span class="line">                <span class="comment">//æ’å…¥å·¦è¾¹çš„å…ƒç´ æ—¶ï¼Œç»Ÿè®¡å·²ç»äº§ç”Ÿçš„é€†åºéƒ¨åˆ†</span></span><br><span class="line">                counter[index[k]] += (j - m - <span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                index[k] = aux[j++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ï¼Œå³å½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œè¿™é‡Œå½’å¹¶æ’åºçš„ä¸´æ—¶æ•°ç»„ã€ä¸‹æ ‡æ˜ å°„æ•°ç»„ä»¥åŠç­”æ¡ˆæ•°ç»„çš„ç©ºé—´ä»£ä»·å‡ä¸º <em>O(n)</em>ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼ŒæŒ‰è¦æ±‚è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ countsã€‚æ•°ç»„ counts æœ‰è¯¥æ€§è´¨ï¼š counts[i] çš„å€¼æ˜¯  nums[i] å³ä¾§å°äº nums[i] çš„å…ƒç´ çš„æ•°é‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
      <category term="Binary Indexed Tree" scheme="http://yoursite.com/tags/Binary-Indexed-Tree/"/>
    
      <category term="Segment Tree" scheme="http://yoursite.com/tags/Segment-Tree/"/>
    
      <category term="Divide and Conque" scheme="http://yoursite.com/tags/Divide-and-Conque/"/>
    
  </entry>
  
  <entry>
    <title>287. å¯»æ‰¾é‡å¤æ•°</title>
    <link href="http://yoursite.com/2020/08/25/287.%20%E5%AF%BB%E6%89%BE%E9%87%8D%E5%A4%8D%E6%95%B0/"/>
    <id>http://yoursite.com/2020/08/25/287. å¯»æ‰¾é‡å¤æ•°/</id>
    <published>2020-08-25T08:12:12.000Z</published>
    <updated>2020-08-26T06:33:03.611Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªåŒ…å« n + 1 ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œå…¶æ•°å­—éƒ½åœ¨ 1 åˆ° n ä¹‹é—´ï¼ˆåŒ…æ‹¬ 1 å’Œ nï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚å‡è®¾åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•´æ•°ï¼Œæ‰¾å‡ºè¿™ä¸ªé‡å¤çš„æ•°ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: [1,3,4,2,2]è¾“å‡º: 2</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: [3,1,3,4,2]è¾“å‡º: 3</code></pre><p>è¯´æ˜ï¼š</p><pre><code>ä¸èƒ½æ›´æ”¹åŸæ•°ç»„ï¼ˆå‡è®¾æ•°ç»„æ˜¯åªè¯»çš„ï¼‰ã€‚åªèƒ½ä½¿ç”¨é¢å¤–çš„ O(1) çš„ç©ºé—´ã€‚æ—¶é—´å¤æ‚åº¦å°äº O(n2) ã€‚æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•°å­—ï¼Œä½†å®ƒå¯èƒ½ä¸æ­¢é‡å¤å‡ºç°ä¸€æ¬¡ã€‚</code></pre><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="95ade126-7621-420e-97fb-4fe2784fad01">287. å¯»æ‰¾é‡å¤æ•°.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾</h2><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>æˆ‘ä»¬å®šä¹‰ cnt[i] è¡¨ç¤º nums[]  æ•°ç»„ä¸­å°äºç­‰äº <em>i</em> çš„æ•°æœ‰å¤šå°‘ä¸ªï¼Œå‡è®¾æˆ‘ä»¬é‡å¤çš„æ•°æ˜¯ target ï¼Œé‚£ä¹ˆ [1,target-1] é‡Œçš„æ‰€æœ‰æ•°æ»¡è¶³ cnt[i] &lt;=iï¼Œ<em>[target,n]</em> é‡Œçš„æ‰€æœ‰æ•°æ»¡è¶³ cnt[i] &gt; iï¼Œå…·æœ‰å•è°ƒæ€§ã€‚</p><p>ä»¥ç¤ºä¾‹ 1 ä¸ºä¾‹ï¼Œæˆ‘ä»¬åˆ—å‡ºæ¯ä¸ªæ•°å­—çš„ cnt  å€¼ï¼š</p><table><thead><tr><th align="center">nums</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th></tr></thead><tbody><tr><td align="center">cnt</td><td align="center">1</td><td align="center">3</td><td align="center">4</td><td align="center">5</td></tr></tbody></table><p>ç¤ºä¾‹ä¸­é‡å¤çš„æ•´æ•°æ˜¯ <em>2</em>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° <em>[1,1]</em> ä¸­çš„æ•°æ»¡è¶³ cnt[i] &lt;=iï¼Œ<em>[2,4]</em> ä¸­çš„æ•°æ»¡è¶³cnt[i] &gt; i ã€‚</p><p>å¦‚æœçŸ¥é“  cnt[]  æ•°ç»„éšæ•°å­— <em>i</em> é€æ¸å¢å¤§å…·æœ‰å•è°ƒæ€§ï¼ˆå³ target  å‰ cnt[i] &lt;=iï¼Œtarget  å cnt[i] &gt; iï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥æ‰¾åˆ°é‡å¤çš„æ•°ã€‚</p><p>ä½†è¿™ä¸ªæ€§è´¨ä¸€å®šæ˜¯æ­£ç¡®çš„å—ï¼Ÿè€ƒè™‘ nums[]  æ•°ç»„ä¸€å…±æœ‰ <em>n+1</em> ä¸ªä½ç½®ï¼Œæˆ‘ä»¬å¡«å…¥çš„æ•°å­—éƒ½åœ¨ <em>[1,n]</em> é—´ï¼Œæœ‰ä¸”åªæœ‰ä¸€ä¸ªæ•°é‡å¤æ”¾äº†ä¸¤æ¬¡ä»¥ä¸Šã€‚å¯¹äºæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ï¼Œè€ƒè™‘ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p><ul><li><p>å¦‚æœæµ‹è¯•ç”¨ä¾‹çš„æ•°ç»„ä¸­target å‡ºç°äº†ä¸¤æ¬¡ï¼Œå…¶ä½™çš„æ•°å„å‡ºç°äº†ä¸€æ¬¡ï¼Œè¿™ä¸ªæ—¶å€™è‚¯å®šæ»¡è¶³ä¸Šæ–‡æåŠçš„æ€§è´¨ï¼Œå› ä¸ºå°äº target çš„æ•° <em>i</em> æ»¡è¶³ cnt[i]=i ï¼Œå¤§äºç­‰äº target  çš„æ•° <em>j</em> æ»¡è¶³ <em>cnt[j]=j+1</em>ã€‚</p></li><li><p>å¦‚æœæµ‹è¯•ç”¨ä¾‹çš„æ•°ç»„ä¸­ target å‡ºç°äº†ä¸‰æ¬¡åŠä»¥ä¸Šï¼Œé‚£ä¹ˆå¿…ç„¶æœ‰ä¸€äº›æ•°ä¸åœ¨ nums[]  æ•°ç»„ä¸­äº†ï¼Œè¿™ä¸ªæ—¶å€™ç›¸å½“äºæˆ‘ä»¬ç”¨ target å»æ›¿æ¢äº†è¿™äº›æ•°ï¼Œæˆ‘ä»¬è€ƒè™‘æ›¿æ¢çš„æ—¶å€™å¯¹ cnt[]æ•°ç»„çš„å½±å“ã€‚å¦‚æœæ›¿æ¢çš„æ•° <em>i</em> å°äº target ï¼Œé‚£ä¹ˆ[i,target-1] çš„ cntå€¼å‡å‡ä¸€ï¼Œå…¶ä»–ä¸å˜ï¼Œæ»¡è¶³æ¡ä»¶ã€‚å¦‚æœæ›¿æ¢çš„æ•° <em>j</em> å¤§äºç­‰äº targetï¼Œé‚£ä¹ˆ[target,j-1]çš„ cnt å€¼å‡åŠ ä¸€ï¼Œå…¶ä»–ä¸å˜ï¼Œäº¦æ»¡è¶³æ¡ä»¶ã€‚</p></li></ul><p>å› æ­¤æˆ‘ä»¬ç”Ÿæˆçš„æ•°ç»„ä¸€å®šå…·æœ‰ä¸Šè¿°æ€§è´¨çš„ã€‚</p><details>    <summary>äºŒåˆ†æŸ¥æ‰¾C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">1</span>, r = n - <span class="number">1</span>, ans = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">                cnt += nums[i] &lt;= mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (cnt &lt;= mid) &#123;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">                ans = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒåˆ†æŸ¥æ‰¾JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> findDuplicate = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = nums.length;</span><br><span class="line">    <span class="keyword">let</span> l = <span class="number">1</span>, r = n - <span class="number">1</span>, ans = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">        <span class="keyword">let</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">let</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            cnt += nums[i] &lt;= mid;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cnt &lt;= mid) &#123;</span><br><span class="line">            l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            r = mid - <span class="number">1</span>;</span><br><span class="line">            ans = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒåˆ†æŸ¥æ‰¾Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">1</span>, r = n - <span class="number">1</span>, ans = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[i] &lt;= mid) &#123;</span><br><span class="line">                    cnt++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (cnt &lt;= mid) &#123;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">                ans = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒåˆ†æŸ¥æ‰¾golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findDuplicate</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    l, r := <span class="number">1</span>, n - <span class="number">1</span></span><br><span class="line">    ans := <span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> l &lt;= r &#123;</span><br><span class="line">        mid := (l + r) &gt;&gt; <span class="number">1</span></span><br><span class="line">        cnt := <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">            <span class="keyword">if</span> nums[i] &lt;= mid &#123;</span><br><span class="line">                cnt++</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> cnt &lt;= mid &#123;</span><br><span class="line">            l = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            r = mid - <span class="number">1</span></span><br><span class="line">            ans = mid</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)  ï¼Œå…¶ä¸­ <em>n</em> ä¸º nums[] æ•°ç»„çš„é•¿åº¦ã€‚äºŒåˆ†æŸ¥æ‰¾æœ€å¤šéœ€è¦äºŒåˆ† O(logn)æ¬¡ï¼Œæ¯æ¬¡åˆ¤æ–­çš„æ—¶å€™éœ€è¦<em>O(n)</em> éå† nums[]  æ•°ç»„æ±‚è§£å°äºç­‰äºmidçš„æ•°çš„ä¸ªæ•°ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚æˆ‘ä»¬åªéœ€è¦å¸¸æ•°ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡ã€‚</p></li></ul><h2 id="æ–¹æ³•äºŒï¼šäºŒè¿›åˆ¶"><a href="#æ–¹æ³•äºŒï¼šäºŒè¿›åˆ¶" class="headerlink" title="æ–¹æ³•äºŒï¼šäºŒè¿›åˆ¶"></a>æ–¹æ³•äºŒï¼šäºŒè¿›åˆ¶</h2><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>è¿™ä¸ªæ–¹æ³•æˆ‘ä»¬æ¥å°†æ‰€æœ‰æ•°äºŒè¿›åˆ¶å±•å¼€æŒ‰ä½è€ƒè™‘å¦‚ä½•æ‰¾å‡ºé‡å¤çš„æ•°ï¼Œå¦‚æœæˆ‘ä»¬èƒ½ç¡®å®šé‡å¤æ•°æ¯ä¸€ä½æ˜¯ <em>1</em> è¿˜æ˜¯ <em>0</em> å°±å¯ä»¥æŒ‰ä½è¿˜åŸå‡ºé‡å¤çš„æ•°æ˜¯ä»€ä¹ˆã€‚</p><p>è€ƒè™‘åˆ°ç¬¬ <em>i</em> ä½ï¼Œæˆ‘ä»¬è®° nums[] æ•°ç»„ä¸­äºŒè¿›åˆ¶å±•å¼€åç¬¬ <em>i</em> ä½ä¸º <em>1</em> çš„æ•°æœ‰ <em>x</em> ä¸ªï¼Œæ•°å­— <em>[1,n]</em> è¿™ <em>n</em> ä¸ªæ•°äºŒè¿›åˆ¶å±•å¼€åç¬¬ <em>i</em> ä½ä¸º <em>1</em> çš„æ•°æœ‰ <em>y</em> ä¸ªï¼Œé‚£ä¹ˆé‡å¤çš„æ•°ç¬¬ <em>i</em> ä½ä¸º <em>1</em> å½“ä¸”ä»…å½“ <em>x&gt;y</em>ã€‚</p><p>ä»ç„¶ä»¥ç¤ºä¾‹ 1 ä¸ºä¾‹ï¼Œå¦‚ä¸‹çš„è¡¨æ ¼åˆ—å‡ºäº†æ¯ä¸ªæ•°å­—äºŒè¿›åˆ¶ä¸‹æ¯ä¸€ä½æ˜¯ <em>1</em> è¿˜æ˜¯ <em>0</em> ä»¥åŠå¯¹åº”ä½çš„ <em>x</em> å’Œ <em>y</em> æ˜¯å¤šå°‘ï¼š</p><table><thead><tr><th align="center">&nbsp;</th><th align="center">1</th><th align="center">3</th><th align="center">4</th><th align="center">2</th><th align="center">2</th><th align="center">x</th><th align="center">y</th></tr></thead><tbody><tr><td align="center">ç¬¬ 0 ä½</td><td align="center">1</td><td align="center">1</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">2</td><td align="center">2</td></tr><tr><td align="center">ç¬¬ 1 ä½</td><td align="center">0</td><td align="center">1</td><td align="center">0</td><td align="center">1</td><td align="center">1</td><td align="center">3</td><td align="center">2</td></tr><tr><td align="center">ç¬¬ 2 ä½</td><td align="center">0</td><td align="center">0</td><td align="center">1</td><td align="center">0</td><td align="center">0</td><td align="center">1</td><td align="center">1</td></tr></tbody></table><p>æ›´å¤šæ€è·¯è¯¦è§£è§<a href="https://leetcode-cn.com/problems/find-the-duplicate-number/solution/xun-zhao-zhong-fu-shu-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></p><details>    <summary>äºŒè¿›åˆ¶C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size(), ans = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// ç¡®å®šäºŒè¿›åˆ¶ä¸‹æœ€é«˜ä½æ˜¯å¤šå°‘</span></span><br><span class="line">        <span class="keyword">int</span> bit_max = <span class="number">31</span>;</span><br><span class="line">        <span class="keyword">while</span> (!((n - <span class="number">1</span>) &gt;&gt; bit_max)) &#123;</span><br><span class="line">            bit_max -= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> bit = <span class="number">0</span>; bit &lt;= bit_max; ++bit) &#123;</span><br><span class="line">            <span class="keyword">int</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[i] &amp; (<span class="number">1</span> &lt;&lt; bit)) &#123;</span><br><span class="line">                    x += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i &gt;= <span class="number">1</span> &amp;&amp; (i &amp; (<span class="number">1</span> &lt;&lt; bit))) &#123;</span><br><span class="line">                    y += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (x &gt; y) &#123;</span><br><span class="line">                ans |= <span class="number">1</span> &lt;&lt; bit;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒè¿›åˆ¶JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol2-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> findDuplicate = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = nums.length;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// ç¡®å®šäºŒè¿›åˆ¶ä¸‹æœ€é«˜ä½æ˜¯å¤šå°‘</span></span><br><span class="line">    <span class="keyword">let</span> bit_max = <span class="number">31</span>;</span><br><span class="line">    <span class="keyword">while</span> (!((n - <span class="number">1</span>) &gt;&gt; bit_max)) &#123;</span><br><span class="line">        bit_max -= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> bit = <span class="number">0</span>; bit &lt;= bit_max; ++bit) &#123;</span><br><span class="line">        <span class="keyword">let</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &amp; (<span class="number">1</span> &lt;&lt; bit)) &#123;</span><br><span class="line">                x += <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= <span class="number">1</span> &amp;&amp; (i &amp; (<span class="number">1</span> &lt;&lt; bit))) &#123;</span><br><span class="line">                y += <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (x &gt; y) &#123;</span><br><span class="line">            ans |= <span class="number">1</span> &lt;&lt; bit;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒè¿›åˆ¶Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length, ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> bit_max = <span class="number">31</span>;</span><br><span class="line">        <span class="comment">//ä»¤bit_maxä¸ºn-1çš„æœ€é«˜ä½æ•°</span></span><br><span class="line">        <span class="keyword">while</span> (((n - <span class="number">1</span>) &gt;&gt; bit_max) == <span class="number">0</span>) &#123;</span><br><span class="line">            bit_max -= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> bit = <span class="number">0</span>; bit &lt;= bit_max; ++bit) &#123;</span><br><span class="line">            <span class="keyword">int</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((nums[i] &amp; (<span class="number">1</span> &lt;&lt; bit)) != <span class="number">0</span>) &#123;</span><br><span class="line">                    x += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (((i &amp; (<span class="number">1</span> &lt;&lt; bit)) != <span class="number">0</span>)) &#123;</span><br><span class="line">                    y += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (x &gt; y) &#123;</span><br><span class="line">                ans |= <span class="number">1</span> &lt;&lt; bit;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒè¿›åˆ¶golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findDuplicate</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line">    bit_max := <span class="number">31</span></span><br><span class="line">    <span class="keyword">for</span> ((n<span class="number">-1</span>) &gt;&gt; bit_max) == <span class="number">0</span> &#123;</span><br><span class="line">        bit_max--</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> bit := <span class="number">0</span>; bit &lt;= bit_max; bit++ &#123;</span><br><span class="line">        x, y := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &amp; (<span class="number">1</span> &lt;&lt; bit)) &gt; <span class="number">0</span> &#123;</span><br><span class="line">                x++</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> i &gt;= <span class="number">1</span> &amp;&amp; (i &amp; (<span class="number">1</span> &lt;&lt; bit)) &gt; <span class="number">0</span> &#123;</span><br><span class="line">                y++</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> x &gt; y &#123;</span><br><span class="line">            ans |= <span class="number">1</span> &lt;&lt; bit</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦è¯æ˜</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚æˆ‘ä»¬åªéœ€è¦å¸¸æ•°ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡ã€‚</p></li></ul><h2 id="æ–¹æ³•ä¸‰ï¼šå¿«æ…¢æŒ‡é’ˆ"><a href="#æ–¹æ³•ä¸‰ï¼šå¿«æ…¢æŒ‡é’ˆ" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šå¿«æ…¢æŒ‡é’ˆ"></a>æ–¹æ³•ä¸‰ï¼šå¿«æ…¢æŒ‡é’ˆ</h2><p>æ›´å¤šæ€è·¯è¯¦è§£è§<a href="https://leetcode-cn.com/problems/find-the-duplicate-number/solution/xun-zhao-zhong-fu-shu-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></p><details>    <summary>å¿«æ…¢æŒ‡é’ˆC++</summary><figure class="highlight c++"><figcaption><span>[sol3-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> slow = <span class="number">0</span>, fast = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            slow = nums[slow];</span><br><span class="line">            fast = nums[nums[fast]];</span><br><span class="line">        &#125; <span class="keyword">while</span> (slow != fast);</span><br><span class="line">        slow = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (slow != fast) &#123;</span><br><span class="line">            slow = nums[slow];</span><br><span class="line">            fast = nums[fast];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> slow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¿«æ…¢æŒ‡é’ˆJavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol3-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> findDuplicate = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> slow = <span class="number">0</span>, fast = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        slow = nums[slow];</span><br><span class="line">        fast = nums[nums[fast]];</span><br><span class="line">    &#125; <span class="keyword">while</span> (slow != fast);</span><br><span class="line">    slow = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (slow != fast) &#123;</span><br><span class="line">        slow = nums[slow];</span><br><span class="line">        fast = nums[fast];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> slow;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¿«æ…¢æŒ‡é’ˆJava</summary><figure class="highlight java"><figcaption><span>[sol3-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> slow = <span class="number">0</span>, fast = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            slow = nums[slow];</span><br><span class="line">            fast = nums[nums[fast]];</span><br><span class="line">        &#125; <span class="keyword">while</span> (slow != fast);</span><br><span class="line">        slow = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (slow != fast) &#123;</span><br><span class="line">            slow = nums[slow];</span><br><span class="line">            fast = nums[fast];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> slow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å¿«æ…¢æŒ‡é’ˆgolang</summary><figure class="highlight golang"><figcaption><span>[sol3-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findDuplicate</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    slow, fast := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> slow, fast = nums[slow], nums[nums[fast]]; slow != fast; slow, fast = nums[slow], nums[nums[fast]] &#123; &#125;</span><br><span class="line">    slow = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> slow != fast &#123;</span><br><span class="line">        slow = nums[slow]</span><br><span class="line">        fast = nums[fast]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> slow</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ã€‚ã€ŒFloyd åˆ¤åœˆç®—æ³•ã€æ—¶é—´å¤æ‚åº¦ä¸ºçº¿æ€§çš„æ—¶é—´å¤æ‚åº¦ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚æˆ‘ä»¬åªéœ€è¦å¸¸æ•°ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªåŒ…å« n + 1 ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œå…¶æ•°å­—éƒ½åœ¨ 1 åˆ° n ä¹‹é—´ï¼ˆåŒ…æ‹¬ 1 å’Œ nï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚å‡è®¾åªæœ‰ä¸€ä¸ªé‡å¤çš„æ•´æ•°ï¼Œæ‰¾å‡ºè¿™ä¸ªé‡å¤çš„æ•°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Two Pointers" scheme="http://yoursite.com/tags/Two-Pointers/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
  </entry>
  
  <entry>
    <title>162. å¯»æ‰¾å³°å€¼</title>
    <link href="http://yoursite.com/2020/08/24/162.%20%E5%AF%BB%E6%89%BE%E5%B3%B0%E5%80%BC/"/>
    <id>http://yoursite.com/2020/08/24/162. å¯»æ‰¾å³°å€¼/</id>
    <published>2020-08-24T09:55:12.000Z</published>
    <updated>2020-08-25T08:00:48.057Z</updated>
    
    <content type="html"><![CDATA[<p>å³°å€¼å…ƒç´ æ˜¯æŒ‡å…¶å€¼å¤§äºå·¦å³ç›¸é‚»å€¼çš„å…ƒç´ ã€‚</p><p>ç»™å®šä¸€ä¸ªè¾“å…¥æ•°ç»„ numsï¼Œå…¶ä¸­ nums[i] â‰  nums[i+1]ï¼Œæ‰¾åˆ°å³°å€¼å…ƒç´ å¹¶è¿”å›å…¶ç´¢å¼•ã€‚</p><a id="more"></a><p>æ•°ç»„å¯èƒ½åŒ…å«å¤šä¸ªå³°å€¼ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿”å›ä»»ä½•ä¸€ä¸ªå³°å€¼æ‰€åœ¨ä½ç½®å³å¯ã€‚</p><p>ä½ å¯ä»¥å‡è®¾ nums[-1] = nums[n] = -âˆã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: nums = [1,2,3,1]è¾“å‡º: 2è§£é‡Š: 3 æ˜¯å³°å€¼å…ƒç´ ï¼Œä½ çš„å‡½æ•°åº”è¯¥è¿”å›å…¶ç´¢å¼• 2ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: nums = [1,2,1,3,5,6,4]è¾“å‡º: 1 æˆ– 5 è§£é‡Š: ä½ çš„å‡½æ•°å¯ä»¥è¿”å›ç´¢å¼• 1ï¼Œå…¶å³°å€¼å…ƒç´ ä¸º 2ï¼›æˆ–è€…è¿”å›ç´¢å¼• 5ï¼Œ å…¶å³°å€¼å…ƒç´ ä¸º 6ã€‚</code></pre><p>è¯´æ˜:</p><p>ä½ çš„è§£æ³•åº”è¯¥æ˜¯ O(logN) æ—¶é—´å¤æ‚åº¦çš„ã€‚</p><h1 id="æ–¹æ³•ä¸€-çº¿æ€§æ‰«æ"><a href="#æ–¹æ³•ä¸€-çº¿æ€§æ‰«æ" class="headerlink" title="æ–¹æ³•ä¸€: çº¿æ€§æ‰«æ"></a>æ–¹æ³•ä¸€: çº¿æ€§æ‰«æ</h1><p>æœ¬æ–¹æ³•åˆ©ç”¨äº†è¿ç»­çš„ä¸¤ä¸ªå…ƒç´  <em>nums[j]</em> å’Œ <em>nums[j + 1]</em> ä¸ä¼šç›¸ç­‰è¿™ä¸€äº‹å®ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä»å¤´å¼€å§‹éå† <em>nums</em> æ•°ç»„ã€‚æ¯å½“æˆ‘ä»¬é‡åˆ°æ•°å­— <em>nums[i]*ï¼Œåªéœ€è¦æ£€æŸ¥å®ƒæ˜¯å¦å¤§äºä¸‹ä¸€ä¸ªå…ƒç´  *nums[i+1]</em> å³å¯åˆ¤æ–­ <em>nums[i]</em> æ˜¯å¦æ˜¯å³°å€¼ã€‚å¯ä»¥é€šè¿‡åˆ†åˆ«è®¨è®ºé—®é¢˜çš„å…¨éƒ¨ä¸‰ç§å¯èƒ½æƒ…å†µæ¥ç†è§£æœ¬æ–¹æ³•çš„æ€è·¯ã€‚</p><p>æƒ…å†µ 1. </p><p>æ‰€æœ‰çš„æ•°å­—ä»¥é™åºæ’åˆ—ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ å³ä¸ºå³°å€¼ã€‚æˆ‘ä»¬é¦–å…ˆæ£€æŸ¥å½“å‰å…ƒç´ æ˜¯å¦å¤§äºä¸‹ä¸ªå…ƒç´ ã€‚ç¬¬ä¸€ä¸ªå…ƒç´ æ»¡è¶³è¿™ä¸€æ¡ä»¶ï¼Œå› æ­¤è¢«æ­£ç¡®åˆ¤æ–­ä¸ºå³°å€¼ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç»§ç»­å‘ä¸‹åˆ¤æ–­ï¼Œä¹Ÿå°±ä¸ä¼šæœ‰éœ€è¦åˆ¤æ–­ <em>nums[i]</em> å’Œä¸Šä¸€ä¸ªå…ƒç´  <em>nums[i-1]</em> çš„å¤§å°çš„æƒ…å†µã€‚</p><p><a href="https://pic.leetcode-cn.com/fafef6e2070c9c444541d03e5d24c6c06f2f50f94026a22a9a86903e9d5ffcb1-image.png" target="_blank" rel="noopener">image.png</a></p><p>æƒ…å†µ 2. </p><p>æ‰€æœ‰çš„æ•°å­—ä»¥å‡åºæ’åˆ—ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šä¸€ç›´æ¯”è¾ƒ <em>nums[i]</em> ä¸ <em>nums[i+1]</em> ä»¥åˆ¤æ–­ <em>nums[i]</em> æ˜¯å¦æ˜¯å³°å€¼å…ƒç´ ã€‚æ²¡æœ‰å…ƒç´ ç¬¦åˆè¿™ä¸€æ¡ä»¶ï¼Œè¯´æ˜å¤„äºä¸Šå¡è€Œéå³°å€¼ã€‚äºæ˜¯ï¼Œåœ¨ç»“å°¾ï¼Œæˆ‘ä»¬è¿”å›æœ«å°¾å…ƒç´ ä½œä¸ºå³°å€¼å…ƒç´ ï¼Œå¾—åˆ°æ­£ç¡®ç»“æœã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åŒæ ·ä¸éœ€è¦æ¯”è¾ƒ <em>nums[i]</em> å’Œä¸Šä¸€ä¸ªå…ƒç´  <em>nums[i-1]*ï¼Œå› ä¸ºå¤„äºä¸Šå¡æ˜¯ *nums[i]</em> ä¸æ˜¯å³°å€¼çš„å……åˆ†æ¡ä»¶ã€‚</p><p><a href="https://pic.leetcode-cn.com/06cbc777aee1d0d0a906aefd408e539014f783727e401f136b66581d0856aa6d-image.png" target="_blank" rel="noopener">image.png</a></p><p>æƒ…å†µ 3. </p><p>å³°å€¼å‡ºç°åœ¨ä¸­é—´æŸå¤„ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå½“éå†ä¸Šå‡éƒ¨åˆ†æ—¶ï¼Œä¸æƒ…å†µ 2 ç›¸åŒï¼Œæ²¡æœ‰å…ƒç´ æ»¡è¶³ <em>nums[i] &gt; nums[i + 1]*ã€‚æˆ‘ä»¬ä¸éœ€è¦æ¯”è¾ƒ *nums[i]</em> å’Œä¸Šä¸€ä¸ªå…ƒç´  <em>nums[i-1]<em>ã€‚å½“åˆ°è¾¾å³°å€¼å…ƒç´ æ—¶ï¼Œ</em>nums[i] &gt; nums[i + 1]</em> æ¡ä»¶æ»¡è¶³ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬åŒæ ·ä¸éœ€è¦æ¯”è¾ƒ <em>nums[i]</em> å’Œä¸Šä¸€ä¸ªå…ƒç´  <em>nums[i-1]*ã€‚è¿™æ˜¯ç”±äºâ€œéå†ä¼šåˆ°è¾¾ç¬¬iä¸ªå…ƒç´ â€æœ¬èº«å°±è¯´æ˜ä¸Šä¸€ä¸ªå…ƒç´ ï¼ˆç¬¬i- 1ä¸ªï¼‰ä¸æ»¡è¶³ *nums[i] &gt; nums[i + 1]</em> è¿™ä¸€æ¡ä»¶ï¼Œä¹Ÿå°±è¯´æ˜ <em>nums[i-1] &lt; nums[i]</em>ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥å¾—åˆ°æ­£ç¡®ç»“æœã€‚</p><p><a href="https://pic.leetcode-cn.com/802bad70c4444bf708f4c63e30e054a33c27ace43b3c7b4fa64a0ffb8201fb7d-image.png" target="_blank" rel="noopener">image.png</a></p><details>    <summary>çº¿æ€§æ‰«æ</summary><figure class="highlight java"><figcaption><span>[solution 1]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findPeakElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; nums[i + <span class="number">1</span>])</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums.length - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ : <em>O(n)*ã€‚ æˆ‘ä»¬å¯¹é•¿åº¦ä¸º *n</em> çš„æ•°ç»„ <em>nums</em> åªè¿›è¡Œä¸€æ¬¡éå†ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ : <em>O(1)</em>ã€‚ åªä½¿ç”¨äº†å¸¸æ•°ç©ºé—´ã€‚<br><br></li></ul><hr><h1 id="æ–¹æ³•äºŒï¼šé€’å½’äºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•äºŒï¼šé€’å½’äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•äºŒï¼šé€’å½’äºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•äºŒï¼šé€’å½’äºŒåˆ†æŸ¥æ‰¾</h1><p><strong>ç®—æ³•</strong></p><p>æˆ‘ä»¬å¯ä»¥å°† <em>nums</em> æ•°ç»„ä¸­çš„ä»»ä½•ç»™å®šåºåˆ—è§†ä¸ºäº¤æ›¿çš„å‡åºå’Œé™åºåºåˆ—ã€‚é€šè¿‡åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œä»¥åŠâ€œå¯ä»¥è¿”å›ä»»ä½•ä¸€ä¸ªå³°ä½œä¸ºç»“æœâ€çš„è¦æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥æ‰¾åˆ°æ‰€éœ€çš„å³°å€¼å…ƒç´ ã€‚</p><p>åœ¨ç®€å•çš„äºŒåˆ†æŸ¥æ‰¾ä¸­ï¼Œæˆ‘ä»¬å¤„ç†çš„æ˜¯ä¸€ä¸ªæœ‰åºæ•°åˆ—ï¼Œå¹¶é€šè¿‡åœ¨æ¯ä¸€æ­¥å‡å°‘æœç´¢ç©ºé—´æ¥æ‰¾åˆ°æ‰€éœ€è¦çš„æ•°å­—ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯¹äºŒåˆ†æŸ¥æ‰¾è¿›è¡Œä¸€ç‚¹ä¿®æ”¹ã€‚é¦–å…ˆä»æ•°ç»„ <em>nums</em> ä¸­æ‰¾åˆ°ä¸­é—´çš„å…ƒç´  <em>mid*ã€‚è‹¥è¯¥å…ƒç´ æ°å¥½ä½äºé™åºåºåˆ—æˆ–è€…ä¸€ä¸ªå±€éƒ¨ä¸‹é™å¡åº¦ä¸­ï¼ˆé€šè¿‡å°† *nums[i]</em> ä¸å³ä¾§æ¯”è¾ƒåˆ¤æ–­)ï¼Œåˆ™è¯´æ˜å³°å€¼ä¼šåœ¨æœ¬å…ƒç´ çš„å·¦è¾¹ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å°†æœç´¢ç©ºé—´ç¼©å°ä¸º <em>mid</em> çš„å·¦è¾¹(åŒ…æ‹¬å…¶æœ¬èº«)ï¼Œå¹¶åœ¨å·¦ä¾§å­æ•°ç»„ä¸Šé‡å¤ä¸Šè¿°è¿‡ç¨‹ã€‚</p><p>è‹¥è¯¥å…ƒç´ æ°å¥½ä½äºå‡åºåºåˆ—æˆ–è€…ä¸€ä¸ªå±€éƒ¨ä¸Šå‡å¡åº¦ä¸­ï¼ˆé€šè¿‡å°† <em>nums[i]</em> ä¸å³ä¾§æ¯”è¾ƒåˆ¤æ–­)ï¼Œåˆ™è¯´æ˜å³°å€¼ä¼šåœ¨æœ¬å…ƒç´ çš„å³è¾¹ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å°†æœç´¢ç©ºé—´ç¼©å°ä¸º <em>mid</em> çš„å³è¾¹ï¼Œå¹¶åœ¨å³ä¾§å­æ•°ç»„ä¸Šé‡å¤ä¸Šè¿°è¿‡ç¨‹ã€‚</p><p>å°±è¿™æ ·ï¼Œæˆ‘ä»¬ä¸æ–­åœ°ç¼©å°æœç´¢ç©ºé—´ï¼Œç›´åˆ°æœç´¢ç©ºé—´ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œè¯¥å…ƒç´ å³ä¸ºå³°å€¼å…ƒç´ ã€‚</p><p>ä¸ºäº†ç†è§£æœ¬æ–¹æ³•çš„åŸç†ï¼Œè®©æˆ‘ä»¬å†æ¬¡è®¨è®ºå‰æ–‡æåˆ°çš„å…¨éƒ¨ä¸‰ç§æƒ…å†µã€‚</p><p>æƒ…å†µ 1. è¿™ç§æƒ…å†µä¸‹ï¼Œé¦–å…ˆæ‰¾åˆ°ä¸­é—´å…ƒç´  <em>3</em>ã€‚ç”±äºå®ƒå¤„äºä¸‹é™å¡åº¦ï¼Œå°†æœç´¢ç©ºé—´ç¼©å°åˆ° <code>[1, 2, 3]</code>ã€‚å¯¹äºæ­¤å­æ•°ç»„ï¼Œ<em>2</em> ä¸ºä¸­é—´å…ƒç´ ï¼Œä¹Ÿå¤„äºä¸‹é™å¡åº¦ä¸­ï¼Œäºæ˜¯å°†æœç´¢ç©ºé—´ç¼©å°åˆ° <code>[1, 2]</code>ã€‚ç°åœ¨ <em>1</em> æ˜¯ä¸­é—´å…ƒç´ å¹¶åŒæ ·å¤„äºä¸‹é™å¡åº¦ï¼Œäºæ˜¯å°†æœç´¢ç©ºé—´ç¼©å°åˆ° <code>[1]</code>ã€‚ æœ€ç»ˆ <em>1</em> ä½œä¸ºç­”æ¡ˆè¢«æ­£ç¡®è¿”å›ã€‚</p><p> <a href="https://pic.leetcode-cn.com/63177d2c44aab77a657c0eb4589f7b7f45e754cf3408d9872bc3371e680c5908-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/317e900368f211d02e3f107e288824a0e351d39963aae9a210b1fe3730ef1eec-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/1a26071c6f370ccd84a417a4edbfcf7178b1daf78ed3270285861af4f77c6496-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/8a511427f1c0c1b7c58776fa238124f44c300fc632d13658e1f381f6fd23fa03-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/17974218262fc0e235fac8bfe9252058015de312546ce35ac217ab428360b780-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/7d34f6f13915860f01f1e18409534a06db73504ffa3ab7dc66422801697a8a39-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/e2edf7bcc45863a10d438dd92b8c4c6b6b63ff834aa11f05e4a104b5cbf859fc-image.png" target="_blank" rel="noopener">image.png</a> </p><p>æƒ…å†µ 2. è¿™ç§æƒ…å†µä¸‹ï¼Œé¦–å…ˆæ‰¾åˆ°ä¸­é—´å…ƒç´  <em>3</em>ã€‚ç”±äºå®ƒå¤„äºä¸Šå‡å¡åº¦ï¼Œå°†æœç´¢ç©ºé—´ç¼©å°åˆ° <code>[4, 5]</code>ã€‚å¯¹äºæ­¤å­æ•°ç»„ï¼Œ<em>4</em> ä¸ºä¸­é—´å…ƒç´ ï¼Œä¹Ÿå¤„äºä¸Šå‡å¡åº¦ä¸­ï¼Œäºæ˜¯å°†æœç´¢ç©ºé—´ç¼©å°åˆ° <code>[5]</code>ã€‚ æœ€ç»ˆ <em>5</em> ä½œä¸ºç­”æ¡ˆè¢«æ­£ç¡®è¿”å›ã€‚</p><p> <a href="https://pic.leetcode-cn.com/935aeb721c5901d8f70a64aafc0bff14be030db7cf44605c051e5c87de2890c0-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/fb6d1262315867c62d818b0606b2628b6537d4b1b9c337bbaf3708fad257391c-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/6de90b2f77920d015f7a45191090b9265a49dae0c4585e8d514b1aaa39afd2b9-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/d359a685a16480ac4d6ad3d7e5df1f3b00524a74580982920bc01de72a9dd837-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/a976733e8b2e4817b2d88616b519bc58ca471ca15e9ee3f77fcc377a329e0d46-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/b0c6a62e9a0ebdc7a92995a1d633da7176cc82f9f3fe5e9e8f4b921b3d8fc4cc-image.png" target="_blank" rel="noopener">image.png</a> </p><p>æƒ…å†µ 3. è¿™ç§æƒ…å†µä¸‹ï¼Œ å³°å€¼ä½äºä¸­é—´æŸå¤„ã€‚ç¬¬ä¸€ä¸ªä¸­é—´å…ƒç´ æ˜¯ <em>4</em>ã€‚å®ƒä½äºä¸Šå‡å¡åº¦ï¼Œè¡¨æ˜å³°å€¼åœ¨å…¶å³ä¾§ã€‚äºæ˜¯ï¼Œæœç´¢ç©ºé—´ç¼©å°ä¸º <code>[5, 1]</code>ã€‚ ç°åœ¨ï¼Œ<em>5</em> ä½äºä¸‹é™å¡åº¦ï¼ˆç›¸å¯¹å…¶å³ä¾§ç›¸é‚»å…ƒç´ ï¼‰, æœç´¢ç©ºé—´ä¸‹é™ä¸º <code>[5]</code>ã€‚äºæ˜¯ï¼Œ<em>5</em> è¢«æ­£ç¡®è¯†åˆ«ã€‚</p><p> <a href="https://pic.leetcode-cn.com/3e49bacacecbf67aed75bcee9387dab5ccb7e7160dcc7c33be1be9e7a3acc563-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/8ee64c7b12c6b64b282324be43ecb89d29ac70d15dc3a35f2c62113cea7c23d8-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/78f6084e3bdfe12c05f2304d6a8b8c15e224f1b7f01f254bc04c0832c24c53b2-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/94cae61b8d045a3682d6a479417069776cabf13cc8bed930d07e088bcc2df575-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/03d56e48600ff839e6a6c8819d859d488e8bafd4c052fc61b7bdba09ed78ff8c-image.png" target="_blank" rel="noopener">image.png</a> <a href="https://pic.leetcode-cn.com/95f33e0a46ed380e3e5c2db5cb5a93479bb65463e7fcf6a7c953e3a039fe0461-image.png" target="_blank" rel="noopener">image.png</a> </p><details>    <summary>é€’å½’äºŒåˆ†æŸ¥æ‰¾</summary><figure class="highlight java"><figcaption><span>[solution 2]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findPeakElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> search(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l == r)</span><br><span class="line">            <span class="keyword">return</span> l;</span><br><span class="line">        <span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &gt; nums[mid + <span class="number">1</span>])</span><br><span class="line">            <span class="keyword">return</span> search(nums, l, mid);</span><br><span class="line">        <span class="keyword">return</span> search(nums, mid + <span class="number">1</span>, r);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ :  O(log_2(n)) ã€‚æ¯ä¸€æ­¥éƒ½å°†æœç´¢ç©ºé—´å‡åŠã€‚å› æ­¤ï¼Œæ€»çš„æœç´¢ç©ºé—´åªéœ€è¦ <em>log_2(n)</em> æ­¥ã€‚å…¶ä¸­ <em>n</em> ä¸º <em>nums</em> æ•°ç»„çš„é•¿åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦: O(log_2(n))  ã€‚æ¯ä¸€æ­¥éƒ½å°†æœç´¢ç©ºé—´å‡åŠã€‚å› æ­¤ï¼Œæ€»çš„æœç´¢ç©ºé—´åªéœ€è¦ <em>log_2(n)</em> æ­¥ã€‚äºæ˜¯ï¼Œé€’å½’æ ‘çš„æ·±åº¦ä¸º <em>log_2(n)</em>ã€‚<br><br></li></ul><hr><h1 id="æ–¹æ³•ä¸‰ï¼šè¿­ä»£äºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•ä¸‰ï¼šè¿­ä»£äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šè¿­ä»£äºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•ä¸‰ï¼šè¿­ä»£äºŒåˆ†æŸ¥æ‰¾</h1><p><strong>ç®—æ³•</strong></p><p>ä¸Šè¿°äºŒåˆ†æŸ¥æ‰¾æ–¹æ³•ä½¿ç”¨äº†é€’å½’ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿­ä»£è¾¾åˆ°åŒæ ·çš„æ•ˆæœã€‚æœ¬æ–¹æ³•å³ä¸ºè¿­ä»£å®ç°äºŒåˆ†æŸ¥æ‰¾ã€‚</p><details>    <summary>è¿­ä»£äºŒåˆ†æŸ¥æ‰¾</summary><figure class="highlight java"><figcaption><span>[solution 3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findPeakElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] &gt; nums[mid + <span class="number">1</span>])</span><br><span class="line">                r = mid;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li>æ—¶é—´å¤æ‚åº¦ : O(log_2(n))ã€‚ æ¯ä¸€æ­¥éƒ½å°†æœç´¢ç©ºé—´å‡åŠã€‚å› æ­¤ï¼Œæ€»çš„æœç´¢ç©ºé—´åªéœ€è¦ <em>log_2(n)</em> æ­¥ã€‚å…¶ä¸­ <em>n</em> ä¸º <em>nums</em> æ•°ç»„çš„é•¿åº¦ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ : <em>O(1)</em>ã€‚ åªä½¿ç”¨äº†å¸¸æ•°ç©ºé—´ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å³°å€¼å…ƒç´ æ˜¯æŒ‡å…¶å€¼å¤§äºå·¦å³ç›¸é‚»å€¼çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;ç»™å®šä¸€ä¸ªè¾“å…¥æ•°ç»„ numsï¼Œå…¶ä¸­ nums[i] â‰  nums[i+1]ï¼Œæ‰¾åˆ°å³°å€¼å…ƒç´ å¹¶è¿”å›å…¶ç´¢å¼•ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
  </entry>
  
  <entry>
    <title>324. æ‘†åŠ¨æ’åº II</title>
    <link href="http://yoursite.com/2020/08/24/324.%20%E6%91%86%E5%8A%A8%E6%8E%92%E5%BA%8F%20II/"/>
    <id>http://yoursite.com/2020/08/24/324. æ‘†åŠ¨æ’åº II/</id>
    <published>2020-08-24T08:40:12.000Z</published>
    <updated>2020-08-24T09:54:43.599Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæ— åºçš„æ•°ç»„ numsï¼Œå°†å®ƒé‡æ–°æ’åˆ—æˆ nums[0] &lt; nums[1] &gt; nums[2] &lt; nums[3]â€¦ çš„é¡ºåºã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: nums = [1, 5, 1, 1, 6, 4]è¾“å‡º: ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ [1, 4, 1, 5, 1, 6]</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: nums = [1, 3, 2, 2, 3, 1]è¾“å‡º: ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆæ˜¯ [2, 3, 1, 3, 1, 2]</code></pre><p>è¯´æ˜:<br>ä½ å¯ä»¥å‡è®¾æ‰€æœ‰è¾“å…¥éƒ½ä¼šå¾—åˆ°æœ‰æ•ˆçš„ç»“æœã€‚</p><p>è¿›é˜¶:<br>ä½ èƒ½ç”¨ O(n) æ—¶é—´å¤æ‚åº¦å’Œ / æˆ–åŸåœ° O(1) é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ</p><p>è¿™é“é¢˜æ¯”è¾ƒç®€å•,ä¸»è¦è¯´ä¸€ä¸‹æ€æƒ³:         </p><h2 id="æœ‰ä¸€ä¸ªæ•°ç»„-a1-a2-â€¦-an-ï¼Œæˆ‘ä»¬æ€ä¹ˆæŠŠå®ƒæ’æˆæ‘‡æ‘†åºåˆ—å‘¢ï¼Ÿ"><a href="#æœ‰ä¸€ä¸ªæ•°ç»„-a1-a2-â€¦-an-ï¼Œæˆ‘ä»¬æ€ä¹ˆæŠŠå®ƒæ’æˆæ‘‡æ‘†åºåˆ—å‘¢ï¼Ÿ" class="headerlink" title="æœ‰ä¸€ä¸ªæ•°ç»„[a1,a2,â€¦,an]ï¼Œæˆ‘ä»¬æ€ä¹ˆæŠŠå®ƒæ’æˆæ‘‡æ‘†åºåˆ—å‘¢ï¼Ÿ"></a>æœ‰ä¸€ä¸ªæ•°ç»„[a1,a2,â€¦,an]ï¼Œæˆ‘ä»¬æ€ä¹ˆæŠŠå®ƒæ’æˆæ‘‡æ‘†åºåˆ—å‘¢ï¼Ÿ</h2><p>ç”±æ‘‡æ‘†åºåˆ—çš„å®šä¹‰:<code>nums[0] &lt; nums[1] &gt; nums[2] &lt; nums[3]...</code>ï¼Œæˆ‘ä»¬çŸ¥é“äº†å¯ä»¥åˆ†æˆè¾ƒå¤§ä¸€éƒ¨åˆ†çš„æ•°å’Œè¾ƒå°ä¸€éƒ¨åˆ†æ•°ï¼Œç„¶åäº’ç›¸ç©¿æ’å³å¯ã€‚æ¯”å¦‚ä¸€ä¸ªæ•°ç»„æ’åºåä¸ºï¼š<code>A=[a1,a2,...,an]</code> <code>(a1&lt;=a2&lt;=....&lt;=an)</code>ï¼Œç„¶ååˆ†æˆè¾ƒå°å’Œè¾ƒå¤§çš„ä¸¤éƒ¨åˆ†<code>[a1,a2,...,a(n/2)]</code>ï¼Œ<code>[a(n/2+1),...,an]</code>ï¼ˆæ•°ç»„é•¿åº¦ä¸ºå¥‡æ•°æ—¶ä¸å½±å“ï¼‰ï¼Œå†è¿›è¡Œç©¿æ’æ“ä½œã€‚</p><h2 id="é‚£æ˜¯ä¸æ˜¯ç©¿æ’æˆ-a1-a-n-2-1-a2-a-n-2-2-â€¦-an-å°±è¡Œäº†å‘¢ï¼Ÿ"><a href="#é‚£æ˜¯ä¸æ˜¯ç©¿æ’æˆ-a1-a-n-2-1-a2-a-n-2-2-â€¦-an-å°±è¡Œäº†å‘¢ï¼Ÿ" class="headerlink" title="é‚£æ˜¯ä¸æ˜¯ç©¿æ’æˆ[a1,a(n/2+1),a2,a(n/2+2),â€¦,an]å°±è¡Œäº†å‘¢ï¼Ÿ"></a>é‚£æ˜¯ä¸æ˜¯ç©¿æ’æˆ[a1,a(n/2+1),a2,a(n/2+2),â€¦,an]å°±è¡Œäº†å‘¢ï¼Ÿ</h2><p>å…¶å®ä¸å¯¹ï¼Œå¯ä»¥éªŒè¯ç‰¹æ®Šæƒ…å†µï¼šnæ¯”è¾ƒå°æ—¶ä¸”ä¸ºå¶æ•°æ—¶ï¼Œç©¿æ’åçš„åºåˆ—éœ€è¦æ»¡è¶³<code>a(n/2+1)&gt;a2</code>ï¼Œå¦‚æœ<code>a1&lt;a2&lt;=a(n/2+1)&lt;an</code>ï¼Œ<code>a(n/2+1)</code>æ­£å¥½æ˜¯<code>a2</code>çš„åä¸€é¡¹ä¸”ä¸<code>a2</code>ç›¸ç­‰å‘¢ï¼Ÿå³å¦‚æœæ˜¯<code>[4,5,5,6]</code>çš„æƒ…å†µå‘¢ï¼Ÿ<br>é‚£å°±åˆ†æˆäº†<code>[4,5]</code>ï¼Œ<code>[5,6]</code>ä¸¤éƒ¨åˆ†ï¼Œä¹‹åç©¿æ’æˆçš„æ˜¯<code>[4,5,5,6]</code>å¹¶ä¸æ˜¯æ‘‡æ‘†åºåˆ—ã€‚</p><h2 id="åº”è¯¥æ€æ ·æ’åˆ—å‘¢ï¼Ÿ"><a href="#åº”è¯¥æ€æ ·æ’åˆ—å‘¢ï¼Ÿ" class="headerlink" title="åº”è¯¥æ€æ ·æ’åˆ—å‘¢ï¼Ÿ"></a>åº”è¯¥æ€æ ·æ’åˆ—å‘¢ï¼Ÿ</h2><ol><li>æŠŠè¾ƒå°å’Œè¾ƒå¤§çš„ä¸¤éƒ¨åˆ†<code>[a1,a2,...,a(n/2)]</code>ï¼Œ<code>[a(n/2+1),...,an]</code>ç¿»è½¬æˆ<code>[a(n/2),...,a1]</code>ï¼Œ<code>[an,...,a(n/2+1)]</code></li><li>æ’åˆ—æˆ<code>B=[a(n/2),a(n),a(n/2-1),a(n-1),...,a1,a(n/2+1)]</code>å³å¯ã€‚</li></ol><p>è¿™æ ·ç›¸é‚»ä¸¤ä¸ªæ•°ä¸€å®šä¸å­˜åœ¨ç›¸ç­‰çš„æƒ…å†µï¼Œè€Œä¸”æ»¡è¶³æ‘‡æ‘†åºåˆ—çš„è¦æ±‚ã€‚</p><ul><li><p><code>n=1</code>æ—¶æ˜¾ç„¶æ­£ç¡®</p></li><li><p><code>n=2æˆ–n=3</code>æ—¶ä¹Ÿæ˜¾ç„¶æ­£ç¡®ã€‚</p></li><li><p><code>n&gt;=4æ—¶</code>ï¼š</p><ol><li><p>é¦–å…ˆï¼Œåˆ¤æ–­ç›¸é‚»çš„æƒ…å†µï¼Œå¦‚æœBä¸­ç°åœ¨ç›¸é‚»ä¸¤æ•°åœ¨åŸæ¥çš„æœ‰åºåºåˆ—Aä¹Ÿç›¸é‚»ï¼Œæ­¤æ—¶ä»¤<code>n-n/2=1ï¼Œ (n-1)-(n/2-1)=1ï¼Œ...</code>éƒ½è§£å¾—<code>n=2</code>ï¼Œæ„æ€æ˜¯<code>n=2</code>æ˜¯ä»–ä»¬çš„å…¬å…±è§£ï¼Œè€Œ<code>n&gt;=4</code>æ—¶ï¼Œ<code>n-n/2ï¼Œ (n-1)-(n/2-1)</code>ç­‰äº<code>n/2&gt;=2</code>ï¼Œè¯´æ˜Bä¸­ç›¸é‚»ä¸¤æ•°ä¸€å®šåœ¨åŸæ¥çš„æœ‰åºåºåˆ—Aä¸­ä¸ç›¸é‚»ï¼›</p></li><li><p>æœ‰äººä¼šè¯´ä¹Ÿå­˜åœ¨åŸæœ¬(åœ¨Aä¸­)ä¸ç›¸é‚»ä½†æ˜¯ç›¸ç­‰çš„æƒ…å†µï¼Œå³å‡ ä¸ªæ•°è¿ç»­ç›¸ç­‰ï¼Œä½†å…¶ä¸­ä¸¤ä¸ªç›¸ç­‰çš„æ•°å¹¶ä¸ç›¸é‚»ï¼Œæ¯”å¦‚<code>aq=a(q+1)=a(q+2)</code>ï¼Œ<code>aq=a(q+2)</code>ç›¸ç­‰ä½†æ˜¯ä¸ç›¸é‚»ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“å¦‚æœ<code>a(n/2-k)=a(n-k)</code>å³ä¸ç›¸é‚»ç›¸ç­‰ï¼Œé‚£ä¹ˆç”±äºä»–ä»¬ä¸­é—´çš„æ‰€æœ‰æ•°éƒ½è¦ç›¸ç­‰ï¼Œè€Œä¸”ä¸è¿™ä¸¤ä¸ªæ•°ç›¸ç­‰æ‰èƒ½ä¿è¯ä¸ç›¸é‚»ç›¸ç­‰ï¼šå³<code>a(n/2-k)=a(n/2-k+1)=a(n/2-k+2)=...=a(n-k-2)=a(n-k-1)=a(n-k)</code>ï¼Œä¸€å…±<code>n/2+1</code>ä¸ªæ•°ç›¸ç­‰ã€‚</p></li><li><p>è€Œä¸ç›¸é‚»ç›¸ç­‰è¿™ç§æƒ…å†µæ˜¯ä¸è¡Œçš„ï¼šè™½ç„¶åªæœ‰<code>a(n/2-k),a(n-k)</code>ï¼ˆåœ¨Bä¸­ç›¸é‚»ï¼‰åœ¨åŸåºåˆ—Aä¸­ä¸ç›¸é‚»ç›¸ç­‰ï¼Œä½†ä¹Ÿè¿èƒŒäº†æ‘‡æ‘†åºåˆ—çš„å®šä¹‰ï¼Œæ‰€ä»¥è¿™é“é¢˜æœ‰ä¸€ä¸ªéšè—çš„æ¡ä»¶ï¼šè¾“å…¥åºåˆ—åœ¨æ’åºåæœ€å¤šåªæœ‰åºåˆ—é•¿åº¦ä¸€åŠ(<code>n/2</code>)çš„ç›¸é‚»çš„æ•°è¿ç»­ç›¸ç­‰ã€‚</p></li></ol></li><li><p>åœ¨è¿™ä¸ªæ¡ä»¶ä¸‹ï¼šè¿™é“é¢˜æŒ‰æ­¤æ’åˆ—å°±æ²¡é—®é¢˜ã€‚å¤§å®¶å¯ä»¥ç”¨ğŸ–ŠéªŒè¯ä¸€ä¸‹ã€‚</p></li></ul><p>ä»£ç å¦‚ä¸‹:</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å…ˆæ’åºå†ç©¿æ’</span></span><br><span class="line"><span class="comment">     * O(nlogn)+O(n)=O(nlogn)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> nums</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="keyword">int</span> len = nums.length;</span><br><span class="line">    <span class="keyword">int</span> smalllen = (len % <span class="number">2</span> == <span class="number">0</span>) ? len / <span class="number">2</span> : (len / <span class="number">2</span> + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span>[] smaller = <span class="keyword">new</span> <span class="keyword">int</span>[smalllen], bigger = <span class="keyword">new</span> <span class="keyword">int</span>[len / <span class="number">2</span>];</span><br><span class="line">    System.arraycopy(nums, <span class="number">0</span>, smaller, <span class="number">0</span>, smaller.length);</span><br><span class="line">    System.arraycopy(nums,smaller.length,bigger,<span class="number">0</span>,bigger.length);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len/<span class="number">2</span>; i++) &#123;</span><br><span class="line">        nums[<span class="number">2</span> * i] = smaller[smaller.length - <span class="number">1</span> - i];</span><br><span class="line">        nums[<span class="number">2</span> * i + <span class="number">1</span>] = bigger[bigger.length-i-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (len % <span class="number">2</span> != <span class="number">0</span>) &#123;</span><br><span class="line">        nums[len - <span class="number">1</span>] = smaller[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæ— åºçš„æ•°ç»„ numsï¼Œå°†å®ƒé‡æ–°æ’åˆ—æˆ nums[0] &amp;lt; nums[1] &amp;gt; nums[2] &amp;lt; nums[3]â€¦ çš„é¡ºåºã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Sort" scheme="http://yoursite.com/tags/Sort/"/>
    
  </entry>
  
  <entry>
    <title>179. æœ€å¤§æ•°</title>
    <link href="http://yoursite.com/2020/08/24/179.%20%E6%9C%80%E5%A4%A7%E6%95%B0/"/>
    <id>http://yoursite.com/2020/08/24/179. æœ€å¤§æ•°/</id>
    <published>2020-08-24T08:00:12.000Z</published>
    <updated>2020-08-24T08:39:23.127Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ç»„éè´Ÿæ•´æ•°ï¼Œé‡æ–°æ’åˆ—å®ƒä»¬çš„é¡ºåºä½¿ä¹‹ç»„æˆä¸€ä¸ªæœ€å¤§çš„æ•´æ•°ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: [10,2]è¾“å‡º: 210</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: [3,30,34,5,9]è¾“å‡º: 9534330</code></pre><p>è¯´æ˜: è¾“å‡ºç»“æœå¯èƒ½éå¸¸å¤§ï¼Œæ‰€ä»¥ä½ éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ˜¯æ•´æ•°ã€‚</p><h1 id="è‡ªå®šä¹‰æ’åºï¼š"><a href="#è‡ªå®šä¹‰æ’åºï¼š" class="headerlink" title="è‡ªå®šä¹‰æ’åºï¼š"></a>è‡ªå®šä¹‰æ’åºï¼š</h1><p><strong>æƒ³æ³•</strong></p><p>ä¸ºäº†æ„å»ºæœ€å¤§æ•°å­—ï¼Œæˆ‘ä»¬å¸Œæœ›è¶Šé«˜ä½çš„æ•°å­—è¶Šå¤§è¶Šå¥½ã€‚</p><p><strong>ç®—æ³•</strong></p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†æ¯ä¸ªæ•´æ•°å˜æˆå­—ç¬¦ä¸²ã€‚ç„¶åè¿›è¡Œæ’åºã€‚</p><p>å¦‚æœä»…æŒ‰é™åºæ’åºï¼Œæœ‰ç›¸åŒçš„å¼€å¤´æ•°å­—çš„æ—¶å€™ä¼šå‡ºç°é—®é¢˜ã€‚æ¯”æ–¹è¯´ï¼Œæ ·ä¾‹ 2 æŒ‰é™åºæ’åºå¾—åˆ°çš„æ•°å­—æ˜¯ <em>95343303</em> ï¼Œç„¶è€Œäº¤æ¢ <em>3</em> å’Œ <em>30</em> çš„ä½ç½®å¯ä»¥å¾—åˆ°æ­£ç¡®ç­”æ¡ˆ <em>9534330</em> ã€‚å› æ­¤ï¼Œæ¯ä¸€å¯¹æ•°åœ¨æ’åºçš„æ¯”è¾ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ¯”è¾ƒä¸¤ç§è¿æ¥é¡ºåºå“ªä¸€ç§æ›´å¥½ã€‚æˆ‘ä»¬å¯ä»¥è¯æ˜è¿™æ ·çš„åšæ³•æ˜¯æ­£ç¡®çš„ï¼š</p><p>å‡è®¾ï¼ˆä¸æ˜¯ä¸€èˆ¬æ€§ï¼‰ï¼ŒæŸä¸€å¯¹æ•´æ•° <em>a</em> å’Œ <em>b</em> ï¼Œæˆ‘ä»¬çš„æ¯”è¾ƒç»“æœæ˜¯ <em>a</em> åº”è¯¥åœ¨ <em>b</em> å‰é¢ï¼Œè¿™æ„å‘³ç€ a ^ b&gt;b ^ a ï¼Œå…¶ä¸­ ^  è¡¨ç¤ºè¿æ¥ã€‚å¦‚æœæ’åºç»“æœæ˜¯é”™çš„ï¼Œè¯´æ˜å­˜åœ¨ä¸€ä¸ª <em>c</em> ï¼Œ <em>b</em> åœ¨ <em>c</em> å‰é¢ä¸” <em>c</em> åœ¨ <em>a</em> çš„å‰é¢ã€‚è¿™äº§ç”Ÿäº†çŸ›ç›¾ï¼Œå› ä¸ºa ^ b&gt;b ^ a  å’Œb ^c &gt;c ^ b æ„å‘³ç€ a ^ c &gt;c ^ a  ã€‚æ¢è¨€ä¹‹ï¼Œæˆ‘ä»¬çš„è‡ªå®šä¹‰æ¯”è¾ƒæ–¹æ³•ä¿è¯äº†ä¼ é€’æ€§ï¼Œæ‰€ä»¥è¿™æ ·å­æ’åºæ˜¯å¯¹çš„ã€‚</p><p>ä¸€æ—¦æ•°ç»„æ’å¥½äº†åºï¼Œæœ€â€œé‡è¦â€çš„æ•°å­—ä¼šåœ¨æœ€å‰é¢ã€‚æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„æƒ…å†µæ˜¯å¦‚æœæ•°ç»„åªåŒ…å« 0 ï¼Œæˆ‘ä»¬ç›´æ¥è¿”å›ç»“æœ <em>0</em> å³å¯ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬ç”¨æ’å¥½åºçš„æ•°ç»„å½¢æˆä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›ã€‚</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">LargerNumberComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String a, String b)</span> </span>&#123;</span><br><span class="line">            String order1 = a + b;</span><br><span class="line">            String order2 = b + a;</span><br><span class="line">           <span class="keyword">return</span> order2.compareTo(order1);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">largestNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Get input integers as strings.</span></span><br><span class="line">        String[] asStrs = <span class="keyword">new</span> String[nums.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            asStrs[i] = String.valueOf(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Sort strings according to custom comparator.</span></span><br><span class="line">        Arrays.sort(asStrs, <span class="keyword">new</span> LargerNumberComparator());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// If, after being sorted, the largest number is `0`, the entire number</span></span><br><span class="line">        <span class="comment">// is zero.</span></span><br><span class="line">        <span class="keyword">if</span> (asStrs[<span class="number">0</span>].equals(<span class="string">"0"</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Build largest number from sorted array.</span></span><br><span class="line">        String largestNumberStr = <span class="keyword">new</span> String();</span><br><span class="line">        <span class="keyword">for</span> (String numAsStr : asStrs) &#123;</span><br><span class="line">            largestNumberStr += numAsStr;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> largestNumberStr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LargerNumKey</span><span class="params">(str)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span><span class="params">(x, y)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> x+y &gt; y+x</span><br><span class="line">        </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        largest_num = <span class="string">''</span>.join(sorted(map(str, nums), key=LargerNumKey))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'0'</span> <span class="keyword">if</span> largest_num[<span class="number">0</span>] == <span class="string">'0'</span> <span class="keyword">else</span> largest_num</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(nlgn)</em></p><p>  å°½ç®¡æˆ‘ä»¬åœ¨æ¯”è¾ƒå‡½æ•°ä¸­åšäº†ä¸€äº›é¢å¤–çš„å·¥ä½œï¼Œä½†æ˜¯è¿™åªæ˜¯ä¸€ä¸ªå¸¸æ•°å› å­ã€‚æ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ç”±æ’åºå†³å®šçš„ï¼Œåœ¨ Python å’Œ Java ä¸­éƒ½æ˜¯ <em>O(nlgn)</em> ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em></p><p>  è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº† <em>O(n)</em> çš„é¢å¤–ç©ºé—´å»ä¿å­˜ <code>nums</code> çš„å‰¯æœ¬ã€‚å°½ç®¡æˆ‘ä»¬å°±åœ°è¿›è¡Œäº†ä¸€äº›é¢å¤–çš„å·¥ä½œï¼Œä½†æœ€åè¿”å›çš„æ•°ç»„éœ€è¦ <em>O(n)</em> çš„ç©ºé—´ã€‚å› æ­¤ï¼Œéœ€è¦çš„é¢å¤–ç©ºé—´ä¸ <code>nums</code> å¤§å°æˆçº¿æ€§å…³ç³»ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ç»„éè´Ÿæ•´æ•°ï¼Œé‡æ–°æ’åˆ—å®ƒä»¬çš„é¡ºåºä½¿ä¹‹ç»„æˆä¸€ä¸ªæœ€å¤§çš„æ•´æ•°ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Sort" scheme="http://yoursite.com/tags/Sort/"/>
    
  </entry>
  
  <entry>
    <title>297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</title>
    <link href="http://yoursite.com/2020/08/24/297.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
    <id>http://yoursite.com/2020/08/24/297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–/</id>
    <published>2020-08-24T03:19:12.000Z</published>
    <updated>2020-08-24T06:54:22.665Z</updated>
    
    <content type="html"><![CDATA[<p>åºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œè¿›è€Œå¯ä»¥å°†è½¬æ¢åçš„æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒï¼Œé‡‡å–ç›¸åæ–¹å¼é‡æ„å¾—åˆ°åŸæ•°æ®ã€‚</p><a id="more"></a><p>è¯·è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥å®ç°äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚è¿™é‡Œä¸é™å®šä½ çš„åºåˆ— / ååºåˆ—åŒ–ç®—æ³•æ‰§è¡Œé€»è¾‘ï¼Œä½ åªéœ€è¦ä¿è¯ä¸€ä¸ªäºŒå‰æ ‘å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å¹¶ä¸”å°†è¿™ä¸ªå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºåŸå§‹çš„æ ‘ç»“æ„ã€‚</p><p>ç¤ºä¾‹: </p><pre><code>ä½ å¯ä»¥å°†ä»¥ä¸‹äºŒå‰æ ‘ï¼š    1   / \  2   3     / \    4   5åºåˆ—åŒ–ä¸º &quot;[1,2,3,null,null,4,5]&quot;</code></pre><p>æç¤º: è¿™ä¸ LeetCode ç›®å‰ä½¿ç”¨çš„æ–¹å¼ä¸€è‡´ï¼Œè¯¦æƒ…è¯·å‚é˜… LeetCode åºåˆ—åŒ–äºŒå‰æ ‘çš„æ ¼å¼ã€‚ä½ å¹¶éå¿…é¡»é‡‡å–è¿™ç§æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥é‡‡ç”¨å…¶ä»–çš„æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>è¯´æ˜: ä¸è¦ä½¿ç”¨ç±»çš„æˆå‘˜ / å…¨å±€ / é™æ€å˜é‡æ¥å­˜å‚¨çŠ¶æ€ï¼Œä½ çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ç®—æ³•åº”è¯¥æ˜¯æ— çŠ¶æ€çš„ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</h1><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>äºŒå‰æ ‘çš„åºåˆ—åŒ–æœ¬è´¨ä¸Šæ˜¯å¯¹å…¶å€¼è¿›è¡Œç¼–ç ï¼Œæ›´é‡è¦çš„æ˜¯å¯¹å…¶ç»“æ„è¿›è¡Œç¼–ç ã€‚å¯ä»¥éå†æ ‘æ¥å®Œæˆä¸Šè¿°ä»»åŠ¡ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œæˆ‘ä»¬ä¸€èˆ¬æœ‰ä¸¤ä¸ªç­–ç•¥ï¼šBFS / DFSã€‚</p><ul><li>BFS å¯ä»¥æŒ‰ç…§å±‚æ¬¡çš„é¡ºåºä»ä¸Šåˆ°ä¸‹éå†æ‰€æœ‰çš„èŠ‚ç‚¹</li><li>DFS å¯ä»¥ä»ä¸€ä¸ªæ ¹å¼€å§‹ï¼Œä¸€ç›´å»¶ä¼¸åˆ°æŸä¸ªå¶ï¼Œç„¶åå›åˆ°æ ¹ï¼Œåˆ°è¾¾å¦ä¸€ä¸ªåˆ†æ”¯ã€‚æ ¹æ®æ ¹èŠ‚ç‚¹ã€å·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹ä¹‹é—´çš„ç›¸å¯¹é¡ºåºï¼Œå¯ä»¥è¿›ä¸€æ­¥å°†DFSç­–ç•¥åŒºåˆ†ä¸ºï¼š<ul><li>å…ˆåºéå†</li><li>ä¸­åºéå†</li><li>ååºéå†</li></ul></li></ul><p>è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©å…ˆåºéå†çš„ç¼–ç æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™æ ·ä¸€ä¸ªä¾‹å­ç®€å•ç†è§£ï¼š</p><p> <a href="https://assets.leetcode-cn.com/solution-static/297/1.PNG" target="_blank" rel="noopener">fig1</a> <a href="https://assets.leetcode-cn.com/solution-static/297/2.PNG" target="_blank" rel="noopener">fig2</a> <a href="https://assets.leetcode-cn.com/solution-static/297/3.PNG" target="_blank" rel="noopener">fig3</a> <a href="https://assets.leetcode-cn.com/solution-static/297/4.PNG" target="_blank" rel="noopener">fig4</a> <a href="https://assets.leetcode-cn.com/solution-static/297/5.PNG" target="_blank" rel="noopener">fig5</a> <a href="https://assets.leetcode-cn.com/solution-static/297/6.PNG" target="_blank" rel="noopener">fig6</a> <a href="https://assets.leetcode-cn.com/solution-static/297/7.PNG" target="_blank" rel="noopener">fig7</a> <a href="https://assets.leetcode-cn.com/solution-static/297/8.PNG" target="_blank" rel="noopener">fig8</a> <a href="https://assets.leetcode-cn.com/solution-static/297/9.PNG" target="_blank" rel="noopener">fig9</a> <a href="https://assets.leetcode-cn.com/solution-static/297/10.PNG" target="_blank" rel="noopener">fig10</a> <a href="https://assets.leetcode-cn.com/solution-static/297/11.PNG" target="_blank" rel="noopener">fig11</a> <a href="https://assets.leetcode-cn.com/solution-static/297/12.PNG" target="_blank" rel="noopener">fig12</a> </p><p>æˆ‘ä»¬ä»æ ¹èŠ‚ç‚¹ <code>1</code> å¼€å§‹ï¼Œåºåˆ—åŒ–å­—ç¬¦ä¸²æ˜¯ <code>1,</code>ã€‚ç„¶åæˆ‘ä»¬è·³åˆ°æ ¹èŠ‚ç‚¹ <code>2</code> çš„å·¦å­æ ‘ï¼Œåºåˆ—åŒ–å­—ç¬¦ä¸²å˜æˆ <code>1,2,</code>ã€‚ç°åœ¨ä»èŠ‚ç‚¹ <code>2</code> å¼€å§‹ï¼Œæˆ‘ä»¬è®¿é—®å®ƒçš„å·¦èŠ‚ç‚¹ <code>3</code>ï¼ˆ<code>1,2,3,None,None,</code>ï¼‰å’Œå³èŠ‚ç‚¹ <code>4</code>(<code>1,2,3,None,None,4,None,None</code>)ã€‚<code>None,None,</code> æ˜¯ç”¨æ¥æ ‡è®°ç¼ºå°‘å·¦ã€å³å­èŠ‚ç‚¹ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬åœ¨åºåˆ—åŒ–æœŸé—´ä¿å­˜æ ‘ç»“æ„çš„æ–¹å¼ã€‚æœ€åï¼Œæˆ‘ä»¬å›åˆ°æ ¹èŠ‚ç‚¹ <code>1</code> å¹¶è®¿é—®å®ƒçš„å³å­æ ‘ï¼Œå®ƒæ°å¥½æ˜¯å¶èŠ‚ç‚¹ <code>5</code>ã€‚æœ€åï¼Œåºåˆ—åŒ–å­—ç¬¦ä¸²æ˜¯ <code>1,2,3,None,None,4,None,None,5,None,None,</code>ã€‚</p><p>å³æˆ‘ä»¬å¯ä»¥å…ˆåºéå†è¿™é¢—äºŒå‰æ ‘ï¼Œé‡åˆ°ç©ºå­æ ‘çš„æ—¶å€™åºåˆ—åŒ–æˆ <code>None</code>ï¼Œå¦åˆ™ç»§ç»­é€’å½’åºåˆ—åŒ–ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ååºåˆ—åŒ–å‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬éœ€è¦æ ¹æ® <code>,</code> æŠŠåŸå…ˆçš„åºåˆ—åˆ†å‰²å¼€æ¥å¾—åˆ°å…ˆåºéå†çš„å…ƒç´ åˆ—è¡¨ï¼Œç„¶åä»å·¦å‘å³éå†è¿™ä¸ªåºåˆ—ï¼š</p><ul><li>å¦‚æœå½“å‰çš„å…ƒç´ ä¸º <code>None</code>ï¼Œåˆ™å½“å‰ä¸ºç©ºæ ‘</li><li>å¦åˆ™å…ˆè§£æè¿™æ£µæ ‘çš„å·¦å­æ ‘ï¼Œå†è§£æå®ƒçš„å³å­æ ‘</li></ul><p>å…·ä½“è¯·å‚è€ƒä¸‹é¢çš„ä»£ç ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">rserialize</span><span class="params">(TreeNode root, String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            str += <span class="string">"None,"</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            str += str.valueOf(root.val) + <span class="string">","</span>;</span><br><span class="line">            str = rserialize(root.left, str);</span><br><span class="line">            str = rserialize(root.right, str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> rserialize(root, <span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">rdeserialize</span><span class="params">(List&lt;String&gt; l)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l.get(<span class="number">0</span>).equals(<span class="string">"None"</span>)) &#123;</span><br><span class="line">            l.remove(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        TreeNode root = <span class="keyword">new</span> TreeNode(Integer.valueOf(l.get(<span class="number">0</span>)));</span><br><span class="line">        l.remove(<span class="number">0</span>);</span><br><span class="line">        root.left = rdeserialize(l);</span><br><span class="line">        root.right = rdeserialize(l);</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">        String[] data_array = data.split(<span class="string">","</span>);</span><br><span class="line">        List&lt;String&gt; data_list = <span class="keyword">new</span> LinkedList&lt;String&gt;(Arrays.asList(data_array));</span><br><span class="line">        <span class="keyword">return</span> rdeserialize(data_list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Codec <span class="keyword">struct</span> &#123;</span><br><span class="line">    l []<span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Constructor</span><span class="params">()</span> <span class="title">Codec</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> Codec&#123;&#125;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">rserialize</span><span class="params">(root *TreeNode, str <span class="keyword">string</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">        str += <span class="string">"null,"</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        str += strconv.Itoa(root.Val) + <span class="string">","</span></span><br><span class="line">        str = rserialize(root.Left, str)</span><br><span class="line">        str = rserialize(root.Right, str)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Serializes a tree to a single string.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Codec)</span> <span class="title">serialize</span><span class="params">(root *TreeNode)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> rserialize(root, <span class="string">""</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Deserializes your encoded data to tree.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Codec)</span> <span class="title">deserialize</span><span class="params">(data <span class="keyword">string</span>)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    l := strings.Split(data, <span class="string">","</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(l); i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> l[i] != <span class="string">""</span> &#123;</span><br><span class="line">            this.l = <span class="built_in">append</span>(this.l, l[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> this.rdeserialize()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *Codec)</span> <span class="title">rdeserialize</span><span class="params">()</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> this.l[<span class="number">0</span>] == <span class="string">"null"</span> &#123;</span><br><span class="line">        this.l = this.l[<span class="number">1</span>:]</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    val, _ := strconv.Atoi(this.l[<span class="number">0</span>])</span><br><span class="line">    root := &amp;TreeNode&#123;Val: val&#125;</span><br><span class="line">    this.l = this.l[<span class="number">1</span>:]</span><br><span class="line">    root.Left = this.rdeserialize()</span><br><span class="line">    root.Right = this.rdeserialize()</span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šåœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åªè®¿é—®æ¯ä¸ªèŠ‚ç‚¹ä¸€æ¬¡ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)*ï¼Œå…¶ä¸­ *n</em> æ˜¯èŠ‚ç‚¹æ•°ï¼Œå³æ ‘çš„å¤§å°ã€‚ </li><li>ç©ºé—´å¤æ‚åº¦ï¼šåœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é€’å½’ä¼šä½¿ç”¨æ ˆç©ºé—´ï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚ </li></ul><h1 id="æ–¹æ³•äºŒï¼šæ‹¬å·è¡¨ç¤ºç¼–ç -é€’å½’ä¸‹é™è§£ç "><a href="#æ–¹æ³•äºŒï¼šæ‹¬å·è¡¨ç¤ºç¼–ç -é€’å½’ä¸‹é™è§£ç " class="headerlink" title="æ–¹æ³•äºŒï¼šæ‹¬å·è¡¨ç¤ºç¼–ç  + é€’å½’ä¸‹é™è§£ç "></a>æ–¹æ³•äºŒï¼šæ‹¬å·è¡¨ç¤ºç¼–ç  + é€’å½’ä¸‹é™è§£ç </h1><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·è¡¨ç¤ºä¸€é¢—äºŒå‰æ ‘ï¼š</p><ul><li>å¦‚æœå½“å‰çš„æ ‘ä¸ºç©ºï¼Œåˆ™è¡¨ç¤ºä¸º <code>X</code></li><li>å¦‚æœå½“å‰çš„æ ‘ä¸ä¸ºç©ºï¼Œåˆ™è¡¨ç¤ºä¸º <code>(&lt;LEFT_SUB_TREE&gt;)CUR_NUM(RIGHT_SUB_TREE)</code>ï¼Œå…¶ä¸­ï¼š<ul><li><code>&lt;LEFT_SUB_TREE&gt;</code> æ˜¯å·¦å­æ ‘åºåˆ—åŒ–ä¹‹åçš„ç»“æœ</li><li><code>&lt;RIGHT_SUB_TREE&gt;</code> æ˜¯å³å­æ ‘åºåˆ—åŒ–ä¹‹åçš„ç»“æœ</li><li><code>CUR_NUM</code> æ˜¯å½“å‰èŠ‚ç‚¹çš„å€¼</li></ul></li></ul><p>æ ¹æ®è¿™æ ·çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¾ˆå¥½å†™å‡ºåºåˆ—åŒ–çš„è¿‡ç¨‹ï¼Œååºéå†è¿™é¢—äºŒå‰æ ‘å³å¯ï¼Œé‚£å¦‚ä½•ååºåˆ—åŒ–å‘¢ï¼Ÿæ ¹æ®å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥æ¨å¯¼å‡ºè¿™æ ·çš„å·´ç§‘æ–¯èŒƒå¼ï¼ˆBNFï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">T -&gt; (T) num (T) | X</span><br></pre></td></tr></table></figure><p>å®ƒçš„æ„ä¹‰æ˜¯ï¼šç”¨ <code>T</code> ä»£è¡¨ä¸€æ£µæ ‘åºåˆ—åŒ–ä¹‹åçš„ç»“æœï¼Œ<code>|</code> è¡¨ç¤º <code>T</code> çš„æ„æˆä¸º <code>(T) num (T)</code> æˆ–è€… <code>X</code>ï¼Œ<code>|</code> å·¦è¾¹æ˜¯å¯¹ <code>T</code> çš„é€’å½’å®šä¹‰ï¼Œå³è¾¹è§„å®šäº†é€’å½’ç»ˆæ­¢çš„è¾¹ç•Œæ¡ä»¶ã€‚</p><p>å› ä¸ºï¼š</p><ul><li><code>T</code> çš„å®šä¹‰ä¸­ï¼Œåºåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è¦ä¹ˆæ˜¯ <code>X</code>ï¼Œè¦ä¹ˆæ˜¯ <code>(</code>ï¼Œæ‰€ä»¥è¿™ä¸ªå®šä¹‰æ˜¯ä¸å«å·¦é€’å½’çš„</li><li>å½“æˆ‘ä»¬å¼€å§‹è§£æä¸€ä¸ªå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå¦‚æœå¼€å¤´æ˜¯ <code>X</code>ï¼Œæˆ‘ä»¬å°±çŸ¥é“è¿™ä¸€å®šæ˜¯è§£æä¸€ä¸ªã€Œç©ºæ ‘ã€çš„ç»“æ„ï¼Œå¦‚æœå¼€å¤´æ˜¯ <code>(</code>ï¼Œæˆ‘ä»¬å°±çŸ¥é“éœ€è¦è§£æ <code>(T) num (T)</code> çš„ç»“æ„ï¼Œå› æ­¤è¿™é‡Œä¸¤ç§å¼€å¤´å’Œä¸¤ç§è§£ææ–¹æ³•ä¸€ä¸€å¯¹åº”ï¼Œå¯ä»¥ç¡®å®šè¿™æ˜¯ä¸€ä¸ªæ— äºŒä¹‰æ€§çš„æ–‡æ³•</li><li>æˆ‘ä»¬åªéœ€è¦é€šè¿‡å¼€å¤´çš„ç¬¬ä¸€ä¸ªå­—æ¯æ˜¯ <code>X</code> è¿˜æ˜¯ <code>(</code> æ¥åˆ¤æ–­ä½¿ç”¨å“ªä¸€ç§è§£ææ–¹æ³•</li></ul><p>æ‰€ä»¥è¿™ä¸ªæ–‡æ³•æ˜¯ LL(1) å‹æ–‡æ³•ï¼Œ<strong>å¦‚æœä½ ä¸çŸ¥é“ä»€ä¹ˆæ˜¯ LL(1) å‹æ–‡æ³•ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œä½ åªéœ€è¦çŸ¥é“å®ƒå®šä¹‰äº†ä¸€ç§é€’å½’çš„æ–¹æ³•æ¥ååºåˆ—åŒ–ï¼Œä¹Ÿä¿è¯äº†è¿™ä¸ªæ–¹æ³•çš„æ­£ç¡®æ€§â€”â€”æˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€ä¸ªé€’å½’å‡½æ•°ï¼š</strong></p><ul><li>è¿™ä¸ªé€’å½’å‡½æ•°ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œå¸¦è§£æçš„å­—ç¬¦ä¸²å’Œå½“å‰å½“è§£æçš„ä½ç½® <code>ptr</code>ï¼Œ<code>ptr</code> ä¹‹å‰çš„ä½ç½®æ˜¯å·²ç»è§£æçš„ï¼Œ<code>ptr</code> å’Œ <code>ptr</code> åé¢çš„å­—ç¬¦ä¸²æ˜¯å¾…è§£æçš„</li><li>å¦‚æœå½“å‰ä½ç½®ä¸º <code>X</code> è¯´æ˜è§£æåˆ°äº†ä¸€æ£µç©ºæ ‘ï¼Œç›´æ¥è¿”å›</li><li>å¦åˆ™å½“å‰ä½ç½®ä¸€å®šæ˜¯ <code>(</code>ï¼Œå¯¹æ‹¬å·å†…éƒ¨æŒ‰ç…§ <code>(T) num (T)</code> çš„æ¨¡å¼è§£æ</li></ul><p>å…·ä½“è¯·å‚è€ƒä¸‹é¢çš„ä»£ç ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>æ‹¬å·è¡¨ç¤ºç¼–ç  + é€’å½’ä¸‹é™è§£ç cpp</summary><figure class="highlight cpp"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Codec</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">serialize</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="string">"X"</span>;</span><br><span class="line">        <span class="keyword">auto</span> l = <span class="string">"("</span> + serialize(root-&gt;left) + <span class="string">")"</span>;</span><br><span class="line">        <span class="keyword">auto</span> r = <span class="string">"("</span> + serialize(root-&gt;right) + <span class="string">")"</span>;</span><br><span class="line">        <span class="keyword">return</span>  l + to_string(root-&gt;val) + r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> TreeNode* <span class="title">parseSubtree</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;data, <span class="keyword">int</span> &amp;ptr)</span> </span>&#123;</span><br><span class="line">        ++ptr; <span class="comment">// è·³è¿‡å·¦æ‹¬å·</span></span><br><span class="line">        <span class="keyword">auto</span> subtree = parse(data, ptr);</span><br><span class="line">        ++ptr; <span class="comment">// è·³è¿‡å³æ‹¬å·</span></span><br><span class="line">        <span class="keyword">return</span> subtree;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">parseInt</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;data, <span class="keyword">int</span> &amp;ptr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>, sgn = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">isdigit</span>(data[ptr])) &#123;</span><br><span class="line">            sgn = <span class="number">-1</span>;</span><br><span class="line">            ++ptr;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">isdigit</span>(data[ptr])) &#123;</span><br><span class="line">            x = x * <span class="number">10</span> + data[ptr++] - <span class="string">'0'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x * sgn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">TreeNode* <span class="title">parse</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;data, <span class="keyword">int</span> &amp;ptr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (data[ptr] == <span class="string">'X'</span>) &#123;</span><br><span class="line">            ++ptr;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">auto</span> cur = <span class="keyword">new</span> TreeNode(<span class="number">0</span>);</span><br><span class="line">        cur-&gt;left = parseSubtree(data, ptr);</span><br><span class="line">        cur-&gt;val = parseInt(data, ptr);</span><br><span class="line">        cur-&gt;right = parseSubtree(data, ptr);</span><br><span class="line">        <span class="keyword">return</span> cur;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">TreeNode* <span class="title">deserialize</span><span class="params">(<span class="built_in">string</span> data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ptr = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> parse(data, ptr);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ‹¬å·è¡¨ç¤ºç¼–ç  + é€’å½’ä¸‹é™è§£ç java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"X"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        String l = <span class="string">"("</span> + serialize(root.left) + <span class="string">")"</span>;</span><br><span class="line">        String r = <span class="string">"("</span> + serialize(root.right) + <span class="string">")"</span>;</span><br><span class="line">        <span class="keyword">return</span>  l + root.val + r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] ptr = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">return</span> parse(data, ptr);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">parse</span><span class="params">(String data, <span class="keyword">int</span>[] ptr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (data.charAt(ptr[<span class="number">0</span>]) == <span class="string">'X'</span>) &#123;</span><br><span class="line">            ++ptr[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        TreeNode cur = <span class="keyword">new</span> TreeNode(<span class="number">0</span>);</span><br><span class="line">        cur.left = parseSubtree(data, ptr);</span><br><span class="line">        cur.val = parseInt(data, ptr);</span><br><span class="line">        cur.right = parseSubtree(data, ptr);</span><br><span class="line">        <span class="keyword">return</span> cur;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">parseSubtree</span><span class="params">(String data, <span class="keyword">int</span>[] ptr)</span> </span>&#123;</span><br><span class="line">        ++ptr[<span class="number">0</span>]; <span class="comment">// è·³è¿‡å·¦æ‹¬å·</span></span><br><span class="line">        TreeNode subtree = parse(data, ptr);</span><br><span class="line">        ++ptr[<span class="number">0</span>]; <span class="comment">// è·³è¿‡å³æ‹¬å·</span></span><br><span class="line">        <span class="keyword">return</span> subtree;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">parseInt</span><span class="params">(String data, <span class="keyword">int</span>[] ptr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>, sgn = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (!Character.isDigit(data.charAt(ptr[<span class="number">0</span>]))) &#123;</span><br><span class="line">            sgn = -<span class="number">1</span>;</span><br><span class="line">            ++ptr[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (Character.isDigit(data.charAt(ptr[<span class="number">0</span>]))) &#123;</span><br><span class="line">            x = x * <span class="number">10</span> + data.charAt(ptr[<span class="number">0</span>]++) - <span class="string">'0'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x * sgn;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šåºåˆ—åŒ–æ—¶åšäº†ä¸€æ¬¡éå†ï¼Œæ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚ååºåˆ—åŒ–æ—¶ï¼Œåœ¨è§£æå­—ç¬¦ä¸²çš„æ—¶å€™ <code>ptr</code> æŒ‡é’ˆå¯¹å­—ç¬¦ä¸²åšäº†ä¸€æ¬¡é¡ºåºéå†ï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¸º <em>O(n)</em>ï¼Œæ•…è¿™é‡Œçš„æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šè€ƒè™‘é€’å½’ä½¿ç”¨çš„æ ˆç©ºé—´çš„å¤§å°ï¼Œè¿™é‡Œæ ˆç©ºé—´çš„ä½¿ç”¨å’Œé€’å½’æ·±åº¦æœ‰å…³ï¼Œé€’å½’æ·±åº¦åˆå’ŒäºŒå‰æ ‘çš„æ·±åº¦æœ‰å…³ï¼Œåœ¨æœ€å·®æƒ…å†µä¸‹ï¼ŒäºŒå‰æ ‘é€€åŒ–æˆä¸€æ¡é“¾ï¼Œæ•…è¿™é‡Œçš„æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œè¿›è€Œå¯ä»¥å°†è½¬æ¢åçš„æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒï¼Œé‡‡å–ç›¸åæ–¹å¼é‡æ„å¾—åˆ°åŸæ•°æ®ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
  </entry>
  
  <entry>
    <title>236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</title>
    <link href="http://yoursite.com/2020/08/24/236.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88/"/>
    <id>http://yoursite.com/2020/08/24/236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ/</id>
    <published>2020-08-24T01:48:12.000Z</published>
    <updated>2020-08-24T03:19:02.216Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p><a id="more"></a><p>ç™¾åº¦ç™¾ç§‘ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªç»“ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªç»“ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆï¼‰ã€‚â€</p><p>ä¾‹å¦‚ï¼Œç»™å®šå¦‚ä¸‹äºŒå‰æ ‘:  root = [3,5,1,6,2,0,8,null,null,7,4]</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1è¾“å‡º: 3è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 1 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 3ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 4è¾“å‡º: 5è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 5ã€‚å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚</code></pre><p>è¯´æ˜:</p><pre><code>æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚pã€q ä¸ºä¸åŒèŠ‚ç‚¹ä¸”å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æ ‘ä¸­ã€‚</code></pre><h1 id="ğŸ“º-è§†é¢‘é¢˜è§£"><a href="#ğŸ“º-è§†é¢‘é¢˜è§£" class="headerlink" title="ğŸ“º è§†é¢‘é¢˜è§£"></a>ğŸ“º è§†é¢‘é¢˜è§£</h1><p><a href="6258a388-b9c6-486c-9d92-c09571d373a9">236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ.mp4</a></p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šé€’å½’"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’"></a>æ–¹æ³•ä¸€ï¼šé€’å½’</h2><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>æˆ‘ä»¬é€’å½’éå†æ•´æ£µäºŒå‰æ ‘ï¼Œå®šä¹‰ <em>f_x</em> è¡¨ç¤º <em>x</em> èŠ‚ç‚¹çš„å­æ ‘ä¸­æ˜¯å¦åŒ…å« <em>p</em> èŠ‚ç‚¹æˆ– <em>q</em> èŠ‚ç‚¹ï¼Œå¦‚æœåŒ…å«ä¸º <code>true</code>ï¼Œå¦åˆ™ä¸º <code>false</code>ã€‚é‚£ä¹ˆç¬¦åˆæ¡ä»¶çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ <em>x</em> ä¸€å®šæ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š</p><pre><code>(flson&amp;&amp;frson)âˆ£âˆ£((x=pâˆ£âˆ£x=q)&amp;&amp;(flsonâˆ£âˆ£frson))</code></pre><p>å…¶ä¸­ flson å’Œfrsonåˆ†åˆ«ä»£è¡¨ <em>x</em> èŠ‚ç‚¹çš„å·¦å­©å­å’Œå³å­©å­ã€‚åˆçœ‹å¯èƒ½ä¼šæ„Ÿè§‰æ¡ä»¶åˆ¤æ–­æœ‰ç‚¹å¤æ‚ï¼Œæˆ‘ä»¬æ¥ä¸€æ¡æ¡çœ‹ï¼Œflson&amp;&amp;frsonè¯´æ˜å·¦å­æ ‘å’Œå³å­æ ‘å‡åŒ…å« <em>p</em> èŠ‚ç‚¹æˆ– <em>q</em> èŠ‚ç‚¹ï¼Œå¦‚æœå·¦å­æ ‘åŒ…å«çš„æ˜¯ <em>p</em> èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå³å­æ ‘åªèƒ½åŒ…å« <em>q</em> èŠ‚ç‚¹ï¼Œåä¹‹äº¦ç„¶ï¼Œå› ä¸º <em>p</em> èŠ‚ç‚¹å’Œ <em>q</em> èŠ‚ç‚¹éƒ½æ˜¯ä¸åŒä¸”å”¯ä¸€çš„èŠ‚ç‚¹ï¼Œå› æ­¤å¦‚æœæ»¡è¶³è¿™ä¸ªåˆ¤æ–­æ¡ä»¶å³å¯è¯´æ˜ <em>x</em> å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚å†æ¥çœ‹ç¬¬äºŒæ¡åˆ¤æ–­æ¡ä»¶ï¼Œè¿™ä¸ªåˆ¤æ–­æ¡ä»¶å³æ˜¯è€ƒè™‘äº† <em>x</em> æ°å¥½æ˜¯ <em>p</em> èŠ‚ç‚¹æˆ– <em>q</em> èŠ‚ç‚¹ä¸”å®ƒçš„å·¦å­æ ‘æˆ–å³å­æ ‘æœ‰ä¸€ä¸ªåŒ…å«äº†å¦ä¸€ä¸ªèŠ‚ç‚¹çš„æƒ…å†µï¼Œå› æ­¤å¦‚æœæ»¡è¶³è¿™ä¸ªåˆ¤æ–­æ¡ä»¶äº¦å¯è¯´æ˜ <em>x</em> å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p><p>ä½ å¯èƒ½ä¼šç–‘æƒ‘è¿™æ ·æ‰¾å‡ºæ¥çš„å…¬å…±ç¥–å…ˆæ·±åº¦æ˜¯å¦æ˜¯æœ€å¤§çš„ã€‚å…¶å®æ˜¯æœ€å¤§çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯è‡ªåº•å‘ä¸Šä»å¶å­èŠ‚ç‚¹å¼€å§‹æ›´æ–°çš„ï¼Œæ‰€ä»¥åœ¨æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„å…¬å…±ç¥–å…ˆä¸­ä¸€å®šæ˜¯æ·±åº¦æœ€å¤§çš„ç¥–å…ˆå…ˆè¢«è®¿é—®åˆ°ï¼Œä¸”ç”±äº <em>f_x</em> æœ¬èº«çš„å®šä¹‰å¾ˆå·§å¦™ï¼Œåœ¨æ‰¾åˆ°æœ€è¿‘å…¬å…±ç¥–å…ˆ <em>x</em> ä»¥åï¼Œ<em>f_x</em> æŒ‰å®šä¹‰è¢«è®¾ç½®ä¸º <code>true</code> ï¼Œå³å‡å®šäº†è¿™ä¸ªå­æ ‘ä¸­åªæœ‰ä¸€ä¸ª <em>p</em> èŠ‚ç‚¹æˆ– <em>q</em> èŠ‚ç‚¹ï¼Œå› æ­¤å…¶ä»–å…¬å…±ç¥–å…ˆä¸ä¼šå†è¢«åˆ¤æ–­ä¸ºç¬¦åˆæ¡ä»¶ã€‚</p><p>ä¸‹å›¾å±•ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹ï¼Œæœç´¢æ ‘ä¸­ä¸¤ä¸ªèŠ‚ç‚¹ <code>9</code> å’Œ <code>11</code> çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p><p> <a href="https://assets.leetcode-cn.com/solution-static/236/1.PNG" target="_blank" rel="noopener">fig1</a> <a href="https://assets.leetcode-cn.com/solution-static/236/2.PNG" target="_blank" rel="noopener">fig2</a> <a href="https://assets.leetcode-cn.com/solution-static/236/3.PNG" target="_blank" rel="noopener">fig3</a> <a href="https://assets.leetcode-cn.com/solution-static/236/4.PNG" target="_blank" rel="noopener">fig4</a> <a href="https://assets.leetcode-cn.com/solution-static/236/5.PNG" target="_blank" rel="noopener">fig5</a> <a href="https://assets.leetcode-cn.com/solution-static/236/6.PNG" target="_blank" rel="noopener">fig6</a> <a href="https://assets.leetcode-cn.com/solution-static/236/7.PNG" target="_blank" rel="noopener">fig7</a> <a href="https://assets.leetcode-cn.com/solution-static/236/8.PNG" target="_blank" rel="noopener">fig8</a> <a href="https://assets.leetcode-cn.com/solution-static/236/9.PNG" target="_blank" rel="noopener">fig9</a> <a href="https://assets.leetcode-cn.com/solution-static/236/10.PNG" target="_blank" rel="noopener">fig10</a> <a href="https://assets.leetcode-cn.com/solution-static/236/11.PNG" target="_blank" rel="noopener">fig11</a> </p><details>    <summary>é€’å½’C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    TreeNode* ans;</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(TreeNode* root, TreeNode* p, TreeNode* q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">bool</span> lson = dfs(root-&gt;left, p, q);</span><br><span class="line">        <span class="keyword">bool</span> rson = dfs(root-&gt;right, p, q);</span><br><span class="line">        <span class="keyword">if</span> ((lson &amp;&amp; rson) || ((root-&gt;val == p-&gt;val || root-&gt;val == q-&gt;val) &amp;&amp; (lson || rson))) &#123;</span><br><span class="line">            ans = root;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">return</span> lson || rson || (root-&gt;val == p-&gt;val || root-&gt;val == q-&gt;val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">TreeNode* <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode* root, TreeNode* p, TreeNode* q)</span> </span>&#123;</span><br><span class="line">        dfs(root, p, q);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lowestCommonAncestor = <span class="function"><span class="keyword">function</span>(<span class="params">root, p, q</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> ans;</span><br><span class="line">    <span class="keyword">const</span> dfs = <span class="function">(<span class="params">root, p, q</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">const</span> lson = dfs(root.left, p, q);</span><br><span class="line">        <span class="keyword">const</span> rson = dfs(root.right, p, q);</span><br><span class="line">        <span class="keyword">if</span> ((lson &amp;&amp; rson) || ((root.val === p.val || root.val === q.val) &amp;&amp; (lson || rson))) &#123;</span><br><span class="line">            ans = root;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">return</span> lson || rson || (root.val === p.val || root.val === q.val);</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root, p, q);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TreeNode ans;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.ans = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">boolean</span> lson = dfs(root.left, p, q);</span><br><span class="line">        <span class="keyword">boolean</span> rson = dfs(root.right, p, q);</span><br><span class="line">        <span class="keyword">if</span> ((lson &amp;&amp; rson) || ((root.val == p.val || root.val == q.val) &amp;&amp; (lson || rson))) &#123;</span><br><span class="line">            ans = root;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">return</span> lson || rson || (root.val == p.val || root.val == q.val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dfs(root, p, q);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lowestCommonAncestor</span><span class="params">(root, p, q *TreeNode)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> root.Val == p.Val || root.Val == q.Val &#123;</span><br><span class="line">        <span class="keyword">return</span> root</span><br><span class="line">    &#125;</span><br><span class="line">    left := lowestCommonAncestor(root.Left, p, q)</span><br><span class="line">    right := lowestCommonAncestor(root.Right, p, q)</span><br><span class="line">    <span class="keyword">if</span> left != <span class="literal">nil</span> &amp;&amp; right != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> root</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> left == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> right</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚äºŒå‰æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æœ‰ä¸”åªä¼šè¢«è®¿é—®ä¸€æ¬¡ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º <em>O(N)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em> ï¼Œå…¶ä¸­ <em>N</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚é€’å½’è°ƒç”¨çš„æ ˆæ·±åº¦å–å†³äºäºŒå‰æ ‘çš„é«˜åº¦ï¼ŒäºŒå‰æ ‘æœ€åæƒ…å†µä¸‹ä¸ºä¸€æ¡é“¾ï¼Œæ­¤æ—¶é«˜åº¦ä¸º <em>N</em>ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º <em>O(N)</em>ã€‚</p></li></ul><h4 id="æ–¹æ³•äºŒï¼šå­˜å‚¨çˆ¶èŠ‚ç‚¹"><a href="#æ–¹æ³•äºŒï¼šå­˜å‚¨çˆ¶èŠ‚ç‚¹" class="headerlink" title="æ–¹æ³•äºŒï¼šå­˜å‚¨çˆ¶èŠ‚ç‚¹"></a>æ–¹æ³•äºŒï¼šå­˜å‚¨çˆ¶èŠ‚ç‚¹</h4><p><strong>æ€è·¯</strong></p><p>æˆ‘ä»¬å¯ä»¥ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ‰€æœ‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¿¡æ¯ä» <code>p</code> ç»“ç‚¹å¼€å§‹ä¸æ–­å¾€ä¸Šè·³ï¼Œå¹¶è®°å½•å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œå†ä» <code>q</code> èŠ‚ç‚¹å¼€å§‹ä¸æ–­å¾€ä¸Šè·³ï¼Œå¦‚æœç¢°åˆ°å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p><p><strong>ç®—æ³•</strong></p><ol><li>ä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†æ•´æ£µäºŒå‰æ ‘ï¼Œç”¨å“ˆå¸Œè¡¨è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æŒ‡é’ˆã€‚</li><li>ä» <code>p</code> èŠ‚ç‚¹å¼€å§‹ä¸æ–­å¾€å®ƒçš„ç¥–å…ˆç§»åŠ¨ï¼Œå¹¶ç”¨æ•°æ®ç»“æ„è®°å½•å·²ç»è®¿é—®è¿‡çš„ç¥–å…ˆèŠ‚ç‚¹ã€‚</li><li>åŒæ ·ï¼Œæˆ‘ä»¬å†ä» <code>q</code> èŠ‚ç‚¹å¼€å§‹ä¸æ–­å¾€å®ƒçš„ç¥–å…ˆç§»åŠ¨ï¼Œå¦‚æœæœ‰ç¥–å…ˆå·²ç»è¢«è®¿é—®è¿‡ï¼Œå³æ„å‘³ç€è¿™æ˜¯ <code>p</code> å’Œ <code>q</code> çš„æ·±åº¦æœ€æ·±çš„å…¬å…±ç¥–å…ˆï¼Œå³ LCA èŠ‚ç‚¹ã€‚</li></ol><details>    <summary>å­˜å‚¨çˆ¶èŠ‚ç‚¹C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, TreeNode*&gt; fa;</span><br><span class="line">    <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">bool</span>&gt; vis;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode* root)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;left != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            fa[root-&gt;left-&gt;val] = root;</span><br><span class="line">            dfs(root-&gt;left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;right != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            fa[root-&gt;right-&gt;val] = root;</span><br><span class="line">            dfs(root-&gt;right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">TreeNode* <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode* root, TreeNode* p, TreeNode* q)</span> </span>&#123;</span><br><span class="line">        fa[root-&gt;val] = <span class="literal">nullptr</span>;</span><br><span class="line">        dfs(root);</span><br><span class="line">        <span class="keyword">while</span> (p != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            vis[p-&gt;val] = <span class="literal">true</span>;</span><br><span class="line">            p = fa[p-&gt;val];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (q != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (vis[q-&gt;val]) <span class="keyword">return</span> q;</span><br><span class="line">            q = fa[q-&gt;val];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>å­˜å‚¨çˆ¶èŠ‚ç‚¹Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    Map&lt;Integer, TreeNode&gt; parent = <span class="keyword">new</span> HashMap&lt;Integer, TreeNode&gt;();</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            parent.put(root.left.val, root);</span><br><span class="line">            dfs(root.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            parent.put(root.right.val, root);</span><br><span class="line">            dfs(root.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">        dfs(root);</span><br><span class="line">        <span class="keyword">while</span> (p != <span class="keyword">null</span>) &#123;</span><br><span class="line">            visited.add(p.val);</span><br><span class="line">            p = parent.get(p.val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (q != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited.contains(q.val)) &#123;</span><br><span class="line">                <span class="keyword">return</span> q;</span><br><span class="line">            &#125;</span><br><span class="line">            q = parent.get(q.val);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>å­˜å‚¨çˆ¶èŠ‚ç‚¹golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lowestCommonAncestor</span><span class="params">(root, p, q *TreeNode)</span> *<span class="title">TreeNode</span></span> &#123;</span><br><span class="line">    parent := <span class="keyword">map</span>[<span class="keyword">int</span>]*TreeNode&#123;&#125;</span><br><span class="line">    visited := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">bool</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(*TreeNode)</span></span></span><br><span class="line"><span class="function">    <span class="title">dfs</span> = <span class="title">func</span><span class="params">(r *TreeNode)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> r == <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> r.Left != <span class="literal">nil</span> &#123;</span><br><span class="line">            parent[r.Left.Val] = r</span><br><span class="line">            dfs(r.Left)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> r.Right != <span class="literal">nil</span> &#123;</span><br><span class="line">            parent[r.Right.Val] = r</span><br><span class="line">            dfs(r.Right)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(root)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> p != <span class="literal">nil</span> &#123;</span><br><span class="line">        visited[p.Val] = <span class="literal">true</span></span><br><span class="line">        p = parent[p.Val]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> q != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> visited[q.Val] &#123;</span><br><span class="line">            <span class="keyword">return</span> q</span><br><span class="line">        &#125;</span><br><span class="line">        q = parent[q.Val]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œå…¶ä¸­ *N</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚äºŒå‰æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æœ‰ä¸”åªä¼šè¢«è®¿é—®ä¸€æ¬¡ï¼Œä» <code>p</code> å’Œ <code>q</code> èŠ‚ç‚¹å¾€ä¸Šè·³ç»è¿‡çš„ç¥–å…ˆèŠ‚ç‚¹ä¸ªæ•°ä¸ä¼šè¶…è¿‡ <em>N</em>ï¼Œå› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(N)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em> ï¼Œå…¶ä¸­ <em>N</em> æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚é€’å½’è°ƒç”¨çš„æ ˆæ·±åº¦å–å†³äºäºŒå‰æ ‘çš„é«˜åº¦ï¼ŒäºŒå‰æ ‘æœ€åæƒ…å†µä¸‹ä¸ºä¸€æ¡é“¾ï¼Œæ­¤æ—¶é«˜åº¦ä¸º <em>N</em>ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º <em>O(N)*ï¼Œå“ˆå¸Œè¡¨å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¹Ÿéœ€è¦ *O(N)</em> çš„ç©ºé—´å¤æ‚åº¦ï¼Œå› æ­¤æœ€åæ€»çš„ç©ºé—´å¤æ‚åº¦ä¸º <em>O(N)</em>ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
  </entry>
  
  <entry>
    <title>230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ </title>
    <link href="http://yoursite.com/2020/08/22/230.%20%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E4%B8%AD%E7%AC%ACK%E5%B0%8F%E7%9A%84%E5%85%83%E7%B4%A0/"/>
    <id>http://yoursite.com/2020/08/22/230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ /</id>
    <published>2020-08-22T05:44:12.000Z</published>
    <updated>2020-08-24T01:47:21.206Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•° kthSmallest æ¥æŸ¥æ‰¾å…¶ä¸­ç¬¬ k ä¸ªæœ€å°çš„å…ƒç´ ã€‚</p><a id="more"></a><p>è¯´æ˜ï¼š<br>ä½ å¯ä»¥å‡è®¾ k æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œ1 â‰¤ k â‰¤ äºŒå‰æœç´¢æ ‘å…ƒç´ ä¸ªæ•°ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: root = [3,1,4,null,2], k = 1   3  / \ 1   4  \   2è¾“å‡º: 1</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: root = [5,3,6,2,4,null,null,1], k = 3       5      / \     3   6    / \   2   4  / 1è¾“å‡º: 3</code></pre><p>è¿›é˜¶ï¼š</p><p>å¦‚æœäºŒå‰æœç´¢æ ‘ç»å¸¸è¢«ä¿®æ”¹ï¼ˆæ’å…¥/åˆ é™¤æ“ä½œï¼‰å¹¶ä¸”ä½ éœ€è¦é¢‘ç¹åœ°æŸ¥æ‰¾ç¬¬ k å°çš„å€¼ï¼Œä½ å°†å¦‚ä½•ä¼˜åŒ– kthSmallest å‡½æ•°ï¼Ÿ</p><h1 id="æ¦‚è¿°ï¼š"><a href="#æ¦‚è¿°ï¼š" class="headerlink" title="æ¦‚è¿°ï¼š"></a>æ¦‚è¿°ï¼š</h1><p><strong>æ€ä¹ˆéå†æ ‘ï¼š</strong></p><ul><li>æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆ<code>DFS</code>ï¼‰</li></ul><p>åœ¨è¿™ä¸ªç­–ç•¥ä¸­ï¼Œæˆ‘ä»¬ä»æ ¹å»¶ä¼¸åˆ°æŸä¸€ç‰‡å¶å­ï¼Œç„¶åå†è¿”å›å¦ä¸€ä¸ªåˆ†æ”¯ã€‚æ ¹æ®æ ¹èŠ‚ç‚¹ï¼Œå·¦èŠ‚ç‚¹ï¼Œå³èŠ‚ç‚¹çš„ç›¸å¯¹é¡ºåºï¼Œ<code>DFS</code> è¿˜å¯ä»¥åˆ†ä¸ºå‰åºï¼Œä¸­åºï¼Œååºã€‚ </p><ul><li>å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆ<code>BFS</code>ï¼‰</li></ul><p>åœ¨è¿™ä¸ªç­–ç•¥ä¸­ï¼Œæˆ‘ä»¬é€å±‚ï¼Œä»ä¸Šåˆ°ä¸‹æ‰«ææ•´ä¸ªæ ‘ã€‚</p><p>ä¸‹å›¾å±•ç¤ºäº†ä¸åŒçš„éå†ç­–ç•¥ï¼š<br><a href="https://pic.leetcode-cn.com/40cb9af2a0c21fdc1ce72e6e24b48bd73d5f280c0f4b207ce3d7cf0c19fbdf21-file_1579413216186" target="_blank" rel="noopener">ä¸åŒçš„éå†ç­–ç•¥</a></p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ BST çš„ç‰¹æ€§ï¼šBST çš„ä¸­åºéå†æ˜¯å‡åºåºåˆ—ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šé€’å½’"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’"></a>æ–¹æ³•ä¸€ï¼šé€’å½’</h1><p><strong>ç®—æ³•ï¼š</strong></p><p>é€šè¿‡æ„é€  BST çš„ä¸­åºéå†åºåˆ—ï¼Œåˆ™ç¬¬ <code>k-1</code> ä¸ªå…ƒç´ å°±æ˜¯ç¬¬ <code>k</code> å°çš„å…ƒç´ ã€‚</p><p><a href="https://pic.leetcode-cn.com/7dc3fe454519e27105c5aaf57d20b26137bd77c56bb0289830bf18116627de12-file_1579413216156" target="_blank" rel="noopener">é€’å½’</a></p><details>    <summary>é€’å½’python</summary><figure class="highlight python"><figcaption><span>[solution1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kthSmallest</span><span class="params">(self, root, k)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :type k: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inorder</span><span class="params">(r)</span>:</span></span><br><span class="line">            <span class="keyword">return</span> inorder(r.left) + [r.val] + inorder(r.right) <span class="keyword">if</span> r <span class="keyword">else</span> []</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> inorder(root)[k - <span class="number">1</span>]</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’java</summary><figure class="highlight java"><figcaption><span>[solution1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> ArrayList&lt;Integer&gt; <span class="title">inorder</span><span class="params">(TreeNode root, ArrayList&lt;Integer&gt; arr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> arr;</span><br><span class="line">    inorder(root.left, arr);</span><br><span class="line">    arr.add(root.val);</span><br><span class="line">    inorder(root.right, arr);</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(TreeNode root, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    ArrayList&lt;Integer&gt; nums = inorder(root, <span class="keyword">new</span> ArrayList&lt;Integer&gt;());</span><br><span class="line">    <span class="keyword">return</span> nums.get(k - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(N)</em>ï¼Œéå†äº†æ•´ä¸ªæ ‘ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)</em>ï¼Œç”¨äº†ä¸€ä¸ªæ•°ç»„å­˜å‚¨ä¸­åºåºåˆ—ã€‚</li></ul><h1 id="æ–¹æ³•äºŒï¼šè¿­ä»£"><a href="#æ–¹æ³•äºŒï¼šè¿­ä»£" class="headerlink" title="æ–¹æ³•äºŒï¼šè¿­ä»£"></a>æ–¹æ³•äºŒï¼šè¿­ä»£</h1><p><strong>ç®—æ³•ï¼š</strong></p><p>åœ¨æ ˆçš„å¸®åŠ©ä¸‹ï¼Œå¯ä»¥å°†æ–¹æ³•ä¸€çš„é€’å½’è½¬æ¢ä¸ºè¿­ä»£ï¼Œè¿™æ ·å¯ä»¥åŠ å¿«é€Ÿåº¦ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥ä¸ç”¨éå†æ•´ä¸ªæ ‘ï¼Œå¯ä»¥åœ¨æ‰¾åˆ°ç­”æ¡ˆååœæ­¢ã€‚</p><p><a href="https://pic.leetcode-cn.com/25159a5137867644b75f203ee1917645d2cd454d8f4871e371d7edfa67bef083-file_1579413216176" target="_blank" rel="noopener">è¿­ä»£</a></p><details>    <summary>è¿­ä»£python</summary><figure class="highlight python"><figcaption><span>[solution2-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kthSmallest</span><span class="params">(self, root, k)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :type k: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        stack = []</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">            <span class="keyword">while</span> root:</span><br><span class="line">                stack.append(root)</span><br><span class="line">                root = root.left</span><br><span class="line">            root = stack.pop()</span><br><span class="line">            k -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> k:</span><br><span class="line">                <span class="keyword">return</span> root.val</span><br><span class="line">            root = root.right</span><br></pre></td></tr></table></figure></details><details>    <summary>è¿­ä»£java</summary><figure class="highlight java"><figcaption><span>[solution2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(TreeNode root, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    LinkedList&lt;TreeNode&gt; stack = <span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">      <span class="keyword">while</span> (root != <span class="keyword">null</span>) &#123;</span><br><span class="line">        stack.add(root);</span><br><span class="line">        root = root.left;</span><br><span class="line">      &#125;</span><br><span class="line">      root = stack.removeLast();</span><br><span class="line">      <span class="keyword">if</span> (--k == <span class="number">0</span>) <span class="keyword">return</span> root.val;</span><br><span class="line">      root = root.right;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(H+k) ï¼Œå…¶ä¸­ <em>H</em> æŒ‡çš„æ˜¯æ ‘çš„é«˜åº¦ï¼Œç”±äºæˆ‘ä»¬å¼€å§‹éå†ä¹‹å‰ï¼Œè¦å…ˆå‘ä¸‹è¾¾åˆ°å¶ï¼Œå½“æ ‘æ˜¯ä¸€ä¸ªå¹³è¡¡æ ‘æ—¶ï¼šå¤æ‚åº¦ä¸º O(logN+k) ã€‚å½“æ ‘æ˜¯ä¸€ä¸ªä¸å¹³è¡¡æ ‘æ—¶ï¼šå¤æ‚åº¦ä¸ºO(N+k) ï¼Œæ­¤æ—¶æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½åœ¨å·¦å­æ ‘ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼šO(H+k)  ã€‚å½“æ ‘æ˜¯ä¸€ä¸ªå¹³è¡¡æ ‘æ—¶ï¼šO(logN+k) ã€‚å½“æ ‘æ˜¯ä¸€ä¸ªéå¹³è¡¡æ ‘æ—¶ï¼šO(N+k) ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•° kthSmallest æ¥æŸ¥æ‰¾å…¶ä¸­ç¬¬ k ä¸ªæœ€å°çš„å…ƒç´ ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
  </entry>
  
  <entry>
    <title>380. å¸¸æ•°æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ </title>
    <link href="http://yoursite.com/2020/08/21/380.%20%E5%B8%B8%E6%95%B0%E6%97%B6%E9%97%B4%E6%8F%92%E5%85%A5%E3%80%81%E5%88%A0%E9%99%A4%E5%92%8C%E8%8E%B7%E5%8F%96%E9%9A%8F%E6%9C%BA%E5%85%83%E7%B4%A0/"/>
    <id>http://yoursite.com/2020/08/21/380. å¸¸æ•°æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ /</id>
    <published>2020-08-21T09:26:12.000Z</published>
    <updated>2020-08-22T05:41:24.660Z</updated>
    
    <content type="html"><![CDATA[<p>è®¾è®¡ä¸€ä¸ªæ”¯æŒåœ¨å¹³å‡æ—¶é—´å¤æ‚åº¦ O(1)ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œçš„æ•°æ®ç»“æ„ã€‚</p><a id="more"></a><p>æ“ä½œ:</p><pre><code>insert(val)ï¼šå½“å…ƒç´  val ä¸å­˜åœ¨æ—¶ï¼Œå‘é›†åˆä¸­æ’å…¥è¯¥é¡¹ã€‚remove(val)ï¼šå…ƒç´  val å­˜åœ¨æ—¶ï¼Œä»é›†åˆä¸­ç§»é™¤è¯¥é¡¹ã€‚getRandomï¼šéšæœºè¿”å›ç°æœ‰é›†åˆä¸­çš„ä¸€é¡¹ã€‚æ¯ä¸ªå…ƒç´ åº”è¯¥æœ‰ç›¸åŒçš„æ¦‚ç‡è¢«è¿”å›ã€‚</code></pre><p>ç¤ºä¾‹ :</p><pre><code>// åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„é›†åˆã€‚RandomizedSet randomSet = new RandomizedSet();// å‘é›†åˆä¸­æ’å…¥ 1 ã€‚è¿”å› true è¡¨ç¤º 1 è¢«æˆåŠŸåœ°æ’å…¥ã€‚randomSet.insert(1);// è¿”å› false ï¼Œè¡¨ç¤ºé›†åˆä¸­ä¸å­˜åœ¨ 2 ã€‚randomSet.remove(2);// å‘é›†åˆä¸­æ’å…¥ 2 ã€‚è¿”å› true ã€‚é›†åˆç°åœ¨åŒ…å« [1,2] ã€‚randomSet.insert(2);// getRandom åº”éšæœºè¿”å› 1 æˆ– 2 ã€‚randomSet.getRandom();// ä»é›†åˆä¸­ç§»é™¤ 1 ï¼Œè¿”å› true ã€‚é›†åˆç°åœ¨åŒ…å« [2] ã€‚randomSet.remove(1);// 2 å·²åœ¨é›†åˆä¸­ï¼Œæ‰€ä»¥è¿”å› false ã€‚randomSet.insert(2);// ç”±äº 2 æ˜¯é›†åˆä¸­å”¯ä¸€çš„æ•°å­—ï¼ŒgetRandom æ€»æ˜¯è¿”å› 2 ã€‚randomSet.getRandom();</code></pre><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>æˆ‘ä»¬éœ€è¦åœ¨å¹³å‡å¤æ‚åº¦ä¸º  O(1)  å®ç°ä»¥ä¸‹æ“ä½œï¼š</p><ol><li><code>insert</code></li><li><code>remove</code></li><li><code>getRadom</code></li></ol><p>è®©æˆ‘ä»¬æƒ³æƒ³å¦‚ä½•å®ç°å®ƒã€‚ä» <code>insert</code> å¼€å§‹ï¼Œæˆ‘ä»¬å…·æœ‰ä¸¤ä¸ªå¹³å‡æ’å…¥æ—¶é—´ä¸º O(1)çš„é€‰æ‹©ï¼š</p><ul><li>å“ˆå¸Œè¡¨ï¼šJava ä¸­ä¸º <code>HashMap</code>ï¼ŒPython ä¸­ä¸º <code>dictionary</code>ã€‚</li><li>åŠ¨æ€æ•°ç»„ï¼šJava ä¸­ä¸º <code>ArrayList</code>ï¼ŒPython ä¸­ä¸º <code>list</code>ã€‚</li></ul><p>è®©æˆ‘ä»¬ä¸€ä¸ªä¸ªè¿›è¡Œæ€è€ƒï¼Œè™½ç„¶å“ˆå¸Œè¡¨æä¾›å¸¸æ•°æ—¶é—´çš„æ’å…¥å’Œåˆ é™¤ï¼Œä½†æ˜¯å®ç° <code>getRandom</code> æ—¶ä¼šå‡ºç°é—®é¢˜ã€‚</p><p><code>getRandom</code> çš„æ€æƒ³æ˜¯é€‰æ‹©ä¸€ä¸ªéšæœºç´¢å¼•ï¼Œç„¶åä½¿ç”¨è¯¥ç´¢å¼•è¿”å›ä¸€ä¸ªå…ƒç´ ã€‚è€Œå“ˆå¸Œè¡¨ä¸­æ²¡æœ‰ç´¢å¼•ï¼Œå› æ­¤è¦è·å¾—çœŸæ­£çš„éšæœºå€¼ï¼Œåˆ™è¦å°†å“ˆå¸Œè¡¨ä¸­çš„é”®è½¬æ¢ä¸ºåˆ—è¡¨ï¼Œè¿™éœ€è¦çº¿æ€§æ—¶é—´ã€‚è§£å†³çš„æ–¹æ³•æ˜¯ç”¨ä¸€ä¸ªåˆ—è¡¨å­˜å‚¨å€¼ï¼Œå¹¶åœ¨è¯¥åˆ—è¡¨ä¸­å®ç°å¸¸æ•°æ—¶é—´çš„ <code>getRandom</code>ã€‚</p><p>åˆ—è¡¨æœ‰ç´¢å¼•å¯ä»¥å®ç°å¸¸æ•°æ—¶é—´çš„ <code>insert</code> å’Œ <code>getRandom</code>ï¼Œåˆ™æ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯å¦‚ä½•å®ç°å¸¸æ•°æ—¶é—´çš„ <code>remove</code>ã€‚</p><p>åˆ é™¤ä»»æ„ç´¢å¼•å…ƒç´ éœ€è¦çº¿æ€§æ—¶é—´ï¼Œè¿™é‡Œçš„è§£å†³æ–¹æ¡ˆæ˜¯æ€»æ˜¯åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ã€‚</p><ul><li>å°†è¦åˆ é™¤å…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢ã€‚</li><li>å°†æœ€åä¸€ä¸ªå…ƒç´ åˆ é™¤ã€‚</li></ul><p>ä¸ºæ­¤ï¼Œå¿…é¡»åœ¨å¸¸æ•°æ—¶é—´è·å–åˆ°è¦åˆ é™¤å…ƒç´ çš„ç´¢å¼•ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥å­˜å‚¨å€¼åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æ•°æ®ç»“æ„ï¼š</p><ul><li>åŠ¨æ€æ•°ç»„å­˜å‚¨å…ƒç´ å€¼</li><li>å“ˆå¸Œè¡¨å­˜å‚¨å­˜å‚¨å€¼åˆ°ç´¢å¼•çš„æ˜ å°„ã€‚</li></ul><h1 id="æ–¹æ³•ï¼šå“ˆå¸Œè¡¨-åŠ¨æ€æ•°ç»„"><a href="#æ–¹æ³•ï¼šå“ˆå¸Œè¡¨-åŠ¨æ€æ•°ç»„" class="headerlink" title="æ–¹æ³•ï¼šå“ˆå¸Œè¡¨ + åŠ¨æ€æ•°ç»„"></a>æ–¹æ³•ï¼šå“ˆå¸Œè¡¨ + åŠ¨æ€æ•°ç»„</h1><h2 id="Insert"><a href="#Insert" class="headerlink" title="Insert:"></a><strong>Insert:</strong></h2><ul><li>æ·»åŠ å…ƒç´ åˆ°åŠ¨æ€æ•°ç»„ã€‚</li><li>åœ¨å“ˆå¸Œè¡¨ä¸­æ·»åŠ å€¼åˆ°ç´¢å¼•çš„æ˜ å°„</li></ul><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMubGVldGNvZGUtY24uY29tL0ZpZ3VyZXMvMzgwL2lzZXJ0LnBuZw?x-oss-process=image/format,png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><details>    <summary>å“ˆå¸Œè¡¨ + åŠ¨æ€æ•°ç»„python</summary><figure class="highlight python"><figcaption><span>[insert-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert</span><span class="params">(self, val: int)</span> -&gt; bool:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Inserts a value to the set. Returns true if the set did not already contain the specified element.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> val <span class="keyword">in</span> self.dict:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    self.dict[val] = len(self.list)</span><br><span class="line">    self.list.append(val)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">True</span></span><br></pre></td></tr></table></figure></details><details>    <summary>å“ˆå¸Œè¡¨ + åŠ¨æ€æ•°ç»„java</summary><figure class="highlight java"><figcaption><span>[insert-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Inserts a value to the set. Returns true if the set did not already contain the specified element. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (dict.containsKey(val)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    </span><br><span class="line">  dict.put(val, list.size());</span><br><span class="line">  list.add(list.size(), val);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="remove"><a href="#remove" class="headerlink" title="remove:"></a><strong>remove:</strong></h2><ul><li>åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾è¦åˆ é™¤å…ƒç´ çš„ç´¢å¼•ã€‚</li><li>å°†è¦åˆ é™¤å…ƒç´ ä¸æœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢ã€‚</li><li>åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li><li>æ›´æ–°å“ˆå¸Œè¡¨ä¸­çš„å¯¹åº”å…³ç³»ã€‚</li></ul><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMubGVldGNvZGUtY24uY29tL0ZpZ3VyZXMvMzgwL2RlbGV0ZS5wbmc?x-oss-process=image/format,png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><details>    <summary>å“ˆå¸Œè¡¨ + åŠ¨æ€æ•°ç»„python</summary><figure class="highlight python"><figcaption><span>[remove-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">remove</span><span class="params">(self, val: int)</span> -&gt; bool:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Removes a value from the set. Returns true if the set contained the specified element.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> val <span class="keyword">in</span> self.dict:</span><br><span class="line">        <span class="comment"># move the last element to the place idx of the element to delete</span></span><br><span class="line">        last_element, idx = self.list[<span class="number">-1</span>], self.dict[val]</span><br><span class="line">        self.list[idx], self.dict[last_element] = last_element, idx</span><br><span class="line">        <span class="comment"># delete the last element</span></span><br><span class="line">        self.list.pop()</span><br><span class="line">        <span class="keyword">del</span> self.dict[val]</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure></details><details>    <summary>å“ˆå¸Œè¡¨ + åŠ¨æ€æ•°ç»„java</summary><figure class="highlight java"><figcaption><span>[remove-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Removes a value from the set. Returns true if the set contained the specified element. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (! dict.containsKey(val)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// move the last element to the place idx of the element to delete</span></span><br><span class="line">  <span class="keyword">int</span> lastElement = list.get(list.size() - <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">int</span> idx = dict.get(val);</span><br><span class="line">  list.set(idx, lastElement);</span><br><span class="line">  dict.put(lastElement, idx);</span><br><span class="line">  <span class="comment">// delete the last element</span></span><br><span class="line">  list.remove(list.size() - <span class="number">1</span>);</span><br><span class="line">  dict.remove(val);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="getRandomï¼š"><a href="#getRandomï¼š" class="headerlink" title="getRandomï¼š"></a><strong>getRandomï¼š</strong></h2><p>å€ŸåŠ© Python ä¸­çš„ <code>random.choice</code> å’Œ Java ä¸­ çš„ <code>Random</code> å®ç°ã€‚</p><details>    <summary>python</summary><figure class="highlight python"><figcaption><span>[getRandom-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getRandom</span><span class="params">(self)</span> -&gt; int:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Get a random element from the set.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">return</span> choice(self.list)</span><br></pre></td></tr></table></figure></details><details>    <summary>java</summary><figure class="highlight java"><figcaption><span>[getRandom-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Get a random element from the set. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> list.get(rand.nextInt(list.size()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="å®Œæ•´ä»£ç ï¼š"><a href="#å®Œæ•´ä»£ç ï¼š" class="headerlink" title="å®Œæ•´ä»£ç ï¼š"></a><strong>å®Œæ•´ä»£ç ï¼š</strong></h2><details>    <summary>python</summary><figure class="highlight python"><figcaption><span>[solution1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> choice</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomizedSet</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Initialize your data structure here.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.dict = &#123;&#125;</span><br><span class="line">        self.list = []</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span><span class="params">(self, val: int)</span> -&gt; bool:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Inserts a value to the set. Returns true if the set did not already contain the specified element.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> val <span class="keyword">in</span> self.dict:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        self.dict[val] = len(self.list)</span><br><span class="line">        self.list.append(val)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">remove</span><span class="params">(self, val: int)</span> -&gt; bool:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Removes a value from the set. Returns true if the set contained the specified element.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> val <span class="keyword">in</span> self.dict:</span><br><span class="line">            <span class="comment"># move the last element to the place idx of the element to delete</span></span><br><span class="line">            last_element, idx = self.list[<span class="number">-1</span>], self.dict[val]</span><br><span class="line">            self.list[idx], self.dict[last_element] = last_element, idx</span><br><span class="line">            <span class="comment"># delete the last element</span></span><br><span class="line">            self.list.pop()</span><br><span class="line">            <span class="keyword">del</span> self.dict[val]</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getRandom</span><span class="params">(self)</span> -&gt; int:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Get a random element from the set.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> choice(self.list)</span><br></pre></td></tr></table></figure></details><details>    <summary>java</summary><figure class="highlight java"><figcaption><span>[solution1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomizedSet</span> </span>&#123;</span><br><span class="line">  Map&lt;Integer, Integer&gt; dict;</span><br><span class="line">  List&lt;Integer&gt; list;</span><br><span class="line">  Random rand = <span class="keyword">new</span> Random();</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">RandomizedSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    dict = <span class="keyword">new</span> HashMap();</span><br><span class="line">    list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Inserts a value to the set. Returns true if the set did not already contain the specified element. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (dict.containsKey(val)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    dict.put(val, list.size());</span><br><span class="line">    list.add(list.size(), val);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Removes a value from the set. Returns true if the set contained the specified element. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (! dict.containsKey(val)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// move the last element to the place idx of the element to delete</span></span><br><span class="line">    <span class="keyword">int</span> lastElement = list.get(list.size() - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> idx = dict.get(val);</span><br><span class="line">    list.set(idx, lastElement);</span><br><span class="line">    dict.put(lastElement, idx);</span><br><span class="line">    <span class="comment">// delete the last element</span></span><br><span class="line">    list.remove(list.size() - <span class="number">1</span>);</span><br><span class="line">    dict.remove(val);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Get a random element from the set. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> list.get(rand.nextInt(list.size()));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<code>getRandom</code> æ—¶é—´å¤æ‚åº¦ä¸º  O(1)ï¼Œ<code>insert</code> å’Œ <code>remove</code> å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º  O(1) ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ä¸º  O(N) å½“å…ƒç´ æ•°é‡è¶…è¿‡å½“å‰åˆ†é…çš„åŠ¨æ€æ•°ç»„å’Œå“ˆå¸Œè¡¨çš„å®¹é‡å¯¼è‡´ç©ºé—´é‡æ–°åˆ†é…æ—¶ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(N)*ï¼Œåœ¨åŠ¨æ€æ•°ç»„å’Œå“ˆå¸Œè¡¨åˆ†åˆ«å­˜å‚¨äº† *N</em> ä¸ªå…ƒç´ çš„ä¿¡æ¯ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®¾è®¡ä¸€ä¸ªæ”¯æŒåœ¨å¹³å‡æ—¶é—´å¤æ‚åº¦ O(1)ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œçš„æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Design" scheme="http://yoursite.com/tags/Design/"/>
    
  </entry>
  
  <entry>
    <title>454. å››æ•°ç›¸åŠ  II</title>
    <link href="http://yoursite.com/2020/08/21/454.%20%E5%9B%9B%E6%95%B0%E7%9B%B8%E5%8A%A0%20II/"/>
    <id>http://yoursite.com/2020/08/21/454. å››æ•°ç›¸åŠ  II/</id>
    <published>2020-08-21T07:34:12.000Z</published>
    <updated>2020-08-21T09:15:42.339Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šå››ä¸ªåŒ…å«æ•´æ•°çš„æ•°ç»„åˆ—è¡¨ A , B , C , D ,è®¡ç®—æœ‰å¤šå°‘ä¸ªå…ƒç»„ (i, j, k, l) ï¼Œä½¿å¾— A[i] + B[j] + C[k] + D[l] = 0ã€‚</p><a id="more"></a><p>ä¸ºäº†ä½¿é—®é¢˜ç®€å•åŒ–ï¼Œæ‰€æœ‰çš„ A, B, C, D å…·æœ‰ç›¸åŒçš„é•¿åº¦ Nï¼Œä¸” 0 â‰¤ N â‰¤ 500 ã€‚æ‰€æœ‰æ•´æ•°çš„èŒƒå›´åœ¨ -228 åˆ° 228 - 1 ä¹‹é—´ï¼Œæœ€ç»ˆç»“æœä¸ä¼šè¶…è¿‡ 231 - 1 ã€‚</p><p>ä¾‹å¦‚:</p><pre><code>è¾“å…¥:A = [ 1, 2]B = [-2,-1]C = [-1, 2]D = [ 0, 2]è¾“å‡º:2è§£é‡Š:ä¸¤ä¸ªå…ƒç»„å¦‚ä¸‹:1. (0, 0, 0, 1) -&gt; A[0] + B[0] + C[0] + D[1] = 1 + (-2) + (-1) + 2 = 02. (1, 1, 0, 0) -&gt; A[1] + B[1] + C[0] + D[0] = 2 + (-1) + (-1) + 0 = 0</code></pre><h1 id="mapå‡½æ•°ä»‹ç»"><a href="#mapå‡½æ•°ä»‹ç»" class="headerlink" title="mapå‡½æ•°ä»‹ç»"></a>mapå‡½æ•°ä»‹ç»</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å½“Mapé›†åˆä¸­æœ‰è¿™ä¸ªkeyæ—¶ï¼Œå°±ä½¿ç”¨è¿™ä¸ªkeyå€¼ï¼Œå¦‚æœæ²¡æœ‰å°±ä½¿ç”¨é»˜è®¤å€¼defaultValue</span></span><br><span class="line"><span class="function"><span class="keyword">default</span> V <span class="title">getOrDefault</span><span class="params">(Object key, V defaultValue)</span></span></span><br><span class="line"><span class="function"><span class="comment">//å¦‚æœkeyå€¼å·²å­˜åœ¨ï¼Œåˆ™ä¸æ›¿æ¢å¯¹åº”çš„value</span></span></span><br><span class="line"><span class="function">V <span class="title">putIfAbsent</span><span class="params">(K key, V value)</span></span></span><br></pre></td></tr></table></figure><h1 id="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨"><a href="#æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨"></a>æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨</h1><p><strong>æ€è·¯ï¼š</strong></p><p>ä¸€. é‡‡ç”¨åˆ†ä¸ºä¸¤ç»„ï¼ŒHashMapå­˜ä¸€ç»„ï¼Œå¦ä¸€ç»„å’ŒHashMapè¿›è¡Œæ¯”å¯¹ã€‚</p><p>äºŒ. è¿™æ ·çš„è¯æƒ…å†µå°±å¯ä»¥åˆ†ä¸ºä¸‰ç§ï¼š</p><pre><code>1. HashMapå­˜ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚Aã€‚ç„¶åè®¡ç®—ä¸‰ä¸ªæ•°ç»„ä¹‹å’Œï¼Œå¦‚BCDã€‚æ—¶é—´å¤æ‚åº¦ä¸ºï¼šO(n)+O(n^3),å¾—åˆ°O(n^3).2. HashMapå­˜ä¸‰ä¸ªæ•°ç»„ä¹‹å’Œï¼Œå¦‚ABCã€‚ç„¶åè®¡ç®—ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚Dã€‚æ—¶é—´å¤æ‚åº¦ä¸ºï¼šO(n^3)+O(n),å¾—åˆ°O(n^3).3. HashMapå­˜ä¸¤ä¸ªæ•°ç»„ä¹‹å’Œï¼Œå¦‚ABã€‚ç„¶åè®¡ç®—ä¸¤ä¸ªæ•°ç»„ä¹‹å’Œï¼Œå¦‚CDã€‚æ—¶é—´å¤æ‚åº¦ä¸ºï¼šO(n^2)+O(n^2),å¾—åˆ°O(n^2).</code></pre><p>ä¸‰.æ ¹æ®ç¬¬äºŒç‚¹æˆ‘ä»¬å¯ä»¥å¾—å‡ºè¦å­˜ä¸¤ä¸ªæ•°ç»„ç®—ä¸¤ä¸ªæ•°ç»„ã€‚</p><p>å››.æˆ‘ä»¬ä»¥å­˜ABä¸¤æ•°ç»„ä¹‹å’Œä¸ºä¾‹ã€‚é¦–å…ˆæ±‚å‡ºAå’ŒBä»»æ„ä¸¤æ•°ä¹‹å’ŒsumABï¼Œä»¥sumABä¸ºkeyï¼ŒsumABå‡ºç°çš„æ¬¡æ•°ä¸ºvalueï¼Œå­˜å…¥hashmapä¸­ã€‚<br>ç„¶åè®¡ç®—Cå’ŒDä¸­ä»»æ„ä¸¤æ•°ä¹‹å’Œçš„ç›¸åæ•°sumCDï¼Œåœ¨hashmapä¸­æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨keyä¸ºsumCDã€‚<br>ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO(n2)ã€‚</p><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><details>    <summary>java</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">fourSumCount</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span>[] B, <span class="keyword">int</span>[] C, <span class="keyword">int</span>[] D)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    Map&lt;Integer, Integer&gt; map1 = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> a : A) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> b : B) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum1 = a + b;</span><br><span class="line">            map1.put(sum1, map1.getOrDefault(sum1, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> c : C) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> d : D) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum2 = c + d;</span><br><span class="line">            <span class="keyword">if</span>(map1.containsKey(-sum2))  res += map1.get(-sum2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾</h1><p>1ï¼‰æ±‚å’Œæ³•</p><p>Aä¸Bæ‰€æœ‰å…ƒç´ æ±‚å’Œï¼Œå¾—åˆ°æ•°ç»„firstï¼›</p><p>Cä¸Dæ‰€æœ‰å…ƒç´ æ±‚å’Œï¼Œå¾—åˆ°æ•°ç»„secondï¼š</p><p>2ï¼‰å¯¹secondè¿›è¡Œæ’åºï¼›</p><p>3ï¼‰é’ˆå¯¹firstä¸­æ•°ç»„å…ƒç´ *-1ï¼Œåœ¨secondæ•°ç»„ä¸­éå†ï¼Œç”±äºå¯èƒ½å­˜åœ¨å¤šä¸ªï¼Œå› æ­¤æˆ‘ä»¬è¦è·å¾—ä¸Šè¾¹ç•Œå’Œä¸‹è¾¹ç•Œ</p><p>å¯ä»¥ä½¿ç”¨lower_bound å’Œupper_bound</p><p>ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨equal_range</p><details>    <summary>C++</summary><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">fourSumCount</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;A, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;B, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;C, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;D)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; firstvec;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; secondvec;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; A.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; A.size(); j++) &#123;</span><br><span class="line">                firstvec.push_back(A[i] + B[j]);</span><br><span class="line">                secondvec.push_back(C[i] + D[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        sort(secondvec.begin(), secondvec.end());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; firstvec.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> findvalue = firstvec[i] * (<span class="number">-1</span>);</span><br><span class="line">            pair&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator&gt; range = equal_range(secondvec.begin(), secondvec.end(), findvalue);</span><br><span class="line">            result += range.second - range.first;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šå››ä¸ªåŒ…å«æ•´æ•°çš„æ•°ç»„åˆ—è¡¨ A , B , C , D ,è®¡ç®—æœ‰å¤šå°‘ä¸ªå…ƒç»„ (i, j, k, l) ï¼Œä½¿å¾— A[i] + B[j] + C[k] + D[l] = 0ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
  </entry>
  
  <entry>
    <title>171. Excelè¡¨åˆ—åºå·</title>
    <link href="http://yoursite.com/2020/08/21/Excel%E8%A1%A8%E5%88%97%E5%BA%8F%E5%8F%B7/"/>
    <id>http://yoursite.com/2020/08/21/Excelè¡¨åˆ—åºå·/</id>
    <published>2020-08-21T07:33:12.000Z</published>
    <updated>2020-08-21T09:16:24.239Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªExcelè¡¨æ ¼ä¸­çš„åˆ—åç§°ï¼Œè¿”å›å…¶ç›¸åº”çš„åˆ—åºå·ã€‚</p><a id="more"></a><p>ä¾‹å¦‚ï¼Œ</p><pre><code>A -&gt; 1B -&gt; 2C -&gt; 3...Z -&gt; 26AA -&gt; 27AB -&gt; 28 ...</code></pre><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: &quot;A&quot;è¾“å‡º: 1</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: &quot;AB&quot;è¾“å‡º: 28</code></pre><p>ç¤ºä¾‹ 3:</p><pre><code>è¾“å…¥: &quot;ZY&quot;è¾“å‡º: 701</code></pre><p>è¿™é“é¢˜å¾ˆç®€å•</p><h1 id="è§£é¢˜æ–¹æ¡ˆ"><a href="#è§£é¢˜æ–¹æ¡ˆ" class="headerlink" title="è§£é¢˜æ–¹æ¡ˆ"></a>è§£é¢˜æ–¹æ¡ˆ</h1><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ul><li>æ ‡ç­¾ï¼šå­—ç¬¦ä¸²éå†ï¼Œè¿›åˆ¶è½¬æ¢</li><li>åˆå§‹åŒ–ç»“æœ<code>ans = 0</code>ï¼Œéå†æ—¶å°†æ¯ä¸ªå­—æ¯ä¸Aåšå‡æ³•ï¼Œå› ä¸ºAè¡¨ç¤º1ï¼Œæ‰€ä»¥å‡æ³•åéœ€è¦æ¯ä¸ªæ•°åŠ 1ï¼Œè®¡ç®—å…¶ä»£è¡¨çš„æ•°å€¼<code>num = å­—æ¯ - â€˜Aâ€™ + 1</code></li><li>å› ä¸ºæœ‰26ä¸ªå­—æ¯ï¼Œæ‰€ä»¥ç›¸å½“äº26è¿›åˆ¶ï¼Œæ¯26ä¸ªæ•°åˆ™å‘å‰è¿›ä¸€ä½</li><li>æ‰€ä»¥æ¯éå†ä¸€ä½åˆ™<code>ans = ans * 26 + num</code></li><li>ä»¥ZYä¸ºä¾‹ï¼ŒZçš„å€¼ä¸º26ï¼ŒYçš„å€¼ä¸º25ï¼Œåˆ™ç»“æœä¸º<code>26 * 26 + 25=701</code></li><li>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</li></ul><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">titleToNumber</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;s.length();i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> num = s.charAt(i) - <span class="string">'A'</span> + <span class="number">1</span>;</span><br><span class="line">            ans = ans * <span class="number">26</span> + num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç”»è§£"><a href="#ç”»è§£" class="headerlink" title="ç”»è§£"></a>ç”»è§£</h2><p> <a href="https://pic.leetcode-cn.com/97416a122f3315e3a0eb9951a1d742e7c1734d915f4b96099610a92629899d04-frame_00001.png" target="_blank" rel="noopener">frame_00001.png</a></p><p> <a href="https://pic.leetcode-cn.com/a5e8e39fa19491e3e1d82c6aba3dec24e080c368d0400bf57012548b0fdb2af4-frame_00002.png" target="_blank" rel="noopener">frame_00002.png</a> </p><p> <a href="https://pic.leetcode-cn.com/da62003ebc140532fe1e42ff2c46d5c920101d6de50fd3c6910eee1e9d9c7df5-frame_00003.png" target="_blank" rel="noopener">frame_00003.png</a> </p><p> <a href="https://pic.leetcode-cn.com/4267220aeef6e659dcae4fa7b59d63c68efdb7b0f748d431d8acca4af278de65-frame_00004.png" target="_blank" rel="noopener">frame_00004.png</a> </p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªExcelè¡¨æ ¼ä¸­çš„åˆ—åç§°ï¼Œè¿”å›å…¶ç›¸åº”çš„åˆ—åºå·ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>328. å¥‡å¶é“¾è¡¨</title>
    <link href="http://yoursite.com/2020/08/21/328.%20%E5%A5%87%E5%81%B6%E9%93%BE%E8%A1%A8/"/>
    <id>http://yoursite.com/2020/08/21/328. å¥‡å¶é“¾è¡¨/</id>
    <published>2020-08-21T03:45:12.000Z</published>
    <updated>2020-08-21T07:22:45.846Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼ŒæŠŠæ‰€æœ‰çš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹åˆ†åˆ«æ’åœ¨ä¸€èµ·ã€‚è¯·æ³¨æ„ï¼Œè¿™é‡Œçš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹æŒ‡çš„æ˜¯èŠ‚ç‚¹ç¼–å·çš„å¥‡å¶æ€§ï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹çš„å€¼çš„å¥‡å¶æ€§ã€‚</p><a id="more"></a><p>è¯·å°è¯•ä½¿ç”¨åŸåœ°ç®—æ³•å®Œæˆã€‚ä½ çš„ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦åº”ä¸º O(1)ï¼Œæ—¶é—´å¤æ‚åº¦åº”ä¸º O(nodes)ï¼Œnodes ä¸ºèŠ‚ç‚¹æ€»æ•°ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULLè¾“å‡º: 1-&gt;3-&gt;5-&gt;2-&gt;4-&gt;NULL</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: 2-&gt;1-&gt;3-&gt;5-&gt;6-&gt;4-&gt;7-&gt;NULL è¾“å‡º: 2-&gt;3-&gt;6-&gt;7-&gt;1-&gt;5-&gt;4-&gt;NULL</code></pre><p>è¯´æ˜:</p><ul><li>åº”å½“ä¿æŒå¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹çš„ç›¸å¯¹é¡ºåºã€‚</li><li>é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹è§†ä¸ºå¥‡æ•°èŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªèŠ‚ç‚¹è§†ä¸ºå¶æ•°èŠ‚ç‚¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li></ul><h1 id="è§£æ³•"><a href="#è§£æ³•" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h1><p>æˆ‘ä¸€å¼€å§‹æƒ³ç”¨å¿«æ…¢æŒ‡é’ˆæ¥è§£å†³ï¼Œä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„æ–¹æ³•æ¥äº¤æ¢å¥‡å¶èŠ‚ç‚¹ã€‚æ‰€ä»¥è¿˜æ˜¯é‡‡ç”¨ä¸‹é¢çš„æ–¹æ³•ã€‚</p><p><strong>æƒ³æ³•</strong></p><p>å°†å¥‡èŠ‚ç‚¹æ”¾åœ¨ä¸€ä¸ªé“¾è¡¨é‡Œï¼Œå¶é“¾è¡¨æ”¾åœ¨å¦ä¸€ä¸ªé“¾è¡¨é‡Œã€‚ç„¶åæŠŠå¶é“¾è¡¨æ¥åœ¨å¥‡é“¾è¡¨çš„å°¾éƒ¨ã€‚</p><p><strong>ç®—æ³•</strong></p><p>è¿™ä¸ªè§£æ³•éå¸¸ç¬¦åˆç›´è§‰æ€è·¯ä¹Ÿå¾ˆç®€å•ã€‚ä½†æ˜¯è¦å†™ä¸€ä¸ªç²¾ç¡®ä¸”æ²¡æœ‰ bug çš„ä»£ç è¿˜æ˜¯å¾ˆè´¹ä¸€ç•ªåŠŸå¤«ï¼Œæƒ³è¦é¿å…ç©ºæŒ‡é’ˆå’Œå¾ªç¯é“¾è¡¨çš„æƒ…å†µéœ€è¦è®¤çœŸè€ƒè™‘è¾¹ç•Œæ¡ä»¶ã€‚</p><p>ä¸€ä¸ª <code>LinkedList</code> éœ€è¦ä¸€ä¸ªå¤´æŒ‡é’ˆå’Œä¸€ä¸ªå°¾æŒ‡é’ˆæ¥æ”¯æŒåŒç«¯æ“ä½œã€‚æˆ‘ä»¬ç”¨å˜é‡ <code>head</code> å’Œ <code>odd</code> ä¿å­˜å¥‡é“¾è¡¨çš„å¤´å’Œå°¾æŒ‡é’ˆã€‚ <code>evenHead</code> å’Œ <code>even</code> ä¿å­˜å¶é“¾è¡¨çš„å¤´å’Œå°¾æŒ‡é’ˆã€‚ç®—æ³•ä¼šéå†åŸé“¾è¡¨ä¸€æ¬¡å¹¶æŠŠå¥‡èŠ‚ç‚¹æ”¾åˆ°å¥‡é“¾è¡¨é‡Œå»ã€å¶èŠ‚ç‚¹æ”¾åˆ°å¶é“¾è¡¨é‡Œå»ã€‚éå†æ•´ä¸ªé“¾è¡¨æˆ‘ä»¬è‡³å°‘éœ€è¦ä¸€ä¸ªæŒ‡é’ˆä½œä¸ºè¿­ä»£å™¨ã€‚è¿™é‡Œ <code>odd</code> æŒ‡é’ˆå’Œ <code>even</code> æŒ‡é’ˆä¸ä»…ä»…æ˜¯å°¾æŒ‡é’ˆï¼Œä¹Ÿå¯ä»¥æ‰®æ¼”åŸé“¾è¡¨è¿­ä»£å™¨çš„è§’è‰²ã€‚</p><p>è§£å†³é“¾è¡¨é—®é¢˜æœ€å¥½çš„åŠæ³•æ˜¯åœ¨è„‘ä¸­æˆ–è€…çº¸ä¸ŠæŠŠé“¾è¡¨ç”»å‡ºæ¥ã€‚æ¯”æ–¹è¯´ï¼š</p><p><a href="https://pic.leetcode-cn.com/00bd1d974b5a2e6d7d4faf0d5baad1c691f4ed8963cb1b7133d1112bad4c5e86-image.png" target="_blank" rel="noopener">å¥‡å¶é“¾è¡¨çš„ä¾‹å­</a></p><figure class="highlight java"><figcaption><span>[solution-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">oddEvenList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        ListNode odd = head, even = head.next, evenHead = even;</span><br><span class="line">        <span class="keyword">while</span> (even != <span class="keyword">null</span> &amp;&amp; even.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            odd.next = even.next;</span><br><span class="line">            odd = odd.next;</span><br><span class="line">            even.next = odd.next;</span><br><span class="line">            even = even.next;</span><br><span class="line">        &#125;</span><br><span class="line">        odd.next = evenHead;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š <em>O(n)</em> ã€‚æ€»å…±æœ‰ <em>n</em> ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬æ¯ä¸ªéå†ä¸€æ¬¡ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š <em>O(1)</em> ã€‚æˆ‘ä»¬åªéœ€è¦ 4 ä¸ªæŒ‡é’ˆã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªå•é“¾è¡¨ï¼ŒæŠŠæ‰€æœ‰çš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹åˆ†åˆ«æ’åœ¨ä¸€èµ·ã€‚è¯·æ³¨æ„ï¼Œè¿™é‡Œçš„å¥‡æ•°èŠ‚ç‚¹å’Œå¶æ•°èŠ‚ç‚¹æŒ‡çš„æ˜¯èŠ‚ç‚¹ç¼–å·çš„å¥‡å¶æ€§ï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹çš„å€¼çš„å¥‡å¶æ€§ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
  </entry>
  
  <entry>
    <title>237. åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹</title>
    <link href="http://yoursite.com/2020/08/21/237.%20%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E8%8A%82%E7%82%B9/"/>
    <id>http://yoursite.com/2020/08/21/237. åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹/</id>
    <published>2020-08-21T03:12:12.000Z</published>
    <updated>2020-08-21T03:44:57.927Z</updated>
    
    <content type="html"><![CDATA[<p>è¯·ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œä½¿å…¶å¯ä»¥åˆ é™¤æŸä¸ªé“¾è¡¨ä¸­ç»™å®šçš„ï¼ˆéæœ«å°¾ï¼‰èŠ‚ç‚¹ã€‚ä¼ å…¥å‡½æ•°çš„å”¯ä¸€å‚æ•°ä¸º è¦è¢«åˆ é™¤çš„èŠ‚ç‚¹ ã€‚</p><a id="more"></a><p>ç°æœ‰ä¸€ä¸ªé“¾è¡¨ â€“ head = [4,5,1,9]ï¼Œå®ƒå¯ä»¥è¡¨ç¤ºä¸º:</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šhead = [4,5,1,9], node = 5è¾“å‡ºï¼š[4,1,9]è§£é‡Šï¼šç»™å®šä½ é“¾è¡¨ä¸­å€¼ä¸º 5 çš„ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨äº†ä½ çš„å‡½æ•°ä¹‹åï¼Œè¯¥é“¾è¡¨åº”å˜ä¸º 4 -&gt; 1 -&gt; 9.</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šhead = [4,5,1,9], node = 1è¾“å‡ºï¼š[4,5,9]è§£é‡Šï¼šç»™å®šä½ é“¾è¡¨ä¸­å€¼ä¸º 1 çš„ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨äº†ä½ çš„å‡½æ•°ä¹‹åï¼Œè¯¥é“¾è¡¨åº”å˜ä¸º 4 -&gt; 5 -&gt; 9.</code></pre><p>æç¤ºï¼š</p><pre><code>é“¾è¡¨è‡³å°‘åŒ…å«ä¸¤ä¸ªèŠ‚ç‚¹ã€‚é“¾è¡¨ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚ç»™å®šçš„èŠ‚ç‚¹ä¸ºéæœ«å°¾èŠ‚ç‚¹å¹¶ä¸”ä¸€å®šæ˜¯é“¾è¡¨ä¸­çš„ä¸€ä¸ªæœ‰æ•ˆèŠ‚ç‚¹ã€‚ä¸è¦ä»ä½ çš„å‡½æ•°ä¸­è¿”å›ä»»ä½•ç»“æœã€‚</code></pre><h1 id="æ–¹æ³•ï¼šä¸ä¸‹ä¸€ä¸ªèŠ‚ç‚¹äº¤æ¢"><a href="#æ–¹æ³•ï¼šä¸ä¸‹ä¸€ä¸ªèŠ‚ç‚¹äº¤æ¢" class="headerlink" title="æ–¹æ³•ï¼šä¸ä¸‹ä¸€ä¸ªèŠ‚ç‚¹äº¤æ¢"></a>æ–¹æ³•ï¼šä¸ä¸‹ä¸€ä¸ªèŠ‚ç‚¹äº¤æ¢</h1><p>æˆ‘ä¸€å¼€å§‹ç”¨äº†éå†æ•´ä¸ªé“¾è¡¨æœ€åä¸¢å¼ƒå°¾èŠ‚ç‚¹ï¼Œåæ¥å‘ç°å¹¶ä¸éœ€è¦è¿™ä¹ˆéº»çƒ¦</p><p>ä»é“¾è¡¨é‡Œåˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹ <code>node</code> çš„æœ€å¸¸è§æ–¹æ³•æ˜¯ä¿®æ”¹<em>ä¹‹å‰</em>èŠ‚ç‚¹çš„ <code>next</code> æŒ‡é’ˆï¼Œä½¿å…¶æŒ‡å‘<em>ä¹‹å</em>çš„èŠ‚ç‚¹ã€‚</p><p><a href="https://pic.leetcode-cn.com/3579a496897df5321c110bf1301872b6e10c342f5e400ce45d2db0348d00d715-file_1555866623326" target="_blank" rel="noopener">image</a></p><p>å› ä¸ºï¼Œæˆ‘ä»¬æ— æ³•è®¿é—®æˆ‘ä»¬æƒ³è¦åˆ é™¤çš„èŠ‚ç‚¹ <em>ä¹‹å‰</em> çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å§‹ç»ˆä¸èƒ½ä¿®æ”¹è¯¥èŠ‚ç‚¹çš„ <code>next</code> æŒ‡é’ˆã€‚ç›¸åï¼Œæˆ‘ä»¬å¿…é¡»å°†æƒ³è¦åˆ é™¤çš„èŠ‚ç‚¹çš„å€¼æ›¿æ¢ä¸ºå®ƒåé¢èŠ‚ç‚¹ä¸­çš„å€¼ï¼Œç„¶ååˆ é™¤å®ƒä¹‹åçš„èŠ‚ç‚¹ã€‚</p><p><a href="https://pic.leetcode-cn.com/858fae01d89c2080eb7e45a1f9d9a2b2f76e1a5c87815b324fd946e0bd8da495-file_1555866651920" target="_blank" rel="noopener">image</a></p><p><a href="https://pic.leetcode-cn.com/902dc5d3f8c44d3cbc0b6e837711cad2eefc021fd2b9de8dfabc6d478bc779b1-file_1555866680932" target="_blank" rel="noopener">image</a></p><p><a href="https://pic.leetcode-cn.com/2a6409b98dd73d6649fdc6fb984c88690547127467104c3923367be6f8fbc916-file_1555866773685" target="_blank" rel="noopener">image</a></p><p>å› ä¸ºæˆ‘ä»¬çŸ¥é“è¦åˆ é™¤çš„èŠ‚ç‚¹ä¸æ˜¯åˆ—è¡¨çš„æœ«å°¾ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¿è¯è¿™ç§æ–¹æ³•æ˜¯å¯è¡Œçš„ã€‚</p><figure class="highlight java"><figcaption><span>[juoWzFbK-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteNode</span><span class="params">(ListNode node)</span> </span>&#123;</span><br><span class="line">    node.val = node.next.val;</span><br><span class="line">    node.next = node.next.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><p>æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯ï¼š<em>O(1)</em>ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¯·ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œä½¿å…¶å¯ä»¥åˆ é™¤æŸä¸ªé“¾è¡¨ä¸­ç»™å®šçš„ï¼ˆéæœ«å°¾ï¼‰èŠ‚ç‚¹ã€‚ä¼ å…¥å‡½æ•°çš„å”¯ä¸€å‚æ•°ä¸º è¦è¢«åˆ é™¤çš„èŠ‚ç‚¹ ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
  </entry>
  
  <entry>
    <title>234. å›æ–‡é“¾è¡¨</title>
    <link href="http://yoursite.com/2020/08/20/234.%20%E5%9B%9E%E6%96%87%E9%93%BE%E8%A1%A8/"/>
    <id>http://yoursite.com/2020/08/20/234. å›æ–‡é“¾è¡¨/</id>
    <published>2020-08-20T09:53:12.000Z</published>
    <updated>2020-08-21T03:06:08.248Z</updated>
    
    <content type="html"><![CDATA[<p>è¯·åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: 1-&gt;2è¾“å‡º: false</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: 1-&gt;2-&gt;2-&gt;1è¾“å‡º: true</code></pre><p>è¿›é˜¶ï¼š</p><p>ä½ èƒ½å¦ç”¨ O(n) æ—¶é—´å¤æ‚åº¦å’Œ O(1) ç©ºé—´å¤æ‚åº¦è§£å†³æ­¤é¢˜ï¼Ÿ</p><h1 id="è§£é¢˜æ€è·¯ï¼š"><a href="#è§£é¢˜æ€è·¯ï¼š" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h1><ol><li>é‡‡ç”¨å¿«æ…¢ä¸¤ä¸ªæŒ‡é’ˆå»å¯»æ‰¾é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹ï¼›</li><li>æ ¹æ®é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹åè½¬åä¸€åŠçš„é“¾è¡¨ï¼›</li><li>è¿­ä»£æ¯”è¾ƒé“¾è¡¨å‰ä¸€åŠçš„å…ƒç´ å’Œåä¸€åŠçš„å…ƒç´ ï¼Œåˆ¤æ–­èŠ‚ç‚¹çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¾—å‡ºæ˜¯å¦ä¸ºå›æ–‡ã€‚</li></ol><h1 id="å›¾è§£ï¼š"><a href="#å›¾è§£ï¼š" class="headerlink" title="å›¾è§£ï¼š"></a>å›¾è§£ï¼š</h1><p><a href="https://pic.leetcode-cn.com/cb25ad29e4c902e12bfe088a79b491dc8e6ff890786f15ce6b176d5419bcbf71-%E9%93%BE%E8%A1%A8%E5%9B%9E%E6%96%87%E5%A5%87%E6%95%B0.jpeg" target="_blank" rel="noopener">é“¾è¡¨å›æ–‡å¥‡æ•°.jpeg</a></p><p><a href="https://pic.leetcode-cn.com/79a887a172f927142b591a28f2d4638223ee992279f6925ec418e1ce1cbc5c1a-%E9%93%BE%E8%A1%A8%E5%9B%9E%E6%96%87%E5%81%B6%E6%95%B0.jpeg" target="_blank" rel="noopener">é“¾è¡¨å›æ–‡å¶æ•°.jpeg</a></p><h1 id="è§£é¢˜ä»£ç ï¼š"><a href="#è§£é¢˜ä»£ç ï¼š" class="headerlink" title="è§£é¢˜ä»£ç ï¼š"></a>è§£é¢˜ä»£ç ï¼š</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public boolean isPalindrome(ListNode head) &#123;</span><br><span class="line">        if(head == null) return true;</span><br><span class="line"></span><br><span class="line">        ListNode midNode = findMidNode(head);</span><br><span class="line">        ListNode secondHalfHead = reverseLinked(midNode.next);</span><br><span class="line">        ListNode curr1 = head;</span><br><span class="line">        ListNode curr2 = secondHalfHead;</span><br><span class="line"></span><br><span class="line">        boolean palindrome = true;</span><br><span class="line">        while(palindrome &amp;&amp; curr2 != null)&#123;</span><br><span class="line">            if(curr1.val != curr2.val) palindrome = false;</span><br><span class="line">            curr1 = curr1.next;</span><br><span class="line">            curr2 = curr2.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return palindrome;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /* åè½¬é“¾è¡¨ */</span><br><span class="line">    private ListNode reverseLinked(ListNode head)&#123;</span><br><span class="line">        ListNode cur = head;</span><br><span class="line">        ListNode prev = null;</span><br><span class="line">        while(cur != null)&#123;</span><br><span class="line">            ListNode nextTemp = cur.next;</span><br><span class="line">            cur.next = prev;</span><br><span class="line">            prev = cur;</span><br><span class="line">            cur = nextTemp;</span><br><span class="line">        &#125;</span><br><span class="line">        return prev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /* å¿«æ…¢æŒ‡é’ˆå¯»æ‰¾ä¸­é—´èŠ‚ç‚¹ */</span><br><span class="line">    private ListNode findMidNode(ListNode head)&#123;</span><br><span class="line">        ListNode fast = head;</span><br><span class="line">        ListNode low = head;</span><br><span class="line">        while(fast.next != null &amp;&amp; fast.next.next != null)&#123;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">            low = low.next;</span><br><span class="line">        &#125;</span><br><span class="line">        return low;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¯·åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
  </entry>
  
  <entry>
    <title>92. åè½¬é“¾è¡¨II</title>
    <link href="http://yoursite.com/2020/08/19/92.%20%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8II/"/>
    <id>http://yoursite.com/2020/08/19/92. åè½¬é“¾è¡¨II/</id>
    <published>2020-08-19T09:15:12.000Z</published>
    <updated>2020-08-20T09:50:00.006Z</updated>
    
    <content type="html"><![CDATA[<p>åè½¬ä»ä½ç½® m åˆ° n çš„é“¾è¡¨ã€‚è¯·ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®Œæˆåè½¬ã€‚</p><a id="more"></a><p> è¯´æ˜:<br>1 â‰¤ m â‰¤ n â‰¤ é“¾è¡¨é•¿åº¦ã€‚</p><p> ç¤ºä¾‹:</p><p>è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULL, m = 2, n = 4</p><p>è¾“å‡º: 1-&gt;4-&gt;3-&gt;2-&gt;5-&gt;NULL</p><h1 id="æ–¹æ³•ä¸€-é€’å½’"><a href="#æ–¹æ³•ä¸€-é€’å½’" class="headerlink" title="æ–¹æ³•ä¸€: é€’å½’"></a>æ–¹æ³•ä¸€: é€’å½’</h1><p>è¿™ç§æ–¹æ³•å®é™…ä¸Šæ˜¯äº¤æ¢èŠ‚ç‚¹çš„å€¼è€Œéåè½¬é“¾è¡¨çš„æŒ‡é’ˆ</p><p><strong>ç›´è§‰</strong></p><p>ä½¿ç”¨é€’å½’åè½¬é“¾è¡¨çš„æ€è·¯æ¥æºäºåè½¬å­—ç¬¦ä¸²æ—¶ä½¿ç”¨çš„ç±»ä¼¼æ–¹æ³•ã€‚åè½¬å­—ç¬¦ä¸²çš„ä¸€ä¸ªå·¨å¤§ä¼˜åŠ¿æ˜¯å¯ä»¥ä½¿ç”¨ä¸‹æ ‡ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªå¼€å¤´ï¼Œä¸€ä¸ªç»“å°¾ã€‚ä¸æ–­åœ°äº¤æ¢è¿™ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ ï¼Œå¹¶å°†ä¸¤ä¸ªæŒ‡é’ˆå‘ä¸­é—´ç§»åŠ¨ã€‚åœ¨åˆ†æé“¾è¡¨çš„æƒ…å†µå‰ï¼Œå…ˆè®©æˆ‘ä»¬çœ‹çœ‹å­—ç¬¦ä¸²ä¸Šçš„ç¤ºä¾‹ã€‚</p><p><a href="https://pic.leetcode-cn.com/7f6ec0687455cfecce2019fcb560d7066d7e7dfedd46922d3cc96bcbff3c1eb5-image.png" target="_blank" rel="noopener">image.png</a></p><p>åè½¬ç»™å®šé“¾è¡¨çš„ä¸€éƒ¨åˆ†çš„æ€è·¯åŸºäºä¸Šè¿°æ–¹æ³•ã€‚æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªä¸åŒæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘ç¬¬ <em>m</em> ä¸ªç»“ç‚¹ï¼Œå¦ä¸€ä¸ªæŒ‡å‘ç¬¬ <em>n</em> ä¸ªç»“ç‚¹ã€‚ä¸€æ—¦æœ‰äº†è¿™ä¸¤ä¸ªæŒ‡é’ˆï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¸æ–­åœ°äº¤æ¢è¿™ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘ç»“ç‚¹çš„æ•°æ®ï¼Œå¹¶å°†ä¸¤ä¸ªæŒ‡é’ˆç›¸å‘ç§»åŠ¨ï¼Œå°±åƒå­—ç¬¦ä¸²çš„æƒ…å†µé‚£æ ·ã€‚</p><blockquote><p>ç„¶è€Œï¼Œé“¾è¡¨ä¸­æ²¡æœ‰å‘åæŒ‡é’ˆï¼Œä¹Ÿæ²¡æœ‰ä¸‹æ ‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨é€’å½’æ¥ <strong>æ¨¡æ‹Ÿ</strong> å‘åæŒ‡é’ˆã€‚é€’å½’ä¸­çš„å›æº¯å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ¨¡æ‹Ÿä¸€ä¸ªæŒ‡é’ˆä»ç¬¬<em>n</em>ä¸ªç»“ç‚¹å‘ä¸­å¿ƒç§»åŠ¨çš„ç§»åŠ¨è¿‡ç¨‹ã€‚</p></blockquote><p><strong>ç®—æ³•</strong></p><ol><li>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªé€’å½’å‡½æ•°ç”¨äºåè½¬ç»™å®šé“¾è¡¨çš„ä¸€éƒ¨åˆ†ã€‚</li><li>å°†å‡½æ•°è®°ä¸º <code>recurse</code>ã€‚è¯¥å‡½æ•°ä½¿ç”¨ä¸‰ä¸ªå‚æ•°: <code>m</code> ä¸ºåè½¬çš„èµ·ç‚¹, <code>n</code> ä¸ºåè½¬çš„ç»ˆç‚¹, ä»¥åŠä»ç¬¬ <em>n</em> ä¸ªç»“ç‚¹å¼€å§‹ï¼Œéšç€é€’å½’å›æº¯è¿‡ç¨‹å‘åç§»åŠ¨çš„æŒ‡é’ˆ <code>right</code>ã€‚ä¸æ¸…æ¥šçš„è¯ï¼Œå¯ä»¥å‚è€ƒåæ–‡çš„ç¤ºæ„å›¾ã€‚</li><li>æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªæŒ‡é’ˆ <code>left</code>ï¼Œå®ƒä»ç¬¬ <code>m</code> ä¸ªç»“ç‚¹å¼€å§‹å‘å‰ç§»åŠ¨ã€‚åœ¨ <code>Python</code> ä¸­, æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå€¼éšç€é€’å½’çš„è¿›è¡Œè€Œæ”¹å˜ã€‚åœ¨å…¶ä»–å‡½æ•°è°ƒç”¨é€ æˆçš„å˜åŒ–å¯ä»¥æŒç»­çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå¯ä»¥è€ƒè™‘å°†è¯¥æŒ‡é’ˆåŠ ä¸ºå‡½æ•° <code>recurse</code> çš„ä¸€ä¸ªå˜é‡ã€‚</li><li>åœ¨é€’å½’è°ƒç”¨ä¸­ï¼Œç»™å®š <code>m</code>ï¼Œ<code>n</code>ï¼Œå’Œ <code>right</code>, é¦–å…ˆåˆ¤æ–­ <code>n = 1</code>ã€‚ è‹¥åˆ¤æ–­ä¸ºçœŸ, åˆ™ç»“æŸã€‚</li><li>äºæ˜¯ï¼Œå½“ <code>n</code> çš„å€¼è¾¾åˆ° 1 æ—¶ï¼Œæˆ‘ä»¬ä¾¿<strong>å›æº¯</strong>ã€‚è¿™æ—¶ï¼Œ<code>right</code> æŒ‡é’ˆåœ¨æˆ‘ä»¬è¦åè½¬çš„å­é“¾è¡¨ç»“å°¾ï¼Œ<code>left</code> åˆ°è¾¾äº†å­—åˆ—è¡¨çš„å¼€å¤´ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬ç½®æ¢æ•°æ®ï¼Œå¹¶å°† <code>left</code> æŒ‡é’ˆå‰ç§»ï¼š<code>left = left.next</code>ã€‚æˆ‘ä»¬éœ€è¦æ­¤å˜åŒ–åœ¨å›æº¯è¿‡ç¨‹ä¸­ä¿æŒã€‚</li><li>è‡ªæ­¤ï¼Œæ¯å½“æˆ‘ä»¬å›æº¯æ—¶ï¼Œ<code>right</code> æŒ‡é’ˆå‘åç§»ä¸€ä½ã€‚è¿™å°±æ˜¯å‰æ–‡æ‰€è¯´çš„æ¨¡æ‹Ÿã€‚é€šè¿‡å›æº¯æ¨¡æ‹Ÿå‘åç§»åŠ¨ã€‚</li><li>å½“ <code>right == left</code> æˆ–è€… <code>right.next == left</code> æ—¶åœæ­¢äº¤æ¢ã€‚å½“å­é“¾è¡¨çš„é•¿åº¦ä¸ºå¥‡æ•°æ—¶ï¼Œæƒ…å†µä¸ºå‰è€…ï¼›å½“å­é“¾è¡¨é•¿åº¦ä¸ºå¶æ•°æ—¶ä¸ºåè€…ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå…¨å±€ boolean å˜é‡ flag æ¥åœæ­¢äº¤æ¢ã€‚</li></ol><p>ä¸‹é¢æ˜¯ä¸€ç³»åˆ—æ•´ä¸ªç®—æ³•çš„ç¤ºæ„å›¾ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©ä½ ç†è§£æ¸…æ¥šã€‚</p><p><img src="http://pic.leetcode-cn.com/1adc7164bea5cd650af1545682900c792bd37a82df607aeb4f87a233d3eb69cf-image.png" alt="image.png"></p><p>è¿™æ˜¯é€’å½’è¿‡ç¨‹çš„ç¬¬ä¸€æ­¥ã€‚ç»™å®šæ‰€ç”¨é“¾è¡¨ï¼Œ<code>left</code> å’Œ <code>right</code> æŒ‡é’ˆä»é“¾è¡¨çš„ <code>head</code> å¼€å§‹ã€‚ç¬¬ä¸€æ­¥æ˜¯ä»¥æ›´æ–°è¿‡çš„ <code>m</code> å’Œ <code>n</code> è¿›è¡Œé€’å½’è°ƒç”¨ï¼Œæ¢è€Œè¨€ä¹‹ï¼Œå®ƒä»¬çš„å€¼å„è‡ªå‡ 1ã€‚æ­¤å¤–ï¼Œ<code>left</code> å’Œ <code>right</code> æŒ‡é’ˆå‘å‰ç§»åŠ¨ä¸€ä½ã€‚</p><p><a href="https://pic.leetcode-cn.com/162f18666a30ffd98e185da1311f2daa48b087b03d3a9eefeeb9541eafbcd013-image.png" target="_blank" rel="noopener">image.png</a></p><p>æ¥ä¸‹æ¥çš„ä¸¤æ­¥å±•ç¤ºäº† <code>left</code> å’Œ <code>right</code> æŒ‡é’ˆåœ¨é“¾è¡¨ä¸­çš„ç§»åŠ¨ã€‚æ³¨æ„åˆ°åœ¨ç¬¬äºŒæ­¥ä¹‹åï¼Œ<code>left</code> æŒ‡é’ˆæŠµè¾¾äº†ç›®æ ‡ä½ç½®ã€‚å› æ­¤ï¼Œåç»­ä¸å†ç§»åŠ¨ã€‚ä»ç°åœ¨èµ·ï¼Œåªæœ‰ <code>right</code> æŒ‡é’ˆç»§ç»­ç§»åŠ¨ï¼Œç›´åˆ°æŠµè¾¾ç»“ç‚¹ <code>6</code>ã€‚</p><p><a href="https://pic.leetcode-cn.com/4213450e7d9466ddf22f289d5e753df47a94a9a87789312a02de2979ed161718-image.png" target="_blank" rel="noopener">image.png</a></p><p>å¦‚ä½ æ‰€è§ï¼Œåœ¨ç¬¬äº”æ­¥ä¹‹åï¼Œä¸¤ä¸ªæŒ‡é’ˆå‡æŠµè¾¾äº†ç›®æ ‡ä½ç½®ï¼Œå¯ä»¥å¼€å§‹è¿›è¡Œå›æº¯ã€‚æˆ‘ä»¬ä¸å†ç»§ç»­é€’å½’ã€‚å›æº¯è¿‡ç¨‹ä¸­çš„æ“ä½œæ˜¯äº¤æ¢ <code>left</code> å’Œ <code>right</code> ç»“ç‚¹çš„æ•°æ®ã€‚</p><p><a href="https://pic.leetcode-cn.com/36b2ed0c1859c5574a17597070797d8f26b77a9c13a0c3462ea150b1058fbbce-image.png" target="_blank" rel="noopener">image.png</a></p><p>å¦‚ä½ æ‰€è§ï¼Œåœ¨ç¬¬ä¸‰æ­¥ï¼ˆå›æº¯ï¼‰ä¹‹åï¼Œ<code>right</code> æŒ‡é’ˆ <strong>ç©¿è¿‡äº†</strong> <code>left</code> æŒ‡é’ˆï¼Œæ­¤æ—¶å·²ç»å®Œæˆäº†è¦æ±‚éƒ¨åˆ†é“¾è¡¨çš„åè½¬ã€‚ç»“æœæ˜¯ <code>[7 â†’ 9 â†’ 8 â†’ 1 â†’ 10 â†’ 2 â†’ 6]</code>ã€‚ äºæ˜¯ä¸å†è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œåœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å…¨å±€ boolean å˜é‡ flag æ¥åœæ­¢æ•°æ®äº¤æ¢ã€‚ä¸èƒ½ç›´æ¥è·³å‡ºé€’å½’ã€‚</p><details>    <summary>é€’å½’Java</summary><figure class="highlight java"><figcaption><span>[solution 1]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Object level variables since we need the changes</span></span><br><span class="line">    <span class="comment">// to persist across recursive calls and Java is pass by value.</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> stop;</span><br><span class="line">    <span class="keyword">private</span> ListNode left;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">recurseAndReverse</span><span class="params">(ListNode right, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// base case. Don't proceed any further</span></span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Keep moving the right pointer one step forward until (n == 1)</span></span><br><span class="line">        right = right.next;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Keep moving left pointer to the right until we reach the proper node</span></span><br><span class="line">        <span class="comment">// from where the reversal is to start.</span></span><br><span class="line">        <span class="keyword">if</span> (m &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.left = <span class="keyword">this</span>.left.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Recurse with m and n reduced.</span></span><br><span class="line">        <span class="keyword">this</span>.recurseAndReverse(right, m - <span class="number">1</span>, n - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// In case both the pointers cross each other or become equal, we</span></span><br><span class="line">        <span class="comment">// stop i.e. don't swap data any further. We are done reversing at this</span></span><br><span class="line">        <span class="comment">// point.</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.left == right || right.next == <span class="keyword">this</span>.left) &#123;</span><br><span class="line">            <span class="keyword">this</span>.stop = <span class="keyword">true</span>;            </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Until the boolean stop is false, swap data between the two pointers</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">this</span>.stop) &#123;</span><br><span class="line">            <span class="keyword">int</span> t = <span class="keyword">this</span>.left.val;</span><br><span class="line">            <span class="keyword">this</span>.left.val = right.val;</span><br><span class="line">            right.val = t;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Move left one step to the right.</span></span><br><span class="line">            <span class="comment">// The right pointer moves one step back via backtracking.</span></span><br><span class="line">            <span class="keyword">this</span>.left = <span class="keyword">this</span>.left.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseBetween</span><span class="params">(ListNode head, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.left = head;</span><br><span class="line">        <span class="keyword">this</span>.stop = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">this</span>.recurseAndReverse(head, m, n);</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é€’å½’Python</summary><figure class="highlight python"><figcaption><span>[solution 1]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseBetween</span><span class="params">(self, head, m, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type head: ListNode</span></span><br><span class="line"><span class="string">        :type m: int</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: ListNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">        left, right = head, head</span><br><span class="line">        stop = <span class="keyword">False</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">recurseAndReverse</span><span class="params">(right, m, n)</span>:</span></span><br><span class="line">            <span class="keyword">nonlocal</span> left, stop</span><br><span class="line"></span><br><span class="line">            <span class="comment"># base case. Don't proceed any further</span></span><br><span class="line">            <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># Keep moving the right pointer one step forward until (n == 1)</span></span><br><span class="line">            right = right.next</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Keep moving left pointer to the right until we reach the proper node</span></span><br><span class="line">            <span class="comment"># from where the reversal is to start.</span></span><br><span class="line">            <span class="keyword">if</span> m &gt; <span class="number">1</span>:</span><br><span class="line">                left = left.next</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Recurse with m and n reduced.</span></span><br><span class="line">            recurseAndReverse(right, m - <span class="number">1</span>, n - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># In case both the pointers cross each other or become equal, we</span></span><br><span class="line">            <span class="comment"># stop i.e. don't swap data any further. We are done reversing at this</span></span><br><span class="line">            <span class="comment"># point.</span></span><br><span class="line">            <span class="keyword">if</span> left == right <span class="keyword">or</span> right.next == left:</span><br><span class="line">                stop = <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># Until the boolean stop is false, swap data between the two pointers     </span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> stop:</span><br><span class="line">                left.val, right.val = right.val, left.val</span><br><span class="line"></span><br><span class="line">                <span class="comment"># Move left one step to the right.</span></span><br><span class="line">                <span class="comment"># The right pointer moves one step back via backtracking.</span></span><br><span class="line">                left = left.next           </span><br><span class="line"></span><br><span class="line">        recurseAndReverse(right, m, n)</span><br><span class="line">        <span class="keyword">return</span> head</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦: <em>O(N)</em>ã€‚å¯¹æ¯ä¸ªç»“ç‚¹æœ€å¤šå¤„ç†ä¸¤æ¬¡ã€‚é€’å½’è¿‡ç¨‹</li><li>å›æº¯</li><li>åœ¨å›æº¯è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åªäº¤æ¢äº†ä¸€åŠçš„ç»“ç‚¹ï¼Œä½†æ€»å¤æ‚åº¦æ˜¯ <em>O(N)</em>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦: æœ€åæƒ…å†µä¸‹ä¸º <em>O(N)</em>ã€‚åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åè½¬æ•´ä¸ªé“¾è¡¨ã€‚è¿™æ˜¯æ­¤æ—¶é€’å½’æ ˆçš„å¤§å°ã€‚<br><br></li></ul><hr><h1 id="æ–¹æ³•äºŒ-è¿­ä»£é“¾æ¥åè½¬"><a href="#æ–¹æ³•äºŒ-è¿­ä»£é“¾æ¥åè½¬" class="headerlink" title="æ–¹æ³•äºŒ: è¿­ä»£é“¾æ¥åè½¬"></a>æ–¹æ³•äºŒ: è¿­ä»£é“¾æ¥åè½¬</h1><p>æˆ‘ä¸€å¼€å§‹æƒ³åˆ°çš„å°±æ˜¯é€šè¿‡è¿­ä»£æ–¹æ³•æ¥åè½¬ï¼Œä½†æ˜¯åœ¨å¤„ç†åè½¬åè°ƒæ•´æˆç¯çš„æƒ…å†µæ—¶ç¿»è½¦äº†ï¼Œæƒ³äº†åŠå¤©ï¼Œè¿˜æ˜¯å‚ç…§ä¸‹é¢å›¾ä¾‹ä¸­çš„æ–¹æ³•æ¯”è¾ƒç›´è§‚ã€‚</p><p><strong>ç›´è§‰</strong></p><p>åœ¨ä¸Šä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ç ”ç©¶äº†ä¸€ç§åè½¬ç»™å®šé“¾è¡¨éƒ¨åˆ†çš„ç®—æ³•ï¼Œè¯¥ç®—æ³•ä¸æ”¹å˜ç»™å®šé“¾è¡¨çš„å†…åœ¨ç»“æ„ï¼Œåªæ˜¯ä¿®æ”¹äº†å¯¹äºç»“ç‚¹çš„å€¼ã€‚ ç„¶è€Œï¼Œæœ‰æ—¶å¯èƒ½æ— æ³•ä¿®æ”¹ç»“ç‚¹çš„æ•°æ®å€¼ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦æ”¹å˜ç»“ç‚¹çš„é“¾æ¥æ¥å®Œæˆåè½¬ã€‚</p><p>ä»ä½ç½® <code>m</code> åˆ°ä½ç½® <code>n</code> çš„å…¨éƒ¨ç»“ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦åè½¬æ¯ä¸ªç»“ç‚¹çš„ <code>next</code> æŒ‡é’ˆã€‚ä¸‹é¢æ¥çœ‹çœ‹å…·ä½“çš„ç®—æ³•ã€‚</p><p><strong>ç®—æ³•</strong></p><p>åœ¨çœ‹å…·ä½“ç®—æ³•ä¹‹å‰ï¼Œæœ‰å¿…è¦å…ˆå¼„æ¸…æ¥šé“¾æ¥åè½¬çš„åŸç†ä»¥åŠéœ€è¦å“ªäº›æŒ‡é’ˆã€‚ä¸¾ä¾‹è€Œè¨€ï¼Œæœ‰ä¸€ä¸ªä¸‰ä¸ªä¸åŒç»“ç‚¹ç»„æˆçš„é“¾è¡¨ <code>A â†’ B â†’ C</code>ï¼Œéœ€è¦åè½¬ç»“ç‚¹ä¸­çš„é“¾æ¥æˆä¸º <code>A â† B â† C</code>ã€‚</p><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘ç»“ç‚¹ <code>A</code>ï¼Œä¸€ä¸ªæŒ‡å‘ç»“ç‚¹ <code>B</code>ã€‚ åˆ†åˆ«è®°ä¸º <code>prev</code> å’Œ <code>cur</code>ã€‚åˆ™å¯ä»¥ç”¨è¿™ä¸¤ä¸ªæŒ‡é’ˆç®€å•åœ°å®ç° <code>A å’Œ B</code> ä¹‹é—´çš„é“¾æ¥åè½¬ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cur.next = prev</span><br></pre></td></tr></table></figure><p>è¿™æ ·åšå”¯ä¸€çš„é—®é¢˜æ˜¯ï¼Œæ²¡æœ‰åŠæ³•ç»§ç»­ä¸‹å»ï¼Œæ¢è€Œè¨€ä¹‹ï¼Œè¿™æ ·åšä¹‹åå°±æ— æ³•å†è®¿é—®åˆ°ç»“ç‚¹ <code>C</code>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥ç¬¬ä¸‰ä¸ªæŒ‡é’ˆï¼Œç”¨äºå¸®åŠ©åè½¬è¿‡ç¨‹çš„è¿›è¡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸é‡‡ç”¨ä¸Šé¢çš„åè½¬æ–¹æ³•ï¼Œè€Œæ˜¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">third = cur.next</span><br><span class="line">cur.next = prev</span><br><span class="line">prev = cur</span><br><span class="line">cur = third</span><br></pre></td></tr></table></figure><p> <strong>è¿­ä»£</strong> åœ°è¿›è¡Œä¸Šè¿°è¿‡ç¨‹ï¼Œå³å¯å®Œæˆé—®é¢˜çš„è¦æ±‚ã€‚ä¸‹é¢æ¥çœ‹çœ‹ç®—æ³•çš„æ­¥éª¤ã€‚</p><ol><li>å¦‚ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæŒ‡é’ˆ <code>prev</code> å’Œ <code>cur</code>ã€‚</li><li><code>prev</code> æŒ‡é’ˆåˆå§‹åŒ–ä¸º <code>None</code>ï¼Œ<code>cur</code> æŒ‡é’ˆåˆå§‹åŒ–ä¸ºé“¾è¡¨çš„ <code>head</code>ã€‚</li><li>ä¸€æ­¥æ­¥åœ°å‘å‰æ¨è¿› <code>cur</code> æŒ‡é’ˆï¼Œ<code>prev</code> æŒ‡é’ˆè·Ÿéšå…¶åã€‚</li><li>å¦‚æ­¤æ¨è¿›ä¸¤ä¸ªæŒ‡é’ˆï¼Œç›´åˆ° <code>cur</code> æŒ‡é’ˆåˆ°è¾¾ä»é“¾è¡¨å¤´èµ·çš„ç¬¬ <em>m</em> ä¸ªç»“ç‚¹ã€‚è¿™å°±æ˜¯æˆ‘ä»¬åè½¬é“¾è¡¨çš„èµ·å§‹ä½ç½®ã€‚</li><li>æ³¨æ„æˆ‘ä»¬è¦å¼•å…¥ä¸¤ä¸ªé¢å¤–æŒ‡é’ˆï¼Œåˆ†åˆ«ç§°ä¸º <code>tail</code> å’Œ <code>con</code>ã€‚<code>tail</code> æŒ‡é’ˆæŒ‡å‘ä»é“¾è¡¨å¤´èµ·çš„ç¬¬<em>m</em>ä¸ªç»“ç‚¹ï¼Œæ­¤ç»“ç‚¹æ˜¯åè½¬åé“¾è¡¨çš„å°¾éƒ¨ï¼Œæ•…ç§°ä¸º <code>tail</code>ã€‚<code>con</code> æŒ‡é’ˆæŒ‡å‘ç¬¬ <em>m</em> ä¸ªç»“ç‚¹çš„å‰ä¸€ä¸ªç»“ç‚¹ï¼Œæ­¤ç»“ç‚¹æ˜¯æ–°é“¾è¡¨çš„å¤´éƒ¨ã€‚ä¸‹å›¾å¯ä»¥å¸®åŠ©ä½ æ›´å¥½çš„ç†è§£è¿™ä¸¤ä¸ªæŒ‡é’ˆã€‚</li></ol><p><a href="https://pic.leetcode-cn.com/bf38eaeb92184fbfb55bd76336c7f746b6f01b3c83bd921268afe84a3c3cf183-image.png" target="_blank" rel="noopener">image.png</a></p><ol start="6"><li><code>tail</code> å’Œ <code>con</code> æŒ‡é’ˆåœ¨ç®—æ³•å¼€å§‹æ—¶è¢«åˆå§‹åŒ–ï¼Œåœ¨ç®—æ³•æœ€åè¢«è°ƒç”¨ï¼Œç”¨äºå®Œæˆé“¾è¡¨åè½¬ã€‚</li><li>å¦‚å‰æ–‡æ‰€è§£é‡Šçš„é‚£æ ·ï¼ŒæŠµè¾¾ç¬¬ <em>m</em> ä¸ªç»“ç‚¹åï¼Œåœ¨ç”¨åˆ°ä¸Šè¿°ä¸¤ä¸ªæŒ‡é’ˆå‰ï¼Œå…ˆè¿­ä»£åœ°åè½¬é“¾æ¥ã€‚ä¸æ–­è¿­ä»£ï¼Œç›´åˆ°å®ŒæˆæŒ‡å‘ç¬¬ <em>n</em> ä¸ªç»“ç‚¹çš„é“¾æ¥ã€‚æ­¤æ—¶ï¼Œ<code>prev</code> æŒ‡é’ˆä¼šæŒ‡å‘ç¬¬ <em>n</em> ä¸ªç»“ç‚¹ã€‚</li><li>æˆ‘ä»¬ä½¿ç”¨ <code>con</code> æŒ‡é’ˆæ¥è¿æ¥ <code>prev</code> æŒ‡é’ˆï¼Œè¿™æ˜¯å› ä¸º <code>prev</code> æŒ‡é’ˆå½“å‰æŒ‡å‘çš„ç»“ç‚¹(ç¬¬ <em>n</em> ä¸ªç»“ç‚¹)ä¼šä»£æ›¿ç¬¬ <em>m</em> ä¸ªç»“ç‚¹çš„ä½ç½®ã€‚ ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬åˆ©ç”¨ <code>tail</code> æŒ‡é’ˆæ¥è¿æ¥ <code>prev</code> æŒ‡é’ˆä¹‹åçš„ç»“ç‚¹ï¼ˆç¬¬ <em>n+1</em> ä¸ªç»“ç‚¹ï¼‰ã€‚</li></ol><p>ä¸ºäº†ä¾¿äºç†æ¸…æ¯ä¸ªæŒ‡é’ˆçš„ç”¨æ³•ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®—æ³•è¿è¡Œçš„å®ä¾‹ã€‚ç»™å®šä¸€ä¸ªé“¾è¡¨ <code>7 â†’ 9 â†’ 2 â†’ 10 â†’ 1 â†’ 8 â†’ 6</code>ï¼Œæˆ‘ä»¬éœ€è¦åè½¬ä»ç¬¬ 3 ä¸ªç»“ç‚¹åˆ°ç¬¬ 6 ä¸ªç»“ç‚¹çš„å­é“¾è¡¨ã€‚</p><p><a href="https://pic.leetcode-cn.com/08d4eb39be0db6ded442a208399b5778bbab1cf75c26bc5b3d93128b7c224cb4-image.png" target="_blank" rel="noopener">image.png</a></p><p>ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°è¿­ä»£æ³•çš„å‰å‡ æ­¥ã€‚ç¬¬ä¸€æ­¥å±•ç¤ºäº†ä¸¤ä¸ªæŒ‡é’ˆçš„åˆå§‹åŒ–ï¼Œç¬¬ä¸‰æ­¥å±•ç¤ºäº†é“¾è¡¨åè½¬è¿‡ç¨‹çš„åˆå§‹ä½ç½®ã€‚</p><p><a href="https://pic.leetcode-cn.com/77af1e2ca8bd5f9ccc89802094ce07e2505c6b4483ccd6887f2762a6e67310e1-image.png" target="_blank" rel="noopener">image.png</a></p><p>ä¸Šå›¾è¯¦ç»†æ˜¾ç¤ºäº†é“¾æ¥åè½¬çš„è¿‡ç¨‹ä»¥åŠåè½¬ä¸¤ä¸ªç»“ç‚¹çš„é“¾æ¥åå¦‚ä½•å‘å‰ç§»åŠ¨ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæœ¬æ­¥éª¤å°†æ‰§è¡Œå¤šæ¬¡ã€‚</p><p><a href="https://pic.leetcode-cn.com/f634c434bcc5092d84b3125a4cd7c723aa3ddd53dcfb9ec3077423cbff1d2f85-image.png" target="_blank" rel="noopener">image.png</a></p><p><a href="https://pic.leetcode-cn.com/b11861e6d3a86cdec19152d442dd243aaf0fb6c914787e7cf60990f2ecf0d558-image.png" target="_blank" rel="noopener">image.png</a></p><p>å¦‚ä¸Šå›¾æ‰€ç¤º, ä¸¤ä¸ªæŒ‡é’ˆéƒ½å·²ç»åˆ°è¾¾æœ€ç»ˆä½ç½®ã€‚æˆ‘ä»¬å®Œæˆäº†å­é“¾è¡¨çš„åè½¬å·¥ä½œã€‚ç„¶è€Œï¼Œè¿˜æœ‰ä¸€äº›é“¾æ¥éœ€è¦è°ƒæ•´ã€‚ä¸‹å›¾å±•ç¤ºäº†åˆ©ç”¨ <code>tail</code> å’Œ <code>con</code> æŒ‡é’ˆå®Œæˆé“¾æ¥è°ƒæ•´çš„è¿‡ç¨‹ã€‚</p><p><a href="https://pic.leetcode-cn.com/968684e83b4cbc4b4db6f80e3bda03748729af672e702a8d3473b24cd04a7092-image.png" target="_blank" rel="noopener">image.png</a></p><details>    <summary>è¿­ä»£é“¾æ¥åè½¬Java</summary><figure class="highlight java"><figcaption><span>[solution 2]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseBetween</span><span class="params">(ListNode head, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Empty list</span></span><br><span class="line">        <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Move the two pointers until they reach the proper starting point</span></span><br><span class="line">        <span class="comment">// in the list.</span></span><br><span class="line">        ListNode cur = head, prev = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (m &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            prev = cur;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">            m--;</span><br><span class="line">            n--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// The two pointers that will fix the final connections.</span></span><br><span class="line">        ListNode con = prev, tail = cur;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Iteratively reverse the nodes until n becomes 0.</span></span><br><span class="line">        ListNode third = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            third = cur.next;</span><br><span class="line">            cur.next = prev;</span><br><span class="line">            prev = cur;</span><br><span class="line">            cur = third;</span><br><span class="line">            n--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Adjust the final connections as explained in the algorithm</span></span><br><span class="line">        <span class="keyword">if</span> (con != <span class="keyword">null</span>) &#123;</span><br><span class="line">            con.next = prev;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            head = prev;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        tail.next = cur;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>è¿­ä»£é“¾æ¥åè½¬Python</summary><figure class="highlight python"><figcaption><span>[solution 2]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseBetween</span><span class="params">(self, head, m, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type head: ListNode</span></span><br><span class="line"><span class="string">        :type m: int</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: ListNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Empty list</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Move the two pointers until they reach the proper starting point</span></span><br><span class="line">        <span class="comment"># in the list.</span></span><br><span class="line">        cur, prev = head, <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">while</span> m &gt; <span class="number">1</span>:</span><br><span class="line">            prev = cur</span><br><span class="line">            cur = cur.next</span><br><span class="line">            m, n = m - <span class="number">1</span>, n - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># The two pointers that will fix the final connections.</span></span><br><span class="line">        tail, con = cur, prev</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Iteratively reverse the nodes until n becomes 0.</span></span><br><span class="line">        <span class="keyword">while</span> n:</span><br><span class="line">            third = cur.next</span><br><span class="line">            cur.next = prev</span><br><span class="line">            prev = cur</span><br><span class="line">            cur = third</span><br><span class="line">            n -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Adjust the final connections as explained in the algorithm</span></span><br><span class="line">        <span class="keyword">if</span> con:</span><br><span class="line">            con.next = prev</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            head = prev</span><br><span class="line">        tail.next = cur</span><br><span class="line">        <span class="keyword">return</span> head</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦: <em>O(N)*ã€‚è€ƒè™‘åŒ…å« *N</em> ä¸ªç»“ç‚¹çš„é“¾è¡¨ã€‚å¯¹æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šä¼šå¤„ç†</li><li>ï¼ˆç¬¬ <em>n</em> ä¸ªç»“ç‚¹ä¹‹åçš„ç»“ç‚¹ä¸å¤„ç†ï¼‰ã€‚</li><li>ç©ºé—´å¤æ‚åº¦: <em>O(1)*ã€‚æˆ‘ä»¬ä»…ä»…åœ¨åŸæœ‰é“¾è¡¨çš„åŸºç¡€ä¸Šè°ƒæ•´äº†ä¸€äº›æŒ‡é’ˆï¼Œåªä½¿ç”¨äº† *O(1)</em> çš„é¢å¤–å­˜å‚¨ç©ºé—´æ¥è·å¾—ç»“æœã€‚<br></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åè½¬ä»ä½ç½® m åˆ° n çš„é“¾è¡¨ã€‚è¯·ä½¿ç”¨ä¸€è¶Ÿæ‰«æå®Œæˆåè½¬ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
  </entry>
  
  <entry>
    <title>206. åè½¬é“¾è¡¨</title>
    <link href="http://yoursite.com/2020/08/18/206.%20%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/"/>
    <id>http://yoursite.com/2020/08/18/206. åè½¬é“¾è¡¨/</id>
    <published>2020-08-18T09:51:12.000Z</published>
    <updated>2020-08-19T09:56:23.485Z</updated>
    
    <content type="html"><![CDATA[<p>åè½¬ä¸€ä¸ªå•é“¾è¡¨ã€‚</p><a id="more"></a><p>ç¤ºä¾‹:</p><pre><code>è¾“å…¥: 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;NULLè¾“å‡º: 5-&gt;4-&gt;3-&gt;2-&gt;1-&gt;NULL</code></pre><p>è¿›é˜¶:</p><pre><code>ä½ å¯ä»¥è¿­ä»£æˆ–é€’å½’åœ°åè½¬é“¾è¡¨ã€‚ä½ èƒ½å¦ç”¨ä¸¤ç§æ–¹æ³•è§£å†³è¿™é“é¢˜ï¼Ÿ</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šè¿­ä»£"><a href="#æ–¹æ³•ä¸€ï¼šè¿­ä»£" class="headerlink" title="æ–¹æ³•ä¸€ï¼šè¿­ä»£"></a>æ–¹æ³•ä¸€ï¼šè¿­ä»£</h1><p>å‡è®¾å­˜åœ¨é“¾è¡¨ <code>1 â†’ 2 â†’ 3 â†’ Ã˜</code>ï¼Œæˆ‘ä»¬æƒ³è¦æŠŠå®ƒæ”¹æˆ <code>Ã˜ â† 1 â† 2 â† 3</code>ã€‚</p><p>åœ¨éå†åˆ—è¡¨æ—¶ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ <code>next</code> æŒ‡é’ˆæ”¹ä¸ºæŒ‡å‘å‰ä¸€ä¸ªå…ƒç´ ã€‚ç”±äºèŠ‚ç‚¹æ²¡æœ‰å¼•ç”¨å…¶ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤å¿…é¡»äº‹å…ˆå­˜å‚¨å…¶å‰ä¸€ä¸ªå…ƒç´ ã€‚åœ¨æ›´æ”¹å¼•ç”¨ä¹‹å‰ï¼Œè¿˜éœ€è¦å¦ä¸€ä¸ªæŒ‡é’ˆæ¥å­˜å‚¨ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ä¸è¦å¿˜è®°åœ¨æœ€åè¿”å›æ–°çš„å¤´å¼•ç”¨ï¼</p><details>    <summary>è¿­ä»£</summary><figure class="highlight java"><figcaption><span>[Tww6MiPp-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    ListNode prev = <span class="keyword">null</span>;</span><br><span class="line">    ListNode curr = head;</span><br><span class="line">    <span class="keyword">while</span> (curr != <span class="keyword">null</span>) &#123;</span><br><span class="line">        ListNode nextTemp = curr.next;</span><br><span class="line">        curr.next = prev;</span><br><span class="line">        prev = curr;</span><br><span class="line">        curr = nextTemp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> prev;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œå‡è®¾ *n</em> æ˜¯åˆ—è¡¨çš„é•¿åº¦ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ <em>O(n)</em>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</li></ul><hr><h1 id="æ–¹æ³•äºŒï¼šé€’å½’"><a href="#æ–¹æ³•äºŒï¼šé€’å½’" class="headerlink" title="æ–¹æ³•äºŒï¼šé€’å½’"></a>æ–¹æ³•äºŒï¼šé€’å½’</h1><p>é€’å½’ç‰ˆæœ¬ç¨å¾®å¤æ‚ä¸€äº›ï¼Œå…¶å…³é”®åœ¨äºåå‘å·¥ä½œã€‚å‡è®¾åˆ—è¡¨çš„å…¶ä½™éƒ¨åˆ†å·²ç»è¢«åè½¬ï¼Œç°åœ¨æˆ‘è¯¥å¦‚ä½•åè½¬å®ƒå‰é¢çš„éƒ¨åˆ†ï¼Ÿ</p><p>å‡è®¾åˆ—è¡¨ä¸ºï¼š</p><p>n1â†’â€¦â†’nkâˆ’1    â†’n kâ†’n k+1â†’â€¦â†’nmâ†’âˆ…</p><p>è‹¥ä»èŠ‚ç‚¹ <em>n_{k+1}</em> åˆ° <em>n_{m}</em> å·²ç»è¢«åè½¬ï¼Œè€Œæˆ‘ä»¬æ­£å¤„äº <em>n_{k}</em>ã€‚</p><p>n1â†’â€¦â†’nkâˆ’1â†’n kâ†’n k+1â†â€¦â†nm</p><p>æˆ‘ä»¬å¸Œæœ› <em>n_{k+1}</em> çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ <em>n_{k}</em>ã€‚</p><p>æ‰€ä»¥ï¼Œ<em>n_{k}</em>.next.next = <em>n_{k}</em>ã€‚</p><p>è¦å°å¿ƒçš„æ˜¯ <em>n_{1}</em> çš„ä¸‹ä¸€ä¸ªå¿…é¡»æŒ‡å‘ Ã˜ ã€‚å¦‚æœä½ å¿½ç•¥äº†è¿™ä¸€ç‚¹ï¼Œä½ çš„é“¾è¡¨ä¸­å¯èƒ½ä¼šäº§ç”Ÿå¾ªç¯ã€‚å¦‚æœä½¿ç”¨å¤§å°ä¸º 2 çš„é“¾è¡¨æµ‹è¯•ä»£ç ï¼Œåˆ™å¯èƒ½ä¼šæ•è·æ­¤é”™è¯¯ã€‚</p><details>    <summary>é€’å½’</summary><figure class="highlight java"><figcaption><span>[ESkYHVXb-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) <span class="keyword">return</span> head;</span><br><span class="line">    ListNode p = reverseList(head.next);</span><br><span class="line">    head.next.next = head;</span><br><span class="line">    head.next = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>**å¤æ‚åº¦åˆ†æ**<ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œå‡è®¾ *n</em> æ˜¯åˆ—è¡¨çš„é•¿åº¦ï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œç”±äºä½¿ç”¨é€’å½’ï¼Œå°†ä¼šä½¿ç”¨éšå¼æ ˆç©ºé—´ã€‚é€’å½’æ·±åº¦å¯èƒ½ä¼šè¾¾åˆ° *n</em> å±‚ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åè½¬ä¸€ä¸ªå•é“¾è¡¨ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2020å¹´8æœˆ" scheme="http://yoursite.com/categories/2020%E5%B9%B48%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
  </entry>
  
</feed>
