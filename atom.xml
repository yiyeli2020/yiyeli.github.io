<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yiye Li</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2021-10-19T11:27:50.856Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Yiye Li</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>29. ä¸¤æ•°ç›¸é™¤</title>
    <link href="http://yoursite.com/2021/10/18/29.%20%E4%B8%A4%E6%95%B0%E7%9B%B8%E9%99%A4/"/>
    <id>http://yoursite.com/2021/10/18/29. ä¸¤æ•°ç›¸é™¤/</id>
    <published>2021-10-18T11:12:12.000Z</published>
    <updated>2021-10-19T11:27:50.856Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸¤ä¸ªæ•´æ•° a å’Œ b ï¼Œæ±‚å®ƒä»¬çš„é™¤æ³•çš„å•† a/b ï¼Œè¦æ±‚ä¸å¾—ä½¿ç”¨ä¹˜å· â€˜*â€™ã€é™¤å· â€˜/â€˜ ä»¥åŠæ±‚ä½™ç¬¦å· â€˜%â€™ã€‚</p><a id="more"></a><p>[TOC]</p><p>æ³¨æ„ï¼š</p><p>æ•´æ•°é™¤æ³•çš„ç»“æœåº”å½“æˆªå»ï¼ˆtruncateï¼‰å…¶å°æ•°éƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼štruncate(8.345) = 8 ä»¥åŠ truncate(-2.7335) = -2<br>å‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå…¶æ•°å€¼èŒƒå›´æ˜¯ [âˆ’231, 231âˆ’1]ã€‚æœ¬é¢˜ä¸­ï¼Œå¦‚æœé™¤æ³•ç»“æœæº¢å‡ºï¼Œåˆ™è¿”å› 231 âˆ’ 1</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼ša = 15, b = 2è¾“å‡ºï¼š7è§£é‡Šï¼š15/2 = truncate(7.5) = 7</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼ša = 7, b = -3è¾“å‡ºï¼š-2è§£é‡Šï¼š7/-3 = truncate(-2.33333..) = -2</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼ša = 0, b = 1è¾“å‡ºï¼š0</code></pre><p>ç¤ºä¾‹ 4ï¼š</p><pre><code>è¾“å…¥ï¼ša = 1, b = 1è¾“å‡ºï¼š1</code></pre><p>æç¤º:</p><pre><code>-2^31 &lt;= a, b &lt;= 2^31 - 1b != 0</code></pre><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç”±äºé¢˜ç›®è§„å®šäº†ã€Œåªèƒ½å­˜å‚¨ <em>32</em> ä½æ•´æ•°ã€ï¼Œæœ¬é¢˜è§£çš„æ­£æ–‡éƒ¨åˆ†å’Œä»£ç ä¸­éƒ½ä¸ä¼šä½¿ç”¨ä»»ä½• <em>64</em> ä½æ•´æ•°ã€‚<strong>è¯šç„¶ï¼Œä½¿ç”¨ <em>64</em> ä½æ•´æ•°å¯ä»¥æå¤§åœ°æ–¹ä¾¿æˆ‘ä»¬çš„ç¼–ç ï¼Œä½†è¿™æ˜¯è¿åé¢˜ç›®è§„åˆ™çš„ã€‚</strong></p><p>å¦‚æœé™¤æ³•ç»“æœæº¢å‡ºï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è¿”å› <em>2^{31} - 1</em> ä½œä¸ºç­”æ¡ˆã€‚å› æ­¤åœ¨ç¼–ç ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥é¦–å…ˆå¯¹äºæº¢å‡ºæˆ–è€…å®¹æ˜“å‡ºé”™çš„è¾¹ç•Œæƒ…å†µè¿›è¡Œè®¨è®ºï¼š</p><ul><li><p>å½“è¢«é™¤æ•°ä¸º <em>32</em> ä½æœ‰ç¬¦å·æ•´æ•°çš„æœ€å°å€¼ <em>-2^{31}</em> æ—¶ï¼š</p><ul><li>å¦‚æœé™¤æ•°ä¸º <em>1</em>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿”å›ç­”æ¡ˆ <em>-2^{31}</em>ï¼›</li><li>å¦‚æœé™¤æ•°ä¸º <em>-1</em>ï¼Œé‚£ä¹ˆç­”æ¡ˆä¸º <em>2^{31}</em>ï¼Œäº§ç”Ÿäº†æº¢å‡ºã€‚æ­¤æ—¶æˆ‘ä»¬éœ€è¦è¿”å› <em>2^{31} - 1</em>ã€‚</li></ul></li><li><p>å½“é™¤æ•°ä¸º <em>32</em> ä½æœ‰ç¬¦å·æ•´æ•°çš„æœ€å°å€¼ <em>-2^{31}</em> æ—¶ï¼š</p><ul><li>å¦‚æœè¢«é™¤æ•°åŒæ ·ä¸º <em>-2^{31}</em>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿”å›ç­”æ¡ˆ <em>1</em>ï¼›</li><li>å¯¹äºå…¶ä½™çš„æƒ…å†µï¼Œæˆ‘ä»¬è¿”å›ç­”æ¡ˆ <em>0</em>ã€‚</li></ul></li><li><p>å½“è¢«é™¤æ•°ä¸º <em>0</em> æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿”å›ç­”æ¡ˆ <em>0</em>ã€‚</p></li></ul><p>å¯¹äºä¸€èˆ¬çš„æƒ…å†µï¼Œæ ¹æ®é™¤æ•°å’Œè¢«é™¤æ•°çš„ç¬¦å·ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘ <em>4</em> ç§ä¸åŒçš„å¯èƒ½æ€§ã€‚å› æ­¤ï¼Œä¸ºäº†æ–¹ä¾¿ç¼–ç ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¢«é™¤æ•°æˆ–è€…é™¤æ•°å–ç›¸åæ•°ï¼Œä½¿å¾—å®ƒä»¬ç¬¦å·ç›¸åŒã€‚</p><p>å¦‚æœæˆ‘ä»¬å°†è¢«é™¤æ•°å’Œé™¤æ•°éƒ½å˜ä¸ºæ­£æ•°ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå¯¼è‡´æº¢å‡ºã€‚ä¾‹å¦‚å½“è¢«é™¤æ•°ä¸º <em>-2^{31}</em> æ—¶ï¼Œå®ƒçš„ç›¸åæ•° <em>2^{31}</em> äº§ç”Ÿäº†æº¢å‡ºã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘å°†è¢«é™¤æ•°å’Œé™¤æ•°éƒ½å˜ä¸ºè´Ÿæ•°ï¼Œè¿™æ ·å°±ä¸ä¼šæœ‰æº¢å‡ºçš„é—®é¢˜ï¼Œåœ¨ç¼–ç æ—¶åªéœ€è¦è€ƒè™‘ <em>1</em> ç§æƒ…å†µäº†ã€‚</p><p>å¦‚æœæˆ‘ä»¬å°†è¢«é™¤æ•°å’Œé™¤æ•°çš„å…¶ä¸­ï¼ˆæ°å¥½ï¼‰ä¸€ä¸ªå˜ä¸ºäº†æ­£æ•°ï¼Œé‚£ä¹ˆåœ¨è¿”å›ç­”æ¡ˆä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç­”æ¡ˆä¹Ÿå–ç›¸åæ•°ã€‚</p><h2 id="æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•ä¸€ï¼šäºŒåˆ†æŸ¥æ‰¾</h2><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>æ ¹æ®ã€Œå‰è¨€ã€éƒ¨åˆ†çš„è®¨è®ºï¼Œæˆ‘ä»¬è®°è¢«é™¤æ•°ä¸º <em>X</em>ï¼Œé™¤æ•°ä¸º <em>Y</em>ï¼Œå¹¶ä¸” <em>X</em> å’Œ <em>Y</em> éƒ½æ˜¯è´Ÿæ•°ã€‚æˆ‘ä»¬éœ€è¦æ‰¾å‡º <em>X/Y</em> çš„ç»“æœ <em>Z</em>ã€‚<em>Z</em> ä¸€å®šæ˜¯æ­£æ•°æˆ– <em>0</em>ã€‚</p><p>æ ¹æ®é™¤æ³•ä»¥åŠä½™æ•°çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æ”¹æˆä¹˜æ³•çš„ç­‰ä»·å½¢å¼</p><p><strong>ç»†èŠ‚</strong></p><p>ç”±äºæˆ‘ä»¬åªèƒ½ä½¿ç”¨ <em>32</em> ä½æ•´æ•°ï¼Œå› æ­¤äºŒåˆ†æŸ¥æ‰¾ä¸­ä¼šæœ‰å¾ˆå¤šç»†èŠ‚ã€‚</p><p>é¦–å…ˆï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„ä¸‹ç•Œä¸º <em>1</em>ï¼Œä¸Šç•Œä¸º <em>2^{31} - 1*ã€‚å”¯ä¸€å¯èƒ½å‡ºç°çš„ç­”æ¡ˆä¸º *2^{31}</em> çš„æƒ…å†µå·²ç»è¢«æˆ‘ä»¬åœ¨ã€Œå‰è¨€ã€éƒ¨åˆ†è¿›è¡Œäº†ç‰¹æ®Šå¤„ç†ï¼Œå› æ­¤ç­”æ¡ˆçš„æœ€å¤§å€¼ä¸º <em>2^{31} - 1</em>ã€‚å¦‚æœäºŒåˆ†æŸ¥æ‰¾å¤±è´¥ï¼Œé‚£ä¹ˆç­”æ¡ˆä¸€å®šä¸º <em>0</em>ã€‚</p><p>åœ¨å®ç°ã€Œå¿«é€Ÿä¹˜ã€æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åŠ æ³•è¿ç®—ï¼Œç„¶è€Œè¾ƒå¤§çš„ <em>Z</em> ä¹Ÿä¼šå¯¼è‡´åŠ æ³•è¿ç®—æº¢å‡ºã€‚ä¾‹å¦‚æˆ‘ä»¬è¦åˆ¤æ–­ <em>A + B</em> æ˜¯å¦å°äº <em>C</em> æ—¶ï¼ˆå…¶ä¸­ <em>A, B, C</em> å‡ä¸ºè´Ÿæ•°ï¼‰ï¼Œ<em>A + B</em> å¯èƒ½ä¼šäº§ç”Ÿæº¢å‡ºï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»å°†åˆ¤æ–­æ”¹ä¸º <em>A &lt; C - B</em> æ˜¯å¦æˆç«‹ã€‚ç”±äºä»»æ„ä¸¤ä¸ªè´Ÿæ•°çš„å·®ä¸€å®šåœ¨ <em>[-2^{31} + 1, 2^{31} - 1]</em> èŒƒå›´å†…ï¼Œè¿™æ ·å°±ä¸ä¼šäº§ç”Ÿæº¢å‡ºã€‚</p><p>è¯»è€…å¯ä»¥é˜…è¯»ä¸‹é¢çš„ä»£ç å’Œæ³¨é‡Šï¼Œç†è§£å¦‚ä½•é¿å…ä½¿ç”¨ä¹˜æ³•å’Œé™¤æ³•ï¼Œä»¥åŠæ­£ç¡®å¤„ç†æº¢å‡ºé—®é¢˜ã€‚<a href="https://leetcode-cn.com/problems/powx-n/solution/powx-n-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></p><p><strong>ä»£ç </strong></p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> dividend, <span class="keyword">int</span> divisor)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (dividend == INT_MIN) &#123;</span><br><span class="line">            <span class="keyword">if</span> (divisor == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> INT_MIN;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (divisor == <span class="number">-1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> INT_MAX;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è€ƒè™‘é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (divisor == INT_MIN) &#123;</span><br><span class="line">            <span class="keyword">return</span> dividend == INT_MIN ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸º 0 çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (dividend == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¸€èˆ¬æƒ…å†µï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰çš„æ­£æ•°å–ç›¸åæ•°ï¼Œè¿™æ ·å°±åªéœ€è¦è€ƒè™‘ä¸€ç§æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">bool</span> rev = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (dividend &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            dividend = -dividend;</span><br><span class="line">            rev = !rev;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (divisor &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            divisor = -divisor;</span><br><span class="line">            rev = !rev;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¿«é€Ÿä¹˜</span></span><br><span class="line">        <span class="keyword">auto</span> quickAdd = [](<span class="keyword">int</span> y, <span class="keyword">int</span> z, <span class="keyword">int</span> x) &#123;</span><br><span class="line">            <span class="comment">// x å’Œ y æ˜¯è´Ÿæ•°ï¼Œz æ˜¯æ­£æ•°</span></span><br><span class="line">            <span class="comment">// éœ€è¦åˆ¤æ–­ z * y &gt;= x æ˜¯å¦æˆç«‹</span></span><br><span class="line">            <span class="keyword">int</span> result = <span class="number">0</span>, add = y;</span><br><span class="line">            <span class="keyword">while</span> (z) &#123;</span><br><span class="line">                <span class="keyword">if</span> (z &amp; <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="comment">// éœ€è¦ä¿è¯ result + add &gt;= x</span></span><br><span class="line">                    <span class="keyword">if</span> (result &lt; x - add) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    result += add;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (z != <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="comment">// éœ€è¦ä¿è¯ add + add &gt;= x</span></span><br><span class="line">                    <span class="keyword">if</span> (add &lt; x - add) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    add += add;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// ä¸èƒ½ä½¿ç”¨é™¤æ³•</span></span><br><span class="line">                z &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">1</span>, right = INT_MAX, ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">            <span class="comment">// æ³¨æ„æº¢å‡ºï¼Œå¹¶ä¸”ä¸èƒ½ä½¿ç”¨é™¤æ³•</span></span><br><span class="line">            <span class="keyword">int</span> mid = left + ((right - left) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">bool</span> check = quickAdd(divisor, mid, dividend);</span><br><span class="line">            <span class="keyword">if</span> (check) &#123;</span><br><span class="line">                ans = mid;</span><br><span class="line">                <span class="comment">// æ³¨æ„æº¢å‡º</span></span><br><span class="line">                <span class="keyword">if</span> (mid == INT_MAX) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> rev ? -ans : ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> dividend, <span class="keyword">int</span> divisor)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (dividend == Integer.MIN_VALUE) &#123;</span><br><span class="line">            <span class="keyword">if</span> (divisor == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> Integer.MIN_VALUE;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (divisor == -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> Integer.MAX_VALUE;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è€ƒè™‘é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (divisor == Integer.MIN_VALUE) &#123;</span><br><span class="line">            <span class="keyword">return</span> dividend == Integer.MIN_VALUE ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸º 0 çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (dividend == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¸€èˆ¬æƒ…å†µï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰çš„æ­£æ•°å–ç›¸åæ•°ï¼Œè¿™æ ·å°±åªéœ€è¦è€ƒè™‘ä¸€ç§æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">boolean</span> rev = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (dividend &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            dividend = -dividend;</span><br><span class="line">            rev = !rev;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (divisor &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            divisor = -divisor;</span><br><span class="line">            rev = !rev;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">1</span>, right = Integer.MAX_VALUE, ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">            <span class="comment">// æ³¨æ„æº¢å‡ºï¼Œå¹¶ä¸”ä¸èƒ½ä½¿ç”¨é™¤æ³•</span></span><br><span class="line">            <span class="keyword">int</span> mid = left + ((right - left) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">boolean</span> check = quickAdd(divisor, mid, dividend);</span><br><span class="line">            <span class="keyword">if</span> (check) &#123;</span><br><span class="line">                ans = mid;</span><br><span class="line">                <span class="comment">// æ³¨æ„æº¢å‡º</span></span><br><span class="line">                <span class="keyword">if</span> (mid == Integer.MAX_VALUE) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> rev ? -ans : ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¿«é€Ÿä¹˜</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">quickAdd</span><span class="params">(<span class="keyword">int</span> y, <span class="keyword">int</span> z, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// x å’Œ y æ˜¯è´Ÿæ•°ï¼Œz æ˜¯æ­£æ•°</span></span><br><span class="line">        <span class="comment">// éœ€è¦åˆ¤æ–­ z * y &gt;= x æ˜¯å¦æˆç«‹</span></span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>, add = y;</span><br><span class="line">        <span class="keyword">while</span> (z != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((z &amp; <span class="number">1</span>) != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// éœ€è¦ä¿è¯ result + add &gt;= x</span></span><br><span class="line">                <span class="keyword">if</span> (result &lt; x - add) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                result += add;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (z != <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// éœ€è¦ä¿è¯ add + add &gt;= x</span></span><br><span class="line">                <span class="keyword">if</span> (add &lt; x - add) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                add += add;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ä¸èƒ½ä½¿ç”¨é™¤æ³•</span></span><br><span class="line">            z &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int Divide(int dividend, int divisor) &#123;</span><br><span class="line">        // è€ƒè™‘è¢«é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span><br><span class="line">        if (dividend == int.MinValue) &#123;</span><br><span class="line">            if (divisor == 1) &#123;</span><br><span class="line">                return int.MinValue;</span><br><span class="line">            &#125;</span><br><span class="line">            if (divisor == -1) &#123;</span><br><span class="line">                return int.MaxValue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        // è€ƒè™‘é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span><br><span class="line">        if (divisor == int.MinValue) &#123;</span><br><span class="line">            return dividend == int.MinValue ? 1 : 0;</span><br><span class="line">        &#125;</span><br><span class="line">        // è€ƒè™‘è¢«é™¤æ•°ä¸º 0 çš„æƒ…å†µ</span><br><span class="line">        if (dividend == 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        // ä¸€èˆ¬æƒ…å†µï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾</span><br><span class="line">        // å°†æ‰€æœ‰çš„æ­£æ•°å–ç›¸åæ•°ï¼Œè¿™æ ·å°±åªéœ€è¦è€ƒè™‘ä¸€ç§æƒ…å†µ</span><br><span class="line">        bool rev = false;</span><br><span class="line">        if (dividend &gt; 0) &#123;</span><br><span class="line">            dividend = -dividend;</span><br><span class="line">            rev = !rev;</span><br><span class="line">        &#125;</span><br><span class="line">        if (divisor &gt; 0) &#123;</span><br><span class="line">            divisor = -divisor;</span><br><span class="line">            rev = !rev;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        int left = 1, right = int.MaxValue, ans = 0;</span><br><span class="line">        while (left &lt;= right) &#123;</span><br><span class="line">            // æ³¨æ„æº¢å‡ºï¼Œå¹¶ä¸”ä¸èƒ½ä½¿ç”¨é™¤æ³•</span><br><span class="line">            int mid = left + ((right - left) &gt;&gt; 1);</span><br><span class="line">            bool check = quickAdd(divisor, mid, dividend);</span><br><span class="line">            if (check) &#123;</span><br><span class="line">                ans = mid;</span><br><span class="line">                // æ³¨æ„æº¢å‡º</span><br><span class="line">                if (mid == int.MaxValue) &#123;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">                left = mid + 1;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                right = mid - 1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return rev ? -ans : ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // å¿«é€Ÿä¹˜</span><br><span class="line">    public bool quickAdd(int y, int z, int x) &#123;</span><br><span class="line">        // x å’Œ y æ˜¯è´Ÿæ•°ï¼Œz æ˜¯æ­£æ•°</span><br><span class="line">        // éœ€è¦åˆ¤æ–­ z * y &gt;= x æ˜¯å¦æˆç«‹</span><br><span class="line">        int result = 0, add = y;</span><br><span class="line">        while (z != 0) &#123;</span><br><span class="line">            if ((z &amp; 1) != 0) &#123;</span><br><span class="line">                // éœ€è¦ä¿è¯ result + add &gt;= x</span><br><span class="line">                if (result &lt; x - add) &#123;</span><br><span class="line">                    return false;</span><br><span class="line">                &#125;</span><br><span class="line">                result += add;</span><br><span class="line">            &#125;</span><br><span class="line">            if (z != 1) &#123;</span><br><span class="line">                // éœ€è¦ä¿è¯ add + add &gt;= x</span><br><span class="line">                if (add &lt; x - add) &#123;</span><br><span class="line">                    return false;</span><br><span class="line">                &#125;</span><br><span class="line">                add += add;</span><br><span class="line">            &#125;</span><br><span class="line">            // ä¸èƒ½ä½¿ç”¨é™¤æ³•</span><br><span class="line">            z &gt;&gt;= 1;</span><br><span class="line">        &#125;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">divide</span><span class="params">(self, dividend: int, divisor: int)</span> -&gt; int:</span></span><br><span class="line">        INT_MIN, INT_MAX = <span class="number">-2</span>**<span class="number">31</span>, <span class="number">2</span>**<span class="number">31</span> - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># è€ƒè™‘è¢«é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> dividend == INT_MIN:</span><br><span class="line">            <span class="keyword">if</span> divisor == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> INT_MIN</span><br><span class="line">            <span class="keyword">if</span> divisor == <span class="number">-1</span>:</span><br><span class="line">                <span class="keyword">return</span> INT_MAX</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è€ƒè™‘é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> divisor == INT_MIN:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span> <span class="keyword">if</span> dividend == INT_MIN <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">        <span class="comment"># è€ƒè™‘è¢«é™¤æ•°ä¸º 0 çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> dividend == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># ä¸€èˆ¬æƒ…å†µï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">        <span class="comment"># å°†æ‰€æœ‰çš„æ­£æ•°å–ç›¸åæ•°ï¼Œè¿™æ ·å°±åªéœ€è¦è€ƒè™‘ä¸€ç§æƒ…å†µ</span></span><br><span class="line">        rev = <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">if</span> dividend &gt; <span class="number">0</span>:</span><br><span class="line">            dividend = -dividend</span><br><span class="line">            rev = <span class="keyword">not</span> rev</span><br><span class="line">        <span class="keyword">if</span> divisor &gt; <span class="number">0</span>:</span><br><span class="line">            divisor = -divisor</span><br><span class="line">            rev = <span class="keyword">not</span> rev</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¿«é€Ÿä¹˜</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">quickAdd</span><span class="params">(y: int, z: int, x: int)</span> -&gt; bool:</span></span><br><span class="line">            <span class="comment"># x å’Œ y æ˜¯è´Ÿæ•°ï¼Œz æ˜¯æ­£æ•°</span></span><br><span class="line">            <span class="comment"># éœ€è¦åˆ¤æ–­ z * y &gt;= x æ˜¯å¦æˆç«‹</span></span><br><span class="line">            result, add = <span class="number">0</span>, y</span><br><span class="line">            <span class="keyword">while</span> z &gt; <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">if</span> (z &amp; <span class="number">1</span>) == <span class="number">1</span>:</span><br><span class="line">                    <span class="comment"># éœ€è¦ä¿è¯ result + add &gt;= x</span></span><br><span class="line">                    <span class="keyword">if</span> result &lt; x - add:</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">                    result += add</span><br><span class="line">                <span class="keyword">if</span> z != <span class="number">1</span>:</span><br><span class="line">                    <span class="comment"># éœ€è¦ä¿è¯ add + add &gt;= x</span></span><br><span class="line">                    <span class="keyword">if</span> add &lt; x - add:</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">                    add += add</span><br><span class="line">                <span class="comment"># ä¸èƒ½ä½¿ç”¨é™¤æ³•</span></span><br><span class="line">                z &gt;&gt;= <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        </span><br><span class="line">        left, right, ans = <span class="number">1</span>, INT_MAX, <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> left &lt;= right:</span><br><span class="line">            <span class="comment"># æ³¨æ„æº¢å‡ºï¼Œå¹¶ä¸”ä¸èƒ½ä½¿ç”¨é™¤æ³•</span></span><br><span class="line">            mid = left + ((right - left) &gt;&gt; <span class="number">1</span>)</span><br><span class="line">            check = quickAdd(divisor, mid, dividend)</span><br><span class="line">            <span class="keyword">if</span> check:</span><br><span class="line">                ans = mid</span><br><span class="line">                <span class="comment"># æ³¨æ„æº¢å‡º</span></span><br><span class="line">                <span class="keyword">if</span> mid == INT_MAX:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                left = mid + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                right = mid - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> -ans <span class="keyword">if</span> rev <span class="keyword">else</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¿«é€Ÿä¹˜</span></span><br><span class="line"><span class="comment">// x å’Œ y æ˜¯è´Ÿæ•°ï¼Œz æ˜¯æ­£æ•°</span></span><br><span class="line"><span class="comment">// åˆ¤æ–­ z * y &gt;= x æ˜¯å¦æˆç«‹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">quickAdd</span><span class="params">(y, z, x <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> result, add := <span class="number">0</span>, y; z &gt; <span class="number">0</span>; z &gt;&gt;= <span class="number">1</span> &#123; <span class="comment">// ä¸èƒ½ä½¿ç”¨é™¤æ³•</span></span><br><span class="line">        <span class="keyword">if</span> z&amp;<span class="number">1</span> &gt; <span class="number">0</span> &#123;</span><br><span class="line">            <span class="comment">// éœ€è¦ä¿è¯ result + add &gt;= x</span></span><br><span class="line">            <span class="keyword">if</span> result &lt; x-add &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">            result += add</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> z != <span class="number">1</span> &#123;</span><br><span class="line">            <span class="comment">// éœ€è¦ä¿è¯ add + add &gt;= x</span></span><br><span class="line">            <span class="keyword">if</span> add &lt; x-add &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">            add += add</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">divide</span><span class="params">(dividend, divisor <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> dividend == math.MinInt32 &#123; <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> divisor == <span class="number">1</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> math.MinInt32</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> divisor == <span class="number">-1</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> math.MaxInt32</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> divisor == math.MinInt32 &#123; <span class="comment">// è€ƒè™‘é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> dividend == math.MinInt32 &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> dividend == <span class="number">0</span> &#123; <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸º 0 çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸€èˆ¬æƒ…å†µï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">    <span class="comment">// å°†æ‰€æœ‰çš„æ­£æ•°å–ç›¸åæ•°ï¼Œè¿™æ ·å°±åªéœ€è¦è€ƒè™‘ä¸€ç§æƒ…å†µ</span></span><br><span class="line">    rev := <span class="literal">false</span></span><br><span class="line">    <span class="keyword">if</span> dividend &gt; <span class="number">0</span> &#123;</span><br><span class="line">        dividend = -dividend</span><br><span class="line">        rev = !rev</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> divisor &gt; <span class="number">0</span> &#123;</span><br><span class="line">        divisor = -divisor</span><br><span class="line">        rev = !rev</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line">    left, right := <span class="number">1</span>, math.MaxInt32</span><br><span class="line">    <span class="keyword">for</span> left &lt;= right &#123;</span><br><span class="line">        mid := left + (right-left)&gt;&gt;<span class="number">1</span> <span class="comment">// æ³¨æ„æº¢å‡ºï¼Œå¹¶ä¸”ä¸èƒ½ä½¿ç”¨é™¤æ³•</span></span><br><span class="line">        <span class="keyword">if</span> quickAdd(divisor, mid, dividend) &#123;</span><br><span class="line">            ans = mid</span><br><span class="line">            <span class="keyword">if</span> mid == math.MaxInt32 &#123; <span class="comment">// æ³¨æ„æº¢å‡º</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> rev &#123;</span><br><span class="line">        <span class="keyword">return</span> -ans</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> divide = <span class="function"><span class="keyword">function</span>(<span class="params">dividend, divisor</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> MAX_VALUE = <span class="number">2</span> ** <span class="number">31</span> - <span class="number">1</span>, MIN_VALUE = -(<span class="number">2</span> ** <span class="number">31</span>);</span><br><span class="line">    <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">if</span> (dividend === MIN_VALUE) &#123;</span><br><span class="line">        <span class="keyword">if</span> (divisor === <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> MIN_VALUE;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (divisor === <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> MAX_VALUE;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è€ƒè™‘é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">if</span> (divisor === MIN_VALUE) &#123;</span><br><span class="line">        <span class="keyword">return</span> dividend === MIN_VALUE ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸º 0 çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">if</span> (dividend === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä¸€èˆ¬æƒ…å†µï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">    <span class="comment">// å°†æ‰€æœ‰çš„æ­£æ•°å–ç›¸åæ•°ï¼Œè¿™æ ·å°±åªéœ€è¦è€ƒè™‘ä¸€ç§æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">let</span> rev = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (dividend &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        dividend = -dividend;</span><br><span class="line">        rev = !rev;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (divisor &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        divisor = -divisor;</span><br><span class="line">        rev = !rev;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> left = <span class="number">1</span>, right = MAX_VALUE, ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="comment">// æ³¨æ„æº¢å‡ºï¼Œå¹¶ä¸”ä¸èƒ½ä½¿ç”¨é™¤æ³•</span></span><br><span class="line">        <span class="keyword">const</span> mid = left + ((right - left) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">const</span> check = quickAdd(divisor, mid, dividend);</span><br><span class="line">        <span class="keyword">if</span> (check) &#123;</span><br><span class="line">            ans = mid;</span><br><span class="line">            <span class="comment">// æ³¨æ„æº¢å‡º</span></span><br><span class="line">            <span class="keyword">if</span> (mid === MAX_VALUE) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> rev ? -ans : ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¿«é€Ÿä¹˜</span></span><br><span class="line"><span class="keyword">const</span> quickAdd = <span class="function">(<span class="params">y, z, x</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// x å’Œ y æ˜¯è´Ÿæ•°ï¼Œz æ˜¯æ­£æ•°</span></span><br><span class="line">    <span class="comment">// éœ€è¦åˆ¤æ–­ z * y &gt;= x æ˜¯å¦æˆç«‹</span></span><br><span class="line">    <span class="keyword">let</span> result = <span class="number">0</span>, add = y;</span><br><span class="line">    <span class="keyword">while</span> (z !== <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((z &amp; <span class="number">1</span>) !== <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// éœ€è¦ä¿è¯ result + add &gt;= x</span></span><br><span class="line">            <span class="keyword">if</span> (result &lt; x - add) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            result += add;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (z !== <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// éœ€è¦ä¿è¯ add + add &gt;= x</span></span><br><span class="line">            <span class="keyword">if</span> (add &lt; x - add) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            add += add;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ä¸èƒ½ä½¿ç”¨é™¤æ³•</span></span><br><span class="line">        z &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><h2 id="æ–¹æ³•äºŒï¼šç±»äºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•äºŒï¼šç±»äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•äºŒï¼šç±»äºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•äºŒï¼šç±»äºŒåˆ†æŸ¥æ‰¾</h2><p><strong>æ€è·¯ä¸ç®—æ³•</strong><a href="https://leetcode-cn.com/problems/divide-two-integers/solution/liang-shu-xiang-chu-by-leetcode-solution-5hic/" target="_blank" rel="noopener">^1</a></p><p><strong>ä»£ç </strong></p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> dividend, <span class="keyword">int</span> divisor)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (dividend == INT_MIN) &#123;</span><br><span class="line">            <span class="keyword">if</span> (divisor == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> INT_MIN;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (divisor == <span class="number">-1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> INT_MAX;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è€ƒè™‘é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (divisor == INT_MIN) &#123;</span><br><span class="line">            <span class="keyword">return</span> dividend == INT_MIN ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸º 0 çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (dividend == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¸€èˆ¬æƒ…å†µï¼Œä½¿ç”¨ç±»äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰çš„æ­£æ•°å–ç›¸åæ•°ï¼Œè¿™æ ·å°±åªéœ€è¦è€ƒè™‘ä¸€ç§æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">bool</span> rev = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (dividend &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            dividend = -dividend;</span><br><span class="line">            rev = !rev;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (divisor &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            divisor = -divisor;</span><br><span class="line">            rev = !rev;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; candidates = &#123;divisor&#125;;</span><br><span class="line">        <span class="comment">// æ³¨æ„æº¢å‡º</span></span><br><span class="line">        <span class="keyword">while</span> (candidates.back() &gt;= dividend - candidates.back()) &#123;</span><br><span class="line">            candidates.push_back(candidates.back() + candidates.back());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = candidates.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (candidates[i] &gt;= dividend) &#123;</span><br><span class="line">                ans += (<span class="number">1</span> &lt;&lt; i);</span><br><span class="line">                dividend -= candidates[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> rev ? -ans : ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> dividend, <span class="keyword">int</span> divisor)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (dividend == Integer.MIN_VALUE) &#123;</span><br><span class="line">            <span class="keyword">if</span> (divisor == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> Integer.MIN_VALUE;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (divisor == -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> Integer.MAX_VALUE;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è€ƒè™‘é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (divisor == Integer.MIN_VALUE) &#123;</span><br><span class="line">            <span class="keyword">return</span> dividend == Integer.MIN_VALUE ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸º 0 çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> (dividend == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¸€èˆ¬æƒ…å†µï¼Œä½¿ç”¨ç±»äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰çš„æ­£æ•°å–ç›¸åæ•°ï¼Œè¿™æ ·å°±åªéœ€è¦è€ƒè™‘ä¸€ç§æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">boolean</span> rev = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (dividend &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            dividend = -dividend;</span><br><span class="line">            rev = !rev;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (divisor &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            divisor = -divisor;</span><br><span class="line">            rev = !rev;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        List&lt;Integer&gt; candidates = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        candidates.add(divisor);</span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// æ³¨æ„æº¢å‡º</span></span><br><span class="line">        <span class="keyword">while</span> (candidates.get(index) &gt;= dividend - candidates.get(index)) &#123;</span><br><span class="line">            candidates.add(candidates.get(index) + candidates.get(index));</span><br><span class="line">            ++index;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = candidates.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (candidates.get(i) &gt;= dividend) &#123;</span><br><span class="line">                ans += <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">                dividend -= candidates.get(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> rev ? -ans : ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol2-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int Divide(int dividend, int divisor) &#123;</span><br><span class="line">        // è€ƒè™‘è¢«é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span><br><span class="line">        if (dividend == int.MinValue) &#123;</span><br><span class="line">            if (divisor == 1) &#123;</span><br><span class="line">                return int.MinValue;</span><br><span class="line">            &#125;</span><br><span class="line">            if (divisor == -1) &#123;</span><br><span class="line">                return int.MaxValue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        // è€ƒè™‘é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span><br><span class="line">        if (divisor == int.MinValue) &#123;</span><br><span class="line">            return dividend == int.MinValue ? 1 : 0;</span><br><span class="line">        &#125;</span><br><span class="line">        // è€ƒè™‘è¢«é™¤æ•°ä¸º 0 çš„æƒ…å†µ</span><br><span class="line">        if (dividend == 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        // ä¸€èˆ¬æƒ…å†µï¼Œä½¿ç”¨ç±»äºŒåˆ†æŸ¥æ‰¾</span><br><span class="line">        // å°†æ‰€æœ‰çš„æ­£æ•°å–ç›¸åæ•°ï¼Œè¿™æ ·å°±åªéœ€è¦è€ƒè™‘ä¸€ç§æƒ…å†µ</span><br><span class="line">        bool rev = false;</span><br><span class="line">        if (dividend &gt; 0) &#123;</span><br><span class="line">            dividend = -dividend;</span><br><span class="line">            rev = !rev;</span><br><span class="line">        &#125;</span><br><span class="line">        if (divisor &gt; 0) &#123;</span><br><span class="line">            divisor = -divisor;</span><br><span class="line">            rev = !rev;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        IList&lt;int&gt; candidates = new List&lt;int&gt;();</span><br><span class="line">        candidates.Add(divisor);</span><br><span class="line">        int index = 0;</span><br><span class="line">        // æ³¨æ„æº¢å‡º</span><br><span class="line">        while (candidates[index] &gt;= dividend - candidates[index]) &#123;</span><br><span class="line">            candidates.Add(candidates[index] + candidates[index]);</span><br><span class="line">            ++index;</span><br><span class="line">        &#125;</span><br><span class="line">        int ans = 0;</span><br><span class="line">        for (int i = candidates.Count - 1; i &gt;= 0; --i) &#123;</span><br><span class="line">            if (candidates[i] &gt;= dividend) &#123;</span><br><span class="line">                ans += 1 &lt;&lt; i;</span><br><span class="line">                dividend -= candidates[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return rev ? -ans : ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">divide</span><span class="params">(self, dividend: int, divisor: int)</span> -&gt; int:</span></span><br><span class="line">        INT_MIN, INT_MAX = <span class="number">-2</span>**<span class="number">31</span>, <span class="number">2</span>**<span class="number">31</span> - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># è€ƒè™‘è¢«é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> dividend == INT_MIN:</span><br><span class="line">            <span class="keyword">if</span> divisor == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> INT_MIN</span><br><span class="line">            <span class="keyword">if</span> divisor == <span class="number">-1</span>:</span><br><span class="line">                <span class="keyword">return</span> INT_MAX</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è€ƒè™‘é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> divisor == INT_MIN:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span> <span class="keyword">if</span> dividend == INT_MIN <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">        <span class="comment"># è€ƒè™‘è¢«é™¤æ•°ä¸º 0 çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> dividend == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># ä¸€èˆ¬æƒ…å†µï¼Œä½¿ç”¨ç±»äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">        <span class="comment"># å°†æ‰€æœ‰çš„æ­£æ•°å–ç›¸åæ•°ï¼Œè¿™æ ·å°±åªéœ€è¦è€ƒè™‘ä¸€ç§æƒ…å†µ</span></span><br><span class="line">        rev = <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">if</span> dividend &gt; <span class="number">0</span>:</span><br><span class="line">            dividend = -dividend</span><br><span class="line">            rev = <span class="keyword">not</span> rev</span><br><span class="line">        <span class="keyword">if</span> divisor &gt; <span class="number">0</span>:</span><br><span class="line">            divisor = -divisor</span><br><span class="line">            rev = <span class="keyword">not</span> rev</span><br><span class="line">        </span><br><span class="line">        candidates = [divisor]</span><br><span class="line">        <span class="comment"># æ³¨æ„æº¢å‡º</span></span><br><span class="line">        <span class="keyword">while</span> candidates[<span class="number">-1</span>] &gt;= dividend - candidates[<span class="number">-1</span>]:</span><br><span class="line">            candidates.append(candidates[<span class="number">-1</span>] + candidates[<span class="number">-1</span>])</span><br><span class="line">        </span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(candidates) - <span class="number">1</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> candidates[i] &gt;= dividend:</span><br><span class="line">                ans += (<span class="number">1</span> &lt;&lt; i)</span><br><span class="line">                dividend -= candidates[i]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> -ans <span class="keyword">if</span> rev <span class="keyword">else</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">divide</span><span class="params">(dividend, divisor <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> dividend == math.MinInt32 &#123; <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> divisor == <span class="number">1</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> math.MinInt32</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> divisor == <span class="number">-1</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> math.MaxInt32</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> divisor == math.MinInt32 &#123; <span class="comment">// è€ƒè™‘é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">if</span> dividend == math.MinInt32 &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> dividend == <span class="number">0</span> &#123; <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸º 0 çš„æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸€èˆ¬æƒ…å†µï¼Œä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">    <span class="comment">// å°†æ‰€æœ‰çš„æ­£æ•°å–ç›¸åæ•°ï¼Œè¿™æ ·å°±åªéœ€è¦è€ƒè™‘ä¸€ç§æƒ…å†µ</span></span><br><span class="line">    rev := <span class="literal">false</span></span><br><span class="line">    <span class="keyword">if</span> dividend &gt; <span class="number">0</span> &#123;</span><br><span class="line">        dividend = -dividend</span><br><span class="line">        rev = !rev</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> divisor &gt; <span class="number">0</span> &#123;</span><br><span class="line">        divisor = -divisor</span><br><span class="line">        rev = !rev</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    candidates := []<span class="keyword">int</span>&#123;divisor&#125;</span><br><span class="line">    <span class="keyword">for</span> y := divisor; y &gt;= dividend-y; &#123; <span class="comment">// æ³¨æ„æº¢å‡º</span></span><br><span class="line">        y += y</span><br><span class="line">        candidates = <span class="built_in">append</span>(candidates, y)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="built_in">len</span>(candidates) - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">        <span class="keyword">if</span> candidates[i] &gt;= dividend &#123;</span><br><span class="line">            ans |= <span class="number">1</span> &lt;&lt; i</span><br><span class="line">            dividend -= candidates[i]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> rev &#123;</span><br><span class="line">        <span class="keyword">return</span> -ans</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol2-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> divide = <span class="function"><span class="keyword">function</span>(<span class="params">dividend, divisor</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> MAX_VALUE = <span class="number">2</span> ** <span class="number">31</span> - <span class="number">1</span>, MIN_VALUE = -(<span class="number">2</span> ** <span class="number">31</span>);</span><br><span class="line">    <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">if</span> (dividend === MIN_VALUE) &#123;</span><br><span class="line">        <span class="keyword">if</span> (divisor === <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> MIN_VALUE;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (divisor === <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> MAX_VALUE;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è€ƒè™‘é™¤æ•°ä¸ºæœ€å°å€¼çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">if</span> (divisor === MIN_VALUE) &#123;</span><br><span class="line">        <span class="keyword">return</span> dividend === MIN_VALUE ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è€ƒè™‘è¢«é™¤æ•°ä¸º 0 çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">if</span> (dividend === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä¸€èˆ¬æƒ…å†µï¼Œä½¿ç”¨ç±»äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">    <span class="comment">// å°†æ‰€æœ‰çš„æ­£æ•°å–ç›¸åæ•°ï¼Œè¿™æ ·å°±åªéœ€è¦è€ƒè™‘ä¸€ç§æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">let</span> rev = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (dividend &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        dividend = -dividend;</span><br><span class="line">        rev = !rev;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (divisor &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        divisor = -divisor;</span><br><span class="line">        rev = !rev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> candidates = [divisor];</span><br><span class="line">    <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// æ³¨æ„æº¢å‡º</span></span><br><span class="line">    <span class="keyword">while</span> (candidates[index] &gt;= dividend - candidates[index]) &#123;</span><br><span class="line">        candidates.push(candidates[index] + candidates[index]);</span><br><span class="line">        ++index;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = candidates.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (candidates[i] &gt;= dividend) &#123;</span><br><span class="line">            ans += <span class="number">1</span> &lt;&lt; i;</span><br><span class="line">            dividend -= candidates[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> rev ? -ans : ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸¤ä¸ªæ•´æ•° a å’Œ b ï¼Œæ±‚å®ƒä»¬çš„é™¤æ³•çš„å•† a/b ï¼Œè¦æ±‚ä¸å¾—ä½¿ç”¨ä¹˜å· â€˜*â€™ã€é™¤å· â€˜/â€˜ ä»¥åŠæ±‚ä½™ç¬¦å· â€˜%â€™ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´10æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B410%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
  </entry>
  
  <entry>
    <title>1071. å­—ç¬¦ä¸²çš„æœ€å¤§å…¬å› å­</title>
    <link href="http://yoursite.com/2021/09/04/1071.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%9C%80%E5%A4%A7%E5%85%AC%E5%9B%A0%E5%AD%90/"/>
    <id>http://yoursite.com/2021/09/04/1071. å­—ç¬¦ä¸²çš„æœ€å¤§å…¬å› å­/</id>
    <published>2021-09-04T08:12:12.000Z</published>
    <updated>2021-09-06T02:45:24.264Z</updated>
    
    <content type="html"><![CDATA[<p>å¯¹äºå­—ç¬¦ä¸² S å’Œ Tï¼Œåªæœ‰åœ¨ S = T + â€¦ + Tï¼ˆT è‡ªèº«è¿æ¥ 1 æ¬¡æˆ–å¤šæ¬¡ï¼‰æ—¶ï¼Œæˆ‘ä»¬æ‰è®¤å®š â€œT èƒ½é™¤å°½ Sâ€ã€‚</p><p>è¿”å›æœ€é•¿å­—ç¬¦ä¸² Xï¼Œè¦æ±‚æ»¡è¶³ X èƒ½é™¤å°½ str1 ä¸” X èƒ½é™¤å°½ str2ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šstr1 = &quot;ABCABC&quot;, str2 = &quot;ABC&quot;è¾“å‡ºï¼š&quot;ABC&quot;</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šstr1 = &quot;ABABAB&quot;, str2 = &quot;ABAB&quot;è¾“å‡ºï¼š&quot;AB&quot;</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šstr1 = &quot;LEET&quot;, str2 = &quot;CODE&quot;è¾“å‡ºï¼š&quot;&quot;</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= str1.length &lt;= 10001 &lt;= str2.length &lt;= 1000str1[i] å’Œ str2[i] ä¸ºå¤§å†™è‹±æ–‡å­—æ¯</code></pre><h1 id="é¢„å¤‡çŸ¥è¯†"><a href="#é¢„å¤‡çŸ¥è¯†" class="headerlink" title="é¢„å¤‡çŸ¥è¯†"></a>é¢„å¤‡çŸ¥è¯†</h1><ul><li>çº¦æ•°ï¼Œæœ€å¤§å…¬çº¦æ•°</li><li>è¾—è½¬ç›¸é™¤æ³•</li></ul><h1 id="æ–¹æ³•ä¸€ï¼šæšä¸¾"><a href="#æ–¹æ³•ä¸€ï¼šæšä¸¾" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæšä¸¾"></a>æ–¹æ³•ä¸€ï¼šæšä¸¾</h1><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>é¦–å…ˆç­”æ¡ˆè‚¯å®šæ˜¯å­—ç¬¦ä¸²çš„æŸä¸ªå‰ç¼€ï¼Œç„¶åç®€å•ç›´è§‚çš„æƒ³æ³•å°±æ˜¯æšä¸¾æ‰€æœ‰çš„å‰ç¼€æ¥åˆ¤æ–­ï¼Œæˆ‘ä»¬è®¾è¿™ä¸ªå‰ç¼€ä¸²é•¿åº¦ä¸º len ï¼Œ<code>str1</code> çš„é•¿åº¦ä¸º len1ï¼Œ<code>str2</code> çš„é•¿åº¦ä¸º len2 ï¼Œåˆ™æˆ‘ä»¬çŸ¥é“å‰ç¼€ä¸²çš„é•¿åº¦å¿…ç„¶è¦æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦çš„çº¦æ•°æ‰èƒ½æ»¡è¶³æ¡ä»¶ï¼Œå¦åˆ™æ— æ³•ç»è¿‡è‹¥å¹²æ¬¡æ‹¼æ¥åå¾—åˆ°é•¿åº¦ç›¸ç­‰çš„å­—ç¬¦ä¸²</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æšä¸¾ç¬¦åˆé•¿åº¦æ¡ä»¶çš„å‰ç¼€ä¸²ï¼Œå†å»åˆ¤æ–­è¿™ä¸ªå‰ç¼€ä¸²æ‹¼æ¥è‹¥å¹²æ¬¡ä»¥åæ˜¯å¦ç­‰äº <code>str1</code> å’Œ <code>str2</code> å³å¯ã€‚</p><p>ç”±äºé¢˜ç›®è¦æ±‚æœ€é•¿çš„ç¬¦åˆè¦æ±‚çš„å­—ç¬¦ä¸² <code>X</code>ï¼Œæ‰€ä»¥å¯ä»¥æŒ‰é•¿åº¦ä»å¤§åˆ°å°æšä¸¾å‰ç¼€ä¸²ï¼Œè¿™æ ·ç¢°åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å‰ç¼€ä¸²è¿”å›å³å¯ã€‚</p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="built_in">string</span> t,<span class="built_in">string</span> s)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> lenx = (<span class="keyword">int</span>)s.length() / (<span class="keyword">int</span>)t.length();</span><br><span class="line">        <span class="built_in">string</span> ans = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= lenx; ++i)&#123;</span><br><span class="line">            ans = ans + t;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans == s;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">gcdOfStrings</span><span class="params">(<span class="built_in">string</span> str1, <span class="built_in">string</span> str2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len1 = (<span class="keyword">int</span>)str1.length(), len2 = (<span class="keyword">int</span>)str2.length();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = min(len1, len2); i &gt;= <span class="number">1</span>; --i)&#123; <span class="comment">// ä»é•¿åº¦å¤§çš„å¼€å§‹æšä¸¾</span></span><br><span class="line">            <span class="keyword">if</span> (len1 % i == <span class="number">0</span> &amp;&amp; len2 % i == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="built_in">string</span> X = str1.substr(<span class="number">0</span>, i);</span><br><span class="line">                <span class="keyword">if</span> (check(X, str1) &amp;&amp; check(X, str2)) <span class="keyword">return</span> X;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">gcdOfStrings</span><span class="params">(String str1, String str2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len1 = str1.length(), len2 = str2.length();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = Math.min(len1, len2); i &gt;= <span class="number">1</span>; --i) &#123; <span class="comment">// ä»é•¿åº¦å¤§çš„å¼€å§‹æšä¸¾</span></span><br><span class="line">            <span class="keyword">if</span> (len1 % i == <span class="number">0</span> &amp;&amp; len2 % i == <span class="number">0</span>) &#123;</span><br><span class="line">                String X = str1.substring(<span class="number">0</span>, i);</span><br><span class="line">                <span class="keyword">if</span> (check(X, str1) &amp;&amp; check(X, str2)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> X;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(String t, String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> lenx = s.length() / t.length();</span><br><span class="line">        StringBuffer ans = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= lenx; ++i) &#123;</span><br><span class="line">            ans.append(t);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans.toString().equals(s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">gcdOfStrings</span><span class="params">(self, str1: str, str2: str)</span> -&gt; str:</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(min(len(str1), len(str2)), <span class="number">0</span>, <span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> (len(str1) % i) == <span class="number">0</span> <span class="keyword">and</span> (len(str2) % i) == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">if</span> str1[: i] * (len(str1) // i) == str1 <span class="keyword">and</span> str1[: i] * (len(str2) // i) == str2:</span><br><span class="line">                    <span class="keyword">return</span> str1[: i]</span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span></span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><h1 id="æ–¹æ³•äºŒï¼šæšä¸¾ä¼˜åŒ–"><a href="#æ–¹æ³•äºŒï¼šæšä¸¾ä¼˜åŒ–" class="headerlink" title="æ–¹æ³•äºŒï¼šæšä¸¾ä¼˜åŒ–"></a>æ–¹æ³•äºŒï¼šæšä¸¾ä¼˜åŒ–</h1><p><strong>æ€è·¯</strong></p><p>æ³¨æ„åˆ°ä¸€ä¸ªæ€§è´¨ï¼š<strong>å¦‚æœå­˜åœ¨ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„å­—ç¬¦ä¸² <code>X</code>ï¼Œé‚£ä¹ˆä¹Ÿä¸€å®šå­˜åœ¨ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„å­—ç¬¦ä¸² <code>X&#39;</code>ï¼Œå®ƒçš„é•¿åº¦ä¸º <code>str1</code> å’Œ <code>str2</code> é•¿åº¦çš„æœ€å¤§å…¬çº¦æ•°</strong>ã€‚</p><p>ç®€å•æ¥è¯´ï¼Œæ–¹æ³•ä¸€ä¸­æˆ‘ä»¬å·²ç»çŸ¥é“ç¬¦åˆæ¡ä»¶çš„é•¿åº¦å‡ºç°åœ¨ gcd(len1,len2) çš„æ‰€æœ‰çº¦æ•°ä¸­ï¼Œæˆ‘ä»¬å‡è®¾å…¶ä¸­ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„çº¦æ•°ä¸º lenx ï¼Œè¯¥é•¿åº¦ä¸º lenx çš„å‰ç¼€ä¸² <em>X</em> èƒ½ç»è¿‡è‹¥å¹²æ¬¡æ‹¼æ¥åå¾—åˆ° <code>str1</code> å’Œ <code>str2</code>ã€‚æ‹¿ <code>str1</code> ä¸¾ä¾‹ï¼Œ<em>X</em> ç»è¿‡ len1/lenx  æ¬¡æ‹¼æ¥åå¾—åˆ°äº† <code>str1</code>ï¼Œè€Œ <em>X</em> åˆèƒ½ç»è¿‡ gcd(len1,len2)/lenx æ¬¡æ‹¼æ¥åå¾—åˆ°é•¿åº¦ä¸ºgcd(len1,len2) çš„å‰ç¼€ä¸² <em>Xâ€™</em> ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ¯æ¬¡å–å‡º gcd(len1,len2)/lenx ä¸ª <em>X</em> æ¥ç”¨ <em>Xâ€™</em> å®Œæˆæ›¿æ¢ï¼Œæœ€å <code>str1</code> ä¼šè¢«æ›¿æ¢æˆ len1/gcd(len1,len2)  ä¸ª <em>Xâ€™</em> ï¼Œ<code>str2</code> åŒç†å¯å¾—ã€‚å› æ­¤å¦‚æœå­˜åœ¨ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„å­—ç¬¦ä¸² <em>X</em>ï¼Œé‚£ä¹ˆä¹Ÿä¸€å®šå­˜åœ¨ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„å­—ç¬¦ä¸² <em>Xâ€™</em>ï¼Œå®ƒçš„é•¿åº¦ä¸º <code>str1</code> å’Œ <code>str2</code> é•¿åº¦çš„æœ€å¤§å…¬çº¦æ•°ã€‚æˆ‘ä»¬åªéœ€è¦åˆ¤æ–­é•¿åº¦ä¸ºgcd(len1,len2) çš„å‰ç¼€ä¸²æ˜¯å¦æ»¡è¶³è¦æ±‚å³å¯ã€‚</p><p><strong>ç®—æ³•</strong></p><p>ç”±ä¸Šè¿°æ€§è´¨æˆ‘ä»¬å¯ä»¥å…ˆç”¨è¾—è½¬ç›¸é™¤æ³•æ±‚å¾—ä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦çš„æœ€å¤§å…¬çº¦æ•°gcd(len1,len2) ï¼Œå–å‡ºè¯¥é•¿åº¦çš„å‰ç¼€ä¸²ï¼Œåˆ¤æ–­ä¸€ä¸‹å®ƒæ˜¯å¦èƒ½ç»è¿‡è‹¥å¹²æ¬¡æ‹¼æ¥å¾—åˆ° <code>str1</code> å’Œ <code>str2</code> å³å¯ã€‚</p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="built_in">string</span> t,<span class="built_in">string</span> s)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> lenx = (<span class="keyword">int</span>)s.length() / (<span class="keyword">int</span>)t.length();</span><br><span class="line">        <span class="built_in">string</span> ans = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= lenx; ++i)&#123;</span><br><span class="line">            ans = ans + t;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans == s;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">gcdOfStrings</span><span class="params">(<span class="built_in">string</span> str1, <span class="built_in">string</span> str2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len1 = (<span class="keyword">int</span>)str1.length(), len2 = (<span class="keyword">int</span>)str2.length();</span><br><span class="line">        <span class="built_in">string</span> T = str1.substr(<span class="number">0</span>, __gcd(len1,len2)); <span class="comment">// __gcd() ä¸ºc++è‡ªå¸¦çš„æ±‚æœ€å¤§å…¬çº¦æ•°çš„å‡½æ•°</span></span><br><span class="line">        <span class="keyword">if</span> (check(T, str1) &amp;&amp; check(T, str2)) <span class="keyword">return</span> T;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">gcdOfStrings</span><span class="params">(String str1, String str2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len1 = str1.length(), len2 = str2.length();</span><br><span class="line">        String T = str1.substring(<span class="number">0</span>, gcd(len1, len2));</span><br><span class="line">        <span class="keyword">if</span> (check(T, str1) &amp;&amp; check(T, str2)) &#123;</span><br><span class="line">            <span class="keyword">return</span> T;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(String t, String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> lenx = s.length() / t.length();</span><br><span class="line">        StringBuffer ans = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= lenx; ++i) &#123;</span><br><span class="line">            ans.append(t);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans.toString().equals(s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> remainder = a % b;</span><br><span class="line">        <span class="keyword">while</span> (remainder != <span class="number">0</span>) &#123;</span><br><span class="line">            a = b;</span><br><span class="line">            b = remainder;</span><br><span class="line">            remainder = a % b;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">gcdOfStrings</span><span class="params">(self, str1: str, str2: str)</span> -&gt; str:</span></span><br><span class="line">        candidate_len = math.gcd(len(str1), len(str2))</span><br><span class="line">        candidate = str1[: candidate_len]</span><br><span class="line">        <span class="keyword">if</span> candidate * (len(str1) // candidate_len) == str1 <span class="keyword">and</span> candidate * (len(str2) // candidate_len) == str2:</span><br><span class="line">            <span class="keyword">return</span> candidate</span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span></span><br></pre></td></tr></table></figure></details><h1 id="æ–¹æ³•ä¸‰ï¼šæ•°å­¦"><a href="#æ–¹æ³•ä¸‰ï¼šæ•°å­¦" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šæ•°å­¦"></a>æ–¹æ³•ä¸‰ï¼šæ•°å­¦</h1><p><strong>æ€è·¯</strong></p><p>éœ€è¦çŸ¥é“ä¸€ä¸ªæ€§è´¨ï¼š<strong>å¦‚æœ <code>str1</code> å’Œ <code>str2</code> æ‹¼æ¥åç­‰äº <code>str2</code>å’Œ <code>str1</code> æ‹¼æ¥èµ·æ¥çš„å­—ç¬¦ä¸²ï¼ˆæ³¨æ„æ‹¼æ¥é¡ºåºä¸åŒï¼‰ï¼Œé‚£ä¹ˆä¸€å®šå­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸² <code>X</code></strong>ã€‚</p><p>å…ˆè¯å¿…è¦æ€§ï¼Œå³å¦‚æœå­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸² <code>X</code> ï¼Œåˆ™ <code>str1</code> å’Œ <code>str2</code> æ‹¼æ¥åç­‰äº <code>str2</code>å’Œ <code>str1</code> æ‹¼æ¥èµ·æ¥çš„å­—ç¬¦ä¸²ã€‚</p><p>å¦‚æœå­—ç¬¦ä¸² <code>X</code> ç¬¦åˆæ¡ä»¶ï¼Œé‚£ä¹ˆ <code>str1=X+X+...+X+X=n*X</code> ï¼Œ<code>str2=X+X+..+X+X=m*X</code>ï¼Œ<code>n*X</code> è¡¨ç¤º <code>n</code> ä¸ªå­—ç¬¦ä¸² <code>X</code> æ‹¼æ¥ï¼Œ<code>m*X</code> åŒç†ï¼Œåˆ™ <code>str1</code> ä¸ <code>str2</code> æ‹¼æ¥åçš„å­—ç¬¦ä¸²å³ä¸º <code>(n+m)*X</code>ï¼Œè€Œ <code>str2</code> ä¸ <code>str1</code> æ‹¼æ¥åçš„å­—ç¬¦ä¸²å³ä¸º <code>(m+n)*X</code>ï¼Œç­‰äº <code>(n+m)*X</code>ï¼Œæ‰€ä»¥å¿…è¦æ€§å¾—è¯ã€‚</p><p>å†çœ‹å……åˆ†æ€§ï¼Œç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å¦‚ä¸‹å›¾ä¸€æ ·å…ˆå°†ä¸¤ä¸ªæ‹¼æ¥åçš„å­—ç¬¦ä¸²æ”¾åœ¨ä¸€èµ·ã€‚ä¸å¤±ä¸€èˆ¬æ€§ï¼Œæˆ‘ä»¬å‡å®š <code>str1</code> çš„é•¿åº¦å¤§äº <code>str2</code>ï¼Œ</p><p>æˆ‘ä»¬ç­‰é—´éš”å–gcd(len1,len2) é•¿åº¦çš„å­—ç¬¦ä¸²ã€‚</p><p>å¦‚æœè¯¥é•¿åº¦ç­‰äº <code>str2</code> çš„é•¿åº¦ï¼Œå³ <code>str1</code> çš„é•¿åº¦å¯ä»¥æ•´é™¤ <code>str2</code> çš„é•¿åº¦ã€‚æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå·²çŸ¥å›¾ä¸­ç¬¬ä¸€éƒ¨åˆ†ç­‰äºå›¾ä¸­çš„ç¬¬äºŒéƒ¨åˆ†ï¼ˆéƒ½æ˜¯å­—ç¬¦ä¸² <code>str1</code> çš„å¼€å¤´ï¼‰ï¼Œè€Œå›¾ä¸­çš„ç¬¬äºŒéƒ¨åˆ†åˆç­‰äºç¬¬ä¸‰éƒ¨åˆ†ï¼ˆä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬çŸ¥é“ç¬¬ä¸‰éƒ¨åˆ†ä¹Ÿæ˜¯ç­‰äºç¬¬ä¸€éƒ¨åˆ†ã€‚åŒç†æˆ‘ä»¬å¯ä»¥æ¨å¾—å›¾ä¸­åˆ’åˆ†çš„ <code>1,3,5,7</code> å››ä¸ªéƒ¨åˆ†éƒ½ç›¸ç­‰ï¼Œæ‰€ä»¥æ‹¼æ¥èµ·æ¥çš„å­—ç¬¦ä¸²å¯ä»¥ç”±ç¬¬ä¸€éƒ¨åˆ†çš„å‰ç¼€ä¸²ç»è¿‡è‹¥å¹²æ¬¡æ‹¼æ¥å¾—åˆ°ã€‚</p><p>é‚£ä¹ˆå¦‚æœä¸ç­‰äº <code>str2</code> çš„é•¿åº¦ï¼Œæˆ‘ä»¬ç”±ä¸Šæ–‡ä¸€æ ·çš„æ–¹æ³•å¯ä»¥æ¨å¾—ä¸‹å›¾ä¸­è¢«æŸ“é¢œè‰²ç›¸åŒçš„å­—ç¬¦ä¸²ç‰‡æ®µæ˜¯ç›¸ç­‰çš„ï¼Œå…¶ä¸­æ¯ä¸ªé¢œè‰²ç‰‡æ®µéƒ½æ˜¯é•¿ä¸º gcd(len1,len2) çš„å­—ç¬¦ä¸²ã€‚é‚£ä¹ˆä¸åŒé¢œè‰²ä»£è¡¨çš„å­—ç¬¦ä¸²æ˜¯å¦ä¹Ÿç›¸ç­‰å‘¢ï¼Ÿå¦‚æœç›¸ç­‰å°±å¯ä»¥æ¨å¾—æˆ‘ä»¬çš„ç»“è®ºæ˜¯æ­£ç¡®çš„ã€‚</p><p>å…¶å®ç”±ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå› ä¸ºç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å’Œç¬¬äºŒä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ï¼Œæ‰€ä»¥ä¸¤ä¸ªå­—ç¬¦ä¸²å¼€å¤´çš„éƒ¨åˆ†å¿…ç„¶ç›¸ç­‰ã€‚æˆ‘ä»¬å°†å‰ len2/gcd(len1,len2) ä¸ªè¢«æŸ“é¢œè‰²çš„éƒ¨åˆ†æ”¾åœ¨ä¸€èµ·æ¯”è¾ƒå³å¯æ¨å¾—ä¸åŒé¢œè‰²çš„éƒ¨åˆ†éƒ½æ˜¯ä¸¤ä¸¤ç›¸ç­‰çš„ï¼Œä½†æ˜¯è¿™æ˜¯åŸºäºå®ƒä»¬å¼€å¤´è¢«æŸ“çš„é¢œè‰²é¡ºåºæ˜¯ä¸åŒçš„ï¼Œè¿™ä¸€å®šæˆç«‹å—ï¼Ÿ</p><p>å…¶å®å›¾ä¸­å¯ä»¥çœ‹å‡ºç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²è¢«æŸ“çš„é¢œè‰²æ˜¯ä»¥ <code>str2</code> çš„é•¿åº¦åœ¨å¾ªç¯çš„ï¼Œç”±äºç¬¬äºŒç§æƒ…å†µä¸‹ <code>str1</code> çš„é•¿åº¦ä¸æ•´é™¤ <code>str2</code> çš„é•¿åº¦ï¼Œå¯¼è‡´ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„ <code>str1</code> éƒ¨åˆ†è¢«æŸ“å®Œé¢œè‰²çš„æ—¶å€™ï¼Œ<code>str2</code> è¢«æŸ“çš„é¢œè‰²çš„é¡ºåºå¿…ç„¶ä¸ç­‰äºå¼€å¤´ <code>str1</code> è¢«æŸ“çš„é¢œè‰²é¡ºåºï¼Œè€Œç¬¬äºŒä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´åˆæ˜¯ <code>str2</code>ï¼Œå®ƒè¢«æŸ“è‰²çš„é¡ºåºæ˜¯ç­‰äºç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ <code>str2</code> è¢«æŸ“è‰²çš„é¡ºåºçš„ï¼Œæ‰€ä»¥ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´è¢«æŸ“çš„é¢œè‰²é¡ºåºä¸€å®šä¸åŒã€‚æœ€åæˆ‘ä»¬å°±æ¨å‡ºå¦‚æœ <code>str1</code> å’Œ <code>str2</code> æ‹¼æ¥åç­‰äº <code>str2</code> å’Œ <code>str1</code> æ‹¼æ¥èµ·æ¥çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¸€å®šå­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸² <code>X</code>ã€‚</p><p><strong>ç®—æ³•</strong></p><p>æœ‰äº†è¯¥æ€§è´¨ä»¥åŠæ–¹æ³•äºŒçš„æ€§è´¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥å…ˆåˆ¤æ–­ <code>str1</code> å’Œ <code>str2</code> æ‹¼æ¥åæ˜¯å¦ç­‰äº <code>str2</code> å’Œ <code>str1</code> æ‹¼æ¥èµ·æ¥çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœç­‰äºç›´æ¥è¾“å‡ºé•¿åº¦ä¸ºgcd(len1,len2) çš„å‰ç¼€ä¸²å³å¯ï¼Œå¦åˆ™è¿”å›ç©ºä¸²ã€‚</p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol3-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">gcdOfStrings</span><span class="params">(<span class="built_in">string</span> str1, <span class="built_in">string</span> str2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (str1 + str2 != str2 + str1) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">return</span> str1.substr(<span class="number">0</span>, __gcd((<span class="keyword">int</span>)str1.length(), (<span class="keyword">int</span>)str2.length())); <span class="comment">// __gcd() ä¸ºc++è‡ªå¸¦çš„æ±‚æœ€å¤§å…¬çº¦æ•°çš„å‡½æ•°</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol3-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">gcdOfStrings</span><span class="params">(String str1, String str2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!str1.concat(str2).equals(str2.concat(str1))) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> str1.substring(<span class="number">0</span>, gcd(str1.length(), str2.length()));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> remainder = a % b;</span><br><span class="line">        <span class="keyword">while</span> (remainder != <span class="number">0</span>) &#123;</span><br><span class="line">            a = b;</span><br><span class="line">            b = remainder;</span><br><span class="line">            remainder = a % b;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[sol3-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">gcdOfStrings</span><span class="params">(self, str1: str, str2: str)</span> -&gt; str:</span></span><br><span class="line">        candidate_len = math.gcd(len(str1), len(str2))</span><br><span class="line">        candidate = str1[: candidate_len]</span><br><span class="line">        <span class="keyword">if</span> str1 + str2 == str2 + str1:</span><br><span class="line">            <span class="keyword">return</span> candidate</span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span></span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¯¹äºå­—ç¬¦ä¸² S å’Œ Tï¼Œåªæœ‰åœ¨ S = T + â€¦ + Tï¼ˆT è‡ªèº«è¿æ¥ 1 æ¬¡æˆ–å¤šæ¬¡ï¼‰æ—¶ï¼Œæˆ‘ä»¬æ‰è®¤å®š â€œT èƒ½é™¤å°½ Sâ€ã€‚&lt;/p&gt;
&lt;p&gt;è¿”å›æœ€é•¿å­—ç¬¦ä¸² Xï¼Œè¦æ±‚æ»¡è¶³ X èƒ½é™¤å°½ str1 ä¸” X èƒ½é™¤å°½ str2ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´9æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B49%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
      <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
  </entry>
  
  <entry>
    <title>1206. è®¾è®¡è·³è¡¨</title>
    <link href="http://yoursite.com/2021/05/07/1206.%20%E8%AE%BE%E8%AE%A1%E8%B7%B3%E8%A1%A8/"/>
    <id>http://yoursite.com/2021/05/07/1206. è®¾è®¡è·³è¡¨/</id>
    <published>2021-05-07T07:12:12.000Z</published>
    <updated>2021-05-19T12:24:53.918Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸ä½¿ç”¨ä»»ä½•åº“å‡½æ•°ï¼Œè®¾è®¡ä¸€ä¸ªè·³è¡¨ã€‚</p><p>è·³è¡¨æ˜¯åœ¨ O(log(n)) æ—¶é—´å†…å®Œæˆå¢åŠ ã€åˆ é™¤ã€æœç´¢æ“ä½œçš„æ•°æ®ç»“æ„ã€‚è·³è¡¨ç›¸æ¯”äºæ ‘å †ä¸çº¢é»‘æ ‘ï¼Œå…¶åŠŸèƒ½ä¸æ€§èƒ½ç›¸å½“ï¼Œå¹¶ä¸”è·³è¡¨çš„ä»£ç é•¿åº¦ç›¸è¾ƒä¸‹æ›´çŸ­ï¼Œå…¶è®¾è®¡æ€æƒ³ä¸é“¾è¡¨ç›¸ä¼¼ã€‚</p><a id="more"></a><p>ä¾‹å¦‚ï¼Œä¸€ä¸ªè·³è¡¨åŒ…å« [30, 40, 50, 60, 70, 90]ï¼Œç„¶åå¢åŠ  80ã€45 åˆ°è·³è¡¨ä¸­ï¼Œä»¥ä¸‹å›¾çš„æ–¹å¼æ“ä½œï¼š</p><p>Artyom Kalinin [CC BY-SA 3.0], via Wikimedia Commons</p><p>è·³è¡¨ä¸­æœ‰å¾ˆå¤šå±‚ï¼Œæ¯ä¸€å±‚æ˜¯ä¸€ä¸ªçŸ­çš„é“¾è¡¨ã€‚åœ¨ç¬¬ä¸€å±‚çš„ä½œç”¨ä¸‹ï¼Œå¢åŠ ã€åˆ é™¤å’Œæœç´¢æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸è¶…è¿‡ O(n)ã€‚è·³è¡¨çš„æ¯ä¸€ä¸ªæ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯ O(log(n))ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯ O(n)ã€‚</p><p>åœ¨æœ¬é¢˜ä¸­ï¼Œä½ çš„è®¾è®¡åº”è¯¥è¦åŒ…å«è¿™äº›å‡½æ•°ï¼š</p><p>bool search(int target) : è¿”å›targetæ˜¯å¦å­˜åœ¨äºè·³è¡¨ä¸­ã€‚<br>void add(int num): æ’å…¥ä¸€ä¸ªå…ƒç´ åˆ°è·³è¡¨ã€‚<br>bool erase(int num): åœ¨è·³è¡¨ä¸­åˆ é™¤ä¸€ä¸ªå€¼ï¼Œå¦‚æœ num ä¸å­˜åœ¨ï¼Œç›´æ¥è¿”å›false. å¦‚æœå­˜åœ¨å¤šä¸ª num ï¼Œåˆ é™¤å…¶ä¸­ä»»æ„ä¸€ä¸ªå³å¯ã€‚<br>äº†è§£æ›´å¤š : <a href="https://en.wikipedia.org/wiki/Skip_list" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Skip_list</a></p><p>æ³¨æ„ï¼Œè·³è¡¨ä¸­å¯èƒ½å­˜åœ¨å¤šä¸ªç›¸åŒçš„å€¼ï¼Œä½ çš„ä»£ç éœ€è¦å¤„ç†è¿™ç§æƒ…å†µã€‚</p><p>æ ·ä¾‹:</p><pre><code>Skiplist skiplist = new Skiplist();skiplist.add(1);skiplist.add(2);skiplist.add(3);skiplist.search(0);   // è¿”å› falseskiplist.add(4);skiplist.search(1);   // è¿”å› trueskiplist.erase(0);    // è¿”å› falseï¼Œ0 ä¸åœ¨è·³è¡¨ä¸­skiplist.erase(1);    // è¿”å› trueskiplist.search(1);   // è¿”å› falseï¼Œ1 å·²è¢«æ“¦é™¤</code></pre><p>çº¦æŸæ¡ä»¶:</p><p>0 &lt;= num, target &lt;= 20000</p><p>æœ€å¤šè°ƒç”¨ 50000 æ¬¡ search, add, ä»¥åŠ eraseæ“ä½œã€‚</p><h1 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h1><p>è·³è¡¨å®ç°çš„ä¸»è¦éš¾åº¦åœ¨äºæ’å…¥(add)ç®—æ³•ã€‚åªè¦æŠŠaddæ–¹æ³•ææ˜ç™½ä¹‹åï¼Œä¸€åˆ‡éƒ½è¿åˆƒè€Œè§£äº†ã€‚</p><p>å…³äºè·³è¡¨çš„æ’å…¥ï¼Œä¸€å¼ å›¾å³å¯æè¿°å‡ºæ¥ï¼Œ<br><a href="https://pic.leetcode-cn.com/1612247342-QjALhY-skiplist_insertions.png" target="_blank" rel="noopener">skiplist_insertions.png</a></p><blockquote><p>å›¾ç‰‡æ¥è‡ª <a href="http://zhangtielei.com/posts/blog-redis-skiplist.html" target="_blank" rel="noopener">http://zhangtielei.com/posts/blog-redis-skiplist.html</a></p></blockquote><p>é€šè¿‡è¿™å¼ å›¾ï¼Œå¯ä»¥å…ˆç¡®å®šè·³è¡¨ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„æ•°æ®ç»“æ„ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</span><br><span class="line">    Integer value; <span class="comment">//èŠ‚ç‚¹å€¼</span></span><br><span class="line">    Node[] next; <span class="comment">// èŠ‚ç‚¹åœ¨ä¸åŒå±‚çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(Integer value,<span class="keyword">int</span> size)</span> </span>&#123; <span class="comment">// ç”¨sizeè¡¨ç¤ºå½“å‰èŠ‚ç‚¹åœ¨è·³è¡¨ä¸­ç´¢å¼•å‡ å±‚</span></span><br><span class="line">        <span class="keyword">this</span>.value = value;</span><br><span class="line">        <span class="keyword">this</span>.next = <span class="keyword">new</span> Node[size];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå°±éœ€è¦è€ƒè™‘ï¼šæˆ‘æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹Nodeï¼Œå®ƒåˆ°åº•åº”è¯¥æ˜¯ç´¢å¼•åˆ°ç¬¬å‡ å±‚å‘¢ï¼Ÿ</p><p>ä¸€å¼€å§‹æˆ‘è¿˜æƒ³ç€å¦‚ä½•å‡†ç¡®çš„ç»´æŠ¤ä¸Šä¸€å±‚æ˜¯ä¸‹ä¸€å±‚çš„1/2ï¼Œå‘ç°è¶Šæƒ³è¶Šå¤æ‚ï¼›ç„¶åé€šè¿‡ç›¸å…³èµ„æ–™ï¼Œå‘ç°äººå®¶æ—©å°±ç»™å‡ºä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼šéšæœºå‡ºæ¥ä¸€ä¸ªå±‚æ•°ã€‚</p><p>è¿™é‡Œæœ‰ä¸€ä¸ªç–‘æƒ‘ï¼šå°±å‡­éšæœºå‡ºæ¥çš„ä¸€ä¸ªå±‚æ•°ï¼Œèƒ½ä¿è¯æŸ¥è¯¢ä¸æ’å…¥æ€§èƒ½å—ï¼Ÿ</p><blockquote><p>åœ¨åˆ†æä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç€é‡æŒ‡å‡ºçš„æ˜¯ï¼Œæ‰§è¡Œæ’å…¥æ“ä½œæ—¶è®¡ç®—éšæœºæ•°çš„è¿‡ç¨‹ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå…³é”®çš„è¿‡ç¨‹ï¼Œå®ƒå¯¹skiplistçš„ç»Ÿè®¡ç‰¹æ€§æœ‰ç€å¾ˆé‡è¦çš„å½±å“ã€‚è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„æœä»å‡åŒ€åˆ†å¸ƒçš„éšæœºæ•°ï¼Œå®ƒçš„è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š<br>é¦–å…ˆï¼Œæ¯ä¸ªèŠ‚ç‚¹è‚¯å®šéƒ½æœ‰ç¬¬1å±‚æŒ‡é’ˆï¼ˆæ¯ä¸ªèŠ‚ç‚¹éƒ½åœ¨ç¬¬1å±‚é“¾è¡¨é‡Œï¼‰ã€‚<br>å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æœ‰ç¬¬iå±‚(i&gt;=1)æŒ‡é’ˆï¼ˆå³èŠ‚ç‚¹å·²ç»åœ¨ç¬¬1å±‚åˆ°ç¬¬iå±‚é“¾è¡¨ä¸­ï¼‰ï¼Œé‚£ä¹ˆå®ƒæœ‰ç¬¬(i+1)å±‚æŒ‡é’ˆçš„æ¦‚ç‡ä¸ºpã€‚<br>èŠ‚ç‚¹æœ€å¤§çš„å±‚æ•°ä¸å…è®¸è¶…è¿‡ä¸€ä¸ªæœ€å¤§å€¼ï¼Œè®°ä¸ºMaxLevelã€‚<br>è¿™ä¸ªè®¡ç®—éšæœºå±‚æ•°çš„ä¼ªç å¦‚ä¸‹æ‰€ç¤ºï¼š</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">randomLevel</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    <span class="keyword">int</span> level </span>= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (Math.random()&lt;p &amp;&amp; level&lt;MaxLevel)&#123;</span><br><span class="line">        level ++ ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> level;</span><br></pre></td></tr></table></figure><blockquote><p>randomLevel()çš„ä¼ªç ä¸­åŒ…å«ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯pï¼Œä¸€ä¸ªæ˜¯MaxLevelã€‚åœ¨Redisçš„skiplistå®ç°ä¸­ï¼Œè¿™ä¸¤ä¸ªå‚æ•°çš„å–å€¼ä¸ºï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p = 1/4</span><br><span class="line">MaxLevel = 32</span><br></pre></td></tr></table></figure><blockquote><p>from : <a href="http://zhangtielei.com/posts/blog-redis-skiplist.html" target="_blank" rel="noopener">http://zhangtielei.com/posts/blog-redis-skiplist.html</a></p></blockquote><p>çŸ¥é“äº†å±‚æ•°ï¼Œè¿™ä¸‹å°±å¥½åŠäº†ã€‚æ€è·¯å¦‚ä¸‹ï¼š</p><ol><li><p>å…ˆéšæœºå‡ºæ¥ä¸€ä¸ªå±‚æ•°ï¼Œnewè¦æ’å…¥çš„èŠ‚ç‚¹ï¼Œå…ˆå«åšæ’å…¥èŠ‚ç‚¹newNodeï¼›</p></li><li><p>æ ¹æ®è·³è¡¨å®é™…çš„æ€»å±‚æ•°ä»ä¸Šå¾€ä¸‹åˆ†æï¼Œè¦æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹newNodeæ—¶ï¼Œå…ˆæ‰¾åˆ°èŠ‚ç‚¹åœ¨è¯¥å±‚çš„ä½ç½®ï¼šå› ä¸ºæ˜¯é“¾è¡¨ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªèŠ‚ç‚¹nodeï¼Œæ»¡è¶³æ’å…¥æ’å…¥èŠ‚ç‚¹newNodeçš„å€¼åˆšå¥½ä¸å¤§äºnodeçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å€¼ï¼Œå½“ç„¶ï¼Œå¦‚æœnodeçš„ä¸‹ä¸ªèŠ‚ç‚¹ä¸ºç©ºï¼Œé‚£ä¹ˆä¹Ÿæ˜¯æ»¡è¶³çš„ã€‚</p></li></ol><p>æˆ‘ä»¬å…ˆæŠŠæ‰¾èŠ‚ç‚¹åœ¨æŸä¸€å±‚ä½ç½®çš„æ–¹æ³•å°è£…èµ·æ¥ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ‰¾åˆ°levelå±‚ value åˆšå¥½ä¸å°äºnode çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> node ä»å“ªä¸ªèŠ‚ç‚¹å¼€å§‹æ‰¾</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> levelIndex æ‰€åœ¨å±‚</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> value è¦æ’å…¥çš„èŠ‚ç‚¹å€¼</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> Node <span class="title">findClosest</span><span class="params">(Node node,<span class="keyword">int</span> levelIndex,<span class="keyword">int</span> value)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> ((node.next[levelIndex])!=<span class="keyword">null</span> &amp;&amp; value &gt;node.next[levelIndex].value)&#123;</span><br><span class="line">        node = node.next[levelIndex];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><p>ç¡®å®šæ’å…¥èŠ‚ç‚¹newNodeåœ¨è¯¥å±‚çš„ä½ç½®åï¼Œå…ˆåˆ¤æ–­ä¸‹newNodeçš„éšæœºå±‚æ•°æ˜¯å¦å°äºå½“å‰è·³è¡¨çš„æ€»å±‚æ•°ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ç”¨é“¾è¡¨çš„æ’å…¥æ–¹æ³•å°†newNodeæ’å…¥å³å¯ã€‚</p></li><li><p>å¦‚æ­¤å¾ªç¯ï¼Œç›´åˆ°æœ€åº•å±‚æ’å…¥newNodeå®Œæ¯•ã€‚</p></li><li><p>å¾ªç¯å®Œæ¯•åï¼Œè¿˜éœ€è¦åˆ¤æ–­ä¸‹newNodeéšæœºå‡ºæ¥çš„å±‚æ•°æ˜¯å¦æ¯”è·³è¡¨çš„å®é™…å±‚æ•°è¿˜è¦å¤§ï¼Œå¦‚æœæ˜¯ï¼Œç›´æ¥å°†è¶…è¿‡å®é™…å±‚æ•°çš„è·³è¡¨çš„å¤´èŠ‚ç‚¹æŒ‡å‘newNodeå³å¯ï¼Œè¯¥è·³è¡¨çš„å®é™…å±‚æ•°ä¹Ÿå°±å˜ä¸ºnewNodeçš„éšæœºå±‚æ•°äº†ã€‚</p></li></ol><p>ä»¥ä¸Šå°±æ˜¯æ’å…¥çš„ç®—æ³•ã€‚</p><p>ç†è§£äº†æ’å…¥ç®—æ³•åï¼ŒæŸ¥æ‰¾è·Ÿåˆ é™¤å°±ç®€å•å¤šäº†ã€‚</p><p>ä¸ç®¡æ˜¯æ’å…¥ã€æŸ¥æ‰¾è¿˜æ˜¯åˆ é™¤ï¼Œå‡æ˜¯ä»è·³è¡¨ä¸Šå±‚å¾€ä¸‹å±‚åˆ†æï¼Œå¤ç”¨ä¸Šé¢çš„findClosestæ–¹æ³•ï¼Œæ‰¾åˆ°è¦æŸ¥è¯¢çš„å€¼ åœ¨è¯¥å±‚closestçš„èŠ‚ç‚¹ã€‚æ¯”å¦‚æŸ¥è¯¢ï¼Œåªéœ€è¦åˆ¤æ–­findClosestå‡ºæ¥çš„èŠ‚ç‚¹å€¼æ˜¯å¦ç­‰äºè¯¥æŸ¥è¯¢å€¼å³å¯ï¼Œæ˜¯å°±è¿”å›ï¼Œä¸æ˜¯åˆ™ç»§ç»­å¾€ä¸‹å±‚åˆ¤æ–­ã€‚åˆ é™¤æ–¹æ³•æ€æƒ³ä¹Ÿæ˜¯ä¸€è‡´çš„ã€‚</p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><details>    <summary>Java</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Skiplist</span> </span>&#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * æœ€å¤§å±‚æ•°</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> DEFAULT_MAX_LEVEL = <span class="number">32</span>;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * éšæœºå±‚æ•°æ¦‚ç‡ï¼Œä¹Ÿå°±æ˜¯éšæœºå‡ºçš„å±‚æ•°ï¼Œåœ¨ ç¬¬1å±‚ä»¥ä¸Š(ä¸åŒ…æ‹¬ç¬¬ä¸€å±‚)çš„æ¦‚ç‡ï¼Œå±‚æ•°ä¸è¶…è¿‡maxLevelï¼Œå±‚æ•°çš„èµ·å§‹å·ä¸º1</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">double</span> DEFAULT_P_FACTOR = <span class="number">0.25</span>;</span><br><span class="line"></span><br><span class="line">        Node head = <span class="keyword">new</span> Node(<span class="keyword">null</span>,DEFAULT_MAX_LEVEL); <span class="comment">//å¤´èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> currentLevel = <span class="number">1</span>; <span class="comment">//è¡¨ç¤ºå½“å‰nodesçš„å®é™…å±‚æ•°ï¼Œå®ƒä»1å¼€å§‹</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Skiplist</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">            Node searchNode = head;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = currentLevel-<span class="number">1</span>; i &gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">                searchNode = findClosest(searchNode, i, target);</span><br><span class="line">                <span class="keyword">if</span> (searchNode.next[i]!=<span class="keyword">null</span> &amp;&amp; searchNode.next[i].value == target)&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         *</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@param</span> num</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> level = randomLevel();</span><br><span class="line">            Node updateNode = head;</span><br><span class="line">            Node newNode = <span class="keyword">new</span> Node(num,level);</span><br><span class="line">            <span class="comment">// è®¡ç®—å‡ºå½“å‰num ç´¢å¼•çš„å®é™…å±‚æ•°ï¼Œä»è¯¥å±‚å¼€å§‹æ·»åŠ ç´¢å¼•</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = currentLevel-<span class="number">1</span>; i&gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">                <span class="comment">//æ‰¾åˆ°æœ¬å±‚æœ€è¿‘ç¦»numæœ€è¿‘çš„list</span></span><br><span class="line">                updateNode = findClosest(updateNode,i,num);</span><br><span class="line">                <span class="keyword">if</span> (i&lt;level)&#123;</span><br><span class="line">                    <span class="keyword">if</span> (updateNode.next[i]==<span class="keyword">null</span>)&#123;</span><br><span class="line">                        updateNode.next[i] = newNode;</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        Node temp = updateNode.next[i];</span><br><span class="line">                        updateNode.next[i] = newNode;</span><br><span class="line">                        newNode.next[i] = temp;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (level &gt; currentLevel)&#123; <span class="comment">//å¦‚æœéšæœºå‡ºæ¥çš„å±‚æ•°æ¯”å½“å‰çš„å±‚æ•°è¿˜å¤§ï¼Œé‚£ä¹ˆè¶…è¿‡currentLevelçš„head ç›´æ¥æŒ‡å‘newNode</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = currentLevel; i &lt; level; i++) &#123;</span><br><span class="line">                    head.next[i] = newNode;</span><br><span class="line">                &#125;</span><br><span class="line">                currentLevel = level;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">erase</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line">            Node searchNode = head;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = currentLevel-<span class="number">1</span>; i &gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">                searchNode = findClosest(searchNode, i, num);</span><br><span class="line">                <span class="keyword">if</span> (searchNode.next[i]!=<span class="keyword">null</span> &amp;&amp; searchNode.next[i].value == num)&#123;</span><br><span class="line">                    <span class="comment">//æ‰¾åˆ°è¯¥å±‚ä¸­è¯¥èŠ‚ç‚¹</span></span><br><span class="line">                    searchNode.next[i] = searchNode.next[i].next[i];</span><br><span class="line">                    flag = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> flag;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * æ‰¾åˆ°levelå±‚ value å¤§äºnode çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@param</span> node</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@param</span> levelIndex</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@param</span> value</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> Node <span class="title">findClosest</span><span class="params">(Node node,<span class="keyword">int</span> levelIndex,<span class="keyword">int</span> value)</span></span>&#123;</span><br><span class="line">            <span class="keyword">while</span> ((node.next[levelIndex])!=<span class="keyword">null</span> &amp;&amp; value &gt;node.next[levelIndex].value)&#123;</span><br><span class="line">                node = node.next[levelIndex];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> node;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * éšæœºä¸€ä¸ªå±‚æ•°</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">randomLevel</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">int</span> level = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (Math.random()&lt;DEFAULT_P_FACTOR &amp;&amp; level&lt;DEFAULT_MAX_LEVEL)&#123;</span><br><span class="line">                level ++ ;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> level;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</span><br><span class="line">            Integer value;</span><br><span class="line">            Node[] next;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(Integer value,<span class="keyword">int</span> size)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">this</span>.value = value;</span><br><span class="line">                <span class="keyword">this</span>.next = <span class="keyword">new</span> Node[size];</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> String.valueOf(value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸ä½¿ç”¨ä»»ä½•åº“å‡½æ•°ï¼Œè®¾è®¡ä¸€ä¸ªè·³è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;è·³è¡¨æ˜¯åœ¨ O(log(n)) æ—¶é—´å†…å®Œæˆå¢åŠ ã€åˆ é™¤ã€æœç´¢æ“ä½œçš„æ•°æ®ç»“æ„ã€‚è·³è¡¨ç›¸æ¯”äºæ ‘å †ä¸çº¢é»‘æ ‘ï¼Œå…¶åŠŸèƒ½ä¸æ€§èƒ½ç›¸å½“ï¼Œå¹¶ä¸”è·³è¡¨çš„ä»£ç é•¿åº¦ç›¸è¾ƒä¸‹æ›´çŸ­ï¼Œå…¶è®¾è®¡æ€æƒ³ä¸é“¾è¡¨ç›¸ä¼¼ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´5æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B45%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Design" scheme="http://yoursite.com/tags/Design/"/>
    
  </entry>
  
  <entry>
    <title>707. è®¾è®¡é“¾è¡¨</title>
    <link href="http://yoursite.com/2021/04/26/707.%20%E8%AE%BE%E8%AE%A1%E9%93%BE%E8%A1%A8/"/>
    <id>http://yoursite.com/2021/04/26/707. è®¾è®¡é“¾è¡¨/</id>
    <published>2021-04-26T03:12:12.000Z</published>
    <updated>2021-05-06T09:49:49.812Z</updated>
    
    <content type="html"><![CDATA[<p>è®¾è®¡é“¾è¡¨çš„å®ç°ã€‚æ‚¨å¯ä»¥é€‰æ‹©ä½¿ç”¨å•é“¾è¡¨æˆ–åŒé“¾è¡¨ã€‚å•é“¾è¡¨ä¸­çš„èŠ‚ç‚¹åº”è¯¥å…·æœ‰ä¸¤ä¸ªå±æ€§ï¼šval å’Œ nextã€‚val æ˜¯å½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œnext æ˜¯æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ/å¼•ç”¨ã€‚å¦‚æœè¦ä½¿ç”¨åŒå‘é“¾è¡¨ï¼Œåˆ™è¿˜éœ€è¦ä¸€ä¸ªå±æ€§ prev ä»¥æŒ‡ç¤ºé“¾è¡¨ä¸­çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚å‡è®¾é“¾è¡¨ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯ 0-index çš„ã€‚</p><a id="more"></a><p>åœ¨é“¾è¡¨ç±»ä¸­å®ç°è¿™äº›åŠŸèƒ½ï¼š</p><pre><code>get(index)ï¼šè·å–é“¾è¡¨ä¸­ç¬¬ index ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚å¦‚æœç´¢å¼•æ— æ•ˆï¼Œåˆ™è¿”å›-1ã€‚addAtHead(val)ï¼šåœ¨é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰æ·»åŠ ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹ã€‚æ’å…¥åï¼Œæ–°èŠ‚ç‚¹å°†æˆä¸ºé“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚addAtTail(val)ï¼šå°†å€¼ä¸º val çš„èŠ‚ç‚¹è¿½åŠ åˆ°é“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚addAtIndex(index,val)ï¼šåœ¨é“¾è¡¨ä¸­çš„ç¬¬ index ä¸ªèŠ‚ç‚¹ä¹‹å‰æ·»åŠ å€¼ä¸º val  çš„èŠ‚ç‚¹ã€‚å¦‚æœ index ç­‰äºé“¾è¡¨çš„é•¿åº¦ï¼Œåˆ™è¯¥èŠ‚ç‚¹å°†é™„åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚å¦‚æœ index å¤§äºé“¾è¡¨é•¿åº¦ï¼Œåˆ™ä¸ä¼šæ’å…¥èŠ‚ç‚¹ã€‚å¦‚æœindexå°äº0ï¼Œåˆ™åœ¨å¤´éƒ¨æ’å…¥èŠ‚ç‚¹ã€‚deleteAtIndex(index)ï¼šå¦‚æœç´¢å¼• index æœ‰æ•ˆï¼Œåˆ™åˆ é™¤é“¾è¡¨ä¸­çš„ç¬¬ index ä¸ªèŠ‚ç‚¹ã€‚</code></pre><p>ç¤ºä¾‹ï¼š</p><pre><code>MyLinkedList linkedList = new MyLinkedList();linkedList.addAtHead(1);linkedList.addAtTail(3);linkedList.addAtIndex(1,2);   //é“¾è¡¨å˜ä¸º1-&gt; 2-&gt; 3linkedList.get(1);            //è¿”å›2linkedList.deleteAtIndex(1);  //ç°åœ¨é“¾è¡¨æ˜¯1-&gt; 3linkedList.get(1);            //è¿”å›3</code></pre><p>æç¤ºï¼š</p><pre><code>æ‰€æœ‰valå€¼éƒ½åœ¨ [1, 1000] ä¹‹å†…ã€‚æ“ä½œæ¬¡æ•°å°†åœ¨  [1, 1000] ä¹‹å†…ã€‚è¯·ä¸è¦ä½¿ç”¨å†…ç½®çš„ LinkedList åº“ã€‚</code></pre><h1 id="é¢è¯•è¦ç‚¹"><a href="#é¢è¯•è¦ç‚¹" class="headerlink" title="é¢è¯•è¦ç‚¹"></a>é¢è¯•è¦ç‚¹</h1><p>é“¾è¡¨æ—¶ä¸€ä¸ªåŒ…å«é›¶ä¸ªæˆ–å¤šä¸ªå…ƒç´ çš„æ•°æ®ç»“æ„ã€‚æ¯ä¸ªå…ƒç´ éƒ½åŒ…å«ä¸€ä¸ªå€¼å’Œåˆ°å¦ä¸€ä¸ªå…ƒç´ çš„é“¾æ¥ã€‚æ ¹æ®é“¾æ¥æ•°çš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºå•é“¾è¡¨ï¼ŒåŒé“¾è¡¨å’Œå¤šé‡é“¾è¡¨ã€‚</p><p>å•é“¾è¡¨æ˜¯æœ€ç®€å•çš„ä¸€ç§ï¼Œå®ƒæä¾›äº†åœ¨å¸¸æ•°æ—¶é—´å†…çš„ <code>addAtHead</code> æ“ä½œå’Œåœ¨çº¿æ€§æ—¶é—´å†…çš„ <code>addAtTail</code> çš„æ“ä½œã€‚åŒé“¾è¡¨æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§ï¼Œå› ä¸ºå®ƒæä¾›äº†åœ¨å¸¸æ•°æ—¶é—´å†…çš„ <code>addAtHead</code> å’Œ <code>addAtTail</code> æ“ä½œï¼Œå¹¶ä¸”ä¼˜åŒ–çš„æ’å…¥å’Œåˆ é™¤ã€‚</p><p>åŒé“¾è¡¨åœ¨ Java ä¸­çš„å®ç°ä¸º LinkedListï¼Œåœ¨ Python ä¸­ä¸º listã€‚è¿™äº›ç»“æ„éƒ½æ¯”è¾ƒå¸¸ç”¨ï¼Œæœ‰ä¸¤ä¸ªè¦ç‚¹ï¼š</p><ul><li>å“¨å…µèŠ‚ç‚¹ï¼š</li></ul><p>å“¨å…µèŠ‚ç‚¹åœ¨æ ‘å’Œé“¾è¡¨ä¸­è¢«å¹¿æ³›ç”¨ä½œä¼ªå¤´ã€ä¼ªå°¾ç­‰ï¼Œé€šå¸¸ä¸ä¿å­˜ä»»ä½•æ•°æ®ã€‚</p><p>æˆ‘ä»¬å°†ä½¿ç”¨ä¼ªå¤´æ¥ç®€åŒ–æˆ‘ä»¬ç®€åŒ–æ’å…¥å’Œåˆ é™¤ã€‚åœ¨æ¥ä¸‹æ¥çš„ä¸¤ç§æ–¹æ³•ä¸­åº”ç”¨æ­¤æ–¹æ³•ã€‚</p><ul><li>åŒé“¾è¡¨çš„åŒå‘æœç´¢ï¼šæˆ‘ä»¬å¯ä»¥ä»å¤´éƒ¨æˆ–å°¾éƒ¨è¿›è¡Œæœç´¢ã€‚</li></ul><h1 id="æ–¹æ³•ä¸€ï¼šå•é“¾è¡¨"><a href="#æ–¹æ³•ä¸€ï¼šå•é“¾è¡¨" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå•é“¾è¡¨"></a>æ–¹æ³•ä¸€ï¼šå•é“¾è¡¨</h1><p>è®©æˆ‘ä»¬ä»æœ€ç®€å•çš„é“¾è¡¨å¼€å§‹ã€‚</p><details>    <summary>å•é“¾è¡¨</summary><figure class="highlight python"><figcaption><span>[init1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyLinkedList</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.size = <span class="number">0</span></span><br><span class="line">        self.head = ListNode(<span class="number">0</span>)  <span class="comment"># sentinel node as pseudo-head</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>[init1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyLinkedList</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> size;</span><br><span class="line">  ListNode head;  <span class="comment">// sentinel node as pseudo-head</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">MyLinkedList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    size = <span class="number">0</span>;</span><br><span class="line">    head = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>å“¨å…µèŠ‚ç‚¹è¢«ç”¨ä½œä¼ªå¤´å§‹ç»ˆå­˜åœ¨ï¼Œè¿™æ ·ç»“æ„ä¸­æ°¸è¿œä¸ä¸ºç©ºï¼Œå®ƒå°†è‡³å°‘åŒ…å«ä¸€ä¸ªä¼ªå¤´ã€‚MyLinkedList ä¸­æ‰€æœ‰èŠ‚ç‚¹å‡åŒ…å«ï¼šå€¼ + é“¾æ¥åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚</p><details>    <summary>å•é“¾è¡¨</summary><figure class="highlight python"><figcaption><span>[ListNode1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListNode</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        self.val = x</span><br><span class="line">        self.next = <span class="keyword">None</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>[ListNode1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> val;</span><br><span class="line">  ListNode next;</span><br><span class="line">  ListNode(<span class="keyword">int</span> x) &#123; val = x; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><code>addAtIndex</code>ï¼Œ<code>addAtHead</code> å’Œ <code>addAtTail</code>ï¼š<br>æˆ‘ä»¬é¦–å…ˆè®¨è®º <code>addAtIndex</code>ï¼Œå› ä¸ºä¼ªå¤´çš„å…³ç³» <code>addAtHead</code> å’Œ <code>addAtTail</code> å¯ä»¥ä½¿ç”¨ <code>addAtIndex</code> æ¥å®Œæˆã€‚</p><p>è¿™ä¸ªæƒ³æ³•å¾ˆç®€å•ï¼š</p><ul><li>æ‰¾åˆ°è¦æ’å…¥ä½ç½®èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ã€‚å¦‚æœè¦åœ¨å¤´éƒ¨æ’å…¥ï¼Œåˆ™å®ƒçš„å‰é©±èŠ‚ç‚¹å°±æ˜¯ä¼ªå¤´ã€‚å¦‚æœè¦åœ¨å°¾éƒ¨æ’å…¥èŠ‚ç‚¹ï¼Œåˆ™å‰é©±èŠ‚ç‚¹å°±æ˜¯å°¾èŠ‚ç‚¹ã€‚</li><li>é€šè¿‡æ”¹å˜ <code>next</code> æ¥æ’å…¥èŠ‚ç‚¹ã€‚<details>  <summary>å•é“¾è¡¨</summary></details></li></ul><figure class="highlight python"><figcaption><span>[add1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">to_add.next = pred.next</span><br><span class="line">pred.next = to_add</span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>[add1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">toAdd.next = pred.next;</span><br><span class="line">pred.next = toAdd;</span><br></pre></td></tr></table></figure><p><code>deleteAtIndex</code>ï¼š<br>å’Œæ’å…¥åŒæ ·çš„é“ç†ã€‚</p><ul><li>æ‰¾åˆ°è¦åˆ é™¤èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ã€‚</li><li>é€šè¿‡æ”¹å˜ <code>next</code> æ¥åˆ é™¤èŠ‚ç‚¹ã€‚</li></ul><details>    <summary>å•é“¾è¡¨</summary><figure class="highlight python"><figcaption><span>[delete2-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># delete pred.next </span></span><br><span class="line">pred.next = pred.next.next</span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>[delete2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// delete pred.next </span></span><br><span class="line">pred.next = pred.next.next;</span><br></pre></td></tr></table></figure></details><p><code>get</code>ï¼š<br>ä»ä¼ªå¤´èŠ‚ç‚¹å¼€å§‹ï¼Œå‘å‰èµ° <code>index+1</code> æ­¥ã€‚</p><details>    <summary>å•é“¾è¡¨</summary><figure class="highlight python"><figcaption><span>[get1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># index steps needed </span></span><br><span class="line"><span class="comment"># to move from sentinel node to wanted index</span></span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> range(index + <span class="number">1</span>):</span><br><span class="line">    curr = curr.next</span><br><span class="line"><span class="keyword">return</span> curr.val</span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>[get1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index steps needed </span></span><br><span class="line"><span class="comment">// to move from sentinel node to wanted index</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index + <span class="number">1</span>; ++i) curr = curr.next;</span><br><span class="line"><span class="keyword">return</span> curr.val;</span><br></pre></td></tr></table></figure></details><p><strong>å…¨éƒ¨ä»£ç ï¼š</strong></p><details>    <summary>å•é“¾è¡¨Python</summary><figure class="highlight python"><figcaption><span>[solution1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListNode</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        self.val = x</span><br><span class="line">        self.next = <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyLinkedList</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.size = <span class="number">0</span></span><br><span class="line">        self.head = ListNode(<span class="number">0</span>)  <span class="comment"># sentinel node as pseudo-head</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, index: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Get the value of the index-th node in the linked list. If the index is invalid, return -1.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># if index is invalid</span></span><br><span class="line">        <span class="keyword">if</span> index &lt; <span class="number">0</span> <span class="keyword">or</span> index &gt;= self.size:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        </span><br><span class="line">        curr = self.head</span><br><span class="line">        <span class="comment"># index steps needed </span></span><br><span class="line">        <span class="comment"># to move from sentinel node to wanted index</span></span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> range(index + <span class="number">1</span>):</span><br><span class="line">            curr = curr.next</span><br><span class="line">        <span class="keyword">return</span> curr.val</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addAtHead</span><span class="params">(self, val: int)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Add a node of value val before the first element of the linked list. After the insertion, the new node will be the first node of the linked list.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.addAtIndex(<span class="number">0</span>, val)</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addAtTail</span><span class="params">(self, val: int)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Append a node of value val to the last element of the linked list.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.addAtIndex(self.size, val)</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addAtIndex</span><span class="params">(self, index: int, val: int)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Add a node of value val before the index-th node in the linked list. If index equals to the length of linked list, the node will be appended to the end of linked list. If index is greater than the length, the node will not be inserted.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># If index is greater than the length, </span></span><br><span class="line">        <span class="comment"># the node will not be inserted.</span></span><br><span class="line">        <span class="keyword">if</span> index &gt; self.size:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># [so weird] If index is negative, </span></span><br><span class="line">        <span class="comment"># the node will be inserted at the head of the list.</span></span><br><span class="line">        <span class="keyword">if</span> index &lt; <span class="number">0</span>:</span><br><span class="line">            index = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        self.size += <span class="number">1</span></span><br><span class="line">        <span class="comment"># find predecessor of the node to be added</span></span><br><span class="line">        pred = self.head</span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> range(index):</span><br><span class="line">            pred = pred.next</span><br><span class="line">            </span><br><span class="line">        <span class="comment"># node to be added</span></span><br><span class="line">        to_add = ListNode(val)</span><br><span class="line">        <span class="comment"># insertion itself</span></span><br><span class="line">        to_add.next = pred.next</span><br><span class="line">        pred.next = to_add</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteAtIndex</span><span class="params">(self, index: int)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Delete the index-th node in the linked list, if the index is valid.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># if the index is invalid, do nothing</span></span><br><span class="line">        <span class="keyword">if</span> index &lt; <span class="number">0</span> <span class="keyword">or</span> index &gt;= self.size:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        </span><br><span class="line">        self.size -= <span class="number">1</span></span><br><span class="line">        <span class="comment"># find predecessor of the node to be deleted</span></span><br><span class="line">        pred = self.head</span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> range(index):</span><br><span class="line">            pred = pred.next</span><br><span class="line">            </span><br><span class="line">        <span class="comment"># delete pred.next </span></span><br><span class="line">        pred.next = pred.next.next</span><br></pre></td></tr></table></figure></details><details>    <summary>å•é“¾è¡¨Java</summary><figure class="highlight java"><figcaption><span>[solution1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> val;</span><br><span class="line">  ListNode next;</span><br><span class="line">  ListNode(<span class="keyword">int</span> x) &#123; val = x; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyLinkedList</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> size;</span><br><span class="line">  ListNode head;  <span class="comment">// sentinel node as pseudo-head</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">MyLinkedList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    size = <span class="number">0</span>;</span><br><span class="line">    head = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Get the value of the index-th node in the linked list. If the index is invalid, return -1. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// if index is invalid</span></span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= size) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    ListNode curr = head;</span><br><span class="line">    <span class="comment">// index steps needed </span></span><br><span class="line">    <span class="comment">// to move from sentinel node to wanted index</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index + <span class="number">1</span>; ++i) curr = curr.next;</span><br><span class="line">    <span class="keyword">return</span> curr.val;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Add a node of value val before the first element of the linked list. After the insertion, the new node will be the first node of the linked list. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addAtHead</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    addAtIndex(<span class="number">0</span>, val);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Append a node of value val to the last element of the linked list. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addAtTail</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    addAtIndex(size, val);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Add a node of value val before the index-th node in the linked list. If index equals to the length of linked list, the node will be appended to the end of linked list. If index is greater than the length, the node will not be inserted. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addAtIndex</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// If index is greater than the length, </span></span><br><span class="line">    <span class="comment">// the node will not be inserted.</span></span><br><span class="line">    <span class="keyword">if</span> (index &gt; size) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// [so weird] If index is negative, </span></span><br><span class="line">    <span class="comment">// the node will be inserted at the head of the list.</span></span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span>) index = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    ++size;</span><br><span class="line">    <span class="comment">// find predecessor of the node to be added</span></span><br><span class="line">    ListNode pred = head;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index; ++i) pred = pred.next;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// node to be added</span></span><br><span class="line">    ListNode toAdd = <span class="keyword">new</span> ListNode(val);</span><br><span class="line">    <span class="comment">// insertion itself</span></span><br><span class="line">    toAdd.next = pred.next;</span><br><span class="line">    pred.next = toAdd;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Delete the index-th node in the linked list, if the index is valid. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteAtIndex</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// if the index is invalid, do nothing</span></span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= size) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    size--;</span><br><span class="line">    <span class="comment">// find predecessor of the node to be deleted</span></span><br><span class="line">    ListNode pred = head;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index; ++i) pred = pred.next;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// delete pred.next </span></span><br><span class="line">    pred.next = pred.next.next;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>ç©ºé—´å¤æ‚åº¦ï¼šæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯ <em>O(1)</em>ã€‚</li></ul><h1 id="æ–¹æ³•äºŒï¼šåŒé“¾è¡¨"><a href="#æ–¹æ³•äºŒï¼šåŒé“¾è¡¨" class="headerlink" title="æ–¹æ³•äºŒï¼šåŒé“¾è¡¨"></a>æ–¹æ³•äºŒï¼šåŒé“¾è¡¨</h1><p>åŒé“¾è¡¨æ¯”å•é“¾è¡¨å¿«å¾—å¤šï¼Œæµ‹è¯•ç”¨ä¾‹èŠ±è´¹çš„æ—¶é—´æ¯”å•é“¾è¡¨å¿«äº†ä¸¤å€ã€‚ä½†æ˜¯å®ƒæ›´åŠ å¤æ‚ï¼Œå®ƒåŒ…å«äº† <code>size</code>ï¼Œè®°å½•é“¾è¡¨å…ƒç´ ä¸ªæ•°ï¼Œå’Œä¼ªå¤´ä¼ªå°¾ã€‚</p><details>    <summary>åŒé“¾è¡¨</summary><figure class="highlight python"><figcaption><span>[init2-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyLinkedList</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.size = <span class="number">0</span></span><br><span class="line">        <span class="comment"># sentinel nodes as pseudo-head and pseudo-tail</span></span><br><span class="line">        self.head, self.tail = ListNode(<span class="number">0</span>), ListNode(<span class="number">0</span>) </span><br><span class="line">        self.head.next = self.tail</span><br><span class="line">        self.tail.prev = self.head</span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>[init2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyLinkedList</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> size;</span><br><span class="line">  <span class="comment">// sentinel nodes as pseudo-head and pseudo-tail</span></span><br><span class="line">  ListNode head, tail;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">MyLinkedList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    size = <span class="number">0</span>;</span><br><span class="line">    head = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">    tail = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">    head.next = tail;</span><br><span class="line">    tail.prev = head;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>ä¼ªå¤´å’Œä¼ªå°¾æ€»æ˜¯å­˜åœ¨ï¼ŒMyLinkedList ä¸­æ‰€æœ‰èŠ‚ç‚¹éƒ½åŒ…å«ï¼šå€¼ + æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ + æŒ‡å‘åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚</p><details>    <summary>åŒé“¾è¡¨</summary><figure class="highlight python"><figcaption><span>[ListNode2-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListNode</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        self.val = x</span><br><span class="line">        self.next = <span class="keyword">None</span></span><br><span class="line">        self.prev = <span class="keyword">None</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>[ListNode2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> val;</span><br><span class="line">  ListNode next;</span><br><span class="line">  ListNode prev;</span><br><span class="line">  ListNode(<span class="keyword">int</span> x) &#123; val = x; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><code>addAtIndex</code>ï¼Œ<code>addAtHead</code> å’Œ <code>addAtTail</code>ï¼š</p><ul><li>æ‰¾åˆ°è¦æ’å…¥èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹ã€‚å¦‚æœè¦åœ¨å¤´éƒ¨æ’å…¥èŠ‚ç‚¹ï¼Œåˆ™å®ƒçš„å‰é©±ç»“ç‚¹æ˜¯ä¼ªå¤´ã€‚å¦‚æœè¦åœ¨å°¾éƒ¨æ’å…¥èŠ‚ç‚¹ï¼Œåˆ™å®ƒçš„åç»§èŠ‚ç‚¹æ˜¯ä¼ªå°¾ã€‚</li><li>é€šè¿‡æ”¹å˜å‰é©±ç»“ç‚¹å’Œåç»§èŠ‚ç‚¹çš„é“¾æ¥å…³ç³»æ·»åŠ å…ƒç´ ã€‚</li></ul><details>    <summary>åŒé“¾è¡¨</summary><figure class="highlight python"><figcaption><span>[add2-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">to_add.prev = pred</span><br><span class="line">to_add.next = succ</span><br><span class="line">pred.next = to_add</span><br><span class="line">succ.prev = to_add</span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>[add2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">toAdd.prev = pred</span><br><span class="line">toAdd.next = succ</span><br><span class="line">pred.next = toAdd</span><br><span class="line">succ.prev = toAdd</span><br></pre></td></tr></table></figure></details><p><code>deleteAtIndex</code>ï¼š<br>å’Œæ’å…¥åŒæ ·çš„é“ç†ã€‚</p><ul><li>æ‰¾åˆ°è¦åˆ é™¤èŠ‚ç‚¹çš„å‰é©±ç»“ç‚¹å’Œåç»§èŠ‚ç‚¹ã€‚</li><li>é€šè¿‡æ”¹å˜å‰é©±ç»“ç‚¹å’Œåç»§èŠ‚ç‚¹çš„é“¾æ¥å…³ç³»åˆ é™¤å…ƒç´ ã€‚</li></ul><details>    <summary>åŒé“¾è¡¨</summary><figure class="highlight python"><figcaption><span>[delete2-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pred.next = succ</span><br><span class="line">succ.prev = pred</span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>[delete2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pred.next = succ</span><br><span class="line">succ.prev = pred</span><br></pre></td></tr></table></figure></details><p><code>get</code>ï¼š</p><ul><li>é€šè¿‡æ¯”è¾ƒ <code>index</code> å’Œ <code>size - index</code> çš„å¤§å°åˆ¤æ–­ä»å¤´å¼€å§‹è¾ƒå¿«è¿˜æ˜¯ä»å°¾å·´å¼€å§‹è¾ƒå¿«ã€‚</li><li>ä»è¾ƒå¿«çš„æ–¹å‘å¼€å§‹ã€‚ </li></ul><details>    <summary>åŒé“¾è¡¨Python</summary><figure class="highlight python"><figcaption><span>[get2-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># choose the fastest way: to move from the head</span></span><br><span class="line"><span class="comment"># or to move from the tail</span></span><br><span class="line"><span class="keyword">if</span> index + <span class="number">1</span> &lt; self.size - index:</span><br><span class="line">    curr = self.head</span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(index + <span class="number">1</span>):</span><br><span class="line">        curr = curr.next</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    curr = self.tail</span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(self.size - index):</span><br><span class="line">        curr = curr.prev</span><br></pre></td></tr></table></figure></details><details>    <summary>åŒé“¾è¡¨Java</summary><figure class="highlight java"><figcaption><span>[get2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// choose the fastest way: to move from the head</span></span><br><span class="line"><span class="comment">// or to move from the tail</span></span><br><span class="line">ListNode curr = head;</span><br><span class="line"><span class="keyword">if</span> (index + <span class="number">1</span> &lt; size - index)</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index + <span class="number">1</span>; ++i) curr = curr.next;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">  curr = tail;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size - index; ++i) curr = curr.prev;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å…¨éƒ¨ä»£ç ï¼š</strong></p><details>    <summary>åŒé“¾è¡¨Python</summary><figure class="highlight python"><figcaption><span>[solution2-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListNode</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        self.val = x</span><br><span class="line">        self.next, self.prev = <span class="keyword">None</span>, <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyLinkedList</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.size = <span class="number">0</span></span><br><span class="line">        <span class="comment"># sentinel nodes as pseudo-head and pseudo-tail</span></span><br><span class="line">        self.head, self.tail = ListNode(<span class="number">0</span>), ListNode(<span class="number">0</span>) </span><br><span class="line">        self.head.next = self.tail</span><br><span class="line">        self.tail.prev = self.head</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, index: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Get the value of the index-th node in the linked list. If the index is invalid, return -1.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># if index is invalid</span></span><br><span class="line">        <span class="keyword">if</span> index &lt; <span class="number">0</span> <span class="keyword">or</span> index &gt;= self.size:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># choose the fastest way: to move from the head</span></span><br><span class="line">        <span class="comment"># or to move from the tail</span></span><br><span class="line">        <span class="keyword">if</span> index + <span class="number">1</span> &lt; self.size - index:</span><br><span class="line">            curr = self.head</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(index + <span class="number">1</span>):</span><br><span class="line">                curr = curr.next</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            curr = self.tail</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(self.size - index):</span><br><span class="line">                curr = curr.prev</span><br><span class="line">                </span><br><span class="line">        <span class="keyword">return</span> curr.val</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addAtHead</span><span class="params">(self, val: int)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Add a node of value val before the first element of the linked list. After the insertion, the new node will be the first node of the linked list.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        pred, succ = self.head, self.head.next</span><br><span class="line">        </span><br><span class="line">        self.size += <span class="number">1</span></span><br><span class="line">        to_add = ListNode(val)</span><br><span class="line">        to_add.prev = pred</span><br><span class="line">        to_add.next = succ</span><br><span class="line">        pred.next = to_add</span><br><span class="line">        succ.prev = to_add</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addAtTail</span><span class="params">(self, val: int)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Append a node of value val to the last element of the linked list.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        succ, pred = self.tail, self.tail.prev</span><br><span class="line">        </span><br><span class="line">        self.size += <span class="number">1</span></span><br><span class="line">        to_add = ListNode(val)</span><br><span class="line">        to_add.prev = pred</span><br><span class="line">        to_add.next = succ</span><br><span class="line">        pred.next = to_add</span><br><span class="line">        succ.prev = to_add</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addAtIndex</span><span class="params">(self, index: int, val: int)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Add a node of value val before the index-th node in the linked list. If index equals to the length of linked list, the node will be appended to the end of linked list. If index is greater than the length, the node will not be inserted.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># If index is greater than the length, </span></span><br><span class="line">        <span class="comment"># the node will not be inserted.</span></span><br><span class="line">        <span class="keyword">if</span> index &gt; self.size:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># [so weird] If index is negative, </span></span><br><span class="line">        <span class="comment"># the node will be inserted at the head of the list.</span></span><br><span class="line">        <span class="keyword">if</span> index &lt; <span class="number">0</span>:</span><br><span class="line">            index = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># find predecessor and successor of the node to be added</span></span><br><span class="line">        <span class="keyword">if</span> index &lt; self.size - index:</span><br><span class="line">            pred = self.head</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(index):</span><br><span class="line">                pred = pred.next</span><br><span class="line">            succ = pred.next</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            succ = self.tail</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(self.size - index):</span><br><span class="line">                succ = succ.prev</span><br><span class="line">            pred = succ.prev</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># insertion itself</span></span><br><span class="line">        self.size += <span class="number">1</span></span><br><span class="line">        to_add = ListNode(val)</span><br><span class="line">        to_add.prev = pred</span><br><span class="line">        to_add.next = succ</span><br><span class="line">        pred.next = to_add</span><br><span class="line">        succ.prev = to_add</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteAtIndex</span><span class="params">(self, index: int)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Delete the index-th node in the linked list, if the index is valid.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># if the index is invalid, do nothing</span></span><br><span class="line">        <span class="keyword">if</span> index &lt; <span class="number">0</span> <span class="keyword">or</span> index &gt;= self.size:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># find predecessor and successor of the node to be deleted</span></span><br><span class="line">        <span class="keyword">if</span> index &lt; self.size - index:</span><br><span class="line">            pred = self.head</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(index):</span><br><span class="line">                pred = pred.next</span><br><span class="line">            succ = pred.next.next</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            succ = self.tail</span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> range(self.size - index - <span class="number">1</span>):</span><br><span class="line">                succ = succ.prev</span><br><span class="line">            pred = succ.prev.prev</span><br><span class="line">            </span><br><span class="line">        <span class="comment"># delete pred.next </span></span><br><span class="line">        self.size -= <span class="number">1</span></span><br><span class="line">        pred.next = succ</span><br><span class="line">        succ.prev = pred</span><br></pre></td></tr></table></figure></details><details>    <summary>åŒé“¾è¡¨Java</summary><figure class="highlight java"><figcaption><span>[solution2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> val;</span><br><span class="line">  ListNode next;</span><br><span class="line">  ListNode prev;</span><br><span class="line">  ListNode(<span class="keyword">int</span> x) &#123; val = x; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyLinkedList</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> size;</span><br><span class="line">  <span class="comment">// sentinel nodes as pseudo-head and pseudo-tail</span></span><br><span class="line">  ListNode head, tail;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">MyLinkedList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    size = <span class="number">0</span>;</span><br><span class="line">    head = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">    tail = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">    head.next = tail;</span><br><span class="line">    tail.prev = head;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Get the value of the index-th node in the linked list. If the index is invalid, return -1. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// if index is invalid</span></span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= size) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// choose the fastest way: to move from the head</span></span><br><span class="line">    <span class="comment">// or to move from the tail</span></span><br><span class="line">    ListNode curr = head;</span><br><span class="line">    <span class="keyword">if</span> (index + <span class="number">1</span> &lt; size - index)</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index + <span class="number">1</span>; ++i) curr = curr.next;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      curr = tail;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size - index; ++i) curr = curr.prev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> curr.val;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Add a node of value val before the first element of the linked list. After the insertion, the new node will be the first node of the linked list. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addAtHead</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    ListNode pred = head, succ = head.next;</span><br><span class="line"></span><br><span class="line">    ++size;</span><br><span class="line">    ListNode toAdd = <span class="keyword">new</span> ListNode(val);</span><br><span class="line">    toAdd.prev = pred;</span><br><span class="line">    toAdd.next = succ;</span><br><span class="line">    pred.next = toAdd;</span><br><span class="line">    succ.prev = toAdd;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Append a node of value val to the last element of the linked list. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addAtTail</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    ListNode succ = tail, pred = tail.prev;</span><br><span class="line"></span><br><span class="line">    ++size;</span><br><span class="line">    ListNode toAdd = <span class="keyword">new</span> ListNode(val);</span><br><span class="line">    toAdd.prev = pred;</span><br><span class="line">    toAdd.next = succ;</span><br><span class="line">    pred.next = toAdd;</span><br><span class="line">    succ.prev = toAdd;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Add a node of value val before the index-th node in the linked list. If index equals to the length of linked list, the node will be appended to the end of linked list. If index is greater than the length, the node will not be inserted. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addAtIndex</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// If index is greater than the length, </span></span><br><span class="line">    <span class="comment">// the node will not be inserted.</span></span><br><span class="line">    <span class="keyword">if</span> (index &gt; size) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// [so weird] If index is negative, </span></span><br><span class="line">    <span class="comment">// the node will be inserted at the head of the list.</span></span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span>) index = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// find predecessor and successor of the node to be added</span></span><br><span class="line">    ListNode pred, succ;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; size - index) &#123;</span><br><span class="line">      pred = head;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index; ++i) pred = pred.next;</span><br><span class="line">      succ = pred.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      succ = tail;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size - index; ++i) succ = succ.prev;</span><br><span class="line">      pred = succ.prev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// insertion itself</span></span><br><span class="line">    ++size;</span><br><span class="line">    ListNode toAdd = <span class="keyword">new</span> ListNode(val);</span><br><span class="line">    toAdd.prev = pred;</span><br><span class="line">    toAdd.next = succ;</span><br><span class="line">    pred.next = toAdd;</span><br><span class="line">    succ.prev = toAdd;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/** Delete the index-th node in the linked list, if the index is valid. */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteAtIndex</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// if the index is invalid, do nothing</span></span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= size) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// find predecessor and successor of the node to be deleted</span></span><br><span class="line">    ListNode pred, succ;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; size - index) &#123;</span><br><span class="line">      pred = head;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index; ++i) pred = pred.next;</span><br><span class="line">      succ = pred.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      succ = tail;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size - index - <span class="number">1</span>; ++i) succ = succ.prev;</span><br><span class="line">      pred = succ.prev.prev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// delete pred.next </span></span><br><span class="line">    --size;</span><br><span class="line">    pred.next = succ;</span><br><span class="line">    succ.prev = pred;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®¾è®¡é“¾è¡¨çš„å®ç°ã€‚æ‚¨å¯ä»¥é€‰æ‹©ä½¿ç”¨å•é“¾è¡¨æˆ–åŒé“¾è¡¨ã€‚å•é“¾è¡¨ä¸­çš„èŠ‚ç‚¹åº”è¯¥å…·æœ‰ä¸¤ä¸ªå±æ€§ï¼šval å’Œ nextã€‚val æ˜¯å½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œnext æ˜¯æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ/å¼•ç”¨ã€‚å¦‚æœè¦ä½¿ç”¨åŒå‘é“¾è¡¨ï¼Œåˆ™è¿˜éœ€è¦ä¸€ä¸ªå±æ€§ prev ä»¥æŒ‡ç¤ºé“¾è¡¨ä¸­çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚å‡è®¾é“¾è¡¨ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯ 0-index çš„ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´4æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B44%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Design" scheme="http://yoursite.com/tags/Design/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
  </entry>
  
  <entry>
    <title>706. è®¾è®¡å“ˆå¸Œæ˜ å°„</title>
    <link href="http://yoursite.com/2021/04/09/706.%20%E8%AE%BE%E8%AE%A1%E5%93%88%E5%B8%8C%E6%98%A0%E5%B0%84/"/>
    <id>http://yoursite.com/2021/04/09/706. è®¾è®¡å“ˆå¸Œæ˜ å°„/</id>
    <published>2021-04-09T10:12:12.000Z</published>
    <updated>2021-04-10T16:53:00.872Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸ä½¿ç”¨ä»»ä½•å†…å»ºçš„å“ˆå¸Œè¡¨åº“è®¾è®¡ä¸€ä¸ªå“ˆå¸Œæ˜ å°„ï¼ˆHashMapï¼‰ã€‚</p><a id="more"></a><p>å®ç° MyHashMap ç±»ï¼š</p><p>MyHashMap() ç”¨ç©ºæ˜ å°„åˆå§‹åŒ–å¯¹è±¡<br>void put(int key, int value) å‘ HashMap æ’å…¥ä¸€ä¸ªé”®å€¼å¯¹ (key, value) ã€‚å¦‚æœ key å·²ç»å­˜åœ¨äºæ˜ å°„ä¸­ï¼Œåˆ™æ›´æ–°å…¶å¯¹åº”çš„å€¼ value ã€‚<br>int get(int key) è¿”å›ç‰¹å®šçš„ key æ‰€æ˜ å°„çš„ value ï¼›å¦‚æœæ˜ å°„ä¸­ä¸åŒ…å« key çš„æ˜ å°„ï¼Œè¿”å› -1 ã€‚<br>void remove(key) å¦‚æœæ˜ å°„ä¸­å­˜åœ¨ key çš„æ˜ å°„ï¼Œåˆ™ç§»é™¤ key å’Œå®ƒæ‰€å¯¹åº”çš„ value ã€‚</p><p>ç¤ºä¾‹ï¼š</p><p>è¾“å…¥ï¼š</p><pre><code>[&quot;MyHashMap&quot;, &quot;put&quot;, &quot;put&quot;, &quot;get&quot;, &quot;get&quot;, &quot;put&quot;, &quot;get&quot;, &quot;remove&quot;, &quot;get&quot;][[], [1, 1], [2, 2], [1], [3], [2, 1], [2], [2], [2]]</code></pre><p>è¾“å‡ºï¼š</p><pre><code>[null, null, null, 1, -1, null, 1, null, -1]</code></pre><p>è§£é‡Šï¼š</p><pre><code>MyHashMap myHashMap = new MyHashMap();myHashMap.put(1, 1); // myHashMap ç°åœ¨ä¸º [[1,1]]myHashMap.put(2, 2); // myHashMap ç°åœ¨ä¸º [[1,1], [2,2]]myHashMap.get(1);    // è¿”å› 1 ï¼ŒmyHashMap ç°åœ¨ä¸º [[1,1], [2,2]]myHashMap.get(3);    // è¿”å› -1ï¼ˆæœªæ‰¾åˆ°ï¼‰ï¼ŒmyHashMap ç°åœ¨ä¸º [[1,1], [2,2]]myHashMap.put(2, 1); // myHashMap ç°åœ¨ä¸º [[1,1], [2,1]]ï¼ˆæ›´æ–°å·²æœ‰çš„å€¼ï¼‰myHashMap.get(2);    // è¿”å› 1 ï¼ŒmyHashMap ç°åœ¨ä¸º [[1,1], [2,1]]myHashMap.remove(2); // åˆ é™¤é”®ä¸º 2 çš„æ•°æ®ï¼ŒmyHashMap ç°åœ¨ä¸º [[1,1]]myHashMap.get(2);    // è¿”å› -1ï¼ˆæœªæ‰¾åˆ°ï¼‰ï¼ŒmyHashMap ç°åœ¨ä¸º [[1,1]]</code></pre><p>æç¤ºï¼š</p><pre><code>0 &lt;= key, value &lt;= 106æœ€å¤šè°ƒç”¨ 104 æ¬¡ putã€get å’Œ remove æ–¹æ³•</code></pre><p>è¿›é˜¶ï¼šä½ èƒ½å¦ä¸ä½¿ç”¨å†…ç½®çš„ HashMap åº“è§£å†³æ­¤é—®é¢˜ï¼Ÿ</p><h1 id="é“¾åœ°å€æ³•"><a href="#é“¾åœ°å€æ³•" class="headerlink" title="é“¾åœ°å€æ³•"></a>é“¾åœ°å€æ³•</h1><p>æˆ‘ä»¬å‡å®šè¯»è€…å·²ç»å®Œæˆäº†ã€Œ<a href="https://leetcode-cn.com/problems/design-hashset/" target="_blank" rel="noopener">705. è®¾è®¡å“ˆå¸Œé›†åˆ</a>ã€è¿™ä¸€é¢˜ç›®ã€‚</p><p>ã€Œè®¾è®¡å“ˆå¸Œæ˜ å°„ã€ä¸ã€Œè®¾è®¡å“ˆå¸Œé›†åˆã€è§£æ³•æ¥è¿‘ï¼Œå”¯ä¸€çš„åŒºåˆ«åœ¨äºæˆ‘ä»¬å­˜å‚¨çš„ä¸æ˜¯ keyæœ¬èº«ï¼Œè€Œæ˜¯ key,value å¯¹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä»£ç åŸºæœ¬æ˜¯ç±»ä¼¼çš„ã€‚</p><details>    <summary>é“¾åœ°å€æ³•C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHashMap</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">list</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt;&gt; data;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> base = <span class="number">769</span>;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> key % base;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    MyHashMap(): data(base) &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** value will always be non-negative. */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h = hash(key);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> it = data[h].begin(); it != data[h].end(); it++) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((*it).first == key) &#123;</span><br><span class="line">                (*it).second = value;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        data[h].push_back(make_pair(key, value));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns the value to which the specified key is mapped, or -1 if this map contains no mapping for the key */</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h = hash(key);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> it = data[h].begin(); it != data[h].end(); it++) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((*it).first == key) &#123;</span><br><span class="line">                <span class="keyword">return</span> (*it).second;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Removes the mapping of the specified value key if this map contains a mapping for the key */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h = hash(key);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> it = data[h].begin(); it != data[h].end(); it++) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((*it).first == key) &#123;</span><br><span class="line">                data[h].erase(it);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>é“¾åœ°å€æ³•Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHashMap</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Pair</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> key;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> value;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.key = key;</span><br><span class="line">            <span class="keyword">this</span>.value = value;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getKey</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> key;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> value;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setValue</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.value = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> BASE = <span class="number">769</span>;</span><br><span class="line">    <span class="keyword">private</span> LinkedList[] data;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyHashMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        data = <span class="keyword">new</span> LinkedList[BASE];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; BASE; ++i) &#123;</span><br><span class="line">            data[i] = <span class="keyword">new</span> LinkedList&lt;Pair&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** value will always be non-negative. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h = hash(key);</span><br><span class="line">        Iterator&lt;Pair&gt; iterator = data[h].iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            Pair pair = iterator.next();</span><br><span class="line">            <span class="keyword">if</span> (pair.getKey() == key) &#123;</span><br><span class="line">                pair.setValue(value);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        data[h].offerLast(<span class="keyword">new</span> Pair(key, value));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns the value to which the specified key is mapped, or -1 if this map contains no mapping for the key */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h = hash(key);</span><br><span class="line">        Iterator&lt;Pair&gt; iterator = data[h].iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            Pair pair = iterator.next();</span><br><span class="line">            <span class="keyword">if</span> (pair.getKey() == key) &#123;</span><br><span class="line">                <span class="keyword">return</span> pair.value;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Removes the mapping of the specified value key if this map contains a mapping for the key */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h = hash(key);</span><br><span class="line">        Iterator&lt;Pair&gt; iterator = data[h].iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            Pair pair = iterator.next();</span><br><span class="line">            <span class="keyword">if</span> (pair.key == key) &#123;</span><br><span class="line">                data[h].remove(pair);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> key % BASE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é“¾åœ°å€æ³•Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> base = <span class="number">769</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> entry <span class="keyword">struct</span> &#123;</span><br><span class="line">    key, value <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> MyHashMap <span class="keyword">struct</span> &#123;</span><br><span class="line">    data []list.List</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Constructor</span><span class="params">()</span> <span class="title">MyHashMap</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> MyHashMap&#123;<span class="built_in">make</span>([]list.List, base)&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *MyHashMap)</span> <span class="title">hash</span><span class="params">(key <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> key % base</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *MyHashMap)</span> <span class="title">Put</span><span class="params">(key, value <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    h := m.hash(key)</span><br><span class="line">    <span class="keyword">for</span> e := m.data[h].Front(); e != <span class="literal">nil</span>; e = e.Next() &#123;</span><br><span class="line">        <span class="keyword">if</span> et := e.Value.(entry); et.key == key &#123;</span><br><span class="line">            e.Value = entry&#123;key, value&#125;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    m.data[h].PushBack(entry&#123;key, value&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *MyHashMap)</span> <span class="title">Get</span><span class="params">(key <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    h := m.hash(key)</span><br><span class="line">    <span class="keyword">for</span> e := m.data[h].Front(); e != <span class="literal">nil</span>; e = e.Next() &#123;</span><br><span class="line">        <span class="keyword">if</span> et := e.Value.(entry); et.key == key &#123;</span><br><span class="line">            <span class="keyword">return</span> et.value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *MyHashMap)</span> <span class="title">Remove</span><span class="params">(key <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    h := m.hash(key)</span><br><span class="line">    <span class="keyword">for</span> e := m.data[h].Front(); e != <span class="literal">nil</span>; e = e.Next() &#123;</span><br><span class="line">        <span class="keyword">if</span> e.Value.(entry).key == key &#123;</span><br><span class="line">            m.data[h].Remove(e)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é“¾åœ°å€æ³•JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> MyHashMap = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.BASE = <span class="number">769</span>;</span><br><span class="line">    <span class="keyword">this</span>.data = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="keyword">this</span>.BASE).fill(<span class="number">0</span>).map(<span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Array</span>());</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">MyHashMap.prototype.put = <span class="function"><span class="keyword">function</span>(<span class="params">key, value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> h = <span class="keyword">this</span>.hash(key);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> it <span class="keyword">of</span> <span class="keyword">this</span>.data[h]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (it[<span class="number">0</span>] === key) &#123;</span><br><span class="line">            it[<span class="number">1</span>] = value;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.data[h].push([key, value]);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">MyHashMap.prototype.get = <span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> h = <span class="keyword">this</span>.hash(key);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> it <span class="keyword">of</span> <span class="keyword">this</span>.data[h]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (it[<span class="number">0</span>] === key) &#123;</span><br><span class="line">            <span class="keyword">return</span> it[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">MyHashMap.prototype.remove = <span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> h = <span class="keyword">this</span>.hash(key);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> it <span class="keyword">of</span> <span class="keyword">this</span>.data[h]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (it[<span class="number">0</span>] === key) &#123;</span><br><span class="line">            <span class="keyword">const</span> idx = <span class="keyword">this</span>.data[h].indexOf(it);</span><br><span class="line">            <span class="keyword">this</span>.data[h].splice(idx, <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">MyHashMap.prototype.hash = <span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> key % <span class="keyword">this</span>.BASE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é“¾åœ°å€æ³•C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">List</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> key;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">List</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">listPush</span><span class="params">(struct List* head, <span class="keyword">int</span> key, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">List</span>* <span class="title">tmp</span> = <span class="title">malloc</span>(<span class="title">sizeof</span>(<span class="title">struct</span> <span class="title">List</span>));</span></span><br><span class="line">    tmp-&gt;key = key;</span><br><span class="line">    tmp-&gt;val = val;</span><br><span class="line">    tmp-&gt;next = head-&gt;next;</span><br><span class="line">    head-&gt;next = tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">listDelete</span><span class="params">(struct List* head, <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (struct List* it = head; it-&gt;next; it = it-&gt;next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (it-&gt;next-&gt;key == key) &#123;</span><br><span class="line">            <span class="class"><span class="keyword">struct</span> <span class="title">List</span>* <span class="title">tmp</span> = <span class="title">it</span>-&gt;<span class="title">next</span>;</span></span><br><span class="line">            it-&gt;next = tmp-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(tmp);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">struct List* <span class="title">listFind</span><span class="params">(struct List* head, <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (struct List* it = head; it-&gt;next; it = it-&gt;next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (it-&gt;next-&gt;key == key) &#123;</span><br><span class="line">            <span class="keyword">return</span> it-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">listFree</span><span class="params">(struct List* head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (head-&gt;next) &#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">List</span>* <span class="title">tmp</span> = <span class="title">head</span>-&gt;<span class="title">next</span>;</span></span><br><span class="line">        head-&gt;next = tmp-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(tmp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> base = <span class="number">769</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hash</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> key % base;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">List</span>* <span class="title">data</span>;</span></span><br><span class="line">&#125; MyHashMap;</span><br><span class="line"></span><br><span class="line"><span class="function">MyHashMap* <span class="title">myHashMapCreate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    MyHashMap* ret = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(MyHashMap));</span><br><span class="line">    ret-&gt;data = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct List) * base);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; base; i++) &#123;</span><br><span class="line">        ret-&gt;data[i].key = <span class="number">0</span>;</span><br><span class="line">        ret-&gt;data[i].val = <span class="number">0</span>;</span><br><span class="line">        ret-&gt;data[i].next = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myHashMapPut</span><span class="params">(MyHashMap* obj, <span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h = hash(key);</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">List</span>* <span class="title">rec</span> = <span class="title">listFind</span>(&amp;(<span class="title">obj</span>-&gt;<span class="title">data</span>[<span class="title">h</span>]), <span class="title">key</span>);</span></span><br><span class="line">    <span class="keyword">if</span> (rec == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        listPush(&amp;(obj-&gt;data[h]), key, value);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        rec-&gt;val = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">myHashMapGet</span><span class="params">(MyHashMap* obj, <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h = hash(key);</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">List</span>* <span class="title">rec</span> = <span class="title">listFind</span>(&amp;(<span class="title">obj</span>-&gt;<span class="title">data</span>[<span class="title">h</span>]), <span class="title">key</span>);</span></span><br><span class="line">    <span class="keyword">if</span> (rec == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> rec-&gt;val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myHashMapRemove</span><span class="params">(MyHashMap* obj, <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h = hash(key);</span><br><span class="line">    listDelete(&amp;(obj-&gt;data[h]), key);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myHashMapFree</span><span class="params">(MyHashMap* obj)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; base; i++) &#123;</span><br><span class="line">        listFree(&amp;(obj-&gt;data[i]));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(obj-&gt;data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><ul><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n+b)</em>ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸ä½¿ç”¨ä»»ä½•å†…å»ºçš„å“ˆå¸Œè¡¨åº“è®¾è®¡ä¸€ä¸ªå“ˆå¸Œæ˜ å°„ï¼ˆHashMapï¼‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´4æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B44%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Design" scheme="http://yoursite.com/tags/Design/"/>
    
  </entry>
  
  <entry>
    <title>705. è®¾è®¡å“ˆå¸Œé›†åˆ</title>
    <link href="http://yoursite.com/2021/04/09/705.%20%E8%AE%BE%E8%AE%A1%E5%93%88%E5%B8%8C%E9%9B%86%E5%90%88/"/>
    <id>http://yoursite.com/2021/04/09/705. è®¾è®¡å“ˆå¸Œé›†åˆ/</id>
    <published>2021-04-09T10:10:12.000Z</published>
    <updated>2021-04-10T16:53:07.037Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸ä½¿ç”¨ä»»ä½•å†…å»ºçš„å“ˆå¸Œè¡¨åº“è®¾è®¡ä¸€ä¸ªå“ˆå¸Œé›†åˆï¼ˆHashSetï¼‰ã€‚</p><a id="more"></a><p>å®ç° MyHashSet ç±»ï¼š</p><p>void add(key) å‘å“ˆå¸Œé›†åˆä¸­æ’å…¥å€¼ key ã€‚<br>bool contains(key) è¿”å›å“ˆå¸Œé›†åˆä¸­æ˜¯å¦å­˜åœ¨è¿™ä¸ªå€¼ key ã€‚<br>void remove(key) å°†ç»™å®šå€¼ key ä»å“ˆå¸Œé›†åˆä¸­åˆ é™¤ã€‚å¦‚æœå“ˆå¸Œé›†åˆä¸­æ²¡æœ‰è¿™ä¸ªå€¼ï¼Œä»€ä¹ˆä¹Ÿä¸åšã€‚</p><p>ç¤ºä¾‹ï¼š</p><p>è¾“å…¥ï¼š</p><pre><code>[&quot;MyHashSet&quot;, &quot;add&quot;, &quot;add&quot;, &quot;contains&quot;, &quot;contains&quot;, &quot;add&quot;, &quot;contains&quot;, &quot;remove&quot;, &quot;contains&quot;][[], [1], [2], [1], [3], [2], [2], [2], [2]]</code></pre><p>è¾“å‡ºï¼š</p><pre><code>[null, null, null, true, false, null, true, null, false]</code></pre><p>è§£é‡Šï¼š</p><pre><code>MyHashSet myHashSet = new MyHashSet();myHashSet.add(1);      // set = [1]myHashSet.add(2);      // set = [1, 2]myHashSet.contains(1); // è¿”å› TruemyHashSet.contains(3); // è¿”å› False ï¼Œï¼ˆæœªæ‰¾åˆ°ï¼‰myHashSet.add(2);      // set = [1, 2]myHashSet.contains(2); // è¿”å› TruemyHashSet.remove(2);   // set = [1]myHashSet.contains(2); // è¿”å› False ï¼Œï¼ˆå·²ç§»é™¤ï¼‰</code></pre><p>æç¤ºï¼š</p><pre><code>0 &lt;= key &lt;= 106æœ€å¤šè°ƒç”¨ 104 æ¬¡ addã€remove å’Œ contains ã€‚</code></pre><p>è¿›é˜¶ï¼šä½ å¯ä»¥ä¸ä½¿ç”¨å†…å»ºçš„å“ˆå¸Œé›†åˆåº“è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ</p><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>ä¸ºäº†å®ç°å“ˆå¸Œé›†åˆè¿™ä¸€æ•°æ®ç»“æ„ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªå…³é”®é—®é¢˜éœ€è¦è§£å†³ï¼š</p><ul><li>å“ˆå¸Œå‡½æ•°ï¼šèƒ½å¤Ÿå°†é›†åˆä¸­ä»»æ„å¯èƒ½çš„å…ƒç´ æ˜ å°„åˆ°ä¸€ä¸ªå›ºå®šèŒƒå›´çš„æ•´æ•°å€¼ï¼Œå¹¶å°†è¯¥å…ƒç´ å­˜å‚¨åˆ°æ•´æ•°å€¼å¯¹åº”çš„åœ°å€ä¸Šã€‚</li><li>å†²çªå¤„ç†ï¼šç”±äºä¸åŒå…ƒç´ å¯èƒ½æ˜ å°„åˆ°ç›¸åŒçš„æ•´æ•°å€¼ï¼Œå› æ­¤éœ€è¦åœ¨æ•´æ•°å€¼å‡ºç°ã€Œå†²çªã€æ—¶ï¼Œéœ€è¦è¿›è¡Œå†²çªå¤„ç†ã€‚æ€»çš„æ¥è¯´ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ç­–ç•¥è§£å†³å†²çªï¼š<ul><li>é“¾åœ°å€æ³•ï¼šä¸ºæ¯ä¸ªå“ˆå¸Œå€¼ç»´æŠ¤ä¸€ä¸ªé“¾è¡¨ï¼Œå¹¶å°†å…·æœ‰ç›¸åŒå“ˆå¸Œå€¼çš„å…ƒç´ éƒ½æ”¾å…¥è¿™ä¸€é“¾è¡¨å½“ä¸­ã€‚</li><li>å¼€æ”¾åœ°å€æ³•ï¼šå½“å‘ç°å“ˆå¸Œå€¼ <em>h</em> å¤„äº§ç”Ÿå†²çªæ—¶ï¼Œæ ¹æ®æŸç§ç­–ç•¥ï¼Œä» <em>h</em> å‡ºå‘æ‰¾åˆ°ä¸‹ä¸€ä¸ªä¸å†²çªçš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œä¸€ç§æœ€ç®€å•çš„ç­–ç•¥æ˜¯ï¼Œä¸æ–­åœ°æ£€æŸ¥ h+1,h+2,h+3â€¦ è¿™äº›æ•´æ•°å¯¹åº”çš„ä½ç½®ã€‚</li><li>å†å“ˆå¸Œæ³•ï¼šå½“å‘ç°å“ˆå¸Œå†²çªåï¼Œä½¿ç”¨å¦ä¸€ä¸ªå“ˆå¸Œå‡½æ•°äº§ç”Ÿä¸€ä¸ªæ–°çš„åœ°å€ã€‚</li></ul></li><li>æ‰©å®¹ï¼šå½“å“ˆå¸Œè¡¨å…ƒç´ è¿‡å¤šæ—¶ï¼Œå†²çªçš„æ¦‚ç‡å°†è¶Šæ¥è¶Šå¤§ï¼Œè€Œåœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥è¯¢ä¸€ä¸ªå…ƒç´ çš„æ•ˆç‡ä¹Ÿä¼šè¶Šæ¥è¶Šä½ã€‚å› æ­¤ï¼Œéœ€è¦å¼€è¾Ÿä¸€å—æ›´å¤§çš„ç©ºé—´ï¼Œæ¥ç¼“è§£å“ˆå¸Œè¡¨ä¸­å‘ç”Ÿçš„å†²çªã€‚</li></ul><p>ä»¥ä¸Šå†…å®¹è¯»è€…å¯ä»¥è‡ªè¡Œç¿»é˜…æ•°æ®ç»“æ„çš„æ•™æï¼Œæœ¬é¢˜è§£ä¸å†é˜è¿°ï¼Œè€Œæ˜¯ç›´æ¥ç»™å‡ºä¸€ä¸ªæœ€ç®€å•çš„å“ˆå¸Œè¡¨å®ç°ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šé“¾åœ°å€æ³•"><a href="#æ–¹æ³•ä¸€ï¼šé“¾åœ°å€æ³•" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé“¾åœ°å€æ³•"></a>æ–¹æ³•ä¸€ï¼šé“¾åœ°å€æ³•</h1><p>è®¾å“ˆå¸Œè¡¨çš„å¤§å°ä¸º base ï¼Œåˆ™å¯ä»¥è®¾è®¡ä¸€ä¸ªç®€å•çš„å“ˆå¸Œå‡½æ•°ï¼šhash(x)=x%baseã€‚</p><p>æˆ‘ä»¬å¼€è¾Ÿä¸€ä¸ªå¤§å°ä¸º base çš„æ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªä½ç½®æ˜¯ä¸€ä¸ªé“¾è¡¨ã€‚å½“è®¡ç®—å‡ºå“ˆå¸Œå€¼ä¹‹åï¼Œå°±æ’å…¥åˆ°å¯¹åº”ä½ç½®çš„é“¾è¡¨å½“ä¸­ã€‚</p><p>ç”±äºæˆ‘ä»¬ä½¿ç”¨æ•´æ•°é™¤æ³•ä½œä¸ºå“ˆå¸Œå‡½æ•°ï¼Œä¸ºäº†å°½å¯èƒ½é¿å…å†²çªï¼Œåº”å½“å°† base  å–ä¸ºä¸€ä¸ªè´¨æ•°ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å– base=769ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>é“¾åœ°å€æ³•C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHashSet</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">list</span>&lt;<span class="keyword">int</span>&gt;&gt; data;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> base = <span class="number">769</span>;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> key % base;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    MyHashSet(): data(base) &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h = hash(key);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> it = data[h].begin(); it != data[h].end(); it++) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((*it) == key) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        data[h].push_back(key);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h = hash(key);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> it = data[h].begin(); it != data[h].end(); it++) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((*it) == key) &#123;</span><br><span class="line">                data[h].erase(it);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns true if this set contains the specified element */</span></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">contains</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h = hash(key);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> it = data[h].begin(); it != data[h].end(); it++) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((*it) == key) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>é“¾åœ°å€æ³•Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHashSet</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> BASE = <span class="number">769</span>;</span><br><span class="line">    <span class="keyword">private</span> LinkedList[] data;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyHashSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        data = <span class="keyword">new</span> LinkedList[BASE];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; BASE; ++i) &#123;</span><br><span class="line">            data[i] = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h = hash(key);</span><br><span class="line">        Iterator&lt;Integer&gt; iterator = data[h].iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            Integer element = iterator.next();</span><br><span class="line">            <span class="keyword">if</span> (element == key) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        data[h].offerLast(key);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h = hash(key);</span><br><span class="line">        Iterator&lt;Integer&gt; iterator = data[h].iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            Integer element = iterator.next();</span><br><span class="line">            <span class="keyword">if</span> (element == key) &#123;</span><br><span class="line">                data[h].remove(element);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns true if this set contains the specified element */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h = hash(key);</span><br><span class="line">        Iterator&lt;Integer&gt; iterator = data[h].iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            Integer element = iterator.next();</span><br><span class="line">            <span class="keyword">if</span> (element == key) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> key % BASE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é“¾åœ°å€æ³•JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> MyHashSet = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.BASE = <span class="number">769</span>;</span><br><span class="line">    <span class="keyword">this</span>.data = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="keyword">this</span>.BASE).fill(<span class="number">0</span>).map(<span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Array</span>());</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">MyHashSet.prototype.add = <span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> h = <span class="keyword">this</span>.hash(key);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> element <span class="keyword">of</span> <span class="keyword">this</span>.data[h]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (element === key) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.data[h].push(key);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">MyHashSet.prototype.remove = <span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> h = <span class="keyword">this</span>.hash(key);</span><br><span class="line">    <span class="keyword">const</span> it = <span class="keyword">this</span>.data[h];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; it.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (it[i] === key) &#123;</span><br><span class="line">            it.splice(i, <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">MyHashSet.prototype.contains = <span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> h = <span class="keyword">this</span>.hash(key);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> element <span class="keyword">of</span> <span class="keyword">this</span>.data[h]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (element === key) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">MyHashSet.prototype.hash = <span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> key % <span class="keyword">this</span>.BASE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é“¾åœ°å€æ³•Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> base = <span class="number">769</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> MyHashSet <span class="keyword">struct</span> &#123;</span><br><span class="line">    data []list.List</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Constructor</span><span class="params">()</span> <span class="title">MyHashSet</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> MyHashSet&#123;<span class="built_in">make</span>([]list.List, base)&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *MyHashSet)</span> <span class="title">hash</span><span class="params">(key <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> key % base</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *MyHashSet)</span> <span class="title">Add</span><span class="params">(key <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> !s.Contains(key) &#123;</span><br><span class="line">        h := s.hash(key)</span><br><span class="line">        s.data[h].PushBack(key)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *MyHashSet)</span> <span class="title">Remove</span><span class="params">(key <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    h := s.hash(key)</span><br><span class="line">    <span class="keyword">for</span> e := s.data[h].Front(); e != <span class="literal">nil</span>; e = e.Next() &#123;</span><br><span class="line">        <span class="keyword">if</span> e.Value.(<span class="keyword">int</span>) == key &#123;</span><br><span class="line">            s.data[h].Remove(e)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s *MyHashSet)</span> <span class="title">Contains</span><span class="params">(key <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    h := s.hash(key)</span><br><span class="line">    <span class="keyword">for</span> e := s.data[h].Front(); e != <span class="literal">nil</span>; e = e.Next() &#123;</span><br><span class="line">        <span class="keyword">if</span> e.Value.(<span class="keyword">int</span>) == key &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>é“¾åœ°å€æ³•C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">List</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">List</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">listPush</span><span class="params">(struct List* head, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">List</span>* <span class="title">tmp</span> = <span class="title">malloc</span>(<span class="title">sizeof</span>(<span class="title">struct</span> <span class="title">List</span>));</span></span><br><span class="line">    tmp-&gt;val = x;</span><br><span class="line">    tmp-&gt;next = head-&gt;next;</span><br><span class="line">    head-&gt;next = tmp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">listDelete</span><span class="params">(struct List* head, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (struct List* it = head; it-&gt;next; it = it-&gt;next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (it-&gt;next-&gt;val == x) &#123;</span><br><span class="line">            <span class="class"><span class="keyword">struct</span> <span class="title">List</span>* <span class="title">tmp</span> = <span class="title">it</span>-&gt;<span class="title">next</span>;</span></span><br><span class="line">            it-&gt;next = tmp-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(tmp);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">listContains</span><span class="params">(struct List* head, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (struct List* it = head; it-&gt;next; it = it-&gt;next) &#123;</span><br><span class="line">        <span class="keyword">if</span> (it-&gt;next-&gt;val == x) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">listFree</span><span class="params">(struct List* head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (head-&gt;next) &#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">List</span>* <span class="title">tmp</span> = <span class="title">head</span>-&gt;<span class="title">next</span>;</span></span><br><span class="line">        head-&gt;next = tmp-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(tmp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> base = <span class="number">769</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hash</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> key % base;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">List</span>* <span class="title">data</span>;</span></span><br><span class="line">&#125; MyHashSet;</span><br><span class="line"></span><br><span class="line"><span class="function">MyHashSet* <span class="title">myHashSetCreate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    MyHashSet* ret = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(MyHashSet));</span><br><span class="line">    ret-&gt;data = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct List) * base);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; base; i++) &#123;</span><br><span class="line">        ret-&gt;data[i].val = <span class="number">0</span>;</span><br><span class="line">        ret-&gt;data[i].next = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myHashSetAdd</span><span class="params">(MyHashSet* obj, <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h = hash(key);</span><br><span class="line">    <span class="keyword">if</span> (!listContains(&amp;(obj-&gt;data[h]), key)) &#123;</span><br><span class="line">        listPush(&amp;(obj-&gt;data[h]), key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myHashSetRemove</span><span class="params">(MyHashSet* obj, <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h = hash(key);</span><br><span class="line">    listDelete(&amp;(obj-&gt;data[h]), key);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">myHashSetContains</span><span class="params">(MyHashSet* obj, <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h = hash(key);</span><br><span class="line">    <span class="keyword">return</span> listContains(&amp;(obj-&gt;data[h]), key);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myHashSetFree</span><span class="params">(MyHashSet* obj)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; base; i++) &#123;</span><br><span class="line">        listFree(&amp;(obj-&gt;data[i]));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(obj-&gt;data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸ä½¿ç”¨ä»»ä½•å†…å»ºçš„å“ˆå¸Œè¡¨åº“è®¾è®¡ä¸€ä¸ªå“ˆå¸Œé›†åˆï¼ˆHashSetï¼‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´4æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B44%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Design" scheme="http://yoursite.com/tags/Design/"/>
    
  </entry>
  
  <entry>
    <title>LCP 29. ä¹å›¢ç«™ä½</title>
    <link href="http://yoursite.com/2021/04/07/LCP%2029.%20%E4%B9%90%E5%9B%A2%E7%AB%99%E4%BD%8D/"/>
    <id>http://yoursite.com/2021/04/07/LCP 29. ä¹å›¢ç«™ä½/</id>
    <published>2021-04-07T02:00:12.000Z</published>
    <updated>2021-04-10T16:53:13.832Z</updated>
    
    <content type="html"><![CDATA[<p>æŸä¹å›¢çš„æ¼”å‡ºåœºåœ°å¯è§†ä½œ num * num çš„äºŒç»´çŸ©é˜µ gridï¼ˆå·¦ä¸Šè§’åæ ‡ä¸º [0,0])ï¼Œæ¯ä¸ªä½ç½®ç«™æœ‰ä¸€ä½æˆå‘˜ã€‚ä¹å›¢å…±æœ‰ 9 ç§ä¹å™¨ï¼Œä¹å™¨ç¼–å·ä¸º 1~9ï¼Œæ¯ä½æˆå‘˜æŒæœ‰ 1 ä¸ªä¹å™¨ã€‚</p><p>ä¸ºä¿è¯å£°ä¹æ··åˆæ•ˆæœï¼Œæˆå‘˜ç«™ä½è§„åˆ™ä¸ºï¼šè‡ª grid å·¦ä¸Šè§’å¼€å§‹é¡ºæ—¶é’ˆèºæ—‹å½¢å‘å†…å¾ªç¯ä»¥ 1ï¼Œ2ï¼Œâ€¦ï¼Œ9 å¾ªç¯é‡å¤æ’åˆ—ã€‚</p><a id="more"></a><p>è¯·è¿”å›ä½äºåœºåœ°åæ ‡ [Xpos,Ypos] çš„æˆå‘˜æ‰€æŒä¹å™¨ç¼–å·ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><p>è¾“å…¥ï¼šnum = 3, Xpos = 0, Ypos = 2</p><p>è¾“å‡ºï¼š3</p><p>è§£é‡Šï¼š</p><pre><code>1 2 38 9 47 6 5</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><p>è¾“å…¥ï¼šnum = 4, Xpos = 1, Ypos = 2</p><p>è¾“å‡ºï¼š5</p><p>è§£é‡Šï¼š</p><pre><code>1 2 3 43 4 5 52 7 6 61 9 8 7</code></pre><p>æç¤ºï¼š</p><p>1 &lt;= num &lt;= 10^9</p><p>0 &lt;= Xpos, Ypos &lt; num</p><h1 id="é¢˜è§£-1"><a href="#é¢˜è§£-1" class="headerlink" title="é¢˜è§£^1"></a>é¢˜è§£<a href="https://leetcode-cn.com/problems/SNJvJP/solution/shu-xue-yi-ge-gong-shi-ji-ke-by-ivon_shi-mo6a/" target="_blank" rel="noopener">^1</a></h1><p>1.è·å–æ‰€æ±‚ç‚¹åœ¨ç¬¬å‡ å±‚ï¼ˆæ­¤å¤„æ ¹æ®æ‰€æ±‚ç‚¹çš„ä½ç½®ï¼Œå±‚æ•°kå¯èƒ½ä¼šå¤šç®—ä¸€å±‚ï¼‰</p><p>2.ç¬¬<code>0ï¼Œ1...k</code>å±‚çš„æ•°é‡ ä¸ æ‰€æ±‚ç‚¹ç›¸å¯¹ç¬¬kå±‚å·¦ä¸Šè§’å…ƒç´ çš„ä½ç½®åš<code>+</code>æˆ–<code>-</code>è¿ç®—ï¼Œæ±‚å¾—æ‰€æ±‚ç‚¹çš„ç»å¯¹æ¬¡åºï¼ˆä»èµ·å§‹ç‚¹åˆ°æ‰€æ±‚ç‚¹ç»è¿‡çš„é•¿åº¦ï¼‰</p><p>è®°ï¼š<code>k(0,1,2...n/2</code>(å¾€ä¸Šå–æ•´))<br><code>C(K)</code>=ç¬¬kå±‚çš„æ–¹å—æ•°ç›®,å¦‚å›¾<code>C(0)=16,C(1)=8,C(2)=1</code>;<br><code>T(K)</code>=ç¬¬kå±‚åŠä»¥å¤–çš„æ–¹å— æ•°ç›®ï¼Œå¦‚å›¾<code>T(0)=16,T(1)=16+8=24,T(2)=16+8+1=25;</code><br>ä½†æ˜¯å…·ä½“æ€ä¹ˆè®¡ç®—å‘¢ å¯ä»¥ç”¨è¡¥é›†çš„æ€æƒ³<br><code>T(K)=n*n-(n-2k)*(n-2k)=4*k*(n-k)</code></p><p>ä½†æ˜¯æ€ä¹ˆæ±‚<code>(i,j)</code>ç‚¹æ‰€åœ¨å±‚ å·²ç»éå†è¿‡çš„æ•°ç›®å‘¢ ã€‚<br>1.æ±‚æ‰€åœ¨çš„å±‚æ•°<code>k</code><br><code>k=min(x,n-1-x,y,n-1-y)</code>(åç»­ç”±äºè¦åˆ†ç±»è®¨è®ºï¼Œkçš„æ±‚å–å¯ä»¥ç›´æ¥é€šè¿‡å…¶ä¸­æŸä¸¤ä¸ªå€¼æ±‚æœ€å°å€¼å³å¯); å³çœ‹è¯¥ç‚¹è·ç¦»å“ªä¸ªè¾¹ç•Œæ›´è¿‘ï¼Œæ‰€æ±‚çš„æœ€å°å€¼å°±æ˜¯ç¬¬å‡ å±‚ï¼Œå¦‚å›¾ <code>k=min(2,2,3,1)</code>,å³å¤„äºç¬¬ä¸€å±‚ã€‚é‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå°±çŸ¥é“äº†è¯¥å±‚ä»¥å¤–çš„æ©™è‰²æ•°ç›®<code>T(k)</code>ã€‚<br>2.æ±‚æ‰€æ±‚ç‚¹<code>(x,y)</code>ç›¸å¯¹è¯¥å±‚å·¦ä¸Šè§’ç‚¹çš„ç›¸å¯¹è·¯å¾„é•¿åº¦</p><p>2.1 å¯¹äº<code>x&lt;=y</code>ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“<code>dl=(x-k)+(y-k)+1</code><br>æ•… ç»å¯¹è·¯å¾„é•¿åº¦ä¸º <code>T(k)+dl</code></p><p>2.2 ä½†æ˜¯å¯¹äº<code>x&gt;y</code>å‘¢ï¼Œå¦‚æœæˆ‘ä»¬é‡‡ç”¨ç›¸åŒçš„æ–¹æ³•ï¼Œå°±ä¼šå¯¼è‡´å¯¹ç§°çš„ä¸¤ä¸ª<code>(i,j)</code>ä¸<code>(j,i)</code>ç›¸å¯¹è·¯å¾„ç›¸åŒã€‚æ•…æ‰ç”¨å¦å¤–ä¸€ç§æ–¹æ³•</p><p>åœ¨è®¡ç®—å±‚æ•°kçš„æ—¶å€™ å¤šè®¡ç®—ä¸€å±‚ï¼Œå†ä»ä¸‹ä¸€å±‚çš„å…¥å£å¤„å›é€€dlä¸ªè·¯å¾„<br>æ­¤æ—¶ç»å¯¹è·¯å¾„é•¿åº¦ä¸º <code>T(k+1)-dl</code> ,æ³¨æ„dlè®¡ç®—æ—¶ï¼Œä»ç”¨å…¶çœŸæ­£æ‰€å¤„çš„å±‚æ•°k-1æ¥è®¡ç®—ã€‚å³ï¼š<code>dl=(x-(k-1))+(y-(k-1))+1</code></p><p>(è‡³äºä¸ºä½•æ­¤å¤„å¯ç›´æ¥-dlï¼Œå¯ä»¥çœ‹ä¸‹å›¾ï¼Œä¸‹ä¸€å±‚çš„å…¥å£ç‚¹ä¸ä¸Šä¸€å±‚çš„å…¥å£ç‚¹æ˜¯å³ä¸‹å’Œå·¦ä¸Šå…³ç³»ï¼ŒæŒ‰ç…§èºæ—‹é¡ºåºåˆ°<code>(i,j)</code>ç‚¹çš„è·¯å¾„é•¿åº¦æ˜¯ç›¸åŒçš„ã€‚)</p><p>æœ€åï¼Œ å°±æ˜¯æŠŠç›¸åº”çš„è·¯å¾„é•¿åº¦<code>len</code>è½¬åŒ–ä¸º<code>1-9</code>çš„æ•°å­—å³å¯ï¼Œ<code>index=(len-1)%9+1</code>ã€‚</p><details>    <summary>C++</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int orchestraLayout(int num, int xPos, int yPos) &#123;</span><br><span class="line">        long long x=xPos,y=yPos,n=num;</span><br><span class="line">        if  (x &lt;= y) &#123;</span><br><span class="line">            long long  k= min(x, n-1-y);</span><br><span class="line">            return  (4*k*(n-k)+1+(x+y-k*2)-1)%9+1;</span><br><span class="line">        &#125;</span><br><span class="line">        long long  k =min(y, n-1-x)+1 ; </span><br><span class="line">        return   (4*k*(n-k)+ 1-(x+y-(k-1)*2 )-1)%9+1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><p>Javaè¿™é‡Œå°±æ˜¯ç›´æ¥å®šæˆkæ˜¯ä»1å¼€å§‹è®¡æ•°çš„ã€‚xå’Œyæ˜¯ä»0å¼€å§‹è®¡æ•°çš„ã€‚</p><details>    <summary>Java</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int orchestraLayout(int num, int xPos, int yPos) &#123;</span><br><span class="line">        //æ ¹æ®xï¼Œyè®¡ç®—k</span><br><span class="line">        int k = Math.min(Math.min(xPos,yPos),Math.min(num-xPos-1,num-yPos-1)) + 1; //1,2,3</span><br><span class="line">        long total_distance = 0;</span><br><span class="line">        long distance = 0;</span><br><span class="line">        if(xPos&lt;=yPos)&#123;</span><br><span class="line">            distance = (xPos-(k-1))+(yPos-(k-1))+1; //1,2...</span><br><span class="line">            total_distance  = T(num,k-1)+distance;</span><br><span class="line">            return total_distance%9==0?9:(int)(total_distance%9);</span><br><span class="line">        &#125;</span><br><span class="line">        //å½“å‰å±‚çš„ä¸ªæ•°å‡å»0ï¼Œ1ï¼Œ2ç­‰</span><br><span class="line">        distance = T(num,k) - T(num,k-1) - (Math.abs(xPos-k)+Math.abs(yPos-(k-1))) ;</span><br><span class="line">        total_distance = T(num,k-1)+distance;</span><br><span class="line">        return total_distance%9==0?9:(int)(total_distance%9);</span><br><span class="line">    &#125;</span><br><span class="line">    public long T(long n,long k)&#123; //k=1,2,3</span><br><span class="line">        if(k&lt;=0)&#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            return 4*k*(n-k);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æŸä¹å›¢çš„æ¼”å‡ºåœºåœ°å¯è§†ä½œ num * num çš„äºŒç»´çŸ©é˜µ gridï¼ˆå·¦ä¸Šè§’åæ ‡ä¸º [0,0])ï¼Œæ¯ä¸ªä½ç½®ç«™æœ‰ä¸€ä½æˆå‘˜ã€‚ä¹å›¢å…±æœ‰ 9 ç§ä¹å™¨ï¼Œä¹å™¨ç¼–å·ä¸º 1~9ï¼Œæ¯ä½æˆå‘˜æŒæœ‰ 1 ä¸ªä¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºä¿è¯å£°ä¹æ··åˆæ•ˆæœï¼Œæˆå‘˜ç«™ä½è§„åˆ™ä¸ºï¼šè‡ª grid å·¦ä¸Šè§’å¼€å§‹é¡ºæ—¶é’ˆèºæ—‹å½¢å‘å†…å¾ªç¯ä»¥ 1ï¼Œ2ï¼Œâ€¦ï¼Œ9 å¾ªç¯é‡å¤æ’åˆ—ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´4æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B44%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LCP 28. é‡‡è´­æ–¹æ¡ˆ</title>
    <link href="http://yoursite.com/2021/04/05/LCP%2028.%20%E9%87%87%E8%B4%AD%E6%96%B9%E6%A1%88/"/>
    <id>http://yoursite.com/2021/04/05/LCP 28. é‡‡è´­æ–¹æ¡ˆ/</id>
    <published>2021-04-05T07:00:12.000Z</published>
    <updated>2021-04-10T16:52:53.992Z</updated>
    
    <content type="html"><![CDATA[<p>å°åŠ›å°† N ä¸ªé›¶ä»¶çš„æŠ¥ä»·å­˜äºæ•°ç»„ numsã€‚å°åŠ›é¢„ç®—ä¸º targetï¼Œå‡å®šå°åŠ›ä»…è´­ä¹°ä¸¤ä¸ªé›¶ä»¶ï¼Œè¦æ±‚è´­ä¹°é›¶ä»¶çš„èŠ±è´¹ä¸è¶…è¿‡é¢„ç®—ï¼Œè¯·é—®ä»–æœ‰å¤šå°‘ç§é‡‡è´­æ–¹æ¡ˆã€‚</p><p>æ³¨æ„ï¼šç­”æ¡ˆéœ€è¦ä»¥ 1e9 + 7 (1000000007) ä¸ºåº•å–æ¨¡ï¼Œå¦‚ï¼šè®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1</p><a id="more"></a><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [2,5,3,5], target = 6è¾“å‡ºï¼š1è§£é‡Šï¼šé¢„ç®—å†…ä»…èƒ½è´­ä¹° nums[0] ä¸ nums[2]ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [2,2,1,9], target = 10è¾“å‡ºï¼š4è§£é‡Šï¼šç¬¦åˆé¢„ç®—çš„é‡‡è´­æ–¹æ¡ˆå¦‚ä¸‹ï¼šnums[0] + nums[1] = 4nums[0] + nums[2] = 3nums[1] + nums[2] = 3nums[2] + nums[3] = 10</code></pre><p>æç¤ºï¼š</p><pre><code>2 &lt;= nums.length &lt;= 10^51 &lt;= nums[i], target &lt;= 10^5</code></pre><p>è¿™é“é¢˜æ˜¯leetcodeå‘¨èµ›çš„é¢˜ç›®ï¼Œä¸€å¼€å§‹ç”¨åŒå¾ªç¯æˆ–TreeMapå­˜å‚¨çš„åŠæ³•æ¥åšéƒ½æ˜¯è¶…æ—¶ã€‚<br>å…ˆï¼Œä¸ºäº†ä¾¿äºè®¡ç®—ï¼Œæˆ‘ä»¬å…ˆå¯¹ numsnums åšå‡åºæ’åºã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numsï¼š[<span class="number">2</span>ï¼Œ<span class="number">2</span>ï¼Œ<span class="number">1</span>ï¼Œ<span class="number">9</span>]     target: <span class="number">10</span></span><br></pre></td></tr></table></figure><p>é¦–å…ˆï¼Œè·å–ä¸¤ä¸ªæ•°ï¼Œæ±‚å’Œä¹‹åå†å’ŒæŸä¸ªæ•°åšæ¯”è¾ƒï¼Œè¿™ä¸ªé¢˜å…¶å®å’Œ <a href="https://leetcode-cn.com/problems/he-wei-sde-liang-ge-shu-zi-lcof/solution/shuang-zhi-zhen-he-wei-sde-liang-ge-shu-wy7r4/" target="_blank" rel="noopener">å‰‘æŒ‡ Offer 57. å’Œä¸ºsçš„ä¸¤ä¸ªæ•°å­—</a> æä¸ºç›¸ä¼¼ï¼Œä¸çŸ¥é“çš„å°ä¼™ä¼´å¯ä»¥å…ˆè¡Œçœ‹çœ‹è¿™é“é¢˜ç†Ÿæ‚‰ä¸€ä¸‹æ€è·¯ã€‚</p><p>é¦–å…ˆï¼Œä¸ºäº†ä¾¿äºè®¡ç®—ï¼Œæˆ‘ä»¬å…ˆå¯¹ <em>nums</em> åšå‡åºæ’åºã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numsï¼š[<span class="number">1</span>ï¼Œ<span class="number">2</span>ï¼Œ<span class="number">2</span>ï¼Œ<span class="number">9</span>]     target: <span class="number">10</span></span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåˆ›å»ºä¸€ä¸ªæŒ‡é’ˆ <em>i</em> æŒ‡é’ˆæŒ‡å‘ <em>nums</em> é¦–ä½ï¼Œå†åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆ <em>j</em> æŒ‡å‘ <em>nums</em> æœ«ä½ï¼Œç„¶åé€šè¿‡éå†ï¼Œæ‰¾åˆ°ç¬¦åˆ <em>nums[i] + nums[j] &lt;= target</em> æ¡ä»¶çš„ <em>i</em>ï¼Œ<em>j</em> åŒºé—´èŒƒå›´ã€‚</p><p>æ—¢ç„¶è¯¥èŒƒå›´çš„è¾¹ç•Œå€¼ä¹‹å’Œéƒ½æ»¡è¶³äº†æ¡ä»¶ï¼Œé‚£ä¹ˆä»£è¡¨è¯¥åŒºé—´å†…çš„æ‰€æœ‰æ•°å­—å’Œ <em>nums[i]</em> ç›¸åŠ éƒ½æ»¡è¶³æ¡ä»¶ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <em>j - i</em> æ¥è·å–åˆ°å½“å‰æœ‰å¤šå°‘ä¸ªæ•°ï¼Œå¯ä»¥å’Œ <em>nums[i]</em> ç›¸åŠ åæ»¡è¶³æ¡ä»¶ï¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">iï¼š<span class="number">0</span>    jï¼š<span class="number">3</span>    nums[<span class="number">0</span>] + nums[<span class="number">3</span>] = <span class="number">10</span>ï¼Œæ»¡è¶³æ¡ä»¶ &lt;= <span class="number">10</span></span><br><span class="line"></span><br><span class="line">æ‰€ä»¥ï¼Œå½“ i = <span class="number">0</span> æ—¶ï¼Œå­˜åœ¨ j - i = <span class="number">3</span> ç§æ–¹æ¡ˆï¼Œå³ï¼š[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">ç„¶å i æŒ‡é’ˆå³ç§»ä¸€ä½ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</span><br><span class="line"></span><br><span class="line">iï¼š<span class="number">1</span>    jï¼š<span class="number">3</span>    nums[<span class="number">1</span>] + nums[<span class="number">3</span>] = <span class="number">11</span>ï¼Œä¸æ»¡è¶³æ¡ä»¶ &lt;= <span class="number">10</span></span><br><span class="line"></span><br><span class="line">------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">æ‰€ä»¥ j æŒ‡é’ˆå·¦ç§»ä¸€ä½ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</span><br><span class="line"></span><br><span class="line">iï¼š<span class="number">1</span>    jï¼š<span class="number">2</span>    nums[<span class="number">1</span>] + nums[<span class="number">2</span>] = <span class="number">4</span>ï¼Œæ»¡è¶³æ¡ä»¶ &lt;= <span class="number">10</span></span><br><span class="line"></span><br><span class="line">------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">æ‰€ä»¥ï¼Œå½“ i = <span class="number">1</span> æ—¶ï¼Œå­˜åœ¨ j - i = <span class="number">1</span> ç§æ–¹æ¡ˆï¼Œå³ï¼š[<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">æœ€åï¼Œæ»¡è¶³æ¡ä»¶çš„æ–¹æ¡ˆæ€»å…±å°±æ˜¯ [<span class="number">0</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">3</span>],[<span class="number">1</span>,<span class="number">2</span>] è¿™ <span class="number">4</span> ç§æ–¹æ¡ˆï¼</span><br></pre></td></tr></table></figure><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><details>    <summary>Javascript</summary><figure class="highlight javascript"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> purchasePlans = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">0</span>, j = nums.length - <span class="number">1</span>, ans = <span class="number">0</span>;</span><br><span class="line">    nums.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i] + nums[j] &gt; target) j--;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            ans += j - i;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans % <span class="number">1000000007</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">purchasePlans</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> mod = <span class="number">1_000_000_007</span>;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[left] + nums[right] &gt; target) right--;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                ans += right - left;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            ans %= mod;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">purchasePlans</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> mod = <span class="number">1000000007</span>;</span><br><span class="line">        sort(nums.begin(),nums.end());</span><br><span class="line">        <span class="keyword">int</span> i=<span class="number">0</span>,j = nums.size()<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;j;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span>(j&gt;i&amp;&amp;nums[i]+nums[j]&gt;target)</span><br><span class="line">            &#123;</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            res += j-i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res%mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">comp</span><span class="params">(<span class="keyword">const</span> <span class="keyword">void</span>* a,<span class="keyword">const</span> <span class="keyword">void</span>* b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> *(<span class="keyword">int</span>*)a - *(<span class="keyword">int</span>*)b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">purchasePlans</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize, <span class="keyword">int</span> target)</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line">    qsort(nums,numsSize,<span class="keyword">sizeof</span>(<span class="keyword">int</span>),comp);</span><br><span class="line">    <span class="keyword">unsigned</span> left = <span class="number">0</span>,right = numsSize - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(left &lt; right)&#123;</span><br><span class="line">        <span class="keyword">if</span>((nums[left] + nums[right]) &gt; target)&#123;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            sum += right - left;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum%(<span class="number">1000000007</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight golang"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">purchasePlans</span><span class="params">(nums []<span class="keyword">int</span>, target <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">sort.Ints(nums)</span><br><span class="line">j := <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line">ans := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line"><span class="keyword">for</span> ; j &gt; i; j-- &#123;</span><br><span class="line"><span class="keyword">if</span> nums[i]+nums[j] &lt;= target &#123;</span><br><span class="line"><span class="keyword">break</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> j &gt; i &#123;</span><br><span class="line">ans = ans + (j - i)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ans % <span class="number">1000000007</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight plain"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def purchasePlans(self, nums: List[int], target: int) -&gt; int:</span><br><span class="line">        nums.sort()</span><br><span class="line">        ans = 0</span><br><span class="line">        i = 0</span><br><span class="line">        j = len(nums)-1</span><br><span class="line">        while i &lt; j:</span><br><span class="line">            if nums[i] + nums[j] &gt; target:</span><br><span class="line">                j -= 1</span><br><span class="line">            else:</span><br><span class="line">                ans += (j-i)</span><br><span class="line">                i += 1</span><br><span class="line">        if ans&lt;=1000000007:</span><br><span class="line">            return ans</span><br><span class="line">        else:</span><br><span class="line">            return ans%1000000007</span><br></pre></td></tr></table></figure></details><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å°åŠ›å°† N ä¸ªé›¶ä»¶çš„æŠ¥ä»·å­˜äºæ•°ç»„ numsã€‚å°åŠ›é¢„ç®—ä¸º targetï¼Œå‡å®šå°åŠ›ä»…è´­ä¹°ä¸¤ä¸ªé›¶ä»¶ï¼Œè¦æ±‚è´­ä¹°é›¶ä»¶çš„èŠ±è´¹ä¸è¶…è¿‡é¢„ç®—ï¼Œè¯·é—®ä»–æœ‰å¤šå°‘ç§é‡‡è´­æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šç­”æ¡ˆéœ€è¦ä»¥ 1e9 + 7 (1000000007) ä¸ºåº•å–æ¨¡ï¼Œå¦‚ï¼šè®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´4æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B44%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
      <category term="Simulation" scheme="http://yoursite.com/tags/Simulation/"/>
    
  </entry>
  
  <entry>
    <title>294 Â· ç®€åŒ–é“¾è¡¨</title>
    <link href="http://yoursite.com/2021/03/31/294%20%C2%B7%20%E7%AE%80%E5%8C%96%E9%93%BE%E8%A1%A8/"/>
    <id>http://yoursite.com/2021/03/31/294 Â· ç®€åŒ–é“¾è¡¨/</id>
    <published>2021-03-31T13:31:12.000Z</published>
    <updated>2021-04-01T00:00:20.757Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å‡ºä¸€ä¸ªå­—ç¬¦é“¾è¡¨ï¼Œå¯¹å…¶è¿›è¡Œç®€åŒ–ã€‚<br>ç®€åŒ–çš„è¿‡ç¨‹ä¸ºï¼Œä¿ç•™é“¾è¡¨çš„å¤´å°¾èŠ‚ç‚¹ï¼Œç”¨æ•°å­—ä»£æ›¿æ‰ä¸­é—´çš„éƒ¨åˆ†ã€‚æ•°å­—ä¹Ÿè¦ç”¨å­—ç¬¦é“¾è¡¨è¡¨ç¤ºã€‚</p><a id="more"></a><p>è¾“å…¥çš„å­—ç¬¦é“¾è¡¨ç”¨ä¸€ä¸ªæ•´å‹é“¾è¡¨è¡¨ç¤ºï¼Œé“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å…¶å¯¹åº”çš„ASCIIç ã€‚<br>è¾“å…¥çš„å­—ç¬¦é“¾è¡¨çš„èŠ‚ç‚¹æ•°ä¸º nï¼Œ3â‰¤nâ‰¤10^4</p><p>è¯´æ˜</p><pre><code>åŸé“¾è¡¨æ˜¯ &apos;h&apos;-&gt;&apos;e&apos;-&gt;&apos;l&apos;-&gt;&apos;l&apos;-&gt;&apos;o&apos;-&gt;nullã€‚ç®€åŒ–åå˜ä¸º &apos;h&apos;-&gt;&apos;3&apos;-&gt;&apos;o&apos;-&gt;nullã€‚ç¬¬äºŒç»„æ ·ä¾‹ä¸­ï¼šåŸé“¾è¡¨æ˜¯ &apos;a&apos;-&gt;&apos;b&apos;-&gt;...-&gt;&apos;z&apos;-&gt;nullã€‚ç®€åŒ–åå˜ä¸º &apos;a&apos;-&gt;&apos;2&apos;-&gt;&apos;4&apos;-&gt;&apos;z&apos;-&gt;nullã€‚</code></pre><p>æ ·ä¾‹</p><pre><code>è¾“å…¥1ï¼š    104-&gt;101-&gt;108-&gt;108-&gt;111-&gt;nullè¾“å‡º1ï¼š    104-&gt;51-&gt;111-&gt;nullè¾“å…¥2ï¼š    97-&gt;98-&gt;...-&gt;122-&gt;nullè¾“å‡º2ï¼š    97-&gt;50-&gt;52-&gt;122-&gt;null</code></pre><details>    <summary>Java</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Definition for ListNode</span><br><span class="line"> * public class ListNode &#123;</span><br><span class="line"> *     int val;</span><br><span class="line"> *     ListNode next;</span><br><span class="line"> *     ListNode(int x) &#123;</span><br><span class="line"> *         val = x;</span><br><span class="line"> *         next = null;</span><br><span class="line"> *     &#125;</span><br><span class="line"> * &#125;</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">public class Solution &#123;</span><br><span class="line">    /**</span><br><span class="line">     * @param head: the linked list to be simplify.</span><br><span class="line">     * @return: return the linked list after simplifiction.</span><br><span class="line">     */</span><br><span class="line">    public ListNode simplify(ListNode head) &#123;</span><br><span class="line">        // write your code here</span><br><span class="line">        ListNode cur=head.next;</span><br><span class="line">        if(head == null || cur == null || cur.next == null)&#123;</span><br><span class="line">          return head;</span><br><span class="line">        &#125;</span><br><span class="line">        int cnt=0;</span><br><span class="line">        while(cur.next!=null)&#123;</span><br><span class="line">          cur=cur.next;</span><br><span class="line">          cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode pre=head;</span><br><span class="line">        if(cnt!=0)&#123;</span><br><span class="line">            ListNode p = new ListNode(Integer.valueOf(&apos;0&apos;)+cnt%10);</span><br><span class="line">            cnt/=10;</span><br><span class="line">            p.next = cur;</span><br><span class="line">            while(cnt != 0)&#123;</span><br><span class="line">              ListNode temp=p;</span><br><span class="line">              p = new ListNode(Integer.valueOf(&apos;0&apos;)+cnt%10);</span><br><span class="line">              p.next=temp;</span><br><span class="line">              cnt/=10;</span><br><span class="line">          &#125;</span><br><span class="line">          head.next=p;</span><br><span class="line">        &#125;</span><br><span class="line">        return head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å‡ºä¸€ä¸ªå­—ç¬¦é“¾è¡¨ï¼Œå¯¹å…¶è¿›è¡Œç®€åŒ–ã€‚&lt;br&gt;ç®€åŒ–çš„è¿‡ç¨‹ä¸ºï¼Œä¿ç•™é“¾è¡¨çš„å¤´å°¾èŠ‚ç‚¹ï¼Œç”¨æ•°å­—ä»£æ›¿æ‰ä¸­é—´çš„éƒ¨åˆ†ã€‚æ•°å­—ä¹Ÿè¦ç”¨å­—ç¬¦é“¾è¡¨è¡¨ç¤ºã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
      <category term="Simulation" scheme="http://yoursite.com/tags/Simulation/"/>
    
  </entry>
  
  <entry>
    <title>711. ä¸åŒå²›å±¿çš„æ•°é‡II</title>
    <link href="http://yoursite.com/2021/03/31/711.%20%E4%B8%8D%E5%90%8C%E5%B2%9B%E5%B1%BF%E7%9A%84%E6%95%B0%E9%87%8FII/"/>
    <id>http://yoursite.com/2021/03/31/711. ä¸åŒå²›å±¿çš„æ•°é‡II/</id>
    <published>2021-03-31T09:31:12.000Z</published>
    <updated>2021-03-31T10:24:31.270Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ª0å’Œ1çš„éç©ºçš„äºŒç»´æ•°ç»„ç½‘æ ¼ï¼Œä¸€ä¸ªå²›æ˜¯ä¸€ä¸ª1(è¡¨ç¤ºé™†åœ°)çš„ç»„ï¼Œ4ä¸ªæ–¹å‘(æ°´å¹³æˆ–å‚ç›´)è¿æ¥ã€‚ä½ å¯ä»¥å‡è®¾ç½‘æ ¼çš„æ‰€æœ‰å››æ¡è¾¹éƒ½è¢«æ°´åŒ…å›´ã€‚</p><p>è®¡ç®—ä¸åŒå²›å±¿çš„æ•°é‡ã€‚å½“ä¸€ä¸ªå²›è¢«è®¤ä¸ºä¸å¦ä¸€ä¸ªå²›ç›¸åŒæ—¶ï¼Œå®ƒä»¬æœ‰ç›¸åŒçš„å½¢çŠ¶ï¼Œæˆ–åœ¨æ—‹è½¬åçš„å½¢çŠ¶ç›¸åŒ(90,180ï¼Œæˆ–270åº¦)æˆ–ç¿»è½¬(å·¦/å³æ–¹å‘æˆ–å‘ä¸Š/å‘ä¸‹æ–¹å‘)ã€‚</p><a id="more"></a><p>æ ·ä¾‹</p><p>Example 1:</p><pre><code>11000100000000100011</code></pre><p>ç»™å®šä¸Šè¿°ç½‘æ ¼ï¼Œè¿”å›1ã€‚<br>æ³¨æ„:</p><pre><code>111</code></pre><p>å’Œ</p><pre><code> 111</code></pre><p>è¢«è®¤ä¸ºæ˜¯ç›¸åŒçš„å²›å±¿å½¢çŠ¶ã€‚å› ä¸ºå¦‚æœæˆ‘ä»¬åœ¨ç¬¬ä¸€ä¸ªå²›ä¸Šé¡ºæ—¶é’ˆæ—‹è½¬180åº¦ï¼Œé‚£ä¹ˆä¸¤ä¸ªå²›å°±ä¼šæœ‰ç›¸åŒçš„å½¢çŠ¶ã€‚</p><p>Example 2:</p><pre><code>11100100010100101110</code></pre><p>ç»™å®šä¸Šè¿°ç½‘æ ¼ï¼Œè¿”å›2ã€‚<br>ä»¥ä¸‹æ˜¯ä¸¤ä¸ªä¸åŒçš„å²›å±¿:</p><pre><code>1111</code></pre><p>å’Œ</p><pre><code>11</code></pre><p>æ³¨æ„ï¼š</p><pre><code>1111</code></pre><p>å’Œ</p><pre><code>1111</code></pre><p>è¢«è®¤ä¸ºæ˜¯ç›¸åŒçš„å²›å±¿å½¢çŠ¶ã€‚å› ä¸ºå¦‚æœæˆ‘ä»¬åœ¨å‘ä¸Š/å‘ä¸‹çš„æ–¹å‘ä¸Šç¿»è½¬ç¬¬ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆå®ƒä»¬çš„å½¢çŠ¶æ˜¯ç›¸åŒçš„<br>å‚è§Lintcode<a href="https://www.lintcode.com/problem/804/?utm_source=sc-qingbaozhan-sy" target="_blank" rel="noopener">^1</a></p><h2 id="é¢˜è§£BFS"><a href="#é¢˜è§£BFS" class="headerlink" title="é¢˜è§£BFS"></a>é¢˜è§£BFS</h2><p>å…ˆç”¨dfsæˆ–è€…bfsæŠŠæ¯ä¸ªå²›å±¿éƒ½æ‰¾å‡ºæ¥ï¼Œç„¶åè¿›è¡Œæ—‹è½¬æ¯”è¾ƒã€‚1Â·</p><details>    <summary>BFS</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    /**</span><br><span class="line">     * @param grid: the 2D grid</span><br><span class="line">     * @return: the number of distinct islands</span><br><span class="line">     */</span><br><span class="line">    private final int[] dir = &#123;-1, 0, 1, 0, -1&#125;;</span><br><span class="line">    private final int[][] ref1 = &#123;&#123;1, 1&#125;, &#123;1, -1&#125;, &#123;-1, 1&#125;, &#123;-1, -1&#125;&#125;;</span><br><span class="line">    public int numDistinctIslands2(int[][] grid) &#123;</span><br><span class="line">        // write your code here</span><br><span class="line">        if (grid == null || grid.length == 0 || grid[0].length == 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        Set&lt;String&gt; set = new HashSet&lt;&gt;();</span><br><span class="line">        List&lt;Point&gt; list = new ArrayList&lt;&gt;();</span><br><span class="line">        for (int i = 0; i &lt; grid.length; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; grid[0].length; j++) &#123;</span><br><span class="line">                if (grid[i][j] == 1) &#123;</span><br><span class="line">                    bfs(grid, i, j, list);</span><br><span class="line">                &#125;</span><br><span class="line">                if (list.size() &gt; 0) &#123;</span><br><span class="line">                    set.add(norm(list));</span><br><span class="line">                    list.clear();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return set.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void bfs(int[][] grid, int row, int col, List&lt;Point&gt; list) &#123;</span><br><span class="line">        Queue&lt;Point&gt; queue = new ArrayDeque&lt;&gt;();</span><br><span class="line">        Point start = new Point(row, col);</span><br><span class="line">        queue.add(start);</span><br><span class="line">        list.add(start);</span><br><span class="line">        grid[row][col] = 2;</span><br><span class="line">        while (!queue.isEmpty()) &#123;</span><br><span class="line">            Point p = queue.poll();</span><br><span class="line">            for (int i = 0; i &lt; 4; i++) &#123;</span><br><span class="line">                int r = p.x + dir[i], c = p.y + dir[i + 1];</span><br><span class="line">                if (r &lt; 0 || r &gt;= grid.length || c &lt; 0 || c &gt;= grid[0].length || grid[r][c] != 1) &#123;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125;</span><br><span class="line">                grid[r][c] = 2;</span><br><span class="line">                Point next = new Point(r, c);</span><br><span class="line">                list.add(next);</span><br><span class="line">                queue.add(next);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private String norm(List&lt;Point&gt; list) &#123;</span><br><span class="line">        List&lt;Point&gt;[] comb = new List[8];</span><br><span class="line">        for (int i = 0; i &lt; 4; i++) &#123;</span><br><span class="line">            comb[i] = new ArrayList&lt;Point&gt;();</span><br><span class="line">            comb[i + 4] = new ArrayList&lt;Point&gt;();</span><br><span class="line">            for (Point p : list) &#123;</span><br><span class="line">                comb[i].add(new Point(p.x * ref1[i][0], p.y * ref1[i][1]));</span><br><span class="line">                comb[i + 4].add(new Point(p.y * ref1[i][1], p.x * ref1[i][0]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        for (int i = 0; i &lt; 8; i++) &#123;</span><br><span class="line">            Collections.sort(comb[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        String[] s = new String[8];</span><br><span class="line">        for (int i = 0; i &lt; 8; i++) &#123;</span><br><span class="line">            StringBuilder sb = new StringBuilder();</span><br><span class="line">            int x0 = comb[i].get(0).x, y0 = comb[i].get(0).y;</span><br><span class="line">            for (Point p : comb[i]) &#123;</span><br><span class="line">                sb.append(p.x - x0).append(&apos;,&apos;).append(p.y - y0).append(&apos;!&apos;);</span><br><span class="line">            &#125;</span><br><span class="line">            s[i] = sb.toString();</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(s);</span><br><span class="line">        return s[0];</span><br><span class="line">    &#125;</span><br><span class="line">    public static class Point implements Comparable&lt;Point&gt; &#123;</span><br><span class="line">        int x;</span><br><span class="line">        int y;</span><br><span class="line"></span><br><span class="line">        public Point(int x, int y) &#123;</span><br><span class="line">            this.x = x;</span><br><span class="line">            this.y = y;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public int compareTo(Point p) &#123;</span><br><span class="line">            return this.x - p.x == 0 ? this.y - p.y : this.x - p.x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="é¢˜è§£DFS"><a href="#é¢˜è§£DFS" class="headerlink" title="é¢˜è§£DFS"></a>é¢˜è§£DFS</h2><details>    <summary>DFS</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Point &#123;</span><br><span class="line">    public int x, y;</span><br><span class="line">    public Point(int x, int y) &#123;</span><br><span class="line">        this.x = x;</span><br><span class="line">        this.y = y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class Solution &#123;</span><br><span class="line">    /**</span><br><span class="line">     * @param grid: the 2D grid</span><br><span class="line">     * @return: the number of distinct islands</span><br><span class="line">     */</span><br><span class="line">    public int numDistinctIslands2(int[][] grid) &#123;</span><br><span class="line">        if (grid == null || grid.length == 0 || grid[0].length == 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        int m = grid.length, n = grid[0].length;</span><br><span class="line">        Set&lt;String&gt;  res = new HashSet&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; m; ++i) &#123;</span><br><span class="line">            for (int j = 0; j &lt; n; ++j) &#123;</span><br><span class="line">                if (grid[i][j] == 1) &#123;</span><br><span class="line">                    List&lt;Point&gt; island = new ArrayList&lt;&gt;();</span><br><span class="line">                    dfs(grid, i, j, island);</span><br><span class="line">                    res.add(getUnique(island));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return res.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void dfs(int[][]grid, int x, int y, List&lt;Point&gt; island) &#123;</span><br><span class="line">        int m = grid.length, n = grid[0].length;</span><br><span class="line"></span><br><span class="line">        island.add(new Point(x, y));</span><br><span class="line">        grid[x][y] = 0;</span><br><span class="line"></span><br><span class="line">        int[] dirs = &#123;-1, 0, 1, 0, -1&#125;;</span><br><span class="line">        for (int i = 0; i &lt; 4; ++i) &#123;</span><br><span class="line">            int _x = x + dirs[i], _y = y + dirs[i + 1];</span><br><span class="line">            if (_x &gt;= 0  &amp;&amp; _x &lt; m  &amp;&amp; _y &gt;= 0  &amp;&amp; _y &lt; n  &amp;&amp; grid[_x][_y] == 1) &#123;</span><br><span class="line">                dfs(grid, _x, _y, island);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private String getUnique(List&lt;Point&gt; island) &#123;</span><br><span class="line">        List&lt;String&gt; sameIslands = new ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        int[][] trans=&#123;&#123;1, 1&#125;, &#123;1, -1&#125;, &#123;-1, 1&#125;, &#123;-1, -1&#125;&#125;;</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; 4; ++i) &#123;</span><br><span class="line">            List&lt;Point&gt; l1 = new ArrayList&lt;&gt;(), l2 = new ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">            for (Point point : island) &#123;</span><br><span class="line">                int x = point.x, y = point.y;</span><br><span class="line">                l1.add(new Point(x * trans[i][0], y * trans[i][1]));</span><br><span class="line">                l2.add(new Point(y * trans[i][0], x * trans[i][1]));</span><br><span class="line">            &#125;</span><br><span class="line">            sameIslands.add(getStr(l1));</span><br><span class="line">            sameIslands.add(getStr(l2));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Collections.sort(sameIslands);</span><br><span class="line">        return sameIslands.get(0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private String getStr(List&lt;Point&gt; island) &#123;</span><br><span class="line"></span><br><span class="line">        Collections.sort(island, new Comparator&lt;Point&gt;() &#123;</span><br><span class="line">            public int compare(Point a, Point b) &#123;</span><br><span class="line">                if (a.x != b.x) &#123;</span><br><span class="line">                    return a.x - b.x;</span><br><span class="line">                &#125;</span><br><span class="line">                return a.y - b.y;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        StringBuilder sb = new StringBuilder();</span><br><span class="line">        int x = island.get(0).x, y = island.get(0).y;</span><br><span class="line"></span><br><span class="line">        for (Point point : island) &#123;</span><br><span class="line">            sb.append((point.x - x) + &quot; &quot; + (point.y - y) + &quot; &quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        return sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ª0å’Œ1çš„éç©ºçš„äºŒç»´æ•°ç»„ç½‘æ ¼ï¼Œä¸€ä¸ªå²›æ˜¯ä¸€ä¸ª1(è¡¨ç¤ºé™†åœ°)çš„ç»„ï¼Œ4ä¸ªæ–¹å‘(æ°´å¹³æˆ–å‚ç›´)è¿æ¥ã€‚ä½ å¯ä»¥å‡è®¾ç½‘æ ¼çš„æ‰€æœ‰å››æ¡è¾¹éƒ½è¢«æ°´åŒ…å›´ã€‚&lt;/p&gt;
&lt;p&gt;è®¡ç®—ä¸åŒå²›å±¿çš„æ•°é‡ã€‚å½“ä¸€ä¸ªå²›è¢«è®¤ä¸ºä¸å¦ä¸€ä¸ªå²›ç›¸åŒæ—¶ï¼Œå®ƒä»¬æœ‰ç›¸åŒçš„å½¢çŠ¶ï¼Œæˆ–åœ¨æ—‹è½¬åçš„å½¢çŠ¶ç›¸åŒ(90,180ï¼Œæˆ–270åº¦)æˆ–ç¿»è½¬(å·¦/å³æ–¹å‘æˆ–å‘ä¸Š/å‘ä¸‹æ–¹å‘)ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Depth-first Search" scheme="http://yoursite.com/tags/Depth-first-Search/"/>
    
      <category term="Backtracking" scheme="http://yoursite.com/tags/Backtracking/"/>
    
      <category term="Bread-first Search" scheme="http://yoursite.com/tags/Bread-first-Search/"/>
    
  </entry>
  
  <entry>
    <title>694. ä¸åŒå²›å±¿çš„æ•°é‡</title>
    <link href="http://yoursite.com/2021/03/31/694.%20%E4%B8%8D%E5%90%8C%E5%B2%9B%E5%B1%BF%E7%9A%84%E6%95%B0%E9%87%8F/"/>
    <id>http://yoursite.com/2021/03/31/694. ä¸åŒå²›å±¿çš„æ•°é‡/</id>
    <published>2021-03-31T03:31:12.000Z</published>
    <updated>2021-03-31T09:12:36.395Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªéç©º01äºŒç»´æ•°ç»„è¡¨ç¤ºçš„ç½‘æ ¼ï¼Œä¸€ä¸ªå²›å±¿ç”±å››è¿é€šï¼ˆä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘ï¼‰çš„ 1 ç»„æˆï¼Œä½ å¯ä»¥è®¤ä¸ºç½‘æ ¼çš„å››å‘¨è¢«æµ·æ°´åŒ…å›´ã€‚</p><p>è¯·ä½ è®¡ç®—è¿™ä¸ªç½‘æ ¼ä¸­å…±æœ‰å¤šå°‘ä¸ªå½¢çŠ¶ä¸åŒçš„å²›å±¿ã€‚<br>ä¸¤ä¸ªå²›å±¿è¢«è®¤ä¸ºæ˜¯ç›¸åŒçš„ï¼Œå½“ä¸”ä»…å½“ä¸€ä¸ªå²›å±¿å¯ä»¥é€šè¿‡å¹³ç§»å˜æ¢ï¼ˆä¸å¯ä»¥æ—‹è½¬ã€ç¿»è½¬ï¼‰å’Œå¦ä¸€ä¸ªå²›å±¿é‡åˆã€‚</p><a id="more"></a><p>æ ·ä¾‹ 1:</p><pre><code>11000110000001100011</code></pre><p>ç»™å®šä¸Šå›¾ï¼Œè¿”å›ç»“æœ 1ã€‚</p><p>æ ·ä¾‹ 2:</p><pre><code>11011100000000111011</code></pre><p>ç»™å®šä¸Šå›¾ï¼Œè¿”å›ç»“æœ 3ã€‚</p><p>æ³¨æ„:</p><pre><code>111</code></pre><p>å’Œ</p><pre><code> 111</code></pre><p>æ˜¯ä¸åŒçš„å²›å±¿ï¼Œå› ä¸ºæˆ‘ä»¬ä¸è€ƒè™‘æ—‹è½¬ã€ç¿»è½¬æ“ä½œã€‚</p><p>æ³¨é‡Š :  äºŒç»´æ•°ç»„æ¯ç»´çš„å¤§å°éƒ½ä¸ä¼šè¶…è¿‡50ã€‚</p><p>å‚è§Lintcode<a href="https://www.lintcode.com/problem/860/" target="_blank" rel="noopener">^1</a></p><h2 id="é¢˜è§£BFS"><a href="#é¢˜è§£BFS" class="headerlink" title="é¢˜è§£BFS"></a>é¢˜è§£BFS</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡BFS/DFSå¾—åˆ°æ¯ä¸€ä¸ªå²›å±¿ï¼Œç„¶åæŠŠæ¯ä¸ªå²›å±¿çš„å½¢çŠ¶æ”¾åˆ°seté‡Œï¼Œæœ€åsetçš„å¤§å°å°±æ˜¯ç­”æ¡ˆã€‚</p><p>é‚£ä¹ˆé—®é¢˜çš„å…³é”®åœ¨äºå¦‚ä½•æè¿°ä¸€ä¸ªå²›å±¿çš„å½¢çŠ¶ã€‚</p><p>æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŸºæœ¬æ€è·¯ï¼š</p><ol><li>è®°å½•ä¸€ä¸ªå²›å±¿æ‰€æœ‰ç‚¹ç›¸å¯¹äºå·¦ä¸Šè§’çš„ç‚¹çš„ç›¸å¯¹ä½ç½®ã€‚</li><li>è®°å½•ä¸€ä¸ªå²›å±¿çš„bfs/dfsè½¨è¿¹</li></ol><p>æ–¹æ³•1æ¶‰åŠç»†èŠ‚è¾ƒå°‘ï¼Œä½†æ˜¯å¯èƒ½å¤æ‚åº¦ç›¸å¯¹è¾ƒé«˜ï¼Œä¸è¿‡50*50çš„æ•°æ®èŒƒå›´ä¸ä¼šè¶…æ—¶ã€‚</p><p>æ–¹æ³•1ä¹Ÿæœ‰å¤šç§å®ç°æ–¹æ³•ï¼Œæ¯”å¦‚ä¸€ä¸ªå²›å±¿å½¢çŠ¶å¯ä»¥ç”¨setè®°å½•ï¼Œä¹Ÿå¯ä»¥å°†æ‰€æœ‰ç‚¹çš„ç›¸å¯¹åæ ‡æ’åºåè½¬æ¢æˆå­—ç¬¦ä¸²ã€‚</p><p>æ–¹æ³•2éœ€è¦æ³¨æ„ä¸€ä¸ªç»†èŠ‚ï¼šä¸èƒ½ä»…ä»…å­˜å‚¨ä¸‹æ¥dfs/bfsç§»åŠ¨çš„æ–¹å‘ï¼Œå› ä¸ºæ¶‰åŠåˆ°å›æº¯ç­‰é—®é¢˜ï¼Œå¯ä»¥åŠ ä¸Šä¸€å®šçš„é—´éš”ç¬¦ï¼Œæˆ–è€…é™¤æ–¹å‘ä¹‹å¤–é¢å¤–è®°å½•ä¸€ä¸ªä½ç½®ä¿¡æ¯ã€‚</p><details>    <summary>BFS</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int numDistinctIslands(vector&lt;vector&lt;int&gt;&gt;&amp; grid) &#123;</span><br><span class="line">        if(grid.empty() || grid[0].empty()) return 0;</span><br><span class="line">        int m = grid.size(), n = grid[0].size(), i, j, k, x, y, x0, y0, nx, ny;</span><br><span class="line">        vector&lt;vector&lt;int&gt;&gt; dir = &#123;&#123;1,0&#125;,&#123;0,1&#125;,&#123;0,-1&#125;,&#123;-1,0&#125;&#125;;</span><br><span class="line">        set&lt;vector&lt;vector&lt;int&gt;&gt;&gt; s;</span><br><span class="line">        for(i = 0; i &lt; m; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">        for(j = 0; j &lt; n; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">        if(grid[i][j] == 0)</span><br><span class="line">        continue;</span><br><span class="line">        x0 = i, y0 = j;</span><br><span class="line">        queue&lt;vector&lt;int&gt;&gt; q;</span><br><span class="line">        vector&lt;vector&lt;int&gt;&gt; path;</span><br><span class="line">        q.push(&#123;x0, y0&#125;);</span><br><span class="line">        grid[x0][y0] = 0;//è®¿é—®è¿‡</span><br><span class="line">        while(!q.empty())</span><br><span class="line">        &#123;</span><br><span class="line">        x = q.front()[0];</span><br><span class="line">        y = q.front()[1];</span><br><span class="line">        path.push_back(&#123;x-x0, y-y0&#125;);//è·¯å¾„è®°å½•ç›¸å¯¹åæ ‡</span><br><span class="line">        q.pop();</span><br><span class="line">        for(k = 0; k &lt; 4; ++k)</span><br><span class="line">        &#123;</span><br><span class="line">        nx = x + dir[k][0];</span><br><span class="line">        ny = y + dir[k][1];</span><br><span class="line">        if(nx&gt;=0 &amp;&amp; nx&lt;m &amp;&amp; ny&gt;=0 &amp;&amp; ny&lt;n &amp;&amp; grid[nx][ny])</span><br><span class="line">        &#123;</span><br><span class="line">        q.push(&#123;nx, ny&#125;);</span><br><span class="line">        grid[nx][ny] = 0;//è®¿é—®è¿‡</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        s.insert(path);</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return s.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><h2 id="é¢˜è§£DFS"><a href="#é¢˜è§£DFS" class="headerlink" title="é¢˜è§£DFS"></a>é¢˜è§£DFS</h2><details>    <summary>DFS</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; dir = &#123;&#123;1,0&#125;,&#123;0,1&#125;,&#123;0,-1&#125;,&#123;-1,0&#125;&#125;;</span><br><span class="line">    int m, n;</span><br><span class="line">    set&lt;vector&lt;vector&lt;int&gt;&gt;&gt; s;</span><br><span class="line">public:</span><br><span class="line">    int numDistinctIslands(vector&lt;vector&lt;int&gt;&gt;&amp; grid) &#123;</span><br><span class="line">        if(grid.empty() || grid[0].empty()) return 0;</span><br><span class="line">        m = grid.size(), n = grid[0].size();</span><br><span class="line">        for(int i = 0, j; i &lt; m; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            for(j = 0; j &lt; n; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                if(grid[i][j] == 0)</span><br><span class="line">                    continue;</span><br><span class="line">                vector&lt;vector&lt;int&gt;&gt; path;</span><br><span class="line">                grid[i][j] = 0;//è®¿é—®è¿‡</span><br><span class="line">                DFS(grid,i,j,i,j,path);</span><br><span class="line">                s.insert(path);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return s.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void DFS(vector&lt;vector&lt;int&gt;&gt;&amp; grid, int x0, int y0, int x, int y, vector&lt;vector&lt;int&gt;&gt;&amp; path)</span><br><span class="line">    &#123;</span><br><span class="line">        path.push_back(&#123;x-x0, y-y0&#125;);//è·¯å¾„è®°å½•ç›¸å¯¹åæ ‡</span><br><span class="line">        int k, nx, ny;</span><br><span class="line">        for(k = 0; k &lt; 4; ++k)</span><br><span class="line">        &#123;</span><br><span class="line">            nx = x + dir[k][0];</span><br><span class="line">            ny = y + dir[k][1];</span><br><span class="line">            if(nx&gt;=0 &amp;&amp; nx&lt;m &amp;&amp; ny&gt;=0 &amp;&amp; ny&lt;n &amp;&amp; grid[nx][ny])</span><br><span class="line">            &#123;</span><br><span class="line">                grid[nx][ny] = 0;//è®¿é—®è¿‡</span><br><span class="line">                DFS(grid, x0, y0, nx, ny, path);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>DFS II</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public:</span><br><span class="line">    /**</span><br><span class="line">     * @param grid: a list of lists of integers</span><br><span class="line">     * @return: return an integer, denote the number of distinct islands</span><br><span class="line">     */</span><br><span class="line">    int n, m, ix, iy;</span><br><span class="line">    set&lt;string&gt; S;</span><br><span class="line">    string temp;</span><br><span class="line">    vector&lt;vector&lt;bool&gt;&gt; vis;</span><br><span class="line">    int fx[4]=&#123;</span><br><span class="line">        1, -1, 0, 0</span><br><span class="line">    &#125;;</span><br><span class="line">    int fy[4]=&#123;</span><br><span class="line">        0, 0, 1, -1</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    int numberofDistinctIslands(vector&lt;vector&lt;int&gt;&gt; &amp;grid) &#123;</span><br><span class="line">        // write your code here</span><br><span class="line">        n = grid.size();</span><br><span class="line">        m = grid[0].size();</span><br><span class="line">        vector&lt;bool&gt; p;</span><br><span class="line">        for (int j = 0; j &lt; m; j++) &#123;</span><br><span class="line">            p.push_back(false);</span><br><span class="line">        &#125;</span><br><span class="line">        for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">            vis.push_back(p);</span><br><span class="line">        &#125;</span><br><span class="line">        for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; m; j++) &#123;</span><br><span class="line">                if (grid[i][j] == 1 &amp;&amp; !vis[i][j]) &#123;</span><br><span class="line">                    ix = i;</span><br><span class="line">                    iy = j;</span><br><span class="line">                    temp = &quot;&quot;;</span><br><span class="line">                    dfs(i, j, grid);</span><br><span class="line">                    S.insert(temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return S.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void dfs(int x, int y, vector&lt;vector&lt;int&gt;&gt; &amp;grid) &#123;</span><br><span class="line">        vis[x][y] = true;</span><br><span class="line">        temp += to_string(x - ix) + &quot;&quot; + to_string(y - iy);</span><br><span class="line">        for (int i = 0; i &lt; 4; i++) &#123;</span><br><span class="line">            int nx = x + fx[i], ny = y + fy[i];</span><br><span class="line">            if (nx &lt; 0 || nx &gt;= n || ny &lt; 0 || ny &gt;= m || vis[nx][ny] || grid[nx][ny] == 0) &#123;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">            dfs(nx, ny, grid);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªéç©º01äºŒç»´æ•°ç»„è¡¨ç¤ºçš„ç½‘æ ¼ï¼Œä¸€ä¸ªå²›å±¿ç”±å››è¿é€šï¼ˆä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘ï¼‰çš„ 1 ç»„æˆï¼Œä½ å¯ä»¥è®¤ä¸ºç½‘æ ¼çš„å››å‘¨è¢«æµ·æ°´åŒ…å›´ã€‚&lt;/p&gt;
&lt;p&gt;è¯·ä½ è®¡ç®—è¿™ä¸ªç½‘æ ¼ä¸­å…±æœ‰å¤šå°‘ä¸ªå½¢çŠ¶ä¸åŒçš„å²›å±¿ã€‚&lt;br&gt;ä¸¤ä¸ªå²›å±¿è¢«è®¤ä¸ºæ˜¯ç›¸åŒçš„ï¼Œå½“ä¸”ä»…å½“ä¸€ä¸ªå²›å±¿å¯ä»¥é€šè¿‡å¹³ç§»å˜æ¢ï¼ˆä¸å¯ä»¥æ—‹è½¬ã€ç¿»è½¬ï¼‰å’Œå¦ä¸€ä¸ªå²›å±¿é‡åˆã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Depth-first Search" scheme="http://yoursite.com/tags/Depth-first-Search/"/>
    
      <category term="Backtracking" scheme="http://yoursite.com/tags/Backtracking/"/>
    
      <category term="Bread-first Search" scheme="http://yoursite.com/tags/Bread-first-Search/"/>
    
  </entry>
  
  <entry>
    <title>305. å²›å±¿æ•°é‡ II</title>
    <link href="http://yoursite.com/2021/03/30/305.%20%E5%B2%9B%E5%B1%BF%E6%95%B0%E9%87%8F%20II/"/>
    <id>http://yoursite.com/2021/03/30/305. å²›å±¿æ•°é‡ II/</id>
    <published>2021-03-30T09:47:12.000Z</published>
    <updated>2021-03-31T03:29:02.064Z</updated>
    
    <content type="html"><![CDATA[<p>å‡è®¾ä½ è®¾è®¡ä¸€ä¸ªæ¸¸æˆï¼Œç”¨ä¸€ä¸ª m è¡Œ n åˆ—çš„ 2D ç½‘æ ¼æ¥å­˜å‚¨ä½ çš„æ¸¸æˆåœ°å›¾ã€‚</p><p>èµ·å§‹çš„æ—¶å€™ï¼Œæ¯ä¸ªæ ¼å­çš„åœ°å½¢éƒ½è¢«é»˜è®¤æ ‡è®°ä¸ºã€Œæ°´ã€ã€‚<br>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ addLand è¿›è¡Œæ“ä½œï¼Œå°†ä½ç½® (row, col) çš„ã€Œæ°´ã€å˜æˆã€Œé™†åœ°ã€ã€‚</p><p>ä½ å°†ä¼šè¢«ç»™å®šä¸€ä¸ªåˆ—è¡¨ï¼Œæ¥è®°å½•æ‰€æœ‰éœ€è¦è¢«æ“ä½œçš„ä½ç½®ï¼Œç„¶åä½ éœ€è¦è¿”å›è®¡ç®—å‡ºæ¥ æ¯æ¬¡ addLand æ“ä½œåå²›å±¿çš„æ•°é‡ã€‚</p><a id="more"></a><p>æ³¨æ„ï¼šä¸€ä¸ªå²›çš„å®šä¹‰æ˜¯è¢«ã€Œæ°´ã€åŒ…å›´çš„ã€Œé™†åœ°ã€ï¼Œé€šè¿‡æ°´å¹³æ–¹å‘æˆ–è€…å‚ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥è€Œæˆã€‚<br>ä½ å¯ä»¥å‡è®¾åœ°å›¾ç½‘æ ¼çš„å››è¾¹å‡è¢«æ— è¾¹æ— é™…çš„ã€Œæ°´ã€æ‰€åŒ…å›´ã€‚</p><p>è¯·ä»”ç»†é˜…è¯»ä¸‹æ–¹ç¤ºä¾‹ä¸è§£æï¼Œæ›´åŠ æ·±å…¥äº†è§£å²›å±¿çš„åˆ¤å®šã€‚</p><p>ç¤ºä¾‹:</p><pre><code>è¾“å…¥: m = 3, n = 3,     positions = [[0,0], [0,1], [1,2], [2,1]]è¾“å‡º: [1,1,2,3]è§£æ:èµ·åˆï¼ŒäºŒç»´ç½‘æ ¼ grid è¢«å…¨éƒ¨æ³¨å…¥ã€Œæ°´ã€ã€‚ï¼ˆ0 ä»£è¡¨ã€Œæ°´ã€ï¼Œ1 ä»£è¡¨ã€Œé™†åœ°ã€ï¼‰0 0 00 0 00 0 0æ“ä½œ #1ï¼šaddLand(0, 0) å°† grid[0][0] çš„æ°´å˜ä¸ºé™†åœ°ã€‚1 0 00 0 0   Number of islands = 10 0 0æ“ä½œ #2ï¼šaddLand(0, 1) å°† grid[0][1] çš„æ°´å˜ä¸ºé™†åœ°ã€‚1 1 00 0 0   å²›å±¿çš„æ•°é‡ä¸º 10 0 0æ“ä½œ #3ï¼šaddLand(1, 2) å°† grid[1][2] çš„æ°´å˜ä¸ºé™†åœ°ã€‚1 1 00 0 1   å²›å±¿çš„æ•°é‡ä¸º 20 0 0æ“ä½œ #4ï¼šaddLand(2, 1) å°† grid[2][1] çš„æ°´å˜ä¸ºé™†åœ°ã€‚1 1 00 0 1   å²›å±¿çš„æ•°é‡ä¸º 30 1 0æ‹“å±•ï¼šä½ æ˜¯å¦èƒ½åœ¨ O(k log mn) çš„æ—¶é—´å¤æ‚åº¦ç¨‹åº¦å†…å®Œæˆæ¯æ¬¡çš„è®¡ç®—ï¼Ÿï¼ˆk è¡¨ç¤º positions çš„é•¿åº¦ï¼‰</code></pre><details>    <summary>å²›å±¿æ•°é‡ II</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;int&gt; numIslands2(int m, int n, vector&lt;vector&lt;int&gt;&gt;&amp; positions) &#123;</span><br><span class="line">    </span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><p>é¢˜ç›®åœ¨Lintcodeä¸Šä¹Ÿæœ‰ï¼Œå‚è§<a href="https://www.lintcode.com/problem/434/" target="_blank" rel="noopener">^1</a></p><h1 id="é¢˜è§£ï¼ˆè¶…æ—¶ï¼‰"><a href="#é¢˜è§£ï¼ˆè¶…æ—¶ï¼‰" class="headerlink" title="é¢˜è§£ï¼ˆè¶…æ—¶ï¼‰"></a>é¢˜è§£ï¼ˆè¶…æ—¶ï¼‰</h1><p>å°†çŸ©é˜µçš„æ¯ä¸ªä½ç½®çœ‹æˆå¹¶æŸ¥é›†ä¸­çš„ä¸€ä¸ªç‚¹ï¼Œæ¯æ¬¡åŠ å…¥ä¸€ä¸ªå²›å±¿ï¼ŒæŠŠå››å‘¨æ˜¯1çš„ç‚¹åˆå¹¶æ‰</p><p>è®¡ç®—é›†å›¢ä¸ªæ•°</p><details>    <summary>é¢˜è§£ï¼ˆè¶…æ—¶ï¼‰</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">class dsu</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;int&gt; f;</span><br><span class="line"></span><br><span class="line">    dsu(int n)</span><br><span class="line">    &#123;</span><br><span class="line">        f.resize(n);</span><br><span class="line">        for(int i = 0; i &lt; n; ++i)</span><br><span class="line">            f[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    void merge(int a, int b)</span><br><span class="line">    &#123;</span><br><span class="line">        int fa = find(a);</span><br><span class="line">        int fb = find(b);</span><br><span class="line">        f[fa] = fb;</span><br><span class="line">    &#125;</span><br><span class="line">    int find(int a)</span><br><span class="line">    &#123;</span><br><span class="line">        int origin = a;</span><br><span class="line">        while(a != f[a])</span><br><span class="line">            a = f[a];</span><br><span class="line">        return f[origin] = a;</span><br><span class="line">    &#125;</span><br><span class="line">    int countUni(vector&lt;vector&lt;int&gt;&gt; &amp;grid)</span><br><span class="line">    &#123;</span><br><span class="line">        int count = 0, x, y, n = grid[0].size();</span><br><span class="line">        for(int i = 0; i &lt; f.size(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            x = i/n, y = i-x*n;</span><br><span class="line">            if(i == find(i) &amp;&amp; grid[x][y]==1)</span><br><span class="line">                count++;</span><br><span class="line">        &#125;</span><br><span class="line">        return count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;int&gt; numIslands2(int m, int n, vector&lt;vector&lt;int&gt;&gt;&amp; positions) &#123;</span><br><span class="line">    int N = m*n, pos, x, y;</span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; grid(m,vector&lt;int&gt;(n,0));</span><br><span class="line">    dsu u(N);</span><br><span class="line">    vector&lt;int&gt; ans(positions.size());</span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; dir = &#123;&#123;1,0&#125;,&#123;0,1&#125;,&#123;0,-1&#125;,&#123;-1,0&#125;&#125;;</span><br><span class="line">    for(int i = 0, k; i &lt; positions.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">            grid[positions[i][0]][positions[i][1]] = 1;//æ ‡è®°ä¸ºå²›å±¿</span><br><span class="line">            pos = positions[i][0]*n+positions[i][1];//å¯¹åº”å¹¶æŸ¥é›†ä¸­çš„ä½ç½®</span><br><span class="line">    for(k = 0; k &lt; 4; ++k)</span><br><span class="line">    &#123;</span><br><span class="line">    x = positions[i][0] + dir[k][0];</span><br><span class="line">                y = positions[i][1] + dir[k][1];//å‘¨å›´åæ ‡x,y</span><br><span class="line">    if(x&gt;=0 &amp;&amp; x&lt;m &amp;&amp; y&gt;=0 &amp;&amp; y&lt;n &amp;&amp; grid[x][y]==1)</span><br><span class="line">    u.merge(pos, x*n+y);//åˆå¹¶</span><br><span class="line">    &#125;</span><br><span class="line">    ans[i] = u.countUni(grid);</span><br><span class="line">    &#125;</span><br><span class="line">    return ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><h1 id="é¢˜è§£ï¼ˆæ”¹è¿›ä»ä¸èƒ½é€šè¿‡ï¼‰"><a href="#é¢˜è§£ï¼ˆæ”¹è¿›ä»ä¸èƒ½é€šè¿‡ï¼‰" class="headerlink" title="é¢˜è§£ï¼ˆæ”¹è¿›ä»ä¸èƒ½é€šè¿‡ï¼‰"></a>é¢˜è§£ï¼ˆæ”¹è¿›ä»ä¸èƒ½é€šè¿‡ï¼‰</h1><p>å¹¶æŸ¥é›†merge å‡½æ•°è¿”å›æ˜¯å¦è¢«åˆå¹¶äº†ï¼Œåˆå¹¶äº†æ•°é‡å°±å‡1</p><p>æ³¨æ„æœ‰é‡å¤å²›å±¿ï¼Œä¸èƒ½ç®—</p><p>è¿™ç§ç®—æ³•æ”¹è¿›ååœ¨lintcodeä¸Šè¿è¡Œäº†ä¸€æ¬¡è¿˜æ˜¯è¶…æ—¶ï¼Œåªèƒ½é€šè¿‡30%çš„æ ·ä¾‹</p><details>    <summary>å²›å±¿æ•°é‡ II</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">class dsu</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;int&gt; f;</span><br><span class="line">    dsu(int n)</span><br><span class="line">    &#123;</span><br><span class="line">        f.resize(n);</span><br><span class="line">        for(int i = 0; i &lt; n; ++i)</span><br><span class="line">            f[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    bool merge(int a, int b)</span><br><span class="line">    &#123;</span><br><span class="line">        int fa = find(a);</span><br><span class="line">        int fb = find(b);</span><br><span class="line">        if(fa != fb)</span><br><span class="line">        &#123;</span><br><span class="line">            f[fa] = fb;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        return false;//è¿”å›æ˜¯å¦è¢«åˆå¹¶äº†</span><br><span class="line">    &#125;</span><br><span class="line">    int find(int a)</span><br><span class="line">    &#123;</span><br><span class="line">        int origin = a;</span><br><span class="line">        while(a != f[a])</span><br><span class="line">            a = f[a];</span><br><span class="line">        return f[origin] = a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;int&gt; numIslands2(int m, int n, vector&lt;vector&lt;int&gt;&gt;&amp; positions) &#123;</span><br><span class="line">    int N = m*n, pos, x, y;</span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; grid(m,vector&lt;int&gt;(n,0));</span><br><span class="line">    dsu u(N);</span><br><span class="line">    vector&lt;int&gt; ans(positions.size());</span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; dir = &#123;&#123;1,0&#125;,&#123;0,1&#125;,&#123;0,-1&#125;,&#123;-1,0&#125;&#125;;</span><br><span class="line">        unordered_set&lt;int&gt; s;//æœ‰é‡å¤çš„å²›å±¿ï¼ï¼ï¼</span><br><span class="line">    for(int i = 0, k; i &lt; positions.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">            ans[i] = (i&gt;0 ? ans[i-1] : 0 )+1;//å…ˆæŠŠè¿™ä¸ªå²›å±¿ç®—ä½œå­¤ç«‹+1</span><br><span class="line">            grid[positions[i][0]][positions[i][1]] = 1;//æ ‡è®°ä¸ºå²›å±¿</span><br><span class="line">            pos = positions[i][0]*n+positions[i][1];//å¯¹åº”å¹¶æŸ¥é›†ä¸­çš„ä½ç½®</span><br><span class="line">            if(s.count(pos))//æœ‰è¯¥å²›å±¿äº†ï¼Œé‡å¤æ·»åŠ </span><br><span class="line">            &#123;</span><br><span class="line">                ans[i]--;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">            s.insert(pos);</span><br><span class="line">    for(k = 0; k &lt; 4; ++k)</span><br><span class="line">    &#123;</span><br><span class="line">    x = positions[i][0] + dir[k][0];</span><br><span class="line">                y = positions[i][1] + dir[k][1];//å‘¨å›´åæ ‡x,y</span><br><span class="line">    if(x&gt;=0 &amp;&amp; x&lt;m &amp;&amp; y&gt;=0 &amp;&amp; y&lt;n &amp;&amp; grid[x][y]==1)</span><br><span class="line">                &#123;</span><br><span class="line">                    if(u.merge(pos, x*n+y))//åˆå¹¶äº†</span><br><span class="line">                        ans[i]--;//å‡1</span><br><span class="line">                &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><h1 id="é¢˜è§£ï¼ˆé€šè¿‡ï¼‰"><a href="#é¢˜è§£ï¼ˆé€šè¿‡ï¼‰" class="headerlink" title="é¢˜è§£ï¼ˆé€šè¿‡ï¼‰"></a>é¢˜è§£ï¼ˆé€šè¿‡ï¼‰</h1><p>æ„å»ºæ•°ç»„numsè¡¨ç¤ºæ‰€æœ‰ä½ç½®å¯¹åº”å²›å±¿çš„æ•°å­—ï¼Œåˆå§‹åŒ–ä¸º0ã€‚éå†æ•°ç»„å¹¶å°†å²›å±¿çš„å€¼åˆå§‹åŒ–ä¸ºä½ç½®çš„å€¼ï¼Œæ­¤æ—¶å²›å±¿æ•°ç›®+1ï¼Œä¹‹åéå†æ­¤ä½ç½®çš„é‚»æ¥ä½ç½®ï¼Œè‹¥å·²ç»ç¼–å·çš„å²›å±¿ï¼Œåˆ™å°†æ”¹å²›å±¿çš„ç¼–å·æ”¹ä¸ºé‚»æ¥å²›å±¿ç¼–å·ï¼Œç”±äºå²›å±¿èåˆï¼Œå²›å±¿çš„æ€»æ•°ç›®-1ã€‚</p><details>    <summary>å²›å±¿æ•°é‡ II</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">#ifndef C434_H</span><br><span class="line">#define C434_H</span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">/*</span><br><span class="line">* å²›å±¿çš„ä¸ªæ•°II</span><br><span class="line">*</span><br><span class="line">* ç»™å®š nï¼Œmï¼Œåˆ†åˆ«ä»£è¡¨ä¸€ä¸ª2DçŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ï¼ŒåŒæ—¶ï¼Œç»™å®šä¸€ä¸ªå¤§å°ä¸º k çš„äºŒå…ƒæ•°ç»„Aã€‚èµ·åˆï¼Œ2DçŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°å‡ä¸º 0ï¼Œå³è¯¥çŸ©é˜µä¸­åªæœ‰æµ·æ´‹ã€‚äºŒå…ƒæ•°ç»„æœ‰ k ä¸ªè¿ç®—ç¬¦ï¼Œæ¯ä¸ªè¿ç®—ç¬¦æœ‰ 2 ä¸ªæ•´æ•° A[i].x, A[i].yï¼Œä½ å¯é€šè¿‡æ”¹å˜çŸ©é˜µç½‘æ ¼ä¸­çš„A[i].x]ï¼Œ[A[i].y] æ¥å°†å…¶ç”±æµ·æ´‹æ”¹ä¸ºå²›å±¿ã€‚è¯·åœ¨æ¯æ¬¡è¿ç®—åï¼Œè¿”å›çŸ©é˜µä¸­å²›å±¿çš„æ•°é‡ã€‚</span><br><span class="line">* æ³¨æ„äº‹é¡¹</span><br><span class="line">* 0 ä»£è¡¨æµ·ï¼Œ1 ä»£è¡¨å²›ã€‚å¦‚æœä¸¤ä¸ª1ç›¸é‚»ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ª1å±äºåŒä¸€ä¸ªå²›ã€‚æˆ‘ä»¬åªè€ƒè™‘ä¸Šä¸‹å·¦å³ä¸ºç›¸é‚»ã€‚</span><br><span class="line">* æ ·ä¾‹</span><br><span class="line">* ç»™å®š n = 3, m = 3ï¼Œ äºŒå…ƒæ•°ç»„ A = [(0,0),(0,1),(2,2),(2,1)].</span><br><span class="line">* è¿”å› [1,1,2,2].</span><br><span class="line">*/</span><br><span class="line">struct Point&#123;</span><br><span class="line">    int x;</span><br><span class="line">    int y;</span><br><span class="line">    Point() :x(0), y(0)&#123;&#125;</span><br><span class="line">    Point(int a, int b) :x(a), y(b)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    /**</span><br><span class="line">    * @param n: An integer</span><br><span class="line">    * @param m: An integer</span><br><span class="line">    * @param operators: an array of point</span><br><span class="line">    * @return: an integer array</span><br><span class="line">    */</span><br><span class="line">    vector&lt;int&gt; numIslands2(int n, int m, vector&lt;Point&gt; &amp;operators) &#123;</span><br><span class="line">        // write your code here</span><br><span class="line">        vector&lt;int&gt; res;</span><br><span class="line">        if (n &lt;= 0 || m &lt;= 0 || operators.empty())</span><br><span class="line">            return res;</span><br><span class="line">        vector&lt;int&gt; nums(n*m + 1, 0);//ä¸‹æ ‡è¡¨ç¤ºå²›å±¿ä½ç½®</span><br><span class="line">        vector&lt;vector&lt;int&gt;&gt; dic&#123; &#123; 1, 0 &#125;, &#123; -1, 0 &#125;, &#123; 0, 1 &#125;, &#123; 0, -1 &#125; &#125;;//æ–¹ä¾¿éå†ä¸Šä¸‹å·¦å³å››ä¸ªä½ç½®</span><br><span class="line">        int count = 0;</span><br><span class="line">        for (auto c : operators)</span><br><span class="line">        &#123;</span><br><span class="line">            int pos = c.x*m + c.y + 1;</span><br><span class="line">            //è‹¥nums[pos]ä¸ä¸º0,åˆ™å²›å±¿å·²ç»å‡ºç°è¿‡,ç›´æ¥è¿”å›ç°æœ‰çš„å²›å±¿æ•°ç›®</span><br><span class="line">            if (nums[pos] &gt; 0)</span><br><span class="line">            &#123;</span><br><span class="line">                res.push_back(count);</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">            //åˆå§‹åŒ–nums[pos]ä¸ºpos,è¡¨ç¤ºposæœ€é«˜å±‚çš„å²›å±¿æ˜¯æœ¬èº«,æ­¤æ—¶å²›å±¿æ•°+1</span><br><span class="line">            nums[pos] = pos;</span><br><span class="line">            count++;</span><br><span class="line">            for (auto t : dic)</span><br><span class="line">            &#123;</span><br><span class="line">                int a = c.x + t[0];</span><br><span class="line">                int b = c.y + t[1];</span><br><span class="line">                int tmp = a*m + b + 1;</span><br><span class="line">                if (a &lt; 0 || a &gt;= n || b &lt; 0 || b &gt;= m || nums[tmp] == 0)</span><br><span class="line">                    continue;</span><br><span class="line">                //tmpè¡¨ç¤ºposçš„ç›¸é‚»ä½ç½®,rootä¸ºtmpçš„æœ€é«˜å±‚å²›å±¿</span><br><span class="line">                //root!=posè¡¨ç¤ºposä¸rootå¹¶ä¸å±äºåŒä¸€ä¸ªå¤§å²›å±¿,æŠŠposå¹¶å…¥rootæ‰€åœ¨çš„å¤§å²›,</span><br><span class="line">                //nums[pos]=root,å¹¶å°†posç½®ä¸ºrooté¿å…é‡å¤è®¡ç®—,æ­¤æ—¶å²›å±¿æ•°ç›®-1</span><br><span class="line">                int root = unionSearch(tmp, nums);</span><br><span class="line">                if (root != pos)</span><br><span class="line">                &#123;</span><br><span class="line">                    nums[pos] = root;</span><br><span class="line">                    pos = root;</span><br><span class="line">                    --count;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            res.push_back(count);</span><br><span class="line">        &#125;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">    //å¯»æ‰¾rootçš„æœ€é«˜å±‚å²›å±¿</span><br><span class="line">    int unionSearch(int root, vector&lt;int&gt; &amp;nums)</span><br><span class="line">    &#123;</span><br><span class="line">        while (root != nums[root])</span><br><span class="line">        &#123;</span><br><span class="line">            nums[root] = nums[nums[root]];</span><br><span class="line">            root = nums[root];</span><br><span class="line">        &#125;</span><br><span class="line">        return root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">#endif</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å‡è®¾ä½ è®¾è®¡ä¸€ä¸ªæ¸¸æˆï¼Œç”¨ä¸€ä¸ª m è¡Œ n åˆ—çš„ 2D ç½‘æ ¼æ¥å­˜å‚¨ä½ çš„æ¸¸æˆåœ°å›¾ã€‚&lt;/p&gt;
&lt;p&gt;èµ·å§‹çš„æ—¶å€™ï¼Œæ¯ä¸ªæ ¼å­çš„åœ°å½¢éƒ½è¢«é»˜è®¤æ ‡è®°ä¸ºã€Œæ°´ã€ã€‚&lt;br&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ addLand è¿›è¡Œæ“ä½œï¼Œå°†ä½ç½® (row, col) çš„ã€Œæ°´ã€å˜æˆã€Œé™†åœ°ã€ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å°†ä¼šè¢«ç»™å®šä¸€ä¸ªåˆ—è¡¨ï¼Œæ¥è®°å½•æ‰€æœ‰éœ€è¦è¢«æ“ä½œçš„ä½ç½®ï¼Œç„¶åä½ éœ€è¦è¿”å›è®¡ç®—å‡ºæ¥ æ¯æ¬¡ addLand æ“ä½œåå²›å±¿çš„æ•°é‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Union Find" scheme="http://yoursite.com/tags/Union-Find/"/>
    
  </entry>
  
  <entry>
    <title>572. å¦ä¸€ä¸ªæ ‘çš„å­æ ‘</title>
    <link href="http://yoursite.com/2021/03/29/572.%20%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%A0%91%E7%9A%84%E5%AD%90%E6%A0%91/"/>
    <id>http://yoursite.com/2021/03/29/572. å¦ä¸€ä¸ªæ ‘çš„å­æ ‘/</id>
    <published>2021-03-29T12:55:12.000Z</published>
    <updated>2021-03-29T13:17:08.112Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸¤ä¸ªéç©ºäºŒå‰æ ‘ s å’Œ tï¼Œæ£€éªŒ s ä¸­æ˜¯å¦åŒ…å«å’Œ t å…·æœ‰ç›¸åŒç»“æ„å’ŒèŠ‚ç‚¹å€¼çš„å­æ ‘ã€‚s çš„ä¸€ä¸ªå­æ ‘åŒ…æ‹¬ s çš„ä¸€ä¸ªèŠ‚ç‚¹å’Œè¿™ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­å­™ã€‚s ä¹Ÿå¯ä»¥çœ‹åšå®ƒè‡ªèº«çš„ä¸€æ£µå­æ ‘ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1:</p><p>ç»™å®šçš„æ ‘ s:</p><pre><code>    3   / \  4   5 / \1   2</code></pre><p>ç»™å®šçš„æ ‘ tï¼š</p><pre><code>   4   / \ 1   2è¿”å› trueï¼Œå› ä¸º t ä¸ s çš„ä¸€ä¸ªå­æ ‘æ‹¥æœ‰ç›¸åŒçš„ç»“æ„å’ŒèŠ‚ç‚¹å€¼ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><p>ç»™å®šçš„æ ‘ sï¼š</p><pre><code>    3   / \  4   5 / \1   2   /  0</code></pre><p>ç»™å®šçš„æ ‘ tï¼š</p><pre><code>   4  / \ 1   2è¿”å› falseã€‚</code></pre><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢æš´åŠ›åŒ¹é…"><a href="#æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢æš´åŠ›åŒ¹é…" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢æš´åŠ›åŒ¹é…"></a>æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢æš´åŠ›åŒ¹é…</h2><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>è¿™æ˜¯ä¸€ç§æœ€æœ´ç´ çš„æ–¹æ³•â€”â€”æ·±åº¦ä¼˜å…ˆæœç´¢æšä¸¾ <em>s</em> ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ¤æ–­è¿™ä¸ªç‚¹çš„å­æ ‘æ˜¯å¦å’Œ <em>t</em> ç›¸ç­‰ã€‚å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªèŠ‚ç‚¹çš„å­æ ‘æ˜¯å¦å’Œ <em>t</em> ç›¸ç­‰å‘¢ï¼Œæˆ‘ä»¬åˆéœ€è¦åšä¸€æ¬¡æ·±åº¦ä¼˜å…ˆæœç´¢æ¥æ£€æŸ¥ï¼Œå³è®©ä¸¤ä¸ªæŒ‡é’ˆä¸€å¼€å§‹å…ˆæŒ‡å‘è¯¥èŠ‚ç‚¹å’Œ <em>t</em> çš„æ ¹ï¼Œç„¶åã€ŒåŒæ­¥ç§»åŠ¨ã€ä¸¤æ ¹æŒ‡é’ˆæ¥ã€ŒåŒæ­¥éå†ã€è¿™ä¸¤æ£µæ ‘ï¼Œåˆ¤æ–­å¯¹åº”ä½ç½®æ˜¯å¦ç›¸ç­‰ã€‚</p><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢æš´åŠ›åŒ¹é…C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(TreeNode *o, TreeNode *t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!o &amp;&amp; !t) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ((o &amp;&amp; !t) || (!o &amp;&amp; t) || (o-&gt;val != t-&gt;val)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> check(o-&gt;left, t-&gt;left) &amp;&amp; check(o-&gt;right, t-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(TreeNode *o, TreeNode *t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!o) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> check(o, t) || dfs(o-&gt;left, t) || dfs(o-&gt;right, t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isSubtree</span><span class="params">(TreeNode *s, TreeNode *t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dfs(s, t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢æš´åŠ›åŒ¹é…Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSubtree</span><span class="params">(TreeNode s, TreeNode t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dfs(s, t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(TreeNode s, TreeNode t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> check(s, t) || dfs(s.left, t) || dfs(s.right, t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(TreeNode s, TreeNode t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> &amp;&amp; t == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || t == <span class="keyword">null</span> || s.val != t.val) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> check(s.left, t.left) &amp;&amp; check(s.right, t.right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ·±åº¦ä¼˜å…ˆæœç´¢æš´åŠ›åŒ¹é…Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isSubtree</span><span class="params">(s *TreeNode, t *TreeNode)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> s == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> check(s, t) || isSubtree(s.Left, t) || isSubtree(s.Right, t)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">check</span><span class="params">(a, b *TreeNode)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a == <span class="literal">nil</span> &amp;&amp; b == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> a == <span class="literal">nil</span> || b == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> a.Val == b.Val &#123;</span><br><span class="line">        <span class="keyword">return</span> check(a.Left, b.Left) &amp;&amp; check(a.Right, b.Right)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ä¸Šåšä¸²åŒ¹é…"><a href="#æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ä¸Šåšä¸²åŒ¹é…" class="headerlink" title="æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ä¸Šåšä¸²åŒ¹é…"></a>æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ä¸Šåšä¸²åŒ¹é…</h2><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>è¿™ä¸ªæ–¹æ³•éœ€è¦æˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸ªã€Œå°å¥—è·¯ã€ï¼šä¸€æ£µå­æ ‘ä¸Šçš„ç‚¹åœ¨æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ï¼ˆå³å…ˆåºéå†ï¼‰ä¸­æ˜¯è¿ç»­çš„ã€‚äº†è§£äº†è¿™ä¸ªã€Œå°å¥—è·¯ã€ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šè§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹å‘å°±æ˜¯ï¼šæŠŠ <em>s</em> å’Œ <em>t</em> å…ˆè½¬æ¢æˆæ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ï¼Œç„¶åçœ‹ <em>t</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—æ˜¯å¦æ˜¯ <em>s</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—çš„ã€Œå­ä¸²ã€ã€‚</p><p><strong>è¿™æ ·åšæ­£ç¡®å—ï¼Ÿ</strong> å‡è®¾ <em>s</em> ç”±ä¸¤ä¸ªç‚¹ç»„æˆï¼Œ<em>1</em> æ˜¯æ ¹ï¼Œ<em>2</em> æ˜¯ <em>1</em> çš„å·¦å­©å­ï¼›<em>t</em> ä¹Ÿç”±ä¸¤ä¸ªç‚¹ç»„æˆï¼Œ<em>1</em> æ˜¯æ ¹ï¼Œ<em>2</em> æ˜¯ <em>1</em> çš„å³å­©å­ã€‚è¿™æ ·ä¸€æ¥ <em>s</em> å’Œ <em>t</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ç›¸åŒï¼Œå¯æ˜¯ <em>t</em> å¹¶ä¸æ˜¯ <em>s</em> çš„æŸä¸€æ£µå­æ ‘ã€‚ç”±æ­¤å¯è§ã€Œ<em>s</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—åŒ…å« <em>t</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ã€æ˜¯ã€Œ<em>t</em> æ˜¯ <em>s</em> å­æ ‘ã€çš„<strong>å¿…è¦ä¸å……åˆ†æ¡ä»¶</strong>ï¼Œæ‰€ä»¥å•çº¯è¿™æ ·åšæ˜¯ä¸æ­£ç¡®çš„ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥ä¸¤ä¸ªç©ºå€¼ <code>lNull</code> å’Œ <code>rNull</code>ï¼Œå½“ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å­©å­æˆ–è€…å³å­©å­ä¸ºç©ºçš„æ—¶å€™ï¼Œå°±æ’å…¥è¿™ä¸¤ä¸ªç©ºå€¼ï¼Œè¿™æ ·æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—å°±å”¯ä¸€å¯¹åº”ä¸€æ£µæ ‘ã€‚å¤„ç†å®Œä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡åˆ¤æ–­ã€Œ<em>s</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—åŒ…å« <em>t</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ã€æ¥åˆ¤æ–­ç­”æ¡ˆã€‚</p><p><a href="https://assets.leetcode-cn.com/solution-static/572/572_fig1.png" target="_blank" rel="noopener">fig1</a></p><p>åœ¨åˆ¤æ–­ã€Œ<em>s</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—åŒ…å« <em>t</em> çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ã€çš„æ—¶å€™ï¼Œå¯ä»¥æš´åŠ›åŒ¹é…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ KMP æˆ–è€… Rabin-Karp ç®—æ³•ï¼Œåœ¨ä½¿ç”¨Rabin-Karpç®—æ³•çš„æ—¶å€™ï¼Œè¦æ³¨æ„ä¸²ä¸­å¯èƒ½æœ‰è´Ÿå€¼ã€‚</p><p>è¿™é‡Œç»™å‡ºç”¨KMPåˆ¤æ–­çš„ä»£ç å®ç°ã€‚</p><details><summary>æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ä¸Šåšä¸²åŒ¹é…C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span> &lt;<span class="keyword">int</span>&gt; sOrder, tOrder;</span><br><span class="line">    <span class="keyword">int</span> maxElement, lNull, rNull;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">getMaxElement</span><span class="params">(TreeNode *o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!o) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        maxElement = max(maxElement, o-&gt;val);</span><br><span class="line">        getMaxElement(o-&gt;left);</span><br><span class="line">        getMaxElement(o-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">getDfsOrder</span><span class="params">(TreeNode *o, <span class="built_in">vector</span> &lt;<span class="keyword">int</span>&gt; &amp;tar)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!o) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        tar.push_back(o-&gt;val);</span><br><span class="line">        <span class="keyword">if</span> (o-&gt;left) &#123;</span><br><span class="line">            getDfsOrder(o-&gt;left, tar);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tar.push_back(lNull);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (o-&gt;right) &#123;</span><br><span class="line">            getDfsOrder(o-&gt;right, tar);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tar.push_back(rNull);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">kmp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sLen = sOrder.size(), tLen = tOrder.size();</span><br><span class="line">        <span class="built_in">vector</span> &lt;<span class="keyword">int</span>&gt; fail(tOrder.size(), <span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>, j = <span class="number">-1</span>; i &lt; tLen; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (j != <span class="number">-1</span> &amp;&amp; tOrder[i] != tOrder[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                j = fail[j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (tOrder[i] == tOrder[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                ++j;</span><br><span class="line">            &#125;</span><br><span class="line">            fail[i] = j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">-1</span>; i &lt; sLen; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (j != <span class="number">-1</span> &amp;&amp; sOrder[i] != tOrder[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                j = fail[j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (sOrder[i] == tOrder[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                ++j;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j == tLen - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isSubtree</span><span class="params">(TreeNode* s, TreeNode* t)</span> </span>&#123;</span><br><span class="line">        maxElement = INT_MIN;</span><br><span class="line">        getMaxElement(s);</span><br><span class="line">        getMaxElement(t);</span><br><span class="line">        lNull = maxElement + <span class="number">1</span>;</span><br><span class="line">        rNull = maxElement + <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        getDfsOrder(s, sOrder);</span><br><span class="line">        getDfsOrder(t, tOrder);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> kmp();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details><summary>æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ä¸Šåšä¸²åŒ¹é…Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; sOrder = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">    List&lt;Integer&gt; tOrder = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">    <span class="keyword">int</span> maxElement, lNull, rNull;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSubtree</span><span class="params">(TreeNode s, TreeNode t)</span> </span>&#123;</span><br><span class="line">        maxElement = Integer.MIN_VALUE;</span><br><span class="line">        getMaxElement(s);</span><br><span class="line">        getMaxElement(t);</span><br><span class="line">        lNull = maxElement + <span class="number">1</span>;</span><br><span class="line">        rNull = maxElement + <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        getDfsOrder(s, sOrder);</span><br><span class="line">        getDfsOrder(t, tOrder);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> kmp();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getMaxElement</span><span class="params">(TreeNode t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (t == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        maxElement = Math.max(maxElement, t.val);</span><br><span class="line">        getMaxElement(t.left);</span><br><span class="line">        getMaxElement(t.right);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getDfsOrder</span><span class="params">(TreeNode t, List&lt;Integer&gt; tar)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (t == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        tar.add(t.val);</span><br><span class="line">        <span class="keyword">if</span> (t.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            getDfsOrder(t.left, tar);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tar.add(lNull);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (t.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            getDfsOrder(t.right, tar);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            tar.add(rNull);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">kmp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sLen = sOrder.size(), tLen = tOrder.size();</span><br><span class="line">        <span class="keyword">int</span>[] fail = <span class="keyword">new</span> <span class="keyword">int</span>[tOrder.size()];</span><br><span class="line">        Arrays.fill(fail, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>, j = -<span class="number">1</span>; i &lt; tLen; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (j != -<span class="number">1</span> &amp;&amp; !(tOrder.get(i).equals(tOrder.get(j + <span class="number">1</span>)))) &#123;</span><br><span class="line">                j = fail[j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (tOrder.get(i).equals(tOrder.get(j + <span class="number">1</span>))) &#123;</span><br><span class="line">                ++j;</span><br><span class="line">            &#125;</span><br><span class="line">            fail[i] = j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = -<span class="number">1</span>; i &lt; sLen; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (j != -<span class="number">1</span> &amp;&amp; !(sOrder.get(i).equals(tOrder.get(j + <span class="number">1</span>)))) &#123;</span><br><span class="line">                j = fail[j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (sOrder.get(i).equals(tOrder.get(j + <span class="number">1</span>))) &#123;</span><br><span class="line">                ++j;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j == tLen - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details><summary>æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ä¸Šåšä¸²åŒ¹é…Golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isSubtree</span><span class="params">(s *TreeNode, t *TreeNode)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    maxEle := math.MinInt32</span><br><span class="line">    getMaxElement(s, &amp;maxEle)</span><br><span class="line">    getMaxElement(t, &amp;maxEle)</span><br><span class="line">    lNull := maxEle + <span class="number">1</span>;</span><br><span class="line">    rNull := maxEle + <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    sl, tl := getDfsOrder(s, []<span class="keyword">int</span>&#123;&#125;, lNull, rNull), getDfsOrder(t, []<span class="keyword">int</span>&#123;&#125;, lNull, rNull)</span><br><span class="line">    <span class="keyword">return</span> kmp(sl, tl)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">kmp</span><span class="params">(s, t []<span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    sLen, tLen := <span class="built_in">len</span>(s), <span class="built_in">len</span>(t)</span><br><span class="line">    fail := <span class="built_in">make</span>([]<span class="keyword">int</span>, sLen)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; sLen; i++ &#123;</span><br><span class="line">        fail[i] = <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i, j := <span class="number">1</span>, <span class="number">-1</span>; i &lt; tLen; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j != <span class="number">-1</span> &amp;&amp; t[i] != t[j+<span class="number">1</span>] &#123;</span><br><span class="line">            j = fail[j]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> t[i] == t[j+<span class="number">1</span>] &#123;</span><br><span class="line">            j++</span><br><span class="line">        &#125;</span><br><span class="line">        fail[i] = j</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, j := <span class="number">0</span>, <span class="number">-1</span>; i &lt; sLen; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j != <span class="number">-1</span> &amp;&amp; s[i] != t[j+<span class="number">1</span>] &#123;</span><br><span class="line">            j = fail[j]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> s[i] == t[j+<span class="number">1</span>] &#123;</span><br><span class="line">            j++</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> j == tLen - <span class="number">1</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getDfsOrder</span><span class="params">(t *TreeNode, list []<span class="keyword">int</span>, lNull, rNull <span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> t == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> list</span><br><span class="line">    &#125;</span><br><span class="line">    list = <span class="built_in">append</span>(list, t.Val)</span><br><span class="line">    <span class="keyword">if</span> t.Left != <span class="literal">nil</span> &#123;</span><br><span class="line">        list = getDfsOrder(t.Left, list, lNull, rNull)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        list = <span class="built_in">append</span>(list, lNull)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> t.Right != <span class="literal">nil</span> &#123;</span><br><span class="line">        list = getDfsOrder(t.Right, list, lNull, rNull)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        list = <span class="built_in">append</span>(list, rNull)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getMaxElement</span><span class="params">(t *TreeNode, maxEle *<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> t == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> t.Val &gt; *maxEle &#123;</span><br><span class="line">        *maxEle = t.Val</span><br><span class="line">    &#125;</span><br><span class="line">    getMaxElement(t.Left, maxEle)</span><br><span class="line">    getMaxElement(t.Right, maxEle)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="æ–¹æ³•ä¸‰ï¼šæ ‘å“ˆå¸Œ"><a href="#æ–¹æ³•ä¸‰ï¼šæ ‘å“ˆå¸Œ" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šæ ‘å“ˆå¸Œ"></a>æ–¹æ³•ä¸‰ï¼šæ ‘å“ˆå¸Œ</h2><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>è€ƒè™‘æŠŠæ¯ä¸ªå­æ ‘éƒ½æ˜ å°„æˆä¸€ä¸ªå”¯ä¸€çš„æ•°ï¼Œå¦‚æœ <em>t</em> å¯¹åº”çš„æ•°å­—å’Œ <em>s</em> ä¸­ä»»æ„ä¸€ä¸ªå­æ ‘æ˜ å°„çš„æ•°å­—ç›¸ç­‰ï¼Œåˆ™ <em>t</em> æ˜¯ <em>s</em> çš„æŸä¸€æ£µå­æ ‘ã€‚å¦‚ä½•æ˜ å°„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å®šä¹‰è¿™æ ·çš„å“ˆå¸Œå‡½æ•°ï¼š</p><details><summary>æ ‘å“ˆå¸ŒC++</summary><figure class="highlight c++"><figcaption><span>[sol3-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">int</span> MAX_N = <span class="number">1000</span> + <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">int</span> MOD = <span class="keyword">int</span>(<span class="number">1E9</span>) + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">bool</span> vis[MAX_N];</span><br><span class="line">    <span class="keyword">int</span> p[MAX_N], tot;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">getPrime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        vis[<span class="number">0</span>] = vis[<span class="number">1</span>] = <span class="number">1</span>; tot = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; MAX_N; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!vis[i]) p[++tot] = i;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= tot &amp;&amp; i * p[j] &lt; MAX_N; ++j) &#123;</span><br><span class="line">                vis[i * p[j]] = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (i % p[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Status</span> &#123;</span></span><br><span class="line">        <span class="keyword">int</span> f, s; <span class="comment">// f ä¸ºå“ˆå¸Œå€¼ | s ä¸ºå­æ ‘å¤§å°</span></span><br><span class="line">        Status(<span class="keyword">int</span> f_ = <span class="number">0</span>, <span class="keyword">int</span> s_ = <span class="number">0</span>) </span><br><span class="line">            : f(f_), s(s_) &#123;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">unordered_map</span> &lt;TreeNode *, Status&gt; hS, hT;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode *o, <span class="built_in">unordered_map</span> &lt;TreeNode *, Status&gt; &amp;h)</span> </span>&#123;</span><br><span class="line">        h[o] = Status(o-&gt;val, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (!o-&gt;left &amp;&amp; !o-&gt;right) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (o-&gt;left) &#123;</span><br><span class="line">            dfs(o-&gt;left, h);</span><br><span class="line">            h[o].s += h[o-&gt;left].s;</span><br><span class="line">            h[o].f = (h[o].f + (<span class="number">31L</span>L * h[o-&gt;left].f * p[h[o-&gt;left].s]) % MOD) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (o-&gt;right) &#123;</span><br><span class="line">            dfs(o-&gt;right, h);</span><br><span class="line">            h[o].s += h[o-&gt;right].s;</span><br><span class="line">            h[o].f = (h[o].f + (<span class="number">179L</span>L * h[o-&gt;right].f * p[h[o-&gt;right].s]) % MOD) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isSubtree</span><span class="params">(TreeNode* s, TreeNode* t)</span> </span>&#123;</span><br><span class="line">        getPrime();</span><br><span class="line">        dfs(s, hS);</span><br><span class="line">        dfs(t, hT);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> tHash = hT[t].f;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;[k, v]: hS) &#123;</span><br><span class="line">            <span class="keyword">if</span> (v.f == tHash) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; </span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details><summary>æ ‘å“ˆå¸ŒJava</summary><figure class="highlight java"><figcaption><span>[sol3-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAX_N = <span class="number">1005</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MOD = <span class="number">1000000007</span>;</span><br><span class="line">    <span class="keyword">boolean</span>[] vis = <span class="keyword">new</span> <span class="keyword">boolean</span>[MAX_N];</span><br><span class="line">    <span class="keyword">int</span>[] p = <span class="keyword">new</span> <span class="keyword">int</span>[MAX_N];</span><br><span class="line">    <span class="keyword">int</span> tot;</span><br><span class="line">    Map&lt;TreeNode, <span class="keyword">int</span>[]&gt; hS = <span class="keyword">new</span> HashMap&lt;TreeNode, <span class="keyword">int</span>[]&gt;();</span><br><span class="line">    Map&lt;TreeNode, <span class="keyword">int</span>[]&gt; hT = <span class="keyword">new</span> HashMap&lt;TreeNode, <span class="keyword">int</span>[]&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSubtree</span><span class="params">(TreeNode s, TreeNode t)</span> </span>&#123;</span><br><span class="line">        getPrime();</span><br><span class="line">        dfs(s, hS);</span><br><span class="line">        dfs(t, hT);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> tHash = hT.get(t)[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;TreeNode, <span class="keyword">int</span>[]&gt; entry : hS.entrySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (entry.getValue()[<span class="number">0</span>] == tHash) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getPrime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        vis[<span class="number">0</span>] = vis[<span class="number">1</span>] = <span class="keyword">true</span>;</span><br><span class="line">        tot = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; MAX_N; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!vis[i]) &#123;</span><br><span class="line">                p[++tot] = i;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= tot &amp;&amp; i * p[j] &lt; MAX_N; ++j) &#123;</span><br><span class="line">                vis[i * p[j]] = <span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">if</span> (i % p[j] == <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode o, Map&lt;TreeNode, <span class="keyword">int</span>[]&gt; h)</span> </span>&#123;</span><br><span class="line">        h.put(o, <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;o.val, <span class="number">1</span>&#125;);</span><br><span class="line">        <span class="keyword">if</span> (o.left == <span class="keyword">null</span> &amp;&amp; o.right == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (o.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            dfs(o.left, h);</span><br><span class="line">            <span class="keyword">int</span>[] val = h.get(o);</span><br><span class="line">            val[<span class="number">1</span>] += h.get(o.left)[<span class="number">1</span>];</span><br><span class="line">            val[<span class="number">0</span>] = (<span class="keyword">int</span>) ((val[<span class="number">0</span>] + (<span class="number">31L</span> * h.get(o.left)[<span class="number">0</span>] * p[h.get(o.left)[<span class="number">1</span>]]) % MOD) % MOD);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (o.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            dfs(o.right, h);</span><br><span class="line">            <span class="keyword">int</span>[] val = h.get(o);</span><br><span class="line">            val[<span class="number">1</span>] += h.get(o.right)[<span class="number">1</span>];</span><br><span class="line">            val[<span class="number">0</span>] = (<span class="keyword">int</span>) ((val[<span class="number">0</span>] + (<span class="number">179L</span> * h.get(o.right)[<span class="number">0</span>] * p[h.get(o.right)[<span class="number">1</span>]]) % MOD) % MOD);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸¤ä¸ªéç©ºäºŒå‰æ ‘ s å’Œ tï¼Œæ£€éªŒ s ä¸­æ˜¯å¦åŒ…å«å’Œ t å…·æœ‰ç›¸åŒç»“æ„å’ŒèŠ‚ç‚¹å€¼çš„å­æ ‘ã€‚s çš„ä¸€ä¸ªå­æ ‘åŒ…æ‹¬ s çš„ä¸€ä¸ªèŠ‚ç‚¹å’Œè¿™ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­å­™ã€‚s ä¹Ÿå¯ä»¥çœ‹åšå®ƒè‡ªèº«çš„ä¸€æ£µå­æ ‘ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
  </entry>
  
  <entry>
    <title>304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜</title>
    <link href="http://yoursite.com/2021/03/27/491.%20%E9%80%92%E5%A2%9E%E5%AD%90%E5%BA%8F%E5%88%97/"/>
    <id>http://yoursite.com/2021/03/27/491. é€’å¢å­åºåˆ—/</id>
    <published>2021-03-27T13:17:12.000Z</published>
    <updated>2021-03-28T01:00:59.596Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæ•´å‹æ•°ç»„, ä½ çš„ä»»åŠ¡æ˜¯æ‰¾åˆ°æ‰€æœ‰è¯¥æ•°ç»„çš„é€’å¢å­åºåˆ—ï¼Œé€’å¢å­åºåˆ—çš„é•¿åº¦è‡³å°‘æ˜¯ 2 ã€‚</p><a id="more"></a><p>ç¤ºä¾‹ï¼š</p><pre><code>è¾“å…¥ï¼š[4, 6, 7, 7]è¾“å‡ºï¼š[[4, 6], [4, 7], [4, 6, 7], [4, 6, 7, 7], [6, 7], [6, 7, 7], [7,7], [4,7,7]]</code></pre><p>æç¤ºï¼š</p><pre><code>ç»™å®šæ•°ç»„çš„é•¿åº¦ä¸ä¼šè¶…è¿‡15ã€‚æ•°ç»„ä¸­çš„æ•´æ•°èŒƒå›´æ˜¯ [-100,100]ã€‚ç»™å®šæ•°ç»„ä¸­å¯èƒ½åŒ…å«é‡å¤æ•°å­—ï¼Œç›¸ç­‰çš„æ•°å­—åº”è¯¥è¢«è§†ä¸ºé€’å¢çš„ä¸€ç§æƒ…å†µã€‚</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šäºŒè¿›åˆ¶æšä¸¾-å“ˆå¸Œ"><a href="#æ–¹æ³•ä¸€ï¼šäºŒè¿›åˆ¶æšä¸¾-å“ˆå¸Œ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šäºŒè¿›åˆ¶æšä¸¾ + å“ˆå¸Œ"></a>æ–¹æ³•ä¸€ï¼šäºŒè¿›åˆ¶æšä¸¾ + å“ˆå¸Œ</h1><p>è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒéš¾ç†è§£ï¼Œå¯ä»¥å‚è§<a href="https://leetcode-cn.com/problems/increasing-subsequences/solution/di-zeng-zi-xu-lie-by-leetcode-solution/" target="_blank" rel="noopener">^1</a>ï¼Œ</p><h1 id="æ–¹æ³•äºŒï¼šé€’å½’æšä¸¾-å‡æ"><a href="#æ–¹æ³•äºŒï¼šé€’å½’æšä¸¾-å‡æ" class="headerlink" title="æ–¹æ³•äºŒï¼šé€’å½’æšä¸¾ + å‡æ"></a>æ–¹æ³•äºŒï¼šé€’å½’æšä¸¾ + å‡æ</h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨é€’å½’çš„æ–¹æ³•å®ç°äºŒè¿›åˆ¶æšä¸¾ï¼Œåƒã€Œæ–¹æ³•ä¸€ã€é‚£æ ·æšä¸¾å‡ºæ‰€æœ‰çš„å­åºåˆ—ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦åˆæ³•ã€‚ç›´æ¥æŠŠæ–¹æ³•ä¸€å˜æˆé€’å½’å½¢å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°è¿™æ ·çš„ä»£ç ï¼š</p><details>    <summary>C++</summary><figure class="highlight cpp"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; ans;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (cur == nums.size()) &#123;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯å¦åˆæ³•ï¼Œå¦‚æœåˆæ³•åˆ¤æ–­æ˜¯å¦é‡å¤ï¼Œå°†æ»¡è¶³æ¡ä»¶çš„åŠ å…¥ç­”æ¡ˆ</span></span><br><span class="line">        <span class="keyword">if</span> (isValid() &amp;&amp; notVisited()) &#123;</span><br><span class="line">            ans.push_back(temp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœé€‰æ‹©å½“å‰å…ƒç´ </span></span><br><span class="line">    temp.push_back(nums[cur]);</span><br><span class="line">    dfs(cur + <span class="number">1</span>, nums);</span><br><span class="line">    temp.pop_back();</span><br><span class="line">    <span class="comment">// å¦‚æœä¸é€‰æ‹©å½“å‰å…ƒç´ </span></span><br><span class="line">    dfs(cur + <span class="number">1</span>, nums);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line">List&lt;Integer&gt; temp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (cur == nums.length) &#123;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯å¦åˆæ³•ï¼Œå¦‚æœåˆæ³•åˆ¤æ–­æ˜¯å¦é‡å¤ï¼Œå°†æ»¡è¶³æ¡ä»¶çš„åŠ å…¥ç­”æ¡ˆ</span></span><br><span class="line">        <span class="keyword">if</span> (isValid() &amp;&amp; notVisited()) &#123;</span><br><span class="line">            ans.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(temp));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœé€‰æ‹©å½“å‰å…ƒç´ </span></span><br><span class="line">    temp.add(nums[cur]);</span><br><span class="line">    dfs(cur + <span class="number">1</span>, nums);</span><br><span class="line">    temp.remove(temp.size() - <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// å¦‚æœä¸é€‰æ‹©å½“å‰å…ƒç´ </span></span><br><span class="line">    dfs(cur + <span class="number">1</span>, nums);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>è¿™æ˜¯ä¸€ä¸ªé€’å½’æšä¸¾å­åºåˆ—çš„é€šç”¨æ¨¡æ¿.</p><p>å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬ç®€å•åœ°è¿™æ ·æšä¸¾ï¼Œå¯¹äºæ¯ä¸€ä¸ªå­åºåˆ—ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åšä¸€æ¬¡ <em>O(n)</em> çš„åˆæ³•æ€§æ£€æŸ¥å’Œå“ˆå¸Œåˆ¤é‡å¤ï¼Œåœ¨æ‰§è¡Œæ•´ä¸ªç¨‹åºçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨ä¸€ä¸ªç©ºé—´ä»£ä»· <em>O(2^n)</em> çš„å“ˆå¸Œè¡¨æ¥ç»´æŠ¤å·²ç»å‡ºç°çš„å­åºåˆ—çš„å“ˆå¸Œå€¼ã€‚æˆ‘ä»¬å¯ä»¥å¯¹é€‰æ‹©å’Œä¸é€‰æ‹©åšä¸€äº›ç®€å•çš„é™å®šï¼Œå°±å¯ä»¥è®©æšä¸¾å‡ºæ¥çš„éƒ½æ˜¯åˆæ³•çš„å¹¶ä¸”ä¸é‡å¤ï¼š</p><ul><li><p>ä½¿åºåˆ—åˆæ³•çš„åŠæ³•éå¸¸ç®€å•ï¼Œå³ç»™ã€Œé€‰æ‹©ã€åšä¸€ä¸ªé™å®šæ¡ä»¶ï¼Œåªæœ‰å½“å‰çš„å…ƒç´ å¤§äºç­‰äºä¸Šä¸€ä¸ªé€‰æ‹©çš„å…ƒç´ çš„æ—¶å€™æ‰èƒ½é€‰æ‹©è¿™ä¸ªå…ƒç´ ï¼Œè¿™æ ·æšä¸¾å‡ºæ¥çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯åˆæ³•çš„</p></li><li><p>é‚£å¦‚ä½•ä¿è¯æ²¡æœ‰é‡å¤å‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦ç»™ã€Œä¸é€‰æ‹©ã€åšä¸€ä¸ªé™å®šæ¡ä»¶ï¼Œåªæœ‰å½“å½“å‰çš„å…ƒç´ ä¸ç­‰äºä¸Šä¸€ä¸ªé€‰æ‹©çš„å…ƒç´ çš„æ—¶å€™ï¼Œæ‰è€ƒè™‘ä¸é€‰æ‹©å½“å‰å…ƒç´ ï¼Œç›´æ¥é€’å½’åé¢çš„å…ƒç´ ã€‚å› ä¸ºå¦‚æœæœ‰ä¸¤ä¸ªç›¸åŒçš„å…ƒç´ ï¼Œæˆ‘ä»¬ä¼šè€ƒè™‘è¿™æ ·å››ç§æƒ…å†µï¼š</p><ol><li><p>å‰è€…è¢«é€‰æ‹©ï¼Œåè€…è¢«é€‰æ‹©</p></li><li><p>å‰è€…è¢«é€‰æ‹©ï¼Œåè€…ä¸è¢«é€‰æ‹©</p></li><li><p>å‰è€…ä¸è¢«é€‰æ‹©ï¼Œåè€…è¢«é€‰æ‹©</p></li><li><p>å‰è€…ä¸è¢«é€‰æ‹©ï¼Œåè€…ä¸è¢«é€‰æ‹©</p><p>å…¶ä¸­ç¬¬äºŒç§æƒ…å†µå’Œç¬¬ä¸‰ç§æƒ…å†µå…¶å®æ˜¯ç­‰ä»·çš„ï¼Œæˆ‘ä»¬è¿™æ ·é™åˆ¶ä¹‹åï¼Œèˆå¼ƒäº†ç¬¬äºŒç§ï¼Œä¿ç•™äº†ç¬¬ä¸‰ç§ï¼Œäºæ˜¯è¾¾åˆ°äº†å»é‡çš„ç›®çš„ã€‚</p></li></ol></li></ul><p><strong>ä»£ç </strong></p><details>    <summary>C++</summary><figure class="highlight cpp"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp; </span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; ans;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> last, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (cur == nums.size()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (temp.size() &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">                ans.push_back(temp);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (nums[cur] &gt;= last) &#123;</span><br><span class="line">            temp.push_back(nums[cur]);</span><br><span class="line">            dfs(cur + <span class="number">1</span>, nums[cur], nums);</span><br><span class="line">            temp.pop_back();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (nums[cur] != last) &#123;</span><br><span class="line">            dfs(cur + <span class="number">1</span>, last, nums);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; findSubsequences(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        dfs(<span class="number">0</span>, INT_MIN, nums);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    List&lt;Integer&gt; temp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; findSubsequences(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        dfs(<span class="number">0</span>, Integer.MIN_VALUE, nums);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> last, <span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (cur == nums.length) &#123;</span><br><span class="line">            <span class="keyword">if</span> (temp.size() &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">                ans.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(temp));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (nums[cur] &gt;= last) &#123;</span><br><span class="line">            temp.add(nums[cur]);</span><br><span class="line">            dfs(cur + <span class="number">1</span>, nums[cur], nums);</span><br><span class="line">            temp.remove(temp.size() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (nums[cur] != last) &#123;</span><br><span class="line">            dfs(cur + <span class="number">1</span>, last, nums);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>** ans;</span><br><span class="line"><span class="keyword">int</span> ansSize;</span><br><span class="line"><span class="keyword">int</span>* temp;</span><br><span class="line"><span class="keyword">int</span> tempSize;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> last, <span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize, <span class="keyword">int</span>** returnColumnSizes)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (cur == numsSize) &#123;</span><br><span class="line">        <span class="keyword">if</span> (tempSize &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">            ans[ansSize] = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * tempSize);</span><br><span class="line">            <span class="built_in">memcpy</span>(ans[ansSize], temp, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * tempSize);</span><br><span class="line">            (*returnColumnSizes)[ansSize++] = tempSize;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (nums[cur] &gt;= last) &#123;</span><br><span class="line">        temp[tempSize++] = nums[cur];</span><br><span class="line">        dfs(cur + <span class="number">1</span>, nums[cur], nums, numsSize, returnColumnSizes);</span><br><span class="line">        tempSize--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (nums[cur] != last) &#123;</span><br><span class="line">        dfs(cur + <span class="number">1</span>, last, nums, numsSize, returnColumnSizes);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>** <span class="title">findSubsequences</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize, <span class="keyword">int</span>* returnSize, <span class="keyword">int</span>** returnColumnSizes)</span> </span>&#123;</span><br><span class="line">    ans = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * <span class="number">32768</span>);</span><br><span class="line">    *returnColumnSizes = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>*) * <span class="number">32768</span>);</span><br><span class="line">    temp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>) * numsSize);</span><br><span class="line">    ansSize = tempSize = <span class="number">0</span>;</span><br><span class="line">    dfs(<span class="number">0</span>, INT_MIN, nums, numsSize, returnColumnSizes);</span><br><span class="line">    *returnSize = ansSize;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    temp []<span class="keyword">int</span></span><br><span class="line">    ans [][]<span class="keyword">int</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findSubsequences</span><span class="params">(nums []<span class="keyword">int</span>)</span> [][]<span class="title">int</span></span> &#123;</span><br><span class="line">    ans = [][]<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">    dfs(<span class="number">0</span>, math.MinInt32, nums)</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(cur, last <span class="keyword">int</span>, nums []<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> cur == <span class="built_in">len</span>(nums) &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(temp) &gt;= <span class="number">2</span> &#123;</span><br><span class="line">            t := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="built_in">len</span>(temp))</span><br><span class="line">            <span class="built_in">copy</span>(t, temp)</span><br><span class="line">            ans = <span class="built_in">append</span>(ans, t)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> nums[cur] &gt;= last &#123;</span><br><span class="line">        temp = <span class="built_in">append</span>(temp, nums[cur])</span><br><span class="line">        dfs(cur + <span class="number">1</span>, nums[cur], nums)</span><br><span class="line">        temp = temp[:<span class="built_in">len</span>(temp)<span class="number">-1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> nums[cur] != last &#123;</span><br><span class="line">        dfs(cur + <span class="number">1</span>, last, nums)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(2^n * n)  ã€‚ä»ç„¶éœ€è¦å¯¹å­åºåˆ—åšäºŒè¿›åˆ¶æšä¸¾ï¼Œæšä¸¾å‡ºçš„åºåˆ—è™½ç„¶çœå»äº†åˆ¤æ–­åˆæ³•æ€§å’Œå“ˆå¸Œçš„è¿‡ç¨‹ï¼Œä½†æ˜¯ä»ç„¶éœ€è¦ <em>O(n)</em> çš„æ—¶é—´æ·»åŠ åˆ°ç­”æ¡ˆä¸­ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ã€‚è¿™é‡Œä¸´æ—¶æ•°ç»„çš„ç©ºé—´ä»£ä»·æ˜¯ <em>O(n)</em>ï¼Œé€’å½’ä½¿ç”¨çš„æ ˆç©ºé—´çš„ç©ºé—´ä»£ä»·ä¹Ÿæ˜¯ <em>O(n)</em>ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæ•´å‹æ•°ç»„, ä½ çš„ä»»åŠ¡æ˜¯æ‰¾åˆ°æ‰€æœ‰è¯¥æ•°ç»„çš„é€’å¢å­åºåˆ—ï¼Œé€’å¢å­åºåˆ—çš„é•¿åº¦è‡³å°‘æ˜¯ 2 ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Depth-first Search" scheme="http://yoursite.com/tags/Depth-first-Search/"/>
    
  </entry>
  
  <entry>
    <title>304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜</title>
    <link href="http://yoursite.com/2021/03/27/304.%20%E4%BA%8C%E7%BB%B4%E5%8C%BA%E5%9F%9F%E5%92%8C%E6%A3%80%E7%B4%A2%20-%20%E7%9F%A9%E9%98%B5%E4%B8%8D%E5%8F%AF%E5%8F%98/"/>
    <id>http://yoursite.com/2021/03/27/304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜/</id>
    <published>2021-03-27T01:17:12.000Z</published>
    <updated>2021-03-27T02:09:08.055Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œè®¡ç®—å…¶å­çŸ©å½¢èŒƒå›´å†…å…ƒç´ çš„æ€»å’Œï¼Œè¯¥å­çŸ©é˜µçš„å·¦ä¸Šè§’ä¸º (row1, col1) ï¼Œå³ä¸‹è§’ä¸º (row2, col2) ã€‚</p><a id="more"></a><p>ä¸Šå›¾å­çŸ©é˜µå·¦ä¸Šè§’ (row1, col1) = (2, 1) ï¼Œå³ä¸‹è§’(row2, col2) = (4, 3)ï¼Œè¯¥å­çŸ©å½¢å†…å…ƒç´ çš„æ€»å’Œä¸º 8ã€‚</p><p>ç¤ºä¾‹ï¼š</p><pre><code>ç»™å®š matrix = [  [3, 0, 1, 4, 2],  [5, 6, 3, 2, 1],  [1, 2, 0, 1, 5],  [4, 1, 0, 1, 7],  [1, 0, 3, 0, 5]]sumRegion(2, 1, 4, 3) -&gt; 8sumRegion(1, 1, 2, 2) -&gt; 11sumRegion(1, 2, 2, 4) -&gt; 12</code></pre><p>æç¤ºï¼š</p><pre><code>ä½ å¯ä»¥å‡è®¾çŸ©é˜µä¸å¯å˜ã€‚ä¼šå¤šæ¬¡è°ƒç”¨ sumRegion æ–¹æ³•ã€‚ä½ å¯ä»¥å‡è®¾ row1 â‰¤ row2 ä¸” col1 â‰¤ col2 ã€‚</code></pre><h1 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h1><p>çœ‹å®Œé¢˜ç›®è¦æ±‚å…ˆæƒ³åˆ°çš„å½“ç„¶å°±æ˜¯åŒé‡å¾ªç¯ç›´æ¥æ±‚å’Œäº†ï¼Œè€Œä¸”è¿˜èƒ½é€šè¿‡ã€‚å†ä¸€ç»†æƒ³ï¼Œå…¶å®å¯ä»¥ç›´æ¥è®¡ç®—æ¯ä¸ªç‚¹ä¸Šä»¥å…¶ä½œä¸ºå·¦ä¸Šè§’çš„åˆ°å¤§çŸ©é˜µå³ä¸‹è§’çš„çŸ©å½¢é¢ç§¯ï¼Œä¿å­˜èµ·æ¥åæ¯æ¬¡è¦æ±‚ç»™å®šåæ ‡çš„çŸ©å½¢é¢ç§¯æ—¶åªéœ€è¦æŠŠä¸Šä¸‹å·¦å³å››ä¸ªè§’çš„ç‚¹ä¿å­˜çš„é¢ç§¯åšä¸ªåŠ å‡å°±å¯ä»¥äº†,ä½†è¿™æ ·å†™å®Œå´åœ¨è°ƒç”¨sumRegionæ–¹æ³•å¾ˆå¤šçš„ç”¨ä¾‹é‚£é‡Œè¶…æ—¶äº†ã€‚</p><details>    <summary>é¢„å¤„ç†å·¦ä¸Šè§’é¢ç§¯ï¼ˆè¶…æ—¶ï¼‰</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">class NumMatrix &#123;</span><br><span class="line"></span><br><span class="line">    public int[][] sum;</span><br><span class="line">    public NumMatrix(int[][] matrix) &#123;</span><br><span class="line">        sum = new int[matrix.length][matrix[0].length];</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; matrix.length; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; matrix[0].length; j++) &#123;</span><br><span class="line">                for (int k = i; k &lt; matrix.length; k++) &#123;</span><br><span class="line">                    for (int l = j; l &lt; matrix[0].length; l++) &#123;</span><br><span class="line">                        sum[i][j] += matrix[k][l];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">//                System.out.printf(&quot;%d &quot;, sum[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">//            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public int sumRegion(int row1, int col1, int row2, int col2) &#123;</span><br><span class="line"></span><br><span class="line">        int leftBottom,rightTop,rightBottom;</span><br><span class="line">        leftBottom = (row2 + 1 &lt; sum.length) ? sum[row2 + 1][col1] : 0;</span><br><span class="line">        rightTop = (col2 + 1 &lt; sum[0].length) ? sum[row1][col2 + 1] : 0;</span><br><span class="line">        rightBottom = ((row2 + 1 &lt; sum.length) &amp;&amp; (col2 + 1 &lt; sum[0].length)) ? sum[row2 + 1][col2 + 1] : 0;</span><br><span class="line">        return sum[row1][col1] - leftBottom - rightTop + rightBottom;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>è€ƒè™‘ä¸€ä¸‹æ›´å¥½çš„æ–¹æ³•å¯ä»¥ä¿å­˜ä¸€ç»´å‰ç¼€å’Œæˆ–è€…äºŒç»´å‰ç¼€å’Œ<a href="https://leetcode-cn.com/problems/range-sum-query-2d-immutable/solution/er-wei-qu-yu-he-jian-suo-ju-zhen-bu-ke-b-2z5n/" target="_blank" rel="noopener">^1</a></p><p>è¿™é‡Œçš„æ ¸å¿ƒæ€æƒ³æ˜¯ä¿å­˜ä»¥æ¯ä¸ªç‚¹ä½œä¸ºå³ä¸‹è§’çš„ä½ç½®ï¼Œè¿™æ ·åˆè¯†æ„é€ æ—¶å¾ªç¯æ—¶é¿å…äº†å››é‡å¾ªç¯ï¼Œå…¶å®æˆ‘ä¸Šé¢çš„åšæ³•é€†å‘å¾ªç¯ä¹Ÿå¯ä»¥é¿å…å››é‡å¾ªç¯ã€‚æ›´ä¸ºé‡è¦çš„æ˜¯ï¼Œæˆ‘ä¸Šé¢çš„ç®—æ³•é‡Œä¹‹æ‰€ä»¥è¶…æ—¶æ˜¯å› ä¸ºåœ¨sumRegioné‡Œæ¯æ¬¡éƒ½è¦åˆ¤æ–­æ˜¯å¦è¶Šç•Œï¼Œæ‰€ä»¥å¯ä»¥å®šä¹‰ä¸€ä¸ªå¤§ä¸€å·çš„æ•°ç»„æ¥ä¿å­˜ï¼Œè¿™æ ·å°±æŠŠåˆ¤æ–­çš„æ“ä½œæŒªåˆ°è¯»æ•°ç»„å…ƒç´ é‡Œäº†ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´ã€‚</p><details>    <summary>äºŒç»´å‰ç¼€å’Œ(é¢„å¤„ç†å·¦ä¸Šè§’é¢ç§¯)</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class NumMatrix &#123;</span><br><span class="line">    public int[][] sum;</span><br><span class="line">    public NumMatrix(int[][] matrix) &#123;</span><br><span class="line">        sum = new int[matrix.length+1][matrix[0].length+1];</span><br><span class="line">        for (int i = matrix.length - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">            for (int j = matrix[0].length - 1; j &gt;= 0; j--) &#123;</span><br><span class="line">                sum[i][j] = matrix[i][j] + sum[i + 1][j] + sum[i][j + 1] - sum[i + 1][j + 1];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public int sumRegion(int row1, int col1, int row2, int col2) &#123;</span><br><span class="line">        return sum[row1][col1] - sum[row2 + 1][col1] - sum[row1][col2 + 1] + sum[row2 + 1][col2 + 1];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œè®¡ç®—å…¶å­çŸ©å½¢èŒƒå›´å†…å…ƒç´ çš„æ€»å’Œï¼Œè¯¥å­çŸ©é˜µçš„å·¦ä¸Šè§’ä¸º (row1, col1) ï¼Œå³ä¸‹è§’ä¸º (row2, col2) ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>456. 132 æ¨¡å¼</title>
    <link href="http://yoursite.com/2021/03/25/456.%20132%20%E6%A8%A1%E5%BC%8F/"/>
    <id>http://yoursite.com/2021/03/25/456. 132 æ¨¡å¼/</id>
    <published>2021-03-25T07:29:12.000Z</published>
    <updated>2021-03-25T10:23:58.543Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ•°ç»„ä¸­å…±æœ‰ n ä¸ªæ•´æ•°ã€‚132 æ¨¡å¼çš„å­åºåˆ— ç”±ä¸‰ä¸ªæ•´æ•° nums[i]ã€nums[j] å’Œ nums[k] ç»„æˆï¼Œå¹¶åŒæ—¶æ»¡è¶³ï¼ši &lt; j &lt; k å’Œ nums[i] &lt; nums[k] &lt; nums[j] ã€‚</p><p>å¦‚æœ nums ä¸­å­˜åœ¨ 132 æ¨¡å¼çš„å­åºåˆ— ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚</p><a id="more"></a><p>è¿›é˜¶ï¼šå¾ˆå®¹æ˜“æƒ³åˆ°æ—¶é—´å¤æ‚åº¦ä¸º O(n^2) çš„è§£å†³æ–¹æ¡ˆï¼Œä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(n logn) æˆ– O(n) çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [1,2,3,4]è¾“å‡ºï¼šfalseè§£é‡Šï¼šåºåˆ—ä¸­ä¸å­˜åœ¨ 132 æ¨¡å¼çš„å­åºåˆ—ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [3,1,4,2]è¾“å‡ºï¼štrueè§£é‡Šï¼šåºåˆ—ä¸­æœ‰ 1 ä¸ª 132 æ¨¡å¼çš„å­åºåˆ—ï¼š [1, 4, 2] ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [-1,3,2,0]è¾“å‡ºï¼štrueè§£é‡Šï¼šåºåˆ—ä¸­æœ‰ 3 ä¸ª 132 æ¨¡å¼çš„çš„å­åºåˆ—ï¼š[-1, 3, 2]ã€[-1, 3, 0] å’Œ [-1, 2, 0] ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>n == nums.length1 &lt;= n &lt;= 104-10^9 &lt;= nums[i] &lt;= 10^9</code></pre><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ç”±äºæœ¬é¢˜ä¸­ <em>n</em> çš„æœ€å¤§å€¼å¯ä»¥åˆ° <em>15000*ï¼Œå› æ­¤å¯¹äºä¸€ä¸ªæ»¡è¶³ *132</em> æ¨¡å¼çš„ä¸‰å…ƒç»„ä¸‹æ ‡ <em>(i, j, k)*ï¼Œæšä¸¾å…¶ä¸­çš„ *2</em> ä¸ªä¸‹æ ‡æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n^2)</em>ï¼Œå¾ˆå®¹æ˜“è¶…å‡ºæ—¶é—´é™åˆ¶ã€‚</p><p>å› æ­¤æˆ‘ä»¬å¯ä»¥è€ƒè™‘æšä¸¾å…¶ä¸­çš„ <em>1</em> ä¸ªä¸‹æ ‡ï¼Œå¹¶ä½¿ç”¨åˆé€‚çš„æ•°æ®ç»“æ„ç»´æŠ¤å¦å¤–çš„ <em>2</em> ä¸ªä¸‹æ ‡çš„å¯èƒ½å€¼ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šæšä¸¾-3"><a href="#æ–¹æ³•ä¸€ï¼šæšä¸¾-3" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæšä¸¾ 3"></a>æ–¹æ³•ä¸€ï¼šæšä¸¾ <em>3</em></h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>æšä¸¾ <em>3</em> æ˜¯å®¹æ˜“æƒ³åˆ°å¹¶ä¸”ä¹Ÿæ˜¯æœ€å®¹æ˜“å®ç°çš„ã€‚ç”±äº <em>3</em> æ˜¯æ¨¡å¼ä¸­çš„æœ€å¤§å€¼ï¼Œå¹¶ä¸”å…¶å‡ºç°åœ¨ <em>1</em> å’Œ <em>2</em> çš„ä¸­é—´ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦ä»å·¦åˆ°å³æšä¸¾ <em>3</em> çš„ä¸‹æ ‡ <em>j</em>ï¼Œé‚£ä¹ˆï¼š</p><ul><li><p>ç”±äº <em>1</em> æ˜¯æ¨¡å¼ä¸­çš„æœ€å°å€¼ï¼Œå› æ­¤æˆ‘ä»¬åœ¨æšä¸¾ <em>j</em> çš„åŒæ—¶ï¼Œç»´æŠ¤æ•°ç»„ <em>a</em> ä¸­å·¦ä¾§å…ƒç´  <em>a[0..j-1]</em> çš„æœ€å°å€¼ï¼Œå³ä¸º <em>1</em> å¯¹åº”çš„å…ƒç´  <em>a[i]*ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰ *a[i] &lt; a[j]</em> æ—¶ï¼Œ<em>a[i]</em> æ‰èƒ½ä½œä¸º <em>1</em> å¯¹åº”çš„å…ƒç´ ï¼›</p></li><li><p>ç”±äº <em>2</em> æ˜¯æ¨¡å¼ä¸­çš„æ¬¡å°å€¼ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæœ‰åºé›†åˆï¼ˆä¾‹å¦‚å¹³è¡¡æ ‘ï¼‰ç»´æŠ¤æ•°ç»„ <em>a</em> ä¸­å³ä¾§å…ƒç´  <em>a[j+1..n-1]</em> ä¸­çš„æ‰€æœ‰å€¼ã€‚å½“æˆ‘ä»¬ç¡®å®šäº† <em>a[i]</em> å’Œ <em>a[j]</em> ä¹‹åï¼Œåªéœ€è¦åœ¨æœ‰åºé›†åˆä¸­æŸ¥è¯¢ä¸¥æ ¼æ¯” <em>a[i]</em> å¤§çš„é‚£ä¸ªæœ€å°çš„å…ƒç´ ï¼Œå³ä¸º <em>a[k]*ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰ *a[k] &lt; a[j]</em> æ—¶ï¼Œ<em>a[k]</em> æ‰èƒ½ä½œä¸º <em>3</em> å¯¹åº”çš„å…ƒç´ ã€‚</p></li></ul><p><strong>ä»£ç </strong></p><p>ä¸‹é¢çš„ Python ä»£ç éœ€è¦æ‰‹åŠ¨å¯¼å…¥ sortedcontainers  åº“ã€‚</p><details>    <summary>æšä¸¾3 C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">find132pattern</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">3</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å·¦ä¾§æœ€å°å€¼</span></span><br><span class="line">        <span class="keyword">int</span> left_min = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="comment">// å³ä¾§æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">        <span class="built_in">multiset</span>&lt;<span class="keyword">int</span>&gt; right_all;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">2</span>; k &lt; n; ++k) &#123;</span><br><span class="line">            right_all.insert(nums[k]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; n - <span class="number">1</span>; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (left_min &lt; nums[j]) &#123;</span><br><span class="line">                <span class="keyword">auto</span> it = right_all.upper_bound(left_min);</span><br><span class="line">                <span class="keyword">if</span> (it != right_all.end() &amp;&amp; *it &lt; nums[j]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            left_min = min(left_min, nums[j]);</span><br><span class="line">            right_all.erase(right_all.find(nums[j + <span class="number">1</span>]));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾3 Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">find132pattern</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">3</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å·¦ä¾§æœ€å°å€¼</span></span><br><span class="line">        <span class="keyword">int</span> leftMin = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="comment">// å³ä¾§æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">        TreeMap&lt;Integer, Integer&gt; rightAll = <span class="keyword">new</span> TreeMap&lt;Integer, Integer&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">2</span>; k &lt; n; ++k) &#123;</span><br><span class="line">            rightAll.put(nums[k], rightAll.getOrDefault(nums[k], <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; n - <span class="number">1</span>; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (leftMin &lt; nums[j]) &#123;</span><br><span class="line">                Integer next = rightAll.ceilingKey(leftMin + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (next != <span class="keyword">null</span> &amp;&amp; next &lt; nums[j]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            leftMin = Math.min(leftMin, nums[j]);</span><br><span class="line">            rightAll.put(nums[j + <span class="number">1</span>], rightAll.get(nums[j + <span class="number">1</span>]) - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (rightAll.get(nums[j + <span class="number">1</span>]) == <span class="number">0</span>) &#123;</span><br><span class="line">                rightAll.remove(nums[j + <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾3 Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find132pattern</span><span class="params">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">3</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å·¦ä¾§æœ€å°å€¼</span></span><br><span class="line">        left_min = nums[<span class="number">0</span>]</span><br><span class="line">        <span class="comment"># å³ä¾§æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">        right_all = SortedList(nums[<span class="number">2</span>:])</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n - <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> left_min &lt; nums[j]:</span><br><span class="line">                index = right_all.bisect_right(left_min)</span><br><span class="line">                <span class="keyword">if</span> index &lt; len(right_all) <span class="keyword">and</span> right_all[index] &lt; nums[j]:</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">            left_min = min(left_min, nums[j])</span><br><span class="line">            right_all.remove(nums[j + <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾3 Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"math/rand"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> node <span class="keyword">struct</span> &#123;</span><br><span class="line">    ch       [<span class="number">2</span>]*node</span><br><span class="line">    priority <span class="keyword">int</span></span><br><span class="line">    val      <span class="keyword">int</span></span><br><span class="line">    cnt      <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(o *node)</span> <span class="title">cmp</span><span class="params">(b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> b &lt; o.val:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">case</span> b &gt; o.val:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(o *node)</span> <span class="title">rotate</span><span class="params">(d <span class="keyword">int</span>)</span> *<span class="title">node</span></span> &#123;</span><br><span class="line">    x := o.ch[d^<span class="number">1</span>]</span><br><span class="line">    o.ch[d^<span class="number">1</span>] = x.ch[d]</span><br><span class="line">    x.ch[d] = o</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> treap <span class="keyword">struct</span> &#123;</span><br><span class="line">    root *node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *treap)</span> _<span class="title">put</span><span class="params">(o *node, val <span class="keyword">int</span>)</span> *<span class="title">node</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> o == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &amp;node&#123;priority: rand.Int(), val: val, cnt: <span class="number">1</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> d := o.cmp(val); d &gt;= <span class="number">0</span> &#123;</span><br><span class="line">        o.ch[d] = t._put(o.ch[d], val)</span><br><span class="line">        <span class="keyword">if</span> o.ch[d].priority &gt; o.priority &#123;</span><br><span class="line">            o = o.rotate(d ^ <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        o.cnt++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> o</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *treap)</span> <span class="title">put</span><span class="params">(val <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    t.root = t._put(t.root, val)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *treap)</span> _<span class="title">delete</span><span class="params">(o *node, val <span class="keyword">int</span>)</span> *<span class="title">node</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> o == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> d := o.cmp(val); d &gt;= <span class="number">0</span> &#123;</span><br><span class="line">        o.ch[d] = t._delete(o.ch[d], val)</span><br><span class="line">        <span class="keyword">return</span> o</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> o.cnt &gt; <span class="number">1</span> &#123;</span><br><span class="line">        o.cnt--</span><br><span class="line">        <span class="keyword">return</span> o</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> o.ch[<span class="number">1</span>] == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> o.ch[<span class="number">0</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> o.ch[<span class="number">0</span>] == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> o.ch[<span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    d := <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> o.ch[<span class="number">0</span>].priority &gt; o.ch[<span class="number">1</span>].priority &#123;</span><br><span class="line">        d = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    o = o.rotate(d)</span><br><span class="line">    o.ch[d] = t._delete(o.ch[d], val)</span><br><span class="line">    <span class="keyword">return</span> o</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *treap)</span> <span class="title">delete</span><span class="params">(val <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    t.root = t._delete(t.root, val)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *treap)</span> <span class="title">upperBound</span><span class="params">(val <span class="keyword">int</span>)</span> <span class="params">(ub *node)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> o := t.root; o != <span class="literal">nil</span>; &#123;</span><br><span class="line">        <span class="keyword">if</span> o.cmp(val) == <span class="number">0</span> &#123;</span><br><span class="line">            ub = o</span><br><span class="line">            o = o.ch[<span class="number">0</span>]</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            o = o.ch[<span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">find132pattern</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">3</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    leftMin := nums[<span class="number">0</span>]</span><br><span class="line">    rights := &amp;treap&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> nums[<span class="number">2</span>:] &#123;</span><br><span class="line">        rights.put(v)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> j := <span class="number">1</span>; j &lt; n<span class="number">-1</span>; j++ &#123;</span><br><span class="line">        <span class="keyword">if</span> nums[j] &gt; leftMin &#123;</span><br><span class="line">            ub := rights.upperBound(leftMin)</span><br><span class="line">            <span class="keyword">if</span> ub != <span class="literal">nil</span> &amp;&amp; ub.val &lt; nums[j] &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            leftMin = nums[j]</span><br><span class="line">        &#125;</span><br><span class="line">        rights.<span class="built_in">delete</span>(nums[j+<span class="number">1</span>])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)  ã€‚åœ¨åˆå§‹åŒ–æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ O(nlogn)  çš„æ—¶é—´å°†æ•°ç»„å…ƒç´  <em>a[2..n-1]</em> åŠ å…¥æœ‰åºé›†åˆä¸­ã€‚åœ¨æšä¸¾ <em>j</em> æ—¶ï¼Œç»´æŠ¤å·¦ä¾§å…ƒç´ æœ€å°å€¼çš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(1)*ï¼Œå°† *a[j+1]</em> ä»æœ‰åºé›†åˆä¸­åˆ é™¤çš„æ—¶é—´å¤æ‚åº¦ä¸º O(logn)ï¼Œæ€»å…±éœ€è¦æšä¸¾çš„æ¬¡æ•°ä¸º <em>O(n)</em>ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(nlogn) ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå³ä¸ºæœ‰åºé›†åˆå­˜å‚¨å³ä¾§æ‰€æœ‰å…ƒç´ éœ€è¦ä½¿ç”¨çš„ç©ºé—´ã€‚</p></li></ul><h1 id="æ–¹æ³•äºŒï¼šæšä¸¾-1"><a href="#æ–¹æ³•äºŒï¼šæšä¸¾-1" class="headerlink" title="æ–¹æ³•äºŒï¼šæšä¸¾ 1"></a>æ–¹æ³•äºŒï¼šæšä¸¾ <em>1</em></h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>å¦‚æœæˆ‘ä»¬ä»å·¦åˆ°å³æšä¸¾ <em>1</em> çš„ä¸‹æ ‡ <em>i</em>ï¼Œé‚£ä¹ˆ <em>j, k</em> çš„ä¸‹æ ‡èŒƒå›´éƒ½æ˜¯å‡å°‘çš„ï¼Œè¿™æ ·å°±ä¸åˆ©äºå¯¹å®ƒä»¬è¿›è¡Œç»´æŠ¤ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä»å³åˆ°å·¦æšä¸¾ <em>i</em>ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å¦‚ä½•ç»´æŠ¤ <em>j, k</em> å‘¢ï¼Ÿåœ¨ <em>132</em> æ¨¡å¼ä¸­ï¼Œå¦‚æœ <em>1&lt;2</em> å¹¶ä¸” <em>2&lt;3<em>ï¼Œé‚£ä¹ˆæ ¹æ®ä¼ é€’æ€§ï¼Œ</em>1&lt;3</em> ä¹Ÿæ˜¯æˆç«‹çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•è¿›è¡Œç»´æŠ¤ï¼š</p><ul><li><p>æˆ‘ä»¬ä½¿ç”¨ä¸€ç§æ•°æ®ç»“æ„ç»´æŠ¤æ‰€æœ‰éå†è¿‡çš„å…ƒç´ ï¼Œå®ƒä»¬ä½œä¸º <em>2</em> çš„å€™é€‰å…ƒç´ ã€‚æ¯å½“æˆ‘ä»¬éå†åˆ°ä¸€ä¸ªæ–°çš„å…ƒç´ æ—¶ï¼Œå°±å°†å…¶åŠ å…¥æ•°æ®ç»“æ„ä¸­ï¼›</p></li><li><p>åœ¨éå†åˆ°ä¸€ä¸ªæ–°çš„å…ƒç´ çš„åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘å…¶æ˜¯å¦å¯ä»¥ä½œä¸º <em>3</em>ã€‚å¦‚æœå®ƒä½œä¸º <em>3</em>ï¼Œé‚£ä¹ˆ<strong>æ•°æ®ç»“æ„ä¸­æ‰€æœ‰ä¸¥æ ¼å°äºå®ƒçš„å…ƒç´ éƒ½å¯ä»¥ä½œä¸º <em>2</em></strong>ï¼Œæˆ‘ä»¬å°†è¿™äº›å…ƒç´ å…¨éƒ¨ä»æ•°æ®ç»“æ„ä¸­ç§»é™¤ï¼Œå¹¶ä¸”ä½¿ç”¨ä¸€ä¸ªå˜é‡ç»´æŠ¤<strong>æ‰€æœ‰è¢«ç§»é™¤çš„å…ƒç´ çš„æœ€å¤§å€¼</strong>ã€‚è¿™äº›è¢«ç§»é™¤çš„å…ƒç´ éƒ½æ˜¯å¯ä»¥çœŸæ­£ä½œä¸º <em>2</em> çš„ï¼Œå¹¶ä¸”å…ƒç´ çš„å€¼è¶Šå¤§ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹‹åæ‰¾åˆ° <em>1</em> çš„æœºä¼šä¹Ÿå°±è¶Šå¤§ã€‚</p></li></ul><p>é‚£ä¹ˆè¿™ä¸ªã€Œæ•°æ®ç»“æ„ã€æ˜¯ä»€ä¹ˆæ ·çš„æ•°æ®ç»“æ„å‘¢ï¼Ÿæˆ‘ä»¬å°è¯•æå–å‡ºå®ƒè¿›è¡Œçš„æ“ä½œï¼š</p><ul><li><p>å®ƒéœ€è¦æ”¯æŒæ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼›</p></li><li><p>å®ƒéœ€è¦æ”¯æŒç§»é™¤æ‰€æœ‰ä¸¥æ ¼å°äºç»™å®šé˜ˆå€¼çš„æ‰€æœ‰å…ƒç´ ï¼›</p></li><li><p>ä¸Šé¢ä¸¤æ­¥æ“ä½œæ˜¯ã€Œä¾æ¬¡è¿›è¡Œã€çš„ï¼Œå³æˆ‘ä»¬å…ˆç”¨ç»™å®šçš„é˜ˆå€¼ç§»é™¤å…ƒç´ ï¼Œå†å°†è¯¥é˜ˆå€¼åŠ å…¥æ•°æ®ç»“æ„ä¸­ã€‚</p></li></ul><p>è¿™å°±æ˜¯ã€Œå•è°ƒæ ˆã€ã€‚åœ¨å•è°ƒæ ˆä¸­ï¼Œä»æ ˆåº•åˆ°æ ˆé¡¶çš„å…ƒç´ æ˜¯ä¸¥æ ¼å•è°ƒé€’å‡çš„ã€‚å½“ç»™å®šé˜ˆå€¼ <em>x</em> æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸æ–­åœ°å¼¹å‡ºæ ˆé¡¶çš„å…ƒç´ ï¼Œç›´åˆ°æ ˆä¸ºç©ºæˆ–è€… <em>x</em> ä¸¥æ ¼å°äºæ ˆé¡¶å…ƒç´ ã€‚æ­¤æ—¶æˆ‘ä»¬å†å°† <em>x</em> å…¥æ ˆï¼Œè¿™æ ·å°±ç»´æŠ¤äº†æ ˆçš„å•è°ƒæ€§ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•è°ƒæ ˆä½œä¸ºç»´æŠ¤ <em>2</em> çš„æ•°æ®ç»“æ„ï¼Œå¹¶ç»™å‡ºä¸‹é¢çš„ç®—æ³•ï¼š</p><ul><li><p>æˆ‘ä»¬ç”¨å•è°ƒæ ˆç»´æŠ¤æ‰€æœ‰å¯ä»¥ä½œä¸º <em>2</em> çš„å€™é€‰å…ƒç´ ã€‚åˆå§‹æ—¶ï¼Œå•è°ƒæ ˆä¸­åªæœ‰å”¯ä¸€çš„å…ƒç´ a[n-1] ã€‚æˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨ä¸€ä¸ªå˜é‡ max_k è®°å½•æ‰€æœ‰å¯ä»¥çœŸæ­£ä½œä¸º <em>2</em> çš„å…ƒç´ çš„æœ€å¤§å€¼ï¼›</p></li><li><p>éšåæˆ‘ä»¬ä» <em>n-2</em> å¼€å§‹ä»å³åˆ°å·¦æšä¸¾å…ƒç´  <em>a[i]</em>ï¼š</p><ul><li><p>é¦–å…ˆæˆ‘ä»¬åˆ¤æ–­ <em>a[i]</em> æ˜¯å¦å¯ä»¥ä½œä¸º <em>1</em>ã€‚å¦‚æœ [a[i]&lt;max_k ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥ä½œä¸º <em>1</em>ï¼Œæˆ‘ä»¬å°±æ‰¾åˆ°äº†ä¸€ç»„æ»¡è¶³ <em>132</em> æ¨¡å¼çš„ä¸‰å…ƒç»„ï¼›</p></li><li><p>éšåæˆ‘ä»¬åˆ¤æ–­ <em>a[i]</em> æ˜¯å¦å¯ä»¥ä½œä¸º <em>3</em>ï¼Œä»¥æ­¤æ‰¾å‡ºå“ªäº›å¯ä»¥çœŸæ­£ä½œä¸º <em>2</em> çš„å…ƒç´ ã€‚æˆ‘ä»¬å°† <em>a[i]</em> ä¸æ–­åœ°ä¸å•è°ƒæ ˆæ ˆé¡¶çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœ <em>a[i]</em> è¾ƒå¤§ï¼Œé‚£ä¹ˆæ ˆé¡¶å…ƒç´ å¯ä»¥çœŸæ­£ä½œä¸º <em>2</em>ï¼Œå°†å…¶å¼¹å‡ºå¹¶æ›´æ–° max_kï¼›</p></li><li><p>æœ€åæˆ‘ä»¬å°† <em>a[i]</em> ä½œä¸º <em>2</em> çš„å€™é€‰å…ƒç´ æ”¾å…¥å•è°ƒæ ˆä¸­ã€‚è¿™é‡Œå¯ä»¥è¿›è¡Œä¸€ä¸ªä¼˜åŒ–ï¼Œå³å¦‚æœa[i] &lt;= max_k ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿæ²¡æœ‰å¿…è¦å°† <em>a[i]</em> æ”¾å…¥æ ˆä¸­ï¼Œå› ä¸ºå³ä½¿å®ƒåœ¨æœªæ¥è¢«å¼¹å‡ºï¼Œä¹Ÿä¸ä¼šå°† max_k  æ›´æ–°ä¸ºæ›´å¤§çš„å€¼ã€‚</p></li></ul></li><li><p>åœ¨æšä¸¾å®Œæ‰€æœ‰çš„å…ƒç´ åï¼Œå¦‚æœä»æœªæ‰¾åˆ°æ»¡è¶³ <em>132</em> æ¨¡å¼çš„ä¸‰å…ƒç»„ï¼Œé‚£å°±è¯´æ˜å…¶ä¸å­˜åœ¨ã€‚</p></li></ul><h2 id="æˆ‘çš„æ€è·¯æ€»ç»“"><a href="#æˆ‘çš„æ€è·¯æ€»ç»“" class="headerlink" title="æˆ‘çš„æ€è·¯æ€»ç»“"></a>æˆ‘çš„æ€è·¯æ€»ç»“</h2><p>è¿™ä¸ªè§£æ³•æˆ‘çœ‹äº†å‡ éè¿˜æ˜¯æ„Ÿè§‰å¾ˆæŠ½è±¡ï¼Œç”¨è‡ªå·±çš„è¯æ€»ç»“ä¸€ä¸‹å°±æ˜¯ç”¨maxKæ¥ä¿å­˜ä½œä¸º2çš„å…ƒç´ ï¼Œå•è°ƒæ ˆé‡Œä»æ ˆé¡¶åˆ°æ ˆåº•æ˜¯è¶Šæ¥è¶Šå¤§çš„ï¼Œåœ¨whileå¾ªç¯ä¸­çš„ä¸»è¦ç›®çš„æ˜¯æ‰¾åˆ°ä¸€ä¸ªnums[i]å³ä¾§æ¯”å®ƒå°çš„æœ€å¤§å…ƒç´ ï¼Œç”¨å®ƒæ¥ä½œä¸º2çš„å…ƒç´ maxKã€‚è¿™æ ·åé¢çš„éå†ä¸­åªè¦é‡åˆ°ä¸€ä¸ªæ¯”maxKå°çš„å…ƒç´ å°±è¯´æ˜æœ‰äº†ä¸€ä¸ª132çš„åºåˆ—ï¼Œwhileå¾ªç¯åæŠŠnums[i]æ”¾è¿›å•è°ƒæ ˆï¼Œå› ä¸ºä¹‹å‰çš„whileå¾ªç¯ä¸­å·²ç»æŠŠæ¯”maxKå°çš„æ•°éƒ½å¼¹å‡ºæ ˆäº†ï¼Œæ‰€ä»¥è¿™é‡Œæ”¾è¿›å•è°ƒæ ˆå°±å¯ä»¥ä¿è¯æ ˆçš„é¡ºåºæ˜¯å•è°ƒçš„ã€‚åé¢çš„ä¼˜åŒ–åˆ¤æ–­å¢å¤§äº†é˜…è¯»éš¾åº¦ï¼Œä¸€å¼€å§‹å¯ä»¥ç•¥å»è¿™ä¸ªåˆ¤æ–­ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>æšä¸¾1 C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">find132pattern</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; candidate_k;</span><br><span class="line">        candidate_k.push(nums[n - <span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">int</span> max_k = INT_MIN;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &lt; max_k) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (!candidate_k.empty() &amp;&amp; nums[i] &gt; candidate_k.top()) &#123;</span><br><span class="line">                max_k = candidate_k.top();</span><br><span class="line">                candidate_k.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; max_k) &#123;</span><br><span class="line">                candidate_k.push(nums[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾1 Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">find132pattern</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        Deque&lt;Integer&gt; candidateK = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">        candidateK.push(nums[n - <span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">int</span> maxK = Integer.MIN_VALUE;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &lt; maxK) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (!candidateK.isEmpty() &amp;&amp; nums[i] &gt; candidateK.peek()) &#123;</span><br><span class="line">                maxK = candidateK.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &gt; maxK) &#123;</span><br><span class="line">                candidateK.push(nums[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾1 Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find132pattern</span><span class="params">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        candidate_k = [nums[n - <span class="number">1</span>]]</span><br><span class="line">        max_k = float(<span class="string">"-inf"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n - <span class="number">2</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> nums[i] &lt; max_k:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">while</span> candidate_k <span class="keyword">and</span> nums[i] &gt; candidate_k[<span class="number">-1</span>]:</span><br><span class="line">                max_k = candidate_k[<span class="number">-1</span>]</span><br><span class="line">                candidate_k.pop()</span><br><span class="line">            <span class="keyword">if</span> nums[i] &gt; max_k:</span><br><span class="line">                candidate_k.append(nums[i])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾1 JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol2-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> find132pattern = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = nums.length;</span><br><span class="line">    <span class="keyword">const</span> candidate_k = [nums[n - <span class="number">1</span>]];</span><br><span class="line">    <span class="keyword">let</span> max_k = -<span class="built_in">Number</span>.MAX_SAFE_INTEGER;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] &lt; max_k) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (candidate_k.length &amp;&amp; nums[i] &gt; candidate_k[candidate_k.length - <span class="number">1</span>]) &#123;</span><br><span class="line">            max_k = candidate_k[candidate_k.length - <span class="number">1</span>];</span><br><span class="line">            candidate_k.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] &gt; max_k) &#123;</span><br><span class="line">            candidate_k.push(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾1 Golang</summary><figure class="highlight go"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">find132pattern</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    candidateK := []<span class="keyword">int</span>&#123;nums[n<span class="number">-1</span>]&#125;</span><br><span class="line">    maxK := math.MinInt64</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">        <span class="keyword">if</span> nums[i] &lt; maxK &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">len</span>(candidateK) &gt; <span class="number">0</span> &amp;&amp; nums[i] &gt; candidateK[<span class="built_in">len</span>(candidateK)<span class="number">-1</span>] &#123;</span><br><span class="line">            maxK = candidateK[<span class="built_in">len</span>(candidateK)<span class="number">-1</span>]</span><br><span class="line">            candidateK = candidateK[:<span class="built_in">len</span>(candidateK)<span class="number">-1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> nums[i] &gt; maxK &#123;</span><br><span class="line">            candidateK = <span class="built_in">append</span>(candidateK, nums[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾1 C</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">find132pattern</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = numsSize;</span><br><span class="line">    <span class="keyword">int</span> candidate_k[n], top = <span class="number">0</span>;</span><br><span class="line">    candidate_k[top++] = nums[n - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> max_k = INT_MIN;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] &lt; max_k) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (top &amp;&amp; nums[i] &gt; candidate_k[top - <span class="number">1</span>]) &#123;</span><br><span class="line">            max_k = candidate_k[--top];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] &gt; max_k) &#123;</span><br><span class="line">            candidate_k[top++] = nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œæšä¸¾ *i</em> çš„æ¬¡æ•°ä¸º <em>O(n)</em>ï¼Œç”±äºæ¯ä¸€ä¸ªå…ƒç´ æœ€å¤šè¢«åŠ å…¥å’Œå¼¹å‡ºå•è°ƒæ ˆå„ä¸€æ¬¡ï¼Œå› æ­¤æ“ä½œå•è°ƒæ ˆçš„æ—¶é—´å¤æ‚åº¦ä¸€å…±ä¸º <em>O(n)</em>ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå³ä¸ºå•è°ƒæ ˆéœ€è¦ä½¿ç”¨çš„ç©ºé—´ã€‚</p></li></ul><h1 id="æ–¹æ³•ä¸‰ï¼šæšä¸¾-2"><a href="#æ–¹æ³•ä¸‰ï¼šæšä¸¾-2" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šæšä¸¾ 2"></a>æ–¹æ³•ä¸‰ï¼šæšä¸¾ <em>2</em></h1><p><strong>è¯´æ˜</strong></p><p>æ–¹æ³•ä¸‰æ€è·¯éš¾åº¦è¾ƒå¤§ï¼Œéœ€è¦åœ¨å•è°ƒæ ˆä¸Šè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ã€‚å»ºè®®è¯»è€…åœ¨å®Œå…¨ç†è§£æ–¹æ³•äºŒä¹‹åï¼Œå†å°è¯•é˜…è¯»è¯¥æ–¹æ³•ã€‚</p><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>å½“æˆ‘ä»¬æšä¸¾ <em>2</em> çš„ä¸‹æ ‡ <em>k</em> æ—¶ï¼Œä¸æ–¹æ³•äºŒç›¸åï¼Œä»å·¦åˆ°å³è¿›è¡Œæšä¸¾çš„æ–¹æ³•æ˜¯ååˆ†åˆç†çš„ï¼šåœ¨æšä¸¾çš„è¿‡ç¨‹ä¸­ï¼Œ<em>i, j</em> çš„ä¸‹æ ‡èŒƒå›´éƒ½æ˜¯å¢åŠ çš„ã€‚</p><p>ç”±äºæˆ‘ä»¬éœ€è¦ä¿è¯ <em>1&lt;2</em> å¹¶ä¸” <em>2&lt;3*ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ç³»åˆ—å°½å¯èƒ½å°çš„å…ƒç´ ä½œä¸º *1</em> çš„å€™é€‰å…ƒç´ ï¼Œå¹¶ä¸”ç»´æŠ¤ä¸€ç³»åˆ—å°½å¯èƒ½å¤§çš„å…ƒç´ ä½œä¸º <em>3</em> çš„å€™é€‰å…ƒç´ ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åˆ†æƒ…å†µè¿›è¡Œè®¨è®ºï¼Œå‡è®¾å½“å‰æœ‰ä¸€ä¸ªå°å…ƒç´  <em>x_i</em> ä»¥åŠä¸€ä¸ªå¤§å…ƒç´  <em>x_j</em> è¡¨ç¤ºä¸€ä¸ªäºŒå…ƒç»„ï¼Œè€Œæˆ‘ä»¬å½“å‰éå†åˆ°äº†ä¸€ä¸ªæ–°çš„å…ƒç´  <em>x=a[k]</em>ï¼Œé‚£ä¹ˆï¼š</p><ul><li><p>å¦‚æœ <em>x &gt; x_j*ï¼Œé‚£ä¹ˆè®© *x</em> ä½œä¸º <em>3</em> æ˜¾ç„¶æ˜¯æ¯” <em>x_j</em> ä½œä¸º <em>3</em> æ›´ä¼˜ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨ <em>x</em> æ›¿ä»£ <em>x_j</em>ï¼›</p></li><li><p>å¦‚æœ <em>x &lt; x_i*ï¼Œé‚£ä¹ˆè®© *x</em> ä½œä¸º <em>1</em> æ˜¾ç„¶æ˜¯æ¯” <em>x_i</em> ä½œä¸º <em>3</em> æ›´ä¼˜ï¼Œç„¶è€Œæˆ‘ä»¬å¿…é¡»è¦æ»¡è¶³ <em>132</em> æ¨¡å¼ä¸­çš„é¡ºåºï¼Œå³ <em>1</em> å‡ºç°åœ¨ <em>3</em> ä¹‹å‰ï¼Œè¿™é‡Œå¦‚æœæˆ‘ä»¬ç®€å•åœ°ç”¨ <em>x</em> æ›¿ä»£ <em>x_i*ï¼Œé‚£ä¹ˆ *x_i=x</em> ä½œä¸º <em>1</em> æ˜¯å‡ºç°åœ¨ <em>x_j</em> ä½œä¸º <em>3</em> ä¹‹åçš„ï¼Œè¿™å¹¶ä¸æ»¡è¶³è¦æ±‚ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦ä¸º <em>x</em> æ‰¾ä¸€ä¸ªæ–°çš„å…ƒç´ ä½œä¸º <em>3</em>ã€‚ç”±äºæˆ‘ä»¬è¿˜æ²¡æœ‰éå†åˆ°åé¢çš„å…ƒç´ ï¼Œå› æ­¤å¯ä»¥ç®€å•åœ°å°† <em>x</em> åŒæ—¶çœ‹ä½œä¸€ä¸ªäºŒå…ƒç»„çš„ <em>x_i</em> å’Œ <em>x_j</em>ï¼›</p></li><li><p>å¯¹äºå…¶å®ƒçš„æƒ…å†µï¼Œxi&lt;=x&lt;=xj ï¼Œ<em>x</em> æ— è®ºä½œä¸º <em>1</em> è¿˜æ˜¯ <em>3</em> éƒ½æ²¡æœ‰å½“å‰äºŒå…ƒç»„å¯¹åº”çš„è¦ä¼˜ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¸ç”¨è€ƒè™‘ <em>x</em> ä½œä¸º <em>1</em> æˆ–è€… <em>3</em> çš„æƒ…å†µã€‚</p></li></ul><p>è¿™æ ·ä¸€æ¥ï¼Œä¸æ–¹æ³•äºŒç±»ä¼¼ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªå•è°ƒé€’å‡çš„å•è°ƒæ ˆç»´æŠ¤ä¸€ç³»åˆ—äºŒå…ƒç»„ <em>(x_i, x_j)*ï¼Œè¡¨ç¤ºä¸€ä¸ªå¯ä»¥é€‰æ‹©çš„ *1-3</em> åŒºé—´ï¼Œå¹¶ä¸”ä»æ ˆåº•åˆ°æ ˆé¡¶ <em>x_i</em> å’Œ <em>x_j</em> åˆ†åˆ«ä¸¥æ ¼å•è°ƒé€’å‡ï¼Œå› ä¸ºæ ¹æ®ä¸Šé¢çš„è®¨è®ºï¼Œæˆ‘ä»¬åªæœ‰åœ¨ <em>x &lt; x_i</em> æ—¶æ‰ä¼šå¢åŠ ä¸€ä¸ªæ–°çš„äºŒå…ƒç»„ã€‚</p><p>ç„¶è€Œä¸æ–¹æ³•äºŒä¸åŒçš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è®© <em>x</em> ä½œä¸º <em>2</em>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¹¶ä¸çŸ¥é“åˆ°åº•åº”è¯¥é€‰æ‹©å•è°ƒæ ˆä¸­çš„å“ªä¸ª <em>1-3</em> åŒºé—´ï¼Œå› æ­¤æˆ‘ä»¬åªèƒ½æ ¹æ®å•è°ƒæ€§è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼š</p><ul><li><p>å¯¹äºå•è°ƒæ ˆä¸­çš„ <em>x_i*ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾å‡ºç¬¬ä¸€ä¸ªæ»¡è¶³ *x_i &lt; x</em> çš„ä½ç½® idx_i ï¼Œè¿™æ ·ä»è¯¥ä½ç½®åˆ°æ ˆé¡¶çš„æ‰€æœ‰äºŒå…ƒç»„éƒ½æ»¡è¶³ <em>x_i &lt; x</em>ï¼›</p></li><li><p>å¯¹äºå•è°ƒæ ˆä¸­çš„ <em>x_j*ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾å‡ºæœ€åä¸€ä¸ªæ»¡è¶³ *x_j &gt; x</em> çš„ä½ç½® idx_j ï¼Œè¿™æ ·ä»æ ˆåº•åˆ°è¯¥ä½ç½®çš„æ‰€æœ‰äºŒå…ƒç»„éƒ½æ»¡è¶³ <em>x_j &gt; x</em>ï¼›</p></li><li><p>å¦‚æœ idx_i  å’Œ idx_j  éƒ½å­˜åœ¨ï¼Œå¹¶ä¸”idx_i&lt;idx_j ï¼Œé‚£ä¹ˆå°±å­˜åœ¨è‡³å°‘ä¸€ä¸ªäºŒå…ƒç»„ <em>(x_i, x_j)</em> æ»¡è¶³ <em>x_i &lt; x &lt; x_j<em>ï¼Œ</em>x</em> å°±å¯ä»¥ä½œä¸º <em>2</em>ï¼Œæˆ‘ä»¬å°±æ‰¾åˆ°äº†ä¸€ç»„æ»¡è¶³ <em>132</em> æ¨¡å¼çš„ä¸‰å…ƒç»„ã€‚</p></li></ul><p>åœ¨æšä¸¾å®Œæ‰€æœ‰çš„å…ƒç´ åï¼Œå¦‚æœä»æœªæ‰¾åˆ°æ»¡è¶³ <em>132</em> æ¨¡å¼çš„ä¸‰å…ƒç»„ï¼Œé‚£å°±è¯´æ˜å…¶ä¸å­˜åœ¨ã€‚</p><p><strong>ä»£ç </strong></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬æ˜¯åœ¨<strong>å•è°ƒé€’å‡çš„æ ˆä¸Šè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾</strong>ï¼Œå› æ­¤å¤§éƒ¨åˆ†è¯­è¨€éƒ½éœ€è¦å®ç°ä¸€ä¸ªè‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°ï¼Œæˆ–è€…å°†æ ˆä¸­çš„å…ƒç´ å–ç›¸åæ•°åå†ä½¿ç”¨é»˜è®¤çš„æ¯”è¾ƒå‡½æ•°ã€‚</p><details>    <summary>æšä¸¾2 C++</summary><figure class="highlight c++"><figcaption><span>[sol3-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">find132pattern</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; candidate_i = &#123;nums[<span class="number">0</span>]&#125;;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; candidate_j = &#123;nums[<span class="number">0</span>]&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt; n; ++k) &#123;</span><br><span class="line">            <span class="keyword">auto</span> it_i = upper_bound(candidate_i.begin(), candidate_i.end(), nums[k], greater&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">            <span class="keyword">auto</span> it_j = lower_bound(candidate_j.begin(), candidate_j.end(), nums[k], greater&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line">            <span class="keyword">if</span> (it_i != candidate_i.end() &amp;&amp; it_j != candidate_j.begin()) &#123;</span><br><span class="line">                <span class="keyword">int</span> idx_i = it_i - candidate_i.begin();</span><br><span class="line">                <span class="keyword">int</span> idx_j = it_j - candidate_j.begin() - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (idx_i &lt;= idx_j) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (nums[k] &lt; candidate_i.back()) &#123;</span><br><span class="line">                candidate_i.push_back(nums[k]);</span><br><span class="line">                candidate_j.push_back(nums[k]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (nums[k] &gt; candidate_j.back()) &#123;</span><br><span class="line">                <span class="keyword">int</span> last_i = candidate_i.back();</span><br><span class="line">                <span class="keyword">while</span> (!candidate_j.empty() &amp;&amp; nums[k] &gt; candidate_j.back()) &#123;</span><br><span class="line">                    candidate_i.pop_back();</span><br><span class="line">                    candidate_j.pop_back();</span><br><span class="line">                &#125;</span><br><span class="line">                candidate_i.push_back(last_i);</span><br><span class="line">                candidate_j.push_back(nums[k]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾2 Java</summary><figure class="highlight java"><figcaption><span>[sol3-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">find132pattern</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        List&lt;Integer&gt; candidateI = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        candidateI.add(nums[<span class="number">0</span>]);</span><br><span class="line">        List&lt;Integer&gt; candidateJ = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        candidateJ.add(nums[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt; n; ++k) &#123;</span><br><span class="line">            <span class="keyword">int</span> idxI = binarySearchFirst(candidateI, nums[k]);</span><br><span class="line">            <span class="keyword">int</span> idxJ = binarySearchLast(candidateJ, nums[k]);</span><br><span class="line">            <span class="keyword">if</span> (idxI &gt;= <span class="number">0</span> &amp;&amp; idxJ &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (idxI &lt;= idxJ) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (nums[k] &lt; candidateI.get(candidateI.size() - <span class="number">1</span>)) &#123;</span><br><span class="line">                candidateI.add(nums[k]);</span><br><span class="line">                candidateJ.add(nums[k]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[k] &gt; candidateJ.get(candidateJ.size() - <span class="number">1</span>)) &#123;</span><br><span class="line">                <span class="keyword">int</span> lastI = candidateI.get(candidateI.size() - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">while</span> (!candidateJ.isEmpty() &amp;&amp; nums[k] &gt; candidateJ.get(candidateJ.size() - <span class="number">1</span>)) &#123;</span><br><span class="line">                    candidateI.remove(candidateI.size() - <span class="number">1</span>);</span><br><span class="line">                    candidateJ.remove(candidateJ.size() - <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                candidateI.add(lastI);</span><br><span class="line">                candidateJ.add(nums[k]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">binarySearchFirst</span><span class="params">(List&lt;Integer&gt; candidate, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>, high = candidate.size() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (candidate.get(high) &gt;= target) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (low &lt; high) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (high - low) / <span class="number">2</span> + low;</span><br><span class="line">            <span class="keyword">int</span> num = candidate.get(mid);</span><br><span class="line">            <span class="keyword">if</span> (num &gt;= target) &#123;</span><br><span class="line">                low = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                high = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> low;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">binarySearchLast</span><span class="params">(List&lt;Integer&gt; candidate, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>, high = candidate.size() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (candidate.get(low) &lt;= target) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (low &lt; high) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (high - low + <span class="number">1</span>) / <span class="number">2</span> + low;</span><br><span class="line">            <span class="keyword">int</span> num = candidate.get(mid);</span><br><span class="line">            <span class="keyword">if</span> (num &lt;= target) &#123;</span><br><span class="line">                high = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                low = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> low;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾2 Python</summary><figure class="highlight python"><figcaption><span>[sol3-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find132pattern</span><span class="params">(self, nums: List[int])</span> -&gt; bool:</span></span><br><span class="line">        candidate_i, candidate_j = [-nums[<span class="number">0</span>]], [-nums[<span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> v <span class="keyword">in</span> nums[<span class="number">1</span>:]:</span><br><span class="line">            idx_i = bisect.bisect_right(candidate_i, -v)</span><br><span class="line">            idx_j = bisect.bisect_left(candidate_j, -v)</span><br><span class="line">            <span class="keyword">if</span> idx_i &lt; idx_j:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> v &lt; -candidate_i[<span class="number">-1</span>]:</span><br><span class="line">                candidate_i.append(-v)</span><br><span class="line">                candidate_j.append(-v)</span><br><span class="line">            <span class="keyword">elif</span> v &gt; -candidate_j[<span class="number">-1</span>]:</span><br><span class="line">                last_i = -candidate_i[<span class="number">-1</span>]</span><br><span class="line">                <span class="keyword">while</span> candidate_j <span class="keyword">and</span> v &gt; -candidate_j[<span class="number">-1</span>]:</span><br><span class="line">                    candidate_i.pop()</span><br><span class="line">                    candidate_j.pop()</span><br><span class="line">                candidate_i.append(-last_i)</span><br><span class="line">                candidate_j.append(-v)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾2 JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol3-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> find132pattern = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> n = nums.length;</span><br><span class="line">    <span class="keyword">const</span> candidateI = [nums[<span class="number">0</span>]], candidateJ = [nums[<span class="number">0</span>]];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k = <span class="number">1</span>; k &lt; n; ++k) &#123;</span><br><span class="line">        <span class="keyword">const</span> idxI = binarySearchFirst(candidateI, nums[k]);</span><br><span class="line">        <span class="keyword">const</span> idxJ = binarySearchLast(candidateJ, nums[k]);</span><br><span class="line">        <span class="keyword">if</span> (idxI &gt;= <span class="number">0</span> &amp;&amp; idxJ &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (idxI &lt;= idxJ) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (nums[k] &lt; candidateI[candidateI.length - <span class="number">1</span>]) &#123;</span><br><span class="line">            candidateI.push(nums[k]);</span><br><span class="line">            candidateJ.push(nums[k]);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[k] &gt; candidateJ[candidateJ.length - <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">const</span> lastI = candidateI[candidateI.length - <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">while</span> (candidateJ.length &amp;&amp; nums[k] &gt; candidateJ[candidateJ.length - <span class="number">1</span>]) &#123;</span><br><span class="line">                candidateI.pop();</span><br><span class="line">                candidateJ.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            candidateI.push(lastI);</span><br><span class="line">            candidateJ.push(nums[k]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> binarySearchFirst = <span class="function">(<span class="params">candidate, target</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> low = <span class="number">0</span>, high = candidate.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (candidate[high] &gt;= target) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (low &lt; high) &#123;</span><br><span class="line">        <span class="keyword">const</span> mid = <span class="built_in">Math</span>.floor((high - low) / <span class="number">2</span>) + low;</span><br><span class="line">        <span class="keyword">const</span> num = candidate[mid];</span><br><span class="line">        <span class="keyword">if</span> (num &gt;= target) &#123;</span><br><span class="line">            low = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            high = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> low;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> binarySearchLast = <span class="function">(<span class="params">candidate, target</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> low = <span class="number">0</span>, high = candidate.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (candidate[low] &lt;= target) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (low &lt; high) &#123;</span><br><span class="line">        <span class="keyword">const</span> mid = <span class="built_in">Math</span>.floor((high - low + <span class="number">1</span>) / <span class="number">2</span>) + low;</span><br><span class="line">        <span class="keyword">const</span> num = candidate[mid];</span><br><span class="line">        <span class="keyword">if</span> (num &lt;= target) &#123;</span><br><span class="line">            high = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            low = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> low;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾2 Golang</summary><figure class="highlight go"><figcaption><span>[sol3-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">find132pattern</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    candidateI, candidateJ := []<span class="keyword">int</span>&#123;-nums[<span class="number">0</span>]&#125;, []<span class="keyword">int</span>&#123;-nums[<span class="number">0</span>]&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> nums[<span class="number">1</span>:] &#123;</span><br><span class="line">        idxI := sort.SearchInts(candidateI, <span class="number">1</span>-v)</span><br><span class="line">        idxJ := sort.SearchInts(candidateJ, -v)</span><br><span class="line">        <span class="keyword">if</span> idxI &lt; idxJ &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> v &lt; -candidateI[<span class="built_in">len</span>(candidateI)<span class="number">-1</span>] &#123;</span><br><span class="line">            candidateI = <span class="built_in">append</span>(candidateI, -v)</span><br><span class="line">            candidateJ = <span class="built_in">append</span>(candidateJ, -v)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> v &gt; -candidateJ[<span class="built_in">len</span>(candidateJ)<span class="number">-1</span>] &#123;</span><br><span class="line">            lastI := -candidateI[<span class="built_in">len</span>(candidateI)<span class="number">-1</span>]</span><br><span class="line">            <span class="keyword">for</span> <span class="built_in">len</span>(candidateJ) &gt; <span class="number">0</span> &amp;&amp; v &gt; -candidateJ[<span class="built_in">len</span>(candidateJ)<span class="number">-1</span>] &#123;</span><br><span class="line">                candidateI = candidateI[:<span class="built_in">len</span>(candidateI)<span class="number">-1</span>]</span><br><span class="line">                candidateJ = candidateJ[:<span class="built_in">len</span>(candidateJ)<span class="number">-1</span>]</span><br><span class="line">            &#125;</span><br><span class="line">            candidateI = <span class="built_in">append</span>(candidateI, -lastI)</span><br><span class="line">            candidateJ = <span class="built_in">append</span>(candidateJ, -v)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æšä¸¾2 C</summary><figure class="highlight c"><figcaption><span>[sol3-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">upper_bound</span><span class="params">(<span class="keyword">int</span>* vec, <span class="keyword">int</span> vecSize, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> low = <span class="number">0</span>, high = vecSize - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (vec[high] &gt;= target) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (low &lt; high) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (high - low) / <span class="number">2</span> + low;</span><br><span class="line">        <span class="keyword">int</span> num = vec[mid];</span><br><span class="line">        <span class="keyword">if</span> (num &gt;= target) &#123;</span><br><span class="line">            low = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            high = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> low;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lower_bound</span><span class="params">(<span class="keyword">int</span>* vec, <span class="keyword">int</span> vecSize, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> low = <span class="number">0</span>, high = vecSize - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (vec[low] &lt;= target) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (low &lt; high) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = (high - low + <span class="number">1</span>) / <span class="number">2</span> + low;</span><br><span class="line">        <span class="keyword">int</span> num = vec[mid];</span><br><span class="line">        <span class="keyword">if</span> (num &lt;= target) &#123;</span><br><span class="line">            high = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            low = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> low;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">find132pattern</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = numsSize;</span><br><span class="line">    <span class="keyword">int</span> candidate_i[n], top_i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> candidate_j[n], top_j = <span class="number">0</span>;</span><br><span class="line">    candidate_i[top_i++] = nums[<span class="number">0</span>];</span><br><span class="line">    candidate_j[top_j++] = nums[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt; n; ++k) &#123;</span><br><span class="line">        <span class="keyword">int</span> it_i = upper_bound(candidate_i, top_i, nums[k]);</span><br><span class="line">        <span class="keyword">int</span> it_j = lower_bound(candidate_j, top_j, nums[k]);</span><br><span class="line">        <span class="keyword">if</span> (it_i != <span class="number">-1</span> &amp;&amp; it_j != <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (it_i &lt;= it_j) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (nums[k] &lt; candidate_i[top_i - <span class="number">1</span>]) &#123;</span><br><span class="line">            candidate_i[top_i++] = nums[k];</span><br><span class="line">            candidate_j[top_j++] = nums[k];</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[k] &gt; candidate_j[top_j - <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">int</span> last_i = candidate_i[top_i - <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">while</span> (top_j &amp;&amp; nums[k] &gt; candidate_j[top_j - <span class="number">1</span>]) &#123;</span><br><span class="line">                top_j--, top_i--;</span><br><span class="line">            &#125;</span><br><span class="line">            candidate_i[top_i++] = last_i;</span><br><span class="line">            candidate_j[top_j++] = nums[k];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn) ï¼Œæšä¸¾ <em>i</em> çš„æ¬¡æ•°ä¸º <em>O(n)</em>ï¼Œç”±äºæ¯ä¸€ä¸ªå…ƒç´ æœ€å¤šè¢«åŠ å…¥å’Œå¼¹å‡ºå•è°ƒæ ˆå„ä¸€æ¬¡ï¼Œå› æ­¤æ“ä½œå•è°ƒæ ˆçš„æ—¶é—´å¤æ‚åº¦ä¸€å…±ä¸º <em>O(n)</em>ã€‚äºŒåˆ†æŸ¥æ‰¾çš„å•æ¬¡æ—¶é—´ä¸º O(logn)  ï¼Œä¸€å…±ä¸º O(nlogn)ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn) ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œå³ä¸ºå•è°ƒæ ˆéœ€è¦ä½¿ç”¨çš„ç©ºé—´ã€‚</p></li></ul><h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>åœ¨ä¸Šé¢çš„ä¸‰ç§æ–¹æ³•ä¸­ï¼Œæ–¹æ³•äºŒçš„æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ï¼Œæœ€ä¼˜ç§€ã€‚è€Œå‰©ä½™çš„ä¸¤ç§æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)  çš„æ–¹æ³•ä¸­ï¼Œæ–¹æ³•ä¸€ç›¸è¾ƒäºæ–¹æ³•ä¸‰ï¼Œæ— è®ºä»ç†è§£è¿˜æ˜¯ä»£ç ç¼–å†™å±‚é¢æ¥è¯´éƒ½æ›´å®¹æ˜“ä¸€äº›ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆè¿˜è¦ä»‹ç»æ–¹æ³•ä¸‰å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬å¯ä»¥å‘ç°æ–¹æ³•ä¸€å’Œæ–¹æ³•äºŒçš„ä¸è¶³ï¼š</p><ul><li><p>æ–¹æ³•ä¸€éœ€è¦æå‰çŸ¥é“æ•´ä¸ªæ•°ç»„ï¼Œå¦åˆ™å°±æ— æ³•ä½¿ç”¨æœ‰åºé›†åˆç»´æŠ¤å³ä¾§å…ƒç´ äº†ï¼›</p></li><li><p>æ–¹æ³•äºŒæ˜¯ä»åå‘å‰éå†çš„ï¼Œæœ¬è´¨ä¸Šä¹ŸåŒæ ·éœ€è¦æå‰çŸ¥é“æ•´ä¸ªæ•°ç»„ã€‚</p></li></ul><p>è€Œæ–¹æ³•ä¸‰æ˜¯ä»å‰å‘åéå†çš„ï¼Œå¹¶ä¸”ç»´æŠ¤çš„æ•°æ®ç»“æ„ä¸ä¾èµ–äºåç»­æœªçŸ¥çš„å…ƒç´ ï¼Œå› æ­¤å¦‚æœæ•°ç»„æ˜¯ä»¥ã€Œæ•°æ®æµã€çš„å½¢å¼ç»™å‡ºçš„ï¼Œé‚£ä¹ˆæ–¹æ³•ä¸‰æ˜¯å”¯ä¸€å¯ä»¥ç»§ç»­ä½¿ç”¨çš„æ–¹æ³•ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ•°ç»„ä¸­å…±æœ‰ n ä¸ªæ•´æ•°ã€‚132 æ¨¡å¼çš„å­åºåˆ— ç”±ä¸‰ä¸ªæ•´æ•° nums[i]ã€nums[j] å’Œ nums[k] ç»„æˆï¼Œå¹¶åŒæ—¶æ»¡è¶³ï¼ši &amp;lt; j &amp;lt; k å’Œ nums[i] &amp;lt; nums[k] &amp;lt; nums[j] ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ nums ä¸­å­˜åœ¨ 132 æ¨¡å¼çš„å­åºåˆ— ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Stack" scheme="http://yoursite.com/tags/Stack/"/>
    
  </entry>
  
  <entry>
    <title>1188 è®¾è®¡æœ‰é™é˜»å¡é˜Ÿåˆ—</title>
    <link href="http://yoursite.com/2021/03/18/1188%20%E8%AE%BE%E8%AE%A1%E6%9C%89%E9%99%90%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97/"/>
    <id>http://yoursite.com/2021/03/18/1188 è®¾è®¡æœ‰é™é˜»å¡é˜Ÿåˆ—/</id>
    <published>2021-03-18T08:52:12.000Z</published>
    <updated>2021-03-25T07:30:56.051Z</updated>
    
    <content type="html"><![CDATA[<p>å®ç°ä¸€ä¸ªæ‹¥æœ‰å¦‚ä¸‹æ–¹æ³•çš„çº¿ç¨‹å®‰å…¨æœ‰é™é˜»å¡é˜Ÿåˆ—ï¼š</p><a id="more"></a><ul><li>BoundedBlockingQueue(int capacity) æ„é€ æ–¹æ³•åˆå§‹åŒ–é˜Ÿåˆ—ï¼Œå…¶ä¸­capacityä»£è¡¨é˜Ÿåˆ—é•¿åº¦ä¸Šé™ã€‚</li><li>void enqueue(int element) åœ¨é˜Ÿé¦–å¢åŠ ä¸€ä¸ªelement. å¦‚æœé˜Ÿåˆ—æ»¡ï¼Œè°ƒç”¨çº¿ç¨‹è¢«é˜»å¡ç›´åˆ°é˜Ÿåˆ—éæ»¡ã€‚</li><li>int dequeue() è¿”å›é˜Ÿå°¾å…ƒç´ å¹¶ä»é˜Ÿåˆ—ä¸­å°†å…¶åˆ é™¤. å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œè°ƒç”¨çº¿ç¨‹è¢«é˜»å¡ç›´åˆ°é˜Ÿåˆ—éç©ºã€‚</li><li>int size() è¿”å›å½“å‰é˜Ÿåˆ—å…ƒç´ ä¸ªæ•°ã€‚</li></ul><p>ä½ çš„å®ç°å°†ä¼šè¢«å¤šçº¿ç¨‹åŒæ—¶è®¿é—®è¿›è¡Œæµ‹è¯•ã€‚æ¯ä¸€ä¸ªçº¿ç¨‹è¦ä¹ˆæ˜¯ä¸€ä¸ªåªè°ƒç”¨enqueueæ–¹æ³•çš„ç”Ÿäº§è€…çº¿ç¨‹ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ªåªè°ƒç”¨dequeueæ–¹æ³•çš„æ¶ˆè´¹è€…çº¿ç¨‹ã€‚sizeæ–¹æ³•å°†ä¼šåœ¨æ¯ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ä¹‹åè¿›è¡Œè°ƒç”¨ã€‚<br>è¯·ä¸è¦ä½¿ç”¨å†…ç½®çš„æœ‰é™é˜»å¡é˜Ÿåˆ—å®ç°ï¼Œå¦åˆ™é¢è¯•å°†ä¸ä¼šé€šè¿‡ã€‚</p><p>ç¤ºä¾‹ 1:</p><p>è¾“å…¥:</p><pre><code>11[â€œBoundedBlockingQueueâ€,â€œenqueueâ€,â€œdequeueâ€,â€œdequeueâ€,â€œenqueueâ€,â€œenqueueâ€,â€œenqueueâ€,â€œenqueueâ€,â€œdequeueâ€][[2],[1],[],[],[0],[2],[3],[4],[]]</code></pre><p>è¾“å‡º:</p><pre><code>[1,0,2,2]</code></pre><p>è§£é‡Š:</p><pre><code>ç”Ÿäº§è€…çº¿ç¨‹æ•°ç›® = 1æ¶ˆè´¹è€…çº¿ç¨‹æ•°ç›® = 1BoundedBlockingQueue queue = new BoundedBlockingQueue(2); // ä½¿ç”¨capacity = 2åˆå§‹åŒ–é˜Ÿåˆ—ã€‚queue.enqueue(1); // ç”Ÿäº§è€…çº¿ç¨‹å°†1æ’å…¥é˜Ÿåˆ—ã€‚queue.dequeue(); // æ¶ˆè´¹è€…çº¿ç¨‹è°ƒç”¨dequeueå¹¶è¿”å›1ã€‚queue.dequeue(); // ç”±äºé˜Ÿåˆ—ä¸ºç©ºï¼Œæ¶ˆè´¹è€…çº¿ç¨‹è¢«é˜»å¡ã€‚queue.enqueue(0); // ç”Ÿäº§è€…çº¿ç¨‹å°†0æ’å…¥é˜Ÿåˆ—ã€‚æ¶ˆè´¹è€…çº¿ç¨‹è¢«è§£é™¤é˜»å¡åŒæ—¶å°†0å¼¹å‡ºé˜Ÿåˆ—å¹¶è¿”å›ã€‚queue.enqueue(2); // ç”Ÿäº§è€…çº¿ç¨‹å°†2æ’å…¥é˜Ÿåˆ—ã€‚queue.enqueue(3); // ç”Ÿäº§è€…çº¿ç¨‹å°†3æ’å…¥é˜Ÿåˆ—ã€‚queue.enqueue(4); // ç”Ÿäº§è€…çº¿ç¨‹ç”±äºé˜Ÿåˆ—é•¿åº¦å·²è¾¾åˆ°ä¸Šé™2è€Œè¢«é˜»å¡ã€‚queue.dequeue(); // æ¶ˆè´¹è€…çº¿ç¨‹å°†2ä»é˜Ÿåˆ—å¼¹å‡ºå¹¶è¿”å›ã€‚ç”Ÿäº§è€…çº¿ç¨‹è§£é™¤é˜»å¡åŒæ—¶å°†4æ’å…¥é˜Ÿåˆ—ã€‚queue.size(); // é˜Ÿåˆ—ä¸­è¿˜æœ‰2ä¸ªå…ƒç´ ã€‚size()æ–¹æ³•åœ¨æ¯ç»„æµ‹è¯•ç”¨ä¾‹æœ€åè°ƒç”¨ã€‚</code></pre><p>ç¤ºä¾‹ 2:<br>è¾“å…¥:</p><pre><code>34[â€œBoundedBlockingQueueâ€,â€œenqueueâ€,â€œenqueueâ€,â€œenqueueâ€,â€œdequeueâ€,â€œdequeueâ€,â€œdequeueâ€,â€œenqueueâ€][[3],[1],[0],[2],[],[],[],[3]]</code></pre><p>è¾“å‡º:</p><pre><code>[1,0,2,1]</code></pre><p>è§£é‡Š:</p><pre><code>ç”Ÿäº§è€…çº¿ç¨‹æ•°ç›® = 3æ¶ˆè´¹è€…çº¿ç¨‹æ•°ç›® = 4BoundedBlockingQueue queue = new BoundedBlockingQueue(3); // ä½¿ç”¨capacity = 3åˆå§‹åŒ–é˜Ÿåˆ—ã€‚queue.enqueue(1); // ç”Ÿäº§è€…çº¿ç¨‹P1å°†1æ’å…¥é˜Ÿåˆ—ã€‚queue.enqueue(0); // ç”Ÿäº§è€…çº¿ç¨‹P2å°†0æ’å…¥é˜Ÿåˆ—ã€‚queue.enqueue(2); // ç”Ÿäº§è€…çº¿ç¨‹P3å°†2æ’å…¥é˜Ÿåˆ—ã€‚queue.dequeue(); // æ¶ˆè´¹è€…çº¿ç¨‹C1è°ƒç”¨dequeueã€‚queue.dequeue(); // æ¶ˆè´¹è€…çº¿ç¨‹C2è°ƒç”¨dequeueã€‚queue.dequeue(); // æ¶ˆè´¹è€…çº¿ç¨‹C3è°ƒç”¨dequeueã€‚queue.enqueue(3); // å…¶ä¸­ä¸€ä¸ªç”Ÿäº§è€…çº¿ç¨‹å°†3æ’å…¥é˜Ÿåˆ—ã€‚queue.size(); // é˜Ÿåˆ—ä¸­è¿˜æœ‰1ä¸ªå…ƒç´ ã€‚ç”±äºç”Ÿäº§è€…/æ¶ˆè´¹è€…çº¿ç¨‹çš„æ•°ç›®å¯èƒ½å¤§äº1ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“çº¿ç¨‹å¦‚ä½•è¢«æ“ä½œç³»ç»Ÿè°ƒåº¦ï¼Œå³ä½¿è¾“å…¥çœ‹ä¸Šå»éšå«äº†é¡ºåºã€‚å› æ­¤ä»»æ„ä¸€ç§è¾“å‡º[1,0,2]æˆ–[1,2,0]æˆ–[0,1,2]æˆ–[0,2,1]æˆ–[2,0,1]æˆ–[2,1,0]éƒ½å¯è¢«æ¥å—ã€‚</code></pre><details><summary>ç¤ºä¾‹</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class BoundedBlockingQueue &#123;</span><br><span class="line"></span><br><span class="line">    public BoundedBlockingQueue(int capacity) &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void enqueue(int element) throws InterruptedException &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public int dequeue() throws InterruptedException &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public int size() &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><details><summary>é¢˜è§£</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">class BoundedBlockingQueue &#123;</span><br><span class="line">    </span><br><span class="line">    private final LinkedList&lt;Integer&gt; queue;</span><br><span class="line"></span><br><span class="line">    private int count;</span><br><span class="line"></span><br><span class="line">    private final ReentrantLock lock = new ReentrantLock();</span><br><span class="line"></span><br><span class="line">// é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºçš„æ¡ä»¶</span><br><span class="line">    private final Condition notEmpty = lock.newCondition();</span><br><span class="line">    </span><br><span class="line">    // é˜Ÿåˆ—æ˜¯å¦å·²æ»¡çš„æ¡ä»¶</span><br><span class="line">    private final Condition notFull = lock.newCondition();</span><br><span class="line"></span><br><span class="line">    public BoundedBlockingQueue(int capacity) &#123;</span><br><span class="line">        queue = new LinkedList&lt;&gt;();</span><br><span class="line">        this.count = capacity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">      public int size() &#123;</span><br><span class="line">        return queue.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void enqueue(Integer e) throws InterruptedException &#123;</span><br><span class="line">        final ReentrantLock lock = this.lock;</span><br><span class="line">        lock.lockInterruptibly();</span><br><span class="line">        try &#123;</span><br><span class="line">            while (count == queue.size())</span><br><span class="line">                notFull.await();</span><br><span class="line">            queue.addFirst(e);</span><br><span class="line">            notEmpty.signal();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int dequeue() throws InterruptedException &#123;</span><br><span class="line">        final ReentrantLock lock = this.lock;</span><br><span class="line">        lock.lockInterruptibly();</span><br><span class="line">        try &#123;</span><br><span class="line">            while (queue.size() == 0)</span><br><span class="line">                notEmpty.await();</span><br><span class="line">            Integer e = queue.removeLast();</span><br><span class="line">            notFull.signal();</span><br><span class="line">            return e;</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å®ç°ä¸€ä¸ªæ‹¥æœ‰å¦‚ä¸‹æ–¹æ³•çš„çº¿ç¨‹å®‰å…¨æœ‰é™é˜»å¡é˜Ÿåˆ—ï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Concurrency" scheme="http://yoursite.com/tags/Concurrency/"/>
    
  </entry>
  
  <entry>
    <title>1242.å¤šçº¿ç¨‹ç½‘é¡µçˆ¬è™«</title>
    <link href="http://yoursite.com/2021/03/18/1242.%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BD%91%E9%A1%B5%E7%88%AC%E8%99%AB/"/>
    <id>http://yoursite.com/2021/03/18/1242.å¤šçº¿ç¨‹ç½‘é¡µçˆ¬è™«/</id>
    <published>2021-03-18T06:52:12.000Z</published>
    <updated>2021-03-19T08:26:46.154Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªåˆå§‹åœ°å€ startUrl å’Œä¸€ä¸ª HTML è§£æå™¨æ¥å£ HtmlParserï¼Œè¯·ä½ å®ç°ä¸€ä¸ª å¤šçº¿ç¨‹çš„ç½‘é¡µçˆ¬è™«ï¼Œç”¨äºè·å–ä¸ startUrl æœ‰ ç›¸åŒä¸»æœºå çš„æ‰€æœ‰é“¾æ¥ã€‚ </p><p>ä»¥ ä»»æ„ é¡ºåºè¿”å›çˆ¬è™«è·å–çš„è·¯å¾„ã€‚</p><p>çˆ¬è™«åº”è¯¥éµå¾ªï¼š</p><p>ä» startUrl å¼€å§‹<br>è°ƒç”¨ HtmlParser.getUrls(url) ä»æŒ‡å®šç½‘é¡µè·¯å¾„è·å¾—çš„æ‰€æœ‰è·¯å¾„ã€‚<br>ä¸è¦æŠ“å–ç›¸åŒçš„é“¾æ¥ä¸¤æ¬¡ã€‚<br>ä»…æµè§ˆä¸ startUrl ç›¸åŒä¸»æœºå çš„é“¾æ¥ã€‚</p><a id="more"></a><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸»æœºåæ˜¯ example.org ã€‚ç®€å•èµ·è§ï¼Œä½ å¯ä»¥å‡è®¾æ‰€æœ‰é“¾æ¥éƒ½é‡‡ç”¨ http åè®®ï¼Œå¹¶ä¸”æ²¡æœ‰æŒ‡å®š ç«¯å£å·ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œé“¾æ¥ <a href="http://leetcode.com/problems" target="_blank" rel="noopener">http://leetcode.com/problems</a> å’Œé“¾æ¥ <a href="http://leetcode.com/contest" target="_blank" rel="noopener">http://leetcode.com/contest</a> å±äºåŒä¸€ä¸ª ä¸»æœºåï¼Œ è€Œ <a href="http://example.org/test" target="_blank" rel="noopener">http://example.org/test</a> ä¸ <a href="http://example.com/abc" target="_blank" rel="noopener">http://example.com/abc</a> å¹¶ä¸å±äºåŒä¸€ä¸ª ä¸»æœºåã€‚</p><p>HtmlParser çš„æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š</p><pre><code>interface HtmlParser {  // Return a list of all urls from a webpage of given url.  // This is a blocking call, that means it will do HTTP request and return when this request is finished.  public List&lt;String&gt; getUrls(String url);}</code></pre><p>æ³¨æ„ä¸€ç‚¹ï¼ŒgetUrls(String url) æ¨¡æ‹Ÿæ‰§è¡Œä¸€ä¸ªHTTPçš„è¯·æ±‚ã€‚ ä½ å¯ä»¥å°†å®ƒå½“åšä¸€ä¸ªé˜»å¡å¼çš„æ–¹æ³•ï¼Œç›´åˆ°è¯·æ±‚ç»“æŸã€‚ getUrls(String url) ä¿è¯ä¼šåœ¨ 15ms å†…è¿”å›æ‰€æœ‰çš„è·¯å¾„ã€‚ å•çº¿ç¨‹çš„æ–¹æ¡ˆä¼šè¶…è¿‡æ—¶é—´é™åˆ¶ï¼Œä½ èƒ½ç”¨å¤šçº¿ç¨‹æ–¹æ¡ˆåšçš„æ›´å¥½å—ï¼Ÿ</p><p>å¯¹äºé—®é¢˜æ‰€éœ€çš„åŠŸèƒ½ï¼Œä¸‹é¢æä¾›äº†ä¸¤ä¸ªä¾‹å­ã€‚ä¸ºäº†æ–¹ä¾¿è‡ªå®šä¹‰æµ‹è¯•ï¼Œä½ å¯ä»¥å£°æ˜ä¸‰ä¸ªå˜é‡ urlsï¼Œedges å’Œ startUrlã€‚ä½†è¦æ³¨æ„ä½ åªèƒ½åœ¨ä»£ç ä¸­è®¿é—® startUrlï¼Œå¹¶ä¸èƒ½ç›´æ¥è®¿é—® urls å’Œ edgesã€‚</p><p>æ‹“å±•é—®é¢˜ï¼š</p><p>å‡è®¾æˆ‘ä»¬è¦è¦æŠ“å– 10000 ä¸ªèŠ‚ç‚¹å’Œ 10 äº¿ä¸ªè·¯å¾„ã€‚å¹¶ä¸”åœ¨æ¯ä¸ªèŠ‚ç‚¹éƒ¨ç½²ç›¸åŒçš„çš„è½¯ä»¶ã€‚è½¯ä»¶å¯ä»¥å‘ç°æ‰€æœ‰çš„èŠ‚ç‚¹ã€‚æˆ‘ä»¬å¿…é¡»å°½å¯èƒ½å‡å°‘æœºå™¨ä¹‹é—´çš„é€šè®¯ï¼Œå¹¶ç¡®ä¿æ¯ä¸ªèŠ‚ç‚¹è´Ÿè½½å‡è¡¡ã€‚ä½ å°†å¦‚ä½•è®¾è®¡è¿™ä¸ªç½‘é¡µçˆ¬è™«ï¼Ÿ<br>å¦‚æœæœ‰ä¸€ä¸ªèŠ‚ç‚¹å‘ç”Ÿæ•…éšœä¸å·¥ä½œè¯¥æ€ä¹ˆåŠï¼Ÿ<br>å¦‚ä½•ç¡®è®¤çˆ¬è™«ä»»åŠ¡å·²ç»å®Œæˆï¼Ÿ</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šurls = [  &quot;http://news.yahoo.com&quot;,  &quot;http://news.yahoo.com/news&quot;,  &quot;http://news.yahoo.com/news/topics/&quot;,  &quot;http://news.google.com&quot;,  &quot;http://news.yahoo.com/us&quot;]edges = [[2,0],[2,1],[3,2],[3,1],[0,4]]startUrl = &quot;http://news.yahoo.com/news/topics/&quot;è¾“å‡ºï¼š[  &quot;http://news.yahoo.com&quot;,  &quot;http://news.yahoo.com/news&quot;,  &quot;http://news.yahoo.com/news/topics/&quot;,  &quot;http://news.yahoo.com/us&quot;]</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šurls = [  &quot;http://news.yahoo.com&quot;,  &quot;http://news.yahoo.com/news&quot;,  &quot;http://news.yahoo.com/news/topics/&quot;,  &quot;http://news.google.com&quot;]edges = [[0,2],[2,1],[3,2],[3,1],[3,0]]startUrl = &quot;http://news.google.com&quot;è¾“å‡ºï¼š[&quot;http://news.google.com&quot;]è§£é‡Šï¼šstartUrl é“¾æ¥ä¸å…¶ä»–é¡µé¢ä¸å…±äº«ä¸€ä¸ªä¸»æœºåã€‚</code></pre><p>æç¤ºï¼š</p><p>1 &lt;= urls.length &lt;= 1000<br>1 &lt;= urls[i].length &lt;= 300</p><p>startUrl æ˜¯ urls ä¸­çš„ä¸€ä¸ªã€‚<br>ä¸»æœºåçš„é•¿åº¦å¿…é¡»ä¸º 1 åˆ° 63 ä¸ªå­—ç¬¦ï¼ˆåŒ…æ‹¬ç‚¹ . åœ¨å†…ï¼‰ï¼Œåªèƒ½åŒ…å«ä» â€œaâ€ åˆ° â€œzâ€ çš„ ASCII å­—æ¯å’Œ â€œ0â€ åˆ° â€œ9â€ çš„æ•°å­—ï¼Œä»¥åŠä¸­åˆ’çº¿ â€œ-â€ã€‚<br>ä¸»æœºåå¼€å¤´å’Œç»“å°¾ä¸èƒ½æ˜¯ä¸­åˆ’çº¿ â€œ-â€ã€‚</p><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_hostnames" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_hostnames</a><br>ä½ å¯ä»¥å‡è®¾è·¯å¾„éƒ½æ˜¯ä¸é‡å¤çš„ã€‚</p><details><summary>ç¤ºä¾‹</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * // This is the HtmlParser&apos;s API interface.</span><br><span class="line"> * // You should not implement it, or speculate about its implementation</span><br><span class="line"> * interface HtmlParser &#123;</span><br><span class="line"> *     public List&lt;String&gt; getUrls(String url) &#123;&#125;</span><br><span class="line"> * &#125;</span><br><span class="line"> */</span><br><span class="line">class Solution &#123;</span><br><span class="line">    public List&lt;String&gt; crawl(String startUrl, HtmlParser htmlParser) &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details><summary>è§£æ³•</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    private final Set&lt;String&gt; set = Collections.newSetFromMap(new ConcurrentHashMap&lt;String, Boolean&gt;());</span><br><span class="line">    private final List&lt;String&gt; result = Collections.synchronizedList(new ArrayList&lt;String&gt;());</span><br><span class="line">    private String HOSTNAME = null;</span><br><span class="line"></span><br><span class="line">    public boolean judgeHostname(String url) &#123;</span><br><span class="line">        int idx = url.indexOf(&apos;/&apos;, 7);</span><br><span class="line">        String hostName = (idx != -1) ? url.substring(0, idx) : url;</span><br><span class="line">        return hostName.equals(HOSTNAME);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void initHostName(String url) &#123;</span><br><span class="line">        int idx = url.indexOf(&apos;/&apos;, 7);</span><br><span class="line">        HOSTNAME = (idx != -1) ? url.substring(0, idx) : url;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void getUrl(String startUrl, HtmlParser htmlParser) &#123;</span><br><span class="line">        result.add(startUrl);</span><br><span class="line">        List&lt;String&gt; res = htmlParser.getUrls(startUrl);</span><br><span class="line">        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();</span><br><span class="line">        for (String url : res) &#123;</span><br><span class="line">            if (judgeHostname(url) &amp;&amp; !set.contains(url)) &#123;</span><br><span class="line">                set.add(url);</span><br><span class="line">                threads.add(new Thread(() -&gt; &#123;</span><br><span class="line">                    getUrl(url, htmlParser);</span><br><span class="line">                &#125;));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        for (Thread thread : threads) &#123;</span><br><span class="line">            thread.start();</span><br><span class="line">        &#125;</span><br><span class="line">        try &#123;</span><br><span class="line">            for (Thread thread : threads) &#123;</span><br><span class="line">                thread.join();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public List&lt;String&gt; crawl(String startUrl, HtmlParser htmlParser) &#123;</span><br><span class="line">        initHostName(startUrl);</span><br><span class="line">        set.add(startUrl);</span><br><span class="line">        getUrl(startUrl, htmlParser);</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="Thread-join-è¯¦è§£"><a href="#Thread-join-è¯¦è§£" class="headerlink" title="Thread.join()è¯¦è§£"></a>Thread.join()è¯¦è§£</h2><p>ä¸Šé¢çš„ä»£ç é‡Œç”¨åˆ°äº†joinæ–¹æ³•ï¼Œjoinæ˜¯Threadç±»çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå¯åŠ¨çº¿ç¨‹åç›´æ¥è°ƒç”¨ã€‚</p><h3 id="ä¸ºä»€ä¹ˆè¦ç”¨join-æ–¹æ³•"><a href="#ä¸ºä»€ä¹ˆè¦ç”¨join-æ–¹æ³•" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç”¨join()æ–¹æ³•"></a>ä¸ºä»€ä¹ˆè¦ç”¨join()æ–¹æ³•</h3><p>åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä¸»çº¿ç¨‹ç”Ÿæˆå¹¶èµ·åŠ¨äº†å­çº¿ç¨‹ï¼Œå¦‚æœå­çº¿ç¨‹é‡Œè¦è¿›è¡Œå¤§é‡çš„è€—æ—¶çš„è¿ç®—ï¼Œä¸»çº¿ç¨‹å¾€å¾€å°†äºå­çº¿ç¨‹ä¹‹å‰ç»“æŸï¼Œä½†æ˜¯å¦‚æœä¸»çº¿ç¨‹å¤„ç†å®Œå…¶ä»–çš„äº‹åŠ¡åï¼Œéœ€è¦ç”¨åˆ°å­çº¿ç¨‹çš„å¤„ç†ç»“æœï¼Œä¹Ÿå°±æ˜¯ä¸»çº¿ç¨‹éœ€è¦ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œæˆä¹‹åå†ç»“æŸï¼Œè¿™ä¸ªæ—¶å€™å°±è¦ç”¨åˆ°join()æ–¹æ³•äº†ã€‚</p><h3 id="joinæ–¹æ³•çš„ä½œç”¨"><a href="#joinæ–¹æ³•çš„ä½œç”¨" class="headerlink" title="joinæ–¹æ³•çš„ä½œç”¨"></a>joinæ–¹æ³•çš„ä½œç”¨</h3><p>åœ¨JDkçš„APIé‡Œå¯¹äºjoin()æ–¹æ³•æ˜¯ï¼š</p><pre><code>joinpublic final void join() throws InterruptedException Waits for this thread to die. Throws: InterruptedException  - if any thread has interrupted the current thread. The interrupted status of the current thread is cleared when this exception is thrown.</code></pre><p>å³join()çš„ä½œç”¨æ˜¯ï¼šâ€œç­‰å¾…è¯¥çº¿ç¨‹ç»ˆæ­¢â€ï¼Œè¿™é‡Œéœ€è¦ç†è§£çš„å°±æ˜¯è¯¥çº¿ç¨‹æ˜¯æŒ‡çš„ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹çš„ç»ˆæ­¢ã€‚ä¹Ÿå°±æ˜¯åœ¨å­çº¿ç¨‹è°ƒç”¨äº†join()æ–¹æ³•åé¢çš„ä»£ç ï¼Œåªæœ‰ç­‰åˆ°å­çº¿ç¨‹ç»“æŸäº†æ‰èƒ½æ‰§è¡Œã€‚</p><details>    <summary>joinæ–¹æ³•ç¤ºä¾‹</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">class BThread extends Thread &#123;</span><br><span class="line">    public BThread() &#123;</span><br><span class="line">        super(&quot;[BThread] Thread&quot;);</span><br><span class="line">    &#125;;</span><br><span class="line">    public void run() &#123;</span><br><span class="line">        String threadName = Thread.currentThread().getName();</span><br><span class="line">        System.out.println(threadName + &quot; start.&quot;);</span><br><span class="line">        try &#123;</span><br><span class="line">            for (int i = 0; i &lt; 5; i++) &#123;</span><br><span class="line">                System.out.println(threadName + &quot; loop at &quot; + i);</span><br><span class="line">                Thread.sleep(1000);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(threadName + &quot; end.&quot;);</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            System.out.println(&quot;Exception from &quot; + threadName + &quot;.run&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class AThread extends Thread &#123;</span><br><span class="line">    BThread bt;</span><br><span class="line">    public AThread(BThread bt) &#123;</span><br><span class="line">        super(&quot;[AThread] Thread&quot;);</span><br><span class="line">        this.bt = bt;</span><br><span class="line">    &#125;</span><br><span class="line">    public void run() &#123;</span><br><span class="line">        String threadName = Thread.currentThread().getName();</span><br><span class="line">        System.out.println(threadName + &quot; start.&quot;);</span><br><span class="line">        try &#123;</span><br><span class="line">            bt.join();</span><br><span class="line">            System.out.println(threadName + &quot; end.&quot;);</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            System.out.println(&quot;Exception from &quot; + threadName + &quot;.run&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">public class TestDemo &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        String threadName = Thread.currentThread().getName();</span><br><span class="line">        System.out.println(threadName + &quot; start.&quot;);</span><br><span class="line">        BThread bt = new BThread();</span><br><span class="line">        AThread at = new AThread(bt);</span><br><span class="line">        try &#123;</span><br><span class="line">            bt.start();</span><br><span class="line">            Thread.sleep(2000);</span><br><span class="line">            at.start();</span><br><span class="line">            at.join();</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            System.out.println(&quot;Exception from main&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(threadName + &quot; end!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">main start.    //ä¸»çº¿ç¨‹èµ·åŠ¨ï¼Œå› ä¸ºè°ƒç”¨äº†at.join()ï¼Œè¦ç­‰åˆ°atç»“æŸäº†ï¼Œæ­¤çº¿ç¨‹æ‰èƒ½å‘ä¸‹æ‰§è¡Œã€‚ </span><br><span class="line">[BThread] Thread start. </span><br><span class="line">[BThread] Thread loop at 0 </span><br><span class="line">[BThread] Thread loop at 1 </span><br><span class="line">[AThread] Thread start.    //çº¿ç¨‹atå¯åŠ¨ï¼Œå› ä¸ºè°ƒç”¨bt.join()ï¼Œç­‰åˆ°btç»“æŸäº†æ‰å‘ä¸‹æ‰§è¡Œã€‚ </span><br><span class="line">[BThread] Thread loop at 2 </span><br><span class="line">[BThread] Thread loop at 3 </span><br><span class="line">[BThread] Thread loop at 4 </span><br><span class="line">[BThread] Thread end. </span><br><span class="line">[AThread] Thread end.    // çº¿ç¨‹AThreadåœ¨bt.join();é˜»å¡å¤„èµ·åŠ¨ï¼Œå‘ä¸‹ç»§ç»­æ‰§è¡Œçš„ç»“æœ </span><br><span class="line">main end!      //çº¿ç¨‹AThreadç»“æŸï¼Œæ­¤çº¿ç¨‹åœ¨at.join();é˜»å¡å¤„èµ·åŠ¨ï¼Œå‘ä¸‹ç»§ç»­æ‰§è¡Œçš„ç»“æœã€‚</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸€ä¸‹ä»£ç :</p><details>    <summary>joinæ–¹æ³•ç¤ºä¾‹</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public class TestDemo &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        String threadName = Thread.currentThread().getName();</span><br><span class="line">        System.out.println(threadName + &quot; start.&quot;);</span><br><span class="line">        BThread bt = new BThread();</span><br><span class="line">        AThread at = new AThread(bt);</span><br><span class="line">        try &#123;</span><br><span class="line">            bt.start();</span><br><span class="line">            Thread.sleep(2000);</span><br><span class="line">            at.start();</span><br><span class="line">            //at.join(); //åœ¨æ­¤å¤„æ³¨é‡Šæ‰å¯¹join()çš„è°ƒç”¨</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            System.out.println(&quot;Exception from main&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(threadName + &quot; end!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">main start.    // ä¸»çº¿ç¨‹èµ·åŠ¨ï¼Œå› ä¸ºThread.sleep(2000)ï¼Œä¸»çº¿ç¨‹æ²¡æœ‰é©¬ä¸Šç»“æŸ;</span><br><span class="line"></span><br><span class="line">[BThread] Thread start.    //çº¿ç¨‹BThreadèµ·åŠ¨</span><br><span class="line">[BThread] Thread loop at 0</span><br><span class="line">[BThread] Thread loop at 1</span><br><span class="line">main end!   // åœ¨sleepä¸¤ç§’åä¸»çº¿ç¨‹ç»“æŸï¼ŒAThreadæ‰§è¡Œçš„bt.join();å¹¶ä¸ä¼šå½±å“åˆ°ä¸»çº¿ç¨‹ã€‚</span><br><span class="line">[AThread] Thread start.    //çº¿ç¨‹atèµ·åŠ¨ï¼Œå› ä¸ºè°ƒç”¨äº†bt.join()ï¼Œç­‰åˆ°btç»“æŸäº†ï¼Œæ­¤çº¿ç¨‹æ‰å‘ä¸‹æ‰§è¡Œã€‚</span><br><span class="line">[BThread] Thread loop at 2</span><br><span class="line">[BThread] Thread loop at 3</span><br><span class="line">[BThread] Thread loop at 4</span><br><span class="line">[BThread] Thread end.    //çº¿ç¨‹BThreadç»“æŸäº†</span><br><span class="line">[AThread] Thread end.    // çº¿ç¨‹AThreadåœ¨bt.join();é˜»å¡å¤„èµ·åŠ¨ï¼Œå‘ä¸‹ç»§ç»­æ‰§è¡Œçš„ç»“æœ</span><br></pre></td></tr></table></figure><h3 id="ä»æºç çœ‹join-æ–¹æ³•"><a href="#ä»æºç çœ‹join-æ–¹æ³•" class="headerlink" title="ä»æºç çœ‹join()æ–¹æ³•"></a>ä»æºç çœ‹join()æ–¹æ³•</h3><details>    <summary>ä»æºç çœ‹join()æ–¹æ³•</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">     * Waits at most &#123;@code millis&#125; milliseconds for this thread to</span><br><span class="line">     * die. A timeout of &#123;@code 0&#125; means to wait forever.</span><br><span class="line">     *</span><br><span class="line">     * &lt;p&gt; This implementation uses a loop of &#123;@code this.wait&#125; calls</span><br><span class="line">     * conditioned on &#123;@code this.isAlive&#125;. As a thread terminates the</span><br><span class="line">     * &#123;@code this.notifyAll&#125; method is invoked. It is recommended that</span><br><span class="line">     * applications not use &#123;@code wait&#125;, &#123;@code notify&#125;, or</span><br><span class="line">     * &#123;@code notifyAll&#125; on &#123;@code Thread&#125; instances.</span><br><span class="line">     *</span><br><span class="line">     * @param  millis</span><br><span class="line">     *         the time to wait in milliseconds</span><br><span class="line">     *</span><br><span class="line">     * @throws  IllegalArgumentException</span><br><span class="line">     *          if the value of &#123;@code millis&#125; is negative</span><br><span class="line">     *</span><br><span class="line">     * @throws  InterruptedException</span><br><span class="line">     *          if any thread has interrupted the current thread. The</span><br><span class="line">     *          &lt;i&gt;interrupted status&lt;/i&gt; of the current thread is</span><br><span class="line">     *          cleared when this exception is thrown.</span><br><span class="line">     */</span><br><span class="line">    public final synchronized void join(long millis)</span><br><span class="line">    throws InterruptedException &#123;</span><br><span class="line">        long base = System.currentTimeMillis();</span><br><span class="line">        long now = 0;</span><br><span class="line"></span><br><span class="line">        if (millis &lt; 0) &#123;</span><br><span class="line">            throw new IllegalArgumentException(&quot;timeout value is negative&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (millis == 0) &#123;</span><br><span class="line">            while (isAlive()) &#123;</span><br><span class="line">                wait(0);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            while (isAlive()) &#123;</span><br><span class="line">                long delay = millis - now;</span><br><span class="line">                if (delay &lt;= 0) &#123;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">                wait(delay);</span><br><span class="line">                now = System.currentTimeMillis() - base;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></details><p>å•çº¯ä»ä»£ç ä¸Šçœ‹ï¼š * å¦‚æœçº¿ç¨‹è¢«ç”Ÿæˆäº†ï¼Œä½†è¿˜æœªè¢«èµ·åŠ¨ï¼ŒisAlive()å°†è¿”å›falseï¼Œè°ƒç”¨å®ƒçš„join()æ–¹æ³•æ˜¯æ²¡æœ‰ä½œç”¨çš„ã€‚å°†ç›´æ¥ç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚ * åœ¨AThreadç±»ä¸­çš„runæ–¹æ³•ä¸­ï¼Œbt.join()æ˜¯åˆ¤æ–­btçš„activeçŠ¶æ€ï¼Œå¦‚æœbtçš„isActive()æ–¹æ³•è¿”å›falseï¼Œåœ¨bt.join(),è¿™ä¸€ç‚¹å°±ä¸ç”¨é˜»å¡äº†ï¼Œå¯ä»¥ç»§ç»­å‘ä¸‹è¿›è¡Œäº†ã€‚ä»æºç é‡Œçœ‹ï¼Œwaitæ–¹æ³•ä¸­æœ‰å‚æ•°ï¼Œä¹Ÿå°±æ˜¯ä¸ç”¨å”¤é†’è°ï¼Œåªæ˜¯ä¸å†æ‰§è¡Œwaitï¼Œå‘ä¸‹ç»§ç»­æ‰§è¡Œè€Œå·²ã€‚ * åœ¨join()æ–¹æ³•ä¸­ï¼Œå¯¹äºisAlive()å’Œwait()æ–¹æ³•çš„ä½œç”¨å¯¹è±¡æ˜¯ä¸ªæ¯”è¾ƒè®©äººå›°æƒ‘çš„é—®é¢˜ï¼š</p><p>isAlive()æ–¹æ³•çš„ç­¾åæ˜¯ï¼špublic final native boolean isAlive()ï¼Œä¹Ÿå°±æ˜¯è¯´isAlive()æ˜¯åˆ¤æ–­å½“å‰çº¿ç¨‹çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯btçš„çŠ¶æ€ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ªåˆå§‹åœ°å€ startUrl å’Œä¸€ä¸ª HTML è§£æå™¨æ¥å£ HtmlParserï¼Œè¯·ä½ å®ç°ä¸€ä¸ª å¤šçº¿ç¨‹çš„ç½‘é¡µçˆ¬è™«ï¼Œç”¨äºè·å–ä¸ startUrl æœ‰ ç›¸åŒä¸»æœºå çš„æ‰€æœ‰é“¾æ¥ã€‚ &lt;/p&gt;
&lt;p&gt;ä»¥ ä»»æ„ é¡ºåºè¿”å›çˆ¬è™«è·å–çš„è·¯å¾„ã€‚&lt;/p&gt;
&lt;p&gt;çˆ¬è™«åº”è¯¥éµå¾ªï¼š&lt;/p&gt;
&lt;p&gt;ä» startUrl å¼€å§‹&lt;br&gt;è°ƒç”¨ HtmlParser.getUrls(url) ä»æŒ‡å®šç½‘é¡µè·¯å¾„è·å¾—çš„æ‰€æœ‰è·¯å¾„ã€‚&lt;br&gt;ä¸è¦æŠ“å–ç›¸åŒçš„é“¾æ¥ä¸¤æ¬¡ã€‚&lt;br&gt;ä»…æµè§ˆä¸ startUrl ç›¸åŒä¸»æœºå çš„é“¾æ¥ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Concurrency" scheme="http://yoursite.com/tags/Concurrency/"/>
    
  </entry>
  
  <entry>
    <title>1279. çº¢ç»¿ç¯è·¯å£</title>
    <link href="http://yoursite.com/2021/03/17/1279.%20%E7%BA%A2%E7%BB%BF%E7%81%AF%E8%B7%AF%E5%8F%A3/"/>
    <id>http://yoursite.com/2021/03/17/1279. çº¢ç»¿ç¯è·¯å£/</id>
    <published>2021-03-17T08:52:12.000Z</published>
    <updated>2021-03-19T01:55:59.435Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™è¿™ä¸ªè·¯å£è®¾è®¡ä¸€ä¸ªæ²¡æœ‰æ­»é”çš„çº¢ç»¿ç¯æ§åˆ¶ç³»ç»Ÿã€‚</p><a id="more"></a><p>è¿™æ˜¯ä¸¤æ¡è·¯çš„äº¤å‰è·¯å£ã€‚ç¬¬ä¸€æ¡è·¯æ˜¯ A è·¯ï¼Œè½¦è¾†å¯æ²¿ 1 å·æ–¹å‘ç”±åŒ—å‘å—è¡Œé©¶ï¼Œä¹Ÿå¯æ²¿ 2 å·æ–¹å‘ç”±å—å‘åŒ—è¡Œé©¶ã€‚ç¬¬äºŒæ¡è·¯æ˜¯ B è·¯ï¼Œè½¦è¾†å¯æ²¿ 3 å·æ–¹å‘ç”±è¥¿å‘ä¸œè¡Œé©¶ï¼Œä¹Ÿå¯æ²¿ 4 å·æ–¹å‘ç”±ä¸œå‘è¥¿è¡Œé©¶ã€‚</p><p>æ¯æ¡è·¯åœ¨è·¯å£å‰éƒ½æœ‰ä¸€ä¸ªçº¢ç»¿ç¯ã€‚çº¢ç»¿ç¯å¯ä»¥äº®èµ·çº¢ç¯æˆ–ç»¿ç¯ã€‚</p><p>ç»¿ç¯è¡¨ç¤ºä¸¤ä¸ªæ–¹å‘çš„è½¦è¾†éƒ½å¯é€šè¿‡è·¯å£ã€‚<br>çº¢ç¯è¡¨ç¤ºä¸¤ä¸ªæ–¹å‘çš„è½¦è¾†éƒ½ä¸å¯ä»¥é€šè¿‡è·¯å£ï¼Œå¿…é¡»ç­‰å¾…ç»¿ç¯äº®èµ·ã€‚<br>ä¸¤æ¡è·¯ä¸Šçš„çº¢ç»¿ç¯ä¸å¯ä»¥åŒæ—¶ä¸ºç»¿ç¯ã€‚è¿™æ„å‘³ç€ï¼Œå½“ A è·¯ä¸Šçš„ç»¿ç¯äº®èµ·æ—¶ï¼ŒB è·¯ä¸Šçš„çº¢ç¯ä¼šäº®èµ·ï¼›å½“ B è·¯ä¸Šçš„ç»¿ç¯äº®èµ·æ—¶ï¼ŒA è·¯ä¸Šçš„çº¢ç¯ä¼šäº®èµ·.</p><p>å¼€å§‹æ—¶ï¼ŒA è·¯ä¸Šçš„ç»¿ç¯äº®èµ·ï¼ŒB è·¯ä¸Šçš„çº¢ç¯äº®èµ·ã€‚å½“ä¸€æ¡è·¯ä¸Šçš„ç»¿ç¯äº®èµ·æ—¶ï¼Œæ‰€æœ‰è½¦è¾†éƒ½å¯ä»¥ä»ä»»æ„ä¸¤ä¸ªæ–¹å‘é€šè¿‡è·¯å£ï¼Œç›´åˆ°å¦ä¸€æ¡è·¯ä¸Šçš„ç»¿ç¯äº®èµ·ã€‚ä¸åŒè·¯ä¸Šçš„è½¦è¾†ä¸å¯ä»¥åŒæ—¶é€šè¿‡è·¯å£ã€‚</p><p>ç»™è¿™ä¸ªè·¯å£è®¾è®¡ä¸€ä¸ªæ²¡æœ‰æ­»é”çš„çº¢ç»¿ç¯æ§åˆ¶ç³»ç»Ÿã€‚</p><p>å®ç°å‡½æ•° void carArrived(carId, roadId, direction, turnGreen, crossCar) :</p><ul><li>carId ä¸ºåˆ°è¾¾è½¦è¾†çš„ç¼–å·ã€‚</li><li>roadId ä¸ºè½¦è¾†æ‰€åœ¨é“è·¯çš„ç¼–å·ã€‚</li><li>direction ä¸ºè½¦è¾†çš„è¡Œè¿›æ–¹å‘ã€‚</li><li>turnGreen æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨æ­¤å‡½æ•°ä¼šä½¿å½“å‰é“è·¯ä¸Šçš„ç»¿ç¯äº®èµ·ã€‚</li><li>crossCar æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨æ­¤å‡½æ•°ä¼šå…è®¸è½¦è¾†é€šè¿‡è·¯å£ã€‚</li></ul><p>å½“ä½ çš„ç­”æ¡ˆé¿å…äº†è½¦è¾†åœ¨è·¯å£å‡ºç°æ­»é”ï¼Œæ­¤ç­”æ¡ˆä¼šè¢«è®¤å®šä¸ºæ­£ç¡®çš„ã€‚å½“è·¯å£å·²ç»äº®èµ·ç»¿ç¯æ—¶ä»æ‰“å¼€ç»¿ç¯ï¼Œæ­¤ç­”æ¡ˆä¼šè¢«è®¤å®šä¸ºé”™è¯¯çš„ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: cars = [1,3,5,2,4], directions = [2,1,2,4,3], arrivalTimes = [10,20,30,40,50]è¾“å‡º: [&quot;Car 1 Has Passed Road A In Direction 2&quot;,    // A è·¯ä¸Šçš„çº¢ç»¿ç¯ä¸ºç»¿è‰²ï¼Œ1 å·è½¦å¯é€šè¿‡è·¯å£ã€‚&quot;Car 3 Has Passed Road A In Direction 1&quot;,    // çº¢ç»¿ç¯ä»ä¸ºç»¿è‰²ï¼Œ3 å·è½¦é€šè¿‡è·¯å£ã€‚&quot;Car 5 Has Passed Road A In Direction 2&quot;,    // çº¢ç»¿ç¯ä»ä¸ºç»¿è‰²ï¼Œ5 å·è½¦é€šè¿‡è·¯å£ã€‚&quot;Traffic Light On Road B Is Green&quot;,          // 2 å·è½¦åœ¨ B è·¯è¯·æ±‚ç»¿ç¯ã€‚&quot;Car 2 Has Passed Road B In Direction 4&quot;,    // B è·¯ä¸Šçš„ç»¿ç¯ç°å·²äº®èµ·ï¼Œ2 å·è½¦é€šè¿‡è·¯å£ã€‚&quot;Car 4 Has Passed Road B In Direction 3&quot;     // çº¢ç»¿ç¯ä»ä¸ºç»¿è‰²ï¼Œ4 å·è½¦é€šè¿‡è·¯å£ã€‚]</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: cars = [1,2,3,4,5], directions = [2,4,3,3,1], arrivalTimes = [10,20,30,40,40]è¾“å‡º: [&quot;Car 1 Has Passed Road A In Direction 2&quot;,    // A è·¯ä¸Šçš„çº¢ç»¿ç¯ä¸ºç»¿è‰²ï¼Œ1 å·è½¦å¯é€šè¿‡è·¯å£ã€‚&quot;Traffic Light On Road B Is Green&quot;,          // 2 å·è½¦åœ¨ B è·¯è¯·æ±‚ç»¿ç¯ã€‚&quot;Car 2 Has Passed Road B In Direction 4&quot;,    // B è·¯ä¸Šçš„ç»¿ç¯ç°å·²äº®èµ·ï¼Œ2 å·è½¦é€šè¿‡è·¯å£ã€‚&quot;Car 3 Has Passed Road B In Direction 3&quot;,    // B è·¯ä¸Šçš„ç»¿ç¯ç°å·²äº®èµ·ï¼Œ3 å·è½¦é€šè¿‡è·¯å£ã€‚&quot;Traffic Light On Road A Is Green&quot;,          // 5 å·è½¦åœ¨ A è·¯è¯·æ±‚ç»¿ç¯ã€‚&quot;Car 5 Has Passed Road A In Direction 1&quot;,    // A è·¯ä¸Šçš„ç»¿ç¯ç°å·²äº®èµ·ï¼Œ5 å·è½¦é€šè¿‡è·¯å£ã€‚&quot;Traffic Light On Road B Is Green&quot;,          // 4 å·è½¦åœ¨ B è·¯è¯·æ±‚ç»¿ç¯ã€‚4 å·è½¦åœ¨è·¯å£ç­‰ç¯ï¼Œç›´åˆ° 5 å·è½¦é€šè¿‡è·¯å£ï¼ŒB è·¯çš„ç»¿ç¯äº®èµ·ã€‚&quot;Car 4 Has Passed Road B In Direction 3&quot;     // B è·¯ä¸Šçš„ç»¿ç¯ç°å·²äº®èµ·ï¼Œ4 å·è½¦é€šè¿‡è·¯å£ã€‚]è§£é‡Š: è¿™æ˜¯ä¸€ä¸ªæ— æ­»é”çš„æ–¹æ¡ˆã€‚æ³¨æ„ï¼Œåœ¨ A è·¯ä¸Šçš„ç»¿ç¯äº®èµ·ã€5 å·è½¦é€šè¿‡å‰è®© 4 å·è½¦é€šè¿‡ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ­£ç¡®ä¸”å¯è¢«æ¥å—çš„æ–¹æ¡ˆã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= cars.length &lt;= 20cars.length = directions.lengthcars.length = arrivalTimes.lengthcars ä¸­çš„æ‰€æœ‰å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚1 &lt;= directions[i] &lt;= 4arrivalTimes æ˜¯éé€’å‡çš„ã€‚</code></pre><details><summary>é¢˜ç›®è¦æ±‚</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class TrafficLight &#123;</span><br><span class="line"></span><br><span class="line">    public TrafficLight() &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public void carArrived(</span><br><span class="line">        int carId,           // ID of the car</span><br><span class="line">        int roadId,          // ID of the road the car travels on. Can be 1 (road A) or 2 (road B)</span><br><span class="line">        int direction,       // Direction of the car</span><br><span class="line">        Runnable turnGreen,  // Use turnGreen.run() to turn light to green on current road</span><br><span class="line">        Runnable crossCar    // Use crossCar.run() to make car cross the intersection </span><br><span class="line">    ) &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><p>è¿™ä¸ªé¢˜è§£è¯´å®åœ¨æ²¡å¤ªç†è§£ï¼Œè¿™é¢˜åˆæ˜¯é“æ”¶è´¹é¢˜ç›®ï¼Œä¸‹é¢é“é¢˜è§£æ˜¯å¦èƒ½è·‘é€šæœ‰å¾…éªŒè¯ã€‚</p><details><summary>é¢˜è§£</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">class TrafficLight &#123;</span><br><span class="line">    public TrafficLight() &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    boolean lightA = true;</span><br><span class="line">    public void carArrived(</span><br><span class="line">        int carId,           // ID of the car</span><br><span class="line">        int roadId,          // ID of the road the car travels on. Can be 1 (road A) or 2 (road B)</span><br><span class="line">        int direction,       // Direction of the car</span><br><span class="line">        Runnable turnGreen,  // Use turnGreen.run() to turn light to green on current road</span><br><span class="line">        Runnable crossCar    // Use crossCar.run() to make car cross the intersection </span><br><span class="line">    ) &#123;</span><br><span class="line">        synchronized (this) </span><br><span class="line">        &#123;</span><br><span class="line">            if( roadId == 1) </span><br><span class="line">            &#123;</span><br><span class="line">                if( !lightA) &#123;</span><br><span class="line">                    turnGreen.run();</span><br><span class="line">                    lightA = true;</span><br><span class="line">                &#125;</span><br><span class="line">                crossCar.run();</span><br><span class="line">            &#125;</span><br><span class="line">            else </span><br><span class="line">            &#123;</span><br><span class="line">                if( lightA) &#123;</span><br><span class="line">                    turnGreen.run();</span><br><span class="line">                    lightA = false;</span><br><span class="line">                &#125;</span><br><span class="line">                crossCar.run();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™è¿™ä¸ªè·¯å£è®¾è®¡ä¸€ä¸ªæ²¡æœ‰æ­»é”çš„çº¢ç»¿ç¯æ§åˆ¶ç³»ç»Ÿã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Concurrency" scheme="http://yoursite.com/tags/Concurrency/"/>
    
  </entry>
  
  <entry>
    <title>953. éªŒè¯å¤–æ˜Ÿè¯­è¯å…¸</title>
    <link href="http://yoursite.com/2021/03/04/953.%20%E9%AA%8C%E8%AF%81%E5%A4%96%E6%98%9F%E8%AF%AD%E8%AF%8D%E5%85%B8/"/>
    <id>http://yoursite.com/2021/03/04/953. éªŒè¯å¤–æ˜Ÿè¯­è¯å…¸/</id>
    <published>2021-03-04T10:12:12.000Z</published>
    <updated>2021-03-04T10:30:25.352Z</updated>
    
    <content type="html"><![CDATA[<p>æŸç§å¤–æ˜Ÿè¯­ä¹Ÿä½¿ç”¨è‹±æ–‡å°å†™å­—æ¯ï¼Œä½†å¯èƒ½é¡ºåº order ä¸åŒã€‚å­—æ¯è¡¨çš„é¡ºåºï¼ˆorderï¼‰æ˜¯ä¸€äº›å°å†™å­—æ¯çš„æ’åˆ—ã€‚</p><p>ç»™å®šä¸€ç»„ç”¨å¤–æ˜Ÿè¯­ä¹¦å†™çš„å•è¯wordsï¼Œä»¥åŠå…¶å­—æ¯è¡¨çš„é¡ºåº orderï¼Œåªæœ‰å½“ç»™å®šçš„å•è¯åœ¨è¿™ç§å¤–æ˜Ÿè¯­ä¸­æŒ‰å­—å…¸åºæ’åˆ—æ—¶ï¼Œè¿”å› trueï¼›å¦åˆ™ï¼Œè¿”å› falseã€‚</p><a id="more"></a><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šwords = [&quot;hello&quot;,&quot;leetcode&quot;], order = &quot;hlabcdefgijkmnopqrstuvwxyz&quot;è¾“å‡ºï¼štrueè§£é‡Šï¼šåœ¨è¯¥è¯­è¨€çš„å­—æ¯è¡¨ä¸­ï¼Œ&apos;h&apos; ä½äº &apos;l&apos; ä¹‹å‰ï¼Œæ‰€ä»¥å•è¯åºåˆ—æ˜¯æŒ‰å­—å…¸åºæ’åˆ—çš„ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šwords = [&quot;word&quot;,&quot;world&quot;,&quot;row&quot;], order = &quot;worldabcefghijkmnpqstuvxyz&quot;è¾“å‡ºï¼šfalseè§£é‡Šï¼šåœ¨è¯¥è¯­è¨€çš„å­—æ¯è¡¨ä¸­ï¼Œ&apos;d&apos; ä½äº &apos;l&apos; ä¹‹åï¼Œé‚£ä¹ˆ words[0] &gt; words[1]ï¼Œå› æ­¤å•è¯åºåˆ—ä¸æ˜¯æŒ‰å­—å…¸åºæ’åˆ—çš„ã€‚</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šwords = [&quot;apple&quot;,&quot;app&quot;], order = &quot;abcdefghijklmnopqrstuvwxyz&quot;è¾“å‡ºï¼šfalseè§£é‡Šï¼šå½“å‰ä¸‰ä¸ªå­—ç¬¦ &quot;app&quot; åŒ¹é…æ—¶ï¼Œç¬¬äºŒä¸ªå­—ç¬¦ä¸²ç›¸å¯¹çŸ­ä¸€äº›ï¼Œç„¶åæ ¹æ®è¯å…¸ç¼–çº‚è§„åˆ™ &quot;apple&quot; &gt; &quot;app&quot;ï¼Œå› ä¸º &apos;l&apos; &gt; &apos;âˆ…&apos;ï¼Œå…¶ä¸­ &apos;âˆ…&apos; æ˜¯ç©ºç™½å­—ç¬¦ï¼Œå®šä¹‰ä¸ºæ¯”ä»»ä½•å…¶ä»–å­—ç¬¦éƒ½å°ï¼ˆæ›´å¤šä¿¡æ¯ï¼‰ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= words.length &lt;= 1001 &lt;= words[i].length &lt;= 20order.length == 26åœ¨ words[i] å’Œ order ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯è‹±æ–‡å°å†™å­—æ¯ã€‚</code></pre><h4 id="æ–¹æ³•ä¸€ï¼š-æ£€æŸ¥ç›¸é‚»å•è¯"><a href="#æ–¹æ³•ä¸€ï¼š-æ£€æŸ¥ç›¸é‚»å•è¯" class="headerlink" title="æ–¹æ³•ä¸€ï¼š æ£€æŸ¥ç›¸é‚»å•è¯"></a>æ–¹æ³•ä¸€ï¼š æ£€æŸ¥ç›¸é‚»å•è¯</h4><p><strong>æ€è·¯</strong></p><p>åªæœ‰æ¯å¯¹ç›¸é‚»å•è¯éƒ½æ˜¯æœ‰åºçš„ï¼Œé‚£ä¹ˆæ•´ä¸ª <code>words</code> æ‰æ˜¯æœ‰åºçš„ã€‚å› ä¸ºæœ‰åºæ€§æ˜¯å¯ä»¥ä¼ é€’çš„ï¼Œä¾‹å¦‚ï¼Œ<code>a &lt;= b</code> å’Œ <code>b &lt;= c</code> å¯ä»¥æ¨å‡º <code>a &lt;= c</code>ã€‚</p><p><strong>ç®—æ³•</strong></p><p>æ£€æŸ¥ç›¸é‚»å•è¯ <code>a</code> å’Œ <code>b</code> æ˜¯å¦æ»¡è¶³ <code>a &lt;= b</code>ã€‚</p><p>ä¸ºäº†æ£€æŸ¥ç›¸é‚»å•è¯ <code>a</code>ï¼Œ<code>b</code> æ˜¯å¦æ»¡è¶³ <code>a &lt;= b</code>ï¼Œåªéœ€è¦æ£€æŸ¥å®ƒä»¬ç¬¬ä¸€ä¸ªä¸åŒçš„å­—æ¯å°±å¯ä»¥äº†ã€‚ä¾‹å¦‚ï¼Œå¯¹äº<code>&quot;applying&quot;</code> å’Œ <code>&quot;apples&quot;</code>ï¼Œç¬¬ä¸€ä¸ªä¸åŒçš„å­—æ¯æ˜¯ <code>y</code> å’Œ <code>e</code>ã€‚ä¹‹ååªéœ€è¦æ¯”è¾ƒè¿™ä¸¤ä¸ªå­—æ¯åœ¨ <code>order</code> ä¸­çš„ä¸‹æ ‡å°±å¯ä»¥äº†ã€‚ </p><p>è¿˜éœ€è¦è€ƒè™‘ä¸¤ä¸ªå•è¯é•¿åº¦ä¸ç­‰çš„æƒ…å†µã€‚ä¾‹å¦‚ï¼Œå½“æ¯”è¾ƒ <code>&quot;app&quot;</code> å’Œ <code>&quot;apply&quot;</code> çš„æ—¶å€™ï¼Œå‰ä¸‰ä¸ªå­—æ¯éƒ½æ˜¯ç›¸ç­‰çš„ï¼Œä½† <code>&quot;app&quot;</code> æ¯” <code>&quot;apply&quot;</code> æ›´çŸ­ï¼Œæ‰€ä»¥æ»¡è¶³ <code>a &lt;= b</code>ã€‚</p><details>    <summary>æ£€æŸ¥ç›¸é‚»å•è¯Java</summary><figure class="highlight java"><figcaption><span>[solution1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isAlienSorted</span><span class="params">(String[] words, String order)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] index = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; order.length(); ++i)</span><br><span class="line">            index[order.charAt(i) - <span class="string">'a'</span>] = i;</span><br><span class="line"></span><br><span class="line">        search: <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words.length - <span class="number">1</span>; ++i) &#123;</span><br><span class="line">            String word1 = words[i];</span><br><span class="line">            String word2 = words[i+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Find the first difference word1[k] != word2[k].</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; Math.min(word1.length(), word2.length()); ++k) &#123;</span><br><span class="line">                <span class="keyword">if</span> (word1.charAt(k) != word2.charAt(k)) &#123;</span><br><span class="line">                    <span class="comment">// If they compare badly, it's not sorted.</span></span><br><span class="line">                    <span class="keyword">if</span> (index[word1.charAt(k) - <span class="string">'a'</span>] &gt; index[word2.charAt(k) - <span class="string">'a'</span>])</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                    <span class="keyword">continue</span> search;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// If we didn't find a first difference, the</span></span><br><span class="line">            <span class="comment">// words are like ("app", "apple").</span></span><br><span class="line">            <span class="keyword">if</span> (word1.length() &gt; word2.length())</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>æ£€æŸ¥ç›¸é‚»å•è¯Python</summary><figure class="highlight python"><figcaption><span>[solution1-Python]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isAlienSorted</span><span class="params">(self, words, order)</span>:</span></span><br><span class="line">        order_index = &#123;c: i <span class="keyword">for</span> i, c <span class="keyword">in</span> enumerate(order)&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(len(words) - <span class="number">1</span>):</span><br><span class="line">            word1 = words[i]</span><br><span class="line">            word2 = words[i+<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">            <span class="comment"># Find the first difference word1[k] != word2[k].</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> xrange(min(len(word1), len(word2))):</span><br><span class="line">                <span class="comment"># If they compare badly, it's not sorted.</span></span><br><span class="line">                <span class="keyword">if</span> word1[k] != word2[k]:</span><br><span class="line">                    <span class="keyword">if</span> order_index[word1[k]] &gt; order_index[word2[k]]:</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># If we didn't find a first difference, the</span></span><br><span class="line">                <span class="comment"># words are like ("app", "apple").</span></span><br><span class="line">                <span class="keyword">if</span> len(word1) &gt; len(word2):</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š <em>O(C)*ï¼Œå…¶ä¸­ *C</em> æ˜¯ <code>words</code> ä¸­å•è¯æ€»é•¿åº¦å’Œã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š <em>O(1)</em>ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æŸç§å¤–æ˜Ÿè¯­ä¹Ÿä½¿ç”¨è‹±æ–‡å°å†™å­—æ¯ï¼Œä½†å¯èƒ½é¡ºåº order ä¸åŒã€‚å­—æ¯è¡¨çš„é¡ºåºï¼ˆorderï¼‰æ˜¯ä¸€äº›å°å†™å­—æ¯çš„æ’åˆ—ã€‚&lt;/p&gt;
&lt;p&gt;ç»™å®šä¸€ç»„ç”¨å¤–æ˜Ÿè¯­ä¹¦å†™çš„å•è¯wordsï¼Œä»¥åŠå…¶å­—æ¯è¡¨çš„é¡ºåº orderï¼Œåªæœ‰å½“ç»™å®šçš„å•è¯åœ¨è¿™ç§å¤–æ˜Ÿè¯­ä¸­æŒ‰å­—å…¸åºæ’åˆ—æ—¶ï¼Œè¿”å› trueï¼›å¦åˆ™ï¼Œè¿”å› falseã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´3æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B43%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
  </entry>
  
</feed>
