<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yiye Li</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2021-12-13T10:23:30.426Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Yiye Li</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>372. è¶…çº§æ¬¡æ–¹</title>
    <link href="http://yoursite.com/2021/12/13/372.%20%E8%B6%85%E7%BA%A7%E6%AC%A1%E6%96%B9/"/>
    <id>http://yoursite.com/2021/12/13/372. è¶…çº§æ¬¡æ–¹/</id>
    <published>2021-12-13T07:28:12.000Z</published>
    <updated>2021-12-13T10:23:30.426Z</updated>
    
    <content type="html"><![CDATA[<p>ä½ çš„ä»»åŠ¡æ˜¯è®¡ç®—abå¯¹1337å–æ¨¡ï¼Œaæ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œbæ˜¯ä¸€ä¸ªéå¸¸å¤§çš„æ­£æ•´æ•°ä¸”ä¼šä»¥æ•°ç»„å½¢å¼ç»™å‡ºã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼ša = 2, b = [3]è¾“å‡ºï¼š8</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼ša = 2, b = [1,0]è¾“å‡ºï¼š1024</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼ša = 1, b = [4,3,3,8,5,2]è¾“å‡ºï¼š1</code></pre><p>ç¤ºä¾‹ 4ï¼š</p><pre><code>è¾“å…¥ï¼ša = 2147483647, b = [2,0,0]è¾“å‡ºï¼š1198</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= a &lt;= 231 - 11 &lt;= b.length &lt;= 20000 &lt;= b[i] &lt;= 9b ä¸å«å‰å¯¼ 0</code></pre><h1 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h1><p>åœ¨é˜…è¯»æœ¬æ–‡å‰ï¼Œè¯»è€…éœ€è¦æŒæ¡å¿«é€Ÿå¹‚è¿™ä¸€ç®—æ³•ï¼Œå…·ä½“å¯ä»¥è§ã€Œ<a href="https://leetcode-cn.com/problems/powx-n/solution/powx-n-by-leetcode-solution/" target="_blank" rel="noopener">50. Pow(x, n) çš„å®˜æ–¹é¢˜è§£</a>ã€ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šå€’åºéå†-1"><a href="#æ–¹æ³•ä¸€ï¼šå€’åºéå†-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå€’åºéå†^1"></a>æ–¹æ³•ä¸€ï¼šå€’åºéå†<a href="https://leetcode-cn.com/problems/super-pow/solution/chao-ji-ci-fang-by-leetcode-solution-ow8j/" target="_blank" rel="noopener">^1</a></h1><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">superPow</span><span class="params">(self, a: int, b: List[int])</span> -&gt; int:</span></span><br><span class="line">        MOD = <span class="number">1337</span></span><br><span class="line">        ans = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> e <span class="keyword">in</span> reversed(b):</span><br><span class="line">            ans = ans * pow(a, e, MOD) % MOD</span><br><span class="line">            a = pow(a, <span class="number">10</span>, MOD)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">1337</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">pow</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (n) &#123;</span><br><span class="line">            <span class="keyword">if</span> (n % <span class="number">2</span>) &#123;</span><br><span class="line">                res = (<span class="keyword">long</span>) res * x % MOD;</span><br><span class="line">            &#125;</span><br><span class="line">            x = (<span class="keyword">long</span>) x * x % MOD;</span><br><span class="line">            n /= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">superPow</span><span class="params">(<span class="keyword">int</span> a, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = b.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            ans = (<span class="keyword">long</span>) ans * <span class="built_in">pow</span>(a, b[i]) % MOD;</span><br><span class="line">            a = <span class="built_in">pow</span>(a, <span class="number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MOD = <span class="number">1337</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">superPow</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span>[] b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = b.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            ans = (<span class="keyword">int</span>) ((<span class="keyword">long</span>) ans * pow(a, b[i]) % MOD);</span><br><span class="line">            a = pow(a, <span class="number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pow</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (n % <span class="number">2</span> != <span class="number">0</span>) &#123;</span><br><span class="line">                res = (<span class="keyword">int</span>) ((<span class="keyword">long</span>) res * x % MOD);</span><br><span class="line">            &#125;</span><br><span class="line">            x = (<span class="keyword">int</span>) ((<span class="keyword">long</span>) x * x % MOD);</span><br><span class="line">            n /= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    const int MOD = 1337;</span><br><span class="line"></span><br><span class="line">    public int SuperPow(int a, int[] b) &#123;</span><br><span class="line">        int ans = 1;</span><br><span class="line">        for (int i = b.Length - 1; i &gt;= 0; --i) &#123;</span><br><span class="line">            ans = (int) ((long) ans * Pow(a, b[i]) % MOD);</span><br><span class="line">            a = Pow(a, 10);</span><br><span class="line">        &#125;</span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int Pow(int x, int n) &#123;</span><br><span class="line">        int res = 1;</span><br><span class="line">        while (n != 0) &#123;</span><br><span class="line">            if (n % 2 != 0) &#123;</span><br><span class="line">                res = (int) ((long) res * x % MOD);</span><br><span class="line">            &#125;</span><br><span class="line">            x = (int) ((long) x * x % MOD);</span><br><span class="line">            n /= 2;</span><br><span class="line">        &#125;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mod = <span class="number">1337</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">pow</span><span class="params">(x, n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    res := <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> ; n &gt; <span class="number">0</span>; n /= <span class="number">2</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> n&amp;<span class="number">1</span> &gt; <span class="number">0</span> &#123;</span><br><span class="line">            res = res * x % mod</span><br><span class="line">        &#125;</span><br><span class="line">        x = x * x % mod</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">superPow</span><span class="params">(a <span class="keyword">int</span>, b []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    ans := <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="built_in">len</span>(b)<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">        ans = ans * pow(a, b[i]) % mod</span><br><span class="line">        a = pow(a, <span class="number">10</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MOD = BigInt(<span class="number">1337</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> superPow = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> ans = BigInt(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = b.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        ans = ans * pow(BigInt(a), b[i]) % MOD;</span><br><span class="line">        a = pow(BigInt(a), <span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pow = <span class="function">(<span class="params">x, n</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> res = BigInt(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">while</span> (n !== <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (n % <span class="number">2</span> !== <span class="number">0</span>) &#123;</span><br><span class="line">            res = res * BigInt(x) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        x = x * x % MOD;</span><br><span class="line">        n = <span class="built_in">Math</span>.floor(n / <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="æ–¹æ³•äºŒï¼šç§¦ä¹éŸ¶ç®—æ³•ï¼ˆæ­£åºéå†ï¼‰"><a href="#æ–¹æ³•äºŒï¼šç§¦ä¹éŸ¶ç®—æ³•ï¼ˆæ­£åºéå†ï¼‰" class="headerlink" title="æ–¹æ³•äºŒï¼šç§¦ä¹éŸ¶ç®—æ³•ï¼ˆæ­£åºéå†ï¼‰"></a>æ–¹æ³•äºŒï¼šç§¦ä¹éŸ¶ç®—æ³•ï¼ˆæ­£åºéå†ï¼‰</h1><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">superPow</span><span class="params">(self, a: int, b: List[int])</span> -&gt; int:</span></span><br><span class="line">        MOD = <span class="number">1337</span></span><br><span class="line">        ans = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> e <span class="keyword">in</span> b:</span><br><span class="line">            ans = pow(ans, <span class="number">10</span>, MOD) * pow(a, e, MOD) % MOD</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">1337</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">pow</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (n) &#123;</span><br><span class="line">            <span class="keyword">if</span> (n % <span class="number">2</span>) &#123;</span><br><span class="line">                res = (<span class="keyword">long</span>) res * x % MOD;</span><br><span class="line">            &#125;</span><br><span class="line">            x = (<span class="keyword">long</span>) x * x % MOD;</span><br><span class="line">            n /= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">superPow</span><span class="params">(<span class="keyword">int</span> a, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> e: b) &#123;</span><br><span class="line">            ans = (<span class="keyword">long</span>) <span class="built_in">pow</span>(ans, <span class="number">10</span>) * <span class="built_in">pow</span>(a, e) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MOD = <span class="number">1337</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">superPow</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span>[] b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> e : b) &#123;</span><br><span class="line">            ans = (<span class="keyword">int</span>) ((<span class="keyword">long</span>) pow(ans, <span class="number">10</span>) * pow(a, e) % MOD);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pow</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (n != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (n % <span class="number">2</span> != <span class="number">0</span>) &#123;</span><br><span class="line">                res = (<span class="keyword">int</span>) ((<span class="keyword">long</span>) res * x % MOD);</span><br><span class="line">            &#125;</span><br><span class="line">            x = (<span class="keyword">int</span>) ((<span class="keyword">long</span>) x * x % MOD);</span><br><span class="line">            n /= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol2-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    const int MOD = 1337;</span><br><span class="line"></span><br><span class="line">    public int SuperPow(int a, int[] b) &#123;</span><br><span class="line">        int ans = 1;</span><br><span class="line">        foreach (int e in b) &#123;</span><br><span class="line">            ans = (int) ((long) Pow(ans, 10) * Pow(a, e) % MOD);</span><br><span class="line">        &#125;</span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int Pow(int x, int n) &#123;</span><br><span class="line">        int res = 1;</span><br><span class="line">        while (n != 0) &#123;</span><br><span class="line">            if (n % 2 != 0) &#123;</span><br><span class="line">                res = (int) ((long) res * x % MOD);</span><br><span class="line">            &#125;</span><br><span class="line">            x = (int) ((long) x * x % MOD);</span><br><span class="line">            n /= 2;</span><br><span class="line">        &#125;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mod = <span class="number">1337</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">pow</span><span class="params">(x, n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    res := <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> ; n &gt; <span class="number">0</span>; n /= <span class="number">2</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> n&amp;<span class="number">1</span> &gt; <span class="number">0</span> &#123;</span><br><span class="line">            res = res * x % mod</span><br><span class="line">        &#125;</span><br><span class="line">        x = x * x % mod</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">superPow</span><span class="params">(a <span class="keyword">int</span>, b []<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    ans := <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> _, e := <span class="keyword">range</span> b &#123;</span><br><span class="line">        ans = pow(ans, <span class="number">10</span>) * pow(a, e) % mod</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol2-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MOD = BigInt(<span class="number">1337</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> superPow = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> e <span class="keyword">of</span> b) &#123;</span><br><span class="line">        ans = pow(BigInt(ans), <span class="number">10</span>) * pow(BigInt(a), e) % MOD;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pow = <span class="function">(<span class="params">x, n</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> res = BigInt(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">while</span> (n !== <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (n % <span class="number">2</span> !== <span class="number">0</span>) &#123;</span><br><span class="line">            res = res * BigInt(x) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        x = x * x % MOD;</span><br><span class="line">        n = <span class="built_in">Math</span>.floor(n / <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä½ çš„ä»»åŠ¡æ˜¯è®¡ç®—abå¯¹1337å–æ¨¡ï¼Œaæ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œbæ˜¯ä¸€ä¸ªéå¸¸å¤§çš„æ­£æ•´æ•°ä¸”ä¼šä»¥æ•°ç»„å½¢å¼ç»™å‡ºã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
      <category term="Division" scheme="http://yoursite.com/tags/Division/"/>
    
  </entry>
  
  <entry>
    <title>69. x çš„å¹³æ–¹æ ¹(äºŒåˆ†æ³•æ¨¡æ¿é¢˜åŠç»å…¸è§£é‡Šï¼‰</title>
    <link href="http://yoursite.com/2021/12/13/69.%20x%20%E7%9A%84%E5%B9%B3%E6%96%B9%E6%A0%B9(%E4%BA%8C%E5%88%86%E6%B3%95%E6%A8%A1%E6%9D%BF%E9%A2%98%E5%8F%8A%E7%BB%8F%E5%85%B8%E8%A7%A3%E9%87%8A%EF%BC%89/"/>
    <id>http://yoursite.com/2021/12/13/69. x çš„å¹³æ–¹æ ¹(äºŒåˆ†æ³•æ¨¡æ¿é¢˜åŠç»å…¸è§£é‡Šï¼‰/</id>
    <published>2021-12-13T07:23:12.000Z</published>
    <updated>2021-12-13T07:23:04.822Z</updated>
    
    <content type="html"><![CDATA[<p>å®ç° int sqrt(int x) å‡½æ•°ã€‚</p><p>è®¡ç®—å¹¶è¿”å› x çš„å¹³æ–¹æ ¹ï¼Œå…¶ä¸­ x æ˜¯éè´Ÿæ•´æ•°ã€‚</p><p>ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™æ•´æ•°çš„éƒ¨åˆ†ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: 4è¾“å‡º: 2</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: 8è¾“å‡º: 2è¯´æ˜: 8 çš„å¹³æ–¹æ ¹æ˜¯ 2.82842...,      ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚</code></pre><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬é¢˜æ˜¯ä¸€é“å¸¸è§çš„é¢è¯•é¢˜ï¼Œé¢è¯•å®˜ä¸€èˆ¬ä¼šè¦æ±‚é¢è¯•è€…åœ¨ä¸ä½¿ç”¨sqrt å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œå¾—åˆ° <em>x</em> çš„å¹³æ–¹æ ¹çš„æ•´æ•°éƒ¨åˆ†ã€‚ä¸€èˆ¬çš„æ€è·¯ä¼šæœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li><p>é€šè¿‡å…¶å®ƒçš„æ•°å­¦å‡½æ•°ä»£æ›¿å¹³æ–¹æ ¹å‡½æ•°å¾—åˆ°ç²¾ç¡®ç»“æœï¼Œå–æ•´æ•°éƒ¨åˆ†ä½œä¸ºç­”æ¡ˆï¼›</p></li><li><p>é€šè¿‡æ•°å­¦æ–¹æ³•å¾—åˆ°è¿‘ä¼¼ç»“æœï¼Œç›´æ¥ä½œä¸ºç­”æ¡ˆã€‚</p></li></ul><h1 id="äºŒåˆ†æ³•å…¸å‹è§£æ³•-äºŒåˆ†æ³•æ¨¡æ¿é¢˜åŠç»å…¸è§£é‡Šï¼‰-1"><a href="#äºŒåˆ†æ³•å…¸å‹è§£æ³•-äºŒåˆ†æ³•æ¨¡æ¿é¢˜åŠç»å…¸è§£é‡Šï¼‰-1" class="headerlink" title="äºŒåˆ†æ³•å…¸å‹è§£æ³•(äºŒåˆ†æ³•æ¨¡æ¿é¢˜åŠç»å…¸è§£é‡Šï¼‰^1"></a>äºŒåˆ†æ³•å…¸å‹è§£æ³•(äºŒåˆ†æ³•æ¨¡æ¿é¢˜åŠç»å…¸è§£é‡Šï¼‰<a href="https://leetcode-cn.com/problems/sqrtx/solution/er-fen-cha-zhao-niu-dun-fa-python-dai-ma-by-liweiw/" target="_blank" rel="noopener">^1</a></h1><h2 id="é¢˜æ„åˆ†æ"><a href="#é¢˜æ„åˆ†æ" class="headerlink" title="é¢˜æ„åˆ†æ"></a>é¢˜æ„åˆ†æ</h2><ul><li>è¿™é“é¢˜è¦æ±‚æˆ‘ä»¬å®ç°å¹³æ–¹æ ¹å‡½æ•°ï¼Œè¾“å…¥æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ï¼Œè¾“å‡ºä¹Ÿæ˜¯ä¸€ä¸ªæ•´æ•°ï¼›</li><li>ä½†æ˜¯é¢˜ç›®å½“ä¸­è¯´ï¼šç»“æœåªä¿ç•™æ•´æ•°çš„éƒ¨åˆ†ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚è¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæˆ‘ä»¬åˆ†æä¸€ä¸‹ç¤ºä¾‹ã€‚</li></ul><p>ç¤ºä¾‹ 1ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 4</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æ˜¾ç„¶çš„ï¼Œ<em>4</em> æœ¬èº«æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œ<em>2^2 = 4</em>ã€‚è™½ç„¶åœ¨æ•°å­¦ä¸Šä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹æœ‰æ­£æœ‰è´Ÿï¼Œä½†æ˜¯è¿™ä¸ªé¢˜ç›®åªè¦æ±‚æˆ‘ä»¬è¿”å›ç®—æœ¯å¹³æ–¹æ ¹ã€‚</p><p>ç¤ºä¾‹ 2 ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 8</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure><p>å› ä¸º <em>8</em> çš„å¹³æ–¹æ ¹å®é™…ä¸Šæ˜¯ <em>2.82842<em>ï¼Œé¢˜ç›®è¦æ±‚æˆ‘ä»¬å°†å°æ•°éƒ¨åˆ†èˆå»ã€‚å› æ­¤è¾“å‡º *2</em>ã€‚äºæ˜¯æˆ‘ä»¬çŸ¥é“ï¼šç”±äºè¾“å‡ºç»“æœçš„æ—¶å€™ï¼Œéœ€è¦å°†å°æ•°éƒ¨åˆ†èˆå»ï¼Œå› æ­¤é—®é¢˜çš„ç­”æ¡ˆï¼Œå¹³æ–¹ä»¥åä¸€å®šä¸ä¼šä¸¥æ ¼å¤§äºè¾“å…¥çš„æ•´æ•°ã€‚è¿™é‡Œè¿”å› *3</em> å°±ä¸å¯¹äº†ï¼Œè¿™æ˜¯å› ä¸º <em>3^2 = 9 &gt; 8</em>ã€‚</p><h2 id="æ€è·¯åˆ†æ"><a href="#æ€è·¯åˆ†æ" class="headerlink" title="æ€è·¯åˆ†æ"></a>æ€è·¯åˆ†æ</h2><p>ä»é¢˜ç›®çš„è¦æ±‚å’Œç¤ºä¾‹æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè¿™å…¶å®æ˜¯ä¸€ä¸ªæŸ¥æ‰¾æ•´æ•°çš„é—®é¢˜ï¼Œå¹¶ä¸”è¿™ä¸ªæ•´æ•°æ˜¯æœ‰èŒƒå›´çš„ã€‚</p><ul><li>å¦‚æœè¿™ä¸ªæ•´æ•°çš„å¹³æ–¹ <strong>æ°å¥½ç­‰äº</strong> è¾“å…¥æ•´æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ‰¾åˆ°äº†è¿™ä¸ªæ•´æ•°ï¼›</li><li>å¦‚æœè¿™ä¸ªæ•´æ•°çš„å¹³æ–¹ <strong>ä¸¥æ ¼å¤§äº</strong> è¾“å…¥æ•´æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•´æ•°è‚¯å®šä¸æ˜¯æˆ‘ä»¬è¦æ‰¾çš„é‚£ä¸ªæ•°ï¼›</li><li>å¦‚æœè¿™ä¸ªæ•´æ•°çš„å¹³æ–¹ <strong>ä¸¥æ ¼å°äº</strong> è¾“å…¥æ•´æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•´æ•° <strong>å¯èƒ½</strong> æ˜¯æˆ‘ä»¬è¦æ‰¾çš„é‚£ä¸ªæ•°ï¼ˆé‡ç‚¹ç†è§£è¿™å¥è¯ï¼‰ã€‚</li></ul><p>å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ã€ŒäºŒåˆ†æŸ¥æ‰¾ã€æ¥æŸ¥æ‰¾è¿™ä¸ªæ•´æ•°ï¼Œä¸æ–­ç¼©å°èŒƒå›´å»çŒœã€‚</p><ul><li>çŒœçš„æ•°å¹³æ–¹ä»¥åå¤§äº†å°±å¾€å°äº†çŒœï¼›</li><li>çŒœçš„æ•°å¹³æ–¹ä»¥åæ°æ°å¥½ç­‰äºè¾“å…¥çš„æ•°å°±æ‰¾åˆ°äº†ï¼›</li><li>çŒœçš„æ•°å¹³æ–¹ä»¥åå°äº†ï¼Œå¯èƒ½çŒœçš„æ•°å°±æ˜¯ï¼Œä¹Ÿå¯èƒ½ä¸æ˜¯ã€‚</li></ul><p>å¾ˆå®¹æ˜“çŸ¥é“ï¼Œé¢˜ç›®è¦æˆ‘ä»¬è¿”å›çš„æ•´æ•°æ˜¯æœ‰èŒƒå›´çš„ï¼Œç›´è§‰ä¸Šä¸€ä¸ªæ•´æ•°çš„å¹³æ–¹æ ¹è‚¯å®šä¸ä¼šè¶…è¿‡å®ƒè‡ªå·±çš„ä¸€åŠï¼Œä½†æ˜¯ <em>0</em> å’Œ <em>1</em> é™¤å¤–ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨ <em>1</em> åˆ°è¾“å…¥æ•´æ•°é™¤ä»¥ <em>2</em> è¿™ä¸ªèŒƒå›´é‡ŒæŸ¥æ‰¾æˆ‘ä»¬è¦æ‰¾çš„å¹³æ–¹æ ¹æ•´æ•°ã€‚<em>0</em> å•ç‹¬åˆ¤æ–­ä¸€ä¸‹å°±å¥½ã€‚</p><p><strong>å‚è€ƒä»£ç </strong>ï¼š</p><details>    <summary>äºŒåˆ†æŸ¥æ‰¾Java</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ç‰¹æ®Šå€¼åˆ¤æ–­</span></span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> right = x / <span class="number">2</span>;</span><br><span class="line">        <span class="comment">// åœ¨åŒºé—´ [left..right] æŸ¥æ‰¾ç›®æ ‡å…ƒç´ </span></span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">            <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œä¸ºäº†é¿å…ä¹˜æ³•æº¢å‡ºï¼Œæ”¹ç”¨é™¤æ³•</span></span><br><span class="line">            <span class="keyword">if</span> (mid &gt; x / mid) &#123;</span><br><span class="line">                <span class="comment">// ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ [left..mid - 1]</span></span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ [mid..right]</span></span><br><span class="line">                left = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(logx) ï¼Œæ¯ä¸€æ¬¡æœç´¢çš„åŒºé—´å¤§å°çº¦ä¸ºåŸæ¥çš„1/2 ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(log_2x)=O(logx) ï¼›</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</li></ul><p><strong>å¯¹ä»£ç ç¼–å†™é€»è¾‘çš„è§£é‡Š</strong>ï¼š</p><p>ä¸€ã€å†™ <code>if</code> å’Œ <code>else</code> çš„åŸå› ï¼š</p><ul><li>çŒœçš„æ•°æ˜¯ <code>mid</code> ï¼Œæ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œå¦‚æœ <code>mid</code> çš„å¹³æ–¹ <strong>ä¸¥æ ¼å¤§äº</strong> <code>x</code>ï¼Œ<code>mid</code> è‚¯å®šä¸æ˜¯è§£ï¼Œæ¯” <code>mid</code> å¤§çš„æ•´æ•°ä¹Ÿè‚¯å®šä¸æ˜¯è§£ï¼Œå› æ­¤é—®é¢˜çš„ç­”æ¡ˆåªå¯èƒ½å­˜åœ¨åŒºé—´ <code>[left..mid - 1]</code>ï¼Œæ­¤æ—¶è®¾ç½® <code>right = mid - 1</code>ï¼›</li><li><code>else</code> çš„æƒ…å†µå°±æ˜¯ <code>if</code> çš„åé¢ï¼Œåªè¦ <code>if</code> çš„åˆ†æ”¯å’Œå¯¹åº”çš„åŒºé—´åˆ†æå¯¹äº†ï¼Œ<code>else</code> çš„åŒºé—´æ˜¯  <code>[left..mid - 1]</code> çš„åé¢åŒºé—´ï¼Œå³ <code>[mid..right]</code> ï¼Œæ­¤æ—¶è®¾ç½® <code>left = mid</code>ã€‚</li></ul><p>äºŒã€ä¸ºä»€ä¹ˆæœ€åè¿”å› <code>left</code>ã€‚</p><ul><li>é€€å‡º <code>while (left &lt; right)</code> å¾ªç¯çš„æ—¶å€™ï¼Œç”±äºè¾¹ç•Œæœç´¢æ˜¯ <code>left = mid</code> ä¸ <code>right = mid - 1</code>ï¼Œå› æ­¤é€€å‡ºå¾ªç¯çš„æ—¶å€™ä¸€å®šæœ‰ <code>left</code> ä¸ <code>right</code> é‡åˆï¼Œè¿”å› <code>right</code> ä¹Ÿå¯ä»¥ã€‚</li></ul><hr><h2 id="é—®é¢˜ï¼šmid-ä¸ºä»€ä¹ˆè¦åŠ -1ï¼Ÿ"><a href="#é—®é¢˜ï¼šmid-ä¸ºä»€ä¹ˆè¦åŠ -1ï¼Ÿ" class="headerlink" title="é—®é¢˜ï¼šmid ä¸ºä»€ä¹ˆè¦åŠ  1ï¼Ÿ"></a>é—®é¢˜ï¼š<code>mid</code> ä¸ºä»€ä¹ˆè¦åŠ  <code>1</code>ï¼Ÿ</h2><p>å¯¹ç€é”™è¯¯çš„æµ‹è¯•ç”¨ä¾‹æ‰“å°å‡ºå˜é‡ <code>left</code> ã€<code>right</code> å’Œ <code>mid</code> çš„å€¼çœ‹ä¸€ä¸‹å°±å¾ˆæ¸…æ¥šäº†ã€‚</p><p><strong><code>mid</code> ä¸åŠ  <code>1</code> ä¼šé€ æˆæ­»å¾ªç¯çš„ä»£ç </strong>ï¼š</p><details>    <summary>äºŒåˆ†æŸ¥æ‰¾Java</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> right = x / <span class="number">2</span>;</span><br><span class="line">        <span class="comment">// åœ¨åŒºé—´ [left..right] æŸ¥æ‰¾ç›®æ ‡å…ƒç´ </span></span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="comment">// å–ä¸­é—´æ•° mid ä¸‹å–æ•´æ—¶</span></span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è°ƒè¯•è¯­å¥å¼€å§‹</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">"left = "</span> + left + <span class="string">", right = "</span> + right + <span class="string">", mid = "</span> + mid);</span><br><span class="line">            <span class="comment">// è°ƒè¯•è¯­å¥ç»“æŸ</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œä¸ºäº†é¿å…ä¹˜æ³•æº¢å‡ºï¼Œæ”¹ç”¨é™¤æ³•</span></span><br><span class="line">            <span class="keyword">if</span> (mid &gt; x / mid) &#123;</span><br><span class="line">                <span class="comment">// ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ [left..mid - 1]</span></span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ [mid..right]</span></span><br><span class="line">                left = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> Solution();</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">9</span>;</span><br><span class="line">        <span class="keyword">int</span> res = solution.mySqrt(x);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">left = 1, right = 4, mid = 2</span><br><span class="line">left = 2, right = 4, mid = 3</span><br><span class="line">left = 3, right = 4, mid = 3</span><br><span class="line">left = 3, right = 4, mid = 3</span><br><span class="line">left = 3, right = 4, mid = 3</span><br><span class="line">left = 3, right = 4, mid = 3</span><br></pre></td></tr></table></figure><p><strong>åœ¨åŒºé—´åªæœ‰ <em>2</em> ä¸ªæ•°çš„æ—¶å€™</strong>ï¼Œæœ¬é¢˜ <code>if</code>ã€<code>else</code> çš„é€»è¾‘åŒºé—´çš„åˆ’åˆ†æ–¹å¼æ˜¯ï¼š<code>[left..mid - 1]</code> ä¸ <code>[mid..right]</code>ã€‚å¦‚æœ <code>mid</code> ä¸‹å–æ•´ï¼Œåœ¨åŒºé—´åªæœ‰ <em>2</em> ä¸ªæ•°çš„æ—¶å€™æœ‰ <code>mid</code> çš„å€¼ç­‰äº <code>left</code>ï¼Œä¸€æ—¦è¿›å…¥åˆ†æ”¯ <code>[mid..right]</code> åŒºé—´ä¸ä¼šå†ç¼©å°ï¼Œå‡ºç°æ­»å¾ªç¯ã€‚</p><p><a href="https://pic.leetcode-cn.com/1639366986-BFgeWx-image.png" target="_blank" rel="noopener">image.png</a></p><p><strong>è§£å†³åŠæ³•</strong>ï¼šæŠŠå–ä¸­é—´æ•°çš„æ–¹å¼æ”¹æˆä¸Šå–æ•´ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šè¢–çè®¡ç®—å™¨ç®—æ³•"><a href="#æ–¹æ³•ä¸€ï¼šè¢–çè®¡ç®—å™¨ç®—æ³•" class="headerlink" title="æ–¹æ³•ä¸€ï¼šè¢–çè®¡ç®—å™¨ç®—æ³•"></a>æ–¹æ³•ä¸€ï¼šè¢–çè®¡ç®—å™¨ç®—æ³•</h1><p>ã€Œè¢–çè®¡ç®—å™¨ç®—æ³•ã€æ˜¯ä¸€ç§ç”¨æŒ‡æ•°å‡½æ•° exp  å’Œå¯¹æ•°å‡½æ•° ln ä»£æ›¿å¹³æ–¹æ ¹å‡½æ•°çš„æ–¹æ³•ã€‚æˆ‘ä»¬é€šè¿‡æœ‰é™çš„å¯ä»¥ä½¿ç”¨çš„æ•°å­¦å‡½æ•°ï¼Œå¾—åˆ°æˆ‘ä»¬æƒ³è¦è®¡ç®—çš„ç»“æœã€‚</p><p>æˆ‘ä»¬å°†sqrt(x) å†™æˆå¹‚çš„å½¢å¼ <em>x^{1/2}*ï¼Œå†ä½¿ç”¨è‡ªç„¶å¯¹æ•° *e</em> è¿›è¡Œæ¢åº•ï¼Œå³å¯å¾—åˆ°</p><pre><code>sqrt(x)=x^{1/2} = (e^lnx)^{1/2}=e^{lnx/2}</code></pre><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°sqrt(x)çš„å€¼äº†ã€‚</p><p><strong>æ³¨æ„ï¼š</strong> ç”±äºè®¡ç®—æœºæ— æ³•å­˜å‚¨æµ®ç‚¹æ•°çš„ç²¾ç¡®å€¼ï¼ˆæµ®ç‚¹æ•°çš„å­˜å‚¨æ–¹æ³•å¯ä»¥å‚è€ƒ <a href="https://baike.baidu.com/item/IEEE%20754" target="_blank" rel="noopener">IEEE 754</a>ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼‰ï¼Œè€ŒæŒ‡æ•°å‡½æ•°å’Œå¯¹æ•°å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼å‡ä¸ºæµ®ç‚¹æ•°ï¼Œå› æ­¤è¿ç®—è¿‡ç¨‹ä¸­ä¼šå­˜åœ¨è¯¯å·®ã€‚ä¾‹å¦‚å½“ <em>x = 2147395600</em> æ—¶ï¼Œ(e^lnx/2) çš„è®¡ç®—ç»“æœä¸æ­£ç¡®å€¼ <em>46340</em> ç›¸å·® <em>10^{-11}*ï¼Œè¿™æ ·åœ¨å¯¹ç»“æœå–æ•´æ•°éƒ¨åˆ†æ—¶ï¼Œä¼šå¾—åˆ° *46339</em> è¿™ä¸ªé”™è¯¯çš„ç»“æœã€‚</p><p>å› æ­¤åœ¨å¾—åˆ°ç»“æœçš„æ•´æ•°éƒ¨åˆ† ans åï¼Œæˆ‘ä»¬åº”å½“æ‰¾å‡º ans ä¸ ans+1  ä¸­å“ªä¸€ä¸ªæ˜¯çœŸæ­£çš„ç­”æ¡ˆã€‚</p><details>    <summary>è¢–çè®¡ç®—å™¨ç®—æ³•C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="built_in">exp</span>(<span class="number">0.5</span> * <span class="built_in">log</span>(x));</span><br><span class="line">        <span class="keyword">return</span> ((<span class="keyword">long</span> <span class="keyword">long</span>)(ans + <span class="number">1</span>) * (ans + <span class="number">1</span>) &lt;= x ? ans + <span class="number">1</span> : ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>è¢–çè®¡ç®—å™¨ç®—æ³•Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = (<span class="keyword">int</span>) Math.exp(<span class="number">0.5</span> * Math.log(x));</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">long</span>) (ans + <span class="number">1</span>) * (ans + <span class="number">1</span>) &lt;= x ? ans + <span class="number">1</span> : ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>è¢–çè®¡ç®—å™¨ç®—æ³•Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mySqrt</span><span class="params">(self, x: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> x == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        ans = int(math.exp(<span class="number">0.5</span> * math.log(x)))</span><br><span class="line">        <span class="keyword">return</span> ans + <span class="number">1</span> <span class="keyword">if</span> (ans + <span class="number">1</span>) ** <span class="number">2</span> &lt;= x <span class="keyword">else</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>è¢–çè®¡ç®—å™¨ç®—æ³•Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mySqrt</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    ans := <span class="keyword">int</span>(math.Exp(<span class="number">0.5</span> * math.Log(<span class="keyword">float64</span>(x))))</span><br><span class="line">    <span class="keyword">if</span> (ans + <span class="number">1</span>) * (ans + <span class="number">1</span>) &lt;= x &#123;</span><br><span class="line">        <span class="keyword">return</span> ans + <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œç”±äºå†…ç½®çš„ <code>exp</code> å‡½æ•°ä¸ <code>log</code> å‡½æ•°ä¸€èˆ¬éƒ½å¾ˆå¿«ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå°†å…¶å¤æ‚åº¦è§†ä¸º <em>O(1)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</p></li></ul><h1 id="æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾</h1><p>ç”±äº <em>x</em> å¹³æ–¹æ ¹çš„æ•´æ•°éƒ¨åˆ† ans æ˜¯<strong>æ»¡è¶³ k^2&lt;=x  çš„æœ€å¤§ <em>k</em> å€¼</strong>ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¯¹ <em>k</em> è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œä»è€Œå¾—åˆ°ç­”æ¡ˆã€‚</p><p>äºŒåˆ†æŸ¥æ‰¾çš„ä¸‹ç•Œä¸º <em>0</em>ï¼Œä¸Šç•Œå¯ä»¥ç²—ç•¥åœ°è®¾å®šä¸º <em>x</em>ã€‚åœ¨äºŒåˆ†æŸ¥æ‰¾çš„æ¯ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦æ¯”è¾ƒä¸­é—´å…ƒç´  mid çš„å¹³æ–¹ä¸ <em>x</em> çš„å¤§å°å…³ç³»ï¼Œå¹¶é€šè¿‡æ¯”è¾ƒçš„ç»“æœè°ƒæ•´ä¸Šä¸‹ç•Œçš„èŒƒå›´ã€‚ç”±äºæˆ‘ä»¬æ‰€æœ‰çš„è¿ç®—éƒ½æ˜¯æ•´æ•°è¿ç®—ï¼Œä¸ä¼šå­˜åœ¨è¯¯å·®ï¼Œå› æ­¤åœ¨å¾—åˆ°æœ€ç»ˆçš„ç­”æ¡ˆ ans åï¼Œä¹Ÿå°±ä¸éœ€è¦å†å»å°è¯• ans+1 äº†ã€‚</p><details>    <summary>äºŒåˆ†æŸ¥æ‰¾C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = x, ans = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> ((<span class="keyword">long</span> <span class="keyword">long</span>)mid * mid &lt;= x) &#123;</span><br><span class="line">                ans = mid;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒåˆ†æŸ¥æ‰¾Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = x, ans = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> ((<span class="keyword">long</span>) mid * mid &lt;= x) &#123;</span><br><span class="line">                ans = mid;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒåˆ†æŸ¥æ‰¾Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mySqrt</span><span class="params">(self, x: int)</span> -&gt; int:</span></span><br><span class="line">        l, r, ans = <span class="number">0</span>, x, <span class="number">-1</span></span><br><span class="line">        <span class="keyword">while</span> l &lt;= r:</span><br><span class="line">            mid = (l + r) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> mid * mid &lt;= x:</span><br><span class="line">                ans = mid</span><br><span class="line">                l = mid + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                r = mid - <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒåˆ†æŸ¥æ‰¾Golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mySqrt</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    l, r := <span class="number">0</span>, x</span><br><span class="line">    ans := <span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> l &lt;= r &#123;</span><br><span class="line">        mid := l + (r - l) / <span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> mid * mid &lt;= x &#123;</span><br><span class="line">            ans = mid</span><br><span class="line">            l = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            r = mid - <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(logx)ï¼Œå³ä¸ºäºŒåˆ†æŸ¥æ‰¾éœ€è¦çš„æ¬¡æ•°ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</p></li></ul><h1 id="æ–¹æ³•ä¸‰ï¼šç‰›é¡¿è¿­ä»£"><a href="#æ–¹æ³•ä¸‰ï¼šç‰›é¡¿è¿­ä»£" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šç‰›é¡¿è¿­ä»£"></a>æ–¹æ³•ä¸‰ï¼šç‰›é¡¿è¿­ä»£</h1><p><strong>æ€è·¯</strong></p><p><a href="https://baike.baidu.com/item/%E7%89%9B%E9%A1%BF%E8%BF%AD%E4%BB%A3%E6%B3%95" target="_blank" rel="noopener">ç‰›é¡¿è¿­ä»£æ³•</a>æ˜¯ä¸€ç§å¯ä»¥ç”¨æ¥å¿«é€Ÿæ±‚è§£å‡½æ•°é›¶ç‚¹çš„æ–¹æ³•ã€‚å‚è§<a href="https://leetcode-cn.com/problems/sqrtx/solution/x-de-ping-fang-gen-by-leetcode-solution/" target="_blank" rel="noopener">^2</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å®ç° int sqrt(int x) å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;è®¡ç®—å¹¶è¿”å› x çš„å¹³æ–¹æ ¹ï¼Œå…¶ä¸­ x æ˜¯éè´Ÿæ•´æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™æ•´æ•°çš„éƒ¨åˆ†ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡ Offer II072</title>
    <link href="http://yoursite.com/2021/12/13/%E5%89%91%E6%8C%87%20Offer%20II%20072.%20%E6%B1%82%E5%B9%B3%E6%96%B9%E6%A0%B9(%E4%BA%8C%E5%88%86%E6%B3%95%E6%A8%A1%E6%9D%BF%E9%A2%98%E5%8F%8A%E7%BB%8F%E5%85%B8%E8%A7%A3%E9%87%8A%EF%BC%89/"/>
    <id>http://yoursite.com/2021/12/13/å‰‘æŒ‡ Offer II 072. æ±‚å¹³æ–¹æ ¹(äºŒåˆ†æ³•æ¨¡æ¿é¢˜åŠç»å…¸è§£é‡Šï¼‰/</id>
    <published>2021-12-13T07:23:12.000Z</published>
    <updated>2021-12-13T10:26:04.755Z</updated>
    
    <content type="html"><![CDATA[<p>å®ç° int sqrt(int x) å‡½æ•°ã€‚</p><p>è®¡ç®—å¹¶è¿”å› x çš„å¹³æ–¹æ ¹ï¼Œå…¶ä¸­ x æ˜¯éè´Ÿæ•´æ•°ã€‚</p><p>ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™æ•´æ•°çš„éƒ¨åˆ†ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: 4è¾“å‡º: 2</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: 8è¾“å‡º: 2è¯´æ˜: 8 çš„å¹³æ–¹æ ¹æ˜¯ 2.82842...,      ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚</code></pre><p> æ³¨æ„ï¼šæœ¬é¢˜ä¸<a href="https://leetcode-cn.com/problems/sqrtx/" target="_blank" rel="noopener">69.xçš„å¹³æ–¹æ ¹</a>ç›¸åŒ</p><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬é¢˜æ˜¯ä¸€é“å¸¸è§çš„é¢è¯•é¢˜ï¼Œé¢è¯•å®˜ä¸€èˆ¬ä¼šè¦æ±‚é¢è¯•è€…åœ¨ä¸ä½¿ç”¨sqrt å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œå¾—åˆ° <em>x</em> çš„å¹³æ–¹æ ¹çš„æ•´æ•°éƒ¨åˆ†ã€‚ä¸€èˆ¬çš„æ€è·¯ä¼šæœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li><p>é€šè¿‡å…¶å®ƒçš„æ•°å­¦å‡½æ•°ä»£æ›¿å¹³æ–¹æ ¹å‡½æ•°å¾—åˆ°ç²¾ç¡®ç»“æœï¼Œå–æ•´æ•°éƒ¨åˆ†ä½œä¸ºç­”æ¡ˆï¼›</p></li><li><p>é€šè¿‡æ•°å­¦æ–¹æ³•å¾—åˆ°è¿‘ä¼¼ç»“æœï¼Œç›´æ¥ä½œä¸ºç­”æ¡ˆã€‚</p></li></ul><h1 id="äºŒåˆ†æ³•å…¸å‹è§£æ³•-äºŒåˆ†æ³•æ¨¡æ¿é¢˜åŠç»å…¸è§£é‡Šï¼‰-1"><a href="#äºŒåˆ†æ³•å…¸å‹è§£æ³•-äºŒåˆ†æ³•æ¨¡æ¿é¢˜åŠç»å…¸è§£é‡Šï¼‰-1" class="headerlink" title="äºŒåˆ†æ³•å…¸å‹è§£æ³•(äºŒåˆ†æ³•æ¨¡æ¿é¢˜åŠç»å…¸è§£é‡Šï¼‰^1"></a>äºŒåˆ†æ³•å…¸å‹è§£æ³•(äºŒåˆ†æ³•æ¨¡æ¿é¢˜åŠç»å…¸è§£é‡Šï¼‰<a href="https://leetcode-cn.com/problems/sqrtx/solution/er-fen-cha-zhao-niu-dun-fa-python-dai-ma-by-liweiw/" target="_blank" rel="noopener">^1</a></h1><h2 id="é¢˜æ„åˆ†æ"><a href="#é¢˜æ„åˆ†æ" class="headerlink" title="é¢˜æ„åˆ†æ"></a>é¢˜æ„åˆ†æ</h2><ul><li>è¿™é“é¢˜è¦æ±‚æˆ‘ä»¬å®ç°å¹³æ–¹æ ¹å‡½æ•°ï¼Œè¾“å…¥æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ï¼Œè¾“å‡ºä¹Ÿæ˜¯ä¸€ä¸ªæ•´æ•°ï¼›</li><li>ä½†æ˜¯é¢˜ç›®å½“ä¸­è¯´ï¼šç»“æœåªä¿ç•™æ•´æ•°çš„éƒ¨åˆ†ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚è¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæˆ‘ä»¬åˆ†æä¸€ä¸‹ç¤ºä¾‹ã€‚</li></ul><p>ç¤ºä¾‹ 1ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 4</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æ˜¾ç„¶çš„ï¼Œ<em>4</em> æœ¬èº«æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼Œ<em>2^2 = 4</em>ã€‚è™½ç„¶åœ¨æ•°å­¦ä¸Šä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹æœ‰æ­£æœ‰è´Ÿï¼Œä½†æ˜¯è¿™ä¸ªé¢˜ç›®åªè¦æ±‚æˆ‘ä»¬è¿”å›ç®—æœ¯å¹³æ–¹æ ¹ã€‚</p><p>ç¤ºä¾‹ 2 ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: 8</span><br><span class="line">è¾“å‡º: 2</span><br></pre></td></tr></table></figure><p>å› ä¸º <em>8</em> çš„å¹³æ–¹æ ¹å®é™…ä¸Šæ˜¯ <em>2.82842<em>ï¼Œé¢˜ç›®è¦æ±‚æˆ‘ä»¬å°†å°æ•°éƒ¨åˆ†èˆå»ã€‚å› æ­¤è¾“å‡º *2</em>ã€‚äºæ˜¯æˆ‘ä»¬çŸ¥é“ï¼šç”±äºè¾“å‡ºç»“æœçš„æ—¶å€™ï¼Œéœ€è¦å°†å°æ•°éƒ¨åˆ†èˆå»ï¼Œå› æ­¤é—®é¢˜çš„ç­”æ¡ˆï¼Œå¹³æ–¹ä»¥åä¸€å®šä¸ä¼šä¸¥æ ¼å¤§äºè¾“å…¥çš„æ•´æ•°ã€‚è¿™é‡Œè¿”å› *3</em> å°±ä¸å¯¹äº†ï¼Œè¿™æ˜¯å› ä¸º <em>3^2 = 9 &gt; 8</em>ã€‚</p><h2 id="æ€è·¯åˆ†æ"><a href="#æ€è·¯åˆ†æ" class="headerlink" title="æ€è·¯åˆ†æ"></a>æ€è·¯åˆ†æ</h2><p>ä»é¢˜ç›®çš„è¦æ±‚å’Œç¤ºä¾‹æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè¿™å…¶å®æ˜¯ä¸€ä¸ªæŸ¥æ‰¾æ•´æ•°çš„é—®é¢˜ï¼Œå¹¶ä¸”è¿™ä¸ªæ•´æ•°æ˜¯æœ‰èŒƒå›´çš„ã€‚</p><ul><li>å¦‚æœè¿™ä¸ªæ•´æ•°çš„å¹³æ–¹ <strong>æ°å¥½ç­‰äº</strong> è¾“å…¥æ•´æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ‰¾åˆ°äº†è¿™ä¸ªæ•´æ•°ï¼›</li><li>å¦‚æœè¿™ä¸ªæ•´æ•°çš„å¹³æ–¹ <strong>ä¸¥æ ¼å¤§äº</strong> è¾“å…¥æ•´æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•´æ•°è‚¯å®šä¸æ˜¯æˆ‘ä»¬è¦æ‰¾çš„é‚£ä¸ªæ•°ï¼›</li><li>å¦‚æœè¿™ä¸ªæ•´æ•°çš„å¹³æ–¹ <strong>ä¸¥æ ¼å°äº</strong> è¾“å…¥æ•´æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•´æ•° <strong>å¯èƒ½</strong> æ˜¯æˆ‘ä»¬è¦æ‰¾çš„é‚£ä¸ªæ•°ï¼ˆé‡ç‚¹ç†è§£è¿™å¥è¯ï¼‰ã€‚</li></ul><p>å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ã€ŒäºŒåˆ†æŸ¥æ‰¾ã€æ¥æŸ¥æ‰¾è¿™ä¸ªæ•´æ•°ï¼Œä¸æ–­ç¼©å°èŒƒå›´å»çŒœã€‚</p><ul><li>çŒœçš„æ•°å¹³æ–¹ä»¥åå¤§äº†å°±å¾€å°äº†çŒœï¼›</li><li>çŒœçš„æ•°å¹³æ–¹ä»¥åæ°æ°å¥½ç­‰äºè¾“å…¥çš„æ•°å°±æ‰¾åˆ°äº†ï¼›</li><li>çŒœçš„æ•°å¹³æ–¹ä»¥åå°äº†ï¼Œå¯èƒ½çŒœçš„æ•°å°±æ˜¯ï¼Œä¹Ÿå¯èƒ½ä¸æ˜¯ã€‚</li></ul><p>å¾ˆå®¹æ˜“çŸ¥é“ï¼Œé¢˜ç›®è¦æˆ‘ä»¬è¿”å›çš„æ•´æ•°æ˜¯æœ‰èŒƒå›´çš„ï¼Œç›´è§‰ä¸Šä¸€ä¸ªæ•´æ•°çš„å¹³æ–¹æ ¹è‚¯å®šä¸ä¼šè¶…è¿‡å®ƒè‡ªå·±çš„ä¸€åŠï¼Œä½†æ˜¯ <em>0</em> å’Œ <em>1</em> é™¤å¤–ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨ <em>1</em> åˆ°è¾“å…¥æ•´æ•°é™¤ä»¥ <em>2</em> è¿™ä¸ªèŒƒå›´é‡ŒæŸ¥æ‰¾æˆ‘ä»¬è¦æ‰¾çš„å¹³æ–¹æ ¹æ•´æ•°ã€‚<em>0</em> å•ç‹¬åˆ¤æ–­ä¸€ä¸‹å°±å¥½ã€‚</p><p><strong>å‚è€ƒä»£ç </strong>ï¼š</p><details>    <summary>äºŒåˆ†æŸ¥æ‰¾Java</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ç‰¹æ®Šå€¼åˆ¤æ–­</span></span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> right = x / <span class="number">2</span>;</span><br><span class="line">        <span class="comment">// åœ¨åŒºé—´ [left..right] æŸ¥æ‰¾ç›®æ ‡å…ƒç´ </span></span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">            <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œä¸ºäº†é¿å…ä¹˜æ³•æº¢å‡ºï¼Œæ”¹ç”¨é™¤æ³•</span></span><br><span class="line">            <span class="keyword">if</span> (mid &gt; x / mid) &#123;</span><br><span class="line">                <span class="comment">// ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ [left..mid - 1]</span></span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ [mid..right]</span></span><br><span class="line">                left = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(logx) ï¼Œæ¯ä¸€æ¬¡æœç´¢çš„åŒºé—´å¤§å°çº¦ä¸ºåŸæ¥çš„1/2 ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(log_2x)=O(logx) ï¼›</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</li></ul><p><strong>å¯¹ä»£ç ç¼–å†™é€»è¾‘çš„è§£é‡Š</strong>ï¼š</p><p>ä¸€ã€å†™ <code>if</code> å’Œ <code>else</code> çš„åŸå› ï¼š</p><ul><li>çŒœçš„æ•°æ˜¯ <code>mid</code> ï¼Œæ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œå¦‚æœ <code>mid</code> çš„å¹³æ–¹ <strong>ä¸¥æ ¼å¤§äº</strong> <code>x</code>ï¼Œ<code>mid</code> è‚¯å®šä¸æ˜¯è§£ï¼Œæ¯” <code>mid</code> å¤§çš„æ•´æ•°ä¹Ÿè‚¯å®šä¸æ˜¯è§£ï¼Œå› æ­¤é—®é¢˜çš„ç­”æ¡ˆåªå¯èƒ½å­˜åœ¨åŒºé—´ <code>[left..mid - 1]</code>ï¼Œæ­¤æ—¶è®¾ç½® <code>right = mid - 1</code>ï¼›</li><li><code>else</code> çš„æƒ…å†µå°±æ˜¯ <code>if</code> çš„åé¢ï¼Œåªè¦ <code>if</code> çš„åˆ†æ”¯å’Œå¯¹åº”çš„åŒºé—´åˆ†æå¯¹äº†ï¼Œ<code>else</code> çš„åŒºé—´æ˜¯  <code>[left..mid - 1]</code> çš„åé¢åŒºé—´ï¼Œå³ <code>[mid..right]</code> ï¼Œæ­¤æ—¶è®¾ç½® <code>left = mid</code>ã€‚</li></ul><p>äºŒã€ä¸ºä»€ä¹ˆæœ€åè¿”å› <code>left</code>ã€‚</p><ul><li>é€€å‡º <code>while (left &lt; right)</code> å¾ªç¯çš„æ—¶å€™ï¼Œç”±äºè¾¹ç•Œæœç´¢æ˜¯ <code>left = mid</code> ä¸ <code>right = mid - 1</code>ï¼Œå› æ­¤é€€å‡ºå¾ªç¯çš„æ—¶å€™ä¸€å®šæœ‰ <code>left</code> ä¸ <code>right</code> é‡åˆï¼Œè¿”å› <code>right</code> ä¹Ÿå¯ä»¥ã€‚</li></ul><hr><h2 id="é—®é¢˜ï¼šmid-ä¸ºä»€ä¹ˆè¦åŠ -1ï¼Ÿ"><a href="#é—®é¢˜ï¼šmid-ä¸ºä»€ä¹ˆè¦åŠ -1ï¼Ÿ" class="headerlink" title="é—®é¢˜ï¼šmid ä¸ºä»€ä¹ˆè¦åŠ  1ï¼Ÿ"></a>é—®é¢˜ï¼š<code>mid</code> ä¸ºä»€ä¹ˆè¦åŠ  <code>1</code>ï¼Ÿ</h2><p>å¯¹ç€é”™è¯¯çš„æµ‹è¯•ç”¨ä¾‹æ‰“å°å‡ºå˜é‡ <code>left</code> ã€<code>right</code> å’Œ <code>mid</code> çš„å€¼çœ‹ä¸€ä¸‹å°±å¾ˆæ¸…æ¥šäº†ã€‚</p><p><strong><code>mid</code> ä¸åŠ  <code>1</code> ä¼šé€ æˆæ­»å¾ªç¯çš„ä»£ç </strong>ï¼š</p><details>    <summary>äºŒåˆ†æŸ¥æ‰¾Java</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> right = x / <span class="number">2</span>;</span><br><span class="line">        <span class="comment">// åœ¨åŒºé—´ [left..right] æŸ¥æ‰¾ç›®æ ‡å…ƒç´ </span></span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="comment">// å–ä¸­é—´æ•° mid ä¸‹å–æ•´æ—¶</span></span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è°ƒè¯•è¯­å¥å¼€å§‹</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">"left = "</span> + left + <span class="string">", right = "</span> + right + <span class="string">", mid = "</span> + mid);</span><br><span class="line">            <span class="comment">// è°ƒè¯•è¯­å¥ç»“æŸ</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œä¸ºäº†é¿å…ä¹˜æ³•æº¢å‡ºï¼Œæ”¹ç”¨é™¤æ³•</span></span><br><span class="line">            <span class="keyword">if</span> (mid &gt; x / mid) &#123;</span><br><span class="line">                <span class="comment">// ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ [left..mid - 1]</span></span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// ä¸‹ä¸€è½®æœç´¢åŒºé—´æ˜¯ [mid..right]</span></span><br><span class="line">                left = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution solution = <span class="keyword">new</span> Solution();</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">9</span>;</span><br><span class="line">        <span class="keyword">int</span> res = solution.mySqrt(x);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">left = 1, right = 4, mid = 2</span><br><span class="line">left = 2, right = 4, mid = 3</span><br><span class="line">left = 3, right = 4, mid = 3</span><br><span class="line">left = 3, right = 4, mid = 3</span><br><span class="line">left = 3, right = 4, mid = 3</span><br><span class="line">left = 3, right = 4, mid = 3</span><br></pre></td></tr></table></figure><p><strong>åœ¨åŒºé—´åªæœ‰ <em>2</em> ä¸ªæ•°çš„æ—¶å€™</strong>ï¼Œæœ¬é¢˜ <code>if</code>ã€<code>else</code> çš„é€»è¾‘åŒºé—´çš„åˆ’åˆ†æ–¹å¼æ˜¯ï¼š<code>[left..mid - 1]</code> ä¸ <code>[mid..right]</code>ã€‚å¦‚æœ <code>mid</code> ä¸‹å–æ•´ï¼Œåœ¨åŒºé—´åªæœ‰ <em>2</em> ä¸ªæ•°çš„æ—¶å€™æœ‰ <code>mid</code> çš„å€¼ç­‰äº <code>left</code>ï¼Œä¸€æ—¦è¿›å…¥åˆ†æ”¯ <code>[mid..right]</code> åŒºé—´ä¸ä¼šå†ç¼©å°ï¼Œå‡ºç°æ­»å¾ªç¯ã€‚</p><p><a href="https://pic.leetcode-cn.com/1639366986-BFgeWx-image.png" target="_blank" rel="noopener">image.png</a></p><p><strong>è§£å†³åŠæ³•</strong>ï¼šæŠŠå–ä¸­é—´æ•°çš„æ–¹å¼æ”¹æˆä¸Šå–æ•´ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šè¢–çè®¡ç®—å™¨ç®—æ³•"><a href="#æ–¹æ³•ä¸€ï¼šè¢–çè®¡ç®—å™¨ç®—æ³•" class="headerlink" title="æ–¹æ³•ä¸€ï¼šè¢–çè®¡ç®—å™¨ç®—æ³•"></a>æ–¹æ³•ä¸€ï¼šè¢–çè®¡ç®—å™¨ç®—æ³•</h1><p>ã€Œè¢–çè®¡ç®—å™¨ç®—æ³•ã€æ˜¯ä¸€ç§ç”¨æŒ‡æ•°å‡½æ•° exp  å’Œå¯¹æ•°å‡½æ•° ln ä»£æ›¿å¹³æ–¹æ ¹å‡½æ•°çš„æ–¹æ³•ã€‚æˆ‘ä»¬é€šè¿‡æœ‰é™çš„å¯ä»¥ä½¿ç”¨çš„æ•°å­¦å‡½æ•°ï¼Œå¾—åˆ°æˆ‘ä»¬æƒ³è¦è®¡ç®—çš„ç»“æœã€‚</p><p>æˆ‘ä»¬å°†sqrt(x) å†™æˆå¹‚çš„å½¢å¼ <em>x^{1/2}*ï¼Œå†ä½¿ç”¨è‡ªç„¶å¯¹æ•° *e</em> è¿›è¡Œæ¢åº•ï¼Œå³å¯å¾—åˆ°</p><pre><code>sqrt(x)=x^{1/2} = (e^lnx)^{1/2}=e^{lnx/2}</code></pre><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°sqrt(x)çš„å€¼äº†ã€‚</p><p><strong>æ³¨æ„ï¼š</strong> ç”±äºè®¡ç®—æœºæ— æ³•å­˜å‚¨æµ®ç‚¹æ•°çš„ç²¾ç¡®å€¼ï¼ˆæµ®ç‚¹æ•°çš„å­˜å‚¨æ–¹æ³•å¯ä»¥å‚è€ƒ <a href="https://baike.baidu.com/item/IEEE%20754" target="_blank" rel="noopener">IEEE 754</a>ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼‰ï¼Œè€ŒæŒ‡æ•°å‡½æ•°å’Œå¯¹æ•°å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼å‡ä¸ºæµ®ç‚¹æ•°ï¼Œå› æ­¤è¿ç®—è¿‡ç¨‹ä¸­ä¼šå­˜åœ¨è¯¯å·®ã€‚ä¾‹å¦‚å½“ <em>x = 2147395600</em> æ—¶ï¼Œ(e^lnx/2) çš„è®¡ç®—ç»“æœä¸æ­£ç¡®å€¼ <em>46340</em> ç›¸å·® <em>10^{-11}*ï¼Œè¿™æ ·åœ¨å¯¹ç»“æœå–æ•´æ•°éƒ¨åˆ†æ—¶ï¼Œä¼šå¾—åˆ° *46339</em> è¿™ä¸ªé”™è¯¯çš„ç»“æœã€‚</p><p>å› æ­¤åœ¨å¾—åˆ°ç»“æœçš„æ•´æ•°éƒ¨åˆ† ans åï¼Œæˆ‘ä»¬åº”å½“æ‰¾å‡º ans ä¸ ans+1  ä¸­å“ªä¸€ä¸ªæ˜¯çœŸæ­£çš„ç­”æ¡ˆã€‚</p><details>    <summary>è¢–çè®¡ç®—å™¨ç®—æ³•C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="built_in">exp</span>(<span class="number">0.5</span> * <span class="built_in">log</span>(x));</span><br><span class="line">        <span class="keyword">return</span> ((<span class="keyword">long</span> <span class="keyword">long</span>)(ans + <span class="number">1</span>) * (ans + <span class="number">1</span>) &lt;= x ? ans + <span class="number">1</span> : ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>è¢–çè®¡ç®—å™¨ç®—æ³•Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = (<span class="keyword">int</span>) Math.exp(<span class="number">0.5</span> * Math.log(x));</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">long</span>) (ans + <span class="number">1</span>) * (ans + <span class="number">1</span>) &lt;= x ? ans + <span class="number">1</span> : ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>è¢–çè®¡ç®—å™¨ç®—æ³•Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mySqrt</span><span class="params">(self, x: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> x == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        ans = int(math.exp(<span class="number">0.5</span> * math.log(x)))</span><br><span class="line">        <span class="keyword">return</span> ans + <span class="number">1</span> <span class="keyword">if</span> (ans + <span class="number">1</span>) ** <span class="number">2</span> &lt;= x <span class="keyword">else</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>è¢–çè®¡ç®—å™¨ç®—æ³•Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mySqrt</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    ans := <span class="keyword">int</span>(math.Exp(<span class="number">0.5</span> * math.Log(<span class="keyword">float64</span>(x))))</span><br><span class="line">    <span class="keyword">if</span> (ans + <span class="number">1</span>) * (ans + <span class="number">1</span>) &lt;= x &#123;</span><br><span class="line">        <span class="keyword">return</span> ans + <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œç”±äºå†…ç½®çš„ <code>exp</code> å‡½æ•°ä¸ <code>log</code> å‡½æ•°ä¸€èˆ¬éƒ½å¾ˆå¿«ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå°†å…¶å¤æ‚åº¦è§†ä¸º <em>O(1)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</p></li></ul><h1 id="æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾</h1><p>ç”±äº <em>x</em> å¹³æ–¹æ ¹çš„æ•´æ•°éƒ¨åˆ† ans æ˜¯<strong>æ»¡è¶³ k^2&lt;=x  çš„æœ€å¤§ <em>k</em> å€¼</strong>ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¯¹ <em>k</em> è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œä»è€Œå¾—åˆ°ç­”æ¡ˆã€‚</p><p>äºŒåˆ†æŸ¥æ‰¾çš„ä¸‹ç•Œä¸º <em>0</em>ï¼Œä¸Šç•Œå¯ä»¥ç²—ç•¥åœ°è®¾å®šä¸º <em>x</em>ã€‚åœ¨äºŒåˆ†æŸ¥æ‰¾çš„æ¯ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦æ¯”è¾ƒä¸­é—´å…ƒç´  mid çš„å¹³æ–¹ä¸ <em>x</em> çš„å¤§å°å…³ç³»ï¼Œå¹¶é€šè¿‡æ¯”è¾ƒçš„ç»“æœè°ƒæ•´ä¸Šä¸‹ç•Œçš„èŒƒå›´ã€‚ç”±äºæˆ‘ä»¬æ‰€æœ‰çš„è¿ç®—éƒ½æ˜¯æ•´æ•°è¿ç®—ï¼Œä¸ä¼šå­˜åœ¨è¯¯å·®ï¼Œå› æ­¤åœ¨å¾—åˆ°æœ€ç»ˆçš„ç­”æ¡ˆ ans åï¼Œä¹Ÿå°±ä¸éœ€è¦å†å»å°è¯• ans+1 äº†ã€‚</p><details>    <summary>äºŒåˆ†æŸ¥æ‰¾C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = x, ans = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> ((<span class="keyword">long</span> <span class="keyword">long</span>)mid * mid &lt;= x) &#123;</span><br><span class="line">                ans = mid;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒåˆ†æŸ¥æ‰¾Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = x, ans = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> ((<span class="keyword">long</span>) mid * mid &lt;= x) &#123;</span><br><span class="line">                ans = mid;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒåˆ†æŸ¥æ‰¾Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mySqrt</span><span class="params">(self, x: int)</span> -&gt; int:</span></span><br><span class="line">        l, r, ans = <span class="number">0</span>, x, <span class="number">-1</span></span><br><span class="line">        <span class="keyword">while</span> l &lt;= r:</span><br><span class="line">            mid = (l + r) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> mid * mid &lt;= x:</span><br><span class="line">                ans = mid</span><br><span class="line">                l = mid + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                r = mid - <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>äºŒåˆ†æŸ¥æ‰¾Golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mySqrt</span><span class="params">(x <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    l, r := <span class="number">0</span>, x</span><br><span class="line">    ans := <span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> l &lt;= r &#123;</span><br><span class="line">        mid := l + (r - l) / <span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> mid * mid &lt;= x &#123;</span><br><span class="line">            ans = mid</span><br><span class="line">            l = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            r = mid - <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(logx)ï¼Œå³ä¸ºäºŒåˆ†æŸ¥æ‰¾éœ€è¦çš„æ¬¡æ•°ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</p></li></ul><h1 id="æ–¹æ³•ä¸‰ï¼šç‰›é¡¿è¿­ä»£"><a href="#æ–¹æ³•ä¸‰ï¼šç‰›é¡¿è¿­ä»£" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šç‰›é¡¿è¿­ä»£"></a>æ–¹æ³•ä¸‰ï¼šç‰›é¡¿è¿­ä»£</h1><p><strong>æ€è·¯</strong></p><p><a href="https://baike.baidu.com/item/%E7%89%9B%E9%A1%BF%E8%BF%AD%E4%BB%A3%E6%B3%95" target="_blank" rel="noopener">ç‰›é¡¿è¿­ä»£æ³•</a>æ˜¯ä¸€ç§å¯ä»¥ç”¨æ¥å¿«é€Ÿæ±‚è§£å‡½æ•°é›¶ç‚¹çš„æ–¹æ³•ã€‚å‚è§<a href="https://leetcode-cn.com/problems/sqrtx/solution/x-de-ping-fang-gen-by-leetcode-solution/" target="_blank" rel="noopener">^2</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å®ç° int sqrt(int x) å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;è®¡ç®—å¹¶è¿”å› x çš„å¹³æ–¹æ ¹ï¼Œå…¶ä¸­ x æ˜¯éè´Ÿæ•´æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™æ•´æ•°çš„éƒ¨åˆ†ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>50. Pow(x, n)å¿«é€Ÿå¹‚ç®—æ³•</title>
    <link href="http://yoursite.com/2021/12/13/50.%20Pow(x,%20n)%E5%BF%AB%E9%80%9F%E5%B9%82%E7%AE%97%E6%B3%95/"/>
    <id>http://yoursite.com/2021/12/13/50. Pow(x, n)å¿«é€Ÿå¹‚ç®—æ³•/</id>
    <published>2021-12-13T03:12:12.000Z</published>
    <updated>2021-12-13T06:33:46.311Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨è®¡ç®—æ–æ³¢é‚£å¥‘æ•°æ—¶é‡åˆ°è¦æ±‚çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(logn),è¿™æ ·å¸¸ç”¨çš„é€’å½’å’ŒåŠ¨æ€è§„åˆ’éƒ½ä¸æ»¡è¶³è¦æ±‚äº†ï¼Œéœ€è¦ç”¨åˆ°å¿«é€Ÿå¹‚ç®—æ³•ã€‚</p><p>å®ç° pow(x, n) ï¼Œå³è®¡ç®—xçš„næ¬¡å¹‚å‡½æ•°ï¼ˆå³x^nï¼‰ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šx = 2.00000, n = 10è¾“å‡ºï¼š1024.00000</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šx = 2.10000, n = 3è¾“å‡ºï¼š9.26100</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šx = 2.00000, n = -2è¾“å‡ºï¼š0.25000è§£é‡Šï¼š2^-2 = 1/2^2 = 1/4 = 0.25</code></pre><p>æç¤ºï¼š</p><pre><code>-100.0 &lt; x &lt; 100.0-2^31 &lt;= n &lt;= 2^31-1-10^4 &lt;= x^n &lt;= 10^4</code></pre><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬é¢˜çš„æ–¹æ³•è¢«ç§°ä¸ºã€Œå¿«é€Ÿå¹‚ç®—æ³•ã€ï¼Œæœ‰é€’å½’å’Œè¿­ä»£ä¸¤ä¸ªç‰ˆæœ¬ã€‚è¿™ç¯‡é¢˜è§£ä¼šä»é€’å½’ç‰ˆæœ¬çš„å¼€å§‹è®²èµ·ï¼Œå†é€æ­¥å¼•å‡ºè¿­ä»£çš„ç‰ˆæœ¬ã€‚</p><p>å½“æŒ‡æ•° <em>n</em> ä¸ºè´Ÿæ•°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®— <em>x^{-n}</em> å†å–å€’æ•°å¾—åˆ°ç»“æœï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦è€ƒè™‘ <em>n</em> ä¸ºè‡ªç„¶æ•°çš„æƒ…å†µã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šå¿«é€Ÿå¹‚-é€’å½’-1"><a href="#æ–¹æ³•ä¸€ï¼šå¿«é€Ÿå¹‚-é€’å½’-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå¿«é€Ÿå¹‚ + é€’å½’^1"></a>æ–¹æ³•ä¸€ï¼šå¿«é€Ÿå¹‚ + é€’å½’<a href="https://leetcode-cn.com/problems/powx-n/solution/powx-n-by-leetcode-solution/" target="_blank" rel="noopener">^1</a></h1><p>ã€Œå¿«é€Ÿå¹‚ç®—æ³•ã€çš„æœ¬è´¨æ˜¯åˆ†æ²»ç®—æ³•ã€‚</p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">quickMul</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">long</span> <span class="keyword">long</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (N == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1.0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">double</span> y = quickMul(x, N / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> N % <span class="number">2</span> == <span class="number">0</span> ? y * y : y * y * x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">myPow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> N = n;</span><br><span class="line">        <span class="keyword">return</span> N &gt;= <span class="number">0</span> ? quickMul(x, N) : <span class="number">1.0</span> / quickMul(x, -N);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">myPow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> N = n;</span><br><span class="line">        <span class="keyword">return</span> N &gt;= <span class="number">0</span> ? quickMul(x, N) : <span class="number">1.0</span> / quickMul(x, -N);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">quickMul</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">long</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (N == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1.0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">double</span> y = quickMul(x, N / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> N % <span class="number">2</span> == <span class="number">0</span> ? y * y : y * y * x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">myPow</span><span class="params">(self, x: float, n: int)</span> -&gt; float:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">quickMul</span><span class="params">(N)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> N == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1.0</span></span><br><span class="line">            y = quickMul(N // <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> y * y <span class="keyword">if</span> N % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">else</span> y * y * x</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> quickMul(n) <span class="keyword">if</span> n &gt;= <span class="number">0</span> <span class="keyword">else</span> <span class="number">1.0</span> / quickMul(-n)</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myPow</span><span class="params">(x <span class="keyword">float64</span>, n <span class="keyword">int</span>)</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> n &gt;= <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> quickMul(x, n)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1.0</span> / quickMul(x, -n)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">quickMul</span><span class="params">(x <span class="keyword">float64</span>, n <span class="keyword">int</span>)</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    y := quickMul(x, n/<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">if</span> n%<span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> y * y</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> y * y * x</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="æ–¹æ³•äºŒï¼šå¿«é€Ÿå¹‚-è¿­ä»£"><a href="#æ–¹æ³•äºŒï¼šå¿«é€Ÿå¹‚-è¿­ä»£" class="headerlink" title="æ–¹æ³•äºŒï¼šå¿«é€Ÿå¹‚ + è¿­ä»£"></a>æ–¹æ³•äºŒï¼šå¿«é€Ÿå¹‚ + è¿­ä»£</h1><p>ç”±äºé€’å½’éœ€è¦ä½¿ç”¨é¢å¤–çš„æ ˆç©ºé—´ï¼Œæˆ‘ä»¬è¯•ç€å°†é€’å½’è½¬å†™ä¸ºè¿­ä»£ã€‚åœ¨æ–¹æ³•ä¸€ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿæåˆ°è¿‡ï¼Œä»å·¦åˆ°å³è¿›è¡Œæ¨å¯¼æ˜¯ä¸å®¹æ˜“çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸çŸ¥é“æ˜¯å¦éœ€è¦é¢å¤–ä¹˜ <em>x</em>ã€‚ä½†æˆ‘ä»¬ä¸å¦¨æ‰¾ä¸€æ‰¾è§„å¾‹ï¼Œçœ‹çœ‹å“ªäº›åœ°æ–¹é¢å¤–ä¹˜äº† <em>x</em>ï¼Œå¹¶ä¸”å®ƒä»¬å¯¹ç­”æ¡ˆäº§ç”Ÿäº†ä»€ä¹ˆå½±å“ã€‚</p><p>ä¸‹é¢çš„ä»£ç ç»™å‡ºäº†è¯¦ç»†çš„æ³¨é‡Šã€‚</p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">quickMul</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">long</span> <span class="keyword">long</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> ans = <span class="number">1.0</span>;</span><br><span class="line">        <span class="comment">// è´¡çŒ®çš„åˆå§‹å€¼ä¸º x</span></span><br><span class="line">        <span class="keyword">double</span> x_contribute = x;</span><br><span class="line">        <span class="comment">// åœ¨å¯¹ N è¿›è¡ŒäºŒè¿›åˆ¶æ‹†åˆ†çš„åŒæ—¶è®¡ç®—ç­”æ¡ˆ</span></span><br><span class="line">        <span class="keyword">while</span> (N &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (N % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœ N äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€ä½ä½ä¸º 1ï¼Œé‚£ä¹ˆéœ€è¦è®¡å…¥è´¡çŒ®</span></span><br><span class="line">                ans *= x_contribute;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å°†è´¡çŒ®ä¸æ–­åœ°å¹³æ–¹</span></span><br><span class="line">            x_contribute *= x_contribute;</span><br><span class="line">            <span class="comment">// èˆå¼ƒ N äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€ä½ä½ï¼Œè¿™æ ·æˆ‘ä»¬æ¯æ¬¡åªè¦åˆ¤æ–­æœ€ä½ä½å³å¯</span></span><br><span class="line">            N /= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">myPow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> N = n;</span><br><span class="line">        <span class="keyword">return</span> N &gt;= <span class="number">0</span> ? quickMul(x, N) : <span class="number">1.0</span> / quickMul(x, -N);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">myPow</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> N = n;</span><br><span class="line">        <span class="keyword">return</span> N &gt;= <span class="number">0</span> ? quickMul(x, N) : <span class="number">1.0</span> / quickMul(x, -N);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">quickMul</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">long</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> ans = <span class="number">1.0</span>;</span><br><span class="line">        <span class="comment">// è´¡çŒ®çš„åˆå§‹å€¼ä¸º x</span></span><br><span class="line">        <span class="keyword">double</span> x_contribute = x;</span><br><span class="line">        <span class="comment">// åœ¨å¯¹ N è¿›è¡ŒäºŒè¿›åˆ¶æ‹†åˆ†çš„åŒæ—¶è®¡ç®—ç­”æ¡ˆ</span></span><br><span class="line">        <span class="keyword">while</span> (N &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (N % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœ N äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€ä½ä½ä¸º 1ï¼Œé‚£ä¹ˆéœ€è¦è®¡å…¥è´¡çŒ®</span></span><br><span class="line">                ans *= x_contribute;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å°†è´¡çŒ®ä¸æ–­åœ°å¹³æ–¹</span></span><br><span class="line">            x_contribute *= x_contribute;</span><br><span class="line">            <span class="comment">// èˆå¼ƒ N äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€ä½ä½ï¼Œè¿™æ ·æˆ‘ä»¬æ¯æ¬¡åªè¦åˆ¤æ–­æœ€ä½ä½å³å¯</span></span><br><span class="line">            N /= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">myPow</span><span class="params">(self, x: float, n: int)</span> -&gt; float:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">quickMul</span><span class="params">(N)</span>:</span></span><br><span class="line">            ans = <span class="number">1.0</span></span><br><span class="line">            <span class="comment"># è´¡çŒ®çš„åˆå§‹å€¼ä¸º x</span></span><br><span class="line">            x_contribute = x</span><br><span class="line">            <span class="comment"># åœ¨å¯¹ N è¿›è¡ŒäºŒè¿›åˆ¶æ‹†åˆ†çš„åŒæ—¶è®¡ç®—ç­”æ¡ˆ</span></span><br><span class="line">            <span class="keyword">while</span> N &gt; <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">if</span> N % <span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">                    <span class="comment"># å¦‚æœ N äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€ä½ä½ä¸º 1ï¼Œé‚£ä¹ˆéœ€è¦è®¡å…¥è´¡çŒ®</span></span><br><span class="line">                    ans *= x_contribute</span><br><span class="line">                <span class="comment"># å°†è´¡çŒ®ä¸æ–­åœ°å¹³æ–¹</span></span><br><span class="line">                x_contribute *= x_contribute</span><br><span class="line">                <span class="comment"># èˆå¼ƒ N äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€ä½ä½ï¼Œè¿™æ ·æˆ‘ä»¬æ¯æ¬¡åªè¦åˆ¤æ–­æœ€ä½ä½å³å¯</span></span><br><span class="line">                N //= <span class="number">2</span></span><br><span class="line">            <span class="keyword">return</span> ans</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> quickMul(n) <span class="keyword">if</span> n &gt;= <span class="number">0</span> <span class="keyword">else</span> <span class="number">1.0</span> / quickMul(-n)</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myPow</span><span class="params">(x <span class="keyword">float64</span>, n <span class="keyword">int</span>)</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> n &gt;= <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> quickMul(x, n)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1.0</span> / quickMul(x, -n)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">quickMul</span><span class="params">(x <span class="keyword">float64</span>, N <span class="keyword">int</span>)</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">    ans := <span class="number">1.0</span></span><br><span class="line">    <span class="comment">// è´¡çŒ®çš„åˆå§‹å€¼ä¸º x</span></span><br><span class="line">    x_contribute := x</span><br><span class="line">    <span class="comment">// åœ¨å¯¹ N è¿›è¡ŒäºŒè¿›åˆ¶æ‹†åˆ†çš„åŒæ—¶è®¡ç®—ç­”æ¡ˆ</span></span><br><span class="line">    <span class="keyword">for</span> N &gt; <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> N % <span class="number">2</span> == <span class="number">1</span> &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœ N äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€ä½ä½ä¸º 1ï¼Œé‚£ä¹ˆéœ€è¦è®¡å…¥è´¡çŒ®</span></span><br><span class="line">            ans *= x_contribute</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†è´¡çŒ®ä¸æ–­åœ°å¹³æ–¹</span></span><br><span class="line">        x_contribute *= x_contribute</span><br><span class="line">        <span class="comment">// èˆå¼ƒ N äºŒè¿›åˆ¶è¡¨ç¤ºçš„æœ€ä½ä½ï¼Œè¿™æ ·æˆ‘ä»¬æ¯æ¬¡åªè¦åˆ¤æ–­æœ€ä½ä½å³å¯</span></span><br><span class="line">        N /= <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨è®¡ç®—æ–æ³¢é‚£å¥‘æ•°æ—¶é‡åˆ°è¦æ±‚çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(logn),è¿™æ ·å¸¸ç”¨çš„é€’å½’å’ŒåŠ¨æ€è§„åˆ’éƒ½ä¸æ»¡è¶³è¦æ±‚äº†ï¼Œéœ€è¦ç”¨åˆ°å¿«é€Ÿå¹‚ç®—æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å®ç° pow(x, n) ï¼Œå³è®¡ç®—xçš„næ¬¡å¹‚å‡½æ•°ï¼ˆå³x^nï¼‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
      <category term="Recursion" scheme="http://yoursite.com/tags/Recursion/"/>
    
  </entry>
  
  <entry>
    <title>509. æ–æ³¢é‚£å¥‘æ•°</title>
    <link href="http://yoursite.com/2021/12/13/509.%20%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0/"/>
    <id>http://yoursite.com/2021/12/13/509. æ–æ³¢é‚£å¥‘æ•°/</id>
    <published>2021-12-13T02:12:12.000Z</published>
    <updated>2021-12-13T03:16:50.108Z</updated>
    
    <content type="html"><![CDATA[<p> è®¡ç®—æ–æ³¢é‚£å¥‘æ•°ï¼Œè™½ç„¶æ­¤é¢˜çœ‹èµ·æ¥ç®€å•ï¼Œä½†é¢è¯•ä¸­å¸¸è¦æ±‚çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(logn),è¿™æ ·å¸¸ç”¨çš„é€’å½’å’ŒåŠ¨æ€è§„åˆ’éƒ½ä¸æ»¡è¶³è¦æ±‚äº†ï¼Œéš¾åº¦å±å®ä¸ä½ã€‚</p><a id="more"></a><p>[TOC]</p><p>æ–æ³¢é‚£å¥‘æ•°ï¼Œé€šå¸¸ç”¨ F(n) è¡¨ç¤ºï¼Œå½¢æˆçš„åºåˆ—ç§°ä¸º æ–æ³¢é‚£å¥‘æ•°åˆ— ã€‚è¯¥æ•°åˆ—ç”± 0 å’Œ 1 å¼€å§‹ï¼Œåé¢çš„æ¯ä¸€é¡¹æ•°å­—éƒ½æ˜¯å‰é¢ä¸¤é¡¹æ•°å­—çš„å’Œã€‚ä¹Ÿå°±æ˜¯ï¼š</p><p>F(0) = 0ï¼ŒF(1) = 1<br>F(n) = F(n - 1) + F(n - 2)ï¼Œå…¶ä¸­ n &gt; 1<br>ç»™ä½  n ï¼Œè¯·è®¡ç®— F(n) ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼š2è¾“å‡ºï¼š1è§£é‡Šï¼šF(2) = F(1) + F(0) = 1 + 0 = 1</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼š3è¾“å‡ºï¼š2è§£é‡Šï¼šF(3) = F(2) + F(1) = 1 + 1 = 2</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼š4è¾“å‡ºï¼š3è§£é‡Šï¼šF(4) = F(3) + F(2) = 2 + 1 = 3</code></pre><p>æç¤ºï¼š</p><pre><code>0 &lt;= n &lt;= 30</code></pre><p>ä¸<a href="https://leetcode-cn.com/problems/fei-bo-na-qi-shu-lie-lcof/" target="_blank" rel="noopener">å‰‘æŒ‡ Offer 10- I. æ–æ³¢é‚£å¥‘æ•°åˆ—</a>ç›¸åŒ</p><p>å‚è§<a href="https://leetcode-cn.com/problems/fibonacci-number/solution/fei-bo-na-qi-shu-by-leetcode-solution-o4ze/" target="_blank" rel="noopener">^1</a></p><h1 id="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’"><a href="#æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’"></a>æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’</h1><p>æ–æ³¢é‚£å¥‘æ•°çš„è¾¹ç•Œæ¡ä»¶æ˜¯ <em>F(0)=0</em> å’Œ <em>F(1)=1*ã€‚å½“ *n&gt;1</em> æ—¶ï¼Œæ¯ä¸€é¡¹çš„å’Œéƒ½ç­‰äºå‰ä¸¤é¡¹çš„å’Œï¼Œå› æ­¤æœ‰å¦‚ä¸‹é€’æ¨å…³ç³»ï¼š</p><p><em>F(n)=F(n-1)+F(n-2)</em></p><p>ç”±äºæ–æ³¢é‚£å¥‘æ•°å­˜åœ¨é€’æ¨å…³ç³»ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£ã€‚åŠ¨æ€è§„åˆ’çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹å³ä¸ºä¸Šè¿°é€’æ¨å…³ç³»ï¼Œè¾¹ç•Œæ¡ä»¶ä¸º <em>F(0)</em> å’Œ <em>F(1)</em>ã€‚</p><p>æ ¹æ®çŠ¶æ€è½¬ç§»æ–¹ç¨‹å’Œè¾¹ç•Œæ¡ä»¶ï¼Œå¯ä»¥å¾—åˆ°æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯ <em>O(n)</em> çš„å®ç°ã€‚ç”±äº <em>F(n)</em> åªå’Œ <em>F(n-1)</em> ä¸ <em>F(n-2)</em> æœ‰å…³ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ã€Œæ»šåŠ¨æ•°ç»„æ€æƒ³ã€æŠŠç©ºé—´å¤æ‚åº¦ä¼˜åŒ–æˆ <em>O(1)</em>ã€‚<strong>å¦‚ä¸‹çš„ä»£ç ä¸­ç»™å‡ºçš„å°±æ˜¯è¿™ç§å®ç°ã€‚</strong></p><p> <a href="https://assets.leetcode-cn.com/solution-static/509/509_fig1.gif" target="_blank" rel="noopener">fig1</a></p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> p = <span class="number">0</span>, q = <span class="number">0</span>, r = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">            p = q; </span><br><span class="line">            q = r; </span><br><span class="line">            r = p + q;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> p = <span class="number">0</span>, q = <span class="number">0</span>, r = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">            p = q; </span><br><span class="line">            q = r; </span><br><span class="line">            r = p + q;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fib = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> p = <span class="number">0</span>, q = <span class="number">0</span>, r = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        p = q;</span><br><span class="line">        q = r;</span><br><span class="line">        r = p + q;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fib</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">2</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> n</span><br><span class="line">    &#125;</span><br><span class="line">    p, q, r := <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">2</span>; i &lt;= n; i++ &#123;</span><br><span class="line">        p = q</span><br><span class="line">        q = r</span><br><span class="line">        r = p + q</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> p = <span class="number">0</span>, q = <span class="number">0</span>, r = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        p = q;</span><br><span class="line">        q = r;</span><br><span class="line">        r = p + q;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(self, n: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        </span><br><span class="line">        p, q, r = <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, n + <span class="number">1</span>):</span><br><span class="line">            p, q = q, r</span><br><span class="line">            r = p + q</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> r</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</p></li></ul><h1 id="æ–¹æ³•äºŒï¼šçŸ©é˜µå¿«é€Ÿå¹‚"><a href="#æ–¹æ³•äºŒï¼šçŸ©é˜µå¿«é€Ÿå¹‚" class="headerlink" title="æ–¹æ³•äºŒï¼šçŸ©é˜µå¿«é€Ÿå¹‚"></a>æ–¹æ³•äºŒï¼šçŸ©é˜µå¿«é€Ÿå¹‚</h1><p>æ–¹æ³•ä¸€çš„æ—¶é—´å¤æ‚åº¦æ˜¯ <em>O(n)</em>ã€‚ä½¿ç”¨çŸ©é˜µå¿«é€Ÿå¹‚çš„æ–¹æ³•å¯ä»¥é™ä½æ—¶é—´å¤æ‚åº¦ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬å¯ä»¥æ„å»ºä¸€ä¸ªé€’æ¨å…³ç³»ï¼š</p><p>å› æ­¤åªè¦æˆ‘ä»¬èƒ½å¿«é€Ÿè®¡ç®—çŸ©é˜µ <em>M</em> çš„ <em>n</em> æ¬¡å¹‚ï¼Œå°±å¯ä»¥å¾—åˆ° <em>F(n)</em> çš„å€¼ã€‚å¦‚æœç›´æ¥æ±‚å– <em>M^n<em>ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ *O(n)</em>ï¼Œå¯ä»¥å®šä¹‰çŸ©é˜µä¹˜æ³•ï¼Œç„¶åç”¨å¿«é€Ÿå¹‚ç®—æ³•æ¥åŠ é€Ÿè¿™é‡Œ *M^n</em> çš„æ±‚å–ã€‚</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>[][] q = &#123;&#123;<span class="number">1</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">int</span>[][] res = pow(q, n - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> res[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] pow(<span class="keyword">int</span>[][] a, <span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="keyword">int</span>[][] ret = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((n &amp; <span class="number">1</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">                ret = multiply(ret, a);</span><br><span class="line">            &#125;</span><br><span class="line">            n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">            a = multiply(a, a);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] multiply(<span class="keyword">int</span>[][] a, <span class="keyword">int</span>[][] b) &#123;</span><br><span class="line">        <span class="keyword">int</span>[][] c = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">                c[i][j] = a[i][<span class="number">0</span>] * b[<span class="number">0</span>][j] + a[i][<span class="number">1</span>] * b[<span class="number">1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; q&#123;&#123;<span class="number">1</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res = matrix_pow(q, n - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> res[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; matrix_pow(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; a, <span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; ret&#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (n &amp; <span class="number">1</span>) &#123;</span><br><span class="line">                ret = matrix_multiply(ret, a);</span><br><span class="line">            &#125;</span><br><span class="line">            n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">            a = matrix_multiply(a, a);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; matrix_multiply(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; a, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; b) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; c&#123;&#123;<span class="number">0</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">                c[i][j] = a[i][<span class="number">0</span>] * b[<span class="number">0</span>][j] + a[i][<span class="number">1</span>] * b[<span class="number">1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol2-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fib = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> q = [[<span class="number">1</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">0</span>]];</span><br><span class="line">    <span class="keyword">const</span> res = pow(q, n - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> res[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pow = <span class="function">(<span class="params">a, n</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> ret = [[<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>]];</span><br><span class="line">    <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((n &amp; <span class="number">1</span>) === <span class="number">1</span>) &#123;</span><br><span class="line">            ret = multiply(ret, a);</span><br><span class="line">        &#125;</span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        a = multiply(a, a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> multiply = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> c = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">2</span>).fill(<span class="number">0</span>).map(<span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">2</span>).fill(<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">            c[i][j] = a[i][<span class="number">0</span>] * b[<span class="number">0</span>][j] + a[i][<span class="number">1</span>] * b[<span class="number">1</span>][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> matrix [<span class="number">2</span>][<span class="number">2</span>]<span class="keyword">int</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">multiply</span><span class="params">(a, b matrix)</span> <span class="params">(c matrix)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">2</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">2</span>; j++ &#123;</span><br><span class="line">            c[i][j] = a[i][<span class="number">0</span>]*b[<span class="number">0</span>][j] + a[i][<span class="number">1</span>]*b[<span class="number">1</span>][j]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">pow</span><span class="params">(a matrix, n <span class="keyword">int</span>)</span> <span class="title">matrix</span></span> &#123;</span><br><span class="line">    ret := matrix&#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;&#125;</span><br><span class="line">    <span class="keyword">for</span> ; n &gt; <span class="number">0</span>; n &gt;&gt;= <span class="number">1</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> n&amp;<span class="number">1</span> == <span class="number">1</span> &#123;</span><br><span class="line">            ret = multiply(ret, a)</span><br><span class="line">        &#125;</span><br><span class="line">        a = multiply(a, a)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fib</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">2</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> n</span><br><span class="line">    &#125;</span><br><span class="line">    res := pow(matrix&#123;&#123;<span class="number">1</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;, n<span class="number">-1</span>)</span><br><span class="line">    <span class="keyword">return</span> res[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Matrix</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> mat[<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">struct Matrix <span class="title">matrixMultiply</span><span class="params">(struct Matrix* a, struct Matrix* b)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Matrix</span> <span class="title">c</span>;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">            c.mat[i][j] = (*a).mat[i][<span class="number">0</span>] * (*b).mat[<span class="number">0</span>][j] + (*a).mat[i][<span class="number">1</span>] * (*b).mat[<span class="number">1</span>][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">struct Matrix <span class="title">matrixPow</span><span class="params">(struct Matrix a, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Matrix</span> <span class="title">ret</span>;</span></span><br><span class="line">    ret.mat[<span class="number">0</span>][<span class="number">0</span>] = ret.mat[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    ret.mat[<span class="number">0</span>][<span class="number">1</span>] = ret.mat[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (n &amp; <span class="number">1</span>) &#123;</span><br><span class="line">            ret = matrixMultiply(&amp;ret, &amp;a);</span><br><span class="line">        &#125;</span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        a = matrixMultiply(&amp;a, &amp;a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Matrix</span> <span class="title">q</span>;</span></span><br><span class="line">    q.mat[<span class="number">0</span>][<span class="number">0</span>] = q.mat[<span class="number">0</span>][<span class="number">1</span>] = q.mat[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    q.mat[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Matrix</span> <span class="title">res</span> = <span class="title">matrixPow</span>(<span class="title">q</span>, <span class="title">n</span> - 1);</span></span><br><span class="line">    <span class="keyword">return</span> res.mat[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(self, n: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        </span><br><span class="line">        q = [[<span class="number">1</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">0</span>]]</span><br><span class="line">        res = self.matrix_pow(q, n - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> res[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">matrix_pow</span><span class="params">(self, a: List[List[int]], n: int)</span> -&gt; List[List[int]]:</span></span><br><span class="line">        ret = [[<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>]]</span><br><span class="line">        <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> n &amp; <span class="number">1</span>:</span><br><span class="line">                ret = self.matrix_multiply(ret, a)</span><br><span class="line">            n &gt;&gt;= <span class="number">1</span></span><br><span class="line">            a = self.matrix_multiply(a, a)</span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">matrix_multiply</span><span class="params">(self, a: List[List[int]], b: List[List[int]])</span> -&gt; List[List[int]]:</span></span><br><span class="line">        c = [[<span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>]]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">                c[i][j] = a[i][<span class="number">0</span>] * b[<span class="number">0</span>][j] + a[i][<span class="number">1</span>] * b[<span class="number">1</span>][j]</span><br><span class="line">        <span class="keyword">return</span> c</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼šO(logn)  ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</p></li></ul><h1 id="æ–¹æ³•ä¸‰ï¼šé€šé¡¹å…¬å¼"><a href="#æ–¹æ³•ä¸‰ï¼šé€šé¡¹å…¬å¼" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šé€šé¡¹å…¬å¼"></a>æ–¹æ³•ä¸‰ï¼šé€šé¡¹å…¬å¼</h1><p>æ–æ³¢é‚£å¥‘æ•° <em>F(n)</em> æ˜¯é½æ¬¡çº¿æ€§é€’æ¨ï¼Œæ ¹æ®é€’æ¨æ–¹ç¨‹ <em>F(n)=F(n-1)+F(n-2)</em>ï¼Œå¯ä»¥å†™å‡ºè¿™æ ·çš„ç‰¹å¾æ–¹ç¨‹ï¼š</p><p><em>x^2=x+1</em></p><p>å¾—åˆ°é€šé¡¹å…¬å¼ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡å…¬å¼ç›´æ¥æ±‚è§£ç¬¬ <em>n</em> é¡¹ã€‚</p><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol3-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> sqrt5 = Math.sqrt(<span class="number">5</span>);</span><br><span class="line">        <span class="keyword">double</span> fibN = Math.pow((<span class="number">1</span> + sqrt5) / <span class="number">2</span>, n) - Math.pow((<span class="number">1</span> - sqrt5) / <span class="number">2</span>, n);</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">int</span>) Math.round(fibN / sqrt5);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol3-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> sqrt5 = <span class="built_in">sqrt</span>(<span class="number">5</span>);</span><br><span class="line">        <span class="keyword">double</span> fibN = <span class="built_in">pow</span>((<span class="number">1</span> + sqrt5) / <span class="number">2</span>, n) - <span class="built_in">pow</span>((<span class="number">1</span> - sqrt5) / <span class="number">2</span>, n);</span><br><span class="line">        <span class="keyword">return</span> round(fibN / sqrt5);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol3-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fib = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> sqrt5 = <span class="built_in">Math</span>.sqrt(<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">const</span> fibN = <span class="built_in">Math</span>.pow((<span class="number">1</span> + sqrt5) / <span class="number">2</span>, n) - <span class="built_in">Math</span>.pow((<span class="number">1</span> - sqrt5) / <span class="number">2</span>, n);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.round(fibN / sqrt5);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol3-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fib</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    sqrt5 := math.Sqrt(<span class="number">5</span>)</span><br><span class="line">    p1 := math.Pow((<span class="number">1</span>+sqrt5)/<span class="number">2</span>, <span class="keyword">float64</span>(n))</span><br><span class="line">    p2 := math.Pow((<span class="number">1</span>-sqrt5)/<span class="number">2</span>, <span class="keyword">float64</span>(n))</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">int</span>(math.Round((p1 - p2) / sqrt5))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol3-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> sqrt5 = <span class="built_in">sqrt</span>(<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">double</span> fibN = <span class="built_in">pow</span>((<span class="number">1</span> + sqrt5) / <span class="number">2</span>, n) - <span class="built_in">pow</span>((<span class="number">1</span> - sqrt5) / <span class="number">2</span>, n);</span><br><span class="line">    <span class="keyword">return</span> round(fibN / sqrt5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol3-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(self, n: int)</span> -&gt; int:</span></span><br><span class="line">        sqrt5 = <span class="number">5</span>**<span class="number">0.5</span></span><br><span class="line">        fibN = ((<span class="number">1</span> + sqrt5) / <span class="number">2</span>) ** n - ((<span class="number">1</span> - sqrt5) / <span class="number">2</span>) ** n</span><br><span class="line">        <span class="keyword">return</span> round(fibN / sqrt5)</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><p>ä»£ç ä¸­ä½¿ç”¨çš„ pow å‡½æ•°çš„æ—¶ç©ºå¤æ‚åº¦ä¸ CPU æ”¯æŒçš„æŒ‡ä»¤é›†ç›¸å…³ï¼Œè¿™é‡Œä¸æ·±å…¥åˆ†æã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt; è®¡ç®—æ–æ³¢é‚£å¥‘æ•°ï¼Œè™½ç„¶æ­¤é¢˜çœ‹èµ·æ¥ç®€å•ï¼Œä½†é¢è¯•ä¸­å¸¸è¦æ±‚çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(logn),è¿™æ ·å¸¸ç”¨çš„é€’å½’å’ŒåŠ¨æ€è§„åˆ’éƒ½ä¸æ»¡è¶³è¦æ±‚äº†ï¼Œéš¾åº¦å±å®ä¸ä½ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
      <category term="Recursion" scheme="http://yoursite.com/tags/Recursion/"/>
    
      <category term="Memoization" scheme="http://yoursite.com/tags/Memoization/"/>
    
  </entry>
  
  <entry>
    <title>é¢è¯•é¢˜ 08.06. æ±‰è¯ºå¡”é—®é¢˜</title>
    <link href="http://yoursite.com/2021/12/13/%E9%9D%A2%E8%AF%95%E9%A2%98%2008.06.%20%E6%B1%89%E8%AF%BA%E5%A1%94%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2021/12/13/é¢è¯•é¢˜ 08.06. æ±‰è¯ºå¡”é—®é¢˜/</id>
    <published>2021-12-13T02:12:12.000Z</published>
    <updated>2021-12-13T02:23:43.428Z</updated>
    
    <content type="html"><![CDATA[<p> è¯·ç¼–å†™ç¨‹åºï¼Œç”¨æ ˆå°†æ‰€æœ‰ç›˜å­ä»ç¬¬ä¸€æ ¹æŸ±å­ç§»åˆ°æœ€åä¸€æ ¹æŸ±å­ã€‚</p><a id="more"></a><p>[TOC]</p><p>åœ¨ç»å…¸æ±‰è¯ºå¡”é—®é¢˜ä¸­ï¼Œæœ‰ 3 æ ¹æŸ±å­åŠ N ä¸ªä¸åŒå¤§å°çš„ç©¿å­”åœ†ç›˜ï¼Œç›˜å­å¯ä»¥æ»‘å…¥ä»»æ„ä¸€æ ¹æŸ±å­ã€‚ä¸€å¼€å§‹ï¼Œæ‰€æœ‰ç›˜å­è‡ªä¸Šè€Œä¸‹æŒ‰å‡åºä¾æ¬¡å¥—åœ¨ç¬¬ä¸€æ ¹æŸ±å­ä¸Š(å³æ¯ä¸€ä¸ªç›˜å­åªèƒ½æ”¾åœ¨æ›´å¤§çš„ç›˜å­ä¸Šé¢)ã€‚ç§»åŠ¨åœ†ç›˜æ—¶å—åˆ°ä»¥ä¸‹é™åˆ¶:<br>(1) æ¯æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªç›˜å­;<br>(2) ç›˜å­åªèƒ½ä»æŸ±å­é¡¶ç«¯æ»‘å‡ºç§»åˆ°ä¸‹ä¸€æ ¹æŸ±å­;<br>(3) ç›˜å­åªèƒ½å åœ¨æ¯”å®ƒå¤§çš„ç›˜å­ä¸Šã€‚</p><p>è¯·ç¼–å†™ç¨‹åºï¼Œç”¨æ ˆå°†æ‰€æœ‰ç›˜å­ä»ç¬¬ä¸€æ ¹æŸ±å­ç§»åˆ°æœ€åä¸€æ ¹æŸ±å­ã€‚</p><p>ä½ éœ€è¦åŸåœ°ä¿®æ”¹æ ˆã€‚</p><p>ç¤ºä¾‹1:</p><pre><code>è¾“å…¥ï¼šA = [2, 1, 0], B = [], C = []è¾“å‡ºï¼šC = [2, 1, 0]</code></pre><p>ç¤ºä¾‹2:</p><pre><code>è¾“å…¥ï¼šA = [1, 0], B = [], C = []è¾“å‡ºï¼šC = [1, 0]</code></pre><p>æç¤º:</p><pre><code>Aä¸­ç›˜å­çš„æ•°ç›®ä¸å¤§äº14ä¸ªã€‚</code></pre><h2 id="Tower-of-Hanoi"><a href="#Tower-of-Hanoi" class="headerlink" title="Tower of Hanoi"></a>Tower of Hanoi</h2><blockquote><p>ç›¸ä¼ åœ¨å¾ˆä¹…ä»¥å‰ï¼Œæœ‰ä¸ªå¯ºåº™é‡Œçš„å‡ ä¸ªå’Œå°šæ•´å¤©ä¸åœåœ°ç§»åŠ¨ç€ 64 ä¸ªç›˜å­ï¼Œæ—¥å¤ä¸€æ—¥ï¼Œå¹´å¤ä¸€å¹´ã€‚æ®è¯´ï¼Œå½“ 64 ä¸ªç›˜å­å…¨éƒ¨ç§»å®Œçš„é‚£ä¸€å¤©å°±æ˜¯ä¸–ç•Œæœ«æ—¥â€¦</p></blockquote><h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>æœ‰ A,B,C ä¸‰æ ¹æŸ±å­ï¼ŒA ä¸Šé¢æœ‰ n ä¸ªç›˜å­ï¼Œæˆ‘ä»¬æƒ³æŠŠ A ä¸Šé¢çš„ç›˜å­ç§»åŠ¨åˆ° C ä¸Šï¼Œä½†æ˜¯è¦æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ï¼š</p><ol><li>æ¯æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªç›˜å­;</li><li>ç›˜å­åªèƒ½ä»æŸ±å­é¡¶ç«¯æ»‘å‡ºç§»åˆ°ä¸‹ä¸€æ ¹æŸ±å­;</li><li>ç›˜å­åªèƒ½å åœ¨æ¯”å®ƒå¤§çš„ç›˜å­ä¸Šã€‚</li></ol><p><a href="https://pic.leetcode-cn.com/7043dec266338d396d186805072660d5f9517e2c1008af80d461b553c5b32470-p1.png" target="_blank" rel="noopener">p1.png</a></p><h3 id="è§£é¢˜æ€è·¯ï¼šé€’å½’ä¸åˆ†æ²»"><a href="#è§£é¢˜æ€è·¯ï¼šé€’å½’ä¸åˆ†æ²»" class="headerlink" title="è§£é¢˜æ€è·¯ï¼šé€’å½’ä¸åˆ†æ²»"></a>è§£é¢˜æ€è·¯ï¼šé€’å½’ä¸åˆ†æ²»</h3><p>è¿™æ˜¯ä¸€é“é€’å½’æ–¹æ³•çš„ç»å…¸é¢˜ç›®ï¼Œä¹ä¸€æƒ³è¿˜æŒºéš¾ç†æ¸…å¤´ç»ªçš„ï¼Œæˆ‘ä»¬ä¸å¦¨å…ˆä»ç®€å•çš„å…¥æ‰‹ã€‚</p><p>å‡è®¾ <code>n = 1</code>,åªæœ‰ä¸€ä¸ªç›˜å­ï¼Œå¾ˆç®€å•ï¼Œç›´æ¥æŠŠå®ƒä» A ä¸­æ‹¿å‡ºæ¥ï¼Œç§»åˆ° C ä¸Šï¼›</p><p>å¦‚æœ <code>n = 2</code> å‘¢ï¼Ÿè¿™æ—¶å€™æˆ‘ä»¬å°±è¦å€ŸåŠ© B äº†ï¼Œå› ä¸ºå°ç›˜å­å¿…é¡»æ—¶åˆ»éƒ½åœ¨å¤§ç›˜å­ä¸Šé¢ï¼Œå…±éœ€è¦ 4 æ­¥ã€‚</p><p> <a href="https://pic.leetcode-cn.com/f6f3b97651247c9ff846f115e1866ab364b1c0e265fd51689ddd6a8ca1758482-0806.gif" target="_blank" rel="noopener">0806.gif</a></p><p>å¦‚æœ  <code>n &gt; 2</code> å‘¢ï¼Ÿæ€è·¯å’Œä¸Šé¢æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬æŠŠ n ä¸ªç›˜å­ä¹Ÿçœ‹æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æœ‰ 1 ä¸ªç›˜å­ï¼Œå¦ä¸€éƒ¨åˆ†æœ‰ n - 1 ä¸ªç›˜å­ã€‚</p><p> <a href="https://pic.leetcode-cn.com/3bffd1a1faf4323a92b659e37d7e2cd6c79fe074602b2977f4a7931fe82bbb13-08061.gif" target="_blank" rel="noopener">08061.gif</a></p><p>è§‚å¯Ÿä¸Šå›¾ï¼Œä½ å¯èƒ½ä¼šé—®ï¼šâ€œé‚£ n - 1 ä¸ªç›˜å­æ˜¯æ€ä¹ˆä» A ç§»åˆ° C çš„å‘¢ï¼Ÿâ€</p><p>æ³¨æ„ï¼Œ<strong>å½“ä½ åœ¨æ€è€ƒè¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œå°±å°†æœ€åˆçš„ n ä¸ªç›˜å­ä» A ç§»åˆ° C çš„é—®é¢˜ï¼Œè½¬åŒ–æˆäº†å°† n - 1 ä¸ªç›˜å­ä» A ç§»åˆ° C çš„é—®é¢˜ï¼Œ</strong> ä¾æ¬¡ç±»æ¨ï¼Œç›´è‡³è½¬åŒ–æˆ 1 ä¸ªç›˜å­çš„é—®é¢˜æ—¶ï¼Œé—®é¢˜ä¹Ÿå°±è§£å†³äº†ã€‚è¿™å°±æ˜¯åˆ†æ²»çš„æ€æƒ³ã€‚ </p><p>è€Œå®ç°åˆ†æ²»æ€æƒ³çš„å¸¸ç”¨æ–¹æ³•å°±æ˜¯é€’å½’ã€‚ä¸éš¾å‘ç°ï¼Œå¦‚æœåŸé—®é¢˜å¯ä»¥åˆ†è§£æˆè‹¥å¹²ä¸ªä¸åŸé—®é¢˜ç»“æ„ç›¸åŒä½†è§„æ¨¡è¾ƒå°çš„å­é—®é¢˜æ—¶ï¼Œå¾€å¾€å¯ä»¥ç”¨é€’å½’çš„æ–¹æ³•è§£å†³ã€‚å…·ä½“è§£å†³åŠæ³•å¦‚ä¸‹ï¼š</p><ul><li><code>n = 1</code> æ—¶ï¼Œç›´æ¥æŠŠç›˜å­ä» A ç§»åˆ° Cï¼›</li><li><code>n &gt; 1</code> æ—¶ï¼Œ<ul><li>å…ˆæŠŠä¸Šé¢ n - 1 ä¸ªç›˜å­ä» A ç§»åˆ° Bï¼ˆå­é—®é¢˜ï¼Œé€’å½’ï¼‰ï¼›</li><li>å†å°†æœ€å¤§çš„ç›˜å­ä» A ç§»åˆ° Cï¼›</li><li>å†å°† B ä¸Š n - 1 ä¸ªç›˜å­ä» B ç§»åˆ° Cï¼ˆå­é—®é¢˜ï¼Œé€’å½’ï¼‰ã€‚</li></ul></li></ul><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><details>    <summary>python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hanota</span><span class="params">(self, A: List[int], B: List[int], C: List[int])</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        n = len(A)</span><br><span class="line">        self.move(n, A, B, C)</span><br><span class="line">    <span class="comment"># å®šä¹‰move å‡½æ•°ç§»åŠ¨æ±‰è¯ºå¡”</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(self,n, A, B, C)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">            C.append(A[<span class="number">-1</span>])</span><br><span class="line">            A.pop()</span><br><span class="line">            <span class="keyword">return</span> </span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.move(n<span class="number">-1</span>, A, C, B)  <span class="comment"># å°†Aä¸Šé¢n-1ä¸ªé€šè¿‡Cç§»åˆ°B</span></span><br><span class="line">            C.append(A[<span class="number">-1</span>])          <span class="comment"># å°†Aæœ€åä¸€ä¸ªç§»åˆ°C</span></span><br><span class="line">            A.pop()                  <span class="comment"># è¿™æ—¶ï¼ŒAç©ºäº†</span></span><br><span class="line">            self.move(n<span class="number">-1</span>,B, A, C)   <span class="comment"># å°†Bä¸Šé¢n-1ä¸ªé€šè¿‡ç©ºçš„Aç§»åˆ°C</span></span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight cpp"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">hanota</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; A, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; B, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; C)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = A.size();</span><br><span class="line">        move(n, A, B, C);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; A, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; B, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; C)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>)&#123;</span><br><span class="line">            C.push_back(A.back());</span><br><span class="line">            A.pop_back();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        move(n<span class="number">-1</span>, A, C, B);    <span class="comment">// å°†Aä¸Šé¢n-1ä¸ªé€šè¿‡Cç§»åˆ°B</span></span><br><span class="line">        C.push_back(A.back());  <span class="comment">// å°†Aæœ€åä¸€ä¸ªç§»åˆ°C</span></span><br><span class="line">        A.pop_back();          <span class="comment">// è¿™æ—¶ï¼ŒAç©ºäº†</span></span><br><span class="line">        move(n<span class="number">-1</span>, B, A, C);     <span class="comment">// å°†Bä¸Šé¢n-1ä¸ªé€šè¿‡ç©ºçš„Aç§»åˆ°C</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hanota</span><span class="params">(List&lt;Integer&gt; A, List&lt;Integer&gt; B, List&lt;Integer&gt; C)</span> </span>&#123;</span><br><span class="line">        move(A.size(), A, B, C);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> n, List&lt;Integer&gt; A, List&lt;Integer&gt; B, List&lt;Integer&gt; C)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">            C.add(A.get(A.size() - <span class="number">1</span>));</span><br><span class="line">            A.remove(A.size() - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        move(n - <span class="number">1</span>, A, C, B);</span><br><span class="line">        C.add(A.get(A.size() - <span class="number">1</span>));</span><br><span class="line">        A.remove(A.size() - <span class="number">1</span>);</span><br><span class="line">        move(n - <span class="number">1</span>, B, A, C);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æï¼šä¸–ç•Œä¼šæ¯ç­å—"><a href="#å¤æ‚åº¦åˆ†æï¼šä¸–ç•Œä¼šæ¯ç­å—" class="headerlink" title="å¤æ‚åº¦åˆ†æï¼šä¸–ç•Œä¼šæ¯ç­å—"></a>å¤æ‚åº¦åˆ†æï¼šä¸–ç•Œä¼šæ¯ç­å—</h2><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(2^n-1)</em>ã€‚ä¸€å…±éœ€è¦ç§»åŠ¨çš„æ¬¡æ•°ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt; è¯·ç¼–å†™ç¨‹åºï¼Œç”¨æ ˆå°†æ‰€æœ‰ç›˜å­ä»ç¬¬ä¸€æ ¹æŸ±å­ç§»åˆ°æœ€åä¸€æ ¹æŸ±å­ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Recursion" scheme="http://yoursite.com/tags/Recursion/"/>
    
  </entry>
  
  <entry>
    <title>RabbitMQå­¦ä¹ ç¬”è®°ï¼ˆæ¦‚å¿µï¼Œæ¶æ„å’Œæ¶ˆæ¯äº¤æ¢æœºç±»å‹ï¼‰</title>
    <link href="http://yoursite.com/2021/12/12/RabbitMQ%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E6%A6%82%E5%BF%B5%EF%BC%8C%E6%9E%B6%E6%9E%84%E5%92%8C%E6%B6%88%E6%81%AF%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%B1%BB%E5%9E%8B%EF%BC%89/"/>
    <id>http://yoursite.com/2021/12/12/RabbitMQå­¦ä¹ ç¬”è®°ï¼ˆæ¦‚å¿µï¼Œæ¶æ„å’Œæ¶ˆæ¯äº¤æ¢æœºç±»å‹ï¼‰/</id>
    <published>2021-12-12T12:12:12.000Z</published>
    <updated>2021-12-13T01:56:48.612Z</updated>
    
    <content type="html"><![CDATA[<p>RabbitMQæ˜¯AMQPï¼ˆAdvanced Message Queuing Protocolï¼Œé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼‰çš„æŠ€æœ¯å®ç°ï¼Œä¹Ÿæ˜¯é«˜æ€§èƒ½æ¶ˆæ¯æœåŠ¡ç»„ä»¶çš„ä»£è¡¨ä¹‹ä½œã€‚ç”±äºå…¶éš¶å±äºPivotalå…¬å¸ï¼Œæ‰€ä»¥ä¸Springçš„æ•´åˆæ•ˆæœæ˜¯æœ€å®Œå–„çš„ã€‚åœ¨SpringCloudå¼€å‘æŠ€æœ¯ä¸­å¤§é‡ä½¿ç”¨äº†RabbitMQæ¶ˆæ¯ç»„ä»¶ã€‚</p><a id="more"></a><p>[TOC]</p><h1 id="æ¦‚å¿µ-1"><a href="#æ¦‚å¿µ-1" class="headerlink" title="æ¦‚å¿µ^1"></a>æ¦‚å¿µ<a href="[åå¸ˆè®²å›ï¼šJavaå¾®æœåŠ¡æ¶æ„å®æˆ˜ï¼ˆSpringBoot+SpringCloud+Docker+RabbitMQ](https://weread.qq.com/web/reader/0e03209071c96a420e02710ka0a32dd027aa0a080f42962)">^1</a></h1><p>RabbitMQæ˜¯ä¸€ç§æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ï¼ŒåŒæ ·ä¹Ÿæ˜¯åœ¨è¿›è¡Œç³»ç»Ÿæ•´åˆæ—¶çš„ä¸€ç§é€šä¿¡æ‰‹æ®µï¼Œå…¶è¿è¡Œæ¨¡å¼éµå¾ªâ€œç”Ÿäº§è€…â€”æ¶ˆè´¹è€…â€æ¨¡å‹ï¼Œå³ä¼šå­˜åœ¨è‹¥å¹²ä¸ªæ¶ˆæ¯ç”Ÿäº§è€…ä»¥åŠè‹¥å¹²ä¸ªæ¶ˆæ¯æ¶ˆè´¹è€…ã€‚ä¸JavaEEæå‡ºçš„JMSæ ‡å‡†ä¸åŒä¹‹å¤„åœ¨äºï¼šRabbitMQæ˜¯ç”±ERLangå¼€å‘çš„åŸºäºAMQPåº”ç”¨å±‚åè®®æ ‡å‡†çš„ä¸€ç§æ¶ˆæ¯ç»„ä»¶ï¼Œæ‰€ä»¥å…¶å¤„ç†æ€§èƒ½è¦æ¯”JMSç»„ä»¶æ›´é«˜ã€‚RabbitMQå®˜æ–¹ç½‘ç«™çš„ç½‘å€ä¸º<a href="http://www.rabbitmq.com" target="_blank" rel="noopener">http://www.rabbitmq.com</a></p><p>æ·±å…¥äº†è§£è¿˜å¯ä»¥å‚è§<a href="[æ·±å…¥RabbitMQ](https://weread.qq.com/web/reader/80c32e0071dbdd9580c74f2k8f132430178f14e45fce0f7)">^2</a></p><h3 id="æç¤ºï¼šå¸¸è§æ¶ˆæ¯ç»„ä»¶ã€‚"><a href="#æç¤ºï¼šå¸¸è§æ¶ˆæ¯ç»„ä»¶ã€‚" class="headerlink" title="æç¤ºï¼šå¸¸è§æ¶ˆæ¯ç»„ä»¶ã€‚"></a>æç¤ºï¼šå¸¸è§æ¶ˆæ¯ç»„ä»¶ã€‚</h3><p>æ¶ˆæ¯ç»„ä»¶ä¸»è¦åˆ’åˆ†ä¸ºJMSç»„ä»¶å’ŒAMQPç»„ä»¶ä¸¤ç±»ã€‚[æ’å›¾] JMSï¼ˆJava Message Serviceï¼‰ç»„ä»¶ï¼šActiveMQæ€§èƒ½è¾ƒå·®ã€‚[æ’å›¾] AMQPç»„ä»¶ï¼ˆåè®®ï¼‰ï¼šæ€§èƒ½æ˜¯æœ€é«˜çš„ï¼Œè€ŒAMQPæœ‰ä¸¤ä¸ªä¸»è¦çš„å¼€æºã€‚|- RabbitMQï¼šä½¿ç”¨æœ€ä¸ºå¹¿æ³›ï¼Œå“åº”é€Ÿåº¦å¿«ã€‚|- Kafkaï¼šæ˜¯å¤§æ•°æ®æ—¶ä»£ä½œä¸ºæ•°æ®é‡‡é›†çš„é‡è¦ç»„ä»¶ï¼Œå¤„ç†é€Ÿåº¦æ›´é«˜ã€‚RabbitMQæ˜¯ç”±RabbitMQ Technologies Ltdå¼€å‘å¹¶ä¸”æä¾›å•†ä¸šæ”¯æŒçš„ã€‚è¯¥å…¬å¸åœ¨2010å¹´4æœˆè¢«SpringSourceï¼ˆVMWareçš„ä¸€ä¸ªéƒ¨é—¨ï¼‰æ”¶è´­ï¼Œåœ¨2013å¹´5æœˆè¢«å¹¶å…¥Pivotalã€‚</p><p>RabbitMQ æ˜¯ä¸€ä¸ªç”± Erlang è¯­è¨€å¼€å‘çš„ AMQP çš„å¼€æºå®ç°ã€‚</p><p>AMQP ï¼šAdvanced Message Queue Protocolï¼Œé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ã€‚å®ƒæ˜¯åº”ç”¨å±‚åè®®çš„ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼Œä¸º<br>é¢å‘æ¶ˆæ¯çš„ä¸­é—´ä»¶è®¾è®¡ï¼ŒåŸºäºæ­¤åè®®çš„å®¢æˆ·ç«¯ä¸æ¶ˆæ¯ä¸­é—´ä»¶å¯ä¼ é€’æ¶ˆæ¯ï¼Œå¹¶ä¸å—äº§å“ã€å¼€å‘è¯­è¨€<br>ç­‰æ¡ä»¶çš„é™åˆ¶ã€‚</p><p>RabbitMQ æœ€åˆèµ·æºäºé‡‘èç³»ç»Ÿï¼Œç”¨äºåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å­˜å‚¨è½¬å‘æ¶ˆæ¯ï¼Œåœ¨æ˜“ç”¨æ€§ã€æ‰©å±•æ€§ã€é«˜å¯<br>ç”¨æ€§ç­‰æ–¹é¢è¡¨ç°ä¸ä¿—ã€‚å…·ä½“ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p><ol><li>å¯é æ€§ï¼ˆReliabilityï¼‰ï¼šRabbitMQ ä½¿ç”¨ä¸€äº›æœºåˆ¶æ¥ä¿è¯å¯é æ€§ï¼Œå¦‚æŒä¹…åŒ–ã€ä¼ è¾“ç¡®è®¤ã€å‘å¸ƒ<br>ç¡®è®¤ã€‚</li><li>çµæ´»çš„è·¯ç”±ï¼ˆFlexible Routingï¼‰ï¼šåœ¨æ¶ˆæ¯è¿›å…¥é˜Ÿåˆ—ä¹‹å‰ï¼Œé€šè¿‡ Exchange æ¥è·¯ç”±æ¶ˆæ¯çš„ã€‚å¯¹<br>äºå…¸å‹çš„è·¯ç”±åŠŸèƒ½ï¼ŒRabbitMQ å·²ç»æä¾›äº†ä¸€äº›å†…ç½®çš„ Exchange æ¥å®ç°ã€‚é’ˆå¯¹æ›´å¤æ‚çš„è·¯<br>ç”±åŠŸèƒ½ï¼Œå¯ä»¥å°†å¤šä¸ª Exchange ç»‘å®šåœ¨ä¸€èµ·ï¼Œä¹Ÿé€šè¿‡æ’ä»¶æœºåˆ¶å®ç°è‡ªå·±çš„ Exchange ã€‚</li><li>æ¶ˆæ¯é›†ç¾¤ï¼ˆClusteringï¼‰ï¼šå¤šä¸ª RabbitMQ æœåŠ¡å™¨å¯ä»¥ç»„æˆä¸€ä¸ªé›†ç¾¤ï¼Œå½¢æˆä¸€ä¸ªé€»è¾‘ Broker ã€‚</li><li>é«˜å¯ç”¨ï¼ˆHighly Available Queuesï¼‰ï¼šé˜Ÿåˆ—å¯ä»¥åœ¨é›†ç¾¤ä¸­çš„æœºå™¨ä¸Šè¿›è¡Œé•œåƒï¼Œä½¿å¾—åœ¨éƒ¨åˆ†èŠ‚<br>ç‚¹å‡ºé—®é¢˜çš„æƒ…å†µä¸‹é˜Ÿåˆ—ä»ç„¶å¯ç”¨ã€‚</li><li>å¤šç§åè®®ï¼ˆMulti-protocolï¼‰ï¼šRabbitMQ æ”¯æŒå¤šç§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼Œæ¯”å¦‚ STOMPã€MQTT<br>ç­‰ç­‰ã€‚</li><li>å¤šè¯­è¨€å®¢æˆ·ç«¯ï¼ˆMany Clientsï¼‰ï¼šRabbitMQ å‡ ä¹æ”¯æŒæ‰€æœ‰å¸¸ç”¨è¯­è¨€ï¼Œæ¯”å¦‚ Javaã€.NETã€<br>Ruby ç­‰ç­‰ã€‚</li><li>ç®¡ç†ç•Œé¢ï¼ˆManagement UIï¼‰:RabbitMQ æä¾›äº†ä¸€ä¸ªæ˜“ç”¨çš„ç”¨æˆ·ç•Œé¢ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥ç›‘æ§<br>å’Œç®¡ç†æ¶ˆæ¯ Broker çš„è®¸å¤šæ–¹é¢ã€‚</li><li>è·Ÿè¸ªæœºåˆ¶ï¼ˆTracingï¼‰:å¦‚æœæ¶ˆæ¯å¼‚å¸¸ï¼ŒRabbitMQ æä¾›äº†æ¶ˆæ¯è·Ÿè¸ªæœºåˆ¶ï¼Œä½¿ç”¨è€…å¯ä»¥æ‰¾å‡ºå‘ç”Ÿ<br>äº†ä»€ä¹ˆã€‚</li><li>æ’ä»¶æœºåˆ¶ï¼ˆPlugin Systemï¼‰:RabbitMQ æä¾›äº†è®¸å¤šæ’ä»¶ï¼Œæ¥ä»å¤šæ–¹é¢è¿›è¡Œæ‰©å±•ï¼Œä¹Ÿå¯ä»¥ç¼–<br>å†™è‡ªå·±çš„æ’ä»¶ã€‚</li></ol><h1 id="RabbitMQ-æ¶æ„"><a href="#RabbitMQ-æ¶æ„" class="headerlink" title="RabbitMQ æ¶æ„"></a>RabbitMQ æ¶æ„</h1><h2 id="Message"><a href="#Message" class="headerlink" title="Message"></a>Message</h2><p>æ¶ˆæ¯ï¼Œæ¶ˆæ¯æ˜¯ä¸å…·åçš„ï¼Œå®ƒç”±æ¶ˆæ¯å¤´å’Œæ¶ˆæ¯ä½“ç»„æˆã€‚æ¶ˆæ¯ä½“æ˜¯ä¸é€æ˜çš„ï¼Œè€Œæ¶ˆæ¯å¤´åˆ™ç”±ä¸€ç³»åˆ—çš„å¯é€‰å±æ€§ç»„æˆï¼Œè¿™äº›å±æ€§åŒ…æ‹¬routing-keyï¼ˆè·¯ç”±é”®ï¼‰ã€priorityï¼ˆç›¸å¯¹äºå…¶ä»–æ¶ˆæ¯çš„ä¼˜å…ˆæƒï¼‰ã€delivery-modeï¼ˆæŒ‡å‡ºè¯¥æ¶ˆæ¯å¯èƒ½éœ€è¦æŒä¹…æ€§å­˜å‚¨ï¼‰ç­‰ã€‚</p><h2 id="Publisher"><a href="#Publisher" class="headerlink" title="Publisher"></a>Publisher</h2><ol><li>æ¶ˆæ¯çš„ç”Ÿäº§è€…ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå‘äº¤æ¢å™¨å‘å¸ƒæ¶ˆæ¯çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºã€‚</li></ol><h2 id="Exchange-æ¶ˆæ¯äº¤æ¢æœºï¼ˆå°†æ¶ˆæ¯è·¯ç”±ç»™é˜Ÿåˆ—-ï¼‰"><a href="#Exchange-æ¶ˆæ¯äº¤æ¢æœºï¼ˆå°†æ¶ˆæ¯è·¯ç”±ç»™é˜Ÿåˆ—-ï¼‰" class="headerlink" title="Exchange æ¶ˆæ¯äº¤æ¢æœºï¼ˆå°†æ¶ˆæ¯è·¯ç”±ç»™é˜Ÿåˆ— ï¼‰"></a>Exchange æ¶ˆæ¯äº¤æ¢æœºï¼ˆå°†æ¶ˆæ¯è·¯ç”±ç»™é˜Ÿåˆ— ï¼‰</h2><ol start="2"><li>äº¤æ¢å™¨ï¼Œç”¨æ¥æ¥æ”¶ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯å¹¶å°†è¿™äº›æ¶ˆæ¯è·¯ç”±ç»™æœåŠ¡å™¨ä¸­çš„é˜Ÿåˆ—ã€‚</li></ol><h2 id="Bindingï¼ˆæ¶ˆæ¯é˜Ÿåˆ—å’Œäº¤æ¢å™¨ä¹‹é—´çš„å…³è”ï¼‰"><a href="#Bindingï¼ˆæ¶ˆæ¯é˜Ÿåˆ—å’Œäº¤æ¢å™¨ä¹‹é—´çš„å…³è”ï¼‰" class="headerlink" title="Bindingï¼ˆæ¶ˆæ¯é˜Ÿåˆ—å’Œäº¤æ¢å™¨ä¹‹é—´çš„å…³è”ï¼‰"></a>Bindingï¼ˆæ¶ˆæ¯é˜Ÿåˆ—å’Œäº¤æ¢å™¨ä¹‹é—´çš„å…³è”ï¼‰</h2><ol start="3"><li>ç»‘å®šï¼Œç”¨äºæ¶ˆæ¯é˜Ÿåˆ—å’Œäº¤æ¢å™¨ä¹‹é—´çš„å…³è”ã€‚ä¸€ä¸ªç»‘å®šå°±æ˜¯åŸºäºè·¯ç”±é”®å°†äº¤æ¢å™¨å’Œæ¶ˆæ¯é˜Ÿåˆ—è¿<br>æ¥èµ·æ¥çš„è·¯ç”±è§„åˆ™ï¼Œæ‰€ä»¥å¯ä»¥å°†äº¤æ¢å™¨ç†è§£æˆä¸€ä¸ªç”±ç»‘å®šæ„æˆçš„è·¯ç”±è¡¨ã€‚</li></ol><h2 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h2><ol start="4"><li>æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç”¨æ¥ä¿å­˜æ¶ˆæ¯ç›´åˆ°å‘é€ç»™æ¶ˆè´¹è€…ã€‚å®ƒæ˜¯æ¶ˆæ¯çš„å®¹å™¨ï¼Œä¹Ÿæ˜¯æ¶ˆæ¯çš„ç»ˆç‚¹ã€‚ä¸€ä¸ªæ¶ˆæ¯<br>å¯æŠ•å…¥ä¸€ä¸ªæˆ–å¤šä¸ªé˜Ÿåˆ—ã€‚æ¶ˆæ¯ä¸€ç›´åœ¨é˜Ÿåˆ—é‡Œé¢ï¼Œç­‰å¾…æ¶ˆè´¹è€…è¿æ¥åˆ°è¿™ä¸ªé˜Ÿåˆ—å°†å…¶å–èµ°ã€‚</li></ol><h2 id="Connection"><a href="#Connection" class="headerlink" title="Connection"></a>Connection</h2><ol start="5"><li>ç½‘ç»œè¿æ¥ï¼Œæ¯”å¦‚ä¸€ä¸ª TCP è¿æ¥ã€‚</li></ol><h2 id="Channel"><a href="#Channel" class="headerlink" title="Channel"></a>Channel</h2><ol start="6"><li>ä¿¡é“ï¼Œå¤šè·¯å¤ç”¨è¿æ¥ä¸­çš„ä¸€æ¡ç‹¬ç«‹çš„åŒå‘æ•°æ®æµé€šé“ã€‚ä¿¡é“æ˜¯å»ºç«‹åœ¨çœŸå®çš„ TCP è¿æ¥å†…çš„è™šæ‹Ÿè¿æ¥ï¼ŒAMQPå‘½ä»¤éƒ½æ˜¯é€šè¿‡ä¿¡é“å‘å‡ºå»çš„ï¼Œä¸ç®¡æ˜¯å‘å¸ƒæ¶ˆæ¯ã€è®¢é˜…é˜Ÿåˆ—è¿˜æ˜¯æ¥æ”¶æ¶ˆæ¯ï¼Œè¿™äº›åŠ¨ä½œéƒ½æ˜¯é€šè¿‡ä¿¡é“å®Œæˆã€‚å› ä¸ºå¯¹äºæ“ä½œç³»ç»Ÿæ¥è¯´å»ºç«‹å’Œé”€æ¯ TCPéƒ½æ˜¯éå¸¸æ˜‚è´µçš„å¼€é”€ï¼Œæ‰€ä»¥å¼•å…¥äº†ä¿¡é“çš„æ¦‚å¿µï¼Œä»¥å¤ç”¨ä¸€æ¡ TCP è¿æ¥ã€‚</li></ol><h2 id="Consumer"><a href="#Consumer" class="headerlink" title="Consumer"></a>Consumer</h2><ol start="7"><li>æ¶ˆæ¯çš„æ¶ˆè´¹è€…ï¼Œè¡¨ç¤ºä¸€ä¸ªä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­å–å¾—æ¶ˆæ¯çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºã€‚</li></ol><h2 id="Virtual-Host"><a href="#Virtual-Host" class="headerlink" title="Virtual Host"></a>Virtual Host</h2><ol start="8"><li>è™šæ‹Ÿä¸»æœºï¼Œè¡¨ç¤ºä¸€æ‰¹äº¤æ¢å™¨ã€æ¶ˆæ¯é˜Ÿåˆ—å’Œç›¸å…³å¯¹è±¡ã€‚è™šæ‹Ÿä¸»æœºæ˜¯å…±äº«ç›¸åŒçš„èº«ä»½è®¤è¯å’ŒåŠ å¯†ç¯å¢ƒçš„ç‹¬ç«‹æœåŠ¡å™¨åŸŸã€‚</li></ol><h2 id="Broker-æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ä¸»æœº"><a href="#Broker-æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ä¸»æœº" class="headerlink" title="Broker æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ä¸»æœº"></a>Broker æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ä¸»æœº</h2><ol start="9"><li>è¡¨ç¤ºæ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡å™¨å®ä½“ã€‚</li></ol><h1 id="Exchange-ç±»å‹"><a href="#Exchange-ç±»å‹" class="headerlink" title="Exchange ç±»å‹"></a>Exchange ç±»å‹</h1><p>Exchange åˆ†å‘æ¶ˆæ¯æ—¶æ ¹æ®ç±»å‹çš„ä¸åŒåˆ†å‘ç­–ç•¥æœ‰åŒºåˆ«ï¼Œç›®å‰å…±å››ç§ç±»å‹ï¼šdirectã€fanoutã€topicã€headers ã€‚headers åŒ¹é… AMQP æ¶ˆæ¯çš„ header è€Œä¸æ˜¯è·¯ç”±é”®ï¼Œæ­¤å¤–headersäº¤æ¢å™¨å’Œdirectäº¤æ¢å™¨å®Œå…¨ä¸€è‡´ï¼Œä½†æ€§èƒ½å·®å¾ˆå¤šï¼Œç›®å‰å‡ ä¹ç”¨ä¸åˆ°äº†ï¼Œæ‰€ä»¥ç›´æ¥çœ‹å¦å¤–ä¸‰ç§ç±»å‹ï¼štopicï¼ˆä¸»é¢˜è®¢é˜…ï¼‰ã€directï¼ˆç›´è¿ï¼‰ã€fanoutï¼ˆå¹¿æ’­ï¼‰</p><h2 id="Direct-é”®ï¼ˆrouting-keyï¼‰åˆ†å¸ƒï¼š"><a href="#Direct-é”®ï¼ˆrouting-keyï¼‰åˆ†å¸ƒï¼š" class="headerlink" title="Direct é”®ï¼ˆrouting keyï¼‰åˆ†å¸ƒï¼š"></a>Direct é”®ï¼ˆrouting keyï¼‰åˆ†å¸ƒï¼š</h2><ol><li>Directï¼šæ¶ˆæ¯ä¸­çš„è·¯ç”±é”®ï¼ˆrouting keyï¼‰å¦‚æœå’Œ Binding ä¸­çš„ binding key ä¸€è‡´ï¼Œäº¤æ¢å™¨å°±å°†æ¶ˆæ¯å‘åˆ°å¯¹åº”çš„é˜Ÿåˆ—ä¸­ã€‚å®ƒæ˜¯å®Œå…¨åŒ¹é…ã€å•æ’­çš„æ¨¡å¼ã€‚</li></ol><h2 id="Fanoutï¼ˆå¹¿æ’­åˆ†å‘ï¼‰"><a href="#Fanoutï¼ˆå¹¿æ’­åˆ†å‘ï¼‰" class="headerlink" title="Fanoutï¼ˆå¹¿æ’­åˆ†å‘ï¼‰"></a>Fanoutï¼ˆå¹¿æ’­åˆ†å‘ï¼‰</h2><ol start="2"><li>Fanoutï¼šæ¯ä¸ªå‘åˆ°fanoutç±»å‹äº¤æ¢å™¨çš„æ¶ˆæ¯éƒ½ä¼šåˆ†åˆ°æ‰€æœ‰ç»‘å®šçš„é˜Ÿåˆ—ä¸Šå»ã€‚å¾ˆåƒå­ç½‘å¹¿æ’­ï¼Œæ¯å°å­ç½‘å†…çš„ä¸»æœºéƒ½è·å¾—äº†ä¸€ä»½å¤åˆ¶çš„æ¶ˆæ¯ã€‚fanoutç±»å‹è½¬å‘æ¶ˆæ¯æ˜¯æœ€å¿«çš„ã€‚</li></ol><h2 id="topic-äº¤æ¢å™¨ï¼ˆæ¨¡å¼åŒ¹é…ï¼‰"><a href="#topic-äº¤æ¢å™¨ï¼ˆæ¨¡å¼åŒ¹é…ï¼‰" class="headerlink" title="topic äº¤æ¢å™¨ï¼ˆæ¨¡å¼åŒ¹é…ï¼‰"></a>topic äº¤æ¢å™¨ï¼ˆæ¨¡å¼åŒ¹é…ï¼‰</h2><ol start="3"><li>topic äº¤æ¢å™¨ï¼štopicäº¤æ¢å™¨é€šè¿‡æ¨¡å¼åŒ¹é…åˆ†é…æ¶ˆæ¯çš„è·¯ç”±é”®å±æ€§ï¼Œå°†è·¯ç”±é”®å’ŒæŸä¸ªæ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼Œæ­¤æ—¶é˜Ÿåˆ—éœ€è¦ç»‘å®šåˆ°ä¸€ä¸ªæ¨¡å¼ä¸Šã€‚å®ƒå°†è·¯ç”±é”®å’Œç»‘å®šé”®çš„å­—ç¬¦ä¸²åˆ‡åˆ†æˆå•è¯ï¼Œè¿™äº›å•è¯ä¹‹é—´ç”¨ç‚¹éš”å¼€ã€‚å®ƒåŒæ ·ä¹Ÿä¼šè¯†åˆ«ä¸¤ä¸ªé€šé…ç¬¦ï¼šç¬¦å·â€œ#â€å’Œç¬¦å·â€œâ€ã€‚#åŒ¹é… 0 ä¸ªæˆ–å¤šä¸ªå•è¯ï¼ŒåŒ¹é…ä¸å¤šä¸å°‘ä¸€ä¸ªå•è¯ã€‚</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;RabbitMQæ˜¯AMQPï¼ˆAdvanced Message Queuing Protocolï¼Œé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼‰çš„æŠ€æœ¯å®ç°ï¼Œä¹Ÿæ˜¯é«˜æ€§èƒ½æ¶ˆæ¯æœåŠ¡ç»„ä»¶çš„ä»£è¡¨ä¹‹ä½œã€‚ç”±äºå…¶éš¶å±äºPivotalå…¬å¸ï¼Œæ‰€ä»¥ä¸Springçš„æ•´åˆæ•ˆæœæ˜¯æœ€å®Œå–„çš„ã€‚åœ¨SpringCloudå¼€å‘æŠ€æœ¯ä¸­å¤§é‡ä½¿ç”¨äº†RabbitMQæ¶ˆæ¯ç»„ä»¶ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
      <category term="Zookeeper" scheme="http://yoursite.com/tags/Zookeeper/"/>
    
  </entry>
  
  <entry>
    <title>é¢è¯•é¢˜ 16.07. æœ€å¤§æ•°å€¼</title>
    <link href="http://yoursite.com/2021/12/12/%E9%9D%A2%E8%AF%95%E9%A2%98%2016.07.%20%E6%9C%80%E5%A4%A7%E6%95%B0%E5%80%BC/"/>
    <id>http://yoursite.com/2021/12/12/é¢è¯•é¢˜ 16.07. æœ€å¤§æ•°å€¼/</id>
    <published>2021-12-12T04:12:12.000Z</published>
    <updated>2021-12-12T04:20:48.078Z</updated>
    
    <content type="html"><![CDATA[<p>ç¼–å†™ä¸€ä¸ªæ–¹æ³•ï¼Œæ‰¾å‡ºä¸¤ä¸ªæ•°å­—aå’Œbä¸­æœ€å¤§çš„é‚£ä¸€ä¸ªã€‚ä¸å¾—ä½¿ç”¨if-elseæˆ–å…¶ä»–æ¯”è¾ƒè¿ç®—ç¬¦ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ï¼š</p><pre><code>è¾“å…¥ï¼š a = 1, b = 2è¾“å‡ºï¼š 2</code></pre><h1 id="æ€è·¯1"><a href="#æ€è·¯1" class="headerlink" title="æ€è·¯1"></a>æ€è·¯1</h1><ol><li><p>é¦–å…ˆ a - b å¾—åˆ°å·®å€¼x</p></li><li><p>ç”±äºæ˜¯longå‹ï¼Œå³ç§»63ä½å¾—åˆ°ç¬¦å·ä½ï¼Œæ³¨æ„è´Ÿå·ä¸å˜ï¼Œé‚£ä¹ˆæ­£æ•°å³ç§»63ä½å°±æ˜¯0ï¼Œè´Ÿæ•°å³ç§»63ä½å°±æ˜¯-1</p></li><li><p>é‚£ä¹ˆå¾—å‡ºæˆ‘ä»¬çš„è®¡ç®—å…¬å¼  (1 + k) * a - b * k</p><p> å½“ x &gt;= 0 çš„æ—¶å€™ï¼Œk = 0, å³ a &gt; b<br> é‚£ä¹ˆæˆ‘ä»¬çš„è®¡ç®—å…¬å¼ä¸º  1 * a - b * 0 = a</p><p> å½“ x &lt; 0çš„æ—¶å€™ï¼Œk = -1, å³ b &gt; a<br> é‚£ä¹ˆæˆ‘ä»¬çš„è®¡ç®—å…¬å¼ä¸º  0 * a - b * ( -1 ) = b</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int maximum(int a, int b) &#123;</span><br><span class="line">        long x = (long) a - (long) b;</span><br><span class="line">        int k = (int) (x &gt;&gt; 63);</span><br><span class="line"></span><br><span class="line">        return (1 + k) * a - b * k;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="æ€è·¯2"><a href="#æ€è·¯2" class="headerlink" title="æ€è·¯2"></a>æ€è·¯2</h1><p>å…³äºè¿™é“é¢˜å·²æœ‰å¾ˆå¤šè§£æ³•ï¼Œå¤§æ¦‚æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ol><li>ä½¿ç”¨ <code>max</code>ï¼Œ<code>abs</code> ä¹‹ç±»çš„åº“å‡½æ•°ã€‚è¿™ç§çœŸçš„ä¸è¦éª—è‡ªå·±ï¼Œå°±æ˜¯ä½œå¼Šæ–¹æ³•ï¼›</li><li>ä½¿ç”¨ä½è¿ç®—ï¼Œä½†ç”³è¯·äº†æ›´å¤§çš„ç±»å‹é¿å…æº¢å‡ºã€‚è¿™ç§æ²¡æœ‰ä½œå¼Šï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿˜å¯ä»¥æ”¹è¿›ï¼Œå› ä¸ºå¦‚æœå…¥å‚å°±å·²ç»æ˜¯ç³»ç»Ÿæ”¯æŒçš„æœ€å¤§ç±»å‹ï¼Œé‚£ä¹ˆè¿™ç±»è§£æ³•å°±æ— æ•ˆäº†ï¼›</li><li>ä½¿ç”¨ä½è¿ç®—ï¼ŒåŒæ—¶æ²¡æœ‰ç”³è¯·æ›´å¤§çš„ç±»å‹ã€‚è¿™ç§å·²ç»å¾ˆå®Œç¾äº†ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰çœ‹åˆ° C/C++ çš„ Solutionï¼Œå¯èƒ½ C/C++ é¢å¯¹æº¢å‡ºé—®é¢˜ä¼šæŠ¥é”™ï¼ˆJava ä¸ä¼šï¼‰ï¼Œå¤„ç†èµ·æ¥æ›´å›°éš¾ä¸€äº›ã€‚</li></ol><p>å›åˆ°é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬ç°åœ¨æ¥ä¸€æ­¥ä¸€æ­¥æ€è€ƒã€‚é¦–å…ˆï¼Œå¦‚æœæ²¡æœ‰é™åˆ¶æ¡ä»¶ï¼Œé‚£ä¹ˆéå¸¸ç®€å•ï¼š</p><details>    <summary>c++</summary><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maximum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (a &lt; b)</span><br><span class="line">            <span class="keyword">return</span> b;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> a;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æˆ–è€…ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦</span></span><br><span class="line">        <span class="keyword">return</span> a &lt; b ? b : a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨ if-else æˆ–è€…æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ„æ€å¦‚ä½•å»è¿”å›ç»“æœï¼Œè¿™é‡Œä¸å¦¨æ„é€ ä¸€ä¸ªè®¡ç®—å…¬å¼ï¼š</p><details>    <summary>c++</summary><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maximum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a * k + b * (k ^ <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><p>è¿™é‡Œ k çš„å€¼åº”è¯¥ä¸º 1 æˆ– 0ï¼Œä¸”æˆ‘ä»¬åº”ä½¿å…¶ï¼š</p><ul><li>å½“ a &lt; b æ—¶ï¼Œk = 0ï¼Œåˆ™ k ^ 1 = 1ã€‚æ­¤æ—¶è®¡ç®—ç»“æœç­‰äº bï¼›</li><li>å½“ a &gt; b æ˜¯ï¼Œk = 1ï¼Œåˆ™ k ^ 1 = 0ã€‚æ­¤æ—¶è®¡ç®—ç»“æœç­‰äº aã€‚</li></ul><p>é‚£ä¹ˆå¦‚ä½•è®© k æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚çš„å‘¢ï¼Ÿè¿™é‡Œå¯ä»¥ç”¨ç®—æœ¯è¿ç®—+ä½è¿ç®—æ“ä½œï¼šåˆ¤æ–­ a - b çš„æœ€é«˜ä½ï¼ˆç¬¦å·ä½ï¼‰ï¼Œå³ï¼š</p><ul><li>å½“ a - b &lt; 0 æ—¶ï¼Œa - b çš„æœ€é«˜ä½ä¸º 1ï¼Œæ­¤æ—¶ï¼Œk åº”è¯¥ä¸º 0ï¼›</li><li>å½“ a - b &gt; 0 æ—¶ï¼Œa - b çš„æœ€é«˜ä½ä¸º 0ï¼Œæ­¤æ—¶ï¼Œk åº”è¯¥ä¸º 1ï¼›</li></ul><p>å‘ç°äº†å—ï¼Ÿk çš„å€¼å’Œ a - b çš„æœ€é«˜ä½æ°å¥½ç›¸åï¼Œè¿™é‡Œå¾ˆè‡ªç„¶çš„å†å¼•å…¥å¼‚æˆ–è¿ç®—ï¼Œå¯ä»¥å¾—åˆ°ä»£ç ï¼š</p><details>    <summary>c++</summary><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maximum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> bitlen = <span class="keyword">sizeof</span>(a) * <span class="number">8</span>;</span><br><span class="line">        <span class="comment">// C/C++ ä¸­è´Ÿæ•°å³ç§»æœ€é«˜ä½ä¼šè¡¥ 1ï¼Œå› æ­¤éœ€è¦è½¬æˆæ— ç¬¦å·ç±»å‹åå†å³ç§»</span></span><br><span class="line">        <span class="comment">// å°† a-b çš„ç¬¦å·ä½ç§»åŠ¨åˆ°æœ€å·¦è¾¹ï¼Œå†ä¸ 1 å¼‚æˆ–å–åï¼Œå¾—åˆ° k çš„å€¼</span></span><br><span class="line">        <span class="keyword">int</span> k = <span class="keyword">static_cast</span>&lt;<span class="keyword">unsigned</span>&gt;(a - b) &gt;&gt; (bitlen - <span class="number">1</span>) ^ <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> a * k + b * (k ^ <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><p>è¿™æ ·æˆ‘ä»¬å°±è¿”å›äº†æ­£ç¡®ç»“æœã€‚ä½†æ˜¯éœ€è¦æ³¨æ„ a - b å¯èƒ½ä¼šå¯¼è‡´æº¢å‡ºé—®é¢˜ï¼Œä¸€ç§ç®€å•çš„è§£å†³æ–¹å¼æ˜¯ç”¨æ›´å¤§çš„ç±»å‹ï¼ˆä¾‹å¦‚ long longï¼‰ä¿å­˜ä¸­é—´ç»“æœï¼Œä½†å¦‚æœå…¥å‚å·²ç»æ˜¯ç³»ç»Ÿæ”¯æŒçš„æœ€å¤§ç±»å‹ï¼Œé‚£è¿™ç§è§£æ³•å°±å¤±æ•ˆäº†ï¼Œæ‰€ä»¥å¹¶ä¸å®Œç¾ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ¥æ€è€ƒä¸€ä¸‹å¦‚ä½•åœ¨ç»™å®šçš„ç±»å‹èŒƒå›´å†…è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦åˆ†æƒ…å†µè€ƒè™‘ï¼š</p><ul><li>å½“ a å’Œ b åŒå·æ—¶ï¼Œa - b ä¸ä¼šæº¢å‡ºï¼Œä½¿ç”¨ä¸Šé¢çš„ä»£ç å³å¯ï¼›</li><li>å½“ a å’Œ b å¼‚å·æ—¶ï¼Œa - b å¯èƒ½æº¢å‡ºï¼Œéœ€è¦é¢å¤–å¤„ç†ï¼›</li></ul><p>ç¬¬ä¸€ç§æƒ…å†µæˆ‘ä»¬å·²ç»è§£å†³äº†ï¼Œç°åœ¨æ¥è€ƒè™‘ç¬¬äºŒç§æƒ…å†µã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ a çš„ç¬¦å·ä½å¼‚æˆ– b çš„ç¬¦å·ä½ï¼Œå½“ç»“æœä¸º 1 æ—¶ï¼Œè¯´æ˜å¼‚å·ï¼›ç»“æœä¸º 0 æ—¶ï¼Œè¯´æ˜åŒå·ã€‚å½“å¼‚å·æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥ç›´æ¥è¿”å›æ­£æ•°ï¼Œé¿å… a - b çš„è¿ç®—ã€‚é‚£ä¹ˆå½“ä¸¤æ•°å¼‚å·æ—¶ï¼Œæˆ‘ä»¬å¦‚ä½•ç¡®å®š k çš„å€¼å‘¢ï¼Ÿå½“ a ä¸ºè´Ÿæ•°æ—¶ï¼Œa çš„ç¬¦å·ä½ä¸º 1ï¼Œæ­¤æ—¶ k åº”è¯¥ä¸º 0ï¼›å½“ a ä¸ºæ­£æ•°æ—¶ï¼Œa çš„ç¬¦å·ä½ä¸º 0ï¼Œk åº”è¯¥ä¸º 1ã€‚æ€»ç»“è§„å¾‹å¯ä»¥å‘ç°ï¼Œk çš„å€¼åº”è¯¥ç­‰äº a çš„ç¬¦å·ä½å¼‚æˆ– 1ã€‚ç°åœ¨æ¥å®ç°ç¬¬äºŒç§æƒ…å†µçš„ä»£ç ï¼š</p><details>    <summary>c++</summary><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maximum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> bitlen = <span class="keyword">sizeof</span>(a) * <span class="number">8</span>;</span><br><span class="line">        <span class="keyword">int</span> asign = <span class="keyword">static_cast</span>&lt;<span class="keyword">unsigned</span>&gt;(a) &gt;&gt; (bitlen - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> k = asign ^ <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> a * k + b * (k ^ <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><p>ç°åœ¨æˆ‘ä»¬å·²ç»å®ç°äº†ä¸¤ç§ä¸åŒæƒ…å†µä¸‹çš„ä»£ç ï¼Œé’ˆå¯¹ä¸¤æ•°åŒå·æˆ–å¼‚å·çš„åœºæ™¯åˆ†åˆ«å¤„ç†ï¼Œä»¥é¿å…æº¢å‡ºé—®é¢˜ï¼Œæœ€åæˆ‘ä»¬åªéœ€è¦å°†å…¶ç»„åˆèµ·æ¥ã€‚ç”±äºä¸èƒ½ä½¿ç”¨ if-else è¯­å¥ï¼Œéœ€è¦æˆ‘ä»¬ç”¨ä¸€ç‚¹ trickï¼Œè§ä¸‹ï¼š</p><details>    <summary>c++</summary><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maximum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è®¡ç®— int ç±»å‹çš„ä½æ•°ï¼Œé¿å…ä¸åŒç³»ç»Ÿä¸‹é•¿åº¦ä¸åŒ</span></span><br><span class="line">        <span class="keyword">int</span> bitlen = <span class="keyword">sizeof</span>(a) * <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¡ç®— a çš„ç¬¦å·ä½ï¼Œb çš„ç¬¦å·ä½</span></span><br><span class="line">        <span class="comment">// C/C++ ä¸­è´Ÿæ•°å³ç§»æœ€é«˜ä½ä¼šè¡¥ 1ï¼Œå› æ­¤éœ€è¦è½¬æˆæ— ç¬¦å·ç±»å‹åå†å³ç§»</span></span><br><span class="line">        <span class="keyword">int</span> asign = <span class="keyword">static_cast</span>&lt;<span class="keyword">unsigned</span>&gt;(a) &gt;&gt; (bitlen - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> bsign = <span class="keyword">static_cast</span>&lt;<span class="keyword">unsigned</span>&gt;(b) &gt;&gt; (bitlen - <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// å‡è®¾ a ä¸ b å¼‚å·ï¼Œè®¡ç®— k çš„å€¼</span></span><br><span class="line">        <span class="keyword">int</span> k = asign ^ <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å½“ a å’Œ b å¼‚å·æ—¶ï¼Œasign ^ bsign ^ 1 ä¸º 0ï¼Œç”±äº é€»è¾‘ä¸è¿ç®— çš„çŸ­è·¯æ€§ï¼Œå°†ä¸å†è®¡ç®—ååŠè¡Œä»£ç ï¼Œé¿å…æº¢å‡º</span></span><br><span class="line">        <span class="comment">// å½“ a å’Œ b åŒå·æ—¶ï¼Œasign ^ bsign ^ 1 ä¸º 1ï¼Œæ­¤æ—¶ä¼šæ‰§è¡ŒååŠè¡Œä»£ç ï¼Œé‡æ–°å¯¹ k èµ‹å€¼</span></span><br><span class="line">        <span class="keyword">int</span> temp_cond = (asign ^ bsign ^ <span class="number">1</span>) &amp;&amp; (k = <span class="keyword">static_cast</span>&lt;<span class="keyword">unsigned</span>&gt;(a - b) &gt;&gt; (bitlen - <span class="number">1</span>) ^ <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> a * k + b * (k ^ <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†è¿™é“é¢˜ã€‚</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç¼–å†™ä¸€ä¸ªæ–¹æ³•ï¼Œæ‰¾å‡ºä¸¤ä¸ªæ•°å­—aå’Œbä¸­æœ€å¤§çš„é‚£ä¸€ä¸ªã€‚ä¸å¾—ä½¿ç”¨if-elseæˆ–å…¶ä»–æ¯”è¾ƒè¿ç®—ç¬¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
      <category term="Brainteaser" scheme="http://yoursite.com/tags/Brainteaser/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡ Offer II 079. æ‰€æœ‰å­é›†</title>
    <link href="http://yoursite.com/2021/12/12/%E5%89%91%E6%8C%87%20Offer%20II%20079.%20%E6%89%80%E6%9C%89%E5%AD%90%E9%9B%86/"/>
    <id>http://yoursite.com/2021/12/12/å‰‘æŒ‡ Offer II 079. æ‰€æœ‰å­é›†/</id>
    <published>2021-12-12T03:36:12.000Z</published>
    <updated>2021-12-12T03:45:52.725Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ•°ç»„ä¸­çš„å…ƒç´  äº’ä¸ç›¸åŒ ã€‚è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚</p><p>è§£é›† ä¸èƒ½ åŒ…å«é‡å¤çš„å­é›†ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›è§£é›†ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [1,2,3]è¾“å‡ºï¼š[[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [0]è¾“å‡ºï¼š[[],[0]]</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= nums.length &lt;= 10-10 &lt;= nums[i] &lt;= 10nums ä¸­çš„æ‰€æœ‰å…ƒç´  äº’ä¸ç›¸åŒ</code></pre><p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ <a href="https://leetcode-cn.com/problems/subsets/" target="_blank" rel="noopener">78.å­é›†</a>é¢˜ç›¸åŒã€‚</p><h1 id="äºŒè¿›åˆ¶æšä¸¾"><a href="#äºŒè¿›åˆ¶æšä¸¾" class="headerlink" title="äºŒè¿›åˆ¶æšä¸¾"></a>äºŒè¿›åˆ¶æšä¸¾</h1><details>    <summary>Java</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) </span><br><span class="line">    &#123;</span><br><span class="line">        int n = nums.length;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        for (int state = 0; state &lt; (1 &lt;&lt; n); state ++)</span><br><span class="line">        &#123;</span><br><span class="line">            List&lt;Integer&gt; cur = new ArrayList&lt;&gt;();</span><br><span class="line">            for (int i = 0; i &lt; n; i ++)</span><br><span class="line">            &#123;</span><br><span class="line">                if (((state &gt;&gt; i) &amp; 1) == 1)</span><br><span class="line">                &#123;</span><br><span class="line">                    cur.add(nums[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            res.add(cur);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class Solution </span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; subsets(vector&lt;int&gt;&amp; nums) </span><br><span class="line">    &#123;</span><br><span class="line">        int n = nums.size();</span><br><span class="line">        vector&lt;vector&lt;int&gt;&gt; res;</span><br><span class="line">        for (int state = 0; state &lt; (1 &lt;&lt; n); state ++)</span><br><span class="line">        &#123;</span><br><span class="line">            vector&lt;int&gt; cur;</span><br><span class="line">            for (int i = 0; i &lt; n; i ++)</span><br><span class="line">            &#123;</span><br><span class="line">                if ((state &gt;&gt; i) &amp; 1)</span><br><span class="line">                &#123;</span><br><span class="line">                    cur.push_back(nums[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            res.push_back(cur);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>python</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def subsets(self, nums: List[int]) -&gt; List[List[int]]:</span><br><span class="line">        n = len(nums)</span><br><span class="line">        res = []</span><br><span class="line">        for state in range(0, 1 &lt;&lt; n):</span><br><span class="line">            cur = []</span><br><span class="line">            for i in range(n):</span><br><span class="line">                if (state &gt;&gt; i) &amp; 1:</span><br><span class="line">                    cur.append(nums[i])</span><br><span class="line">            res.append(cur)</span><br><span class="line">        return res</span><br></pre></td></tr></table></figure></details><h1 id="æ·±åº¦ä¼˜å…ˆéå†"><a href="#æ·±åº¦ä¼˜å…ˆéå†" class="headerlink" title="æ·±åº¦ä¼˜å…ˆéå†"></a>æ·±åº¦ä¼˜å…ˆéå†</h1><details>    <summary>Java</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">class Solution </span><br><span class="line">&#123;</span><br><span class="line">    int [] nums;</span><br><span class="line">    int n;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) </span><br><span class="line">    &#123;</span><br><span class="line">        this.nums = nums;</span><br><span class="line">        n = nums.length;</span><br><span class="line">        List&lt;Integer&gt; tmp = new ArrayList&lt;&gt;();</span><br><span class="line">        dfs(0, tmp);</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void dfs(int idx, List&lt;Integer&gt; path)</span><br><span class="line">    &#123;</span><br><span class="line">        if (idx == n)</span><br><span class="line">        &#123;</span><br><span class="line">            res.add(path);</span><br><span class="line">            return ;</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;Integer&gt; path1 = new ArrayList&lt;&gt;();     path1.addAll(path);</span><br><span class="line">        dfs(idx + 1, path1);</span><br><span class="line">        path.add(nums[idx]);</span><br><span class="line">        List&lt;Integer&gt; path2 = new ArrayList&lt;&gt;();     path2.addAll(path);</span><br><span class="line">        dfs(idx + 1, path2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">class Solution </span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;int&gt; nums;</span><br><span class="line">    int n;</span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; res;</span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; subsets(vector&lt;int&gt;&amp; nums) </span><br><span class="line">    &#123;</span><br><span class="line">        this-&gt;nums = nums;</span><br><span class="line">        n = nums.size();</span><br><span class="line">        dfs(0, vector&lt;int&gt;&#123;&#125;);</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void dfs(int idx, vector&lt;int&gt; path)</span><br><span class="line">    &#123;</span><br><span class="line">        if (idx == n)</span><br><span class="line">        &#123;</span><br><span class="line">            res.push_back(path);</span><br><span class="line">            return ;</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(idx + 1, path);</span><br><span class="line">        path.push_back(nums[idx]);</span><br><span class="line">        dfs(idx + 1, path);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>python</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def subsets(self, nums: List[int]) -&gt; List[List[int]]:</span><br><span class="line">        n = len(nums)</span><br><span class="line">        res = []</span><br><span class="line"></span><br><span class="line">        def dfs(idx: int, path: List[int]) -&gt; None:</span><br><span class="line">            nonlocal res</span><br><span class="line">            if idx == n:</span><br><span class="line">                res.append(path)</span><br><span class="line">                return </span><br><span class="line">            dfs(idx + 1, path + [nums[idx]])</span><br><span class="line">            dfs(idx + 1, path)</span><br><span class="line"></span><br><span class="line">        dfs(0, [])</span><br><span class="line">        return res</span><br></pre></td></tr></table></figure></details><h1 id="å›æº¯"><a href="#å›æº¯" class="headerlink" title="å›æº¯"></a>å›æº¯</h1><details>    <summary>Java</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">class Solution </span><br><span class="line">&#123;</span><br><span class="line">    int [] nums;</span><br><span class="line">    int n;</span><br><span class="line">    List&lt;Integer&gt; path = new ArrayList&lt;&gt;();</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) </span><br><span class="line">    &#123;</span><br><span class="line">        this.nums = nums;</span><br><span class="line">        this.n = nums.length;</span><br><span class="line">        backtrace(0);</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void backtrace(int idx)</span><br><span class="line">    &#123;</span><br><span class="line">        if (idx == n)</span><br><span class="line">        &#123;</span><br><span class="line">            res.add(new ArrayList&lt;&gt;(path));</span><br><span class="line">            return ;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        backtrace(idx + 1);</span><br><span class="line"></span><br><span class="line">        path.add(nums[idx]);</span><br><span class="line">        backtrace(idx + 1);</span><br><span class="line">        path.remove(path.size() - 1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution </span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;int&gt; nums;</span><br><span class="line">    int n;</span><br><span class="line">    vector&lt;int&gt; path;</span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; res;</span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; subsets(vector&lt;int&gt;&amp; nums) </span><br><span class="line">    &#123;</span><br><span class="line">        this-&gt;nums = nums;</span><br><span class="line">        this-&gt;n = nums.size();</span><br><span class="line">        backtrace(0);</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void backtrace(int idx)</span><br><span class="line">    &#123;</span><br><span class="line">        if (idx == n)</span><br><span class="line">        &#123;</span><br><span class="line">            res.push_back(path);</span><br><span class="line">            return ;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        backtrace(idx + 1);</span><br><span class="line"></span><br><span class="line">        path.push_back(nums[idx]);</span><br><span class="line">        backtrace(idx + 1);</span><br><span class="line">        path.pop_back();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>python</summary><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def subsets(self, nums: List[int]) -&gt; List[List[int]]:</span><br><span class="line">        n = len(nums)</span><br><span class="line">        res = []</span><br><span class="line"></span><br><span class="line">        path = []</span><br><span class="line">        def backtrace(idx: int) -&gt; None:</span><br><span class="line">            nonlocal res</span><br><span class="line">            nonlocal path</span><br><span class="line">            if idx == n:</span><br><span class="line">                res.append(path[:])</span><br><span class="line">                return </span><br><span class="line">                </span><br><span class="line">            backtrace(idx + 1)</span><br><span class="line"></span><br><span class="line">            path.append(nums[idx])</span><br><span class="line">            backtrace(idx + 1)</span><br><span class="line">            path.pop()</span><br><span class="line"></span><br><span class="line">        backtrace(0)</span><br><span class="line">        return res</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ•°ç»„ä¸­çš„å…ƒç´  äº’ä¸ç›¸åŒ ã€‚è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è§£é›† ä¸èƒ½ åŒ…å«é‡å¤çš„å­é›†ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›è§£é›†ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
      <category term="Backtracking" scheme="http://yoursite.com/tags/Backtracking/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡ Offer II 067. æœ€å¤§çš„å¼‚æˆ–</title>
    <link href="http://yoursite.com/2021/12/12/%E5%89%91%E6%8C%87%20Offer%20II%20067.%20%E6%9C%80%E5%A4%A7%E7%9A%84%E5%BC%82%E6%88%96/"/>
    <id>http://yoursite.com/2021/12/12/å‰‘æŒ‡ Offer II 067. æœ€å¤§çš„å¼‚æˆ–/</id>
    <published>2021-12-12T02:12:12.000Z</published>
    <updated>2021-12-12T01:53:16.297Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ª32ä½æ•´æ•°numï¼Œä½ å¯ä»¥å°†ä¸€ä¸ªæ•°ä½ä»0å˜ä¸º1ã€‚è¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾å‡ºä½ èƒ½å¤Ÿè·å¾—çš„æœ€é•¿çš„ä¸€ä¸²1çš„é•¿åº¦ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œè¿”å› nums[i] XOR nums[j] çš„æœ€å¤§è¿ç®—ç»“æœï¼Œå…¶ä¸­ 0 â‰¤ i â‰¤ j &lt; n ã€‚</p><p>è¿›é˜¶ï¼šä½ å¯ä»¥åœ¨ O(n) çš„æ—¶é—´è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ</p><p>æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ <a href="https://leetcode-cn.com/problems/maximum-xor-of-two-numbers-in-an-array/" target="_blank" rel="noopener">421. æ•°ç»„ä¸­ä¸¤ä¸ªæ•°çš„æœ€å¤§å¼‚æˆ–å€¼</a>ç›¸åŒ</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [3,10,5,25,2,8]è¾“å‡ºï¼š28è§£é‡Šï¼šæœ€å¤§è¿ç®—ç»“æœæ˜¯ 5 XOR 25 = 28.</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [0]è¾“å‡ºï¼š0</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [2,4]è¾“å‡ºï¼š6</code></pre><p>ç¤ºä¾‹ 4ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [8,10,2]è¾“å‡ºï¼š10</code></pre><p>ç¤ºä¾‹ 5ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [14,70,53,83,49,91,36,80,92,51,66,70]è¾“å‡ºï¼š127</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= nums.length &lt;= 2 * 1040 &lt;= nums[i] &lt;= 231 - 1</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨-1"><a href="#æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨^1"></a>æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨<a href="https://leetcode-cn.com/problems/maximum-xor-of-two-numbers-in-an-array/solution/shu-zu-zhong-liang-ge-shu-de-zui-da-yi-h-n9m9/" target="_blank" rel="noopener">^1</a></h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>å‡è®¾æˆ‘ä»¬å·²ç»ç¡®å®šäº† <em>x</em> æœ€é«˜çš„è‹¥å¹²ä¸ªäºŒè¿›åˆ¶ä½ï¼Œå½“å‰æ­£åœ¨ç¡®å®šç¬¬ <em>k</em> ä¸ªäºŒè¿›åˆ¶ä½ã€‚æ ¹æ®ã€Œå‰è¨€ã€éƒ¨åˆ†çš„åˆ†æï¼Œæˆ‘ä»¬å¸Œæœ›ç¬¬ <em>k</em> ä¸ªäºŒè¿›åˆ¶ä½èƒ½å¤Ÿå–åˆ° <em>1</em>ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">int</span> HIGH_BIT = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findMaximumXOR</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">            <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt; seen;</span><br><span class="line">            <span class="comment">// å°†æ‰€æœ‰çš„ pre^k(a_j) æ”¾å…¥å“ˆå¸Œè¡¨ä¸­</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> num: nums) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœåªæƒ³ä¿ç•™ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">                <span class="comment">// åªéœ€å°†å…¶å³ç§» k ä½</span></span><br><span class="line">                seen.insert(num &gt;&gt; k);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç›®å‰ x åŒ…å«ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k+1 ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">            <span class="comment">// æˆ‘ä»¬å°† x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ç½®ä¸º 1ï¼Œå³ä¸º x = x*2+1</span></span><br><span class="line">            <span class="keyword">int</span> x_next = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">bool</span> found = <span class="literal">false</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// æšä¸¾ i</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> num: nums) &#123;</span><br><span class="line">                <span class="keyword">if</span> (seen.count(x_next ^ (num &gt;&gt; k))) &#123;</span><br><span class="line">                    found = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (found) &#123;</span><br><span class="line">                x = x_next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³ç­‰å¼çš„ a_i å’Œ a_jï¼Œé‚£ä¹ˆ x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½åªèƒ½ä¸º 0</span></span><br><span class="line">                <span class="comment">// å³ä¸º x = x*2</span></span><br><span class="line">                x = x_next - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> HIGH_BIT = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMaximumXOR</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">            Set&lt;Integer&gt; seen = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line">            <span class="comment">// å°†æ‰€æœ‰çš„ pre^k(a_j) æ”¾å…¥å“ˆå¸Œè¡¨ä¸­</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœåªæƒ³ä¿ç•™ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">                <span class="comment">// åªéœ€å°†å…¶å³ç§» k ä½</span></span><br><span class="line">                seen.add(num &gt;&gt; k);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç›®å‰ x åŒ…å«ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k+1 ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">            <span class="comment">// æˆ‘ä»¬å°† x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ç½®ä¸º 1ï¼Œå³ä¸º x = x*2+1</span></span><br><span class="line">            <span class="keyword">int</span> xNext = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">boolean</span> found = <span class="keyword">false</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// æšä¸¾ i</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">                <span class="keyword">if</span> (seen.contains(xNext ^ (num &gt;&gt; k))) &#123;</span><br><span class="line">                    found = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (found) &#123;</span><br><span class="line">                x = xNext;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³ç­‰å¼çš„ a_i å’Œ a_jï¼Œé‚£ä¹ˆ x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½åªèƒ½ä¸º 0</span></span><br><span class="line">                <span class="comment">// å³ä¸º x = x*2</span></span><br><span class="line">                x = xNext - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    // æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span><br><span class="line">    const int HIGH_BIT = 30;</span><br><span class="line"></span><br><span class="line">    public int FindMaximumXOR(int[] nums) &#123;</span><br><span class="line">        int x = 0;</span><br><span class="line">        for (int k = HIGH_BIT; k &gt;= 0; --k) &#123;</span><br><span class="line">            ISet&lt;int&gt; seen = new HashSet&lt;int&gt;();</span><br><span class="line">            // å°†æ‰€æœ‰çš„ pre^k(a_j) æ”¾å…¥å“ˆå¸Œè¡¨ä¸­</span><br><span class="line">            foreach (int num in nums) &#123;</span><br><span class="line">                // å¦‚æœåªæƒ³ä¿ç•™ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span><br><span class="line">                // åªéœ€å°†å…¶å³ç§» k ä½</span><br><span class="line">                seen.Add(num &gt;&gt; k);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            // ç›®å‰ x åŒ…å«ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k+1 ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span><br><span class="line">            // æˆ‘ä»¬å°† x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ç½®ä¸º 1ï¼Œå³ä¸º x = x*2+1</span><br><span class="line">            int xNext = x * 2 + 1;</span><br><span class="line">            bool found = false;</span><br><span class="line">            </span><br><span class="line">            // æšä¸¾ i</span><br><span class="line">            foreach (int num in nums) &#123;</span><br><span class="line">                if (seen.Contains(xNext ^ (num &gt;&gt; k))) &#123;</span><br><span class="line">                    found = true;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if (found) &#123;</span><br><span class="line">                x = xNext;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                // å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³ç­‰å¼çš„ a_i å’Œ a_jï¼Œé‚£ä¹ˆ x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½åªèƒ½ä¸º 0</span><br><span class="line">                // å³ä¸º x = x*2</span><br><span class="line">                x = xNext - 1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMaximumXOR</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span></span><br><span class="line">        HIGH_BIT = <span class="number">30</span></span><br><span class="line"></span><br><span class="line">        x = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> range(HIGH_BIT, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">            seen = set()</span><br><span class="line">            <span class="comment"># å°†æ‰€æœ‰çš„ pre^k(a_j) æ”¾å…¥å“ˆå¸Œè¡¨ä¸­</span></span><br><span class="line">            <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">                <span class="comment"># å¦‚æœåªæƒ³ä¿ç•™ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">                <span class="comment"># åªéœ€å°†å…¶å³ç§» k ä½</span></span><br><span class="line">                seen.add(num &gt;&gt; k)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># ç›®å‰ x åŒ…å«ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k+1 ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">            <span class="comment"># æˆ‘ä»¬å°† x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ç½®ä¸º 1ï¼Œå³ä¸º x = x*2+1</span></span><br><span class="line">            x_next = x * <span class="number">2</span> + <span class="number">1</span></span><br><span class="line">            found = <span class="keyword">False</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment"># æšä¸¾ i</span></span><br><span class="line">            <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">                <span class="keyword">if</span> x_next ^ (num &gt;&gt; k) <span class="keyword">in</span> seen:</span><br><span class="line">                    found = <span class="keyword">True</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> found:</span><br><span class="line">                x = x_next</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³ç­‰å¼çš„ a_i å’Œ a_jï¼Œé‚£ä¹ˆ x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½åªèƒ½ä¸º 0</span></span><br><span class="line">                <span class="comment"># å³ä¸º x = x*2</span></span><br><span class="line">                x = x_next - <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> findMaximumXOR = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> HIGH_BIT = <span class="number">30</span>;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">        <span class="keyword">const</span> seen = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰çš„ pre^k(a_j) æ”¾å…¥å“ˆå¸Œè¡¨ä¸­</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> num <span class="keyword">of</span> nums) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœåªæƒ³ä¿ç•™ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">            <span class="comment">// åªéœ€å°†å…¶å³ç§» k ä½</span></span><br><span class="line">            seen.add(num &gt;&gt; k);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç›®å‰ x åŒ…å«ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k+1 ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">        <span class="comment">// æˆ‘ä»¬å°† x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ç½®ä¸º 1ï¼Œå³ä¸º x = x*2+1</span></span><br><span class="line">        <span class="keyword">const</span> xNext = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">let</span> found = <span class="literal">false</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æšä¸¾ i</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> num <span class="keyword">of</span> nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (seen.has(xNext ^ (num &gt;&gt; k))) &#123;</span><br><span class="line">                found = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (found) &#123;</span><br><span class="line">            x = xNext;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³ç­‰å¼çš„ a_i å’Œ a_jï¼Œé‚£ä¹ˆ x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½åªèƒ½ä¸º 0</span></span><br><span class="line">            <span class="comment">// å³ä¸º x = x*2</span></span><br><span class="line">            x = xNext - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x; </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findMaximumXOR</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="params">(x <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">const</span> highBit = <span class="number">30</span> <span class="comment">// æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span></span><br><span class="line">    <span class="keyword">for</span> k := highBit; k &gt;= <span class="number">0</span>; k-- &#123;</span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰çš„ pre^k(a_j) æ”¾å…¥å“ˆå¸Œè¡¨ä¸­</span></span><br><span class="line">        seen := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">bool</span>&#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> _, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœåªæƒ³ä¿ç•™ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">            <span class="comment">// åªéœ€å°†å…¶å³ç§» k ä½</span></span><br><span class="line">            seen[num&gt;&gt;k] = <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç›®å‰ x åŒ…å«ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k+1 ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">        <span class="comment">// æˆ‘ä»¬å°† x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ç½®ä¸º 1ï¼Œå³ä¸º x = x*2+1</span></span><br><span class="line">        xNext := x*<span class="number">2</span> + <span class="number">1</span></span><br><span class="line">        found := <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æšä¸¾ i</span></span><br><span class="line">        <span class="keyword">for</span> _, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">            <span class="keyword">if</span> seen[num&gt;&gt;k^xNext] &#123;</span><br><span class="line">                found = <span class="literal">true</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> found &#123;</span><br><span class="line">            x = xNext</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³ç­‰å¼çš„ a_i å’Œ a_jï¼Œé‚£ä¹ˆ x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½åªèƒ½ä¸º 0</span></span><br><span class="line">            <span class="comment">// å³ä¸º x = x*2</span></span><br><span class="line">            x = xNext - <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> HIGH_BIT = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> key;</span><br><span class="line">    UT_hash_handle hh;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findMaximumXOR</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span>* <span class="title">hashTable</span> = <span class="title">NULL</span>;</span></span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰çš„ pre^k(a_j) æ”¾å…¥å“ˆå¸Œè¡¨ä¸­</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numsSize; i++) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœåªæƒ³ä¿ç•™ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">            <span class="comment">// åªéœ€å°†å…¶å³ç§» k ä½</span></span><br><span class="line">            <span class="keyword">int</span> x = nums[i] &gt;&gt; k;</span><br><span class="line">            <span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span>* <span class="title">tmp</span>;</span></span><br><span class="line">            HASH_FIND_INT(hashTable, &amp;x, tmp);</span><br><span class="line">            <span class="keyword">if</span> (tmp == <span class="literal">NULL</span>) &#123;</span><br><span class="line">                tmp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct HashTable));</span><br><span class="line">                tmp-&gt;key = x;</span><br><span class="line">                HASH_ADD_INT(hashTable, key, tmp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç›®å‰ x åŒ…å«ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k+1 ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">        <span class="comment">// æˆ‘ä»¬å°† x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ç½®ä¸º 1ï¼Œå³ä¸º x = x*2+1</span></span><br><span class="line">        <span class="keyword">int</span> x_next = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">bool</span> found = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æšä¸¾ i</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numsSize; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> x = x_next ^ (nums[i] &gt;&gt; k);</span><br><span class="line">            <span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span>* <span class="title">tmp</span>;</span></span><br><span class="line">            HASH_FIND_INT(hashTable, &amp;x, tmp);</span><br><span class="line">            <span class="keyword">if</span> (tmp != <span class="literal">NULL</span>) &#123;</span><br><span class="line">                found = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (found) &#123;</span><br><span class="line">            x = x_next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³ç­‰å¼çš„ a_i å’Œ a_jï¼Œé‚£ä¹ˆ x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½åªèƒ½ä¸º 0</span></span><br><span class="line">            <span class="comment">// å³ä¸º x = x*2</span></span><br><span class="line">            x = x_next - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="æ–¹æ³•äºŒï¼šå­—å…¸æ ‘"><a href="#æ–¹æ³•äºŒï¼šå­—å…¸æ ‘" class="headerlink" title="æ–¹æ³•äºŒï¼šå­—å…¸æ ‘"></a>æ–¹æ³•äºŒï¼šå­—å…¸æ ‘</h1><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Trie</span> &#123;</span></span><br><span class="line">    <span class="comment">// å·¦å­æ ‘æŒ‡å‘è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">    Trie* left = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="comment">// å³å­æ ‘æŒ‡å‘è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">    Trie* right = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">    Trie() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// å­—å…¸æ ‘çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    Trie* root = <span class="keyword">new</span> Trie();</span><br><span class="line">    <span class="comment">// æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">int</span> HIGH_BIT = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        Trie* cur = root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">            <span class="keyword">int</span> bit = (num &gt;&gt; k) &amp; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (bit == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!cur-&gt;left) &#123;</span><br><span class="line">                    cur-&gt;left = <span class="keyword">new</span> Trie();</span><br><span class="line">                &#125;</span><br><span class="line">                cur = cur-&gt;left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (!cur-&gt;right) &#123;</span><br><span class="line">                    cur-&gt;right = <span class="keyword">new</span> Trie();</span><br><span class="line">                &#125;</span><br><span class="line">                cur = cur-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        Trie* cur = root;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">            <span class="keyword">int</span> bit = (num &gt;&gt; k) &amp; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (bit == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 0ï¼Œåº”å½“å¾€è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹ right èµ°</span></span><br><span class="line">                <span class="keyword">if</span> (cur-&gt;right) &#123;</span><br><span class="line">                    cur = cur-&gt;right;</span><br><span class="line">                    x = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    cur = cur-&gt;left;</span><br><span class="line">                    x = x * <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 1ï¼Œåº”å½“å¾€è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹ left èµ°</span></span><br><span class="line">                <span class="keyword">if</span> (cur-&gt;left) &#123;</span><br><span class="line">                    cur = cur-&gt;left;</span><br><span class="line">                    x = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    cur = cur-&gt;right;</span><br><span class="line">                    x = x * <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findMaximumXOR</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="comment">// å°† nums[i-1] æ”¾å…¥å­—å…¸æ ‘ï¼Œæ­¤æ—¶ nums[0 .. i-1] éƒ½åœ¨å­—å…¸æ ‘ä¸­</span></span><br><span class="line">            add(nums[i - <span class="number">1</span>]);</span><br><span class="line">            <span class="comment">// å°† nums[i] çœ‹ä½œ aiï¼Œæ‰¾å‡ºæœ€å¤§çš„ x æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">            x = max(x, check(nums[i]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å­—å…¸æ ‘çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    Trie root = <span class="keyword">new</span> Trie();</span><br><span class="line">    <span class="comment">// æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> HIGH_BIT = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMaximumXOR</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="comment">// å°† nums[i-1] æ”¾å…¥å­—å…¸æ ‘ï¼Œæ­¤æ—¶ nums[0 .. i-1] éƒ½åœ¨å­—å…¸æ ‘ä¸­</span></span><br><span class="line">            add(nums[i - <span class="number">1</span>]);</span><br><span class="line">            <span class="comment">// å°† nums[i] çœ‹ä½œ aiï¼Œæ‰¾å‡ºæœ€å¤§çš„ x æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">            x = Math.max(x, check(nums[i]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        Trie cur = root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">            <span class="keyword">int</span> bit = (num &gt;&gt; k) &amp; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (bit == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (cur.left == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    cur.left = <span class="keyword">new</span> Trie();</span><br><span class="line">                &#125;</span><br><span class="line">                cur = cur.left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (cur.right == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    cur.right = <span class="keyword">new</span> Trie();</span><br><span class="line">                &#125;</span><br><span class="line">                cur = cur.right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        Trie cur = root;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">            <span class="keyword">int</span> bit = (num &gt;&gt; k) &amp; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (bit == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 0ï¼Œåº”å½“å¾€è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹ right èµ°</span></span><br><span class="line">                <span class="keyword">if</span> (cur.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    cur = cur.right;</span><br><span class="line">                    x = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    cur = cur.left;</span><br><span class="line">                    x = x * <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 1ï¼Œåº”å½“å¾€è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹ left èµ°</span></span><br><span class="line">                <span class="keyword">if</span> (cur.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    cur = cur.left;</span><br><span class="line">                    x = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    cur = cur.right;</span><br><span class="line">                    x = x * <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Trie</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å·¦å­æ ‘æŒ‡å‘è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">    Trie left = <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// å³å­æ ‘æŒ‡å‘è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">    Trie right = <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol2-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    // å­—å…¸æ ‘çš„æ ¹èŠ‚ç‚¹</span><br><span class="line">    Trie root = new Trie();</span><br><span class="line">    // æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span><br><span class="line">    const int HIGH_BIT = 30;</span><br><span class="line"></span><br><span class="line">    public int FindMaximumXOR(int[] nums) &#123;</span><br><span class="line">        int n = nums.Length;</span><br><span class="line">        int x = 0;</span><br><span class="line">        for (int i = 1; i &lt; n; ++i) &#123;</span><br><span class="line">            // å°† nums[i-1] æ”¾å…¥å­—å…¸æ ‘ï¼Œæ­¤æ—¶ nums[0 .. i-1] éƒ½åœ¨å­—å…¸æ ‘ä¸­</span><br><span class="line">            Add(nums[i - 1]);</span><br><span class="line">            // å°† nums[i] çœ‹ä½œ aiï¼Œæ‰¾å‡ºæœ€å¤§çš„ x æ›´æ–°ç­”æ¡ˆ</span><br><span class="line">            x = Math.Max(x, Check(nums[i]));</span><br><span class="line">        &#125;</span><br><span class="line">        return x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void Add(int num) &#123;</span><br><span class="line">        Trie cur = root;</span><br><span class="line">        for (int k = HIGH_BIT; k &gt;= 0; --k) &#123;</span><br><span class="line">            int bit = (num &gt;&gt; k) &amp; 1;</span><br><span class="line">            if (bit == 0) &#123;</span><br><span class="line">                if (cur.left == null) &#123;</span><br><span class="line">                    cur.left = new Trie();</span><br><span class="line">                &#125;</span><br><span class="line">                cur = cur.left;</span><br><span class="line">            &#125;</span><br><span class="line">            else &#123;</span><br><span class="line">                if (cur.right == null) &#123;</span><br><span class="line">                    cur.right = new Trie();</span><br><span class="line">                &#125;</span><br><span class="line">                cur = cur.right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int Check(int num) &#123;</span><br><span class="line">        Trie cur = root;</span><br><span class="line">        int x = 0;</span><br><span class="line">        for (int k = HIGH_BIT; k &gt;= 0; --k) &#123;</span><br><span class="line">            int bit = (num &gt;&gt; k) &amp; 1;</span><br><span class="line">            if (bit == 0) &#123;</span><br><span class="line">                // a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 0ï¼Œåº”å½“å¾€è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹ right èµ°</span><br><span class="line">                if (cur.right != null) &#123;</span><br><span class="line">                    cur = cur.right;</span><br><span class="line">                    x = x * 2 + 1;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    cur = cur.left;</span><br><span class="line">                    x = x * 2;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                // a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 1ï¼Œåº”å½“å¾€è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹ left èµ°</span><br><span class="line">                if (cur.left != null) &#123;</span><br><span class="line">                    cur = cur.left;</span><br><span class="line">                    x = x * 2 + 1;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    cur = cur.right;</span><br><span class="line">                    x = x * 2;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Trie &#123;</span><br><span class="line">    // å·¦å­æ ‘æŒ‡å‘è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹</span><br><span class="line">    public Trie left = null;</span><br><span class="line">    // å³å­æ ‘æŒ‡å‘è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹</span><br><span class="line">    public Trie right = null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Trie</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># å·¦å­æ ‘æŒ‡å‘è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">        self.left = <span class="keyword">None</span></span><br><span class="line">        <span class="comment"># å³å­æ ‘æŒ‡å‘è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">        self.right = <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMaximumXOR</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># å­—å…¸æ ‘çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        root = Trie()</span><br><span class="line">        <span class="comment"># æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span></span><br><span class="line">        HIGH_BIT = <span class="number">30</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(num: int)</span>:</span></span><br><span class="line">            cur = root</span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(HIGH_BIT, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">                bit = (num &gt;&gt; k) &amp; <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> bit == <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> cur.left:</span><br><span class="line">                        cur.left = Trie()</span><br><span class="line">                    cur = cur.left</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> cur.right:</span><br><span class="line">                        cur.right = Trie()</span><br><span class="line">                    cur = cur.right</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">check</span><span class="params">(num: int)</span> -&gt; int:</span></span><br><span class="line">            cur = root</span><br><span class="line">            x = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(HIGH_BIT, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">                bit = (num &gt;&gt; k) &amp; <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> bit == <span class="number">0</span>:</span><br><span class="line">                    <span class="comment"># a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 0ï¼Œåº”å½“å¾€è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹ right èµ°</span></span><br><span class="line">                    <span class="keyword">if</span> cur.right:</span><br><span class="line">                        cur = cur.right</span><br><span class="line">                        x = x * <span class="number">2</span> + <span class="number">1</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        cur = cur.left</span><br><span class="line">                        x = x * <span class="number">2</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="comment"># a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 1ï¼Œåº”å½“å¾€è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹ left èµ°</span></span><br><span class="line">                    <span class="keyword">if</span> cur.left:</span><br><span class="line">                        cur = cur.left</span><br><span class="line">                        x = x * <span class="number">2</span> + <span class="number">1</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        cur = cur.right</span><br><span class="line">                        x = x * <span class="number">2</span></span><br><span class="line">            <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">        n = len(nums)</span><br><span class="line">        x = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n):</span><br><span class="line">            <span class="comment"># å°† nums[i-1] æ”¾å…¥å­—å…¸æ ‘ï¼Œæ­¤æ—¶ nums[0 .. i-1] éƒ½åœ¨å­—å…¸æ ‘ä¸­</span></span><br><span class="line">            add(nums[i - <span class="number">1</span>])</span><br><span class="line">            <span class="comment"># å°† nums[i] çœ‹ä½œ aiï¼Œæ‰¾å‡ºæœ€å¤§çš„ x æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">            x = max(x, check(nums[i]))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> highBit = <span class="number">30</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> trie <span class="keyword">struct</span> &#123;</span><br><span class="line">    left, right *trie</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *trie)</span> <span class="title">add</span><span class="params">(num <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    cur := t</span><br><span class="line">    <span class="keyword">for</span> i := highBit; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">        bit := num &gt;&gt; i &amp; <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> bit == <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> cur.left == <span class="literal">nil</span> &#123;</span><br><span class="line">                cur.left = &amp;trie&#123;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur.left</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> cur.right == <span class="literal">nil</span> &#123;</span><br><span class="line">                cur.right = &amp;trie&#123;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur.right</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *trie)</span> <span class="title">check</span><span class="params">(num <span class="keyword">int</span>)</span> <span class="params">(x <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    cur := t</span><br><span class="line">    <span class="keyword">for</span> i := highBit; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">        bit := num &gt;&gt; i &amp; <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> bit == <span class="number">0</span> &#123;</span><br><span class="line">            <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 0ï¼Œåº”å½“å¾€è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹ right èµ°</span></span><br><span class="line">            <span class="keyword">if</span> cur.right != <span class="literal">nil</span> &#123;</span><br><span class="line">                cur = cur.right</span><br><span class="line">                x = x*<span class="number">2</span> + <span class="number">1</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cur = cur.left</span><br><span class="line">                x = x * <span class="number">2</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 1ï¼Œåº”å½“å¾€è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹ left èµ°</span></span><br><span class="line">            <span class="keyword">if</span> cur.left != <span class="literal">nil</span> &#123;</span><br><span class="line">                cur = cur.left</span><br><span class="line">                x = x*<span class="number">2</span> + <span class="number">1</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cur = cur.right</span><br><span class="line">                x = x * <span class="number">2</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findMaximumXOR</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="params">(x <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    root := &amp;trie&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line">        <span class="comment">// å°† nums[i-1] æ”¾å…¥å­—å…¸æ ‘ï¼Œæ­¤æ—¶ nums[0 .. i-1] éƒ½åœ¨å­—å…¸æ ‘ä¸­</span></span><br><span class="line">        root.add(nums[i<span class="number">-1</span>])</span><br><span class="line">        <span class="comment">// å°† nums[i] çœ‹ä½œ aiï¼Œæ‰¾å‡ºæœ€å¤§çš„ x æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">        x = max(x, root.check(nums[i]))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> HIGH_BIT = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Trie</span> &#123;</span></span><br><span class="line">    <span class="comment">// å·¦å­æ ‘æŒ‡å‘è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>* <span class="title">left</span>;</span></span><br><span class="line">    <span class="comment">// å³å­æ ‘æŒ‡å‘è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>* <span class="title">right</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">struct Trie* <span class="title">createTrie</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>* <span class="title">ret</span> = <span class="title">malloc</span>(<span class="title">sizeof</span>(<span class="title">struct</span> <span class="title">Trie</span>));</span></span><br><span class="line">    ret-&gt;left = ret-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(struct Trie* root, <span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>* <span class="title">cur</span> = <span class="title">root</span>;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">        <span class="keyword">int</span> bit = (num &gt;&gt; k) &amp; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (bit == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!cur-&gt;left) &#123;</span><br><span class="line">                cur-&gt;left = createTrie();</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur-&gt;left;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (!cur-&gt;right) &#123;</span><br><span class="line">                cur-&gt;right = createTrie();</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">check</span><span class="params">(struct Trie* root, <span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>* <span class="title">cur</span> = <span class="title">root</span>;</span></span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">        <span class="keyword">int</span> bit = (num &gt;&gt; k) &amp; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (bit == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 0ï¼Œåº”å½“å¾€è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹ right èµ°</span></span><br><span class="line">            <span class="keyword">if</span> (cur-&gt;right) &#123;</span><br><span class="line">                cur = cur-&gt;right;</span><br><span class="line">                x = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cur = cur-&gt;left;</span><br><span class="line">                x = x * <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 1ï¼Œåº”å½“å¾€è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹ left èµ°</span></span><br><span class="line">            <span class="keyword">if</span> (cur-&gt;left) &#123;</span><br><span class="line">                cur = cur-&gt;left;</span><br><span class="line">                x = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cur = cur-&gt;right;</span><br><span class="line">                x = x * <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findMaximumXOR</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>* <span class="title">root</span> = <span class="title">createTrie</span>();</span></span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; numsSize; ++i) &#123;</span><br><span class="line">        <span class="comment">// å°† nums[i-1] æ”¾å…¥å­—å…¸æ ‘ï¼Œæ­¤æ—¶ nums[0 .. i-1] éƒ½åœ¨å­—å…¸æ ‘ä¸­</span></span><br><span class="line">        add(root, nums[i - <span class="number">1</span>]);</span><br><span class="line">        <span class="comment">// å°† nums[i] çœ‹ä½œ aiï¼Œæ‰¾å‡ºæœ€å¤§çš„ x æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">        x = fmax(x, check(root, nums[i]));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ª32ä½æ•´æ•°numï¼Œä½ å¯ä»¥å°†ä¸€ä¸ªæ•°ä½ä»0å˜ä¸º1ã€‚è¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾å‡ºä½ èƒ½å¤Ÿè·å¾—çš„æœ€é•¿çš„ä¸€ä¸²1çš„é•¿åº¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
      <category term="Trie" scheme="http://yoursite.com/tags/Trie/"/>
    
  </entry>
  
  <entry>
    <title>421. æ•°ç»„ä¸­ä¸¤ä¸ªæ•°çš„æœ€å¤§å¼‚æˆ–å€¼</title>
    <link href="http://yoursite.com/2021/12/10/421.%20%E6%95%B0%E7%BB%84%E4%B8%AD%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%9A%84%E6%9C%80%E5%A4%A7%E5%BC%82%E6%88%96%E5%80%BC/"/>
    <id>http://yoursite.com/2021/12/10/421. æ•°ç»„ä¸­ä¸¤ä¸ªæ•°çš„æœ€å¤§å¼‚æˆ–å€¼/</id>
    <published>2021-12-10T10:12:12.000Z</published>
    <updated>2021-12-12T01:53:09.707Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ª32ä½æ•´æ•°numï¼Œä½ å¯ä»¥å°†ä¸€ä¸ªæ•°ä½ä»0å˜ä¸º1ã€‚è¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾å‡ºä½ èƒ½å¤Ÿè·å¾—çš„æœ€é•¿çš„ä¸€ä¸²1çš„é•¿åº¦ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œè¿”å› nums[i] XOR nums[j] çš„æœ€å¤§è¿ç®—ç»“æœï¼Œå…¶ä¸­ 0 â‰¤ i â‰¤ j &lt; n ã€‚</p><p>è¿›é˜¶ï¼šä½ å¯ä»¥åœ¨ O(n) çš„æ—¶é—´è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [3,10,5,25,2,8]è¾“å‡ºï¼š28è§£é‡Šï¼šæœ€å¤§è¿ç®—ç»“æœæ˜¯ 5 XOR 25 = 28.</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [0]è¾“å‡ºï¼š0</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [2,4]è¾“å‡ºï¼š6</code></pre><p>ç¤ºä¾‹ 4ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [8,10,2]è¾“å‡ºï¼š10</code></pre><p>ç¤ºä¾‹ 5ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [14,70,53,83,49,91,36,80,92,51,66,70]è¾“å‡ºï¼š127</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= nums.length &lt;= 2 * 1040 &lt;= nums[i] &lt;= 231 - 1</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨-1"><a href="#æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨^1"></a>æ–¹æ³•ä¸€ï¼šå“ˆå¸Œè¡¨<a href="https://leetcode-cn.com/problems/maximum-xor-of-two-numbers-in-an-array/solution/shu-zu-zhong-liang-ge-shu-de-zui-da-yi-h-n9m9/" target="_blank" rel="noopener">^1</a></h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>å‡è®¾æˆ‘ä»¬å·²ç»ç¡®å®šäº† <em>x</em> æœ€é«˜çš„è‹¥å¹²ä¸ªäºŒè¿›åˆ¶ä½ï¼Œå½“å‰æ­£åœ¨ç¡®å®šç¬¬ <em>k</em> ä¸ªäºŒè¿›åˆ¶ä½ã€‚æ ¹æ®ã€Œå‰è¨€ã€éƒ¨åˆ†çš„åˆ†æï¼Œæˆ‘ä»¬å¸Œæœ›ç¬¬ <em>k</em> ä¸ªäºŒè¿›åˆ¶ä½èƒ½å¤Ÿå–åˆ° <em>1</em>ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">int</span> HIGH_BIT = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findMaximumXOR</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">            <span class="built_in">unordered_set</span>&lt;<span class="keyword">int</span>&gt; seen;</span><br><span class="line">            <span class="comment">// å°†æ‰€æœ‰çš„ pre^k(a_j) æ”¾å…¥å“ˆå¸Œè¡¨ä¸­</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> num: nums) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœåªæƒ³ä¿ç•™ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">                <span class="comment">// åªéœ€å°†å…¶å³ç§» k ä½</span></span><br><span class="line">                seen.insert(num &gt;&gt; k);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç›®å‰ x åŒ…å«ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k+1 ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">            <span class="comment">// æˆ‘ä»¬å°† x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ç½®ä¸º 1ï¼Œå³ä¸º x = x*2+1</span></span><br><span class="line">            <span class="keyword">int</span> x_next = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">bool</span> found = <span class="literal">false</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// æšä¸¾ i</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> num: nums) &#123;</span><br><span class="line">                <span class="keyword">if</span> (seen.count(x_next ^ (num &gt;&gt; k))) &#123;</span><br><span class="line">                    found = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (found) &#123;</span><br><span class="line">                x = x_next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³ç­‰å¼çš„ a_i å’Œ a_jï¼Œé‚£ä¹ˆ x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½åªèƒ½ä¸º 0</span></span><br><span class="line">                <span class="comment">// å³ä¸º x = x*2</span></span><br><span class="line">                x = x_next - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> HIGH_BIT = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMaximumXOR</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">            Set&lt;Integer&gt; seen = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line">            <span class="comment">// å°†æ‰€æœ‰çš„ pre^k(a_j) æ”¾å…¥å“ˆå¸Œè¡¨ä¸­</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœåªæƒ³ä¿ç•™ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">                <span class="comment">// åªéœ€å°†å…¶å³ç§» k ä½</span></span><br><span class="line">                seen.add(num &gt;&gt; k);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç›®å‰ x åŒ…å«ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k+1 ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">            <span class="comment">// æˆ‘ä»¬å°† x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ç½®ä¸º 1ï¼Œå³ä¸º x = x*2+1</span></span><br><span class="line">            <span class="keyword">int</span> xNext = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">boolean</span> found = <span class="keyword">false</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// æšä¸¾ i</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">                <span class="keyword">if</span> (seen.contains(xNext ^ (num &gt;&gt; k))) &#123;</span><br><span class="line">                    found = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (found) &#123;</span><br><span class="line">                x = xNext;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³ç­‰å¼çš„ a_i å’Œ a_jï¼Œé‚£ä¹ˆ x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½åªèƒ½ä¸º 0</span></span><br><span class="line">                <span class="comment">// å³ä¸º x = x*2</span></span><br><span class="line">                x = xNext - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    // æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span><br><span class="line">    const int HIGH_BIT = 30;</span><br><span class="line"></span><br><span class="line">    public int FindMaximumXOR(int[] nums) &#123;</span><br><span class="line">        int x = 0;</span><br><span class="line">        for (int k = HIGH_BIT; k &gt;= 0; --k) &#123;</span><br><span class="line">            ISet&lt;int&gt; seen = new HashSet&lt;int&gt;();</span><br><span class="line">            // å°†æ‰€æœ‰çš„ pre^k(a_j) æ”¾å…¥å“ˆå¸Œè¡¨ä¸­</span><br><span class="line">            foreach (int num in nums) &#123;</span><br><span class="line">                // å¦‚æœåªæƒ³ä¿ç•™ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span><br><span class="line">                // åªéœ€å°†å…¶å³ç§» k ä½</span><br><span class="line">                seen.Add(num &gt;&gt; k);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            // ç›®å‰ x åŒ…å«ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k+1 ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span><br><span class="line">            // æˆ‘ä»¬å°† x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ç½®ä¸º 1ï¼Œå³ä¸º x = x*2+1</span><br><span class="line">            int xNext = x * 2 + 1;</span><br><span class="line">            bool found = false;</span><br><span class="line">            </span><br><span class="line">            // æšä¸¾ i</span><br><span class="line">            foreach (int num in nums) &#123;</span><br><span class="line">                if (seen.Contains(xNext ^ (num &gt;&gt; k))) &#123;</span><br><span class="line">                    found = true;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if (found) &#123;</span><br><span class="line">                x = xNext;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                // å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³ç­‰å¼çš„ a_i å’Œ a_jï¼Œé‚£ä¹ˆ x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½åªèƒ½ä¸º 0</span><br><span class="line">                // å³ä¸º x = x*2</span><br><span class="line">                x = xNext - 1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMaximumXOR</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span></span><br><span class="line">        HIGH_BIT = <span class="number">30</span></span><br><span class="line"></span><br><span class="line">        x = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> range(HIGH_BIT, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">            seen = set()</span><br><span class="line">            <span class="comment"># å°†æ‰€æœ‰çš„ pre^k(a_j) æ”¾å…¥å“ˆå¸Œè¡¨ä¸­</span></span><br><span class="line">            <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">                <span class="comment"># å¦‚æœåªæƒ³ä¿ç•™ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">                <span class="comment"># åªéœ€å°†å…¶å³ç§» k ä½</span></span><br><span class="line">                seen.add(num &gt;&gt; k)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># ç›®å‰ x åŒ…å«ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k+1 ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">            <span class="comment"># æˆ‘ä»¬å°† x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ç½®ä¸º 1ï¼Œå³ä¸º x = x*2+1</span></span><br><span class="line">            x_next = x * <span class="number">2</span> + <span class="number">1</span></span><br><span class="line">            found = <span class="keyword">False</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment"># æšä¸¾ i</span></span><br><span class="line">            <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">                <span class="keyword">if</span> x_next ^ (num &gt;&gt; k) <span class="keyword">in</span> seen:</span><br><span class="line">                    found = <span class="keyword">True</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> found:</span><br><span class="line">                x = x_next</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³ç­‰å¼çš„ a_i å’Œ a_jï¼Œé‚£ä¹ˆ x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½åªèƒ½ä¸º 0</span></span><br><span class="line">                <span class="comment"># å³ä¸º x = x*2</span></span><br><span class="line">                x = x_next - <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> findMaximumXOR = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> HIGH_BIT = <span class="number">30</span>;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">        <span class="keyword">const</span> seen = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰çš„ pre^k(a_j) æ”¾å…¥å“ˆå¸Œè¡¨ä¸­</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> num <span class="keyword">of</span> nums) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœåªæƒ³ä¿ç•™ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">            <span class="comment">// åªéœ€å°†å…¶å³ç§» k ä½</span></span><br><span class="line">            seen.add(num &gt;&gt; k);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç›®å‰ x åŒ…å«ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k+1 ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">        <span class="comment">// æˆ‘ä»¬å°† x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ç½®ä¸º 1ï¼Œå³ä¸º x = x*2+1</span></span><br><span class="line">        <span class="keyword">const</span> xNext = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">let</span> found = <span class="literal">false</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æšä¸¾ i</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> num <span class="keyword">of</span> nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (seen.has(xNext ^ (num &gt;&gt; k))) &#123;</span><br><span class="line">                found = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (found) &#123;</span><br><span class="line">            x = xNext;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³ç­‰å¼çš„ a_i å’Œ a_jï¼Œé‚£ä¹ˆ x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½åªèƒ½ä¸º 0</span></span><br><span class="line">            <span class="comment">// å³ä¸º x = x*2</span></span><br><span class="line">            x = xNext - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x; </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findMaximumXOR</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="params">(x <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">const</span> highBit = <span class="number">30</span> <span class="comment">// æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span></span><br><span class="line">    <span class="keyword">for</span> k := highBit; k &gt;= <span class="number">0</span>; k-- &#123;</span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰çš„ pre^k(a_j) æ”¾å…¥å“ˆå¸Œè¡¨ä¸­</span></span><br><span class="line">        seen := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">bool</span>&#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> _, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœåªæƒ³ä¿ç•™ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">            <span class="comment">// åªéœ€å°†å…¶å³ç§» k ä½</span></span><br><span class="line">            seen[num&gt;&gt;k] = <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç›®å‰ x åŒ…å«ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k+1 ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">        <span class="comment">// æˆ‘ä»¬å°† x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ç½®ä¸º 1ï¼Œå³ä¸º x = x*2+1</span></span><br><span class="line">        xNext := x*<span class="number">2</span> + <span class="number">1</span></span><br><span class="line">        found := <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æšä¸¾ i</span></span><br><span class="line">        <span class="keyword">for</span> _, num := <span class="keyword">range</span> nums &#123;</span><br><span class="line">            <span class="keyword">if</span> seen[num&gt;&gt;k^xNext] &#123;</span><br><span class="line">                found = <span class="literal">true</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> found &#123;</span><br><span class="line">            x = xNext</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³ç­‰å¼çš„ a_i å’Œ a_jï¼Œé‚£ä¹ˆ x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½åªèƒ½ä¸º 0</span></span><br><span class="line">            <span class="comment">// å³ä¸º x = x*2</span></span><br><span class="line">            x = xNext - <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> HIGH_BIT = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> key;</span><br><span class="line">    UT_hash_handle hh;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findMaximumXOR</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span>* <span class="title">hashTable</span> = <span class="title">NULL</span>;</span></span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰çš„ pre^k(a_j) æ”¾å…¥å“ˆå¸Œè¡¨ä¸­</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numsSize; i++) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœåªæƒ³ä¿ç•™ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">            <span class="comment">// åªéœ€å°†å…¶å³ç§» k ä½</span></span><br><span class="line">            <span class="keyword">int</span> x = nums[i] &gt;&gt; k;</span><br><span class="line">            <span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span>* <span class="title">tmp</span>;</span></span><br><span class="line">            HASH_FIND_INT(hashTable, &amp;x, tmp);</span><br><span class="line">            <span class="keyword">if</span> (tmp == <span class="literal">NULL</span>) &#123;</span><br><span class="line">                tmp = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct HashTable));</span><br><span class="line">                tmp-&gt;key = x;</span><br><span class="line">                HASH_ADD_INT(hashTable, key, tmp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç›®å‰ x åŒ…å«ä»æœ€é«˜ä½å¼€å§‹åˆ°ç¬¬ k+1 ä¸ªäºŒè¿›åˆ¶ä½ä¸ºæ­¢çš„éƒ¨åˆ†</span></span><br><span class="line">        <span class="comment">// æˆ‘ä»¬å°† x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ç½®ä¸º 1ï¼Œå³ä¸º x = x*2+1</span></span><br><span class="line">        <span class="keyword">int</span> x_next = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">bool</span> found = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æšä¸¾ i</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numsSize; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> x = x_next ^ (nums[i] &gt;&gt; k);</span><br><span class="line">            <span class="class"><span class="keyword">struct</span> <span class="title">HashTable</span>* <span class="title">tmp</span>;</span></span><br><span class="line">            HASH_FIND_INT(hashTable, &amp;x, tmp);</span><br><span class="line">            <span class="keyword">if</span> (tmp != <span class="literal">NULL</span>) &#123;</span><br><span class="line">                found = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (found) &#123;</span><br><span class="line">            x = x_next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ»¡è¶³ç­‰å¼çš„ a_i å’Œ a_jï¼Œé‚£ä¹ˆ x çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½åªèƒ½ä¸º 0</span></span><br><span class="line">            <span class="comment">// å³ä¸º x = x*2</span></span><br><span class="line">            x = x_next - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="æ–¹æ³•äºŒï¼šå­—å…¸æ ‘"><a href="#æ–¹æ³•äºŒï¼šå­—å…¸æ ‘" class="headerlink" title="æ–¹æ³•äºŒï¼šå­—å…¸æ ‘"></a>æ–¹æ³•äºŒï¼šå­—å…¸æ ‘</h1><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Trie</span> &#123;</span></span><br><span class="line">    <span class="comment">// å·¦å­æ ‘æŒ‡å‘è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">    Trie* left = <span class="literal">nullptr</span>;</span><br><span class="line">    <span class="comment">// å³å­æ ‘æŒ‡å‘è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">    Trie* right = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">    Trie() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// å­—å…¸æ ‘çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    Trie* root = <span class="keyword">new</span> Trie();</span><br><span class="line">    <span class="comment">// æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keyword">int</span> HIGH_BIT = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        Trie* cur = root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">            <span class="keyword">int</span> bit = (num &gt;&gt; k) &amp; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (bit == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!cur-&gt;left) &#123;</span><br><span class="line">                    cur-&gt;left = <span class="keyword">new</span> Trie();</span><br><span class="line">                &#125;</span><br><span class="line">                cur = cur-&gt;left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (!cur-&gt;right) &#123;</span><br><span class="line">                    cur-&gt;right = <span class="keyword">new</span> Trie();</span><br><span class="line">                &#125;</span><br><span class="line">                cur = cur-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        Trie* cur = root;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">            <span class="keyword">int</span> bit = (num &gt;&gt; k) &amp; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (bit == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 0ï¼Œåº”å½“å¾€è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹ right èµ°</span></span><br><span class="line">                <span class="keyword">if</span> (cur-&gt;right) &#123;</span><br><span class="line">                    cur = cur-&gt;right;</span><br><span class="line">                    x = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    cur = cur-&gt;left;</span><br><span class="line">                    x = x * <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 1ï¼Œåº”å½“å¾€è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹ left èµ°</span></span><br><span class="line">                <span class="keyword">if</span> (cur-&gt;left) &#123;</span><br><span class="line">                    cur = cur-&gt;left;</span><br><span class="line">                    x = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    cur = cur-&gt;right;</span><br><span class="line">                    x = x * <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findMaximumXOR</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="comment">// å°† nums[i-1] æ”¾å…¥å­—å…¸æ ‘ï¼Œæ­¤æ—¶ nums[0 .. i-1] éƒ½åœ¨å­—å…¸æ ‘ä¸­</span></span><br><span class="line">            add(nums[i - <span class="number">1</span>]);</span><br><span class="line">            <span class="comment">// å°† nums[i] çœ‹ä½œ aiï¼Œæ‰¾å‡ºæœ€å¤§çš„ x æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">            x = max(x, check(nums[i]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å­—å…¸æ ‘çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    Trie root = <span class="keyword">new</span> Trie();</span><br><span class="line">    <span class="comment">// æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> HIGH_BIT = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMaximumXOR</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="comment">// å°† nums[i-1] æ”¾å…¥å­—å…¸æ ‘ï¼Œæ­¤æ—¶ nums[0 .. i-1] éƒ½åœ¨å­—å…¸æ ‘ä¸­</span></span><br><span class="line">            add(nums[i - <span class="number">1</span>]);</span><br><span class="line">            <span class="comment">// å°† nums[i] çœ‹ä½œ aiï¼Œæ‰¾å‡ºæœ€å¤§çš„ x æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">            x = Math.max(x, check(nums[i]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        Trie cur = root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">            <span class="keyword">int</span> bit = (num &gt;&gt; k) &amp; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (bit == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (cur.left == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    cur.left = <span class="keyword">new</span> Trie();</span><br><span class="line">                &#125;</span><br><span class="line">                cur = cur.left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (cur.right == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    cur.right = <span class="keyword">new</span> Trie();</span><br><span class="line">                &#125;</span><br><span class="line">                cur = cur.right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        Trie cur = root;</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">            <span class="keyword">int</span> bit = (num &gt;&gt; k) &amp; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (bit == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 0ï¼Œåº”å½“å¾€è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹ right èµ°</span></span><br><span class="line">                <span class="keyword">if</span> (cur.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    cur = cur.right;</span><br><span class="line">                    x = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    cur = cur.left;</span><br><span class="line">                    x = x * <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 1ï¼Œåº”å½“å¾€è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹ left èµ°</span></span><br><span class="line">                <span class="keyword">if</span> (cur.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    cur = cur.left;</span><br><span class="line">                    x = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    cur = cur.right;</span><br><span class="line">                    x = x * <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Trie</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å·¦å­æ ‘æŒ‡å‘è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">    Trie left = <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">// å³å­æ ‘æŒ‡å‘è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">    Trie right = <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol2-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    // å­—å…¸æ ‘çš„æ ¹èŠ‚ç‚¹</span><br><span class="line">    Trie root = new Trie();</span><br><span class="line">    // æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span><br><span class="line">    const int HIGH_BIT = 30;</span><br><span class="line"></span><br><span class="line">    public int FindMaximumXOR(int[] nums) &#123;</span><br><span class="line">        int n = nums.Length;</span><br><span class="line">        int x = 0;</span><br><span class="line">        for (int i = 1; i &lt; n; ++i) &#123;</span><br><span class="line">            // å°† nums[i-1] æ”¾å…¥å­—å…¸æ ‘ï¼Œæ­¤æ—¶ nums[0 .. i-1] éƒ½åœ¨å­—å…¸æ ‘ä¸­</span><br><span class="line">            Add(nums[i - 1]);</span><br><span class="line">            // å°† nums[i] çœ‹ä½œ aiï¼Œæ‰¾å‡ºæœ€å¤§çš„ x æ›´æ–°ç­”æ¡ˆ</span><br><span class="line">            x = Math.Max(x, Check(nums[i]));</span><br><span class="line">        &#125;</span><br><span class="line">        return x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void Add(int num) &#123;</span><br><span class="line">        Trie cur = root;</span><br><span class="line">        for (int k = HIGH_BIT; k &gt;= 0; --k) &#123;</span><br><span class="line">            int bit = (num &gt;&gt; k) &amp; 1;</span><br><span class="line">            if (bit == 0) &#123;</span><br><span class="line">                if (cur.left == null) &#123;</span><br><span class="line">                    cur.left = new Trie();</span><br><span class="line">                &#125;</span><br><span class="line">                cur = cur.left;</span><br><span class="line">            &#125;</span><br><span class="line">            else &#123;</span><br><span class="line">                if (cur.right == null) &#123;</span><br><span class="line">                    cur.right = new Trie();</span><br><span class="line">                &#125;</span><br><span class="line">                cur = cur.right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int Check(int num) &#123;</span><br><span class="line">        Trie cur = root;</span><br><span class="line">        int x = 0;</span><br><span class="line">        for (int k = HIGH_BIT; k &gt;= 0; --k) &#123;</span><br><span class="line">            int bit = (num &gt;&gt; k) &amp; 1;</span><br><span class="line">            if (bit == 0) &#123;</span><br><span class="line">                // a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 0ï¼Œåº”å½“å¾€è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹ right èµ°</span><br><span class="line">                if (cur.right != null) &#123;</span><br><span class="line">                    cur = cur.right;</span><br><span class="line">                    x = x * 2 + 1;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    cur = cur.left;</span><br><span class="line">                    x = x * 2;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                // a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 1ï¼Œåº”å½“å¾€è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹ left èµ°</span><br><span class="line">                if (cur.left != null) &#123;</span><br><span class="line">                    cur = cur.left;</span><br><span class="line">                    x = x * 2 + 1;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    cur = cur.right;</span><br><span class="line">                    x = x * 2;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Trie &#123;</span><br><span class="line">    // å·¦å­æ ‘æŒ‡å‘è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹</span><br><span class="line">    public Trie left = null;</span><br><span class="line">    // å³å­æ ‘æŒ‡å‘è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹</span><br><span class="line">    public Trie right = null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Trie</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># å·¦å­æ ‘æŒ‡å‘è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">        self.left = <span class="keyword">None</span></span><br><span class="line">        <span class="comment"># å³å­æ ‘æŒ‡å‘è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">        self.right = <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMaximumXOR</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="comment"># å­—å…¸æ ‘çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        root = Trie()</span><br><span class="line">        <span class="comment"># æœ€é«˜ä½çš„äºŒè¿›åˆ¶ä½ç¼–å·ä¸º 30</span></span><br><span class="line">        HIGH_BIT = <span class="number">30</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(num: int)</span>:</span></span><br><span class="line">            cur = root</span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(HIGH_BIT, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">                bit = (num &gt;&gt; k) &amp; <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> bit == <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> cur.left:</span><br><span class="line">                        cur.left = Trie()</span><br><span class="line">                    cur = cur.left</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> cur.right:</span><br><span class="line">                        cur.right = Trie()</span><br><span class="line">                    cur = cur.right</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">check</span><span class="params">(num: int)</span> -&gt; int:</span></span><br><span class="line">            cur = root</span><br><span class="line">            x = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(HIGH_BIT, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">                bit = (num &gt;&gt; k) &amp; <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> bit == <span class="number">0</span>:</span><br><span class="line">                    <span class="comment"># a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 0ï¼Œåº”å½“å¾€è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹ right èµ°</span></span><br><span class="line">                    <span class="keyword">if</span> cur.right:</span><br><span class="line">                        cur = cur.right</span><br><span class="line">                        x = x * <span class="number">2</span> + <span class="number">1</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        cur = cur.left</span><br><span class="line">                        x = x * <span class="number">2</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="comment"># a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 1ï¼Œåº”å½“å¾€è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹ left èµ°</span></span><br><span class="line">                    <span class="keyword">if</span> cur.left:</span><br><span class="line">                        cur = cur.left</span><br><span class="line">                        x = x * <span class="number">2</span> + <span class="number">1</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        cur = cur.right</span><br><span class="line">                        x = x * <span class="number">2</span></span><br><span class="line">            <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">        n = len(nums)</span><br><span class="line">        x = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n):</span><br><span class="line">            <span class="comment"># å°† nums[i-1] æ”¾å…¥å­—å…¸æ ‘ï¼Œæ­¤æ—¶ nums[0 .. i-1] éƒ½åœ¨å­—å…¸æ ‘ä¸­</span></span><br><span class="line">            add(nums[i - <span class="number">1</span>])</span><br><span class="line">            <span class="comment"># å°† nums[i] çœ‹ä½œ aiï¼Œæ‰¾å‡ºæœ€å¤§çš„ x æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">            x = max(x, check(nums[i]))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> highBit = <span class="number">30</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> trie <span class="keyword">struct</span> &#123;</span><br><span class="line">    left, right *trie</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *trie)</span> <span class="title">add</span><span class="params">(num <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    cur := t</span><br><span class="line">    <span class="keyword">for</span> i := highBit; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">        bit := num &gt;&gt; i &amp; <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> bit == <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> cur.left == <span class="literal">nil</span> &#123;</span><br><span class="line">                cur.left = &amp;trie&#123;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur.left</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> cur.right == <span class="literal">nil</span> &#123;</span><br><span class="line">                cur.right = &amp;trie&#123;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur.right</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(t *trie)</span> <span class="title">check</span><span class="params">(num <span class="keyword">int</span>)</span> <span class="params">(x <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    cur := t</span><br><span class="line">    <span class="keyword">for</span> i := highBit; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">        bit := num &gt;&gt; i &amp; <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> bit == <span class="number">0</span> &#123;</span><br><span class="line">            <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 0ï¼Œåº”å½“å¾€è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹ right èµ°</span></span><br><span class="line">            <span class="keyword">if</span> cur.right != <span class="literal">nil</span> &#123;</span><br><span class="line">                cur = cur.right</span><br><span class="line">                x = x*<span class="number">2</span> + <span class="number">1</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cur = cur.left</span><br><span class="line">                x = x * <span class="number">2</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 1ï¼Œåº”å½“å¾€è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹ left èµ°</span></span><br><span class="line">            <span class="keyword">if</span> cur.left != <span class="literal">nil</span> &#123;</span><br><span class="line">                cur = cur.left</span><br><span class="line">                x = x*<span class="number">2</span> + <span class="number">1</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cur = cur.right</span><br><span class="line">                x = x * <span class="number">2</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findMaximumXOR</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="params">(x <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    root := &amp;trie&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line">        <span class="comment">// å°† nums[i-1] æ”¾å…¥å­—å…¸æ ‘ï¼Œæ­¤æ—¶ nums[0 .. i-1] éƒ½åœ¨å­—å…¸æ ‘ä¸­</span></span><br><span class="line">        root.add(nums[i<span class="number">-1</span>])</span><br><span class="line">        <span class="comment">// å°† nums[i] çœ‹ä½œ aiï¼Œæ‰¾å‡ºæœ€å¤§çš„ x æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">        x = max(x, root.check(nums[i]))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> a &gt; b &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> HIGH_BIT = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Trie</span> &#123;</span></span><br><span class="line">    <span class="comment">// å·¦å­æ ‘æŒ‡å‘è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>* <span class="title">left</span>;</span></span><br><span class="line">    <span class="comment">// å³å­æ ‘æŒ‡å‘è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>* <span class="title">right</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">struct Trie* <span class="title">createTrie</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>* <span class="title">ret</span> = <span class="title">malloc</span>(<span class="title">sizeof</span>(<span class="title">struct</span> <span class="title">Trie</span>));</span></span><br><span class="line">    ret-&gt;left = ret-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(struct Trie* root, <span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>* <span class="title">cur</span> = <span class="title">root</span>;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">        <span class="keyword">int</span> bit = (num &gt;&gt; k) &amp; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (bit == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!cur-&gt;left) &#123;</span><br><span class="line">                cur-&gt;left = createTrie();</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur-&gt;left;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (!cur-&gt;right) &#123;</span><br><span class="line">                cur-&gt;right = createTrie();</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">check</span><span class="params">(struct Trie* root, <span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>* <span class="title">cur</span> = <span class="title">root</span>;</span></span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = HIGH_BIT; k &gt;= <span class="number">0</span>; --k) &#123;</span><br><span class="line">        <span class="keyword">int</span> bit = (num &gt;&gt; k) &amp; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (bit == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 0ï¼Œåº”å½“å¾€è¡¨ç¤º 1 çš„å­èŠ‚ç‚¹ right èµ°</span></span><br><span class="line">            <span class="keyword">if</span> (cur-&gt;right) &#123;</span><br><span class="line">                cur = cur-&gt;right;</span><br><span class="line">                x = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cur = cur-&gt;left;</span><br><span class="line">                x = x * <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// a_i çš„ç¬¬ k ä¸ªäºŒè¿›åˆ¶ä½ä¸º 1ï¼Œåº”å½“å¾€è¡¨ç¤º 0 çš„å­èŠ‚ç‚¹ left èµ°</span></span><br><span class="line">            <span class="keyword">if</span> (cur-&gt;left) &#123;</span><br><span class="line">                cur = cur-&gt;left;</span><br><span class="line">                x = x * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cur = cur-&gt;right;</span><br><span class="line">                x = x * <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findMaximumXOR</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize)</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>* <span class="title">root</span> = <span class="title">createTrie</span>();</span></span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; numsSize; ++i) &#123;</span><br><span class="line">        <span class="comment">// å°† nums[i-1] æ”¾å…¥å­—å…¸æ ‘ï¼Œæ­¤æ—¶ nums[0 .. i-1] éƒ½åœ¨å­—å…¸æ ‘ä¸­</span></span><br><span class="line">        add(root, nums[i - <span class="number">1</span>]);</span><br><span class="line">        <span class="comment">// å°† nums[i] çœ‹ä½œ aiï¼Œæ‰¾å‡ºæœ€å¤§çš„ x æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">        x = fmax(x, check(root, nums[i]));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ª32ä½æ•´æ•°numï¼Œä½ å¯ä»¥å°†ä¸€ä¸ªæ•°ä½ä»0å˜ä¸º1ã€‚è¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾å‡ºä½ èƒ½å¤Ÿè·å¾—çš„æœ€é•¿çš„ä¸€ä¸²1çš„é•¿åº¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
      <category term="Trie" scheme="http://yoursite.com/tags/Trie/"/>
    
  </entry>
  
  <entry>
    <title>é¢è¯•é¢˜ 05.03. ç¿»è½¬æ•°ä½</title>
    <link href="http://yoursite.com/2021/12/10/%E9%9D%A2%E8%AF%95%E9%A2%98%2005.03.%20%E7%BF%BB%E8%BD%AC%E6%95%B0%E4%BD%8D/"/>
    <id>http://yoursite.com/2021/12/10/é¢è¯•é¢˜ 05.03. ç¿»è½¬æ•°ä½/</id>
    <published>2021-12-10T07:12:12.000Z</published>
    <updated>2021-12-10T09:50:02.413Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ª32ä½æ•´æ•°numï¼Œä½ å¯ä»¥å°†ä¸€ä¸ªæ•°ä½ä»0å˜ä¸º1ã€‚è¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾å‡ºä½ èƒ½å¤Ÿè·å¾—çš„æœ€é•¿çš„ä¸€ä¸²1çš„é•¿åº¦ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥: num = 1775(110111011112)è¾“å‡º: 8</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥: num = 7(01112)è¾“å‡º: 4</code></pre><h1 id="åŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯"><a href="#åŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯" class="headerlink" title="åŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯"></a>åŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯</h1><p>æ¯æ¬¡ç»´æŠ¤ä¸‰ä¸ªå˜é‡<br>curï¼šå½“å‰ä½ç½®ä¸ºæ­¢è¿ç»­1çš„ä¸ªæ•°ï¼Œé‡åˆ°0å½’é›¶ï¼Œé‡åˆ°1åŠ 1<br>insertï¼šåœ¨å½“å‰ä½ç½®å˜æˆ1ï¼Œå¾€å‰æ•°è¿ç»­1çš„æœ€å¤§ä¸ªæ•°ï¼Œé‡åˆ°0å˜ä¸ºcur+1ï¼Œé‡åˆ°1åŠ 1<br>res:ä¿å­˜insertçš„æœ€å¤§å€¼å³å¯</p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><details>    <summary>python</summary><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseBits</span><span class="params">(self, num)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type num: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        cur = <span class="number">0</span></span><br><span class="line">        insert = <span class="number">0</span></span><br><span class="line">        res = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">32</span>):</span><br><span class="line">            <span class="keyword">if</span> num &amp; (<span class="number">1</span>&lt;&lt;i):</span><br><span class="line">               cur += <span class="number">1</span></span><br><span class="line">               insert +=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                insert = cur + <span class="number">1</span></span><br><span class="line">                cur = <span class="number">0</span></span><br><span class="line">            res = max(res,insert)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">reverseBits</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> cur = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> insert = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((num &amp; (<span class="number">1</span> &lt;&lt; i)) != <span class="number">0</span>) &#123;</span><br><span class="line">                cur += <span class="number">1</span>;</span><br><span class="line">                insert += <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                insert = cur + <span class="number">1</span>;</span><br><span class="line">                cur = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            res = Math.max(res, insert);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="æ¨¡æ‹Ÿæ³•è§£é¢˜æ€è·¯"><a href="#æ¨¡æ‹Ÿæ³•è§£é¢˜æ€è·¯" class="headerlink" title="æ¨¡æ‹Ÿæ³•è§£é¢˜æ€è·¯"></a>æ¨¡æ‹Ÿæ³•è§£é¢˜æ€è·¯</h1><p>è¿™æ˜¯ä¸€é“æ¨¡æ‹Ÿé¢˜ã€‚</p><p><strong>å…³é”®ç‚¹</strong></p><ol><li>ç”¨ bitset&lt;32&gt; è®°å½•å¥½numçš„32ä½äºŒè¿›åˆ¶01ä¸²ã€‚</li><li>éå† bitset&lt;32&gt; , æ‰¾ç›¸é‚»çš„è¿ç»­0ä¸² å’Œ è¿ç»­1ä¸²ã€‚</li><li>è®°å½•å¥½å‰åè¢«0ä¸²åˆ†éš”çš„1ä¸²çš„é•¿åº¦ï¼Œé€šè¿‡ä¸­é—´çš„0ä¸²çš„é•¿åº¦æ˜¯å¦ä¸º1 åˆ¤æ–­ä¸¤ä¸ª1ä¸²æ˜¯å¦å¯ä»¥è¿æ¥</li><li>ä¸è¦å¿½ç•¥ç‰¹æ®Šæƒ…å†µï¼Œå½“32ä½å…¨ä¸º1æ—¶,ä¾‹å¦‚-1ï¼Œä¸éœ€è¦å˜ä½å°±å·²ç»è¾¾åˆ°æœ€é•¿çš„1ä¸²é•¿åº¦ï¼Œä¸º32</li></ol><h2 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h2><details>    <summary>cpp</summary><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">reverseBits</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">bitset</span>&lt;32&gt; bits(num);<span class="comment">//è®°å½• num çš„äºŒè¿›åˆ¶ 01 ä¸²</span></span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">1</span> , zero = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> n1 = <span class="number">0</span>, n2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>( i &lt;= <span class="number">32</span>)&#123;</span><br><span class="line">            n1 = n2 ,n2 = <span class="number">0</span>, zero = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(i&lt;=<span class="number">32</span> &amp;&amp; bits[i]==<span class="number">0</span>)&#123;</span><br><span class="line">                ++zero;<span class="comment">//ç»Ÿè®¡è¿ç»­çš„ 0 çš„ä¸ªæ•°</span></span><br><span class="line">                ++i;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span>(i&lt;=<span class="number">32</span> &amp;&amp; bits[i]==<span class="number">1</span>)&#123;</span><br><span class="line">                ++n2;<span class="comment">//ç»Ÿè®¡è¿ç»­çš„ 1 çš„ä¸ªæ•°</span></span><br><span class="line">                ++i;</span><br><span class="line">            &#125;</span><br><span class="line">            ans = max(ans,n2+<span class="number">1</span>);           </span><br><span class="line">            <span class="keyword">if</span>(zero==<span class="number">1</span>)&#123; <span class="comment">//å¦‚æœå‰åçš„è¿ç»­ä¸º 1 çš„ä¸²ä¸­é—´ä¹‹éš”äº†ä¸€ä¸ª0</span></span><br><span class="line">                ans = max(ans,n1+n2+<span class="number">1</span>); <span class="comment">//çœ‹è¿æ¥ä¹‹åæ˜¯å¦è¾¾åˆ°æœ€é•¿</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> min(<span class="number">32</span>,ans); <span class="comment">//æœ‰å¯èƒ½å…¨ä¸º 1 ï¼Œæ­¤æ—¶ä¸ç”¨å˜ä½å·²è¾¾åˆ°æœ€é•¿</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">reverseBits</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        BitSet bitSet = <span class="keyword">new</span> BitSet(<span class="number">32</span>);<span class="comment">//è®°å½• num çš„äºŒè¿›åˆ¶ 01 ä¸²</span></span><br><span class="line">        <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">32</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((num &amp; (<span class="number">1</span> &lt;&lt; i)) != <span class="number">0</span>) &#123;</span><br><span class="line">                bitSet.set(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">1</span>, zero = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> n1 = <span class="number">0</span>, n2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; <span class="number">32</span>) &#123;</span><br><span class="line">            n1 = n2;</span><br><span class="line">            n2 = <span class="number">0</span>;</span><br><span class="line">            zero = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; <span class="number">32</span> &amp;&amp; !bitSet.get(i)) &#123;</span><br><span class="line">                zero++; <span class="comment">//ç»Ÿè®¡è¿ç»­çš„ 0 çš„ä¸ªæ•°</span></span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; <span class="number">32</span> &amp;&amp; bitSet.get(i)) &#123;</span><br><span class="line">                n2++;<span class="comment">//ç»Ÿè®¡è¿ç»­çš„ 1 çš„ä¸ªæ•°</span></span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            ans = Math.max(ans, n2 + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (zero == <span class="number">1</span>) &#123;<span class="comment">//å¦‚æœå‰åçš„è¿ç»­ä¸º 1 çš„ä¸²ä¸­é—´ä¹‹éš”äº†ä¸€ä¸ª0</span></span><br><span class="line">                ans = Math.max(ans, n1 + n2 + <span class="number">1</span>);<span class="comment">//çœ‹è¿æ¥ä¹‹åæ˜¯å¦è¾¾åˆ°æœ€é•¿</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Math.min(<span class="number">32</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™å®šä¸€ä¸ª32ä½æ•´æ•°numï¼Œä½ å¯ä»¥å°†ä¸€ä¸ªæ•°ä½ä»0å˜ä¸º1ã€‚è¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ‰¾å‡ºä½ èƒ½å¤Ÿè·å¾—çš„æœ€é•¿çš„ä¸€ä¸²1çš„é•¿åº¦ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•</title>
    <link href="http://yoursite.com/2021/12/10/%E5%89%91%E6%8C%87%20Offer%2065.%20%E4%B8%8D%E7%94%A8%E5%8A%A0%E5%87%8F%E4%B9%98%E9%99%A4%E5%81%9A%E5%8A%A0%E6%B3%95/"/>
    <id>http://yoursite.com/2021/12/10/å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•/</id>
    <published>2021-12-10T04:12:12.000Z</published>
    <updated>2021-12-10T03:52:57.268Z</updated>
    
    <content type="html"><![CDATA[<p>å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä¸¤ä¸ªæ•´æ•°ä¹‹å’Œï¼Œè¦æ±‚åœ¨å‡½æ•°ä½“å†…ä¸å¾—ä½¿ç”¨ â€œ+â€ã€â€œ-â€ã€â€œ*â€ã€â€œ/â€ å››åˆ™è¿ç®—ç¬¦å·ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹:</p><pre><code>è¾“å…¥: a = 1, b = 1è¾“å‡º: 2</code></pre><p>æç¤ºï¼š</p><pre><code>a, b å‡å¯èƒ½æ˜¯è´Ÿæ•°æˆ– 0ç»“æœä¸ä¼šæº¢å‡º 32 ä½æ•´æ•°</code></pre><h1 id="è§£é¢˜æ€è·¯-1ï¼š"><a href="#è§£é¢˜æ€è·¯-1ï¼š" class="headerlink" title="è§£é¢˜æ€è·¯^1ï¼š"></a>è§£é¢˜æ€è·¯<a href="https://leetcode-cn.com/problems/bu-yong-jia-jian-cheng-chu-zuo-jia-fa-lcof/solution/mian-shi-ti-65-bu-yong-jia-jian-cheng-chu-zuo-ji-7/" target="_blank" rel="noopener">^1</a>ï¼š</h1><p>æœ¬é¢˜è€ƒå¯Ÿå¯¹ä½è¿ç®—çš„çµæ´»ä½¿ç”¨ï¼Œå³ä½¿ç”¨ä½è¿ç®—å®ç°åŠ æ³•ã€‚<br>è®¾ä¸¤æ•°å­—çš„äºŒè¿›åˆ¶å½¢å¼ <em>a, b</em> ï¼Œå…¶æ±‚å’Œ <em>s = a + b</em> ï¼Œ<em>a(i)</em> ä»£è¡¨ <em>a</em> çš„äºŒè¿›åˆ¶ç¬¬ <em>i</em> ä½ï¼Œåˆ™åˆ†ä¸ºä»¥ä¸‹å››ç§æƒ…å†µï¼š</p><table><thead><tr><th align="center"><em>a(i)</em></th><th align="center"><em>b(i)</em></th><th align="center">æ— è¿›ä½å’Œ <em>n(i)</em></th><th align="center">è¿›ä½ <em>c(i+1)</em></th></tr></thead><tbody><tr><td align="center"><em>0</em></td><td align="center"><em>0</em></td><td align="center"><em>0</em></td><td align="center"><em>0</em></td></tr><tr><td align="center"><em>0</em></td><td align="center"><em>1</em></td><td align="center"><em>1</em></td><td align="center"><em>0</em></td></tr><tr><td align="center"><em>1</em></td><td align="center"><em>0</em></td><td align="center"><em>1</em></td><td align="center"><em>0</em></td></tr><tr><td align="center"><em>1</em></td><td align="center"><em>1</em></td><td align="center"><em>0</em></td><td align="center"><em>1</em></td></tr></tbody></table><p>è§‚å¯Ÿå‘ç°ï¼Œ<strong>æ— è¿›ä½å’Œ</strong> ä¸ <strong>å¼‚æˆ–è¿ç®—</strong> è§„å¾‹ç›¸åŒï¼Œ<strong>è¿›ä½</strong> å’Œ <strong>ä¸è¿ç®—</strong> è§„å¾‹ç›¸åŒï¼ˆå¹¶éœ€å·¦ç§»ä¸€ä½ï¼‰ã€‚å› æ­¤ï¼Œæ— è¿›ä½å’Œ <em>n</em> ä¸è¿›ä½ <em>c</em> çš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼›</p><p>ï¼ˆå’Œ <em>s</em> ï¼‰<em>=</em>ï¼ˆéè¿›ä½å’Œ <em>n</em> ï¼‰<em>+</em>ï¼ˆè¿›ä½ <em>c</em> ï¼‰ã€‚å³å¯å°† <em>s = a + b</em> è½¬åŒ–ä¸ºï¼š</p><p>å¾ªç¯æ±‚ <em>n</em> å’Œ <em>c</em> ï¼Œç›´è‡³è¿›ä½ <em>c = 0</em> ï¼›æ­¤æ—¶ <em>s = n</em> ï¼Œè¿”å› <em>n</em> å³å¯ã€‚</p><blockquote><p><strong>Q ï¼š</strong> è‹¥æ•°å­— <em>a</em> å’Œ <em>b</em> ä¸­æœ‰è´Ÿæ•°ï¼Œåˆ™å˜æˆäº†å‡æ³•ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ<br><strong>A ï¼š</strong> åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œæ•°å€¼ä¸€å¾‹ç”¨ <strong>è¡¥ç </strong> æ¥è¡¨ç¤ºå’Œå­˜å‚¨ã€‚<strong>è¡¥ç çš„ä¼˜åŠ¿ï¼š</strong> åŠ æ³•ã€å‡æ³•å¯ä»¥ç»Ÿä¸€å¤„ç†ï¼ˆCPUåªæœ‰åŠ æ³•å™¨ï¼‰ã€‚å› æ­¤ï¼Œä»¥ä¸Šæ–¹æ³• <strong>åŒæ—¶é€‚ç”¨äºæ­£æ•°å’Œè´Ÿæ•°çš„åŠ æ³•</strong> ã€‚</p></blockquote><h2 id="å¤æ‚åº¦åˆ†æï¼š"><a href="#å¤æ‚åº¦åˆ†æï¼š" class="headerlink" title="å¤æ‚åº¦åˆ†æï¼š"></a>å¤æ‚åº¦åˆ†æï¼š</h2><ul><li><strong>æ—¶é—´å¤æ‚åº¦ <em>O(1)</em> ï¼š</strong> æœ€å·®æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ <em>a =</em> 0x7fffffff , <em>b = 1</em> æ—¶ï¼‰ï¼Œéœ€å¾ªç¯ 32 æ¬¡ï¼Œä½¿ç”¨ <em>O(1)</em> æ—¶é—´ï¼›æ¯è½®ä¸­çš„å¸¸æ•°æ¬¡ä½æ“ä½œä½¿ç”¨ <em>O(1)</em> æ—¶é—´ã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦ <em>O(1)</em> ï¼š</strong> ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li></ul><h2 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h2><details>    <summary>java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(b != <span class="number">0</span>) &#123; <span class="comment">// å½“è¿›ä½ä¸º 0 æ—¶è·³å‡º</span></span><br><span class="line">            <span class="keyword">int</span> c = (a &amp; b) &lt;&lt; <span class="number">1</span>;  <span class="comment">// c = è¿›ä½</span></span><br><span class="line">            a ^= b; <span class="comment">// a = éè¿›ä½å’Œ</span></span><br><span class="line">            b = c; <span class="comment">// b = è¿›ä½</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(self, a: int, b: int)</span> -&gt; int:</span></span><br><span class="line">        x = <span class="number">0xffffffff</span></span><br><span class="line">        a, b = a &amp; x, b &amp; x</span><br><span class="line">        <span class="keyword">while</span> b != <span class="number">0</span>:</span><br><span class="line">            a, b = (a ^ b), (a &amp; b) &lt;&lt; <span class="number">1</span> &amp; x</span><br><span class="line">        <span class="keyword">return</span> a <span class="keyword">if</span> a &lt;= <span class="number">0x7fffffff</span> <span class="keyword">else</span> ~(a ^ x)</span><br></pre></td></tr></table></figure></details><h2 id="é€’å½’å†™æ³•"><a href="#é€’å½’å†™æ³•" class="headerlink" title="é€’å½’å†™æ³•"></a>é€’å½’å†™æ³•</h2><details>    <summary>é€’å½’å†™æ³•java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(b != <span class="number">0</span>) &#123; <span class="comment">// å½“è¿›ä½ä¸º 0 æ—¶è·³å‡º</span></span><br><span class="line">            <span class="keyword">int</span> c = (a &amp; b) &lt;&lt; <span class="number">1</span>;  <span class="comment">// c = è¿›ä½</span></span><br><span class="line">            a ^= b; <span class="comment">// a = éè¿›ä½å’Œ</span></span><br><span class="line">            b = c; <span class="comment">// b = è¿›ä½</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><blockquote><p>ç”±äº Python çš„æ•°å­—å­˜å‚¨ç‰¹ç‚¹ï¼Œéœ€è¦åšç‰¹æ®Šè€ƒè™‘ï¼Œä»¥ä¸‹è¯¦ç»†ä»‹ç»ã€‚</p></blockquote><h2 id="Python-è´Ÿæ•°çš„å­˜å‚¨ï¼š"><a href="#Python-è´Ÿæ•°çš„å­˜å‚¨ï¼š" class="headerlink" title="Python è´Ÿæ•°çš„å­˜å‚¨ï¼š"></a>Python è´Ÿæ•°çš„å­˜å‚¨ï¼š</h2><p>Pythonï¼ŒJava ç­‰è¯­è¨€ä¸­çš„æ•°å­—éƒ½æ˜¯ä»¥ <strong>è¡¥ç </strong> å½¢å¼å­˜å‚¨çš„ã€‚ä½† Python æ²¡æœ‰ <code>int</code> , <code>long</code> ç­‰ä¸åŒé•¿åº¦å˜é‡ï¼Œå³åœ¨ç¼–ç¨‹æ—¶æ— å˜é‡ä½æ•°çš„æ¦‚å¿µã€‚<br><strong>è·å–è´Ÿæ•°çš„è¡¥ç ï¼š</strong> éœ€è¦å°†æ•°å­—ä¸åå…­è¿›åˆ¶æ•° <code>0xffffffff</code> ç›¸ä¸ã€‚å¯ç†è§£ä¸ºèˆå»æ­¤æ•°å­— 32 ä½ä»¥ä¸Šçš„æ•°å­—ï¼ˆå°† 32 ä½ä»¥ä¸Šéƒ½å˜ä¸º <em>0</em> ï¼‰ï¼Œä»æ— é™é•¿åº¦å˜ä¸ºä¸€ä¸ª 32 ä½æ•´æ•°ã€‚<br><strong>è¿”å›å‰æ•°å­—è¿˜åŸï¼š</strong> è‹¥è¡¥ç  <em>a</em> ä¸ºè´Ÿæ•°ï¼ˆ <code>0x7fffffff</code> æ˜¯æœ€å¤§çš„æ­£æ•°çš„è¡¥ç  ï¼‰ï¼Œéœ€æ‰§è¡Œ <code>~(a ^ x)</code> æ“ä½œï¼Œå°†è¡¥ç è¿˜åŸè‡³ Python çš„å­˜å‚¨æ ¼å¼ã€‚ <code>a ^ x</code> è¿ç®—å°† 1 è‡³ 32 ä½æŒ‰ä½å–åï¼› <code>~</code> è¿ç®—æ˜¯å°†æ•´ä¸ªæ•°å­—å–åï¼›å› æ­¤ï¼Œ <code>~(a ^ x)</code> æ˜¯å°† 32 ä½ä»¥ä¸Šçš„ä½å–åï¼Œ1 è‡³ 32 ä½ä¸å˜ã€‚</p><details>    <summary>python</summary><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">print(hex(<span class="number">1</span>)) <span class="comment"># = 0x1 è¡¥ç </span></span><br><span class="line">print(hex(<span class="number">-1</span>)) <span class="comment"># = -0x1 è´Ÿå· + åŸç  ï¼ˆ Python ç‰¹è‰²ï¼ŒJava ä¼šç›´æ¥è¾“å‡ºè¡¥ç ï¼‰</span></span><br><span class="line"></span><br><span class="line">print(hex(<span class="number">1</span> &amp; <span class="number">0xffffffff</span>)) <span class="comment"># = 0x1 æ­£æ•°è¡¥ç </span></span><br><span class="line">print(hex(<span class="number">-1</span> &amp; <span class="number">0xffffffff</span>)) <span class="comment"># = 0xffffffff è´Ÿæ•°è¡¥ç </span></span><br><span class="line"></span><br><span class="line">print(<span class="number">-1</span> &amp; <span class="number">0xffffffff</span>) <span class="comment"># = 4294967295 ï¼ˆ Python å°†å…¶è®¤ä¸ºæ­£æ•°ï¼‰</span></span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä¸¤ä¸ªæ•´æ•°ä¹‹å’Œï¼Œè¦æ±‚åœ¨å‡½æ•°ä½“å†…ä¸å¾—ä½¿ç”¨ â€œ+â€ã€â€œ-â€ã€â€œ*â€ã€â€œ/â€ å››åˆ™è¿ç®—ç¬¦å·ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡ Offer 64. æ±‚1+2+â€¦+n</title>
    <link href="http://yoursite.com/2021/12/09/%E5%89%91%E6%8C%87%20Offer%2064.%20%E6%B1%821+2+%E2%80%A6+n/"/>
    <id>http://yoursite.com/2021/12/09/å‰‘æŒ‡ Offer 64. æ±‚1+2+â€¦+n/</id>
    <published>2021-12-09T02:12:12.000Z</published>
    <updated>2021-12-09T07:22:10.018Z</updated>
    
    <content type="html"><![CDATA[<p>æ±‚ 1+2+â€¦+n ï¼Œè¦æ±‚ä¸èƒ½ä½¿ç”¨ä¹˜é™¤æ³•ã€forã€whileã€ifã€elseã€switchã€caseç­‰å…³é”®å­—åŠæ¡ä»¶åˆ¤æ–­è¯­å¥ï¼ˆA?B:Cï¼‰ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥: n = 3è¾“å‡º: 6</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥: n = 9è¾“å‡º: 45</code></pre><p>é™åˆ¶ï¼š</p><pre><code>1 &lt;= n &lt;= 10000</code></pre><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>é¦–å…ˆæˆ‘ä»¬æ¢³ç†é¢˜ç›®è¦æ±‚ã€‚é¢˜ç›®è¦æ±‚æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨ä¹˜é™¤æ³•ã€<code>for</code>ã€<code>while</code>ã€<code>if</code>ã€<code>else</code>ã€<code>switch</code>ã€<code>case</code> ç­‰å…³é”®å­—åŠæ¡ä»¶åˆ¤æ–­è¯­å¥ï¼Œå› æ­¤æˆ‘ä»¬æ‰‹é‡Œèƒ½ç”¨çš„å·¥å…·å¾ˆå°‘ï¼Œåˆ—ä¸¾å‡ºæ¥å‘ç°åªæœ‰åŠ å‡æ³•ã€èµ‹å€¼ã€ä½è¿ç®—ç¬¦ä»¥åŠé€»è¾‘è¿ç®—ç¬¦ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šé€’å½’"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’"></a>æ–¹æ³•ä¸€ï¼šé€’å½’</h1><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>è¯•æƒ³ä¸€ä¸‹å¦‚æœä¸åŠ é™åˆ¶åœ°ä½¿ç”¨é€’å½’çš„æ–¹æ³•æ¥å®ç°è¿™é“é¢˜ï¼Œç›¸ä¿¡å¤§å®¶éƒ½èƒ½å¾ˆå®¹æ˜“åœ°ç»™å‡ºä¸‹é¢çš„å®ç°ï¼ˆä»¥ C++ ä¸ºä¾‹ï¼‰ï¼š</p><figure class="highlight c++"><figcaption><span>[sol0-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">sumNums</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n == <span class="number">0</span> ? <span class="number">0</span> : n + sumNums(n - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>é€šå¸¸å®ç°é€’å½’çš„æ—¶å€™æˆ‘ä»¬éƒ½ä¼šåˆ©ç”¨æ¡ä»¶åˆ¤æ–­è¯­å¥æ¥å†³å®šé€’å½’çš„å‡ºå£ï¼Œä½†ç”±äºé¢˜ç›®çš„é™åˆ¶æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨æ¡ä»¶åˆ¤æ–­è¯­å¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦èƒ½ä½¿ç”¨åˆ«çš„åŠæ³•æ¥ç¡®å®šé€’å½’å‡ºå£å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯é€»è¾‘è¿ç®—ç¬¦çš„çŸ­è·¯æ€§è´¨ã€‚</p><p>ä»¥é€»è¾‘è¿ç®—ç¬¦ <code>&amp;&amp;</code> ä¸ºä¾‹ï¼Œå¯¹äº <code>A &amp;&amp; B</code> è¿™ä¸ªè¡¨è¾¾å¼ï¼Œå¦‚æœ <code>A</code> è¡¨è¾¾å¼è¿”å›False  ï¼Œé‚£ä¹ˆ <code>A &amp;&amp; B</code> å·²ç»ç¡®å®šä¸º False ï¼Œæ­¤æ—¶ä¸ä¼šå»æ‰§è¡Œè¡¨è¾¾å¼ <code>B</code>ã€‚åŒç†ï¼Œå¯¹äºé€»è¾‘è¿ç®—ç¬¦ <code>||</code>ï¼Œ å¯¹äº <code>A || B</code> è¿™ä¸ªè¡¨è¾¾å¼ï¼Œå¦‚æœ <code>A</code> è¡¨è¾¾å¼è¿”å› True ï¼Œé‚£ä¹ˆ <code>A || B</code> å·²ç»ç¡®å®šä¸º True ï¼Œæ­¤æ—¶ä¸ä¼šå»æ‰§è¡Œè¡¨è¾¾å¼ <code>B</code>ã€‚</p><p>åˆ©ç”¨è¿™ä¸€ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å°†åˆ¤æ–­æ˜¯å¦ä¸ºé€’å½’çš„å‡ºå£çœ‹ä½œ <code>A &amp;&amp; B</code> è¡¨è¾¾å¼ä¸­çš„ <code>A</code> éƒ¨åˆ†ï¼Œé€’å½’çš„ä¸»ä½“å‡½æ•°çœ‹ä½œ <code>B</code> éƒ¨åˆ†ã€‚å¦‚æœä¸æ˜¯é€’å½’å‡ºå£ï¼Œåˆ™è¿”å› Trueï¼Œå¹¶ç»§ç»­æ‰§è¡Œè¡¨è¾¾å¼ <code>B</code> çš„éƒ¨åˆ†ï¼Œå¦åˆ™é€’å½’ç»“æŸã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨é€»è¾‘è¿ç®—ç¬¦ <code>||</code> ç»™å‡ºç±»ä¼¼çš„å®ç°ï¼Œè¿™é‡Œæˆ‘ä»¬åªæä¾›ç»“åˆé€»è¾‘è¿ç®—ç¬¦ <code>&amp;&amp;</code> çš„é€’å½’å®ç°ã€‚</p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">sumNums</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        n &amp;&amp; (n += sumNums(n<span class="number">-1</span>));</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumNums</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> flag = n &gt; <span class="number">0</span> &amp;&amp; (n += sumNums(n - <span class="number">1</span>)) &gt; <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>TypeScript</summary><figure class="highlight typescript"><figcaption><span>[sol1-TypeScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sumNums = <span class="function"><span class="keyword">function</span>(<span class="params">n: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">    n &amp;&amp; (n += sumNums(n - <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sumNums</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> sum <span class="function"><span class="keyword">func</span><span class="params">(<span class="keyword">int</span>)</span> <span class="title">bool</span></span></span><br><span class="line"><span class="function">    <span class="title">sum</span> = <span class="title">func</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">        ans += n</span><br><span class="line">        <span class="keyword">return</span> n &gt; <span class="number">0</span> &amp;&amp; sum(n<span class="number">-1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    sum(n)</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ã€‚é€’å½’å‡½æ•°é€’å½’ *n</em> æ¬¡ï¼Œæ¯æ¬¡é€’å½’ä¸­è®¡ç®—æ—¶é—´å¤æ‚åº¦ä¸º <em>O(1)</em>ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(n)</em>ã€‚é€’å½’å‡½æ•°çš„ç©ºé—´å¤æ‚åº¦å–å†³äºé€’å½’è°ƒç”¨æ ˆçš„æ·±åº¦ï¼Œè¿™é‡Œé€’å½’å‡½æ•°è°ƒç”¨æ ˆæ·±åº¦ä¸º <em>O(n)</em>ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n)</em>ã€‚</li></ul><h1 id="æ–¹æ³•äºŒï¼šå¿«é€Ÿä¹˜"><a href="#æ–¹æ³•äºŒï¼šå¿«é€Ÿä¹˜" class="headerlink" title="æ–¹æ³•äºŒï¼šå¿«é€Ÿä¹˜"></a>æ–¹æ³•äºŒï¼šå¿«é€Ÿä¹˜</h1><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>è€ƒè™‘ <code>A</code> å’Œ <code>B</code> ä¸¤æ•°ç›¸ä¹˜çš„æ—¶å€™æˆ‘ä»¬å¦‚ä½•åˆ©ç”¨åŠ æ³•å’Œä½è¿ç®—æ¥æ¨¡æ‹Ÿï¼Œå…¶å®å°±æ˜¯å°† <code>B</code> äºŒè¿›åˆ¶å±•å¼€ï¼Œå¦‚æœ <code>B</code> çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹ç¬¬ <em>i</em> ä½ä¸º 1ï¼Œé‚£ä¹ˆè¿™ä¸€ä½å¯¹æœ€åç»“æœçš„è´¡çŒ®å°±æ˜¯ <em>A</em>(1&lt;&lt;i)* ï¼Œå³ <em>A&lt;&lt;i</em>ã€‚æˆ‘ä»¬éå† <code>B</code> äºŒè¿›åˆ¶å±•å¼€ä¸‹çš„æ¯ä¸€ä½ï¼Œå°†æ‰€æœ‰è´¡çŒ®ç´¯åŠ èµ·æ¥å°±æ˜¯æœ€åçš„ç­”æ¡ˆï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿè¢«ç§°ä½œã€Œä¿„ç½—æ–¯å†œæ°‘ä¹˜æ³•ã€ï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥è‡ªè¡Œç½‘ä¸Šæœç´¢ç›¸å…³èµ„æ–™ã€‚è¿™ä¸ªæ–¹æ³•ç»å¸¸è¢«ç”¨äºä¸¤æ•°ç›¸ä¹˜å–æ¨¡çš„åœºæ™¯ï¼Œå¦‚æœä¸¤æ•°ç›¸ä¹˜å·²ç»è¶…è¿‡æ•°æ®èŒƒå›´ï¼Œä½†å–æ¨¡åä¸ä¼šè¶…è¿‡ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ–¹æ³•æ¥æ‹†ä½å–æ¨¡è®¡ç®—è´¡çŒ®ï¼Œä¿è¯æ¯æ¬¡è¿ç®—éƒ½åœ¨æ•°æ®èŒƒå›´å†…ã€‚</p><p>ä¸‹é¢ç»™å‡ºè¿™ä¸ªç®—æ³•çš„ C++ å®ç°ï¼š</p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol20-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">quickMulti</span><span class="params">(<span class="keyword">int</span> A, <span class="keyword">int</span> B)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> ( ; B; B &gt;&gt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (B &amp; <span class="number">1</span>) &#123;</span><br><span class="line">            ans += A;</span><br><span class="line">        &#125;</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>å›åˆ°æœ¬é¢˜ï¼Œç”±ç­‰å·®æ•°åˆ—æ±‚å’Œå…¬å¼æˆ‘ä»¬å¯ä»¥çŸ¥é“ 1+2+â€¦+n ç­‰ä»·äº n(n+1)/2 ï¼Œå¯¹äºé™¤ä»¥ <em>2</em> æˆ‘ä»¬å¯ä»¥ç”¨å³ç§»æ“ä½œç¬¦æ¥æ¨¡æ‹Ÿï¼Œé‚£ä¹ˆç­‰å¼å˜æˆäº† <em>n(n+1)&gt;&gt;1<em>ï¼Œå‰©ä¸‹ä¸ç¬¦åˆé¢˜ç›®è¦æ±‚çš„éƒ¨åˆ†å³ä¸º *n(n+1)</em>ï¼Œæ ¹æ®ä¸Šæ–‡æåŠçš„å¿«é€Ÿä¹˜ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸¤ä¸ªæ•°ç›¸ä¹˜ç”¨åŠ æ³•å’Œä½è¿ç®—æ¥æ¨¡æ‹Ÿï¼Œä½†æ˜¯å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„ C++ å®ç°é‡Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦å¾ªç¯è¯­å¥ï¼Œæœ‰æ²¡æœ‰åŠæ³•å»æ‰è¿™ä¸ªå¾ªç¯è¯­å¥å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æœ‰çš„ï¼Œé‚£å°±æ˜¯è‡ªå·±æ‰‹åŠ¨å±•å¼€ï¼Œå› ä¸ºé¢˜ç›®æ•°æ®èŒƒå›´ *n</em> ä¸º <em>[1,10000]*ï¼Œæ‰€ä»¥ *n</em> äºŒè¿›åˆ¶å±•å¼€æœ€å¤šä¸ä¼šè¶…è¿‡ <em>14</em> ä½ï¼Œæˆ‘ä»¬æ‰‹åŠ¨å±•å¼€ <em>14</em> å±‚ä»£æ›¿å¾ªç¯å³å¯ï¼Œè‡³æ­¤æ»¡è¶³äº†é¢˜ç›®çš„è¦æ±‚ï¼Œå…·ä½“å®ç°å¯ä»¥å‚è€ƒä¸‹é¢ç»™å‡ºçš„ä»£ç ã€‚</p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">sumNums</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>, A = n, B = n + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumNums</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>, A = n, B = n + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">boolean</span> flag;</span><br><span class="line"></span><br><span class="line">        flag = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; (ans += A) &gt; <span class="number">0</span>;</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        flag = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; (ans += A) &gt; <span class="number">0</span>;</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        flag = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; (ans += A) &gt; <span class="number">0</span>;</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        flag = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; (ans += A) &gt; <span class="number">0</span>;</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        flag = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; (ans += A) &gt; <span class="number">0</span>;</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        flag = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; (ans += A) &gt; <span class="number">0</span>;</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        flag = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; (ans += A) &gt; <span class="number">0</span>;</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        flag = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; (ans += A) &gt; <span class="number">0</span>;</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        flag = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; (ans += A) &gt; <span class="number">0</span>;</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        flag = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; (ans += A) &gt; <span class="number">0</span>;</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        flag = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; (ans += A) &gt; <span class="number">0</span>;</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        flag = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; (ans += A) &gt; <span class="number">0</span>;</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        flag = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; (ans += A) &gt; <span class="number">0</span>;</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        flag = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; (ans += A) &gt; <span class="number">0</span>;</span><br><span class="line">        A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>TypeScript</summary><figure class="highlight typescript"><figcaption><span>[sol2-TypeScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sumNums = <span class="function"><span class="keyword">function</span>(<span class="params">n: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> ans: <span class="built_in">number</span> = <span class="number">0</span>, A: <span class="built_in">number</span> = n, B: <span class="built_in">number</span> = n + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    (B &amp; <span class="number">1</span>) &amp;&amp; (ans += A);</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">    B &gt;&gt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans &gt;&gt; <span class="number">1</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sumNums</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    ans, A, B := <span class="number">0</span>, n, n + <span class="number">1</span></span><br><span class="line">    addGreatZero := <span class="function"><span class="keyword">func</span><span class="params">()</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">        ans += A</span><br><span class="line">        <span class="keyword">return</span> ans &gt; <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    _ = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; addGreatZero()</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span></span><br><span class="line">    B &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    _ = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; addGreatZero()</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span></span><br><span class="line">    B &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    _ = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; addGreatZero()</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span></span><br><span class="line">    B &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    _ = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; addGreatZero()</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span></span><br><span class="line">    B &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    _ = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; addGreatZero()</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span></span><br><span class="line">    B &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    _ = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; addGreatZero()</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span></span><br><span class="line">    B &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    _ = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; addGreatZero()</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span></span><br><span class="line">    B &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    _ = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; addGreatZero()</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span></span><br><span class="line">    B &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    _ = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; addGreatZero()</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span></span><br><span class="line">    B &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    _ = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; addGreatZero()</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span></span><br><span class="line">    B &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    _ = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; addGreatZero()</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span></span><br><span class="line">    B &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    _ = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; addGreatZero()</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span></span><br><span class="line">    B &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    _ = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; addGreatZero()</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span></span><br><span class="line">    B &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    _ = ((B &amp; <span class="number">1</span>) &gt; <span class="number">0</span>) &amp;&amp; addGreatZero()</span><br><span class="line">    A &lt;&lt;= <span class="number">1</span></span><br><span class="line">    B &gt;&gt;= <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> ans &gt;&gt; <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ±‚ 1+2+â€¦+n ï¼Œè¦æ±‚ä¸èƒ½ä½¿ç”¨ä¹˜é™¤æ³•ã€forã€whileã€ifã€elseã€switchã€caseç­‰å…³é”®å­—åŠæ¡ä»¶åˆ¤æ–­è¯­å¥ï¼ˆA?B:Cï¼‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
      <category term="Recursion" scheme="http://yoursite.com/tags/Recursion/"/>
    
      <category term="Brainteaser" scheme="http://yoursite.com/tags/Brainteaser/"/>
    
  </entry>
  
  <entry>
    <title>1863. æ‰¾å‡ºæ‰€æœ‰å­é›†çš„å¼‚æˆ–æ€»å’Œå†æ±‚å’Œ</title>
    <link href="http://yoursite.com/2021/12/08/1863.%20%E6%89%BE%E5%87%BA%E6%89%80%E6%9C%89%E5%AD%90%E9%9B%86%E7%9A%84%E5%BC%82%E6%88%96%E6%80%BB%E5%92%8C%E5%86%8D%E6%B1%82%E5%92%8C/"/>
    <id>http://yoursite.com/2021/12/08/1863. æ‰¾å‡ºæ‰€æœ‰å­é›†çš„å¼‚æˆ–æ€»å’Œå†æ±‚å’Œ/</id>
    <published>2021-12-08T14:12:12.000Z</published>
    <updated>2021-12-09T06:35:01.980Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ nums ï¼Œè¯·ä½ æ±‚å‡º nums ä¸­æ¯ä¸ª å­é›† çš„ å¼‚æˆ–æ€»å’Œ ï¼Œè®¡ç®—å¹¶è¿”å›è¿™äº›å€¼ç›¸åŠ ä¹‹ å’Œ ã€‚</p><a id="more"></a><p>[TOC]</p><p>ä¸€ä¸ªæ•°ç»„çš„ å¼‚æˆ–æ€»å’Œ å®šä¹‰ä¸ºæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ æŒ‰ä½ XOR çš„ç»“æœï¼›å¦‚æœæ•°ç»„ä¸º ç©º ï¼Œåˆ™å¼‚æˆ–æ€»å’Œä¸º 0 ã€‚</p><p>ä¾‹å¦‚ï¼Œæ•°ç»„ [2,5,6] çš„ å¼‚æˆ–æ€»å’Œ ä¸º 2 XOR 5 XOR 6 = 1 ã€‚<br>ç»™ä½ ä¸€ä¸ªæ•°ç»„ nums ï¼Œè¯·ä½ æ±‚å‡º nums ä¸­æ¯ä¸ª å­é›† çš„ å¼‚æˆ–æ€»å’Œ ï¼Œè®¡ç®—å¹¶è¿”å›è¿™äº›å€¼ç›¸åŠ ä¹‹ å’Œ ã€‚</p><p>æ³¨æ„ï¼šåœ¨æœ¬é¢˜ä¸­ï¼Œå…ƒç´  ç›¸åŒ çš„ä¸åŒå­é›†åº” å¤šæ¬¡ è®¡æ•°ã€‚</p><p>æ•°ç»„ a æ˜¯æ•°ç»„ b çš„ä¸€ä¸ª å­é›† çš„å‰ææ¡ä»¶æ˜¯ï¼šä» b åˆ é™¤å‡ ä¸ªï¼ˆä¹Ÿå¯èƒ½ä¸åˆ é™¤ï¼‰å…ƒç´ èƒ½å¤Ÿå¾—åˆ° a ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [1,3]è¾“å‡ºï¼š6è§£é‡Šï¼š[1,3] å…±æœ‰ 4 ä¸ªå­é›†ï¼š- ç©ºå­é›†çš„å¼‚æˆ–æ€»å’Œæ˜¯ 0 ã€‚- [1] çš„å¼‚æˆ–æ€»å’Œä¸º 1 ã€‚- [3] çš„å¼‚æˆ–æ€»å’Œä¸º 3 ã€‚- [1,3] çš„å¼‚æˆ–æ€»å’Œä¸º 1 XOR 3 = 2 ã€‚0 + 1 + 3 + 2 = 6</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [5,1,6]è¾“å‡ºï¼š28è§£é‡Šï¼š[5,1,6] å…±æœ‰ 8 ä¸ªå­é›†ï¼š- ç©ºå­é›†çš„å¼‚æˆ–æ€»å’Œæ˜¯ 0 ã€‚- [5] çš„å¼‚æˆ–æ€»å’Œä¸º 5 ã€‚- [1] çš„å¼‚æˆ–æ€»å’Œä¸º 1 ã€‚- [6] çš„å¼‚æˆ–æ€»å’Œä¸º 6 ã€‚- [5,1] çš„å¼‚æˆ–æ€»å’Œä¸º 5 XOR 1 = 4 ã€‚- [5,6] çš„å¼‚æˆ–æ€»å’Œä¸º 5 XOR 6 = 3 ã€‚- [1,6] çš„å¼‚æˆ–æ€»å’Œä¸º 1 XOR 6 = 7 ã€‚- [5,1,6] çš„å¼‚æˆ–æ€»å’Œä¸º 5 XOR 1 XOR 6 = 2 ã€‚0 + 5 + 1 + 6 + 4 + 3 + 7 + 2 = 28</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [3,4,5,6,7,8]è¾“å‡ºï¼š480è§£é‡Šï¼šæ¯ä¸ªå­é›†çš„å…¨éƒ¨å¼‚æˆ–æ€»å’Œå€¼ä¹‹å’Œä¸º 480 ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= nums.length &lt;= 121 &lt;= nums[i] &lt;= 20</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šé€’å½’æ³•æšä¸¾å­é›†-1"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’æ³•æšä¸¾å­é›†-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’æ³•æšä¸¾å­é›†^1"></a>æ–¹æ³•ä¸€ï¼šé€’å½’æ³•æšä¸¾å­é›†<a href="https://leetcode-cn.com/problems/sum-of-all-subset-xor-totals/solution/sum-of-all-subset-xor-totals-by-leetcode-o5aa/" target="_blank" rel="noopener">^1</a></h1><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p><strong>ä»£ç </strong></p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> res;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> val, <span class="keyword">int</span> idx, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (idx == n)&#123;</span><br><span class="line">            <span class="comment">// ç»ˆæ­¢é€’å½’</span></span><br><span class="line">            res += val;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è€ƒè™‘é€‰æ‹©å½“å‰æ•°å­—</span></span><br><span class="line">        dfs(val ^ nums[idx], idx + <span class="number">1</span>, nums);</span><br><span class="line">        <span class="comment">// è€ƒè™‘ä¸é€‰æ‹©å½“å‰æ•°å­—</span></span><br><span class="line">        dfs(val, idx + <span class="number">1</span>, nums);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">subsetXORSum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        res = <span class="number">0</span>;</span><br><span class="line">        n = nums.size();</span><br><span class="line">        dfs(<span class="number">0</span>, <span class="number">0</span>, nums);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">subsetXORSum</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(val, idx)</span>:</span></span><br><span class="line">            <span class="keyword">nonlocal</span> res</span><br><span class="line">            <span class="keyword">if</span> idx == n:</span><br><span class="line">                <span class="comment"># ç»ˆæ­¢é€’å½’</span></span><br><span class="line">                res += val</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="comment"># è€ƒè™‘é€‰æ‹©å½“å‰æ•°å­—</span></span><br><span class="line">            dfs(val ^ nums[idx], idx + <span class="number">1</span>)</span><br><span class="line">            <span class="comment"># è€ƒè™‘ä¸é€‰æ‹©å½“å‰æ•°å­—</span></span><br><span class="line">            dfs(val, idx + <span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">        dfs(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> val, <span class="keyword">int</span> idx, <span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (idx == n) &#123;</span><br><span class="line">            res += val;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(val ^ nums[idx], idx + <span class="number">1</span>, nums);</span><br><span class="line">        dfs(val, idx + <span class="number">1</span>, nums);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">subsetXORSum</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        res = <span class="number">0</span>;</span><br><span class="line">        n = nums.length;</span><br><span class="line">        dfs(<span class="number">0</span>, <span class="number">0</span>, nums);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h1 id="æ–¹æ³•äºŒï¼šè¿­ä»£æ³•æšä¸¾å­é›†"><a href="#æ–¹æ³•äºŒï¼šè¿­ä»£æ³•æšä¸¾å­é›†" class="headerlink" title="æ–¹æ³•äºŒï¼šè¿­ä»£æ³•æšä¸¾å­é›†"></a>æ–¹æ³•äºŒï¼šè¿­ä»£æ³•æšä¸¾å­é›†</h1><p><strong>æç¤º <em>1</em></strong></p><p>ä¸€ä¸ªé•¿åº¦ä¸º <em>n</em> çš„æ•°ç»„ nums  æœ‰ <em>2^n</em> ä¸ªå­é›†ï¼ˆåŒ…æ‹¬ç©ºé›†ä¸è‡ªèº«ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥å°†è¿™äº›å­é›†ä¸€ä¸€æ˜ å°„åˆ° <em>[0, 2^n-1]</em> ä¸­çš„æ•´æ•°ã€‚</p><p><strong>æç¤º <em>2</em></strong></p><p>æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æœ‰ã€Œé€‰å–ã€ä¸ã€Œæœªé€‰å–ã€ä¸¤ä¸ªçŠ¶æ€ï¼Œå¯ä»¥å¯¹åº”ä¸€ä¸ªäºŒè¿›åˆ¶ä½çš„ <em>1</em> ä¸ <em>0</em>ã€‚é‚£ä¹ˆå¯¹äºä¸€ä¸ªé•¿åº¦ä¸º <em>n</em> çš„æ•°ç»„nums ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ <em>n</em> ä¸ªäºŒè¿›åˆ¶ä½çš„æ•´æ•°æ¥å”¯ä¸€è¡¨ç¤ºæ¯ä¸ªå…ƒç´ çš„é€‰å–æƒ…å†µã€‚æ­¤æ—¶è¯¥æ•´æ•°ç¬¬ <em>j</em> ä½çš„å–å€¼è¡¨ç¤ºæ•°ç»„ç¬¬ <em>j</em> ä¸ªå…ƒç´ æ˜¯å¦åŒ…å«åœ¨å¯¹åº”çš„å­é›†ä¸­ã€‚</p><p><strong>æ€è·¯ä¸ç®—æ³•</strong></p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨è¿­ä»£æ¥å®ç°å­é›†æšä¸¾ã€‚</p><p>æ ¹æ® <strong>æç¤º <em>1</em></strong> ä¸ <strong>æç¤º <em>2</em></strong>ï¼Œæˆ‘ä»¬æšä¸¾ <em>[0, 2^n-1]</em> ä¸­çš„æ•´æ•° <em>i</em>ï¼Œå…¶ç¬¬ <em>j</em> ä½çš„å–å€¼è¡¨ç¤ºnums çš„ç¬¬ <em>j</em> ä¸ªå…ƒç´ æ˜¯å¦åŒ…å«åœ¨å¯¹åº”çš„å­é›†ä¸­ã€‚</p><p>å¯¹äºæ¯ä¸ªæ•´æ•° <em>i</em>ï¼Œæˆ‘ä»¬éå†å®ƒçš„æ¯ä¸€ä½è®¡ç®—å¯¹åº”å­é›†çš„å¼‚æˆ–æ€»å’Œï¼Œå¹¶ç»´æŠ¤è¿™äº›å€¼ä¹‹å’Œã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">subsetXORSum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; (<span class="number">1</span> &lt;&lt; n); ++i)&#123;   <span class="comment">// éå†æ‰€æœ‰å­é›†</span></span><br><span class="line">            <span class="keyword">int</span> tmp = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j)&#123;   <span class="comment">// éå†æ¯ä¸ªå…ƒç´ </span></span><br><span class="line">                <span class="keyword">if</span> (i &amp; (<span class="number">1</span> &lt;&lt; j))&#123;</span><br><span class="line">                    tmp ^= nums[j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            res += tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">subsetXORSum</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span> &lt;&lt; n):   <span class="comment"># éå†æ‰€æœ‰å­é›†</span></span><br><span class="line">            tmp = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(n):   <span class="comment"># éå†æ¯ä¸ªå…ƒç´ </span></span><br><span class="line">                <span class="keyword">if</span> i &amp; (<span class="number">1</span> &lt;&lt; j):</span><br><span class="line">                    tmp ^= nums[j]</span><br><span class="line">            res += tmp</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">subsetXORSum</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; (<span class="number">1</span> &lt;&lt; nums.length); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> val = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; nums.length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (((i &gt;&gt; j) &amp; <span class="number">1</span> )!= <span class="number">0</span>) &#123;</span><br><span class="line">                    val ^= nums[j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            res += val;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n2^n)*ï¼Œå…¶ä¸­ *n</em> ä¸ºnums çš„é•¿åº¦ã€‚æˆ‘ä»¬éå†äº† nums çš„ <em>2^n</em> ä¸ªå­é›†ï¼Œæ¯ä¸ªå­é›†éœ€è¦ <em>O(n)</em> çš„æ—¶é—´è®¡ç®—å¼‚æˆ–æ€»å’Œã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</p></li></ul><h1 id="æ–¹æ³•ä¸‰ï¼šæŒ‰ä½è€ƒè™‘-äºŒé¡¹å¼å±•å¼€-1"><a href="#æ–¹æ³•ä¸‰ï¼šæŒ‰ä½è€ƒè™‘-äºŒé¡¹å¼å±•å¼€-1" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šæŒ‰ä½è€ƒè™‘ + äºŒé¡¹å¼å±•å¼€^1"></a>æ–¹æ³•ä¸‰ï¼šæŒ‰ä½è€ƒè™‘ + äºŒé¡¹å¼å±•å¼€<a href="https://leetcode-cn.com/problems/sum-of-all-subset-xor-totals/solution/sum-of-all-subset-xor-totals-by-leetcode-o5aa/" target="_blank" rel="noopener">^1</a></h1><p><strong>æç¤º <em>1</em></strong></p><p>ç”±äºå¼‚æˆ–è¿ç®—æœ¬è´¨ä¸Šæ˜¯æŒ‰ä½æ“ä½œï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æŒ‰ä½è€ƒè™‘å–å€¼æƒ…å†µã€‚</p><p><strong>æç¤º <em>2</em></strong></p><p>å¯¹äºæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æŸä¸€ä½ï¼Œå­˜åœ¨ä¸¤ç§å¯èƒ½ï¼š</p><ul><li><p>ç¬¬ä¸€ç§ï¼Œæ‰€æœ‰å…ƒç´ è¯¥ä½éƒ½ä¸º <em>0</em>ï¼›</p></li><li><p>ç¬¬äºŒç§ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ è¯¥ä½ä¸º <em>1</em>ã€‚</p></li></ul><p>å‡è®¾æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º <em>n</em>ï¼Œé‚£ä¹ˆç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å­é›†å¼‚æˆ–æ€»å’Œä¸­è¯¥ä½å‡ä¸º <em>0</em>ï¼›ç¬¬äºŒç§æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å­é›†å¼‚æˆ–æ€»å’Œä¸­è¯¥ä½ä¸º <em>0</em> çš„ä¸ªæ•°ä¸ä¸º <em>1</em> çš„ä¸ªæ•°ç›¸ç­‰ï¼Œå‡ä¸º <em>2^{n-1}</em>ã€‚</p><p><strong>ä»£ç </strong></p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol3-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">subsetXORSum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> n = nums.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> num: nums)&#123;</span><br><span class="line">            res |= num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res &lt;&lt; (n - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol3-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">subsetXORSum</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">            res |= num</span><br><span class="line">        <span class="keyword">return</span> res &lt;&lt; (n - <span class="number">1</span>)</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)*ï¼Œå…¶ä¸­ *n</em> ä¸º nums çš„é•¿åº¦ï¼Œå³ä¸ºä¸€ééå†æ•°ç»„çš„æ—¶é—´å¤æ‚åº¦ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç»™ä½ ä¸€ä¸ªæ•°ç»„ nums ï¼Œè¯·ä½ æ±‚å‡º nums ä¸­æ¯ä¸ª å­é›† çš„ å¼‚æˆ–æ€»å’Œ ï¼Œè®¡ç®—å¹¶è¿”å›è¿™äº›å€¼ç›¸åŠ ä¹‹ å’Œ ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
      <category term="Backtracking" scheme="http://yoursite.com/tags/Backtracking/"/>
    
      <category term="Combinatorics" scheme="http://yoursite.com/tags/Combinatorics/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡ Offer 53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—</title>
    <link href="http://yoursite.com/2021/12/08/%E5%89%91%E6%8C%87%20Offer%2053%20-%20II.%200%EF%BD%9En-1%E4%B8%AD%E7%BC%BA%E5%A4%B1%E7%9A%84%E6%95%B0%E5%AD%97/"/>
    <id>http://yoursite.com/2021/12/08/å‰‘æŒ‡ Offer 53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—/</id>
    <published>2021-12-08T07:12:12.000Z</published>
    <updated>2021-12-08T07:34:12.449Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€ä¸ªé•¿åº¦ä¸ºn-1çš„é€’å¢æ’åºæ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°å­—éƒ½åœ¨èŒƒå›´0ï½n-1ä¹‹å†…ã€‚åœ¨èŒƒå›´0ï½n-1å†…çš„nä¸ªæ•°å­—ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ•°å­—ä¸åœ¨è¯¥æ•°ç»„ä¸­ï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: [0,1,3]è¾“å‡º: 2</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: [0,1,2,3,4,5,6,7,9]è¾“å‡º: 8</code></pre><p>é™åˆ¶ï¼š</p><pre><code>1 &lt;= æ•°ç»„é•¿åº¦ &lt;= 10000</code></pre><p>æ­¤é¢˜ç”±<a href="https://leetcode-cn.com/problems/missing-number/solution/diu-shi-de-shu-zi-by-leetcode-solution-naow/" target="_blank" rel="noopener">268. ä¸¢å¤±çš„æ•°å­—</a>æ”¹ç¼–è€Œæ¥ï¼Œä½†é¢˜å¹²éƒ¨åˆ†æè¿°çš„ä¸å¤ªæ¸…æ¥šï¼Œå¤šå‡ºæ¥çš„æ•°å­—åº”è¯¥æ˜¯n</p><p>è§£æ³•å¯å‚è§<a href="https://leetcode-cn.com/problems/missing-number/solution/diu-shi-de-shu-zi-by-leetcode-solution-naow/" target="_blank" rel="noopener">268. ä¸¢å¤±çš„æ•°å­—</a></p><p>ç”±äºè¯¥é¢˜ä¸åŒä¹‹å¤„åœ¨äºæ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥è¿˜å¯ä»¥ä½¿ç”¨äºŒåˆ†æ³•</p><h1 id="äºŒåˆ†æ³•è§£é¢˜æ€è·¯-1ï¼š"><a href="#äºŒåˆ†æ³•è§£é¢˜æ€è·¯-1ï¼š" class="headerlink" title="äºŒåˆ†æ³•è§£é¢˜æ€è·¯^1ï¼š"></a>äºŒåˆ†æ³•è§£é¢˜æ€è·¯<a href="https://leetcode-cn.com/problems/que-shi-de-shu-zi-lcof/solution/mian-shi-ti-53-ii-0n-1zhong-que-shi-de-shu-zi-er-f/" target="_blank" rel="noopener">^1</a>ï¼š</h1><ul><li>æ’åºæ•°ç»„ä¸­çš„æœç´¢é—®é¢˜ï¼Œé¦–å…ˆæƒ³åˆ° <strong>äºŒåˆ†æ³•</strong> è§£å†³ã€‚</li><li>æ ¹æ®é¢˜æ„ï¼Œæ•°ç»„å¯ä»¥æŒ‰ç…§ä»¥ä¸‹è§„åˆ™åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚<ul><li><strong>å·¦å­æ•°ç»„ï¼š</strong> <em>nums[i] = i</em> ï¼›</li><li><strong>å³å­æ•°ç»„ï¼š</strong> <em>nums[i] != i</em>  ï¼›</li></ul></li><li>ç¼ºå¤±çš„æ•°å­—ç­‰äº <strong>â€œå³å­æ•°ç»„çš„é¦–ä½å…ƒç´ â€</strong> å¯¹åº”çš„ç´¢å¼•ï¼›å› æ­¤è€ƒè™‘ä½¿ç”¨äºŒåˆ†æ³•æŸ¥æ‰¾ â€œå³å­æ•°ç»„çš„é¦–ä½å…ƒç´ â€ ã€‚</li></ul><h1 id="å¤æ‚åº¦åˆ†æï¼š"><a href="#å¤æ‚åº¦åˆ†æï¼š" class="headerlink" title="å¤æ‚åº¦åˆ†æï¼š"></a>å¤æ‚åº¦åˆ†æï¼š</h1><ul><li><strong>æ—¶é—´å¤æ‚åº¦ <em>O(log N)</em>ï¼š</strong> äºŒåˆ†æ³•ä¸ºå¯¹æ•°çº§åˆ«å¤æ‚åº¦ã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦ <em>O(1)</em>ï¼š</strong> å‡ ä¸ªå˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚</li></ul><h1 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h1><details>    <summary>Python</summary><figure class="highlight python"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">missingNumber</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        i, j = <span class="number">0</span>, len(nums) - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> i &lt;= j:</span><br><span class="line">            m = (i + j) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> nums[m] == m: i = m + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>: j = m - <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> i</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">missingNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>, j = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt;= j) &#123;</span><br><span class="line">            <span class="keyword">int</span> m = (i + j) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[m] == m) i = m + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> j = m - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸€ä¸ªé•¿åº¦ä¸ºn-1çš„é€’å¢æ’åºæ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°å­—éƒ½åœ¨èŒƒå›´0ï½n-1ä¹‹å†…ã€‚åœ¨èŒƒå›´0ï½n-1å†…çš„nä¸ªæ•°å­—ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ•°å­—ä¸åœ¨è¯¥æ•°ç»„ä¸­ï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Binary Search" scheme="http://yoursite.com/tags/Binary-Search/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡ Offer 56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II</title>
    <link href="http://yoursite.com/2021/12/08/%E5%89%91%E6%8C%87%20Offer%2056%20-%20II.%20%E6%95%B0%E7%BB%84%E4%B8%AD%E6%95%B0%E5%AD%97%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0%20II/"/>
    <id>http://yoursite.com/2021/12/08/å‰‘æŒ‡ Offer 56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II/</id>
    <published>2021-12-08T07:12:12.000Z</published>
    <updated>2021-12-08T07:05:05.128Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ä¸€ä¸ªæ•°ç»„ numsä¸­é™¤ä¸€ä¸ªæ•°å­—åªå‡ºç°ä¸€æ¬¡ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸‰æ¬¡ã€‚è¯·æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [3,4,3,3]è¾“å‡ºï¼š4</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [9,1,7,9,7,9,7]è¾“å‡ºï¼š1</code></pre><p>é™åˆ¶ï¼š</p><pre><code>1 &lt;= nums.length &lt;= 100001 &lt;= nums[i] &lt; 2^31</code></pre><p>å‚è§137. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—II<a href="https://leetcode-cn.com/problems/single-number-ii/solution/zhi-chu-xian-yi-ci-de-shu-zi-ii-by-leetc-23t6/" target="_blank" rel="noopener">^1</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨ä¸€ä¸ªæ•°ç»„ numsä¸­é™¤ä¸€ä¸ªæ•°å­—åªå‡ºç°ä¸€æ¬¡ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸‰æ¬¡ã€‚è¯·æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
  </entry>
  
  <entry>
    <title>å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°</title>
    <link href="http://yoursite.com/2021/12/08/%E5%89%91%E6%8C%87%20Offer%2056%20-%20I.%20%E6%95%B0%E7%BB%84%E4%B8%AD%E6%95%B0%E5%AD%97%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0/"/>
    <id>http://yoursite.com/2021/12/08/å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°/</id>
    <published>2021-12-08T06:12:12.000Z</published>
    <updated>2021-12-08T06:40:04.185Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€ä¸ªæ•´å‹æ•°ç»„ nums é‡Œé™¤ä¸¤ä¸ªæ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€‚è¯·å†™ç¨‹åºæ‰¾å‡ºè¿™ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(1)ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [4,1,4,6]è¾“å‡ºï¼š[1,6] æˆ– [6,1]</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [1,2,10,4,1,4,3,3]è¾“å‡ºï¼š[2,10] æˆ– [10,2]</code></pre><p>é™åˆ¶ï¼š</p><pre><code>2 &lt;= nums.length &lt;= 10000</code></pre><h1 id="ğŸ“–æ–‡å­—é¢˜è§£"><a href="#ğŸ“–æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“–æ–‡å­—é¢˜è§£"></a>ğŸ“–æ–‡å­—é¢˜è§£</h1><h2 id="æ–¹æ³•ä¸€ï¼šåˆ†ç»„å¼‚æˆ–"><a href="#æ–¹æ³•ä¸€ï¼šåˆ†ç»„å¼‚æˆ–" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåˆ†ç»„å¼‚æˆ–"></a>æ–¹æ³•ä¸€ï¼šåˆ†ç»„å¼‚æˆ–</h2><p><strong>æ€è·¯</strong></p><p>è®©æˆ‘ä»¬å…ˆæ¥è€ƒè™‘ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„é—®é¢˜ï¼š</p><blockquote><p>å¦‚æœé™¤äº†<strong>ä¸€ä¸ª</strong>æ•°å­—ä»¥å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰¾åˆ°å‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Ÿ</p></blockquote><p>ç­”æ¡ˆå¾ˆç®€å•ï¼šå…¨å‘˜è¿›è¡Œå¼‚æˆ–æ“ä½œå³å¯ã€‚è€ƒè™‘å¼‚æˆ–æ“ä½œçš„æ€§è´¨ï¼šå¯¹äºä¸¤ä¸ªæ“ä½œæ•°çš„æ¯ä¸€ä½ï¼Œç›¸åŒç»“æœä¸º <em>0</em>ï¼Œä¸åŒç»“æœä¸º <em>1</em>ã€‚é‚£ä¹ˆåœ¨è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œæˆå¯¹å‡ºç°çš„æ•°å­—çš„æ‰€æœ‰ä½ä¼šä¸¤ä¸¤æŠµæ¶ˆä¸º <em>0</em>ï¼Œæœ€ç»ˆå¾—åˆ°çš„ç»“æœå°±æ˜¯é‚£ä¸ªå‡ºç°äº†ä¸€æ¬¡çš„æ•°å­—ã€‚</p><p>é‚£ä¹ˆè¿™ä¸€æ–¹æ³•å¦‚ä½•æ‰©å±•åˆ°æ‰¾å‡º<strong>ä¸¤ä¸ª</strong>å‡ºç°ä¸€æ¬¡çš„æ•°å­—å‘¢ï¼Ÿ</p><p>å¦‚æœæˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰æ•°å­—åˆ†æˆä¸¤ç»„ï¼Œä½¿å¾—ï¼š</p><ol><li><p>ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—åœ¨ä¸åŒçš„ç»„ä¸­ï¼›</p></li><li><p>ç›¸åŒçš„æ•°å­—ä¼šè¢«åˆ†åˆ°ç›¸åŒçš„ç»„ä¸­ã€‚</p></li></ol><p>é‚£ä¹ˆå¯¹ä¸¤ä¸ªç»„åˆ†åˆ«è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œå³å¯å¾—åˆ°ç­”æ¡ˆçš„ä¸¤ä¸ªæ•°å­—ã€‚<strong>è¿™æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„å…³é”®ã€‚</strong></p><p>é‚£ä¹ˆå¦‚ä½•å®ç°è¿™æ ·çš„åˆ†ç»„å‘¢ï¼Ÿ</p><p>è®°è¿™ä¸¤ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„æ•°å­—ä¸º <em>a</em> å’Œ <em>b</em>ï¼Œé‚£ä¹ˆæ‰€æœ‰æ•°å­—å¼‚æˆ–çš„ç»“æœå°±ç­‰äº <em>a</em> å’Œ <em>b</em> å¼‚æˆ–çš„ç»“æœï¼Œæˆ‘ä»¬è®°ä¸º <em>x</em>ã€‚å¦‚æœæˆ‘ä»¬æŠŠ <em>x</em> å†™æˆäºŒè¿›åˆ¶çš„å½¢å¼ X_kX_k-1â€¦X0 ï¼Œå…¶ä¸­x_i in {0,1} ï¼Œæˆ‘ä»¬è€ƒè™‘ä¸€ä¸‹ <em>x_i = 0</em> å’Œ <em>x_i = 1</em> çš„å«ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæ„å‘³ç€å¦‚æœæˆ‘ä»¬æŠŠ <em>a</em> å’Œ <em>b</em> å†™æˆäºŒè¿›åˆ¶çš„å½¢å¼ï¼Œ<em>a_i</em> å’Œ <em>b_i</em> çš„å…³ç³»â€”â€”<em>x_i = 1</em> è¡¨ç¤º <em>a_i</em> å’Œ <em>b_i</em> ä¸ç­‰ï¼Œ<em>x_i = 0</em> è¡¨ç¤º <em>a_i</em> å’Œ <em>b_i</em> ç›¸ç­‰ã€‚å‡å¦‚æˆ‘ä»¬ä»»é€‰ä¸€ä¸ªä¸ä¸º <em>0</em> çš„ <em>x_i*ï¼ŒæŒ‰ç…§ç¬¬ *i</em> ä½ç»™åŸæ¥çš„åºåˆ—åˆ†ç»„ï¼Œå¦‚æœè¯¥ä½ä¸º <em>0</em> å°±åˆ†åˆ°ç¬¬ä¸€ç»„ï¼Œå¦åˆ™å°±åˆ†åˆ°ç¬¬äºŒç»„ï¼Œè¿™æ ·å°±èƒ½æ»¡è¶³ä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ </p><ul><li><p>é¦–å…ˆï¼Œä¸¤ä¸ªç›¸åŒçš„æ•°å­—çš„å¯¹åº”ä½éƒ½æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥ä¸€ä¸ªè¢«åˆ†åˆ°äº†æŸä¸€ç»„ï¼Œå¦ä¸€ä¸ªå¿…ç„¶è¢«åˆ†åˆ°è¿™ä¸€ç»„ï¼Œæ‰€ä»¥æ»¡è¶³äº†æ¡ä»¶ 2ã€‚</p></li><li><p>è¿™ä¸ªæ–¹æ³•åœ¨ <em>x_i = 1</em> çš„æ—¶å€™ <em>a</em> å’Œ <em>b</em> ä¸è¢«åˆ†åœ¨åŒä¸€ç»„ï¼Œå› ä¸º <em>x_i = 1</em> è¡¨ç¤º <em>a_i</em> å’Œ <em>b_i</em> ä¸ç­‰ï¼Œæ ¹æ®è¿™ä¸ªæ–¹æ³•çš„å®šä¹‰ã€Œå¦‚æœè¯¥ä½ä¸º <em>0</em> å°±åˆ†åˆ°ç¬¬ä¸€ç»„ï¼Œå¦åˆ™å°±åˆ†åˆ°ç¬¬äºŒç»„ã€å¯ä»¥çŸ¥é“å®ƒä»¬è¢«åˆ†è¿›äº†ä¸¤ç»„ï¼Œæ‰€ä»¥æ»¡è¶³äº†æ¡ä»¶ 1ã€‚</p></li></ul><p>åœ¨å®é™…æ“ä½œçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ‹¿åˆ°åºåˆ—çš„å¼‚æˆ–å’Œ <em>x</em> ä¹‹åï¼Œå¯¹äºè¿™ä¸ªã€Œä½ã€æ˜¯å¯ä»¥ä»»å–çš„ï¼Œåªè¦å®ƒæ»¡è¶³ <em>x_i = 1*ã€‚ä½†æ˜¯ä¸ºäº†æ–¹ä¾¿ï¼Œè¿™é‡Œçš„ä»£ç é€‰å–çš„æ˜¯ã€Œä¸ä¸º *0</em> çš„æœ€ä½ä½ã€ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–ä¸ä¸º <em>0</em> çš„ä½ç½®ã€‚</p><p>è‡³æ­¤ï¼Œç­”æ¡ˆå·²ç»å‘¼ä¹‹æ¬²å‡ºäº†ã€‚</p><p><strong>ç®—æ³•</strong></p><p>å…ˆå¯¹æ‰€æœ‰æ•°å­—è¿›è¡Œä¸€æ¬¡å¼‚æˆ–ï¼Œå¾—åˆ°ä¸¤ä¸ªå‡ºç°ä¸€æ¬¡çš„æ•°å­—çš„å¼‚æˆ–å€¼ã€‚</p><p>åœ¨å¼‚æˆ–ç»“æœä¸­æ‰¾åˆ°ä»»æ„ä¸º <em>1</em> çš„ä½ã€‚</p><p>æ ¹æ®è¿™ä¸€ä½å¯¹æ‰€æœ‰çš„æ•°å­—è¿›è¡Œåˆ†ç»„ã€‚</p><p>åœ¨æ¯ä¸ªç»„å†…è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œå¾—åˆ°ä¸¤ä¸ªæ•°å­—ã€‚</p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; singleNumbers(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums) &#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> n : nums)</span><br><span class="line">            ret ^= n;</span><br><span class="line">        <span class="keyword">int</span> div = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> ((div &amp; ret) == <span class="number">0</span>)</span><br><span class="line">            div &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">0</span>, b = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> n : nums)</span><br><span class="line">            <span class="keyword">if</span> (div &amp; n)</span><br><span class="line">                a ^= n;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                b ^= n;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&#123;a, b&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] singleNumbers(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> n : nums) &#123;</span><br><span class="line">            ret ^= n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> div = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> ((div &amp; ret) == <span class="number">0</span>) &#123;</span><br><span class="line">            div &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">0</span>, b = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> n : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((div &amp; n) != <span class="number">0</span>) &#123;</span><br><span class="line">                a ^= n;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                b ^= n;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;a, b&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumbers</span><span class="params">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class="line">        ret = functools.reduce(<span class="keyword">lambda</span> x, y: x ^ y, nums)</span><br><span class="line">        div = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> div &amp; ret == <span class="number">0</span>:</span><br><span class="line">            div &lt;&lt;= <span class="number">1</span></span><br><span class="line">        a, b = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">if</span> n &amp; div:</span><br><span class="line">                a ^= n</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                b ^= n</span><br><span class="line">        <span class="keyword">return</span> [a, b]</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight csharp"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Solution</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span>[] <span class="title">SingleNumbers</span>(<span class="params"><span class="keyword">int</span>[] nums</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> xorSum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span>[] ret = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>] &#123;<span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">int</span> x <span class="keyword">in</span> nums) xorSum ^= x;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> lowbit = xorSum &amp; (-xorSum);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">int</span> x <span class="keyword">in</span> nums) &#123;</span><br><span class="line">            ret[(x &amp; lowbit) &gt; <span class="number">0</span> ? <span class="number">0</span> : <span class="number">1</span>] ^= x;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O(n)</em>ï¼Œæˆ‘ä»¬åªéœ€è¦éå†æ•°ç»„ä¸¤æ¬¡ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š<em>O(1)</em>ï¼Œåªéœ€è¦å¸¸æ•°çš„ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡ã€‚</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸€ä¸ªæ•´å‹æ•°ç»„ nums é‡Œé™¤ä¸¤ä¸ªæ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€‚è¯·å†™ç¨‹åºæ‰¾å‡ºè¿™ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(1)ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
  </entry>
  
  <entry>
    <title>477. æ±‰æ˜è·ç¦»æ€»å’Œ</title>
    <link href="http://yoursite.com/2021/12/07/477.%20%E6%B1%89%E6%98%8E%E8%B7%9D%E7%A6%BB%E6%80%BB%E5%92%8C/"/>
    <id>http://yoursite.com/2021/12/07/477. æ±‰æ˜è·ç¦»æ€»å’Œ/</id>
    <published>2021-12-07T14:12:12.000Z</published>
    <updated>2021-12-07T14:34:08.966Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸¤ä¸ªæ•´æ•°çš„ æ±‰æ˜è·ç¦» æŒ‡çš„æ˜¯è¿™ä¸¤ä¸ªæ•°å­—çš„äºŒè¿›åˆ¶æ•°å¯¹åº”ä½ä¸åŒçš„æ•°é‡ã€‚</p><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œè¯·ä½ è®¡ç®—å¹¶è¿”å› nums ä¸­ä»»æ„ä¸¤ä¸ªæ•°ä¹‹é—´ æ±‰æ˜è·ç¦»çš„æ€»å’Œ ã€‚</p><a id="more"></a><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [4,14,2]è¾“å‡ºï¼š6è§£é‡Šï¼šåœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ï¼Œ4 è¡¨ç¤ºä¸º 0100 ï¼Œ14 è¡¨ç¤ºä¸º 1110 ï¼Œ2è¡¨ç¤ºä¸º 0010 ã€‚ï¼ˆè¿™æ ·è¡¨ç¤ºæ˜¯ä¸ºäº†ä½“ç°åå››ä½ä¹‹é—´å…³ç³»ï¼‰æ‰€ä»¥ç­”æ¡ˆä¸ºï¼šHammingDistance(4, 14) + HammingDistance(4, 2) + HammingDistance(14, 2) = 2 + 2 + 2 = 6</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [4,14,4]è¾“å‡ºï¼š4</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= nums.length &lt;= 1040 &lt;= nums[i] &lt;= 109ç»™å®šè¾“å…¥çš„å¯¹åº”ç­”æ¡ˆç¬¦åˆ 32-bit æ•´æ•°èŒƒå›´</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šé€ä½ç»Ÿè®¡-1"><a href="#æ–¹æ³•ä¸€ï¼šé€ä½ç»Ÿè®¡-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€ä½ç»Ÿè®¡^1"></a>æ–¹æ³•ä¸€ï¼šé€ä½ç»Ÿè®¡<a href="https://leetcode-cn.com/problems/total-hamming-distance/solution/yi-ming-ju-chi-zong-he-by-leetcode-solut-t0ev/" target="_blank" rel="noopener">^1</a></h1><p>åœ¨è®¡ç®—æ±‰æ˜è·ç¦»æ—¶ï¼Œæˆ‘ä»¬è€ƒè™‘çš„æ˜¯åŒä¸€æ¯”ç‰¹ä½ä¸Šçš„å€¼æ˜¯å¦ä¸åŒï¼Œè€Œä¸åŒæ¯”ç‰¹ä½ä¹‹é—´æ˜¯äº’ä¸å½±å“çš„ã€‚</p><details>    <summary>C++</summary><figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">totalHammingDistance</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>, n = nums.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">30</span>; ++i) &#123;</span><br><span class="line">            <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> val : nums) &#123;</span><br><span class="line">                c += (val &gt;&gt; i) &amp; <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            ans += c * (n - c);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">totalHammingDistance</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>, n = nums.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">30</span>; ++i) &#123;</span><br><span class="line">            <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> val : nums) &#123;</span><br><span class="line">                c += (val &gt;&gt; i) &amp; <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            ans += c * (n - c);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary><figure class="highlight plain"><figcaption><span>[sol1-C#]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int TotalHammingDistance(int[] nums) &#123;</span><br><span class="line">        int ans = 0, n = nums.Length;</span><br><span class="line">        for (int i = 0; i &lt; 30; ++i) &#123;</span><br><span class="line">            int c = 0;</span><br><span class="line">            foreach (int val in nums) &#123;</span><br><span class="line">                c += (val &gt;&gt; i) &amp; 1;</span><br><span class="line">            &#125;</span><br><span class="line">            ans += c * (n - c);</span><br><span class="line">        &#125;</span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight go"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">totalHammingDistance</span><span class="params">(nums []<span class="keyword">int</span>)</span> <span class="params">(ans <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">30</span>; i++ &#123;</span><br><span class="line">        c := <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> _, val := <span class="keyword">range</span> nums &#123;</span><br><span class="line">            c += val &gt;&gt; i &amp; <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        ans += c * (n - c)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">totalHammingDistance</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">30</span>):</span><br><span class="line">            c = sum(((val &gt;&gt; i) &amp; <span class="number">1</span>) <span class="keyword">for</span> val <span class="keyword">in</span> nums)</span><br><span class="line">            ans += c * (n - c)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">totalHammingDistance</span><span class="params">(<span class="keyword">int</span>* nums, <span class="keyword">int</span> numsSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">30</span>; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; numsSize; ++j) &#123;</span><br><span class="line">            c += (nums[j] &gt;&gt; i) &amp; <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ans += c * (numsSize - c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary><figure class="highlight javascript"><figcaption><span>[sol1-JavaScript]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> totalHammingDistance = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">0</span>, n = nums.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">30</span>; ++i) &#123;</span><br><span class="line">        <span class="keyword">let</span> c = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> val <span class="keyword">of</span> nums) &#123;</span><br><span class="line">            c += (val &gt;&gt; i) &amp; <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ans += c * (n - c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸¤ä¸ªæ•´æ•°çš„ æ±‰æ˜è·ç¦» æŒ‡çš„æ˜¯è¿™ä¸¤ä¸ªæ•°å­—çš„äºŒè¿›åˆ¶æ•°å¯¹åº”ä½ä¸åŒçš„æ•°é‡ã€‚&lt;/p&gt;
&lt;p&gt;ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œè¯·ä½ è®¡ç®—å¹¶è¿”å› nums ä¸­ä»»æ„ä¸¤ä¸ªæ•°ä¹‹é—´ æ±‰æ˜è·ç¦»çš„æ€»å’Œ ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
      <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
      <category term="Bit Manipulation" scheme="http://yoursite.com/tags/Bit-Manipulation/"/>
    
  </entry>
  
  <entry>
    <title>Zookeeperå­¦ä¹ ç¬”è®°ï¼ˆæ¦‚å¿µï¼Œåè®®ï¼ŒæŠ•ç¥¨æœºåˆ¶ï¼‰</title>
    <link href="http://yoursite.com/2021/12/05/Zookeeper%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E6%A6%82%E5%BF%B5%EF%BC%8C%E5%8D%8F%E8%AE%AE%EF%BC%8C%E6%8A%95%E7%A5%A8%E6%9C%BA%E5%88%B6%EF%BC%89/"/>
    <id>http://yoursite.com/2021/12/05/Zookeeperå­¦ä¹ ç¬”è®°ï¼ˆæ¦‚å¿µï¼Œåè®®ï¼ŒæŠ•ç¥¨æœºåˆ¶ï¼‰/</id>
    <published>2021-12-05T08:12:12.000Z</published>
    <updated>2021-12-05T08:42:35.117Z</updated>
    
    <content type="html"><![CDATA[<p>Zookeeper ï¼ˆåŠ¨ç‰©å›­ç®¡ç†å‘˜ï¼‰æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼åè°ƒæœåŠ¡ï¼Œå¯ç”¨äºæœåŠ¡å‘ç°ï¼Œåˆ†å¸ƒå¼é”ï¼Œåˆ†å¸ƒå¼é¢†å¯¼é€‰ä¸¾ï¼Œé…ç½®ç®¡ç†ç­‰ã€‚</p><a id="more"></a><p>[TOC]</p><p>æ‘˜è‡ªã€ŠJavaé«˜å¹¶å‘æ ¸å¿ƒç¼–ç¨‹å·1ï¼šNIOã€Nettyã€Redisã€ZooKeeperã€‹1.3ã€€åˆ†å¸ƒå¼åˆ©å™¨ZooKeeper <a href="https://weread.qq.com/web/reader/e6d323b0723b6029e6d1c55kd3d322001ad3d9446802347" target="_blank" rel="noopener">^1</a></p><h1 id="ä»€ä¹ˆæ˜¯ZooKeeper"><a href="#ä»€ä¹ˆæ˜¯ZooKeeper" class="headerlink" title="ä»€ä¹ˆæ˜¯ZooKeeper"></a>ä»€ä¹ˆæ˜¯ZooKeeper</h1><p>æœ€æ—©èµ·æºäºé›…è™å…¬å¸ç ”ç©¶é™¢çš„ä¸€ä¸ªç ”ç©¶å°ç»„ã€‚å½“æ—¶ï¼Œç ”ç©¶äººå‘˜å‘ç°ï¼Œåœ¨é›…è™å†…éƒ¨å¾ˆå¤šå¤§å‹çš„ç³»ç»Ÿéœ€è¦ä¾èµ–ä¸€ä¸ªç±»ä¼¼çš„ç³»ç»Ÿè¿›è¡Œåˆ†å¸ƒå¼åè°ƒï¼Œä½†æ˜¯è¿™äº›ç³»ç»Ÿå¾€å¾€å­˜åœ¨åˆ†å¸ƒå¼å•ç‚¹é—®é¢˜ï¼Œæ‰€ä»¥é›…è™çš„å¼€å‘äººå‘˜å°±è¯•å›¾å¼€å‘ä¸€ä¸ªé€šç”¨çš„æ— å•ç‚¹é—®é¢˜çš„åˆ†å¸ƒå¼åè°ƒæ¡†æ¶ã€‚</p><p>æ­¤æ¡†æ¶çš„å‘½åè¿‡ç¨‹ä¹Ÿæ˜¯éå¸¸æœ‰è¶£çš„ã€‚åœ¨é¡¹ç›®åˆæœŸç»™è¿™ä¸ªé¡¹ç›®å‘½åæ—¶ï¼Œå‡†å¤‡å’Œå¾ˆå¤šé¡¹ç›®ä¸€æ ·ï¼ŒæŒ‰ç…§é›…è™å…¬å¸çš„æƒ¯ä¾‹ä½¿ç”¨åŠ¨ç‰©çš„åå­—æ¥å‘½åï¼ˆä¾‹å¦‚è‘—åçš„Pigé¡¹ç›®ï¼‰ã€‚åœ¨æ¢è®¨å–ä»€ä¹ˆåå­—çš„æ—¶å€™ï¼Œç ”ç©¶é™¢çš„é¦–å¸­ç§‘å­¦å®¶Raghu Ramakrishnanå¼€ç©ç¬‘è¯´ï¼šâ€œå†è¿™æ ·ä¸‹å»ï¼Œæˆ‘ä»¬è¿™å„¿å°±å˜æˆåŠ¨ç‰©å›­äº†ã€‚â€æ­¤è¯ä¸€å‡ºï¼Œå¤§å®¶çº·çº·è¡¨ç¤ºæ–°æ¡†æ¶å°±å«åŠ¨ç‰©å›­ç®¡ç†å‘˜å§ï¼Œäºæ˜¯ZooKeeperï¼ˆåŠ¨ç‰©å›­ç®¡ç†å‘˜ï¼‰è¯ç”Ÿäº†ã€‚è€ŒZooKeeperæ­£å¥½æ˜¯ç”¨æ¥åè°ƒåˆ†å¸ƒå¼ç¯å¢ƒçš„ä¸åŒèŠ‚ç‚¹çš„ï¼Œå½¢è±¡åœ°è¯´ï¼Œå¯ä»¥ç†è§£ä¸ºåè°ƒå„ä¸ªä»¥åŠ¨ç‰©å‘½åçš„åˆ†å¸ƒå¼ç»„ä»¶ï¼Œæ‰€ä»¥ZooKeeperä¹Ÿå°±â€œåå‰¯å…¶å®â€äº†ã€‚</p><h1 id="ZooKeeperçš„ä¼˜åŠ¿"><a href="#ZooKeeperçš„ä¼˜åŠ¿" class="headerlink" title="ZooKeeperçš„ä¼˜åŠ¿"></a>ZooKeeperçš„ä¼˜åŠ¿</h1><p>ZooKeeperçš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯å®ç°äº†åˆ†å¸ƒå¼ç¯å¢ƒçš„æ•°æ®ä¸€è‡´æ€§ï¼Œç®€å•åœ°è¯´ï¼šæ¯æ—¶æ¯åˆ»æˆ‘ä»¬è®¿é—®ZooKeeperçš„æ ‘ç»“æ„æ—¶ï¼Œä¸åŒçš„èŠ‚ç‚¹è¿”å›çš„æ•°æ®éƒ½æ˜¯ä¸€è‡´çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹ZooKeeperè¿›è¡Œæ•°æ®è®¿é—®æ—¶ï¼Œæ— è®ºæ˜¯ä»€ä¹ˆæ—¶é—´ï¼Œéƒ½ä¸ä¼šå¼•èµ·â€œè„è¯»â€â€œå¹»è¯»â€â€œä¸å¯é‡å¤è¯»â€é—®é¢˜ã€‚</p><p>â€œè„è¯»â€â€œå¹»è¯»â€â€œä¸å¯é‡å¤è¯»â€æ˜¯æ•°æ®åº“äº‹åŠ¡çš„æ¦‚å¿µï¼Œå½“ç„¶ï¼ŒZooKeeperä¹Ÿå¯ä»¥è¢«ç†è§£ä¸ºä¸€ç§ç®€å•çš„åˆ†å¸ƒå¼æ•°æ®åº“ã€‚â€œè„è¯»â€æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸­è®¿é—®åˆ°äº†å¦å¤–ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ã€‚â€œä¸å¯é‡å¤è¯»â€æ˜¯æŒ‡åœ¨ä¸€ä¸ªäº‹åŠ¡å†…æ ¹æ®åŒä¸€ä¸ªæ¡ä»¶å¯¹æ•°æ®è¿›è¡Œå¤šæ¬¡æŸ¥è¯¢ï¼Œä½†æ˜¯ç»“æœå´ä¸ä¸€è‡´ï¼ŒåŸå› æ˜¯å…¶ä»–äº‹åŠ¡å¯¹è¯¥æ•°æ®è¿›è¡Œäº†ä¿®æ”¹ã€‚â€œå¹»è¯»â€æ˜¯æŒ‡å½“ä¸¤ä¸ªå®Œå…¨ç›¸åŒçš„æŸ¥è¯¢æ‰§è¡Œæ—¶ï¼Œç¬¬äºŒæ¬¡æŸ¥è¯¢æ‰€è¿”å›çš„ç»“æœé›†å’Œç¬¬ä¸€æ¬¡æŸ¥è¯¢æ‰€è¿”å›çš„ç»“æœé›†ä¸ç›¸åŒï¼ŒåŸå› ä¹Ÿæ˜¯å¦å¤–ä¸€ä¸ªäº‹åŠ¡æ–°å¢ã€åˆ é™¤äº†ç¬¬ä¸€ä¸ªäº‹åŠ¡ç»“æœé›†ä¸­çš„æ•°æ®ã€‚</p><h3 id="â€œä¸å¯é‡å¤è¯»â€å’Œâ€œå¹»è¯»â€çš„åŒºåˆ«"><a href="#â€œä¸å¯é‡å¤è¯»â€å’Œâ€œå¹»è¯»â€çš„åŒºåˆ«" class="headerlink" title="â€œä¸å¯é‡å¤è¯»â€å’Œâ€œå¹»è¯»â€çš„åŒºåˆ«"></a>â€œä¸å¯é‡å¤è¯»â€å’Œâ€œå¹»è¯»â€çš„åŒºåˆ«</h3><p>æ˜¯ï¼šâ€œä¸å¯é‡å¤è¯»â€å…³æ³¨çš„é‡ç‚¹åœ¨äºè®°å½•çš„æ›´æ–°æ“ä½œï¼Œå¯¹åŒæ ·çš„è®°å½•ï¼Œå†æ¬¡è¯»å–åå‘ç°è¿”å›çš„æ•°æ®å€¼ä¸ä¸€æ ·äº†ï¼›â€œå¹»è¯»â€å…³æ³¨çš„é‡ç‚¹åœ¨äºè®°å½•æ–°å¢æˆ–è€…åˆ é™¤æ“ä½œï¼ˆæ•°æ®æ¡æ•°å‘ç”Ÿäº†å˜åŒ–ï¼‰ï¼ŒåŒæ ·çš„æ¡ä»¶ç¬¬ä¸€æ¬¡å’Œç¬¬äºŒæ¬¡æŸ¥è¯¢å‡ºæ¥çš„è®°å½•æ•°ä¸ä¸€æ ·ã€‚</p><p>ZooKeeperå¯¹ä¸åŒç³»ç»Ÿç¯å¢ƒçš„æ”¯æŒéƒ½å¾ˆå¥½ï¼Œåœ¨ç»å¤§å¤šæ•°ä¸»æµçš„æ“ä½œç³»ç»Ÿä¸Šéƒ½èƒ½å¤Ÿæ­£å¸¸è¿è¡Œï¼Œå¦‚GNU/Linuxã€Sun Solarisã€Win32ä»¥åŠMacOSç­‰ã€‚ä½†æ˜¯ï¼ŒZooKeeperå®˜æ–¹æ–‡æ¡£ä¸­ç‰¹åˆ«å¼ºè°ƒï¼Œç”±äºFreeBSDç³»ç»Ÿçš„JVMå®ç°å¯¹Javaçš„NIOSelectorï¼ˆé€‰æ‹©å™¨ï¼‰æ”¯æŒå¾—ä¸æ˜¯å¾ˆå¥½ï¼Œå› æ­¤ä¸å»ºè®®åœ¨FreeBSDç³»ç»Ÿä¸Šéƒ¨ç½²ZooKeeperç”Ÿäº§æœåŠ¡å™¨ã€‚å¯ä»¥è¯´ï¼ŒZooKeeperæä¾›çš„æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­éå¸¸åº•å±‚ä¸”å¿…ä¸å¯å°‘çš„åŸºæœ¬åŠŸèƒ½ï¼Œå¦‚æœå¼€å‘è€…è‡ªå·±æ¥å®ç°è¿™äº›åŠŸèƒ½ä¸”è¾¾åˆ°é«˜ååã€ä½å»¶è¿Ÿï¼ŒåŒæ—¶è¿˜è¦ä¿æŒä¸€è‡´æ€§å’Œå¯ç”¨æ€§ï¼Œå®é™…ä¸Šæ˜¯éå¸¸å›°éš¾çš„ã€‚å€ŸåŠ©ZooKeeperæä¾›çš„è¿™äº›åŠŸèƒ½ï¼Œå¼€å‘è€…å°±å¯ä»¥è½»æ¾åœ°åœ¨ZooKeeperä¹‹ä¸Šæ„å»ºè‡ªå·±çš„å„ç§åˆ†å¸ƒå¼ç³»ç»Ÿã€‚</p><h1 id="Zookeeper-æ¦‚å¿µ"><a href="#Zookeeper-æ¦‚å¿µ" class="headerlink" title="Zookeeper æ¦‚å¿µ"></a>Zookeeper æ¦‚å¿µ</h1><p>Zookeeper æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼åè°ƒæœåŠ¡ï¼Œå¯ç”¨äºæœåŠ¡å‘ç°ï¼Œåˆ†å¸ƒå¼é”ï¼Œåˆ†å¸ƒå¼é¢†å¯¼é€‰ä¸¾ï¼Œé…ç½®ç®¡ç†ç­‰ã€‚<br>Zookeeper æä¾›äº†ä¸€ä¸ªç±»ä¼¼äº Linux æ–‡ä»¶ç³»ç»Ÿçš„æ ‘å½¢ç»“æ„ï¼ˆå¯è®¤ä¸ºæ˜¯è½»é‡çº§çš„å†…å­˜æ–‡ä»¶ç³»ç»Ÿï¼Œä½†<br>åªé€‚åˆå­˜å°‘é‡ä¿¡æ¯ï¼Œå®Œå…¨ä¸é€‚åˆå­˜å‚¨å¤§é‡æ–‡ä»¶æˆ–è€…å¤§æ–‡ä»¶ï¼‰ï¼ŒåŒæ—¶æä¾›äº†å¯¹äºæ¯ä¸ªèŠ‚ç‚¹çš„ç›‘æ§ä¸<br>é€šçŸ¥æœºåˆ¶ã€‚</p><h1 id="Zookeeper-è§’è‰²"><a href="#Zookeeper-è§’è‰²" class="headerlink" title="Zookeeper è§’è‰²"></a>Zookeeper è§’è‰²</h1><p>Zookeeper é›†ç¾¤æ˜¯ä¸€ä¸ªåŸºäºä¸»ä»å¤åˆ¶çš„é«˜å¯ç”¨é›†ç¾¤ï¼Œæ¯ä¸ªæœåŠ¡å™¨æ‰¿æ‹…å¦‚ä¸‹ä¸‰ç§è§’è‰²ä¸­çš„ä¸€ç§</p><h2 id="Leader"><a href="#Leader" class="headerlink" title="Leader"></a>Leader</h2><ol><li>ä¸€ä¸ª Zookeeper é›†ç¾¤åŒä¸€æ—¶é—´åªä¼šæœ‰ä¸€ä¸ªå®é™…å·¥ä½œçš„ Leaderï¼Œå®ƒä¼šå‘èµ·å¹¶ç»´æŠ¤ä¸å„ Follwer<br>åŠ Observer é—´çš„å¿ƒè·³ã€‚</li><li>æ‰€æœ‰çš„å†™æ“ä½œå¿…é¡»è¦é€šè¿‡ Leader å®Œæˆå†ç”± Leader å°†å†™æ“ä½œå¹¿æ’­ç»™å…¶å®ƒæœåŠ¡å™¨ã€‚åªè¦æœ‰è¶…è¿‡<br>åŠæ•°èŠ‚ç‚¹ï¼ˆä¸åŒ…æ‹¬ observeer èŠ‚ç‚¹ï¼‰å†™å…¥æˆåŠŸï¼Œè¯¥å†™è¯·æ±‚å°±ä¼šè¢«æäº¤ï¼ˆç±» 2PC åè®®ï¼‰ã€‚<h2 id="Follower"><a href="#Follower" class="headerlink" title="Follower"></a>Follower</h2></li><li>ä¸€ä¸ª Zookeeper é›†ç¾¤å¯èƒ½åŒæ—¶å­˜åœ¨å¤šä¸ª Followerï¼Œå®ƒä¼šå“åº” Leader çš„å¿ƒè·³ï¼Œ</li><li>Follower å¯ç›´æ¥å¤„ç†å¹¶è¿”å›å®¢æˆ·ç«¯çš„è¯»è¯·æ±‚ï¼ŒåŒæ—¶ä¼šå°†å†™è¯·æ±‚è½¬å‘ç»™ Leader å¤„ç†ï¼Œ</li><li>å¹¶ä¸”è´Ÿè´£åœ¨ Leader å¤„ç†å†™è¯·æ±‚æ—¶å¯¹è¯·æ±‚è¿›è¡ŒæŠ•ç¥¨ã€‚<h2 id="Observer"><a href="#Observer" class="headerlink" title="Observer"></a>Observer</h2>è§’è‰²ä¸ Follower ç±»ä¼¼ï¼Œä½†æ˜¯æ— æŠ•ç¥¨æƒã€‚Zookeeper éœ€ä¿è¯é«˜å¯ç”¨å’Œå¼ºä¸€è‡´æ€§ï¼Œä¸ºäº†æ”¯æŒæ›´å¤šçš„å®¢<br>æˆ·ç«¯ï¼Œéœ€è¦å¢åŠ æ›´å¤š Serverï¼›Server å¢å¤šï¼ŒæŠ•ç¥¨é˜¶æ®µå»¶è¿Ÿå¢å¤§ï¼Œå½±å“æ€§èƒ½ï¼›å¼•å…¥ Observerï¼Œ<br>Observer ä¸å‚ä¸æŠ•ç¥¨ï¼› Observers æ¥å—å®¢æˆ·ç«¯çš„è¿æ¥ï¼Œå¹¶å°†å†™è¯·æ±‚è½¬å‘ç»™ leader èŠ‚ç‚¹ï¼› åŠ å…¥æ›´<br>å¤š Observer èŠ‚ç‚¹ï¼Œæé«˜ä¼¸ç¼©æ€§ï¼ŒåŒæ—¶ä¸å½±å“ååç‡ã€‚</li></ol><h1 id="ZAB-åè®®"><a href="#ZAB-åè®®" class="headerlink" title="ZAB åè®®"></a>ZAB åè®®</h1><h2 id="äº‹åŠ¡ç¼–å·-Zxidï¼ˆäº‹åŠ¡è¯·æ±‚è®¡æ•°å™¨-epochï¼‰"><a href="#äº‹åŠ¡ç¼–å·-Zxidï¼ˆäº‹åŠ¡è¯·æ±‚è®¡æ•°å™¨-epochï¼‰" class="headerlink" title="äº‹åŠ¡ç¼–å· Zxidï¼ˆäº‹åŠ¡è¯·æ±‚è®¡æ•°å™¨+ epochï¼‰"></a>äº‹åŠ¡ç¼–å· Zxidï¼ˆäº‹åŠ¡è¯·æ±‚è®¡æ•°å™¨+ epochï¼‰</h2><p>åœ¨ ZAB ( ZooKeeper Atomic Broadcast , ZooKeeper åŸå­æ¶ˆæ¯å¹¿æ’­åè®®ï¼‰ åè®®çš„äº‹åŠ¡ç¼–å· Zxid<br>è®¾è®¡ä¸­ï¼ŒZxid æ˜¯ä¸€ä¸ª 64 ä½çš„æ•°å­—ï¼Œå…¶ä¸­ä½ 32 ä½æ˜¯ä¸€ä¸ªç®€å•çš„å•è°ƒé€’å¢çš„è®¡æ•°å™¨ï¼Œé’ˆå¯¹å®¢æˆ·ç«¯æ¯<br>ä¸€ä¸ªäº‹åŠ¡è¯·æ±‚ï¼Œè®¡æ•°å™¨åŠ  1ï¼›è€Œé«˜ 32 ä½åˆ™ä»£è¡¨ Leader å‘¨æœŸ epoch çš„ç¼–å·ï¼Œæ¯ä¸ªå½“é€‰äº§ç”Ÿä¸€ä¸ªæ–°<br>çš„ Leader æœåŠ¡å™¨ï¼Œå°±ä¼šä»è¿™ä¸ª Leader æœåŠ¡å™¨ä¸Šå–å‡ºå…¶æœ¬åœ°æ—¥å¿—ä¸­æœ€å¤§äº‹åŠ¡çš„ ZXIDï¼Œå¹¶ä»ä¸­è¯»å–<br>epoch å€¼ï¼Œç„¶ååŠ  1ï¼Œä»¥æ­¤ä½œä¸ºæ–°çš„ epochï¼Œå¹¶å°†ä½ 32 ä½ä» 0 å¼€å§‹è®¡æ•°ã€‚<br>Zxidï¼ˆTransaction idï¼‰ç±»ä¼¼äº RDBMS ä¸­çš„äº‹åŠ¡ IDï¼Œç”¨äºæ ‡è¯†ä¸€æ¬¡æ›´æ–°æ“ä½œçš„ Proposalï¼ˆæè®®ï¼‰<br>IDã€‚ä¸ºäº†ä¿è¯é¡ºåºæ€§ï¼Œè¯¥ zkid å¿…é¡»å•è°ƒé€’å¢ã€‚</p><h2 id="epoch"><a href="#epoch" class="headerlink" title="epoch"></a>epoch</h2><p>epochï¼šå¯ä»¥ç†è§£ä¸ºå½“å‰é›†ç¾¤æ‰€å¤„çš„å¹´ä»£æˆ–è€…å‘¨æœŸï¼Œæ¯ä¸ª leader å°±åƒçš‡å¸ï¼Œéƒ½æœ‰è‡ªå·±çš„å¹´å·ï¼Œæ‰€<br>ä»¥æ¯æ¬¡æ”¹æœæ¢ä»£ï¼Œleader å˜æ›´ä¹‹åï¼Œéƒ½ä¼šåœ¨å‰ä¸€ä¸ªå¹´ä»£çš„åŸºç¡€ä¸ŠåŠ  1ã€‚è¿™æ ·å°±ç®—æ—§çš„ leader å´©æºƒ<br>æ¢å¤ä¹‹åï¼Œä¹Ÿæ²¡æœ‰äººå¬ä»–çš„äº†ï¼Œå› ä¸º follower åªå¬ä»å½“å‰å¹´ä»£çš„ leader çš„å‘½ä»¤ã€‚</p><h2 id="Zab-åè®®æœ‰ä¸¤ç§æ¨¡å¼-æ¢å¤æ¨¡å¼ï¼ˆé€‰ä¸»ï¼‰ã€å¹¿æ’­æ¨¡å¼ï¼ˆåŒæ­¥ï¼‰"><a href="#Zab-åè®®æœ‰ä¸¤ç§æ¨¡å¼-æ¢å¤æ¨¡å¼ï¼ˆé€‰ä¸»ï¼‰ã€å¹¿æ’­æ¨¡å¼ï¼ˆåŒæ­¥ï¼‰" class="headerlink" title="Zab åè®®æœ‰ä¸¤ç§æ¨¡å¼-æ¢å¤æ¨¡å¼ï¼ˆé€‰ä¸»ï¼‰ã€å¹¿æ’­æ¨¡å¼ï¼ˆåŒæ­¥ï¼‰"></a>Zab åè®®æœ‰ä¸¤ç§æ¨¡å¼-æ¢å¤æ¨¡å¼ï¼ˆé€‰ä¸»ï¼‰ã€å¹¿æ’­æ¨¡å¼ï¼ˆåŒæ­¥ï¼‰</h2><p>Zab åè®®æœ‰ä¸¤ç§æ¨¡å¼ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯æ¢å¤æ¨¡å¼ï¼ˆé€‰ä¸»ï¼‰å’Œå¹¿æ’­æ¨¡å¼ï¼ˆåŒæ­¥ï¼‰ã€‚å½“æœåŠ¡å¯åŠ¨æˆ–è€…åœ¨é¢†å¯¼<br>è€…å´©æºƒåï¼ŒZab å°±è¿›å…¥äº†æ¢å¤æ¨¡å¼ï¼Œå½“é¢†å¯¼è€…è¢«é€‰ä¸¾å‡ºæ¥ï¼Œä¸”å¤§å¤šæ•° Server å®Œæˆäº†å’Œ leader çš„çŠ¶<br>æ€åŒæ­¥ä»¥åï¼Œæ¢å¤æ¨¡å¼å°±ç»“æŸäº†ã€‚çŠ¶æ€åŒæ­¥ä¿è¯äº† leader å’Œ Server å…·æœ‰ç›¸åŒçš„ç³»ç»ŸçŠ¶æ€ã€‚</p><h2 id="ZAB-åè®®-4-é˜¶æ®µ"><a href="#ZAB-åè®®-4-é˜¶æ®µ" class="headerlink" title="ZAB åè®® 4 é˜¶æ®µ"></a>ZAB åè®® 4 é˜¶æ®µ</h2><h3 id="Leader-electionï¼ˆé€‰ä¸¾é˜¶æ®µ-é€‰å‡ºå‡†-Leaderï¼‰"><a href="#Leader-electionï¼ˆé€‰ä¸¾é˜¶æ®µ-é€‰å‡ºå‡†-Leaderï¼‰" class="headerlink" title="Leader electionï¼ˆé€‰ä¸¾é˜¶æ®µ-é€‰å‡ºå‡† Leaderï¼‰"></a>Leader electionï¼ˆé€‰ä¸¾é˜¶æ®µ-é€‰å‡ºå‡† Leaderï¼‰</h3><ol><li>Leader electionï¼ˆé€‰ä¸¾é˜¶æ®µï¼‰ï¼šèŠ‚ç‚¹åœ¨ä¸€å¼€å§‹éƒ½å¤„äºé€‰ä¸¾é˜¶æ®µï¼Œåªè¦æœ‰ä¸€ä¸ªèŠ‚ç‚¹å¾—åˆ°è¶…åŠæ•°<br>èŠ‚ç‚¹çš„ç¥¨æ•°ï¼Œå®ƒå°±å¯ä»¥å½“é€‰å‡† leaderã€‚åªæœ‰åˆ°è¾¾ å¹¿æ’­é˜¶æ®µï¼ˆbroadcastï¼‰ å‡† leader æ‰ä¼šæˆ<br>ä¸ºçœŸæ­£çš„ leaderã€‚è¿™ä¸€é˜¶æ®µçš„ç›®çš„æ˜¯å°±æ˜¯ä¸ºäº†é€‰å‡ºä¸€ä¸ªå‡† leaderï¼Œç„¶åè¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚</li></ol><h3 id="Discoveryï¼ˆå‘ç°é˜¶æ®µ-æ¥å—æè®®ã€ç”Ÿæˆ-epochã€æ¥å—-epochï¼‰"><a href="#Discoveryï¼ˆå‘ç°é˜¶æ®µ-æ¥å—æè®®ã€ç”Ÿæˆ-epochã€æ¥å—-epochï¼‰" class="headerlink" title="Discoveryï¼ˆå‘ç°é˜¶æ®µ-æ¥å—æè®®ã€ç”Ÿæˆ epochã€æ¥å— epochï¼‰"></a>Discoveryï¼ˆå‘ç°é˜¶æ®µ-æ¥å—æè®®ã€ç”Ÿæˆ epochã€æ¥å— epochï¼‰</h3><ol start="2"><li>Discoveryï¼ˆå‘ç°é˜¶æ®µï¼‰ï¼šåœ¨è¿™ä¸ªé˜¶æ®µï¼Œfollowers è·Ÿå‡† leader è¿›è¡Œé€šä¿¡ï¼ŒåŒæ­¥ followers<br>æœ€è¿‘æ¥æ”¶çš„äº‹åŠ¡æè®®ã€‚è¿™ä¸ªä¸€é˜¶æ®µçš„ä¸»è¦ç›®çš„æ˜¯å‘ç°å½“å‰å¤§å¤šæ•°èŠ‚ç‚¹æ¥æ”¶çš„æœ€æ–°æè®®ï¼Œå¹¶ä¸”<br>å‡† leader ç”Ÿæˆæ–°çš„ epochï¼Œè®© followers æ¥å—ï¼Œæ›´æ–°å®ƒä»¬çš„ accepted Epoch<br>ä¸€ä¸ª follower åªä¼šè¿æ¥ä¸€ä¸ª leaderï¼Œå¦‚æœæœ‰ä¸€ä¸ªèŠ‚ç‚¹ f è®¤ä¸ºå¦ä¸€ä¸ª follower p æ˜¯ leaderï¼Œf<br>åœ¨å°è¯•è¿æ¥ p æ—¶ä¼šè¢«æ‹’ç»ï¼Œf è¢«æ‹’ç»ä¹‹åï¼Œå°±ä¼šè¿›å…¥é‡æ–°é€‰ä¸¾é˜¶æ®µã€‚</li></ol><h3 id="Synchronizationï¼ˆåŒæ­¥é˜¶æ®µ-åŒæ­¥-follower-å‰¯æœ¬ï¼‰"><a href="#Synchronizationï¼ˆåŒæ­¥é˜¶æ®µ-åŒæ­¥-follower-å‰¯æœ¬ï¼‰" class="headerlink" title="Synchronizationï¼ˆåŒæ­¥é˜¶æ®µ-åŒæ­¥ follower å‰¯æœ¬ï¼‰"></a>Synchronizationï¼ˆåŒæ­¥é˜¶æ®µ-åŒæ­¥ follower å‰¯æœ¬ï¼‰</h3><ol start="3"><li>Synchronizationï¼ˆåŒæ­¥é˜¶æ®µï¼‰ï¼šåŒæ­¥é˜¶æ®µä¸»è¦æ˜¯åˆ©ç”¨ leader å‰ä¸€é˜¶æ®µè·å¾—çš„æœ€æ–°æè®®å†å²ï¼Œ<br>åŒæ­¥é›†ç¾¤ä¸­æ‰€æœ‰çš„å‰¯æœ¬ã€‚åªæœ‰å½“ å¤§å¤šæ•°èŠ‚ç‚¹éƒ½åŒæ­¥å®Œæˆï¼Œå‡† leader æ‰ä¼šæˆä¸ºçœŸæ­£çš„ leaderã€‚<br>follower åªä¼šæ¥æ”¶ zxid æ¯”è‡ªå·±çš„ lastZxid å¤§çš„æè®®ã€‚</li></ol><h3 id="Broadcastï¼ˆå¹¿æ’­é˜¶æ®µ-leader-æ¶ˆæ¯å¹¿æ’­ï¼‰"><a href="#Broadcastï¼ˆå¹¿æ’­é˜¶æ®µ-leader-æ¶ˆæ¯å¹¿æ’­ï¼‰" class="headerlink" title="Broadcastï¼ˆå¹¿æ’­é˜¶æ®µ-leader æ¶ˆæ¯å¹¿æ’­ï¼‰"></a>Broadcastï¼ˆå¹¿æ’­é˜¶æ®µ-leader æ¶ˆæ¯å¹¿æ’­ï¼‰</h3><ol start="4"><li>Broadcastï¼ˆå¹¿æ’­é˜¶æ®µï¼‰ï¼šåˆ°äº†è¿™ä¸ªé˜¶æ®µï¼ŒZookeeper é›†ç¾¤æ‰èƒ½æ­£å¼å¯¹å¤–æä¾›äº‹åŠ¡æœåŠ¡ï¼Œ<br>å¹¶ä¸” leader å¯ä»¥è¿›è¡Œæ¶ˆæ¯å¹¿æ’­ã€‚åŒæ—¶å¦‚æœæœ‰æ–°çš„èŠ‚ç‚¹åŠ å…¥ï¼Œè¿˜éœ€è¦å¯¹æ–°èŠ‚ç‚¹è¿›è¡ŒåŒæ­¥ã€‚<br>ZAB æäº¤äº‹åŠ¡å¹¶ä¸åƒ 2PC ä¸€æ ·éœ€è¦å…¨éƒ¨ follower éƒ½ ACKï¼Œåªéœ€è¦å¾—åˆ°è¶…è¿‡åŠæ•°çš„èŠ‚ç‚¹çš„ ACK å°±<br>å¯ä»¥äº†ã€‚<h3 id="ZAB-åè®®-JAVA-å®ç°ï¼ˆFLE-å‘ç°é˜¶æ®µå’ŒåŒæ­¥åˆå¹¶ä¸º-Recovery-Phaseï¼ˆæ¢å¤é˜¶æ®µï¼‰ï¼‰"><a href="#ZAB-åè®®-JAVA-å®ç°ï¼ˆFLE-å‘ç°é˜¶æ®µå’ŒåŒæ­¥åˆå¹¶ä¸º-Recovery-Phaseï¼ˆæ¢å¤é˜¶æ®µï¼‰ï¼‰" class="headerlink" title="ZAB åè®® JAVA å®ç°ï¼ˆFLE-å‘ç°é˜¶æ®µå’ŒåŒæ­¥åˆå¹¶ä¸º Recovery Phaseï¼ˆæ¢å¤é˜¶æ®µï¼‰ï¼‰"></a>ZAB åè®® JAVA å®ç°ï¼ˆFLE-å‘ç°é˜¶æ®µå’ŒåŒæ­¥åˆå¹¶ä¸º Recovery Phaseï¼ˆæ¢å¤é˜¶æ®µï¼‰ï¼‰</h3>åè®®çš„ Java ç‰ˆæœ¬å®ç°è·Ÿä¸Šé¢çš„å®šä¹‰æœ‰äº›ä¸åŒï¼Œé€‰ä¸¾é˜¶æ®µä½¿ç”¨çš„æ˜¯ Fast Leader Electionï¼ˆFLEï¼‰ï¼Œ<br>å®ƒåŒ…å«äº† é€‰ä¸¾çš„å‘ç°èŒè´£ã€‚å› ä¸º FLE ä¼šé€‰ä¸¾æ‹¥æœ‰æœ€æ–°æè®®å†å²çš„èŠ‚ç‚¹ä½œä¸º leaderï¼Œè¿™æ ·å°±çœå»äº†<br>å‘ç°æœ€æ–°æè®®çš„æ­¥éª¤ã€‚</li></ol><p>å®é™…çš„å®ç°å°† å‘ç°é˜¶æ®µ å’Œ åŒæ­¥åˆå¹¶ä¸º Recovery Phaseï¼ˆæ¢å¤é˜¶æ®µï¼‰ã€‚æ‰€<br>ä»¥ï¼ŒZAB çš„å®ç°åªæœ‰ä¸‰ä¸ªé˜¶æ®µï¼šFast Leader Electionï¼›Recovery Phaseï¼›Broadcast Phaseã€‚</p><h2 id="æŠ•ç¥¨æœºåˆ¶"><a href="#æŠ•ç¥¨æœºåˆ¶" class="headerlink" title="æŠ•ç¥¨æœºåˆ¶"></a>æŠ•ç¥¨æœºåˆ¶</h2><p>æ¯ä¸ª sever é¦–å…ˆç»™è‡ªå·±æŠ•ç¥¨ï¼Œç„¶åç”¨è‡ªå·±çš„é€‰ç¥¨å’Œå…¶ä»– sever é€‰ç¥¨å¯¹æ¯”ï¼Œæƒé‡å¤§çš„èƒœå‡ºï¼Œä½¿ç”¨æƒ<br>é‡è¾ƒå¤§çš„æ›´æ–°è‡ªèº«é€‰ç¥¨ç®±ã€‚å…·ä½“é€‰ä¸¾è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>æ¯ä¸ª Server å¯åŠ¨ä»¥åéƒ½è¯¢é—®å…¶å®ƒçš„ Server å®ƒè¦æŠ•ç¥¨ç»™è°ã€‚å¯¹äºå…¶ä»– server çš„è¯¢é—®ï¼Œ<br>server æ¯æ¬¡æ ¹æ®è‡ªå·±çš„çŠ¶æ€éƒ½å›å¤è‡ªå·±æ¨èçš„ leader çš„ id å’Œä¸Šä¸€æ¬¡å¤„ç†äº‹åŠ¡çš„ zxidï¼ˆç³»<br>ç»Ÿå¯åŠ¨æ—¶æ¯ä¸ª server éƒ½ä¼šæ¨èè‡ªå·±ï¼‰</li><li>æ”¶åˆ°æ‰€æœ‰ Server å›å¤ä»¥åï¼Œå°±è®¡ç®—å‡º zxid æœ€å¤§çš„å“ªä¸ª Serverï¼Œå¹¶å°†è¿™ä¸ª Server ç›¸å…³ä¿¡<br>æ¯è®¾ç½®æˆä¸‹ä¸€æ¬¡è¦æŠ•ç¥¨çš„ Serverã€‚</li><li>è®¡ç®—è¿™è¿‡ç¨‹ä¸­è·å¾—ç¥¨æ•°æœ€å¤šçš„çš„ sever ä¸ºè·èƒœè€…ï¼Œå¦‚æœè·èƒœè€…çš„ç¥¨æ•°è¶…è¿‡åŠæ•°ï¼Œåˆ™æ”¹<br>server è¢«é€‰ä¸º leaderã€‚å¦åˆ™ï¼Œç»§ç»­è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ° leader è¢«é€‰ä¸¾å‡ºæ¥</li><li>leader å°±ä¼šå¼€å§‹ç­‰å¾… server è¿æ¥</li><li>Follower è¿æ¥ leaderï¼Œå°†æœ€å¤§çš„ zxid å‘é€ç»™ leader</li><li>Leader æ ¹æ® follower çš„ zxid ç¡®å®šåŒæ­¥ç‚¹ï¼Œè‡³æ­¤é€‰ä¸¾é˜¶æ®µå®Œæˆã€‚</li><li>é€‰ä¸¾é˜¶æ®µå®Œæˆ Leader åŒæ­¥åé€šçŸ¥ follower å·²ç»æˆä¸º uptodate çŠ¶æ€</li><li>Follower æ”¶åˆ° uptodate æ¶ˆæ¯åï¼Œåˆå¯ä»¥é‡æ–°æ¥å— client çš„è¯·æ±‚è¿›è¡ŒæœåŠ¡äº†</li></ol><p>ç›®å‰æœ‰ 5 å°æœåŠ¡å™¨ï¼Œæ¯å°æœåŠ¡å™¨å‡æ²¡æœ‰æ•°æ®ï¼Œå®ƒä»¬çš„ç¼–å·åˆ†åˆ«æ˜¯ 1,2,3,4,5,æŒ‰ç¼–å·ä¾æ¬¡å¯åŠ¨ï¼Œå®ƒä»¬<br>çš„é€‰æ‹©ä¸¾è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>æœåŠ¡å™¨ 1 å¯åŠ¨ï¼Œç»™è‡ªå·±æŠ•ç¥¨ï¼Œç„¶åå‘æŠ•ç¥¨ä¿¡æ¯ï¼Œç”±äºå…¶å®ƒæœºå™¨è¿˜æ²¡æœ‰å¯åŠ¨æ‰€ä»¥å®ƒæ”¶ä¸åˆ°å<br>é¦ˆä¿¡æ¯ï¼ŒæœåŠ¡å™¨ 1 çš„çŠ¶æ€ä¸€ç›´å±äº Lookingã€‚</li><li>æœåŠ¡å™¨ 2 å¯åŠ¨ï¼Œç»™è‡ªå·±æŠ•ç¥¨ï¼ŒåŒæ—¶ä¸ä¹‹å‰å¯åŠ¨çš„æœåŠ¡å™¨ 1 äº¤æ¢ç»“æœï¼Œç”±äºæœåŠ¡å™¨ 2 çš„ç¼–å·<br>å¤§æ‰€ä»¥æœåŠ¡å™¨ 2 èƒœå‡ºï¼Œä½†æ­¤æ—¶æŠ•ç¥¨æ•°æ²¡æœ‰å¤§äºåŠæ•°ï¼Œæ‰€ä»¥ä¸¤ä¸ªæœåŠ¡å™¨çš„çŠ¶æ€ä¾ç„¶æ˜¯<br>LOOKINGã€‚</li><li>æœåŠ¡å™¨ 3 å¯åŠ¨ï¼Œç»™è‡ªå·±æŠ•ç¥¨ï¼ŒåŒæ—¶ä¸ä¹‹å‰å¯åŠ¨çš„æœåŠ¡å™¨ 1,2 äº¤æ¢ä¿¡æ¯ï¼Œç”±äºæœåŠ¡å™¨ 3 çš„ç¼–<br>å·æœ€å¤§æ‰€ä»¥æœåŠ¡å™¨ 3 èƒœå‡ºï¼Œæ­¤æ—¶æŠ•ç¥¨æ•°æ­£å¥½å¤§äºåŠæ•°ï¼Œæ‰€ä»¥æœåŠ¡å™¨ 3 æˆä¸ºé¢†å¯¼è€…ï¼ŒæœåŠ¡å™¨<br>1,2 æˆä¸ºå°å¼Ÿã€‚</li><li>æœåŠ¡å™¨ 4 å¯åŠ¨ï¼Œç»™è‡ªå·±æŠ•ç¥¨ï¼ŒåŒæ—¶ä¸ä¹‹å‰å¯åŠ¨çš„æœåŠ¡å™¨ 1,2,3 äº¤æ¢ä¿¡æ¯ï¼Œå°½ç®¡æœåŠ¡å™¨ 4 çš„<br>ç¼–å·å¤§ï¼Œä½†ä¹‹å‰æœåŠ¡å™¨ 3 å·²ç»èƒœå‡ºï¼Œæ‰€ä»¥æœåŠ¡å™¨ 4 åªèƒ½æˆä¸ºå°å¼Ÿã€‚</li><li>æœåŠ¡å™¨ 5 å¯åŠ¨ï¼Œåé¢çš„é€»è¾‘åŒæœåŠ¡å™¨ 4 æˆä¸ºå°å¼Ÿã€‚</li></ol><h1 id="Zookeeper-å·¥ä½œåŸç†ï¼ˆåŸå­å¹¿æ’­ï¼‰"><a href="#Zookeeper-å·¥ä½œåŸç†ï¼ˆåŸå­å¹¿æ’­ï¼‰" class="headerlink" title="Zookeeper å·¥ä½œåŸç†ï¼ˆåŸå­å¹¿æ’­ï¼‰"></a>Zookeeper å·¥ä½œåŸç†ï¼ˆåŸå­å¹¿æ’­ï¼‰</h1><ol><li>Zookeeper çš„æ ¸å¿ƒæ˜¯åŸå­å¹¿æ’­ï¼Œè¿™ä¸ªæœºåˆ¶ä¿è¯äº†å„ä¸ª server ä¹‹é—´çš„åŒæ­¥ã€‚å®ç°è¿™ä¸ªæœºåˆ¶<br>çš„åè®®å«åš Zab åè®®ã€‚Zab åè®®æœ‰ä¸¤ç§æ¨¡å¼ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯æ¢å¤æ¨¡å¼å’Œå¹¿æ’­æ¨¡å¼ã€‚</li><li>å½“æœåŠ¡å¯åŠ¨æˆ–è€…åœ¨é¢†å¯¼è€…å´©æºƒåï¼ŒZab å°±è¿›å…¥äº†æ¢å¤æ¨¡å¼ï¼Œå½“é¢†å¯¼è€…è¢«é€‰ä¸¾å‡ºæ¥ï¼Œä¸”å¤§å¤š<br>æ•° server çš„å®Œæˆäº†å’Œ leader çš„çŠ¶æ€åŒæ­¥ä»¥åï¼Œæ¢å¤æ¨¡å¼å°±ç»“æŸäº†ã€‚</li><li>çŠ¶æ€åŒæ­¥ä¿è¯äº† leader å’Œ server å…·æœ‰ç›¸åŒçš„ç³»ç»ŸçŠ¶æ€</li><li>ä¸€æ—¦ leader å·²ç»å’Œå¤šæ•°çš„ follower è¿›è¡Œäº†çŠ¶æ€åŒæ­¥åï¼Œä»–å°±å¯ä»¥å¼€å§‹å¹¿æ’­æ¶ˆæ¯äº†ï¼Œå³è¿›<br>å…¥å¹¿æ’­çŠ¶æ€ã€‚è¿™æ—¶å€™å½“ä¸€ä¸ª server åŠ å…¥ zookeeper æœåŠ¡ä¸­ï¼Œå®ƒä¼šåœ¨æ¢å¤æ¨¡å¼ä¸‹å¯åŠ¨ï¼Œå‘<br>ç° leaderï¼Œå¹¶å’Œ leader è¿›è¡ŒçŠ¶æ€åŒæ­¥ã€‚å¾…åˆ°åŒæ­¥ç»“æŸï¼Œå®ƒä¹Ÿå‚ä¸æ¶ˆæ¯å¹¿æ’­ã€‚Zookeeper<br>æœåŠ¡ä¸€ç›´ç»´æŒåœ¨ Broadcast çŠ¶æ€ï¼Œç›´åˆ° leader å´©æºƒäº†æˆ–è€… leader å¤±å»äº†å¤§éƒ¨åˆ†çš„<br>followers æ”¯æŒã€‚</li><li>å¹¿æ’­æ¨¡å¼éœ€è¦ä¿è¯ proposal è¢«æŒ‰é¡ºåºå¤„ç†ï¼Œå› æ­¤ zk é‡‡ç”¨äº†é€’å¢çš„äº‹åŠ¡ id å·(zxid)æ¥ä¿<br>è¯ã€‚æ‰€æœ‰çš„æè®®(proposal)éƒ½åœ¨è¢«æå‡ºçš„æ—¶å€™åŠ ä¸Šäº† zxidã€‚</li><li>å®ç°ä¸­ zxid æ˜¯ä¸€ä¸ª 64 ä¸ºçš„æ•°å­—ï¼Œå®ƒé«˜ 32 ä½æ˜¯ epoch ç”¨æ¥æ ‡è¯† leader å…³ç³»æ˜¯å¦æ”¹å˜ï¼Œ<br>æ¯æ¬¡ä¸€ä¸ª leader è¢«é€‰å‡ºæ¥ï¼Œå®ƒéƒ½ä¼šæœ‰ä¸€ä¸ªæ–°çš„ epochã€‚ä½ 32 ä½æ˜¯ä¸ªé€’å¢è®¡æ•°ã€‚</li><li>å½“ leader å´©æºƒæˆ–è€… leader å¤±å»å¤§å¤šæ•°çš„ followerï¼Œè¿™æ—¶å€™ zk è¿›å…¥æ¢å¤æ¨¡å¼ï¼Œæ¢å¤æ¨¡å¼<br>éœ€è¦é‡æ–°é€‰ä¸¾å‡ºä¸€ä¸ªæ–°çš„ leaderï¼Œè®©æ‰€æœ‰çš„ server éƒ½æ¢å¤åˆ°ä¸€ä¸ªæ­£ç¡®çš„çŠ¶æ€ã€‚</li></ol><h1 id="Znode-æœ‰å››ç§å½¢å¼çš„ç›®å½•èŠ‚ç‚¹"><a href="#Znode-æœ‰å››ç§å½¢å¼çš„ç›®å½•èŠ‚ç‚¹" class="headerlink" title="Znode æœ‰å››ç§å½¢å¼çš„ç›®å½•èŠ‚ç‚¹"></a>Znode æœ‰å››ç§å½¢å¼çš„ç›®å½•èŠ‚ç‚¹</h1><ol><li>PERSISTENTï¼šæŒä¹…çš„èŠ‚ç‚¹ã€‚</li><li>EPHEMERALï¼šæš‚æ—¶çš„èŠ‚ç‚¹ã€‚</li><li>PERSISTENT_SEQUENTIALï¼šæŒä¹…åŒ–é¡ºåºç¼–å·ç›®å½•èŠ‚ç‚¹ã€‚</li><li>EPHEMERAL_SEQUENTIALï¼šæš‚æ—¶åŒ–é¡ºåºç¼–å·ç›®å½•èŠ‚ç‚¹ã€‚</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Zookeeper ï¼ˆåŠ¨ç‰©å›­ç®¡ç†å‘˜ï¼‰æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼åè°ƒæœåŠ¡ï¼Œå¯ç”¨äºæœåŠ¡å‘ç°ï¼Œåˆ†å¸ƒå¼é”ï¼Œåˆ†å¸ƒå¼é¢†å¯¼é€‰ä¸¾ï¼Œé…ç½®ç®¡ç†ç­‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="2021å¹´12æœˆ" scheme="http://yoursite.com/categories/2021%E5%B9%B412%E6%9C%88/"/>
    
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
      <category term="Zookeeper" scheme="http://yoursite.com/tags/Zookeeper/"/>
    
  </entry>
  
</feed>
