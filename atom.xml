<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yiye Li</title>
  
  
  <link href="http://yoursite.com/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2022-08-22T07:44:11.656Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Yiye Li</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>733. å›¾åƒæ¸²æŸ“</title>
    <link href="http://yoursite.com/2022/08/22/733.%20%E5%9B%BE%E5%83%8F%E6%B8%B2%E6%9F%93/"/>
    <id>http://yoursite.com/2022/08/22/733.%20%E5%9B%BE%E5%83%8F%E6%B8%B2%E6%9F%93/</id>
    <published>2022-08-22T07:12:12.000Z</published>
    <updated>2022-08-22T07:44:11.656Z</updated>
    
    <content type="html"><![CDATA[<p>å›¾åƒæ¸²æŸ“ã€‚</p><span id="more"></span><p>[TOC]</p><p>æœ‰ä¸€å¹…ä»¥Â m x nÂ çš„äºŒç»´æ•´æ•°æ•°ç»„è¡¨ç¤ºçš„å›¾ç”»Â imageÂ ï¼Œå…¶ä¸­Â image[i][j]Â è¡¨ç¤ºè¯¥å›¾ç”»çš„åƒç´ å€¼å¤§å°ã€‚</p><p>ä½ ä¹Ÿè¢«ç»™äºˆä¸‰ä¸ªæ•´æ•° sr ,Â  sc å’Œ newColor ã€‚ä½ åº”è¯¥ä»åƒç´ Â image[sr][sc]Â å¼€å§‹å¯¹å›¾åƒè¿›è¡Œ ä¸Šè‰²å¡«å…… ã€‚</p><p>ä¸ºäº†å®Œæˆ ä¸Šè‰²å·¥ä½œ ï¼Œä»åˆå§‹åƒç´ å¼€å§‹ï¼Œè®°å½•åˆå§‹åæ ‡çš„ ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Š åƒç´ å€¼ä¸åˆå§‹åæ ‡ç›¸åŒçš„ç›¸è¿åƒç´ ç‚¹ï¼Œæ¥ç€å†è®°å½•è¿™å››ä¸ªæ–¹å‘ä¸Šç¬¦åˆæ¡ä»¶çš„åƒç´ ç‚¹ä¸ä»–ä»¬å¯¹åº” å››ä¸ªæ–¹å‘ä¸Š åƒç´ å€¼ä¸åˆå§‹åæ ‡ç›¸åŒçš„ç›¸è¿åƒç´ ç‚¹ï¼Œâ€¦â€¦ï¼Œé‡å¤è¯¥è¿‡ç¨‹ã€‚å°†æ‰€æœ‰æœ‰è®°å½•çš„åƒç´ ç‚¹çš„é¢œè‰²å€¼æ”¹ä¸ºÂ newColorÂ ã€‚</p><p>æœ€åè¿”å› ç»è¿‡ä¸Šè‰²æ¸²æŸ“åçš„å›¾åƒÂ ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: image = [[1,1,1],[1,1,0],[1,0,1]]ï¼Œsr = 1, sc = 1, newColor = 2è¾“å‡º: [[2,2,2],[2,2,0],[2,0,1]]è§£æ: åœ¨å›¾åƒçš„æ­£ä¸­é—´ï¼Œ(åæ ‡(sr,sc)=(1,1)),åœ¨è·¯å¾„ä¸Šæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„åƒç´ ç‚¹çš„é¢œè‰²éƒ½è¢«æ›´æ”¹æˆ2ã€‚æ³¨æ„ï¼Œå³ä¸‹è§’çš„åƒç´ æ²¡æœ‰æ›´æ”¹ä¸º2ï¼Œå› ä¸ºå®ƒä¸æ˜¯åœ¨ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Šä¸åˆå§‹ç‚¹ç›¸è¿çš„åƒç´ ç‚¹ã€‚</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: image = [[0,0,0],[0,0,0]], sr = 0, sc = 0, newColor = 2è¾“å‡º: [[2,2,2],[2,2,2]]</code></pre><p>æç¤º:</p><pre><code>m == image.lengthn == image[i].length1 &lt;= m, n &lt;= 500 &lt;= image[i][j], newColor &lt; 2160 &lt;= sr &lt;Â m0 &lt;= sc &lt;Â n</code></pre><h1 id="ğŸ“–-æ–‡å­—é¢˜è§£"><a href="#ğŸ“–-æ–‡å­—é¢˜è§£" class="headerlink" title="ğŸ“– æ–‡å­—é¢˜è§£"></a>ğŸ“– æ–‡å­—é¢˜è§£</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬é¢˜è¦æ±‚å°†ç»™å®šçš„äºŒç»´æ•°ç»„ä¸­æŒ‡å®šçš„ã€Œè‰²å—ã€æŸ“æˆå¦ä¸€ç§é¢œè‰²ã€‚ã€Œè‰²å—ã€çš„å®šä¹‰æ˜¯ï¼šç›´æ¥æˆ–é—´æ¥ç›¸é‚»çš„åŒè‰²æ–¹æ ¼æ„æˆçš„æ•´ä½“ã€‚</p><p>å¯ä»¥å‘ç°ï¼Œã€Œè‰²å—ã€å°±æ˜¯è¢«ä¸åŒé¢œè‰²çš„æ–¹æ ¼åŒ…å›´çš„ä¸€ä¸ªåŒè‰²å²›å±¿ã€‚æˆ‘ä»¬ä»è‰²å—ä¸­ä»»æ„ä¸€ä¸ªåœ°æ–¹å¼€å§‹ï¼Œåˆ©ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢æˆ–æ·±åº¦ä¼˜å…ˆæœç´¢å³å¯éå†æ•´ä¸ªå²›å±¿ã€‚</p><p>æ³¨æ„ï¼šå½“ç›®æ ‡é¢œè‰²å’Œåˆå§‹é¢œè‰²ç›¸åŒæ—¶ï¼Œæˆ‘ä»¬æ— éœ€å¯¹åŸæ•°ç»„è¿›è¡Œä¿®æ”¹ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢-1"><a href="#æ–¹æ³•ä¸€ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢^1"></a>æ–¹æ³•ä¸€ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢<a href="https://leetcode.cn/problems/flood-fill/solution/tu-xiang-xuan-ran-by-leetcode-solution/">^1</a></h1><h2 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h2><p>æˆ‘ä»¬ä»ç»™å®šçš„èµ·ç‚¹å¼€å§‹ï¼Œè¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚æ¯æ¬¡æœç´¢åˆ°ä¸€ä¸ªæ–¹æ ¼æ—¶ï¼Œå¦‚æœå…¶ä¸åˆå§‹ä½ç½®çš„æ–¹æ ¼é¢œè‰²ç›¸åŒï¼Œå°±å°†è¯¥æ–¹æ ¼åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶å°†è¯¥æ–¹æ ¼çš„é¢œè‰²æ›´æ–°ï¼Œä»¥é˜²æ­¢é‡å¤å…¥é˜Ÿã€‚</p><p>æ³¨æ„ï¼šå› ä¸ºåˆå§‹ä½ç½®çš„é¢œè‰²ä¼šè¢«ä¿®æ”¹ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿å­˜åˆå§‹ä½ç½®çš„é¢œè‰²ï¼Œä»¥ä¾¿äºä¹‹åçš„æ›´æ–°æ“ä½œã€‚</p><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    const int dx[4] = &#123;1, 0, 0, -1&#125;;</span><br><span class="line">    const int dy[4] = &#123;0, 1, -1, 0&#125;;</span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; floodFill(vector&lt;vector&lt;int&gt;&gt;&amp; image, int sr, int sc, int newColor) &#123;</span><br><span class="line">        int currColor = image[sr][sc];</span><br><span class="line">        if (currColor == newColor) return image;</span><br><span class="line">        int n = image.size(), m = image[0].size();</span><br><span class="line">        queue&lt;pair&lt;int, int&gt;&gt; que;</span><br><span class="line">        que.emplace(sr, sc);</span><br><span class="line">        image[sr][sc] = newColor;</span><br><span class="line">        while (!que.empty()) &#123;</span><br><span class="line">            int x = que.front().first, y = que.front().second;</span><br><span class="line">            que.pop();</span><br><span class="line">            for (int i = 0; i &lt; 4; i++) &#123;</span><br><span class="line">                int mx = x + dx[i], my = y + dy[i];</span><br><span class="line">                if (mx &gt;= 0 &amp;&amp; mx &lt; n &amp;&amp; my &gt;= 0 &amp;&amp; my &lt; m &amp;&amp; image[mx][my] == currColor) &#123;</span><br><span class="line">                    que.emplace(mx, my);</span><br><span class="line">                    image[mx][my] = newColor;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return image;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    int[] dx = &#123;1, 0, 0, -1&#125;;</span><br><span class="line">    int[] dy = &#123;0, 1, -1, 0&#125;;</span><br><span class="line"></span><br><span class="line">    public int[][] floodFill(int[][] image, int sr, int sc, int newColor) &#123;</span><br><span class="line">        int currColor = image[sr][sc];</span><br><span class="line">        if (currColor == newColor) &#123;</span><br><span class="line">            return image;</span><br><span class="line">        &#125;</span><br><span class="line">        int n = image.length, m = image[0].length;</span><br><span class="line">        Queue&lt;int[]&gt; queue = new LinkedList&lt;int[]&gt;();</span><br><span class="line">        queue.offer(new int[]&#123;sr, sc&#125;);</span><br><span class="line">        image[sr][sc] = newColor;</span><br><span class="line">        while (!queue.isEmpty()) &#123;</span><br><span class="line">            int[] cell = queue.poll();</span><br><span class="line">            int x = cell[0], y = cell[1];</span><br><span class="line">            for (int i = 0; i &lt; 4; i++) &#123;</span><br><span class="line">                int mx = x + dx[i], my = y + dy[i];</span><br><span class="line">                if (mx &gt;= 0 &amp;&amp; mx &lt; n &amp;&amp; my &gt;= 0 &amp;&amp; my &lt; m &amp;&amp; image[mx][my] == currColor) &#123;</span><br><span class="line">                    queue.offer(new int[]&#123;mx, my&#125;);</span><br><span class="line">                    image[mx][my] = newColor;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return image;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def floodFill(self, image: List[List[int]], sr: int, sc: int, newColor: int) -&gt; List[List[int]]:</span><br><span class="line">        currColor = image[sr][sc]</span><br><span class="line">        if currColor == newColor:</span><br><span class="line">            return image</span><br><span class="line">        </span><br><span class="line">        n, m = len(image), len(image[0])</span><br><span class="line">        que = collections.deque([(sr, sc)])</span><br><span class="line">        image[sr][sc] = newColor</span><br><span class="line">        while que:</span><br><span class="line">            x, y = que.popleft()</span><br><span class="line">            for mx, my in [(x - 1, y), (x + 1, y), (x, y - 1), (x, y + 1)]:</span><br><span class="line">                if 0 &lt;= mx &lt; n and 0 &lt;= my &lt; m and image[mx][my] == currColor:</span><br><span class="line">                    que.append((mx, my))</span><br><span class="line">                    image[mx][my] = newColor</span><br><span class="line">        </span><br><span class="line">        return image</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">const int dx[4] = &#123;1, 0, 0, -1&#125;;</span><br><span class="line">const int dy[4] = &#123;0, 1, -1, 0&#125;;</span><br><span class="line"></span><br><span class="line">int** floodFill(int** image, int imageSize, int* imageColSize, int sr, int sc, int newColor, int* returnSize, int** returnColumnSizes) &#123;</span><br><span class="line">    int n = imageSize, m = imageColSize[0];</span><br><span class="line">    *returnSize = n;</span><br><span class="line">    for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">        (*returnColumnSizes)[i] = m;</span><br><span class="line">    &#125;</span><br><span class="line">    int currColor = image[sr][sc];</span><br><span class="line">    if (currColor == newColor) return image;</span><br><span class="line">    int que[n * m][2];</span><br><span class="line">    int l = 0, r = 0;</span><br><span class="line">    que[r][0] = sr, que[r++][1] = sc;</span><br><span class="line">    image[sr][sc] = newColor;</span><br><span class="line">    while (l &lt; r) &#123;</span><br><span class="line">        int x = que[l][0], y = que[l++][1];</span><br><span class="line">        for (int i = 0; i &lt; 4; i++) &#123;</span><br><span class="line">            int mx = x + dx[i], my = y + dy[i];</span><br><span class="line">            if (mx &gt;= 0 &amp;&amp; mx &lt; n &amp;&amp; my &gt;= 0 &amp;&amp; my &lt; m &amp;&amp; image[mx][my] == currColor) &#123;</span><br><span class="line">                que[r][0] = mx, que[r++][1] = my;</span><br><span class="line">                image[mx][my] = newColor;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return image;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">var (</span><br><span class="line">    dx = []int&#123;1, 0, 0, -1&#125;</span><br><span class="line">    dy = []int&#123;0, 1, -1, 0&#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func floodFill(image [][]int, sr int, sc int, newColor int) [][]int &#123;</span><br><span class="line">    currColor := image[sr][sc]</span><br><span class="line">    if currColor == newColor &#123;</span><br><span class="line">        return image</span><br><span class="line">    &#125;</span><br><span class="line">    n, m := len(image), len(image[0])</span><br><span class="line">    queue := [][]int&#123;&#125;</span><br><span class="line">    queue = append(queue, []int&#123;sr, sc&#125;)</span><br><span class="line">    image[sr][sc] = newColor</span><br><span class="line">    for i := 0; i &lt; len(queue); i++ &#123;</span><br><span class="line">        cell := queue[i]</span><br><span class="line">        for j := 0; j &lt; 4; j++ &#123;</span><br><span class="line">            mx, my := cell[0] + dx[j], cell[1] + dy[j]</span><br><span class="line">            if mx &gt;= 0 &amp;&amp; mx &lt; n &amp;&amp; my &gt;= 0 &amp;&amp; my &lt; m &amp;&amp; image[mx][my] == currColor &#123;</span><br><span class="line">                queue = append(queue, []int&#123;mx, my&#125;)</span><br><span class="line">                image[mx][my] = newColor</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return image</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼š<br>O(nÃ—m)ï¼Œå…¶ä¸­ n å’Œ m åˆ†åˆ«æ˜¯äºŒç»´æ•°ç»„çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚æœ€åæƒ…å†µä¸‹éœ€è¦éå†æ‰€æœ‰çš„æ–¹æ ¼ä¸€æ¬¡ã€‚<br>ç©ºé—´å¤æ‚åº¦ï¼š<br>O(nÃ—m)ï¼Œå…¶ä¸­ n å’Œ m åˆ†åˆ«æ˜¯äºŒç»´æ•°ç»„çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚ä¸»è¦ä¸ºé˜Ÿåˆ—çš„å¼€é”€ã€‚</p><h1 id="æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</h1><h2 id="æ€è·¯åŠç®—æ³•-1"><a href="#æ€è·¯åŠç®—æ³•-1" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h2><p>æˆ‘ä»¬ä»ç»™å®šçš„èµ·ç‚¹å¼€å§‹ï¼Œè¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ã€‚æ¯æ¬¡æœç´¢åˆ°ä¸€ä¸ªæ–¹æ ¼æ—¶ï¼Œå¦‚æœå…¶ä¸åˆå§‹ä½ç½®çš„æ–¹æ ¼é¢œè‰²ç›¸åŒï¼Œå°±å°†è¯¥æ–¹æ ¼çš„é¢œè‰²æ›´æ–°ï¼Œä»¥é˜²æ­¢é‡å¤æœç´¢ï¼›å¦‚æœä¸ç›¸åŒï¼Œåˆ™è¿›è¡Œå›æº¯ã€‚</p><p>æ³¨æ„ï¼šå› ä¸ºåˆå§‹ä½ç½®çš„é¢œè‰²ä¼šè¢«ä¿®æ”¹ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿å­˜åˆå§‹ä½ç½®çš„é¢œè‰²ï¼Œä»¥ä¾¿äºä¹‹åçš„æ›´æ–°æ“ä½œã€‚</p><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    const int dx[4] = &#123;1, 0, 0, -1&#125;;</span><br><span class="line">    const int dy[4] = &#123;0, 1, -1, 0&#125;;</span><br><span class="line">    void dfs(vector&lt;vector&lt;int&gt;&gt;&amp; image, int x, int y, int color, int newColor) &#123;</span><br><span class="line">        if (image[x][y] == color) &#123;</span><br><span class="line">            image[x][y] = newColor;</span><br><span class="line">            for (int i = 0; i &lt; 4; i++) &#123;</span><br><span class="line">                int mx = x + dx[i], my = y + dy[i];</span><br><span class="line">                if (mx &gt;= 0 &amp;&amp; mx &lt; image.size() &amp;&amp; my &gt;= 0 &amp;&amp; my &lt; image[0].size()) &#123;</span><br><span class="line">                    dfs(image, mx, my, color, newColor);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; floodFill(vector&lt;vector&lt;int&gt;&gt;&amp; image, int sr, int sc, int newColor) &#123;</span><br><span class="line">        int currColor = image[sr][sc];</span><br><span class="line">        if (currColor != newColor) &#123;</span><br><span class="line">            dfs(image, sr, sc, currColor, newColor);</span><br><span class="line">        &#125;</span><br><span class="line">        return image;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    int[] dx = &#123;1, 0, 0, -1&#125;;</span><br><span class="line">    int[] dy = &#123;0, 1, -1, 0&#125;;</span><br><span class="line"></span><br><span class="line">    public int[][] floodFill(int[][] image, int sr, int sc, int newColor) &#123;</span><br><span class="line">        int currColor = image[sr][sc];</span><br><span class="line">        if (currColor != newColor) &#123;</span><br><span class="line">            dfs(image, sr, sc, currColor, newColor);</span><br><span class="line">        &#125;</span><br><span class="line">        return image;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void dfs(int[][] image, int x, int y, int color, int newColor) &#123;</span><br><span class="line">        if (image[x][y] == color) &#123;</span><br><span class="line">            image[x][y] = newColor;</span><br><span class="line">            for (int i = 0; i &lt; 4; i++) &#123;</span><br><span class="line">                int mx = x + dx[i], my = y + dy[i];</span><br><span class="line">                if (mx &gt;= 0 &amp;&amp; mx &lt; image.length &amp;&amp; my &gt;= 0 &amp;&amp; my &lt; image[0].length) &#123;</span><br><span class="line">                    dfs(image, mx, my, color, newColor);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution:</span><br><span class="line">    def floodFill(self, image: List[List[int]], sr: int, sc: int, newColor: int) -&gt; List[List[int]]:</span><br><span class="line">        n, m = len(image), len(image[0])</span><br><span class="line">        currColor = image[sr][sc]</span><br><span class="line"></span><br><span class="line">        def dfs(x: int, y: int):</span><br><span class="line">            if image[x][y] == currColor:</span><br><span class="line">                image[x][y] = newColor</span><br><span class="line">                for mx, my in [(x - 1, y), (x + 1, y), (x, y - 1), (x, y + 1)]:</span><br><span class="line">                    if 0 &lt;= mx &lt; n and 0 &lt;= my &lt; m and image[mx][my] == currColor:</span><br><span class="line">                        dfs(mx, my)</span><br><span class="line"></span><br><span class="line">        if currColor != newColor:</span><br><span class="line">            dfs(sr, sc)</span><br><span class="line">        return image</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">const int dx[4] = &#123;1, 0, 0, -1&#125;;</span><br><span class="line">const int dy[4] = &#123;0, 1, -1, 0&#125;;</span><br><span class="line"></span><br><span class="line">int n, m;</span><br><span class="line"></span><br><span class="line">void dfs(int** image, int x, int y, int color, int newColor) &#123;</span><br><span class="line">    if (image[x][y] == color) &#123;</span><br><span class="line">        image[x][y] = newColor;</span><br><span class="line">        for (int i = 0; i &lt; 4; i++) &#123;</span><br><span class="line">            int mx = x + dx[i], my = y + dy[i];</span><br><span class="line">            if (mx &gt;= 0 &amp;&amp; mx &lt; n &amp;&amp; my &gt;= 0 &amp;&amp; my &lt; m) &#123;</span><br><span class="line">                dfs(image, mx, my, color, newColor);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int** floodFill(int** image, int imageSize, int* imageColSize, int sr, int sc, int newColor, int* returnSize, int** returnColumnSizes) &#123;</span><br><span class="line">    n = imageSize, m = imageColSize[0];</span><br><span class="line">    *returnSize = n;</span><br><span class="line">    for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">        (*returnColumnSizes)[i] = m;</span><br><span class="line">    &#125;</span><br><span class="line">    int currColor = image[sr][sc];</span><br><span class="line">    if (currColor != newColor) &#123;</span><br><span class="line">        dfs(image, sr, sc, currColor, newColor);</span><br><span class="line">    &#125;</span><br><span class="line">    return image;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">var (</span><br><span class="line">    dx = []int&#123;1, 0, 0, -1&#125;</span><br><span class="line">    dy = []int&#123;0, 1, -1, 0&#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func floodFill(image [][]int, sr int, sc int, newColor int) [][]int &#123;</span><br><span class="line">    currColor := image[sr][sc]</span><br><span class="line">    if currColor != newColor &#123;</span><br><span class="line">        dfs(image, sr, sc, currColor, newColor)</span><br><span class="line">    &#125;</span><br><span class="line">    return image</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func dfs(image [][]int, x, y, color, newColor int) &#123;</span><br><span class="line">    if image[x][y] == color &#123;</span><br><span class="line">        image[x][y] = newColor</span><br><span class="line">        for i := 0; i &lt; 4; i++ &#123;</span><br><span class="line">            mx, my := x + dx[i], y + dy[i]</span><br><span class="line">            if mx &gt;= 0 &amp;&amp; mx &lt; len(image) &amp;&amp; my &gt;= 0 &amp;&amp; my &lt; len(image[0]) &#123;</span><br><span class="line">                dfs(image, mx, my, color, newColor)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ-1"><a href="#å¤æ‚åº¦åˆ†æ-1" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼š<br>O(nÃ—m)ï¼Œå…¶ä¸­ n å’Œ m åˆ†åˆ«æ˜¯äºŒç»´æ•°ç»„çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚æœ€åæƒ…å†µä¸‹éœ€è¦éå†æ‰€æœ‰çš„æ–¹æ ¼ä¸€æ¬¡ã€‚<br>ç©ºé—´å¤æ‚åº¦ï¼š<br>O(nÃ—m)ï¼Œå…¶ä¸­ n å’Œ m åˆ†åˆ«æ˜¯äºŒç»´æ•°ç»„çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚ä¸»è¦ä¸ºæ ˆç©ºé—´çš„å¼€é”€ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å›¾åƒæ¸²æŸ“ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´8æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B48%E6%9C%88/"/>
    
    
    <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
    <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
    <category term="Depth-First Search" scheme="http://yoursite.com/tags/Depth-First-Search/"/>
    
    <category term="Breadth-First Search" scheme="http://yoursite.com/tags/Breadth-First-Search/"/>
    
    <category term="Matrix" scheme="http://yoursite.com/tags/Matrix/"/>
    
  </entry>
  
  <entry>
    <title>463. å²›å±¿çš„å‘¨é•¿</title>
    <link href="http://yoursite.com/2022/08/22/463.%20%E5%B2%9B%E5%B1%BF%E7%9A%84%E5%91%A8%E9%95%BF/"/>
    <id>http://yoursite.com/2022/08/22/463.%20%E5%B2%9B%E5%B1%BF%E7%9A%84%E5%91%A8%E9%95%BF/</id>
    <published>2022-08-22T03:12:12.000Z</published>
    <updated>2022-08-22T06:47:41.313Z</updated>
    
    <content type="html"><![CDATA[<p>è®¡ç®—è¿™ä¸ªå²›å±¿çš„å‘¨é•¿ã€‚</p><span id="more"></span><p>[TOC]</p><p>ç»™å®šä¸€ä¸ª row x col çš„äºŒç»´ç½‘æ ¼åœ°å›¾ grid ï¼Œå…¶ä¸­ï¼šgrid[i][j] &#x3D; 1 è¡¨ç¤ºé™†åœ°ï¼Œ grid[i][j] &#x3D; 0 è¡¨ç¤ºæ°´åŸŸã€‚</p><p>ç½‘æ ¼ä¸­çš„æ ¼å­ æ°´å¹³å’Œå‚ç›´ æ–¹å‘ç›¸è¿ï¼ˆå¯¹è§’çº¿æ–¹å‘ä¸ç›¸è¿ï¼‰ã€‚æ•´ä¸ªç½‘æ ¼è¢«æ°´å®Œå…¨åŒ…å›´ï¼Œä½†å…¶ä¸­æ°å¥½æœ‰ä¸€ä¸ªå²›å±¿ï¼ˆæˆ–è€…è¯´ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªè¡¨ç¤ºé™†åœ°çš„æ ¼å­ç›¸è¿ç»„æˆçš„å²›å±¿ï¼‰ã€‚</p><p>å²›å±¿ä¸­æ²¡æœ‰â€œæ¹–â€ï¼ˆâ€œæ¹–â€ æŒ‡æ°´åŸŸåœ¨å²›å±¿å†…éƒ¨ä¸”ä¸å’Œå²›å±¿å‘¨å›´çš„æ°´ç›¸è¿ï¼‰ã€‚æ ¼å­æ˜¯è¾¹é•¿ä¸º 1 çš„æ­£æ–¹å½¢ã€‚ç½‘æ ¼ä¸ºé•¿æ–¹å½¢ï¼Œä¸”å®½åº¦å’Œé«˜åº¦å‡ä¸è¶…è¿‡ 100 ã€‚è®¡ç®—è¿™ä¸ªå²›å±¿çš„å‘¨é•¿ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šgrid = [[0,1,0,0],[1,1,1,0],[0,1,0,0],[1,1,0,0]]è¾“å‡ºï¼š16è§£é‡Šï¼šå®ƒçš„å‘¨é•¿æ˜¯ä¸Šé¢å›¾ç‰‡ä¸­çš„ 16 ä¸ªé»„è‰²çš„è¾¹</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šgrid = [[1]]è¾“å‡ºï¼š4ç¤ºä¾‹ 3ï¼šè¾“å…¥ï¼šgrid = [[1,0]]è¾“å‡ºï¼š4</code></pre><p>æç¤ºï¼š</p><pre><code>row == grid.lengthcol == grid[i].length1 &lt;= row, col &lt;= 100grid[i][j] ä¸º 0 æˆ– 1</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šè¿­ä»£-1"><a href="#æ–¹æ³•ä¸€ï¼šè¿­ä»£-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šè¿­ä»£^1"></a>æ–¹æ³•ä¸€ï¼šè¿­ä»£<a href="https://leetcode.cn/problems/island-perimeter/solution/dao-yu-de-zhou-chang-by-leetcode-solution/">^1</a></h1><h2 id="æ€è·¯ä¸ç®—æ³•"><a href="#æ€è·¯ä¸ç®—æ³•" class="headerlink" title="æ€è·¯ä¸ç®—æ³•"></a>æ€è·¯ä¸ç®—æ³•</h2><p>å¯¹äºä¸€ä¸ªé™†åœ°æ ¼å­çš„æ¯æ¡è¾¹ï¼Œå®ƒè¢«ç®—ä½œå²›å±¿çš„å‘¨é•¿å½“ä¸”ä»…å½“è¿™æ¡è¾¹ä¸ºç½‘æ ¼çš„è¾¹ç•Œæˆ–è€…ç›¸é‚»çš„å¦ä¸€ä¸ªæ ¼å­ä¸ºæ°´åŸŸã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥éå†æ¯ä¸ªé™†åœ°æ ¼å­ï¼Œçœ‹å…¶å››ä¸ªæ–¹å‘æ˜¯å¦ä¸ºè¾¹ç•Œæˆ–è€…æ°´åŸŸï¼Œå¦‚æœæ˜¯ï¼Œå°†è¿™æ¡è¾¹çš„è´¡çŒ®ï¼ˆå³1ï¼‰åŠ å…¥ç­”æ¡ˆ ans ä¸­å³å¯ã€‚</p><details>    <summary>C++</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    constexpr static int dx[4] = &#123;0, 1, 0, -1&#125;;</span><br><span class="line">    constexpr static int dy[4] = &#123;1, 0, -1, 0&#125;;</span><br><span class="line">public:</span><br><span class="line">    int islandPerimeter(vector&lt;vector&lt;int&gt;&gt; &amp;grid) &#123;</span><br><span class="line">        int n = grid.size(), m = grid[0].size();</span><br><span class="line">        int ans = 0;</span><br><span class="line">        for (int i = 0; i &lt; n; ++i) &#123;</span><br><span class="line">            for (int j = 0; j &lt; m; ++j) &#123;</span><br><span class="line">                if (grid[i][j]) &#123;</span><br><span class="line">                    int cnt = 0;</span><br><span class="line">                    for (int k = 0; k &lt; 4; ++k) &#123;</span><br><span class="line">                        int tx = i + dx[k];</span><br><span class="line">                        int ty = j + dy[k];</span><br><span class="line">                        if (tx &lt; 0 || tx &gt;= n || ty &lt; 0 || ty &gt;= m || !grid[tx][ty]) &#123;</span><br><span class="line">                            cnt += 1;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    ans += cnt;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    static int[] dx = &#123;0, 1, 0, -1&#125;;</span><br><span class="line">    static int[] dy = &#123;1, 0, -1, 0&#125;;</span><br><span class="line"></span><br><span class="line">    public int islandPerimeter(int[][] grid) &#123;</span><br><span class="line">        int n = grid.length, m = grid[0].length;</span><br><span class="line">        int ans = 0;</span><br><span class="line">        for (int i = 0; i &lt; n; ++i) &#123;</span><br><span class="line">            for (int j = 0; j &lt; m; ++j) &#123;</span><br><span class="line">                if (grid[i][j] == 1) &#123;</span><br><span class="line">                    int cnt = 0;</span><br><span class="line">                    for (int k = 0; k &lt; 4; ++k) &#123;</span><br><span class="line">                        int tx = i + dx[k];</span><br><span class="line">                        int ty = j + dy[k];</span><br><span class="line">                        if (tx &lt; 0 || tx &gt;= n || ty &lt; 0 || ty &gt;= m || grid[tx][ty] == 0) &#123;</span><br><span class="line">                            cnt += 1;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    ans += cnt;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">type pair struct&#123; x, y int &#125;</span><br><span class="line">var dir4 = []pair&#123;&#123;-1, 0&#125;, &#123;1, 0&#125;, &#123;0, -1&#125;, &#123;0, 1&#125;&#125;</span><br><span class="line"></span><br><span class="line">func islandPerimeter(grid [][]int) (ans int) &#123;</span><br><span class="line">    n, m := len(grid), len(grid[0])</span><br><span class="line">    for i, row := range grid &#123;</span><br><span class="line">        for j, v := range row &#123;</span><br><span class="line">            if v == 1 &#123;</span><br><span class="line">                for _, d := range dir4 &#123;</span><br><span class="line">                    if x, y := i+d.x, j+d.y; x &lt; 0 || x &gt;= n || y &lt; 0 || y &gt;= m || grid[x][y] == 0 &#123;</span><br><span class="line">                        ans++</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">const int dx[4] = &#123;0, 1, 0, -1&#125;;</span><br><span class="line">const int dy[4] = &#123;1, 0, -1, 0&#125;;</span><br><span class="line"></span><br><span class="line">int islandPerimeter(int** grid, int gridSize, int* gridColSize) &#123;</span><br><span class="line">    int n = gridSize, m = gridColSize[0];</span><br><span class="line">    int ans = 0;</span><br><span class="line">    for (int i = 0; i &lt; n; ++i) &#123;</span><br><span class="line">        for (int j = 0; j &lt; m; ++j) &#123;</span><br><span class="line">            if (grid[i][j]) &#123;</span><br><span class="line">                int cnt = 0;</span><br><span class="line">                for (int k = 0; k &lt; 4; ++k) &#123;</span><br><span class="line">                    int tx = i + dx[k];</span><br><span class="line">                    int ty = j + dy[k];</span><br><span class="line">                    if (tx &lt; 0 || tx &gt;= n || ty &lt; 0 || ty &gt;= m || !grid[tx][ty]) &#123;</span><br><span class="line">                        cnt += 1;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                ans += cnt;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼š<br>O(nm)ï¼Œå…¶ä¸­ n ä¸ºç½‘æ ¼çš„é«˜åº¦ï¼Œm ä¸ºç½‘æ ¼çš„å®½åº¦ã€‚æˆ‘ä»¬éœ€è¦éå†æ¯ä¸ªæ ¼å­ï¼Œæ¯ä¸ªæ ¼å­è¦çœ‹å…¶å‘¨å›´ 4 ä¸ªæ ¼å­æ˜¯å¦ä¸ºå²›å±¿ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸ºO(4nm)&#x3D;O(nm)ã€‚<br>ç©ºé—´å¤æ‚åº¦ï¼š<br>O(1)ã€‚åªéœ€è¦å¸¸æ•°ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡ã€‚</p><h1 id="æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ–¹æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢</h1><h2 id="æ€è·¯ä¸ç®—æ³•-1"><a href="#æ€è·¯ä¸ç®—æ³•-1" class="headerlink" title="æ€è·¯ä¸ç®—æ³•"></a>æ€è·¯ä¸ç®—æ³•</h2><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†æ–¹æ³•ä¸€æ”¹æˆæ·±åº¦ä¼˜å…ˆæœç´¢éå†çš„æ–¹å¼ï¼Œæ­¤æ—¶éå†çš„æ–¹å¼å¯æ‰©å±•è‡³ç»Ÿè®¡å¤šä¸ªå²›å±¿å„è‡ªçš„å‘¨é•¿ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ä¸ºäº†é˜²æ­¢é™†åœ°æ ¼å­åœ¨æ·±åº¦ä¼˜å…ˆæœç´¢ä¸­è¢«é‡å¤éå†å¯¼è‡´æ­»å¾ªç¯ï¼Œæˆ‘ä»¬éœ€è¦å°†éå†è¿‡çš„é™†åœ°æ ¼å­æ ‡è®°ä¸ºå·²ç»éå†è¿‡ï¼Œä¸‹é¢çš„ä»£ç ä¸­æˆ‘ä»¬è®¾å®šå€¼ä¸º 2 çš„æ ¼å­ä¸ºå·²ç»éå†è¿‡çš„é™†åœ°æ ¼å­ã€‚</p><details>    <summary>C++</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    constexpr static int dx[4] = &#123;0, 1, 0, -1&#125;;</span><br><span class="line">    constexpr static int dy[4] = &#123;1, 0, -1, 0&#125;;</span><br><span class="line">public:</span><br><span class="line">    int dfs(int x, int y, vector&lt;vector&lt;int&gt;&gt; &amp;grid, int n, int m) &#123;</span><br><span class="line">        if (x &lt; 0 || x &gt;= n || y &lt; 0 || y &gt;= m || grid[x][y] == 0) &#123;</span><br><span class="line">            return 1;</span><br><span class="line">        &#125;</span><br><span class="line">        if (grid[x][y] == 2) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        grid[x][y] = 2;</span><br><span class="line">        int res = 0;</span><br><span class="line">        for (int i = 0; i &lt; 4; ++i) &#123;</span><br><span class="line">            int tx = x + dx[i];</span><br><span class="line">            int ty = y + dy[i];</span><br><span class="line">            res += dfs(tx, ty, grid, n, m);</span><br><span class="line">        &#125;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">    int islandPerimeter(vector&lt;vector&lt;int&gt;&gt; &amp;grid) &#123;</span><br><span class="line">        int n = grid.size(), m = grid[0].size();</span><br><span class="line">        int ans = 0;</span><br><span class="line">        for (int i = 0; i &lt; n; ++i) &#123;</span><br><span class="line">            for (int j = 0; j &lt; m; ++j) &#123;</span><br><span class="line">                if (grid[i][j] == 1) &#123;</span><br><span class="line">                    ans += dfs(i, j, grid, n, m);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    static int[] dx = &#123;0, 1, 0, -1&#125;;</span><br><span class="line">    static int[] dy = &#123;1, 0, -1, 0&#125;;</span><br><span class="line"></span><br><span class="line">    public int islandPerimeter(int[][] grid) &#123;</span><br><span class="line">        int n = grid.length, m = grid[0].length;</span><br><span class="line">        int ans = 0;</span><br><span class="line">        for (int i = 0; i &lt; n; ++i) &#123;</span><br><span class="line">            for (int j = 0; j &lt; m; ++j) &#123;</span><br><span class="line">                if (grid[i][j] == 1) &#123;</span><br><span class="line">                    ans += dfs(i, j, grid, n, m);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int dfs(int x, int y, int[][] grid, int n, int m) &#123;</span><br><span class="line">        if (x &lt; 0 || x &gt;= n || y &lt; 0 || y &gt;= m || grid[x][y] == 0) &#123;</span><br><span class="line">            return 1;</span><br><span class="line">        &#125;</span><br><span class="line">        if (grid[x][y] == 2) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        grid[x][y] = 2;</span><br><span class="line">        int res = 0;</span><br><span class="line">        for (int i = 0; i &lt; 4; ++i) &#123;</span><br><span class="line">            int tx = x + dx[i];</span><br><span class="line">            int ty = y + dy[i];</span><br><span class="line">            res += dfs(tx, ty, grid, n, m);</span><br><span class="line">        &#125;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">type pair struct&#123; x, y int &#125;</span><br><span class="line">var dir4 = []pair&#123;&#123;-1, 0&#125;, &#123;1, 0&#125;, &#123;0, -1&#125;, &#123;0, 1&#125;&#125;</span><br><span class="line"></span><br><span class="line">func islandPerimeter(grid [][]int) (ans int) &#123;</span><br><span class="line">    n, m := len(grid), len(grid[0])</span><br><span class="line">    var dfs func(x, y int)</span><br><span class="line">    dfs = func(x, y int) &#123;</span><br><span class="line">        if x &lt; 0 || x &gt;= n || y &lt; 0 || y &gt;= m || grid[x][y] == 0 &#123;</span><br><span class="line">            ans++</span><br><span class="line">            return</span><br><span class="line">        &#125;</span><br><span class="line">        if grid[x][y] == 2 &#123;</span><br><span class="line">            return</span><br><span class="line">        &#125;</span><br><span class="line">        grid[x][y] = 2</span><br><span class="line">        for _, d := range dir4 &#123;</span><br><span class="line">            dfs(x+d.x, y+d.y)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    for i, row := range grid &#123;</span><br><span class="line">        for j, v := range row &#123;</span><br><span class="line">            if v == 1 &#123;</span><br><span class="line">                dfs(i, j)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary></summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">const int dx[4] = &#123;0, 1, 0, -1&#125;;</span><br><span class="line">const int dy[4] = &#123;1, 0, -1, 0&#125;;</span><br><span class="line"></span><br><span class="line">int dfs(int x, int y, int** grid, int n, int m) &#123;</span><br><span class="line">    if (x &lt; 0 || x &gt;= n || y &lt; 0 || y &gt;= m || grid[x][y] == 0) &#123;</span><br><span class="line">        return 1;</span><br><span class="line">    &#125;</span><br><span class="line">    if (grid[x][y] == 2) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    grid[x][y] = 2;</span><br><span class="line">    int res = 0;</span><br><span class="line">    for (int i = 0; i &lt; 4; ++i) &#123;</span><br><span class="line">        int tx = x + dx[i];</span><br><span class="line">        int ty = y + dy[i];</span><br><span class="line">        res += dfs(tx, ty, grid, n, m);</span><br><span class="line">    &#125;</span><br><span class="line">    return res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int islandPerimeter(int** grid, int gridSize, int* gridColSize) &#123;</span><br><span class="line">    int n = gridSize, m = gridColSize[0];</span><br><span class="line">    int ans = 0;</span><br><span class="line">    for (int i = 0; i &lt; n; ++i) &#123;</span><br><span class="line">        for (int j = 0; j &lt; m; ++j) &#123;</span><br><span class="line">            if (grid[i][j] == 1) &#123;</span><br><span class="line">                ans += dfs(i, j, grid, n, m);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ-1"><a href="#å¤æ‚åº¦åˆ†æ-1" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nm)ï¼Œå…¶ä¸­ n ä¸ºç½‘æ ¼çš„é«˜åº¦ï¼Œm ä¸ºç½‘æ ¼çš„å®½åº¦ã€‚æ¯ä¸ªæ ¼å­è‡³å¤šä¼šè¢«éå†ä¸€æ¬¡ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(nm)ã€‚<br>ç©ºé—´å¤æ‚åº¦ï¼šO(nm)ã€‚æ·±åº¦ä¼˜å…ˆæœç´¢å¤æ‚åº¦å–å†³äºé€’å½’çš„æ ˆç©ºé—´ï¼Œè€Œæ ˆç©ºé—´æœ€åæƒ…å†µä¸‹ä¼šè¾¾åˆ° O(nm)ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;è®¡ç®—è¿™ä¸ªå²›å±¿çš„å‘¨é•¿ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´8æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B48%E6%9C%88/"/>
    
    
    <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
    <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
    <category term="Depth-First Search" scheme="http://yoursite.com/tags/Depth-First-Search/"/>
    
    <category term="Breadth-First Search" scheme="http://yoursite.com/tags/Breadth-First-Search/"/>
    
    <category term="Matrix" scheme="http://yoursite.com/tags/Matrix/"/>
    
  </entry>
  
  <entry>
    <title>748. æœ€çŸ­è¡¥å…¨è¯</title>
    <link href="http://yoursite.com/2022/08/09/748.%20%E6%9C%80%E7%9F%AD%E8%A1%A5%E5%85%A8%E8%AF%8D/"/>
    <id>http://yoursite.com/2022/08/09/748.%20%E6%9C%80%E7%9F%AD%E8%A1%A5%E5%85%A8%E8%AF%8D/</id>
    <published>2022-08-09T02:12:12.000Z</published>
    <updated>2022-08-09T03:37:36.854Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² licensePlate å’Œä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ words ï¼Œè¯·ä½ æ‰¾å‡ºÂ words ä¸­çš„ æœ€çŸ­è¡¥å…¨è¯ ã€‚</p><span id="more"></span><p>[TOC]</p><p>è¡¥å…¨è¯ æ˜¯ä¸€ä¸ªåŒ…å« licensePlate ä¸­æ‰€æœ‰å­—æ¯çš„å•è¯ã€‚å¿½ç•¥Â licensePlate ä¸­çš„ æ•°å­—å’Œç©ºæ ¼ ã€‚ä¸åŒºåˆ†å¤§å°å†™ã€‚å¦‚æœæŸä¸ªå­—æ¯åœ¨ licensePlate ä¸­å‡ºç°ä¸æ­¢ä¸€æ¬¡ï¼Œé‚£ä¹ˆè¯¥å­—æ¯åœ¨è¡¥å…¨è¯ä¸­çš„å‡ºç°æ¬¡æ•°åº”å½“ä¸€è‡´æˆ–è€…æ›´å¤šã€‚</p><p>ä¾‹å¦‚ï¼šlicensePlate &#x3D; â€œaBc 12câ€ï¼Œé‚£ä¹ˆå®ƒçš„è¡¥å…¨è¯åº”å½“åŒ…å«å­—æ¯ â€˜aâ€™ã€â€™bâ€™ ï¼ˆå¿½ç•¥å¤§å†™ï¼‰å’Œä¸¤ä¸ª â€˜câ€™ ã€‚å¯èƒ½çš„ è¡¥å…¨è¯ æœ‰ â€œabccdefâ€ã€â€caaacabâ€ ä»¥åŠ â€œcbcaâ€ ã€‚</p><p>è¯·è¿”å› words ä¸­çš„ æœ€çŸ­è¡¥å…¨è¯ ã€‚é¢˜ç›®æ•°æ®ä¿è¯ä¸€å®šå­˜åœ¨ä¸€ä¸ªæœ€çŸ­è¡¥å…¨è¯ã€‚å½“æœ‰å¤šä¸ªå•è¯éƒ½ç¬¦åˆæœ€çŸ­è¡¥å…¨è¯çš„åŒ¹é…æ¡ä»¶æ—¶å– words ä¸­ ç¬¬ä¸€ä¸ª å‡ºç°çš„é‚£ä¸ªã€‚<a href="https://leetcode.cn/problems/shortest-completing-word/">^1</a></p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šlicensePlate = &quot;1s3 PSt&quot;, words = [&quot;step&quot;, &quot;steps&quot;, &quot;stripe&quot;, &quot;stepple&quot;]è¾“å‡ºï¼š&quot;steps&quot;è§£é‡Šï¼šæœ€çŸ­è¡¥å…¨è¯åº”è¯¥åŒ…æ‹¬ &quot;s&quot;ã€&quot;p&quot;ã€&quot;s&quot;ï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰ ä»¥åŠ &quot;t&quot;ã€‚&quot;step&quot; åŒ…å« &quot;t&quot;ã€&quot;p&quot;ï¼Œä½†åªåŒ…å«ä¸€ä¸ª &quot;s&quot;ï¼Œæ‰€ä»¥å®ƒä¸ç¬¦åˆæ¡ä»¶ã€‚&quot;steps&quot; åŒ…å« &quot;t&quot;ã€&quot;p&quot; å’Œä¸¤ä¸ª &quot;s&quot;ã€‚&quot;stripe&quot; ç¼ºä¸€ä¸ª &quot;s&quot;ã€‚&quot;stepple&quot; ç¼ºä¸€ä¸ª &quot;s&quot;ã€‚å› æ­¤ï¼Œ&quot;steps&quot; æ˜¯å”¯ä¸€ä¸€ä¸ªåŒ…å«æ‰€æœ‰å­—æ¯çš„å•è¯ï¼Œä¹Ÿæ˜¯æœ¬ä¾‹çš„ç­”æ¡ˆã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šlicensePlate = &quot;1s3 456&quot;, words = [&quot;looks&quot;, &quot;pest&quot;, &quot;stew&quot;, &quot;show&quot;]è¾“å‡ºï¼š&quot;pest&quot;è§£é‡Šï¼šlicensePlate åªåŒ…å«å­—æ¯ &quot;s&quot; ã€‚æ‰€æœ‰çš„å•è¯éƒ½åŒ…å«å­—æ¯ &quot;s&quot; ï¼Œå…¶ä¸­ &quot;pest&quot;ã€&quot;stew&quot;ã€å’Œ &quot;show&quot; ä¸‰è€…æœ€çŸ­ã€‚ç­”æ¡ˆæ˜¯ &quot;pest&quot; ï¼Œå› ä¸ºå®ƒæ˜¯ä¸‰ä¸ªå•è¯ä¸­åœ¨ words é‡Œæœ€é å‰çš„é‚£ä¸ªã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= licensePlate.length &lt;= 7licensePlate ç”±æ•°å­—ã€å¤§å°å†™å­—æ¯æˆ–ç©ºæ ¼ &#39; &#39; ç»„æˆ1 &lt;= words.length &lt;= 10001 &lt;= words[i].length &lt;= 15words[i] ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</code></pre><h1 id="æ ¹æ®å­—ç¬¦ä¸²é•¿åº¦å¯¹vectoræ•°ç»„è¿›è¡Œç¨³å®šæ’åº-å“ˆå¸Œè¡¨"><a href="#æ ¹æ®å­—ç¬¦ä¸²é•¿åº¦å¯¹vectoræ•°ç»„è¿›è¡Œç¨³å®šæ’åº-å“ˆå¸Œè¡¨" class="headerlink" title="æ ¹æ®å­—ç¬¦ä¸²é•¿åº¦å¯¹vectoræ•°ç»„è¿›è¡Œç¨³å®šæ’åº + å“ˆå¸Œè¡¨"></a>æ ¹æ®å­—ç¬¦ä¸²é•¿åº¦å¯¹vectoræ•°ç»„è¿›è¡Œç¨³å®šæ’åº + å“ˆå¸Œè¡¨</h1><details>    <summary>C++</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">void sortByLen(vector&lt;string&gt; &amp;words)&#123;</span><br><span class="line">        stable_sort(words.begin(),words.end(),[](string a, string b)&#123;</span><br><span class="line">            return a.length()&lt;b.length();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    unordered_map&lt;char,int&gt; sToMap(string s)&#123;</span><br><span class="line">        unordered_map&lt;char, int&gt; map;</span><br><span class="line">        for(auto c: s)&#123;</span><br><span class="line">            if(isalpha(c))&#123;</span><br><span class="line">                map[tolower(c)]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return map;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    string shortestCompletingWord(string licensePlate, vector&lt;string&gt; &amp;words) &#123;</span><br><span class="line">        sortByLen(words);</span><br><span class="line">        unordered_map&lt;char, int&gt; map=sToMap(licensePlate);</span><br><span class="line">        for(auto &amp;s: words)&#123;</span><br><span class="line">            unordered_map&lt;char, int&gt; dic=sToMap(s);</span><br><span class="line">            bool contain=true;</span><br><span class="line">            for(auto a:map)&#123;</span><br><span class="line">                if(dic.count(a.first)==0)&#123;</span><br><span class="line">                    contain = false;</span><br><span class="line">                &#125;else if(dic[a.first] &lt; a.second)&#123;</span><br><span class="line">                    contain = false;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if(contain)&#123;</span><br><span class="line">                return s;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return &quot;&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    public void unstableSortByLen(String[] words) &#123;</span><br><span class="line">        Arrays.sort(words, new Comparator&lt;String&gt;() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public int compare(String o1, String o2) &#123;</span><br><span class="line">                return o1.length() - o2.length();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void stableSortByLen(ArrayList&lt;String&gt; words) &#123;</span><br><span class="line">        //å¯¹äºArrays.sort(int[] var0)ä½¿ç”¨çš„æ˜¯å¿«æ’,æ‰€ä»¥æ˜¯ä¸ç¨³å®šçš„.ä½†æ˜¯è¯•äº†ä¸‹å‘ç°è¿™ä¸ªä¹Ÿèƒ½è¿‡</span><br><span class="line">        //å¯¹äºCollections.sort(List&lt;T&gt; elements)ä½¿ç”¨çš„æ˜¯å½’å¹¶æ’åº,æ˜¯ç¨³å®šçš„.</span><br><span class="line">        Collections.sort(words, new Comparator&lt;String&gt;() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public int compare(String s1, String s2) &#123;</span><br><span class="line">                return s1.length() - s2.length();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void sToMap(HashMap&lt;Character, Integer&gt; map, String s) &#123;</span><br><span class="line">        for (Character c : s.toCharArray()) &#123;</span><br><span class="line">            if (Character.isAlphabetic(c)) &#123;</span><br><span class="line">                 map.put(Character.toLowerCase(c), map.getOrDefault(Character.toLowerCase(c), 0) + 1);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String shortestCompletingWord(String licensePlate, String[] words) &#123;</span><br><span class="line">        ArrayList&lt;String&gt; word = new ArrayList&lt;&gt;();</span><br><span class="line">        Collections.addAll(word, words);</span><br><span class="line">        stableSortByLen(word);</span><br><span class="line">        HashMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();</span><br><span class="line">        sToMap(map, licensePlate);</span><br><span class="line">        for (String s : word) &#123;</span><br><span class="line">            boolean flag = true;</span><br><span class="line">            HashMap&lt;Character, Integer&gt; mapWords = new HashMap&lt;&gt;();</span><br><span class="line">            sToMap(mapWords, s);</span><br><span class="line">            for (Character c : map.keySet()) &#123;</span><br><span class="line">                if (mapWords.getOrDefault(c, 0) == 0) &#123;</span><br><span class="line">                    flag = false;</span><br><span class="line">                    break;</span><br><span class="line">                &#125; else if (mapWords.getOrDefault(c, 0) &lt; map.get(c)) &#123;</span><br><span class="line">                    flag = false;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if (flag) &#123;</span><br><span class="line">                return s;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return &quot;&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² licensePlate å’Œä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ words ï¼Œè¯·ä½ æ‰¾å‡ºÂ words ä¸­çš„ æœ€çŸ­è¡¥å…¨è¯ ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´8æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B48%E6%9C%88/"/>
    
    
    <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
    <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
    <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
    <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
  </entry>
  
  <entry>
    <title>C++äºŒç»´åŠ¨æ€é™æ€æ•°ç»„ä¼ å‚é€ŸæŸ¥</title>
    <link href="http://yoursite.com/2022/08/05/C++%E4%BA%8C%E7%BB%B4%E5%8A%A8%E6%80%81%E9%9D%99%E6%80%81%E6%95%B0%E7%BB%84%E4%BC%A0%E5%8F%82%E9%80%9F%E6%9F%A5/"/>
    <id>http://yoursite.com/2022/08/05/C++%E4%BA%8C%E7%BB%B4%E5%8A%A8%E6%80%81%E9%9D%99%E6%80%81%E6%95%B0%E7%BB%84%E4%BC%A0%E5%8F%82%E9%80%9F%E6%9F%A5/</id>
    <published>2022-08-05T10:12:12.000Z</published>
    <updated>2022-08-08T02:16:55.082Z</updated>
    
    <content type="html"><![CDATA[<p>åŠ¨æ€é™æ€æ•°ç»„ä¼ å‚æ•°éƒ½æ˜¯å¼•ç”¨ä¼ é€’</p><span id="more"></span><p>[TOC]</p><p>å‚è€ƒ<a href="https://www.cnblogs.com/usa007lhy/p/3286186.html">^1</a></p><details>    <summary>åŠ¨æ€é™æ€æ•°ç»„ä¼ å‚</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//  äºŒç»´æ•°ç»„</span><br><span class="line">//  Created by yiye on 2022/8/4.</span><br><span class="line">//https://www.cnblogs.com/usa007lhy/p/3286186.html</span><br><span class="line"></span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">//void iniMatrix(int a[3][5], int rows)&#123;</span><br><span class="line">void iniMatrix(int a[][5], int rows)&#123;</span><br><span class="line">    cout&lt;&lt;&quot;*******åˆå§‹åŒ–äºŒç»´é™æ€æ•°ç»„******&quot;&lt;&lt;endl;</span><br><span class="line">    for(int i=0;i&lt;rows;i++)&#123;</span><br><span class="line">        for(int j=0;j&lt;5;j++)&#123;</span><br><span class="line">            a[i][j]=i*10+j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void iniDynamicMatrix(int **a, int rows, int cols)&#123;</span><br><span class="line">    cout&lt;&lt;&quot;*******åˆå§‹åŒ–äºŒç»´åŠ¨æ€æ•°ç»„******&quot;&lt;&lt;endl;</span><br><span class="line">    for(int i=0;i&lt;rows;i++)&#123;</span><br><span class="line">        for(int j=0;j&lt;cols;j++)&#123;</span><br><span class="line">            a[i][j]=i*10+j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void printStaticMatrix(int a[][5],int rows)&#123;</span><br><span class="line">    cout&lt;&lt;&quot;*******æ‰“å°äºŒç»´é™æ€æ•°ç»„******&quot;&lt;&lt;endl;</span><br><span class="line">    for(int i=0;i&lt;rows;i++)&#123;</span><br><span class="line">        for(int j=0;j&lt;5;j++)&#123;</span><br><span class="line">            cout&lt;&lt;a[i][j]&lt;&lt;&quot; &quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">void printDynamicMatrix(int **a,int rows, int cols)&#123;</span><br><span class="line">    cout&lt;&lt;&quot;*******æ‰“å°äºŒç»´åŠ¨æ€æ•°ç»„******&quot;&lt;&lt;endl;</span><br><span class="line">    for(int i=0;i&lt;rows;i++)&#123;</span><br><span class="line">        for(int j=0;j&lt;cols;j++)&#123;</span><br><span class="line">            cout&lt;&lt;a[i][j]&lt;&lt;&quot; &quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void changeArray(int *num, int len)&#123;</span><br><span class="line">    for(int i=0;i&lt;len/2;i++)&#123;</span><br><span class="line">        num[i] = -1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void printArray(int *num, int len)&#123;</span><br><span class="line">    cout&lt;&lt;&quot;**********æ‰“å°ä¸€ç»´æ•°ç»„**********&quot;&lt;&lt;endl;</span><br><span class="line">    for(int i=0;i&lt;len;i++)&#123;</span><br><span class="line">        cout&lt;&lt;num[i]&lt;&lt;&quot; &quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void printStaticMatrix(int **num, int row, int col)&#123;</span><br><span class="line">    cout&lt;&lt;&quot;*******æ‰“å°äºŒç»´é™æ€æ•°ç»„******&quot;&lt;&lt;endl;</span><br><span class="line">    for (int i=0; i&lt;row; i++) &#123;</span><br><span class="line">        for (int j=0; j&lt;col; j++) &#123;</span><br><span class="line">            cout&lt;&lt;*((int *)num + col*i+j)&lt;&lt;&quot; &quot;; // å¯è¡Œæ–¹æ¡ˆ</span><br><span class="line">//            cout&lt;&lt;((int *)num + col*i)[j]&lt;&lt;&quot; &quot;; //å¯è¡Œæ–¹æ¡ˆ</span><br><span class="line">//            cout&lt;&lt;num[i][j]&lt;&lt;&quot; &quot;;//ä¸å¯è¡Œæ–¹æ¡ˆ</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, const char * argv[]) &#123;</span><br><span class="line">    int a[3][5];</span><br><span class="line">    iniMatrix(a, 3);</span><br><span class="line">    printStaticMatrix(a, 3);</span><br><span class="line">    printStaticMatrix((int **)a, 3, 5);</span><br><span class="line">    cout&lt;&lt;&quot;*******æ–°çš„äºŒç»´æ•°ç»„******&quot;&lt;&lt;endl;</span><br><span class="line">    int b[][5] = &#123;1,2,3,4,5,6,7,8,9,10,11,12,13,14,15&#125;;</span><br><span class="line">    printStaticMatrix(b, 3);</span><br><span class="line">    int len = 5;</span><br><span class="line">    int num[5]=&#123;1,2,3,4,5&#125;;</span><br><span class="line">    printArray(num, 5);</span><br><span class="line">    changeArray(num, len);</span><br><span class="line">    printArray(num, 5);</span><br><span class="line">    cout&lt;&lt;&quot;#####é™æ€æ•°ç»„ä¼ å‚æ•°æ˜¯å¼•ç”¨ä¼ é€’#####&quot;&lt;&lt;endl;</span><br><span class="line">    int *num2 = new int[len];</span><br><span class="line">    for(int i=0;i&lt;len;i++)&#123;</span><br><span class="line">        num2[i]=i;</span><br><span class="line">    &#125;</span><br><span class="line">    printArray(num2, len);</span><br><span class="line">    changeArray(num2, len);</span><br><span class="line">    printArray(num2, len);</span><br><span class="line">    cout&lt;&lt;&quot;#####åŠ¨æ€æ•°ç»„ä¼ å‚æ•°æ˜¯å¼•ç”¨ä¼ é€’#####&quot;&lt;&lt;endl;</span><br><span class="line">    delete[] num2;</span><br><span class="line">    </span><br><span class="line">    int row = 3, col=5;</span><br><span class="line">    int **num3  = new int*[row];</span><br><span class="line">    for (int i=0; i&lt;row; i++) &#123;</span><br><span class="line">        num3[i]=new int[col];</span><br><span class="line">    &#125;</span><br><span class="line">    iniDynamicMatrix(num3, row, col);</span><br><span class="line">    printDynamicMatrix(num3, row, col);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></details>]]></content>
    
    
    <summary type="html">&lt;p&gt;åŠ¨æ€é™æ€æ•°ç»„ä¼ å‚æ•°éƒ½æ˜¯å¼•ç”¨ä¼ é€’&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´8æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B48%E6%9C%88/"/>
    
    
    <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
    <category term="C++" scheme="http://yoursite.com/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘(å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘)</title>
    <link href="http://yoursite.com/2022/07/14/105.%20%E4%BB%8E%E5%89%8D%E5%BA%8F%E4%B8%8E%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91(%E5%89%91%E6%8C%87%20Offer%2007.%20%E9%87%8D%E5%BB%BA%E4%BA%8C%E5%8F%89%E6%A0%91)/"/>
    <id>http://yoursite.com/2022/07/14/105.%20%E4%BB%8E%E5%89%8D%E5%BA%8F%E4%B8%8E%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91(%E5%89%91%E6%8C%87%20Offer%2007.%20%E9%87%8D%E5%BB%BA%E4%BA%8C%E5%8F%89%E6%A0%91)/</id>
    <published>2022-07-14T06:12:12.000Z</published>
    <updated>2022-07-14T10:06:12.239Z</updated>
    
    <content type="html"><![CDATA[<p>å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘</p><span id="more"></span><p>[TOC]</p><p>ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„Â preorder å’Œ inorderÂ ï¼Œå…¶ä¸­Â preorder æ˜¯äºŒå‰æ ‘çš„å…ˆåºéå†ï¼Œ inorderÂ æ˜¯åŒä¸€æ£µæ ‘çš„ä¸­åºéå†ï¼Œè¯·æ„é€ äºŒå‰æ ‘å¹¶è¿”å›å…¶æ ¹èŠ‚ç‚¹ã€‚</p><p>ç¤ºä¾‹ 1:</p><pre><code>è¾“å…¥: preorder = [3,9,20,15,7], inorder = [9,3,15,20,7]è¾“å‡º: [3,9,20,null,null,15,7]</code></pre><p>ç¤ºä¾‹ 2:</p><pre><code>è¾“å…¥: preorder = [-1], inorder = [-1]è¾“å‡º: [-1]</code></pre><p>æç¤º:</p><pre><code>1 &lt;= preorder.length &lt;= 3000inorder.length == preorder.length-3000 &lt;= preorder[i], inorder[i] &lt;= 3000preorderÂ å’ŒÂ inorderÂ å‡ æ— é‡å¤ å…ƒç´ inorderÂ å‡å‡ºç°åœ¨Â preorderpreorderÂ ä¿è¯ ä¸ºäºŒå‰æ ‘çš„å‰åºéå†åºåˆ—inorderÂ ä¿è¯ ä¸ºäºŒå‰æ ‘çš„ä¸­åºéå†åºåˆ—</code></pre><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>äºŒå‰æ ‘å‰åºéå†çš„é¡ºåºä¸ºï¼š</p><p>å…ˆéå†æ ¹èŠ‚ç‚¹ï¼›<br>éšåé€’å½’åœ°éå†å·¦å­æ ‘ï¼›<br>æœ€åé€’å½’åœ°éå†å³å­æ ‘ã€‚<br>äºŒå‰æ ‘ä¸­åºéå†çš„é¡ºåºä¸ºï¼š</p><p>å…ˆé€’å½’åœ°éå†å·¦å­æ ‘ï¼›<br>éšåéå†æ ¹èŠ‚ç‚¹ï¼›<br>æœ€åé€’å½’åœ°éå†å³å­æ ‘ã€‚<br>åœ¨ã€Œé€’å½’ã€åœ°éå†æŸä¸ªå­æ ‘çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯å°†è¿™é¢—å­æ ‘çœ‹æˆä¸€é¢—å…¨æ–°çš„æ ‘ï¼ŒæŒ‰ç…§ä¸Šè¿°çš„é¡ºåºè¿›è¡Œéå†ã€‚æŒ–æ˜ã€Œå‰åºéå†ã€å’Œã€Œä¸­åºéå†ã€çš„æ€§è´¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—å‡ºæœ¬é¢˜çš„åšæ³•ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šé€’å½’"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’"></a>æ–¹æ³•ä¸€ï¼šé€’å½’</h1><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å¯¹äºä»»æ„ä¸€é¢—æ ‘è€Œè¨€ï¼Œå‰åºéå†çš„å½¢å¼æ€»æ˜¯</p><p>[ æ ¹èŠ‚ç‚¹, [å·¦å­æ ‘çš„å‰åºéå†ç»“æœ], [å³å­æ ‘çš„å‰åºéå†ç»“æœ] ]<br>å³æ ¹èŠ‚ç‚¹æ€»æ˜¯å‰åºéå†ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚è€Œä¸­åºéå†çš„å½¢å¼æ€»æ˜¯</p><p>[ [å·¦å­æ ‘çš„ä¸­åºéå†ç»“æœ], æ ¹èŠ‚ç‚¹, [å³å­æ ‘çš„ä¸­åºéå†ç»“æœ] ]<br>åªè¦æˆ‘ä»¬åœ¨ä¸­åºéå†ä¸­å®šä½åˆ°æ ¹èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åˆ†åˆ«çŸ¥é“å·¦å­æ ‘å’Œå³å­æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ç›®ã€‚ç”±äºåŒä¸€é¢—å­æ ‘çš„å‰åºéå†å’Œä¸­åºéå†çš„é•¿åº¦æ˜¾ç„¶æ˜¯ç›¸åŒçš„ï¼Œå› æ­¤æˆ‘ä»¬å°±å¯ä»¥å¯¹åº”åˆ°å‰åºéå†çš„ç»“æœä¸­ï¼Œå¯¹ä¸Šè¿°å½¢å¼ä¸­çš„æ‰€æœ‰å·¦å³æ‹¬å·è¿›è¡Œå®šä½ã€‚</p><p>è¿™æ ·ä»¥æ¥ï¼Œæˆ‘ä»¬å°±çŸ¥é“äº†å·¦å­æ ‘çš„å‰åºéå†å’Œä¸­åºéå†ç»“æœï¼Œä»¥åŠå³å­æ ‘çš„å‰åºéå†å’Œä¸­åºéå†ç»“æœï¼Œæˆ‘ä»¬å°±å¯ä»¥é€’å½’åœ°å¯¹æ„é€ å‡ºå·¦å­æ ‘å’Œå³å­æ ‘ï¼Œå†å°†è¿™ä¸¤é¢—å­æ ‘æ¥åˆ°æ ¹èŠ‚ç‚¹çš„å·¦å³ä½ç½®ã€‚</p><h2 id="ç»†èŠ‚"><a href="#ç»†èŠ‚" class="headerlink" title="ç»†èŠ‚"></a>ç»†èŠ‚</h2><p>åœ¨ä¸­åºéå†ä¸­å¯¹æ ¹èŠ‚ç‚¹è¿›è¡Œå®šä½æ—¶ï¼Œä¸€ç§ç®€å•çš„æ–¹æ³•æ˜¯ç›´æ¥æ‰«ææ•´ä¸ªä¸­åºéå†çš„ç»“æœå¹¶æ‰¾å‡ºæ ¹èŠ‚ç‚¹ï¼Œä½†è¿™æ ·åšçš„æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ã€‚æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨å“ˆå¸Œè¡¨æ¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿåœ°å®šä½æ ¹èŠ‚ç‚¹ã€‚å¯¹äºå“ˆå¸Œæ˜ å°„ä¸­çš„æ¯ä¸ªé”®å€¼å¯¹ï¼Œé”®è¡¨ç¤ºä¸€ä¸ªå…ƒç´ ï¼ˆèŠ‚ç‚¹çš„å€¼ï¼‰ï¼Œå€¼è¡¨ç¤ºå…¶åœ¨ä¸­åºéå†ä¸­çš„å‡ºç°ä½ç½®ã€‚åœ¨æ„é€ äºŒå‰æ ‘çš„è¿‡ç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ä¸­åºéå†çš„åˆ—è¡¨è¿›è¡Œä¸€éæ‰«æï¼Œå°±å¯ä»¥æ„é€ å‡ºè¿™ä¸ªå“ˆå¸Œæ˜ å°„ã€‚åœ¨æ­¤åæ„é€ äºŒå‰æ ‘çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°±åªéœ€è¦ O(1)çš„æ—¶é—´å¯¹æ ¹èŠ‚ç‚¹è¿›è¡Œå®šä½äº†</p><details>    <summary>C++</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">private:</span><br><span class="line">    unordered_map&lt;int, int&gt; index;</span><br><span class="line"></span><br><span class="line">public:</span><br><span class="line">    TreeNode* myBuildTree(const vector&lt;int&gt;&amp; preorder, const vector&lt;int&gt;&amp; inorder, int preorder_left, int preorder_right, int inorder_left, int inorder_right) &#123;</span><br><span class="line">        if (preorder_left &gt; preorder_right) &#123;</span><br><span class="line">            return nullptr;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        // å‰åºéå†ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹</span><br><span class="line">        int preorder_root = preorder_left;</span><br><span class="line">        // åœ¨ä¸­åºéå†ä¸­å®šä½æ ¹èŠ‚ç‚¹</span><br><span class="line">        int inorder_root = index[preorder[preorder_root]];</span><br><span class="line">        </span><br><span class="line">        // å…ˆæŠŠæ ¹èŠ‚ç‚¹å»ºç«‹å‡ºæ¥</span><br><span class="line">        TreeNode* root = new TreeNode(preorder[preorder_root]);</span><br><span class="line">        // å¾—åˆ°å·¦å­æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ç›®</span><br><span class="line">        int size_left_subtree = inorder_root - inorder_left;</span><br><span class="line">        // é€’å½’åœ°æ„é€ å·¦å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹</span><br><span class="line">        // å…ˆåºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ+1 å¼€å§‹çš„ size_left_subtreeã€ä¸ªå…ƒç´ å°±å¯¹åº”äº†ä¸­åºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ å¼€å§‹åˆ° æ ¹èŠ‚ç‚¹å®šä½-1ã€çš„å…ƒç´ </span><br><span class="line">        root-&gt;left = myBuildTree(preorder, inorder, preorder_left + 1, preorder_left + size_left_subtree, inorder_left, inorder_root - 1);</span><br><span class="line">        // é€’å½’åœ°æ„é€ å³å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹</span><br><span class="line">        // å…ˆåºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ+1+å·¦å­æ ‘èŠ‚ç‚¹æ•°ç›® å¼€å§‹åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ å°±å¯¹åº”äº†ä¸­åºéå†ä¸­ã€Œä» æ ¹èŠ‚ç‚¹å®šä½+1 åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ </span><br><span class="line">        root-&gt;right = myBuildTree(preorder, inorder, preorder_left + size_left_subtree + 1, preorder_right, inorder_root + 1, inorder_right);</span><br><span class="line">        return root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TreeNode* buildTree(vector&lt;int&gt;&amp; preorder, vector&lt;int&gt;&amp; inorder) &#123;</span><br><span class="line">        int n = preorder.size();</span><br><span class="line">        // æ„é€ å“ˆå¸Œæ˜ å°„ï¼Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½æ ¹èŠ‚ç‚¹</span><br><span class="line">        for (int i = 0; i &lt; n; ++i) &#123;</span><br><span class="line">            index[inorder[i]] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        return myBuildTree(preorder, inorder, 0, n - 1, 0, n - 1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    private Map&lt;Integer, Integer&gt; indexMap;</span><br><span class="line"></span><br><span class="line">    public TreeNode myBuildTree(int[] preorder, int[] inorder, int preorder_left, int preorder_right, int inorder_left, int inorder_right) &#123;</span><br><span class="line">        if (preorder_left &gt; preorder_right) &#123;</span><br><span class="line">            return null;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // å‰åºéå†ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹</span><br><span class="line">        int preorder_root = preorder_left;</span><br><span class="line">        // åœ¨ä¸­åºéå†ä¸­å®šä½æ ¹èŠ‚ç‚¹</span><br><span class="line">        int inorder_root = indexMap.get(preorder[preorder_root]);</span><br><span class="line">        </span><br><span class="line">        // å…ˆæŠŠæ ¹èŠ‚ç‚¹å»ºç«‹å‡ºæ¥</span><br><span class="line">        TreeNode root = new TreeNode(preorder[preorder_root]);</span><br><span class="line">        // å¾—åˆ°å·¦å­æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ç›®</span><br><span class="line">        int size_left_subtree = inorder_root - inorder_left;</span><br><span class="line">        // é€’å½’åœ°æ„é€ å·¦å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹</span><br><span class="line">        // å…ˆåºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ+1 å¼€å§‹çš„ size_left_subtreeã€ä¸ªå…ƒç´ å°±å¯¹åº”äº†ä¸­åºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ å¼€å§‹åˆ° æ ¹èŠ‚ç‚¹å®šä½-1ã€çš„å…ƒç´ </span><br><span class="line">        root.left = myBuildTree(preorder, inorder, preorder_left + 1, preorder_left + size_left_subtree, inorder_left, inorder_root - 1);</span><br><span class="line">        // é€’å½’åœ°æ„é€ å³å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹</span><br><span class="line">        // å…ˆåºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ+1+å·¦å­æ ‘èŠ‚ç‚¹æ•°ç›® å¼€å§‹åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ å°±å¯¹åº”äº†ä¸­åºéå†ä¸­ã€Œä» æ ¹èŠ‚ç‚¹å®šä½+1 åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ </span><br><span class="line">        root.right = myBuildTree(preorder, inorder, preorder_left + size_left_subtree + 1, preorder_right, inorder_root + 1, inorder_right);</span><br><span class="line">        return root;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public TreeNode buildTree(int[] preorder, int[] inorder) &#123;</span><br><span class="line">        int n = preorder.length;</span><br><span class="line">        // æ„é€ å“ˆå¸Œæ˜ å°„ï¼Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½æ ¹èŠ‚ç‚¹</span><br><span class="line">        indexMap = new HashMap&lt;Integer, Integer&gt;();</span><br><span class="line">        for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">            indexMap.put(inorder[i], i);</span><br><span class="line">        &#125;</span><br><span class="line">        return myBuildTree(preorder, inorder, 0, n - 1, 0, n - 1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def buildTree(self, preorder: List[int], inorder: List[int]) -&gt; TreeNode:</span><br><span class="line">        def myBuildTree(preorder_left: int, preorder_right: int, inorder_left: int, inorder_right: int):</span><br><span class="line">            if preorder_left &gt; preorder_right:</span><br><span class="line">                return None</span><br><span class="line">            </span><br><span class="line">            # å‰åºéå†ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹</span><br><span class="line">            preorder_root = preorder_left</span><br><span class="line">            # åœ¨ä¸­åºéå†ä¸­å®šä½æ ¹èŠ‚ç‚¹</span><br><span class="line">            inorder_root = index[preorder[preorder_root]]</span><br><span class="line">            </span><br><span class="line">            # å…ˆæŠŠæ ¹èŠ‚ç‚¹å»ºç«‹å‡ºæ¥</span><br><span class="line">            root = TreeNode(preorder[preorder_root])</span><br><span class="line">            # å¾—åˆ°å·¦å­æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ç›®</span><br><span class="line">            size_left_subtree = inorder_root - inorder_left</span><br><span class="line">            # é€’å½’åœ°æ„é€ å·¦å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹</span><br><span class="line">            # å…ˆåºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ+1 å¼€å§‹çš„ size_left_subtreeã€ä¸ªå…ƒç´ å°±å¯¹åº”äº†ä¸­åºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ å¼€å§‹åˆ° æ ¹èŠ‚ç‚¹å®šä½-1ã€çš„å…ƒç´ </span><br><span class="line">            root.left = myBuildTree(preorder_left + 1, preorder_left + size_left_subtree, inorder_left, inorder_root - 1)</span><br><span class="line">            # é€’å½’åœ°æ„é€ å³å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹</span><br><span class="line">            # å…ˆåºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ+1+å·¦å­æ ‘èŠ‚ç‚¹æ•°ç›® å¼€å§‹åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ å°±å¯¹åº”äº†ä¸­åºéå†ä¸­ã€Œä» æ ¹èŠ‚ç‚¹å®šä½+1 åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ </span><br><span class="line">            root.right = myBuildTree(preorder_left + size_left_subtree + 1, preorder_right, inorder_root + 1, inorder_right)</span><br><span class="line">            return root</span><br><span class="line">        </span><br><span class="line">        n = len(preorder)</span><br><span class="line">        # æ„é€ å“ˆå¸Œæ˜ å°„ï¼Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½æ ¹èŠ‚ç‚¹</span><br><span class="line">        index = &#123;element: i for i, element in enumerate(inorder)&#125;</span><br><span class="line">        return myBuildTree(0, n - 1, 0, n - 1)</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">func buildTree(preorder []int, inorder []int) *TreeNode &#123;</span><br><span class="line">    if len(preorder) == 0 &#123;</span><br><span class="line">        return nil</span><br><span class="line">    &#125;</span><br><span class="line">    root := &amp;TreeNode&#123;preorder[0], nil, nil&#125;</span><br><span class="line">    i := 0</span><br><span class="line">    for ; i &lt; len(inorder); i++ &#123;</span><br><span class="line">        if inorder[i] == preorder[0] &#123;</span><br><span class="line">            break</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    root.Left = buildTree(preorder[1:len(inorder[:i])+1], inorder[:i])</span><br><span class="line">    root.Right = buildTree(preorder[len(inorder[:i])+1:], inorder[i+1:])</span><br><span class="line">    return root</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯æ ‘ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚<br>ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œé™¤å»è¿”å›çš„ç­”æ¡ˆéœ€è¦çš„ O(n) ç©ºé—´ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨ O(n) çš„ç©ºé—´å­˜å‚¨å“ˆå¸Œæ˜ å°„ï¼Œä»¥åŠ<br>O(h)ï¼ˆå…¶ä¸­ h æ˜¯æ ‘çš„é«˜åº¦ï¼‰çš„ç©ºé—´è¡¨ç¤ºé€’å½’æ—¶æ ˆç©ºé—´ã€‚è¿™é‡Œ h&lt;nï¼Œæ‰€ä»¥æ€»ç©ºé—´å¤æ‚åº¦ä¸º O(n)ã€‚</p><h1 id="æ–¹æ³•äºŒï¼šè¿­ä»£"><a href="#æ–¹æ³•äºŒï¼šè¿­ä»£" class="headerlink" title="æ–¹æ³•äºŒï¼šè¿­ä»£"></a>æ–¹æ³•äºŒï¼šè¿­ä»£</h1><h2 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è¿­ä»£æ³•æ˜¯ä¸€ç§éå¸¸å·§å¦™çš„å®ç°æ–¹æ³•ã€‚</p><p>å¯¹äºå‰åºéå†ä¸­çš„ä»»æ„ä¸¤ä¸ªè¿ç»­èŠ‚ç‚¹<br>u å’Œ vï¼Œæ ¹æ®å‰åºéå†çš„æµç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ u å’Œ v åªæœ‰ä¸¤ç§å¯èƒ½çš„å…³ç³»ï¼š<br>v æ˜¯ u çš„å·¦å„¿å­ã€‚è¿™æ˜¯å› ä¸ºåœ¨éå†åˆ° u ä¹‹åï¼Œä¸‹ä¸€ä¸ªéå†çš„èŠ‚ç‚¹å°±æ˜¯ u çš„å·¦å„¿å­ï¼Œå³ vï¼›</p><p>u æ²¡æœ‰å·¦å„¿å­ï¼Œå¹¶ä¸” v æ˜¯ u çš„æŸä¸ªç¥–å…ˆèŠ‚ç‚¹ï¼ˆæˆ–è€… u æœ¬èº«ï¼‰çš„å³å„¿å­ã€‚å¦‚æœ<br>u æ²¡æœ‰å·¦å„¿å­ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªéå†çš„èŠ‚ç‚¹å°±æ˜¯ u çš„å³å„¿å­ã€‚å¦‚æœ<br>u æ²¡æœ‰å³å„¿å­ï¼Œæˆ‘ä»¬å°±ä¼šå‘ä¸Šå›æº¯ï¼Œç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªæœ‰å³å„¿å­ï¼ˆä¸” u ä¸åœ¨å®ƒçš„å³å„¿å­çš„å­æ ‘ä¸­ï¼‰çš„èŠ‚ç‚¹ ua ï¼Œé‚£ä¹ˆ<br>v å°±æ˜¯ ua  çš„å³å„¿å­ã€‚</p><p>ç¬¬äºŒç§å…³ç³»çœ‹ä¸Šå»æœ‰äº›å¤æ‚ã€‚æˆ‘ä»¬ä¸¾ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜å…¶æ­£ç¡®æ€§ï¼Œå¹¶åœ¨ä¾‹å­ä¸­ç»™å‡ºæˆ‘ä»¬çš„è¿­ä»£ç®—æ³•ã€‚</p><p>æˆ‘ä»¬ä»¥æ ‘</p><pre><code>        3       / \      9  20     /  /  \    8  15   7   / \  5  10 /4</code></pre><p>ä¸ºä¾‹ï¼Œå®ƒçš„å‰åºéå†å’Œä¸­åºéå†åˆ†åˆ«ä¸º</p><p>preorder &#x3D; [3, 9, 8, 5, 4, 10, 20, 15, 7]<br>inorder &#x3D; [4, 5, 8, 10, 9, 3, 15, 20, 7]</p><p>æˆ‘ä»¬ç”¨ä¸€ä¸ªæ ˆ stack æ¥ç»´æŠ¤ã€Œå½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰è¿˜æ²¡æœ‰è€ƒè™‘è¿‡å³å„¿å­çš„ç¥–å…ˆèŠ‚ç‚¹ã€ï¼Œæ ˆé¡¶å°±æ˜¯å½“å‰èŠ‚ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åœ¨æ ˆä¸­çš„èŠ‚ç‚¹æ‰å¯èƒ½è¿æ¥ä¸€ä¸ªæ–°çš„å³å„¿å­ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªæŒ‡é’ˆ index æŒ‡å‘ä¸­åºéå†çš„æŸä¸ªä½ç½®ï¼Œåˆå§‹å€¼ä¸º 0ã€‚index å¯¹åº”çš„èŠ‚ç‚¹æ˜¯ã€Œå½“å‰èŠ‚ç‚¹ä¸æ–­å¾€å·¦èµ°è¾¾åˆ°çš„æœ€ç»ˆèŠ‚ç‚¹ã€ï¼Œè¿™ä¹Ÿæ˜¯ç¬¦åˆä¸­åºéå†çš„ï¼Œå®ƒçš„ä½œç”¨åœ¨ä¸‹é¢çš„è¿‡ç¨‹ä¸­ä¼šæœ‰æ‰€ä½“ç°ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬å°†æ ¹èŠ‚ç‚¹ 3 å…¥æ ˆï¼Œå†åˆå§‹åŒ– index æ‰€æŒ‡å‘çš„èŠ‚ç‚¹ä¸º 4ï¼Œéšåå¯¹äºå‰åºéå†ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬ä¾æ¬¡åˆ¤æ–­å®ƒæ˜¯æ ˆé¡¶èŠ‚ç‚¹çš„å·¦å„¿å­ï¼Œè¿˜æ˜¯æ ˆä¸­æŸä¸ªèŠ‚ç‚¹çš„å³å„¿å­ã€‚</p><p>æˆ‘ä»¬éå† 9ã€‚9 ä¸€å®šæ˜¯æ ˆé¡¶èŠ‚ç‚¹ 3 çš„å·¦å„¿å­ã€‚æˆ‘ä»¬ä½¿ç”¨åè¯æ³•ï¼Œå‡è®¾ 9 æ˜¯ 3 çš„å³å„¿å­ï¼Œé‚£ä¹ˆ 3 æ²¡æœ‰å·¦å„¿å­ï¼Œindex åº”è¯¥æ°å¥½æŒ‡å‘ 3ï¼Œä½†å®é™…ä¸Šä¸º 4ï¼Œå› æ­¤äº§ç”Ÿäº†çŸ›ç›¾ã€‚æ‰€ä»¥æˆ‘ä»¬å°† 9 ä½œä¸º 3 çš„å·¦å„¿å­ï¼Œå¹¶å°† 9 å…¥æ ˆã€‚</p><p>stack &#x3D; [3, 9]<br>index -&gt; inorder[0] &#x3D; 4</p><p>æˆ‘ä»¬éå† 8ï¼Œ5 å’Œ 4ã€‚åŒç†å¯å¾—å®ƒä»¬éƒ½æ˜¯ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼ˆæ ˆé¡¶èŠ‚ç‚¹ï¼‰çš„å·¦å„¿å­ï¼Œæ‰€ä»¥å®ƒä»¬ä¼šä¾æ¬¡å…¥æ ˆã€‚</p><p>stack &#x3D; [3, 9, 8, 5, 4]<br>index -&gt; inorder[0] &#x3D; 4</p><p>æˆ‘ä»¬éå† 10ï¼Œè¿™æ—¶æƒ…å†µå°±ä¸ä¸€æ ·äº†ã€‚æˆ‘ä»¬å‘ç° index æ°å¥½æŒ‡å‘å½“å‰çš„æ ˆé¡¶èŠ‚ç‚¹ 4ï¼Œä¹Ÿå°±æ˜¯è¯´ 4 æ²¡æœ‰å·¦å„¿å­ï¼Œé‚£ä¹ˆ 10 å¿…é¡»ä¸ºæ ˆä¸­æŸä¸ªèŠ‚ç‚¹çš„å³å„¿å­ã€‚é‚£ä¹ˆå¦‚ä½•æ‰¾åˆ°è¿™ä¸ªèŠ‚ç‚¹å‘¢ï¼Ÿæ ˆä¸­çš„èŠ‚ç‚¹çš„é¡ºåºå’Œå®ƒä»¬åœ¨å‰åºéå†ä¸­å‡ºç°çš„é¡ºåºæ˜¯ä¸€è‡´çš„ï¼Œè€Œä¸”æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å³å„¿å­éƒ½è¿˜æ²¡æœ‰è¢«éå†è¿‡ï¼Œé‚£ä¹ˆè¿™äº›èŠ‚ç‚¹çš„é¡ºåºå’Œå®ƒä»¬åœ¨ä¸­åºéå†ä¸­å‡ºç°çš„é¡ºåºä¸€å®šæ˜¯ç›¸åçš„ã€‚</p><p>è¿™æ˜¯å› ä¸ºæ ˆä¸­çš„ä»»æ„ä¸¤ä¸ªç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå‰è€…éƒ½æ˜¯åè€…çš„æŸä¸ªç¥–å…ˆã€‚å¹¶ä¸”æˆ‘ä»¬çŸ¥é“ï¼Œæ ˆä¸­çš„ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„å³å„¿å­è¿˜æ²¡æœ‰è¢«éå†è¿‡ï¼Œè¯´æ˜åè€…ä¸€å®šæ˜¯å‰è€…å·¦å„¿å­çš„å­æ ‘ä¸­çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆåè€…å°±å…ˆäºå‰è€…å‡ºç°åœ¨ä¸­åºéå†ä¸­ã€‚</p><p>å› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠ index ä¸æ–­å‘å³ç§»åŠ¨ï¼Œå¹¶ä¸æ ˆé¡¶èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœ index å¯¹åº”çš„å…ƒç´ æ°å¥½ç­‰äºæ ˆé¡¶èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯´æ˜æˆ‘ä»¬åœ¨ä¸­åºéå†ä¸­æ‰¾åˆ°äº†æ ˆé¡¶èŠ‚ç‚¹ï¼Œæ‰€ä»¥å°† index å¢åŠ  1 å¹¶å¼¹å‡ºæ ˆé¡¶èŠ‚ç‚¹ï¼Œç›´åˆ° index å¯¹åº”çš„å…ƒç´ ä¸ç­‰äºæ ˆé¡¶èŠ‚ç‚¹ã€‚æŒ‰ç…§è¿™æ ·çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¼¹å‡ºçš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ x å°±æ˜¯ 10 çš„åŒäº²èŠ‚ç‚¹ï¼Œè¿™æ˜¯å› ä¸º 10 å‡ºç°åœ¨äº† x ä¸ x åœ¨æ ˆä¸­çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä¸­åºéå†ä¹‹é—´ï¼Œå› æ­¤ 10 å°±æ˜¯ x çš„å³å„¿å­ã€‚</p><p>å›åˆ°æˆ‘ä»¬çš„ä¾‹å­ï¼Œæˆ‘ä»¬ä¼šä¾æ¬¡ä»æ ˆé¡¶å¼¹å‡º 4ï¼Œ5 å’Œ 8ï¼Œå¹¶ä¸”å°† index å‘å³ç§»åŠ¨äº†ä¸‰æ¬¡ã€‚æˆ‘ä»¬å°† 10 ä½œä¸ºæœ€åå¼¹å‡ºçš„èŠ‚ç‚¹ 8 çš„å³å„¿å­ï¼Œå¹¶å°† 10 å…¥æ ˆã€‚</p><p>stack &#x3D; [3, 9, 10]<br>index -&gt; inorder[3] &#x3D; 10</p><p>æˆ‘ä»¬éå† 20ã€‚åŒç†ï¼Œindex æ°å¥½æŒ‡å‘å½“å‰æ ˆé¡¶èŠ‚ç‚¹ 10ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šä¾æ¬¡ä»æ ˆé¡¶å¼¹å‡º 10ï¼Œ9 å’Œ 3ï¼Œå¹¶ä¸”å°† index å‘å³ç§»åŠ¨äº†ä¸‰æ¬¡ã€‚æˆ‘ä»¬å°† 20 ä½œä¸ºæœ€åå¼¹å‡ºçš„èŠ‚ç‚¹ 3 çš„å³å„¿å­ï¼Œå¹¶å°† 20 å…¥æ ˆã€‚</p><p>stack &#x3D; [20]<br>index -&gt; inorder[6] &#x3D; 15</p><p>æˆ‘ä»¬éå† 15ï¼Œå°† 15 ä½œä¸ºæ ˆé¡¶èŠ‚ç‚¹ 20 çš„å·¦å„¿å­ï¼Œå¹¶å°† 15 å…¥æ ˆã€‚</p><p>stack &#x3D; [20, 15]<br>index -&gt; inorder[6] &#x3D; 15</p><p>æˆ‘ä»¬éå† 7ã€‚index æ°å¥½æŒ‡å‘å½“å‰æ ˆé¡¶èŠ‚ç‚¹ 15ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šä¾æ¬¡ä»æ ˆé¡¶å¼¹å‡º 15 å’Œ 20ï¼Œå¹¶ä¸”å°† index å‘å³ç§»åŠ¨äº†ä¸¤æ¬¡ã€‚æˆ‘ä»¬å°† 7 ä½œä¸ºæœ€åå¼¹å‡ºçš„èŠ‚ç‚¹ 20 çš„å³å„¿å­ï¼Œå¹¶å°† 7 å…¥æ ˆã€‚</p><p>stack &#x3D; [7]<br>index -&gt; inorder[8] &#x3D; 7</p><p>æ­¤æ—¶éå†ç»“æŸï¼Œæˆ‘ä»¬å°±æ„é€ å‡ºäº†æ­£ç¡®çš„äºŒå‰æ ‘ã€‚</p><h2 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h2><p>æˆ‘ä»¬å½’çº³å‡ºä¸Šè¿°ä¾‹å­ä¸­çš„ç®—æ³•æµç¨‹ï¼š</p><p>æˆ‘ä»¬ç”¨ä¸€ä¸ªæ ˆå’Œä¸€ä¸ªæŒ‡é’ˆè¾…åŠ©è¿›è¡ŒäºŒå‰æ ‘çš„æ„é€ ã€‚åˆå§‹æ—¶æ ˆä¸­å­˜æ”¾äº†æ ¹èŠ‚ç‚¹ï¼ˆå‰åºéå†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ï¼ŒæŒ‡é’ˆæŒ‡å‘ä¸­åºéå†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼›</p><p>æˆ‘ä»¬ä¾æ¬¡æšä¸¾å‰åºéå†ä¸­é™¤äº†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä»¥å¤–çš„æ¯ä¸ªèŠ‚ç‚¹ã€‚å¦‚æœ index æ°å¥½æŒ‡å‘æ ˆé¡¶èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸æ–­åœ°å¼¹å‡ºæ ˆé¡¶èŠ‚ç‚¹å¹¶å‘å³ç§»åŠ¨ indexï¼Œå¹¶å°†å½“å‰èŠ‚ç‚¹ä½œä¸ºæœ€åä¸€ä¸ªå¼¹å‡ºçš„èŠ‚ç‚¹çš„å³å„¿å­ï¼›å¦‚æœ index å’Œæ ˆé¡¶èŠ‚ç‚¹ä¸åŒï¼Œæˆ‘ä»¬å°†å½“å‰èŠ‚ç‚¹ä½œä¸ºæ ˆé¡¶èŠ‚ç‚¹çš„å·¦å„¿å­ï¼›</p><p>æ— è®ºæ˜¯å“ªä¸€ç§æƒ…å†µï¼Œæˆ‘ä»¬æœ€åéƒ½å°†å½“å‰çš„èŠ‚ç‚¹å…¥æ ˆã€‚<br>æœ€åå¾—åˆ°çš„äºŒå‰æ ‘å³ä¸ºç­”æ¡ˆã€‚</p><details>    <summary>C++</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    TreeNode* buildTree(vector&lt;int&gt;&amp; preorder, vector&lt;int&gt;&amp; inorder) &#123;</span><br><span class="line">        if (!preorder.size()) &#123;</span><br><span class="line">            return nullptr;</span><br><span class="line">        &#125;</span><br><span class="line">        TreeNode* root = new TreeNode(preorder[0]);</span><br><span class="line">        stack&lt;TreeNode*&gt; stk;</span><br><span class="line">        stk.push(root);</span><br><span class="line">        int inorderIndex = 0;</span><br><span class="line">        for (int i = 1; i &lt; preorder.size(); ++i) &#123;</span><br><span class="line">            int preorderVal = preorder[i];</span><br><span class="line">            TreeNode* node = stk.top();</span><br><span class="line">            if (node-&gt;val != inorder[inorderIndex]) &#123;</span><br><span class="line">                node-&gt;left = new TreeNode(preorderVal);</span><br><span class="line">                stk.push(node-&gt;left);</span><br><span class="line">            &#125;</span><br><span class="line">            else &#123;</span><br><span class="line">                while (!stk.empty() &amp;&amp; stk.top()-&gt;val == inorder[inorderIndex]) &#123;</span><br><span class="line">                    node = stk.top();</span><br><span class="line">                    stk.pop();</span><br><span class="line">                    ++inorderIndex;</span><br><span class="line">                &#125;</span><br><span class="line">                node-&gt;right = new TreeNode(preorderVal);</span><br><span class="line">                stk.push(node-&gt;right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    public TreeNode buildTree(int[] preorder, int[] inorder) &#123;</span><br><span class="line">        if (preorder == null || preorder.length == 0) &#123;</span><br><span class="line">            return null;</span><br><span class="line">        &#125;</span><br><span class="line">        TreeNode root = new TreeNode(preorder[0]);</span><br><span class="line">        Deque&lt;TreeNode&gt; stack = new LinkedList&lt;TreeNode&gt;();</span><br><span class="line">        stack.push(root);</span><br><span class="line">        int inorderIndex = 0;</span><br><span class="line">        for (int i = 1; i &lt; preorder.length; i++) &#123;</span><br><span class="line">            int preorderVal = preorder[i];</span><br><span class="line">            TreeNode node = stack.peek();</span><br><span class="line">            if (node.val != inorder[inorderIndex]) &#123;</span><br><span class="line">                node.left = new TreeNode(preorderVal);</span><br><span class="line">                stack.push(node.left);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                while (!stack.isEmpty() &amp;&amp; stack.peek().val == inorder[inorderIndex]) &#123;</span><br><span class="line">                    node = stack.pop();</span><br><span class="line">                    inorderIndex++;</span><br><span class="line">                &#125;</span><br><span class="line">                node.right = new TreeNode(preorderVal);</span><br><span class="line">                stack.push(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution:</span><br><span class="line">    def buildTree(self, preorder: List[int], inorder: List[int]) -&gt; TreeNode:</span><br><span class="line">        if not preorder:</span><br><span class="line">            return None</span><br><span class="line"></span><br><span class="line">        root = TreeNode(preorder[0])</span><br><span class="line">        stack = [root]</span><br><span class="line">        inorderIndex = 0</span><br><span class="line">        for i in range(1, len(preorder)):</span><br><span class="line">            preorderVal = preorder[i]</span><br><span class="line">            node = stack[-1]</span><br><span class="line">            if node.val != inorder[inorderIndex]:</span><br><span class="line">                node.left = TreeNode(preorderVal)</span><br><span class="line">                stack.append(node.left)</span><br><span class="line">            else:</span><br><span class="line">                while stack and stack[-1].val == inorder[inorderIndex]:</span><br><span class="line">                    node = stack.pop()</span><br><span class="line">                    inorderIndex += 1</span><br><span class="line">                node.right = TreeNode(preorderVal)</span><br><span class="line">                stack.append(node.right)</span><br><span class="line"></span><br><span class="line">        return root</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">func buildTree(preorder []int, inorder []int) *TreeNode &#123;</span><br><span class="line">    if len(preorder) == 0 &#123;</span><br><span class="line">        return nil</span><br><span class="line">    &#125;</span><br><span class="line">    root := &amp;TreeNode&#123;preorder[0], nil, nil&#125;</span><br><span class="line">    stack := []*TreeNode&#123;&#125;</span><br><span class="line">    stack = append(stack, root)</span><br><span class="line">    var inorderIndex int</span><br><span class="line">    for i := 1; i &lt; len(preorder); i++ &#123;</span><br><span class="line">        preorderVal := preorder[i]</span><br><span class="line">        node := stack[len(stack)-1]</span><br><span class="line">        if node.Val != inorder[inorderIndex] &#123;</span><br><span class="line">            node.Left = &amp;TreeNode&#123;preorderVal, nil, nil&#125;</span><br><span class="line">            stack = append(stack, node.Left)</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            for len(stack) != 0 &amp;&amp; stack[len(stack)-1].Val == inorder[inorderIndex] &#123;</span><br><span class="line">                node = stack[len(stack)-1]</span><br><span class="line">                stack = stack[:len(stack)-1]</span><br><span class="line">                inorderIndex++</span><br><span class="line">            &#125;</span><br><span class="line">            node.Right = &amp;TreeNode&#123;preorderVal, nil, nil&#125;</span><br><span class="line">            stack = append(stack, node.Right)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return root</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ-1"><a href="#å¤æ‚åº¦åˆ†æ-1" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼š<br>O(n)ï¼Œå…¶ä¸­ n æ˜¯æ ‘ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ï¼š<br>O(n)ï¼Œé™¤å»è¿”å›çš„ç­”æ¡ˆéœ€è¦çš„ O(n) ç©ºé—´ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨ O(h)ï¼ˆå…¶ä¸­ h æ˜¯æ ‘çš„é«˜åº¦ï¼‰çš„ç©ºé—´å­˜å‚¨æ ˆã€‚è¿™é‡Œh&lt;nï¼Œæ‰€ä»¥ï¼ˆåœ¨æœ€åæƒ…å†µä¸‹ï¼‰æ€»ç©ºé—´å¤æ‚åº¦ä¸º O(n)ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´7æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B47%E6%9C%88/"/>
    
    
    <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
    <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
    <category term="Hash Table" scheme="http://yoursite.com/tags/Hash-Table/"/>
    
    <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
    <category term="Divide and Conquer" scheme="http://yoursite.com/tags/Divide-and-Conquer/"/>
    
    <category term="Binary Tree" scheme="http://yoursite.com/tags/Binary-Tree/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://yoursite.com/2022/06/13/Flask%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://yoursite.com/2022/06/13/Flask%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</id>
    <published>2022-06-13T10:00:12.000Z</published>
    <updated>2022-07-07T09:03:20.135Z</updated>
    
    <content type="html"><![CDATA[<p>Flaskå­¦ä¹ ç¬”è®°</p><span id="more"></span><p>[TOC]</p><p>å­¦ä¹ æ•™ç¨‹å‚è€ƒ<a href="https://www.w3cschool.cn/flask/flask_application.html">^1</a></p><h1 id="å‘½ä»¤è¡Œå¯åŠ¨notebook"><a href="#å‘½ä»¤è¡Œå¯åŠ¨notebook" class="headerlink" title="å‘½ä»¤è¡Œå¯åŠ¨notebook"></a>å‘½ä»¤è¡Œå¯åŠ¨notebook</h1><p>python3 -m IPython notebook</p><p>-må‚æ•° â€œmodâ€æ˜¯â€œmoduleâ€çš„ç¼©å†™ï¼Œå³â€œ-mâ€é€‰é¡¹åé¢çš„å†…å®¹æ˜¯ moduleï¼ˆæ¨¡å—ï¼‰ï¼Œå…¶ä½œç”¨æ˜¯æŠŠæ¨¡å—å½“æˆè„šæœ¬æ¥è¿è¡Œã€‚<a href="https://zhuanlan.zhihu.com/p/91120727">^4</a></p><h1 id="å†…ç½®å˜é‡ï¼šname"><a href="#å†…ç½®å˜é‡ï¼šname" class="headerlink" title="å†…ç½®å˜é‡ï¼šname"></a>å†…ç½®å˜é‡ï¼š<strong>name</strong></h1><h2 id="ä¸åŒæƒ…å†µä¸‹çš„-name-çš„å€¼-2"><a href="#ä¸åŒæƒ…å†µä¸‹çš„-name-çš„å€¼-2" class="headerlink" title="ä¸åŒæƒ…å†µä¸‹çš„ name çš„å€¼^2"></a>ä¸åŒæƒ…å†µä¸‹çš„ <strong>name</strong> çš„å€¼<a href="https://zhuanlan.zhihu.com/p/157439994">^2</a></h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“ <strong>name</strong> åœ¨ä¸åŒæƒ…å†µä¸‹ä¼šæœ‰ä¸åŒå€¼ï¼Œå®ƒçš„å€¼å–å†³äºæˆ‘ä»¬æ˜¯å¦‚ä½•æ‰§è¡Œè„šæœ¬çš„.</p><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ç”¨ Python å†™äº†ä¸€ä¸ªè„šæœ¬ï¼Œå½“æˆ‘ä»¬æ—¢å¸Œæœ›è¿™ä¸ªè„šæœ¬å¯ä»¥å•ç‹¬è¿è¡Œï¼ŒåŒæ ·å¸Œæœ›å®ƒå¯ä»¥åœ¨å…¶ä»–çš„è„šæœ¬ä¸­å‘æŒ¥ä½œç”¨. è¿™ä¸ªæ—¶å€™å°±éœ€è¦è€ƒè™‘ä½¿ç”¨ <strong>name</strong> äº†. </p><h1 id="è¿è¡Œé‡åˆ°çš„é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ"><a href="#è¿è¡Œé‡åˆ°çš„é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ" class="headerlink" title="è¿è¡Œé‡åˆ°çš„é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ"></a>è¿è¡Œé‡åˆ°çš„é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ</h1><h2 id="zmq-error-ZMQError-Address-already-in-use-3"><a href="#zmq-error-ZMQError-Address-already-in-use-3" class="headerlink" title="zmq.error.ZMQError: Address already in use ^3"></a>zmq.error.ZMQError: Address already in use <a href="https://www.cnblogs.com/shengulong/p/8207179.html">^3</a></h2><pre><code>app.run(debug = True)</code></pre><p>å¼€å¯debugæ¨¡å¼åç«¯å£æŠ¥è¢«å ç”¨</p><p>ä¹‹å‰ç”¨çš„æ˜¯<a href="http://localhost:5000/">http://localhost:5000</a></p><p>sudo lsof -i:5000</p><p>sudo kill PID</p><h2 id="æŸ¥æ‰¾æŒ‡å®šåç§°ï¼ˆä¾‹å¦‚pythonï¼‰çš„è¿›ç¨‹å¹¶æ˜¾ç¤ºè¿›ç¨‹è¯¦ç»†ä¿¡æ¯"><a href="#æŸ¥æ‰¾æŒ‡å®šåç§°ï¼ˆä¾‹å¦‚pythonï¼‰çš„è¿›ç¨‹å¹¶æ˜¾ç¤ºè¿›ç¨‹è¯¦ç»†ä¿¡æ¯" class="headerlink" title="æŸ¥æ‰¾æŒ‡å®šåç§°ï¼ˆä¾‹å¦‚pythonï¼‰çš„è¿›ç¨‹å¹¶æ˜¾ç¤ºè¿›ç¨‹è¯¦ç»†ä¿¡æ¯"></a>æŸ¥æ‰¾æŒ‡å®šåç§°ï¼ˆä¾‹å¦‚pythonï¼‰çš„è¿›ç¨‹å¹¶æ˜¾ç¤ºè¿›ç¨‹è¯¦ç»†ä¿¡æ¯</h2><p>ps -ef  | grep python</p><p>ä½†æ˜¯å¦‚æœå…³æ‰flaskçš„debugæ¨¡å¼ï¼Œå°±æ²¡æœ‰é—®é¢˜</p><p>6ã€åŸå› æ˜¯ï¼šflaskçš„debugæ¨¡å¼ä¼šé¢å¤–å¼€å¯ä¸€ä¸ªè¿›ç¨‹ï¼Œè¿™ä¸ªè¿›ç¨‹è´Ÿè´£ç›‘æ§ä»£ç æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœå‘ç”Ÿå˜åŒ–ï¼Œä¼šè‡ªåŠ¨é‡å¯åº”ç”¨ï¼Œä½¿æ–°ä¿®æ”¹ä»£ç ç«‹å³è‡ªåŠ¨ç”Ÿæ•ˆï¼›å› æ­¤æˆ‘çŒœæƒ³ï¼Œæ˜¯è¿™ä¸ªè¿›ç¨‹ç ´åäº†rpcæœåŠ¡çš„å¯åŠ¨ã€‚</p><p>DEBUGæ¨¡å¼ä¸‹flaskå¤šå¼€ä¸€ä¸ªçº¿ç¨‹æ¥ç›‘è§†é¡¹ç›®çš„å˜åŒ–ã€‚</p><p>The first thing it does is start the main function in a new thread so it can monitor &gt;the source files and restart the thread when they change.</p><p>å‚è€ƒè‡ªè¿™ç¯‡æ–‡ç« <a href="http://stackoverflow.com/questions/9276078/whats-the-right-approach-for-calling-functions-after-a-flask-app-is-run%E3%80%82">http://stackoverflow.com/questions/9276078/whats-the-right-approach-for-calling-functions-after-a-flask-app-is-runã€‚</a></p><p>å¦‚æœä½ æƒ³è¦é¿å…åŠ è½½ä¸¤æ¬¡ï¼Œåº”è¯¥è®¾ç½®</p><pre><code>app.run(debug=True, use_reloader=False)</code></pre><h2 id="æ–‡ä»¶ä¸Šä¼ æŠ¥é”™ï¼šFileNotFoundError-Errno-2-No-such-file-or-directory"><a href="#æ–‡ä»¶ä¸Šä¼ æŠ¥é”™ï¼šFileNotFoundError-Errno-2-No-such-file-or-directory" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ æŠ¥é”™ï¼šFileNotFoundError: [Errno 2] No such file or directory:"></a>æ–‡ä»¶ä¸Šä¼ æŠ¥é”™ï¼šFileNotFoundError: [Errno 2] No such file or directory:</h2><p>æ ¹æ®ä»£ç å†…å®¹ï¼Œéœ€è¦åœ¨ä»£ç çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹uploadæ‰èƒ½ä¿å­˜æ–‡ä»¶</p><h2 id="Flask-WTF-ImportError-cannot-import-name-â€˜ContactFormâ€™-from-â€˜formsâ€™"><a href="#Flask-WTF-ImportError-cannot-import-name-â€˜ContactFormâ€™-from-â€˜formsâ€™" class="headerlink" title="Flask WTF : ImportError: cannot import name â€˜ContactFormâ€™ from â€˜formsâ€™"></a>Flask WTF : ImportError: cannot import name â€˜ContactFormâ€™ from â€˜formsâ€™</h2><p>è¿™ä¸ªContactFormæ˜¯è‡ªå·±å»ºçš„forms.pyæ–‡ä»¶ä¸­çš„ç±»</p><h2 id="ImportError-cannot-import-name-â€˜TextFieldâ€™-from-â€˜wtformsâ€™"><a href="#ImportError-cannot-import-name-â€˜TextFieldâ€™-from-â€˜wtformsâ€™" class="headerlink" title="ImportError: cannot import name â€˜TextFieldâ€™ from â€˜wtformsâ€™"></a>ImportError: cannot import name â€˜TextFieldâ€™ from â€˜wtformsâ€™</h2><p>åŸå› æ˜¯ç‰ˆæœ¬æ›´æ–°é—®é¢˜</p><pre><code>from wtforms import StringField</code></pre><p>ä½¿ç”¨StringFieldå³å¯</p><h2 id="AttributeError-module-â€˜wtforms-validatorsâ€™-has-no-attribute-â€˜Requiredâ€™"><a href="#AttributeError-module-â€˜wtforms-validatorsâ€™-has-no-attribute-â€˜Requiredâ€™" class="headerlink" title="AttributeError: module â€˜wtforms.validatorsâ€™ has no attribute â€˜Requiredâ€™"></a>AttributeError: module â€˜wtforms.validatorsâ€™ has no attribute â€˜Requiredâ€™</h2><p>looks like wtforms.validators split the Required into DataRequired and InputRequired in version version 1.0.2</p><p>æ–°ç‰ˆæœ¬å°†Requiredæ¢æˆInputRequired</p><h2 id="Install-â€˜email-validatorâ€™-for-email-validation-support"><a href="#Install-â€˜email-validatorâ€™-for-email-validation-support" class="headerlink" title="Install â€˜email_validatorâ€™ for email validation support."></a>Install â€˜email_validatorâ€™ for email validation support.</h2><p>è¿˜æ˜¯ç‰ˆæœ¬å…¼å®¹é—®é¢˜</p><h2 id="TypeError-init-takes-1-positional-argument-but-5-were-given"><a href="#TypeError-init-takes-1-positional-argument-but-5-were-given" class="headerlink" title="TypeError: init() takes 1 positional argument but 5 were given"></a>TypeError: <strong>init</strong>() takes 1 positional argument but 5 were given</h2><p>åœ¨ Flask SQLAlchemyä¸­ students çš„classåˆå§‹åŒ–å‡½æ•°å¦‚ä¸‹ï¼š</p><pre><code>def __init__(self, name, city, addr,pin):</code></pre><p>è°ƒç”¨çš„æ—¶å€™èµ‹å€¼ï¼š</p><pre><code> student = students(request.form[&#39;name&#39;], request.form[&#39;city&#39;],    request.form[&#39;addr&#39;], request.form[&#39;pin&#39;])</code></pre><p>æŠ¥é”™ï¼š</p><p>æ”¹æˆä¸‹åˆ—è°ƒç”¨æ–¹å¼å³å¯</p><pre><code>student = students(name = request.form[&#39;name&#39;], city = request.form[&#39;city&#39;],                           addr = request.form[&#39;addr&#39;], pin = request.form[&#39;pin&#39;])</code></pre>]]></content>
    
    
    <summary type="html">&lt;p&gt;Flaskå­¦ä¹ ç¬”è®°&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´6æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B46%E6%9C%88/"/>
    
    
    <category term="Python" scheme="http://yoursite.com/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>ä»æ–‡æœ¬ä¸­è¯»å–æ•°æ®</title>
    <link href="http://yoursite.com/2022/05/22/%E4%BB%8E%E6%96%87%E6%9C%AC%E4%B8%AD%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE/"/>
    <id>http://yoursite.com/2022/05/22/%E4%BB%8E%E6%96%87%E6%9C%AC%E4%B8%AD%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE/</id>
    <published>2022-05-22T00:12:12.000Z</published>
    <updated>2022-08-08T02:17:07.249Z</updated>
    
    <content type="html"><![CDATA[<p>ä»æ–‡æœ¬ä¸­è¯»å–æ•°æ®</p><span id="more"></span><p>[TOC]</p><p>ä¸€äº›æ¯”èµ›é‡åˆ°éœ€è¦ä»æ–‡æœ¬ä¸­è¯»å–è¾“å…¥æ•°æ®,è¯»å–æ–¹å¼å¦‚ä¸‹</p><h1 id="fstreamè¯»å–"><a href="#fstreamè¯»å–" class="headerlink" title="fstreamè¯»å–"></a>fstreamè¯»å–</h1><details>    <summary>ä»æ–‡æœ¬ä¸­è¯»å–æ–‡ä»¶</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;fstream&gt;</span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">int main() &#123;</span><br><span class="line">    ifstream inFile(&quot;in.txt&quot;);</span><br><span class="line">    ofstream outFile(&quot;out.txt&quot;);</span><br><span class="line">    if (!inFile.is_open())&#123;</span><br><span class="line">       cerr &lt;&lt; &quot;open file failed!&quot; &lt;&lt; endl;</span><br><span class="line">       exit(-1);</span><br><span class="line">    &#125;</span><br><span class="line">    int num=0;</span><br><span class="line">    string str;</span><br><span class="line">    inFile&gt;&gt;num;</span><br><span class="line">    cout&lt;&lt;num&lt;&lt;endl;</span><br><span class="line">    outFile&lt;&lt;num&lt;&lt;endl;</span><br><span class="line">    while(!inFile.eof())&#123;</span><br><span class="line">        getline(inFile, str);</span><br><span class="line">        cout&lt;&lt;str&lt;&lt;endl;</span><br><span class="line">        outFile&lt;&lt;str;</span><br><span class="line">    &#125;</span><br><span class="line">    inFile.close();</span><br><span class="line">    outFile.close();</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></details><h1 id="ä¿®æ”¹é…ç½®Product-gt-Scheme-gt-Edit-Scheme-gt-Run-test-on-the-right-gt-Options-middle-top-gt-Working-Directory"><a href="#ä¿®æ”¹é…ç½®Product-gt-Scheme-gt-Edit-Scheme-gt-Run-test-on-the-right-gt-Options-middle-top-gt-Working-Directory" class="headerlink" title="ä¿®æ”¹é…ç½®Product &gt; Scheme &gt; Edit Scheme &gt; Run test (on the right) &gt; Options (middle top)-&gt;Working Directory"></a>ä¿®æ”¹é…ç½®Product &gt; Scheme &gt; Edit Scheme &gt; Run test (on the right) &gt; Options (middle top)-&gt;Working Directory</h1><p>ä½†æ˜¯åœ¨Xcodeä¸­ä¸€å¼€å§‹æ— æ³•è¯»å…¥ï¼Œå‘ç°é—®é¢˜æ˜¯å› ä¸ºæ²¡æœ‰é…ç½®è·¯å¾„<a href="http://stackoverflow.com/questions/23438393/new-to-xcode-cant-open-files-in-c">^1</a></p><p>Put your .txt files in the same directory where your main.cpp file is (or anywhere you like).</p><p>In Xcode go to Product &gt; Scheme &gt; Edit Scheme &gt; Run test (on the right) &gt; Options (middle top) </p><p>Down under Options check â€œUse custom working directoryâ€ and set it to the directory where you .txt files are located. </p><p>To work with the files, you will have to specify just file names, e.g. in_file.open(â€œinputFile.txtâ€); no path is necessary.</p><details>    <summary>Java</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Scanner scanner = new Scanner(new File(System.getProperty(&quot;user.dir&quot;) + &quot;/src/in.txt&quot;));</span><br><span class="line">       while (scanner.hasNext()) &#123;</span><br><span class="line">           String number = scanner.nextLine();</span><br><span class="line">           Integer num = Integer.valueOf(number);</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import random</span><br><span class="line">with open(&#x27;number.txt&#x27;, &#x27;w&#x27;) as f:</span><br><span class="line">    for i in range(5):</span><br><span class="line">        f.write(str(random.randint(1, 10))+&#x27; &#x27;)</span><br><span class="line"></span><br><span class="line">L = []</span><br><span class="line">with open(&#x27;number.txt&#x27;, &#x27;r&#x27;) as f:</span><br><span class="line">    read_data = f.read()</span><br><span class="line">    strs = read_data.split();</span><br><span class="line">    for i in strs:</span><br><span class="line">        L.append(int(i))</span><br><span class="line">    L.sort()</span><br><span class="line">    print(L)</span><br><span class="line">     </span><br></pre></td></tr></table></figure></details><h1 id="Macä¸Šæ— æ³•è¯»å–data-inæ–‡ä»¶ï¼Œè€Œæ”¹æˆdata-inå°±å¯ä»¥è¯»å–"><a href="#Macä¸Šæ— æ³•è¯»å–data-inæ–‡ä»¶ï¼Œè€Œæ”¹æˆdata-inå°±å¯ä»¥è¯»å–" class="headerlink" title="Macä¸Šæ— æ³•è¯»å–data.inæ–‡ä»¶ï¼Œè€Œæ”¹æˆdata.inå°±å¯ä»¥è¯»å–"></a>Macä¸Šæ— æ³•è¯»å–data.inæ–‡ä»¶ï¼Œè€Œæ”¹æˆdata.inå°±å¯ä»¥è¯»å–</h1><p>é¦–å…ˆéœ€è¦ç¡®è®¤data.inæ–‡ä»¶åç¼€æ˜¯å¦ä¸ºtxtï¼Œæ‰“å¼€æ–‡ä»¶ç®€ä»‹ï¼Œè¦åœ¨ç®€ä»‹é‡Œæ‰èƒ½çœ‹åˆ°çœŸå®çš„æ‰©å±•å<br>çœ‹æ–‡ä»¶ç§ç±»ä¹Ÿå¯ä»¥åŒºåˆ†ï¼Œå¦‚æœæ˜¯txtåç¼€æ–‡ä»¶ç§ç±»æ˜¯çº¯æ–‡æœ¬æ–‡æ¡£ï¼Œ<br>å¦‚æœåç¼€å°±æ˜¯ä¸º.inæˆ–.outæ–‡ä»¶ç§ç±»å°±æ˜¯æ–‡æœ¬ç¼–è¾‘æ–‡æ¡£</p><p>ä½†ä¿®æ”¹åå‘ç°è¿˜æ˜¯ä¸è¡Œï¼ŒåŒæ ·çš„ä»£ç åœ¨windowsä¸‹ç”¨VSå¯ä»¥è¯»å–ï¼Œä½†åœ¨Macä¸‹ç”¨Xcodeæ— æ³•è¯»å–.inæ–‡ä»¶</p><h2 id="æœ€åå‘ç°å¦‚æœå…ˆç”¨ä»£ç åˆ›å»ºdata-inç„¶åå†è¯»å–å°±å¯ä»¥"><a href="#æœ€åå‘ç°å¦‚æœå…ˆç”¨ä»£ç åˆ›å»ºdata-inç„¶åå†è¯»å–å°±å¯ä»¥" class="headerlink" title="æœ€åå‘ç°å¦‚æœå…ˆç”¨ä»£ç åˆ›å»ºdata.inç„¶åå†è¯»å–å°±å¯ä»¥"></a>æœ€åå‘ç°å¦‚æœå…ˆç”¨ä»£ç åˆ›å»ºdata.inç„¶åå†è¯»å–å°±å¯ä»¥</h2><p>æ‰‹å·¥åˆ›å»ºå°±ä¸è¡Œï¼Œå¯èƒ½è¿˜æ˜¯æ‰‹åŠ¨åˆ›å»ºçš„æ–‡æœ¬æ ¼å¼ä¸å¯¹ã€‚ç”¨data.outå¤åˆ¶æ”¹åç¼€ä¸ºdata.inä¸€å¼€å§‹ä¹Ÿä¸è¡Œï¼Œåæ¥å¯ä»¥äº†ã€‚</p><h1 id="Visual-Studioè®¾ç½®æ–‡æœ¬è¾“å…¥è¾“å‡º"><a href="#Visual-Studioè®¾ç½®æ–‡æœ¬è¾“å…¥è¾“å‡º" class="headerlink" title="Visual Studioè®¾ç½®æ–‡æœ¬è¾“å…¥è¾“å‡º"></a>Visual Studioè®¾ç½®æ–‡æœ¬è¾“å…¥è¾“å‡º</h1><p>æ‰“å¼€è§£å†³æ–¹æ¡ˆç®¡ç†å™¨ç„¶ååœ¨ç®¡ç†æ–¹æ¡ˆé‚£é‡Œå³é”®ç‚¹å‡»ï¼Œé€‰æ‹©å±æ€§<br>ç„¶åé€‰æ‹©é€šé…å±æ€§ï¼Œé‡Œé¢çš„å‘½ä»¤è¡Œè®¾ç½®ä¸º&lt;input.txtè¡¨ç¤ºæŠŠæ–‡ä»¶input.txtä½œä¸ºæˆ‘ä»¬è¿è¡Œç¨‹åºçš„è¾“å…¥æµã€‚ </p><blockquote><p>output.txtè¡¨ç¤ºæŠŠæ–‡ä»¶output.txtä½œä¸ºç¨‹åºçš„è¾“å‡ºæµã€‚</p></blockquote><h1 id="Visual-Studioä¸€ä¸ªé¡¹ç›®ä¸‹å»ºç«‹å¤šä¸ªæºä»£ç "><a href="#Visual-Studioä¸€ä¸ªé¡¹ç›®ä¸‹å»ºç«‹å¤šä¸ªæºä»£ç " class="headerlink" title="Visual Studioä¸€ä¸ªé¡¹ç›®ä¸‹å»ºç«‹å¤šä¸ªæºä»£ç "></a>Visual Studioä¸€ä¸ªé¡¹ç›®ä¸‹å»ºç«‹å¤šä¸ªæºä»£ç </h1><p>åœ¨ä¸ç”¨åŒ…æ‹¬mainå‡½æ•°çš„ä»£ç ï¼Œå³é”®å±æ€§-ã€‹å¸¸è§„-ã€‹ä»ç”Ÿæˆä¸­æ’é™¤-ã€‹é€‰æ‹©æ˜¯<br>å°±ä¸ä¼šæŠ¥é”™äº†</p><h1 id="XCodeä¸€ä¸ªé¡¹ç›®ä¸‹å»ºç«‹å¤šä¸ªæºä»£ç "><a href="#XCodeä¸€ä¸ªé¡¹ç›®ä¸‹å»ºç«‹å¤šä¸ªæºä»£ç " class="headerlink" title="XCodeä¸€ä¸ªé¡¹ç›®ä¸‹å»ºç«‹å¤šä¸ªæºä»£ç "></a>XCodeä¸€ä¸ªé¡¹ç›®ä¸‹å»ºç«‹å¤šä¸ªæºä»£ç </h1><p>File-ã€‹New-ã€‹Target-ã€‹Command Line Tool</p><p>å°±å¯ä»¥æ–°å»ºï¼Œè¿è¡Œæ—¶é€‰æ‹©ä¸­é—´ä¸Šæ–¹é€‰æ‹©å½“å‰çš„targetç›®å½•å°±å¯ä»¥</p><h1 id="æ¯æ¬¡åˆ›å»ºæ–°çš„Targetæ—¶éƒ½è¦è®¾ç½®Product-gt-Scheme-gt-Edit-Scheme-gt-Run-test-on-the-right-gt-Options-middle-top-gt-Working-Directoryï¼Œ-ä¸ç„¶æ— æ³•è¯»å–æ–°æ–‡ä»¶ï¼ï¼ï¼"><a href="#æ¯æ¬¡åˆ›å»ºæ–°çš„Targetæ—¶éƒ½è¦è®¾ç½®Product-gt-Scheme-gt-Edit-Scheme-gt-Run-test-on-the-right-gt-Options-middle-top-gt-Working-Directoryï¼Œ-ä¸ç„¶æ— æ³•è¯»å–æ–°æ–‡ä»¶ï¼ï¼ï¼" class="headerlink" title="æ¯æ¬¡åˆ›å»ºæ–°çš„Targetæ—¶éƒ½è¦è®¾ç½®Product &gt; Scheme &gt; Edit Scheme &gt; Run test (on the right) &gt; Options (middle top)-&gt;Working Directoryï¼Œ ä¸ç„¶æ— æ³•è¯»å–æ–°æ–‡ä»¶ï¼ï¼ï¼"></a>æ¯æ¬¡åˆ›å»ºæ–°çš„Targetæ—¶éƒ½è¦è®¾ç½®Product &gt; Scheme &gt; Edit Scheme &gt; Run test (on the right) &gt; Options (middle top)-&gt;Working Directoryï¼Œ ä¸ç„¶æ— æ³•è¯»å–æ–°æ–‡ä»¶ï¼ï¼ï¼</h1>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä»æ–‡æœ¬ä¸­è¯»å–æ•°æ®&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´5æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B45%E6%9C%88/"/>
    
    
    <category term="fstream" scheme="http://yoursite.com/tags/fstream/"/>
    
  </entry>
  
  <entry>
    <title>399. é™¤æ³•æ±‚å€¼</title>
    <link href="http://yoursite.com/2022/03/09/399.%20%E9%99%A4%E6%B3%95%E6%B1%82%E5%80%BC/"/>
    <id>http://yoursite.com/2022/03/09/399.%20%E9%99%A4%E6%B3%95%E6%B1%82%E5%80%BC/</id>
    <published>2022-03-09T13:12:12.000Z</published>
    <updated>2022-03-09T15:02:31.470Z</updated>
    
    <content type="html"><![CDATA[<p>è¿”å› æ‰€æœ‰é™¤æ³•æ±‚å€¼é—®é¢˜çš„ç­”æ¡ˆ</p><span id="more"></span><p>[TOC]</p><p>ç»™ä½ ä¸€ä¸ªå˜é‡å¯¹æ•°ç»„ equations å’Œä¸€ä¸ªå®æ•°å€¼æ•°ç»„ values ä½œä¸ºå·²çŸ¥æ¡ä»¶ï¼Œå…¶ä¸­ equations[i] &#x3D; [Ai, Bi] å’Œ values[i] å…±åŒè¡¨ç¤ºç­‰å¼ Ai &#x2F; Bi &#x3D; values[i] ã€‚æ¯ä¸ª Ai æˆ– Bi æ˜¯ä¸€ä¸ªè¡¨ç¤ºå•ä¸ªå˜é‡çš„å­—ç¬¦ä¸²ã€‚</p><p>å¦æœ‰ä¸€äº›ä»¥æ•°ç»„ queries è¡¨ç¤ºçš„é—®é¢˜ï¼Œå…¶ä¸­ queries[j] &#x3D; [Cj, Dj] è¡¨ç¤ºç¬¬ j ä¸ªé—®é¢˜ï¼Œè¯·ä½ æ ¹æ®å·²çŸ¥æ¡ä»¶æ‰¾å‡º Cj &#x2F; Dj &#x3D; ? çš„ç»“æœä½œä¸ºç­”æ¡ˆã€‚</p><p>è¿”å› æ‰€æœ‰é—®é¢˜çš„ç­”æ¡ˆ ã€‚å¦‚æœå­˜åœ¨æŸä¸ªæ— æ³•ç¡®å®šçš„ç­”æ¡ˆï¼Œåˆ™ç”¨ -1.0 æ›¿ä»£è¿™ä¸ªç­”æ¡ˆã€‚å¦‚æœé—®é¢˜ä¸­å‡ºç°äº†ç»™å®šçš„å·²çŸ¥æ¡ä»¶ä¸­æ²¡æœ‰å‡ºç°çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿéœ€è¦ç”¨ -1.0 æ›¿ä»£è¿™ä¸ªç­”æ¡ˆã€‚</p><p>æ³¨æ„ï¼šè¾“å…¥æ€»æ˜¯æœ‰æ•ˆçš„ã€‚ä½ å¯ä»¥å‡è®¾é™¤æ³•è¿ç®—ä¸­ä¸ä¼šå‡ºç°é™¤æ•°ä¸º 0 çš„æƒ…å†µï¼Œä¸”ä¸å­˜åœ¨ä»»ä½•çŸ›ç›¾çš„ç»“æœã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šequations = [[&quot;a&quot;,&quot;b&quot;],[&quot;b&quot;,&quot;c&quot;]], values = [2.0,3.0], queries = [[&quot;a&quot;,&quot;c&quot;],[&quot;b&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;e&quot;],[&quot;a&quot;,&quot;a&quot;],[&quot;x&quot;,&quot;x&quot;]]è¾“å‡ºï¼š[6.00000,0.50000,-1.00000,1.00000,-1.00000]è§£é‡Šï¼šæ¡ä»¶ï¼ša / b = 2.0, b / c = 3.0é—®é¢˜ï¼ša / c = ?, b / a = ?, a / e = ?, a / a = ?, x / x = ?ç»“æœï¼š[6.0, 0.5, -1.0, 1.0, -1.0 ]</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šequations = [[&quot;a&quot;,&quot;b&quot;],[&quot;b&quot;,&quot;c&quot;],[&quot;bc&quot;,&quot;cd&quot;]], values = [1.5,2.5,5.0], queries = [[&quot;a&quot;,&quot;c&quot;],[&quot;c&quot;,&quot;b&quot;],[&quot;bc&quot;,&quot;cd&quot;],[&quot;cd&quot;,&quot;bc&quot;]]è¾“å‡ºï¼š[3.75000,0.40000,5.00000,0.20000]</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šequations = [[&quot;a&quot;,&quot;b&quot;]], values = [0.5], queries = [[&quot;a&quot;,&quot;b&quot;],[&quot;b&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;c&quot;],[&quot;x&quot;,&quot;y&quot;]]è¾“å‡ºï¼š[0.50000,2.00000,-1.00000,-1.00000]</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= equations.length &lt;= 20equations[i].length == 21 &lt;= Ai.length, Bi.length &lt;= 5values.length == equations.length0.0 &lt; values[i] &lt;= 20.01 &lt;= queries.length &lt;= 20queries[i].length == 21 &lt;= Cj.length, Dj.length &lt;= 5Ai, Bi, Cj, Dj ç”±å°å†™è‹±æ–‡å­—æ¯ä¸æ•°å­—ç»„æˆ</code></pre><p>è¿™é“é¢˜æ˜¯åœ¨ã€ŒåŠ›æ‰£ã€ç¬¬ 990 é¢˜ï¼ˆç­‰å¼æ–¹ç¨‹çš„å¯æ»¡è¶³æ€§ï¼‰çš„åŸºç¡€ä¸Šï¼Œåœ¨å˜é‡å’Œå˜é‡ä¹‹é—´æœ‰äº†å€æ•°å…³ç³»ã€‚ç”±äº å˜é‡ä¹‹é—´çš„å€æ•°å…³ç³»å…·æœ‰ä¼ é€’æ€§ï¼Œå¤„ç†æœ‰ä¼ é€’æ€§å…³ç³»çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ã€Œå¹¶æŸ¥é›†ã€ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¹¶æŸ¥é›†çš„ã€Œåˆå¹¶ã€ä¸ã€ŒæŸ¥è¯¢ã€æ“ä½œä¸­ ç»´æŠ¤è¿™äº›å˜é‡ä¹‹é—´çš„å€æ•°å…³ç³»ã€‚</p><p>è¯´æ˜ï¼šè¯·å¤§å®¶æ³¨æ„çœ‹ä¸€ä¸‹é¢˜ç›®ä¸­çš„ã€Œæ³¨æ„ã€å’Œã€Œæ•°æ®èŒƒå›´ã€ï¼Œä¾‹å¦‚ï¼šæ¯ä¸ª Ai æˆ– Bi æ˜¯ä¸€ä¸ªè¡¨ç¤ºå•ä¸ªå˜é‡çš„å­—ç¬¦ä¸²ã€‚æ‰€ä»¥ç”¨ä¾‹ equation &#x3D; [â€œabâ€, â€œcdâ€] ï¼Œè¿™é‡Œçš„ ab è§†ä¸ºä¸€ä¸ªå˜é‡ï¼Œä¸è¡¨ç¤º a * bã€‚å¦‚æœé¢è¯•ä¸­é‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œä¸€å®šè¦å’Œé¢è¯•å®˜ç¡®è®¤æ¸…æ¥šé¢˜ç›®çš„æ¡ä»¶ã€‚è¿˜æœ‰ 1 &lt;&#x3D; equations.length &lt;&#x3D; 20 å’Œ values[i] &gt; 0.0 å¯ä»¥é¿å…ä¸€äº›ç‰¹æ®Šæƒ…å†µçš„è®¨è®ºã€‚</p><h1 id="æ–¹æ³•ï¼šå¹¶æŸ¥é›†-1"><a href="#æ–¹æ³•ï¼šå¹¶æŸ¥é›†-1" class="headerlink" title="æ–¹æ³•ï¼šå¹¶æŸ¥é›†^1"></a>æ–¹æ³•ï¼šå¹¶æŸ¥é›†<a href="https://leetcode-cn.com/problems/evaluate-division/solution/399-chu-fa-qiu-zhi-nan-du-zhong-deng-286-w45d/">^1</a></h1><p>åˆ†æç¤ºä¾‹ 1ï¼š</p><ul><li>a &#x2F; b &#x3D; 2.0 è¯´æ˜ a&#x3D;2bï¼Œ a å’Œ b åœ¨åŒä¸€ä¸ªé›†åˆä¸­ï¼›</li><li>b &#x2F; c &#x3D; 3.0 è¯´æ˜ b&#x3D;3c ï¼Œb å’Œ c åœ¨åŒä¸€ä¸ªé›†åˆä¸­ã€‚</li></ul><p>æ±‚a&#x2F;cå’Œb&#x2F;a</p><p>æˆ‘ä»¬è®¡ç®—äº†ä¸¤ä¸ªç»“æœï¼Œä¸éš¾çŸ¥é“ï¼šå¯ä»¥å°†é¢˜ç›®ç»™å‡ºçš„ equation ä¸­çš„ä¸¤ä¸ªå˜é‡æ‰€åœ¨çš„é›†åˆè¿›è¡Œã€Œåˆå¹¶ã€ï¼ŒåŒåœ¨ä¸€ä¸ªé›†åˆä¸­çš„ä¸¤ä¸ªå˜é‡å°±å¯ä»¥é€šè¿‡æŸç§æ–¹å¼è®¡ç®—å‡ºå®ƒä»¬çš„æ¯”å€¼ã€‚å…·ä½“æ¥è¯´ï¼Œå¯ä»¥æŠŠ ä¸åŒçš„å˜é‡çš„æ¯”å€¼è½¬æ¢æˆä¸ºç›¸åŒçš„å˜é‡çš„æ¯”å€¼ï¼Œè¿™æ ·åœ¨åšé™¤æ³•çš„æ—¶å€™å°±å¯ä»¥æ¶ˆå»ç›¸åŒçš„å˜é‡ï¼Œç„¶åå†è®¡ç®—è½¬æ¢æˆç›¸åŒå˜é‡ä»¥åçš„ç³»æ•°çš„æ¯”å€¼ï¼Œå°±æ˜¯é¢˜ç›®è¦æ±‚çš„ç»“æœã€‚ç»Ÿä¸€äº†æ¯”è¾ƒçš„æ ‡å‡†ï¼Œå¯ä»¥ä»¥ O(1) çš„æ—¶é—´å¤æ‚åº¦å®Œæˆè®¡ç®—ã€‚</p><p>å¦‚æœä¸¤ä¸ªå˜é‡ä¸åœ¨åŒä¸€ä¸ªé›†åˆä¸­ï¼Œ è¿”å› âˆ’1.0ã€‚å¹¶ä¸”æ ¹æ®é¢˜ç›®çš„æ„æ€ï¼Œå¦‚æœä¸¤ä¸ªå˜é‡ä¸­ è‡³å°‘æœ‰ä¸€ä¸ª å˜é‡æ²¡æœ‰å‡ºç°åœ¨æ‰€æœ‰ equations å‡ºç°çš„å­—ç¬¦é›†åˆä¸­ï¼Œä¹Ÿè¿”å› âˆ’1.0ã€‚</p><h2 id="æ„å»ºæœ‰å‘å›¾"><a href="#æ„å»ºæœ‰å‘å›¾" class="headerlink" title="æ„å»ºæœ‰å‘å›¾"></a>æ„å»ºæœ‰å‘å›¾</h2><p>é€šè¿‡ä¾‹ 1 çš„åˆ†æï¼Œæˆ‘ä»¬å°±çŸ¥é“äº†ï¼Œé¢˜ç›®ç»™å‡ºçš„ equations å’Œ values å¯ä»¥è¡¨ç¤ºæˆä¸€ä¸ªå›¾ï¼Œequations ä¸­å‡ºç°çš„å˜é‡å°±æ˜¯å›¾çš„é¡¶ç‚¹ï¼Œã€Œåˆ†å­ã€äºã€Œåˆ†æ¯ã€çš„æ¯”å€¼å¯ä»¥è¡¨ç¤ºæˆä¸€ä¸ªæœ‰å‘å…³ç³»ï¼ˆå› ä¸ºã€Œåˆ†å­ã€å’Œã€Œåˆ†æ¯ã€æ˜¯æœ‰åºçš„ï¼Œä¸å¯ä»¥å¯¹æ¢ï¼‰ï¼Œå¹¶ä¸”è¿™ä¸ªå›¾æ˜¯ä¸€ä¸ªå¸¦æƒå›¾ï¼Œvalues å°±æ˜¯å¯¹åº”çš„æœ‰å‘è¾¹çš„æƒå€¼ã€‚ä¾‹ 1 ä¸­ç»™å‡ºçš„ equations å’Œ values è¡¨ç¤ºçš„ã€Œå›¾å½¢è¡¨ç¤ºã€ã€ã€Œæ•°å­¦è¡¨ç¤ºã€å’Œã€Œä»£ç è¡¨ç¤ºã€å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚å…¶ä¸­ parent[a] &#x3D; b è¡¨ç¤ºï¼šç»“ç‚¹ a çš„ï¼ˆç›´æ¥ï¼‰çˆ¶äº²ç»“ç‚¹æ˜¯ bï¼Œä¸ä¹‹å¯¹åº”çš„æœ‰å‘è¾¹çš„æƒé‡ï¼Œè®°ä¸º weight[a] &#x3D; 2.0ï¼Œå³ weight[a] è¡¨ç¤ºç»“ç‚¹ a åˆ°å®ƒçš„ ç›´æ¥çˆ¶äº²ç»“ç‚¹ çš„æœ‰å‘è¾¹çš„æƒé‡ã€‚</p><h2 id="ã€Œç»Ÿä¸€å˜é‡ã€ä¸ã€Œè·¯å¾„å‹ç¼©ã€çš„å…³ç³»"><a href="#ã€Œç»Ÿä¸€å˜é‡ã€ä¸ã€Œè·¯å¾„å‹ç¼©ã€çš„å…³ç³»" class="headerlink" title="ã€Œç»Ÿä¸€å˜é‡ã€ä¸ã€Œè·¯å¾„å‹ç¼©ã€çš„å…³ç³»"></a>ã€Œç»Ÿä¸€å˜é‡ã€ä¸ã€Œè·¯å¾„å‹ç¼©ã€çš„å…³ç³»</h2><p>åˆšåˆšåœ¨åˆ†æä¾‹ 1 çš„è¿‡ç¨‹ä¸­ï¼Œæåˆ°äº†ï¼šå¯ä»¥æŠŠä¸€ä¸ªä¸€ä¸ª query ä¸­çš„ä¸åŒå˜é‡è½¬æ¢æˆ åŒä¸€ä¸ªå˜é‡ï¼Œè¿™æ ·åœ¨è®¡ç®— query çš„æ—¶å€™å°±å¯ä»¥ä»¥ O(1) çš„æ—¶é—´å¤æ‚åº¦è®¡ç®—å‡ºç»“æœï¼Œåœ¨ã€Œå¹¶æŸ¥é›†ã€çš„ä¸€ä¸ªä¼˜åŒ–æŠ€å·§ä¸­ï¼Œã€Œè·¯å¾„å‹ç¼©ã€å°±æ°å¥½ç¬¦åˆäº†è¿™æ ·çš„åº”ç”¨åœºæ™¯ã€‚</p><p>ä¸ºäº†é¿å…å¹¶æŸ¥é›†æ‰€è¡¨ç¤ºçš„æ ‘å½¢ç»“æ„é«˜åº¦è¿‡é«˜ï¼Œå½±å“æŸ¥è¯¢æ€§èƒ½ã€‚ã€Œè·¯å¾„å‹ç¼©ã€å°±æ˜¯é’ˆå¯¹æ ‘çš„é«˜åº¦çš„ä¼˜åŒ–ã€‚ã€Œè·¯å¾„å‹ç¼©ã€çš„æ•ˆæœæ˜¯ï¼šåœ¨æŸ¥è¯¢ä¸€ä¸ªç»“ç‚¹ a çš„æ ¹ç»“ç‚¹åŒæ—¶ï¼ŒæŠŠç»“ç‚¹ a åˆ°æ ¹ç»“ç‚¹çš„æ²¿é€”æ‰€æœ‰ç»“ç‚¹çš„çˆ¶äº²ç»“ç‚¹éƒ½æŒ‡å‘æ ¹ç»“ç‚¹ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé™¤äº†æ ¹ç»“ç‚¹ä»¥å¤–ï¼Œæ‰€æœ‰çš„ç»“ç‚¹çš„çˆ¶äº²ç»“ç‚¹éƒ½æŒ‡å‘äº†æ ¹ç»“ç‚¹ã€‚ç‰¹åˆ«åœ°ï¼Œä¹Ÿå¯ä»¥è®¤ä¸ºæ ¹ç»“ç‚¹çš„çˆ¶äº²ç»“ç‚¹å°±æ˜¯æ ¹ç»“ç‚¹è‡ªå·±ã€‚å¦‚ä¸‹å›½æ‰€ç¤ºï¼šè·¯å¾„å‹ç¼©å‰åï¼Œå¹¶æŸ¥é›†æ‰€è¡¨ç¤ºçš„ä¸¤æ£µæ ‘å½¢ç»“æ„ç­‰ä»·ï¼Œè·¯å¾„å‹ç¼©ä»¥åçš„æ ‘çš„é«˜åº¦ä¸º 2ï¼ŒæŸ¥è¯¢æ€§èƒ½æœ€å¥½ã€‚</p><p>ç”±äºæœ‰ã€Œè·¯å¾„å‹ç¼©ã€çš„ä¼˜åŒ–ï¼Œä¸¤ä¸ªåŒåœ¨ä¸€ä¸ªè¿é€šåˆ†é‡ä¸­çš„ä¸åŒçš„å˜é‡ï¼Œå®ƒä»¬åˆ†åˆ«åˆ°æ ¹ç»“ç‚¹ï¼ˆçˆ¶äº²ç»“ç‚¹ï¼‰çš„æƒå€¼çš„æ¯”å€¼ï¼Œå°±æ˜¯é¢˜ç›®çš„è¦æ±‚çš„ç»“æœã€‚</p><h2 id="å¦‚ä½•åœ¨ã€ŒæŸ¥è¯¢ã€æ“ä½œçš„ã€Œè·¯å¾„å‹ç¼©ã€ä¼˜åŒ–ä¸­ç»´æŠ¤æƒå€¼å˜åŒ–"><a href="#å¦‚ä½•åœ¨ã€ŒæŸ¥è¯¢ã€æ“ä½œçš„ã€Œè·¯å¾„å‹ç¼©ã€ä¼˜åŒ–ä¸­ç»´æŠ¤æƒå€¼å˜åŒ–" class="headerlink" title="å¦‚ä½•åœ¨ã€ŒæŸ¥è¯¢ã€æ“ä½œçš„ã€Œè·¯å¾„å‹ç¼©ã€ä¼˜åŒ–ä¸­ç»´æŠ¤æƒå€¼å˜åŒ–"></a>å¦‚ä½•åœ¨ã€ŒæŸ¥è¯¢ã€æ“ä½œçš„ã€Œè·¯å¾„å‹ç¼©ã€ä¼˜åŒ–ä¸­ç»´æŠ¤æƒå€¼å˜åŒ–</h2><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬åœ¨ç»“ç‚¹ a æ‰§è¡Œä¸€æ¬¡ã€ŒæŸ¥è¯¢ã€æ“ä½œã€‚è·¯å¾„å‹ç¼©ä¼šå…ˆä¸€å±‚ä¸€å±‚å‘ä¸Šå…ˆæ‰¾åˆ°æ ¹ç»“ç‚¹ dï¼Œç„¶åä¾æ¬¡æŠŠ cã€b ã€a çš„çˆ¶äº²ç»“ç‚¹æŒ‡å‘æ ¹ç»“ç‚¹ dã€‚</p><ul><li>c çš„çˆ¶äº²ç»“ç‚¹å·²ç»æ˜¯æ ¹ç»“ç‚¹äº†ï¼Œå®ƒçš„æƒå€¼ä¸ç”¨æ›´æ”¹ï¼›</li><li>b çš„çˆ¶äº²ç»“ç‚¹è¦ä¿®æ”¹æˆæ ¹ç»“ç‚¹ï¼Œå®ƒçš„æƒå€¼å°±æ˜¯ä»å½“å‰ç»“ç‚¹åˆ°æ ¹ç»“ç‚¹ç»è¿‡çš„æ‰€æœ‰æœ‰å‘è¾¹çš„æƒå€¼çš„ä¹˜ç§¯ï¼Œå› æ­¤æ˜¯ 3.0 ä¹˜ä»¥ 4.0 ä¹Ÿå°±æ˜¯ 12.0ï¼›</li><li>a çš„çˆ¶äº²ç»“ç‚¹è¦ä¿®æ”¹æˆæ ¹ç»“ç‚¹ï¼Œå®ƒçš„æƒå€¼å°±æ˜¯ä¾ç„¶æ˜¯ä»å½“å‰ç»“ç‚¹åˆ°æ ¹ç»“ç‚¹ç»è¿‡çš„æ‰€æœ‰æœ‰å‘è¾¹çš„æƒå€¼çš„ä¹˜ç§¯ï¼Œä½†æ˜¯æˆ‘ä»¬ æ²¡æœ‰å¿…è¦æŠŠè¿™ä¸‰æ¡æœ‰å‘è¾¹çš„æƒå€¼ä¹˜èµ·æ¥ï¼Œè¿™æ˜¯å› ä¸º b åˆ° cï¼Œc åˆ° d è¿™ä¸¤æ¡æœ‰å‘è¾¹çš„æƒå€¼çš„ä¹˜ç§¯ï¼Œæˆ‘ä»¬åœ¨æŠŠ b æŒ‡å‘ d çš„æ—¶å€™å·²ç»è®¡ç®—å‡ºæ¥äº†ã€‚å› æ­¤ï¼Œa åˆ°æ ¹ç»“ç‚¹çš„æƒå€¼å°±ç­‰äº b åˆ°æ ¹ç»“ç‚¹ d çš„æ–°çš„æƒå€¼ä¹˜ä»¥ a åˆ° b çš„åŸæ¥çš„æœ‰å‘è¾¹çš„æƒå€¼ã€‚</li></ul><h2 id="å¦‚ä½•åœ¨ã€Œåˆå¹¶ã€æ“ä½œä¸­ç»´æŠ¤æƒå€¼çš„å˜åŒ–"><a href="#å¦‚ä½•åœ¨ã€Œåˆå¹¶ã€æ“ä½œä¸­ç»´æŠ¤æƒå€¼çš„å˜åŒ–" class="headerlink" title="å¦‚ä½•åœ¨ã€Œåˆå¹¶ã€æ“ä½œä¸­ç»´æŠ¤æƒå€¼çš„å˜åŒ–"></a>å¦‚ä½•åœ¨ã€Œåˆå¹¶ã€æ“ä½œä¸­ç»´æŠ¤æƒå€¼çš„å˜åŒ–</h2><p> ã€Œåˆå¹¶ã€æ“ä½œåŸºäºè¿™æ ·ä¸€ä¸ª å¾ˆé‡è¦çš„å‰æï¼šæˆ‘ä»¬å°†è¦åˆå¹¶çš„ä¸¤æ£µæ ‘çš„é«˜åº¦æœ€å¤šä¸º 2ï¼Œæ¢å¥è¯è¯´ä¸¤æ£µæ ‘éƒ½å¿…éœ€æ˜¯ã€Œè·¯å¾„å‹ç¼©ã€ä»¥åçš„æ•ˆæœï¼Œä¸¤æ£µæ ‘çš„å¶å­ç»“ç‚¹åˆ°æ ¹ç»“ç‚¹æœ€å¤šåªéœ€è¦ç»è¿‡ä¸€æ¡æœ‰å‘è¾¹ã€‚</p><p>ä¾‹å¦‚å·²çŸ¥  a&#x2F;b&#x3D;3.0ï¼Œ d&#x2F;c&#x3D;4.0 ï¼Œåˆå·²çŸ¥  a&#x2F;d&#x3D; &#x3D;6.0 ï¼Œç°åœ¨åˆå¹¶ç»“ç‚¹ a å’Œ d æ‰€åœ¨çš„é›†åˆï¼Œå…¶å®å°±æ˜¯æŠŠ a çš„æ ¹ç»“ç‚¹ b æŒ‡å‘ d çš„æ ¹ç»“ cï¼Œé‚£ä¹ˆå¦‚ä½•è®¡ç®— b æŒ‡å‘ c çš„è¿™æ¡æœ‰å‘è¾¹çš„æƒé‡å‘¢ï¼Ÿ</p><p>æ ¹æ® a ç»è¿‡ b å¯ä»¥åˆ°è¾¾ cï¼Œa ç»è¿‡ d ä¹Ÿå¯ä»¥åˆ°è¾¾ cï¼Œå› æ­¤ ä¸¤æ¡è·¯å¾„ä¸Šçš„æœ‰å‘è¾¹çš„æƒå€¼çš„ä¹˜ç§¯æ˜¯ä¸€å®šç›¸ç­‰çš„ã€‚è®¾ b åˆ° c çš„æƒå€¼ä¸º xï¼Œé‚£ä¹ˆ 3.0â‹…x&#x3D;6.0â‹…4.0 ï¼Œå¾— x&#x3D;8.0ã€‚</p><h2 id="ä¸€ä¸ªå®¹æ˜“å¿½ç•¥çš„ç»†èŠ‚"><a href="#ä¸€ä¸ªå®¹æ˜“å¿½ç•¥çš„ç»†èŠ‚" class="headerlink" title="ä¸€ä¸ªå®¹æ˜“å¿½ç•¥çš„ç»†èŠ‚"></a>ä¸€ä¸ªå®¹æ˜“å¿½ç•¥çš„ç»†èŠ‚</h2><p>æ¥ä¸‹æ¥è¿˜æœ‰ä¸€ä¸ªå°çš„ç»†èŠ‚é—®é¢˜ï¼šåœ¨åˆå¹¶ä»¥åï¼Œäº§ç”Ÿäº†ä¸€æ£µé«˜åº¦ä¸º 3 çš„æ ‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨æ‰§è¡ŒæŸ¥è¯¢çš„æ—¶å€™ï¼Œä¾‹å¦‚ä¸‹å›¾å±•ç¤ºçš„ç»¿è‰²ç»“ç‚¹å’Œé»„è‰²ç»“ç‚¹ï¼Œç»¿è‰²ç»“ç‚¹å¹¶ä¸ç›´æ¥æŒ‡å‘æ ¹ç»“ç‚¹ï¼Œåœ¨è®¡ç®—è¿™ä¸¤ä¸ªå˜é‡çš„æ¯”å€¼çš„æ—¶å€™ï¼Œè®¡ç®—è¾¹çš„æƒå€¼çš„æ¯”å€¼å¾—åˆ°çš„ç»“æœæ˜¯ä¸å¯¹çš„ã€‚</p><p>ä½†å…¶å®ä¸ç”¨æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ï¼Œå¹¶æŸ¥é›†çš„ã€ŒæŸ¥è¯¢ã€æ“ä½œä¼šæ‰§è¡Œã€Œè·¯å¾„å‹ç¼©ã€ï¼Œæ‰€ä»¥çœŸæ­£åœ¨è®¡ç®—ä¸¤ä¸ªå˜é‡çš„æƒå€¼çš„æ—¶å€™ï¼Œç»¿è‰²ç»“ç‚¹å·²ç»æŒ‡å‘äº†æ ¹ç»“ç‚¹ï¼Œå’Œé»„è‰²ç»“ç‚¹çš„æ ¹ç»“ç‚¹ç›¸åŒã€‚å› æ­¤å¯ä»¥ç”¨å®ƒä»¬æŒ‡å‘æ ¹ç»“ç‚¹çš„æœ‰å‘è¾¹çš„æƒå€¼çš„æ¯”å€¼ä½œä¸ºä¸¤ä¸ªå˜é‡çš„æ¯”å€¼ã€‚</p><p>æˆ‘ä»¬é€šè¿‡è¿™ä¸ªç»†èŠ‚å‘å¤§å®¶å¼ºè°ƒï¼šä¸€è¾¹æŸ¥è¯¢ä¸€è¾¹ä¿®æ”¹ç»“ç‚¹æŒ‡å‘æ˜¯å¹¶æŸ¥é›†çš„ç‰¹è‰²ã€‚</p><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class Solution &#123;</span><br><span class="line"></span><br><span class="line">    public double[] calcEquation(List&lt;List&lt;String&gt;&gt; equations, double[] values, List&lt;List&lt;String&gt;&gt; queries) &#123;</span><br><span class="line">        int equationsSize = equations.size();</span><br><span class="line"></span><br><span class="line">        UnionFind unionFind = new UnionFind(2 * equationsSize);</span><br><span class="line">        // ç¬¬ 1 æ­¥ï¼šé¢„å¤„ç†ï¼Œå°†å˜é‡çš„å€¼ä¸ id è¿›è¡Œæ˜ å°„ï¼Œä½¿å¾—å¹¶æŸ¥é›†çš„åº•å±‚ä½¿ç”¨æ•°ç»„å®ç°ï¼Œæ–¹ä¾¿ç¼–ç </span><br><span class="line">        Map&lt;String, Integer&gt; hashMap = new HashMap&lt;&gt;(2 * equationsSize);</span><br><span class="line">        int id = 0;</span><br><span class="line">        for (int i = 0; i &lt; equationsSize; i++) &#123;</span><br><span class="line">            List&lt;String&gt; equation = equations.get(i);</span><br><span class="line">            String var1 = equation.get(0);</span><br><span class="line">            String var2 = equation.get(1);</span><br><span class="line"></span><br><span class="line">            if (!hashMap.containsKey(var1)) &#123;</span><br><span class="line">                hashMap.put(var1, id);</span><br><span class="line">                id++;</span><br><span class="line">            &#125;</span><br><span class="line">            if (!hashMap.containsKey(var2)) &#123;</span><br><span class="line">                hashMap.put(var2, id);</span><br><span class="line">                id++;</span><br><span class="line">            &#125;</span><br><span class="line">            unionFind.union(hashMap.get(var1), hashMap.get(var2), values[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // ç¬¬ 2 æ­¥ï¼šåšæŸ¥è¯¢</span><br><span class="line">        int queriesSize = queries.size();</span><br><span class="line">        double[] res = new double[queriesSize];</span><br><span class="line">        for (int i = 0; i &lt; queriesSize; i++) &#123;</span><br><span class="line">            String var1 = queries.get(i).get(0);</span><br><span class="line">            String var2 = queries.get(i).get(1);</span><br><span class="line"></span><br><span class="line">            Integer id1 = hashMap.get(var1);</span><br><span class="line">            Integer id2 = hashMap.get(var2);</span><br><span class="line"></span><br><span class="line">            if (id1 == null || id2 == null) &#123;</span><br><span class="line">                res[i] = -1.0d;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                res[i] = unionFind.isConnected(id1, id2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private class UnionFind &#123;</span><br><span class="line"></span><br><span class="line">        private int[] parent;</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * æŒ‡å‘çš„çˆ¶ç»“ç‚¹çš„æƒå€¼</span><br><span class="line">         */</span><br><span class="line">        private double[] weight;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        public UnionFind(int n) &#123;</span><br><span class="line">            this.parent = new int[n];</span><br><span class="line">            this.weight = new double[n];</span><br><span class="line">            for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">                parent[i] = i;</span><br><span class="line">                weight[i] = 1.0d;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void union(int x, int y, double value) &#123;</span><br><span class="line">            int rootX = find(x);</span><br><span class="line">            int rootY = find(y);</span><br><span class="line">            if (rootX == rootY) &#123;</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            parent[rootX] = rootY;</span><br><span class="line">          // å…³ç³»å¼çš„æ¨å¯¼è¯·è§ã€Œå‚è€ƒä»£ç ã€ä¸‹æ–¹çš„ç¤ºæ„å›¾</span><br><span class="line">            weight[rootX] = weight[y] * value / weight[x];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /**</span><br><span class="line">         * è·¯å¾„å‹ç¼©</span><br><span class="line">         *</span><br><span class="line">         * @param x</span><br><span class="line">         * @return æ ¹ç»“ç‚¹çš„ id</span><br><span class="line">         */</span><br><span class="line">        public int find(int x) &#123;</span><br><span class="line">            if (x != parent[x]) &#123;</span><br><span class="line">                int origin = parent[x];</span><br><span class="line">                parent[x] = find(parent[x]);</span><br><span class="line">                weight[x] *= weight[origin];</span><br><span class="line">            &#125;</span><br><span class="line">            return parent[x];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public double isConnected(int x, int y) &#123;</span><br><span class="line">            int rootX = find(x);</span><br><span class="line">            int rootY = find(y);</span><br><span class="line">            if (rootX == rootY) &#123;</span><br><span class="line">                return weight[x] / weight[y];</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                return -1.0d;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><p>è¯´æ˜ï¼šä»£ç  weight[rootX] &#x3D; weight[y] * value &#x2F; weight[x]; çš„æ¨å¯¼è¿‡ç¨‹ï¼Œä¸»è¦éœ€è¦æ˜ç™½å„ä¸ªå˜é‡çš„å«ä¹‰ï¼Œç”±ä¸¤æ¡è·¯å¾„æœ‰å‘è¾¹çš„æƒå€¼ä¹˜ç§¯ç›¸ç­‰å¾—åˆ°ç›¸ç­‰å…³ç³»ï¼Œç„¶ååšç­‰ä»·å˜æ¢å³å¯ã€‚</p><h1 id="å¤æ‚åº¦åˆ†æï¼š"><a href="#å¤æ‚åº¦åˆ†æï¼š" class="headerlink" title="å¤æ‚åº¦åˆ†æï¼š"></a>å¤æ‚åº¦åˆ†æï¼š</h1><p>æ—¶é—´å¤æ‚åº¦ï¼šO((N+Q)logA)ï¼Œ</p><ul><li>æ„å»ºå¹¶æŸ¥é›† O(NlogA) ï¼Œè¿™é‡Œ N ä¸ºè¾“å…¥æ–¹ç¨‹ equations çš„é•¿åº¦ï¼Œæ¯ä¸€æ¬¡æ‰§è¡Œåˆå¹¶æ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(logA)ï¼Œè¿™é‡Œ A æ˜¯ equations é‡Œä¸åŒå­—ç¬¦çš„ä¸ªæ•°ï¼›</li><li>æŸ¥è¯¢å¹¶æŸ¥é›† O(QlogA)ï¼Œè¿™é‡Œ Q ä¸ºæŸ¥è¯¢æ•°ç»„ queries çš„é•¿åº¦ï¼Œæ¯ä¸€æ¬¡æŸ¥è¯¢æ—¶æ‰§è¡Œã€Œè·¯å¾„å‹ç¼©ã€çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(logA)ã€‚</li></ul><p>ç©ºé—´å¤æ‚åº¦ï¼šO(A)ï¼šåˆ›å»ºå­—ç¬¦ä¸ id çš„å¯¹åº”å…³ç³» hashMap é•¿åº¦ä¸º Aï¼Œå¹¶æŸ¥é›†åº•å±‚ä½¿ç”¨çš„ä¸¤ä¸ªæ•°ç»„ parent å’Œ weight å­˜å‚¨æ¯ä¸ªå˜é‡çš„è¿é€šåˆ†é‡ä¿¡æ¯ï¼Œparent å’Œ weight çš„é•¿åº¦å‡ä¸º Aã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;è¿”å› æ‰€æœ‰é™¤æ³•æ±‚å€¼é—®é¢˜çš„ç­”æ¡ˆ&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´3æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B43%E6%9C%88/"/>
    
    
    <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
    <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
    <category term="Breadth-first Search" scheme="http://yoursite.com/tags/Breadth-first-Search/"/>
    
    <category term="Depth-first Search" scheme="http://yoursite.com/tags/Depth-first-Search/"/>
    
    <category term="Union Find" scheme="http://yoursite.com/tags/Union-Find/"/>
    
    <category term="Graph" scheme="http://yoursite.com/tags/Graph/"/>
    
    <category term="æœ€çŸ­è·¯" scheme="http://yoursite.com/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
  </entry>
  
  <entry>
    <title>394. å­—ç¬¦ä¸²è§£ç </title>
    <link href="http://yoursite.com/2022/03/09/394.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A7%A3%E7%A0%81/"/>
    <id>http://yoursite.com/2022/03/09/394.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A7%A3%E7%A0%81/</id>
    <published>2022-03-09T07:12:12.000Z</published>
    <updated>2022-03-09T07:11:33.114Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªç»è¿‡ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œè¿”å›å®ƒè§£ç åçš„å­—ç¬¦ä¸²ã€‚</p><span id="more"></span><p>[TOC]</p><p>ç¼–ç è§„åˆ™ä¸º: k[encoded_string]ï¼Œè¡¨ç¤ºå…¶ä¸­æ–¹æ‹¬å·å†…éƒ¨çš„ encoded_string æ­£å¥½é‡å¤ k æ¬¡ã€‚æ³¨æ„ k ä¿è¯ä¸ºæ­£æ•´æ•°ã€‚</p><p>ä½ å¯ä»¥è®¤ä¸ºè¾“å…¥å­—ç¬¦ä¸²æ€»æ˜¯æœ‰æ•ˆçš„ï¼›è¾“å…¥å­—ç¬¦ä¸²ä¸­æ²¡æœ‰é¢å¤–çš„ç©ºæ ¼ï¼Œä¸”è¾“å…¥çš„æ–¹æ‹¬å·æ€»æ˜¯ç¬¦åˆæ ¼å¼è¦æ±‚çš„ã€‚</p><p>æ­¤å¤–ï¼Œä½ å¯ä»¥è®¤ä¸ºåŸå§‹æ•°æ®ä¸åŒ…å«æ•°å­—ï¼Œæ‰€æœ‰çš„æ•°å­—åªè¡¨ç¤ºé‡å¤çš„æ¬¡æ•° k ï¼Œä¾‹å¦‚ä¸ä¼šå‡ºç°åƒÂ 3aÂ æˆ–Â 2[4]Â çš„è¾“å…¥ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;3[a]2[bc]&quot;è¾“å‡ºï¼š&quot;aaabcbc&quot;</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;3[a2[c]]&quot;è¾“å‡ºï¼š&quot;accaccacc&quot;</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;2[abc]3[cd]ef&quot;è¾“å‡ºï¼š&quot;abcabccdcdcdef&quot;</code></pre><p>ç¤ºä¾‹ 4ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;abc3[cd]xyz&quot;è¾“å‡ºï¼š&quot;abccdcdcdxyz&quot;</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šæ ˆæ“ä½œ-1"><a href="#æ–¹æ³•ä¸€ï¼šæ ˆæ“ä½œ-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ ˆæ“ä½œ^1"></a>æ–¹æ³•ä¸€ï¼šæ ˆæ“ä½œ<a href="https://leetcode-cn.com/problems/decode-string/solution/zi-fu-chuan-jie-ma-by-leetcode-solution/">^1</a></h1><h2 id="æ€è·¯å’Œç®—æ³•"><a href="#æ€è·¯å’Œç®—æ³•" class="headerlink" title="æ€è·¯å’Œç®—æ³•"></a>æ€è·¯å’Œç®—æ³•</h2><p>æœ¬é¢˜ä¸­å¯èƒ½å‡ºç°æ‹¬å·åµŒå¥—çš„æƒ…å†µï¼Œæ¯”å¦‚ 2[a2[bc]]ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥å…ˆè½¬åŒ–æˆ 2[abcbc]ï¼Œåœ¨è½¬åŒ–æˆ abcbcabcbcã€‚æˆ‘ä»¬å¯ä»¥æŠŠå­—æ¯ã€æ•°å­—å’Œæ‹¬å·çœ‹æˆæ˜¯ç‹¬ç«‹çš„ TOKENï¼Œå¹¶ç”¨æ ˆæ¥ç»´æŠ¤è¿™äº› TOKENã€‚å…·ä½“çš„åšæ³•æ˜¯ï¼Œéå†è¿™ä¸ªæ ˆï¼š</p><ul><li>å¦‚æœå½“å‰çš„å­—ç¬¦ä¸ºæ•°ä½ï¼Œè§£æå‡ºä¸€ä¸ªæ•°å­—ï¼ˆè¿ç»­çš„å¤šä¸ªæ•°ä½ï¼‰å¹¶è¿›æ ˆ</li><li>å¦‚æœå½“å‰çš„å­—ç¬¦ä¸ºå­—æ¯æˆ–è€…å·¦æ‹¬å·ï¼Œç›´æ¥è¿›æ ˆ</li><li>å¦‚æœå½“å‰çš„å­—ç¬¦ä¸ºå³æ‹¬å·ï¼Œå¼€å§‹å‡ºæ ˆï¼Œä¸€ç›´åˆ°å·¦æ‹¬å·å‡ºæ ˆï¼Œå‡ºæ ˆåºåˆ—åè½¬åæ‹¼æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ­¤æ—¶å–å‡ºæ ˆé¡¶çš„æ•°å­—ï¼ˆæ­¤æ—¶æ ˆé¡¶ä¸€å®šæ˜¯æ•°å­—ï¼Œæƒ³æƒ³ä¸ºä»€ä¹ˆï¼Ÿï¼‰ï¼Œå°±æ˜¯è¿™ä¸ªå­—ç¬¦ä¸²åº”è¯¥å‡ºç°çš„æ¬¡æ•°ï¼Œæˆ‘ä»¬æ ¹æ®è¿™ä¸ªæ¬¡æ•°å’Œå­—ç¬¦ä¸²æ„é€ å‡ºæ–°çš„å­—ç¬¦ä¸²å¹¶è¿›æ ˆ</li></ul><p>é‡å¤å¦‚ä¸Šæ“ä½œï¼Œæœ€ç»ˆå°†æ ˆä¸­çš„å…ƒç´ æŒ‰ç…§ä»æ ˆåº•åˆ°æ ˆé¡¶çš„é¡ºåºæ‹¼æ¥èµ·æ¥ï¼Œå°±å¾—åˆ°äº†ç­”æ¡ˆã€‚æ³¨æ„ï¼šè¿™é‡Œå¯ä»¥ç”¨ä¸å®šé•¿æ•°ç»„æ¥æ¨¡æ‹Ÿæ ˆæ“ä½œï¼Œæ–¹ä¾¿ä»æ ˆåº•å‘æ ˆé¡¶éå†ã€‚</p><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    string getDigits(string &amp;s, size_t &amp;ptr) &#123;</span><br><span class="line">        string ret = &quot;&quot;;</span><br><span class="line">        while (isdigit(s[ptr])) &#123;</span><br><span class="line">            ret.push_back(s[ptr++]);</span><br><span class="line">        &#125;</span><br><span class="line">        return ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    string getString(vector &lt;string&gt; &amp;v) &#123;</span><br><span class="line">        string ret;</span><br><span class="line">        for (const auto &amp;s: v) &#123;</span><br><span class="line">            ret += s;</span><br><span class="line">        &#125;</span><br><span class="line">        return ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    string decodeString(string s) &#123;</span><br><span class="line">        vector &lt;string&gt; stk;</span><br><span class="line">        size_t ptr = 0;</span><br><span class="line"></span><br><span class="line">        while (ptr &lt; s.size()) &#123;</span><br><span class="line">            char cur = s[ptr];</span><br><span class="line">            if (isdigit(cur)) &#123;</span><br><span class="line">                // è·å–ä¸€ä¸ªæ•°å­—å¹¶è¿›æ ˆ</span><br><span class="line">                string digits = getDigits(s, ptr);</span><br><span class="line">                stk.push_back(digits);</span><br><span class="line">            &#125; else if (isalpha(cur) || cur == &#x27;[&#x27;) &#123;</span><br><span class="line">                // è·å–ä¸€ä¸ªå­—æ¯å¹¶è¿›æ ˆ</span><br><span class="line">                stk.push_back(string(1, s[ptr++])); </span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                ++ptr;</span><br><span class="line">                vector &lt;string&gt; sub;</span><br><span class="line">                while (stk.back() != &quot;[&quot;) &#123;</span><br><span class="line">                    sub.push_back(stk.back());</span><br><span class="line">                    stk.pop_back();</span><br><span class="line">                &#125;</span><br><span class="line">                reverse(sub.begin(), sub.end());</span><br><span class="line">                // å·¦æ‹¬å·å‡ºæ ˆ</span><br><span class="line">                stk.pop_back();</span><br><span class="line">                // æ­¤æ—¶æ ˆé¡¶ä¸ºå½“å‰ sub å¯¹åº”çš„å­—ç¬¦ä¸²åº”è¯¥å‡ºç°çš„æ¬¡æ•°</span><br><span class="line">                int repTime = stoi(stk.back()); </span><br><span class="line">                stk.pop_back();</span><br><span class="line">                string t, o = getString(sub);</span><br><span class="line">                // æ„é€ å­—ç¬¦ä¸²</span><br><span class="line">                while (repTime--) t += o; </span><br><span class="line">                // å°†æ„é€ å¥½çš„å­—ç¬¦ä¸²å…¥æ ˆ</span><br><span class="line">                stk.push_back(t);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return getString(stk);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    int ptr;</span><br><span class="line"></span><br><span class="line">    public String decodeString(String s) &#123;</span><br><span class="line">        LinkedList&lt;String&gt; stk = new LinkedList&lt;String&gt;();</span><br><span class="line">        ptr = 0;</span><br><span class="line"></span><br><span class="line">        while (ptr &lt; s.length()) &#123;</span><br><span class="line">            char cur = s.charAt(ptr);</span><br><span class="line">            if (Character.isDigit(cur)) &#123;</span><br><span class="line">                // è·å–ä¸€ä¸ªæ•°å­—å¹¶è¿›æ ˆ</span><br><span class="line">                String digits = getDigits(s);</span><br><span class="line">                stk.addLast(digits);</span><br><span class="line">            &#125; else if (Character.isLetter(cur) || cur == &#x27;[&#x27;) &#123;</span><br><span class="line">                // è·å–ä¸€ä¸ªå­—æ¯å¹¶è¿›æ ˆ</span><br><span class="line">                stk.addLast(String.valueOf(s.charAt(ptr++))); </span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                ++ptr;</span><br><span class="line">                LinkedList&lt;String&gt; sub = new LinkedList&lt;String&gt;();</span><br><span class="line">                while (!&quot;[&quot;.equals(stk.peekLast())) &#123;</span><br><span class="line">                    sub.addLast(stk.removeLast());</span><br><span class="line">                &#125;</span><br><span class="line">                Collections.reverse(sub);</span><br><span class="line">                // å·¦æ‹¬å·å‡ºæ ˆ</span><br><span class="line">                stk.removeLast();</span><br><span class="line">                // æ­¤æ—¶æ ˆé¡¶ä¸ºå½“å‰ sub å¯¹åº”çš„å­—ç¬¦ä¸²åº”è¯¥å‡ºç°çš„æ¬¡æ•°</span><br><span class="line">                int repTime = Integer.parseInt(stk.removeLast());</span><br><span class="line">                StringBuffer t = new StringBuffer();</span><br><span class="line">                String o = getString(sub);</span><br><span class="line">                // æ„é€ å­—ç¬¦ä¸²</span><br><span class="line">                while (repTime-- &gt; 0) &#123;</span><br><span class="line">                    t.append(o);</span><br><span class="line">                &#125;</span><br><span class="line">                // å°†æ„é€ å¥½çš„å­—ç¬¦ä¸²å…¥æ ˆ</span><br><span class="line">                stk.addLast(t.toString());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return getString(stk);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getDigits(String s) &#123;</span><br><span class="line">        StringBuffer ret = new StringBuffer();</span><br><span class="line">        while (Character.isDigit(s.charAt(ptr))) &#123;</span><br><span class="line">            ret.append(s.charAt(ptr++));</span><br><span class="line">        &#125;</span><br><span class="line">        return ret.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getString(LinkedList&lt;String&gt; v) &#123;</span><br><span class="line">        StringBuffer ret = new StringBuffer();</span><br><span class="line">        for (String s : v) &#123;</span><br><span class="line">            ret.append(s);</span><br><span class="line">        &#125;</span><br><span class="line">        return ret.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Go</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">func decodeString(s string) string &#123;</span><br><span class="line">    stk := []string&#123;&#125;</span><br><span class="line">    ptr := 0</span><br><span class="line">    for ptr &lt; len(s) &#123;</span><br><span class="line">        cur := s[ptr]</span><br><span class="line">        if cur &gt;= &#x27;0&#x27; &amp;&amp; cur &lt;= &#x27;9&#x27; &#123;</span><br><span class="line">            digits := getDigits(s, &amp;ptr)</span><br><span class="line">            stk = append(stk, digits)</span><br><span class="line">        &#125; else if (cur &gt;= &#x27;a&#x27; &amp;&amp; cur &lt;= &#x27;z&#x27; || cur &gt;= &#x27;A&#x27; &amp;&amp; cur &lt;= &#x27;Z&#x27;) || cur == &#x27;[&#x27; &#123;</span><br><span class="line">            stk = append(stk, string(cur))</span><br><span class="line">            ptr++</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            ptr++</span><br><span class="line">            sub := []string&#123;&#125;</span><br><span class="line">            for stk[len(stk)-1] != &quot;[&quot; &#123;</span><br><span class="line">                sub = append(sub, stk[len(stk)-1])</span><br><span class="line">                stk = stk[:len(stk)-1]</span><br><span class="line">            &#125;</span><br><span class="line">            for i := 0; i &lt; len(sub)/2; i++ &#123;</span><br><span class="line">                sub[i], sub[len(sub)-i-1] = sub[len(sub)-i-1], sub[i]</span><br><span class="line">            &#125;</span><br><span class="line">            stk = stk[:len(stk)-1]</span><br><span class="line">            repTime, _ := strconv.Atoi(stk[len(stk)-1])</span><br><span class="line">            stk = stk[:len(stk)-1]</span><br><span class="line">            t := strings.Repeat(getString(sub), repTime)</span><br><span class="line">            stk = append(stk, t)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return getString(stk)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func getDigits(s string, ptr *int) string &#123;</span><br><span class="line">    ret := &quot;&quot;</span><br><span class="line">    for ; s[*ptr] &gt;= &#x27;0&#x27; &amp;&amp; s[*ptr] &lt;= &#x27;9&#x27;; *ptr++ &#123;</span><br><span class="line">        ret += string(s[*ptr])</span><br><span class="line">    &#125;</span><br><span class="line">    return ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func getString(v []string) string &#123;</span><br><span class="line">    ret := &quot;&quot;</span><br><span class="line">    for _, s := range v &#123;</span><br><span class="line">        ret += s</span><br><span class="line">    &#125;</span><br><span class="line">    return ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼šè®°è§£ç åå¾—å‡ºçš„å­—ç¬¦ä¸²é•¿åº¦ä¸º Sï¼Œé™¤äº†éå†ä¸€æ¬¡åŸå­—ç¬¦ä¸² sï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†è§£ç åçš„å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½å…¥æ ˆï¼Œå¹¶æœ€ç»ˆæ‹¼æ¥è¿›ç­”æ¡ˆä¸­ï¼Œæ•…æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º O(S+âˆ£sâˆ£)ï¼Œå³ O(S)ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ï¼šè®°è§£ç åå¾—å‡ºçš„å­—ç¬¦ä¸²é•¿åº¦ä¸º Sï¼Œè¿™é‡Œç”¨æ ˆç»´æŠ¤ TOKENï¼Œæ ˆçš„æ€»å¤§å°æœ€ç»ˆä¸ S ç›¸åŒï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º O(S)ã€‚</p><h1 id="æ–¹æ³•äºŒï¼šé€’å½’"><a href="#æ–¹æ³•äºŒï¼šé€’å½’" class="headerlink" title="æ–¹æ³•äºŒï¼šé€’å½’"></a>æ–¹æ³•äºŒï¼šé€’å½’</h1><h2 id="æ€è·¯å’Œç®—æ³•-1"><a href="#æ€è·¯å’Œç®—æ³•-1" class="headerlink" title="æ€è·¯å’Œç®—æ³•"></a>æ€è·¯å’Œç®—æ³•</h2><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨é€’å½’æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»å·¦å‘å³è§£æå­—ç¬¦ä¸²ï¼š</p><p>å¦‚æœå½“å‰ä½ç½®ä¸ºæ•°å­—ä½ï¼Œé‚£ä¹ˆåé¢ä¸€å®šåŒ…å«ä¸€ä¸ªç”¨æ–¹æ‹¬å·è¡¨ç¤ºçš„å­—ç¬¦ä¸²ï¼Œå³å±äºè¿™ç§æƒ…å†µï¼šk[â€¦]ï¼š<br>æˆ‘ä»¬å¯ä»¥å…ˆè§£æå‡ºä¸€ä¸ªæ•°å­—ï¼Œç„¶åè§£æåˆ°äº†å·¦æ‹¬å·ï¼Œé€’å½’å‘ä¸‹è§£æåé¢çš„å†…å®¹ï¼Œé‡åˆ°å¯¹åº”çš„å³æ‹¬å·å°±è¿”å›ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥æ ¹æ®è§£æå‡ºçš„æ•°å­— x è§£æå‡ºçš„æ‹¬å·é‡Œçš„å­—ç¬¦ä¸²sâ€²æ„é€ å‡ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸² xÃ—sâ€²</p><p>æˆ‘ä»¬æŠŠ k[â€¦] è§£æç»“æŸåï¼Œå†æ¬¡è°ƒç”¨é€’å½’å‡½æ•°ï¼Œè§£æå³æ‹¬å·å³è¾¹çš„å†…å®¹ã€‚<br>å¦‚æœå½“å‰ä½ç½®æ˜¯å­—æ¯ä½ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç›´æ¥è§£æå½“å‰è¿™ä¸ªå­—æ¯ï¼Œç„¶åé€’å½’å‘ä¸‹è§£æè¿™ä¸ªå­—æ¯åé¢çš„å†…å®¹ã€‚<br>å¦‚æœè§‰å¾—è¿™é‡Œè®²çš„æ¯”è¾ƒæŠ½è±¡ï¼Œå¯ä»¥ç»“åˆä»£ç ç†è§£ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å¯ä»¥æ¥è®²è®²è¿™æ ·åšçš„ä¾æ®ï¼Œæ¶‰åŠåˆ°ã€Šç¼–è¯‘åŸç†ã€‹ç›¸å…³å†…å®¹ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å‚è€ƒé˜…è¯»ã€‚ æ ¹æ®é¢˜ç›®çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥æ¨å¯¼å‡ºè¿™æ ·çš„å·´ç§‘æ–¯èŒƒå¼ï¼ˆBNFï¼‰ï¼š</p><pre><code>String-&gt;Digit [String]String|Alpha String|StringDigits-&gt;Digit Digits |DigitsAlpha-&gt;a|...|z|A|...|ZDigit-&gt;0|...|9</code></pre><ul><li>Digit è¡¨ç¤ºåè¿›åˆ¶æ•°ä½ï¼Œå¯èƒ½çš„å–å€¼æ˜¯ 0 åˆ° 9 ä¹‹é—´çš„æ•´æ•°</li><li>Alpha è¡¨ç¤ºå­—æ¯ï¼Œå¯èƒ½çš„å–å€¼æ˜¯å¤§å°å†™å­—æ¯çš„é›†åˆï¼Œå…± 52 ä¸ª</li><li>Digit è¡¨ç¤ºä¸€ä¸ªæ•´æ•°ï¼Œå®ƒçš„ç»„æˆæ˜¯ Digit å‡ºç°ä¸€æ¬¡æˆ–å¤šæ¬¡</li><li>String ä»£è¡¨ä¸€ä¸ªä»£è§£æçš„å­—ç¬¦ä¸²ï¼Œå®ƒå¯èƒ½æœ‰ä¸‰ç§æ„æˆï¼Œå¦‚ BNF æ‰€ç¤º</li><li>epsilon è¡¨ç¤ºç©ºä¸²ï¼Œå³æ²¡æœ‰ä»»ä½•å­å­—ç¬¦</li></ul><p> ç”±äº Digits å’Œ Alpha æ„æˆç®€å•ï¼Œå¾ˆå®¹æ˜“è¿›è¡Œè¯æ³•åˆ†æï¼Œæˆ‘ä»¬æŠŠå®ƒä»–ä»¬çœ‹ä½œç‹¬ç«‹çš„ TOKENã€‚é‚£ä¹ˆæ­¤æ—¶çš„éç»ˆç»“ç¬¦æœ‰ Stringï¼Œç»ˆç»“ç¬¦æœ‰ Digitsã€Alpha å’Œ Ïµï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®éç»ˆç»“ç¬¦å’Œ FOLLOW é›†æ„é€ å‡ºè¿™æ ·çš„é¢„æµ‹åˆ†æè¡¨ï¼š</p><p>å¯è§ä¸å«å¤šé‡å®šä¹‰çš„é¡¹ï¼Œä¸º LL(1) æ–‡æ³•ï¼Œå³ï¼š</p><ul><li>ä»å·¦å‘å³åˆ†æï¼ˆLeft-to-right-parseï¼‰</li><li>æœ€å·¦æ¨å¯¼ï¼ˆLeftmost-derivationï¼‰</li><li>è¶…å‰æŸ¥çœ‹ä¸€ä¸ªç¬¦å·ï¼ˆ1-symbol lookaheadï¼‰<br>å®ƒå†³å®šäº†æˆ‘ä»¬ä»å·¦å‘å³éå†è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯æ¬¡åªåˆ¤æ–­å½“å‰æœ€å·¦è¾¹çš„ä¸€ä¸ªå­—ç¬¦çš„åˆ†ææ–¹æ³•æ˜¯æ­£ç¡®çš„ã€‚</li></ul><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    string src; </span><br><span class="line">    size_t ptr;</span><br><span class="line"></span><br><span class="line">    int getDigits() &#123;</span><br><span class="line">        int ret = 0;</span><br><span class="line">        while (ptr &lt; src.size() &amp;&amp; isdigit(src[ptr])) &#123;</span><br><span class="line">            ret = ret * 10 + src[ptr++] - &#x27;0&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">        return ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    string getString() &#123;</span><br><span class="line">        if (ptr == src.size() || src[ptr] == &#x27;]&#x27;) &#123;</span><br><span class="line">            // String -&gt; EPS</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        char cur = src[ptr]; int repTime = 1;</span><br><span class="line">        string ret;</span><br><span class="line"></span><br><span class="line">        if (isdigit(cur)) &#123;</span><br><span class="line">            // String -&gt; Digits [ String ] String</span><br><span class="line">            // è§£æ Digits</span><br><span class="line">            repTime = getDigits(); </span><br><span class="line">            // è¿‡æ»¤å·¦æ‹¬å·</span><br><span class="line">            ++ptr;</span><br><span class="line">            // è§£æ String</span><br><span class="line">            string str = getString(); </span><br><span class="line">            // è¿‡æ»¤å³æ‹¬å·</span><br><span class="line">            ++ptr;</span><br><span class="line">            // æ„é€ å­—ç¬¦ä¸²</span><br><span class="line">            while (repTime--) ret += str; </span><br><span class="line">        &#125; else if (isalpha(cur)) &#123;</span><br><span class="line">            // String -&gt; Char String</span><br><span class="line">            // è§£æ Char</span><br><span class="line">            ret = string(1, src[ptr++]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        return ret + getString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    string decodeString(string s) &#123;</span><br><span class="line">        src = s;</span><br><span class="line">        ptr = 0;</span><br><span class="line">        return getString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    String src;</span><br><span class="line">    int ptr;</span><br><span class="line"></span><br><span class="line">    public String decodeString(String s) &#123;</span><br><span class="line">        src = s;</span><br><span class="line">        ptr = 0;</span><br><span class="line">        return getString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getString() &#123;</span><br><span class="line">        if (ptr == src.length() || src.charAt(ptr) == &#x27;]&#x27;) &#123;</span><br><span class="line">            // String -&gt; EPS</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        char cur = src.charAt(ptr);</span><br><span class="line">        int repTime = 1;</span><br><span class="line">        String ret = &quot;&quot;;</span><br><span class="line"></span><br><span class="line">        if (Character.isDigit(cur)) &#123;</span><br><span class="line">            // String -&gt; Digits [ String ] String</span><br><span class="line">            // è§£æ Digits</span><br><span class="line">            repTime = getDigits(); </span><br><span class="line">            // è¿‡æ»¤å·¦æ‹¬å·</span><br><span class="line">            ++ptr;</span><br><span class="line">            // è§£æ String</span><br><span class="line">            String str = getString(); </span><br><span class="line">            // è¿‡æ»¤å³æ‹¬å·</span><br><span class="line">            ++ptr;</span><br><span class="line">            // æ„é€ å­—ç¬¦ä¸²</span><br><span class="line">            while (repTime-- &gt; 0) &#123;</span><br><span class="line">                ret += str;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else if (Character.isLetter(cur)) &#123;</span><br><span class="line">            // String -&gt; Char String</span><br><span class="line">            // è§£æ Char</span><br><span class="line">            ret = String.valueOf(src.charAt(ptr++));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        return ret + getString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int getDigits() &#123;</span><br><span class="line">        int ret = 0;</span><br><span class="line">        while (ptr &lt; src.length() &amp;&amp; Character.isDigit(src.charAt(ptr))) &#123;</span><br><span class="line">            ret = ret * 10 + src.charAt(ptr++) - &#x27;0&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">        return ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Go</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">var (</span><br><span class="line">    src string</span><br><span class="line">    ptr int</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func decodeString(s string) string &#123;</span><br><span class="line">    src = s</span><br><span class="line">    ptr = 0</span><br><span class="line">    return getString()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func getString() string &#123;</span><br><span class="line">    if ptr == len(src) || src[ptr] == &#x27;]&#x27; &#123;</span><br><span class="line">        return &quot;&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    cur := src[ptr]</span><br><span class="line">    repTime := 1</span><br><span class="line">    ret := &quot;&quot;</span><br><span class="line">    if cur &gt;= &#x27;0&#x27; &amp;&amp; cur &lt;= &#x27;9&#x27; &#123;</span><br><span class="line">        repTime = getDigits()</span><br><span class="line">        ptr++</span><br><span class="line">        str := getString()</span><br><span class="line">        ptr++</span><br><span class="line">        ret = strings.Repeat(str, repTime)</span><br><span class="line">    &#125; else if cur &gt;= &#x27;a&#x27; &amp;&amp; cur &lt;= &#x27;z&#x27; || cur &gt;= &#x27;A&#x27; &amp;&amp; cur &lt;= &#x27;Z&#x27; &#123;</span><br><span class="line">        ret = string(cur)</span><br><span class="line">        ptr++</span><br><span class="line">    &#125;</span><br><span class="line">    return ret + getString()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func getDigits() int &#123;</span><br><span class="line">    ret := 0</span><br><span class="line">    for ; src[ptr] &gt;= &#x27;0&#x27; &amp;&amp; src[ptr] &lt;= &#x27;9&#x27;; ptr++ &#123;</span><br><span class="line">        ret = ret * 10 + int(src[ptr] - &#x27;0&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">    return ret</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ-1"><a href="#å¤æ‚åº¦åˆ†æ-1" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼šè®°è§£ç åå¾—å‡ºçš„å­—ç¬¦ä¸²é•¿åº¦ä¸º Sï¼Œé™¤äº†éå†ä¸€æ¬¡åŸå­—ç¬¦ä¸² sï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†è§£ç åçš„å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½æ‹¼æ¥è¿›ç­”æ¡ˆä¸­ï¼Œæ•…æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º O(S+âˆ£sâˆ£)ï¼Œå³ O(S)ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ï¼šè‹¥ä¸è€ƒè™‘ç­”æ¡ˆæ‰€å ç”¨çš„ç©ºé—´ï¼Œé‚£ä¹ˆå°±åªå‰©é€’å½’ä½¿ç”¨æ ˆç©ºé—´çš„å¤§å°ï¼Œè¿™é‡Œæ ˆç©ºé—´çš„ä½¿ç”¨å’Œé€’å½’æ ‘çš„æ·±åº¦æˆæ­£æ¯”ï¼Œæœ€åæƒ…å†µä¸‹ä¸º O(âˆ£sâˆ£)ï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º O(âˆ£sâˆ£)ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç»™å®šä¸€ä¸ªç»è¿‡ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œè¿”å›å®ƒè§£ç åçš„å­—ç¬¦ä¸²ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´3æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B43%E6%9C%88/"/>
    
    
    <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
    <category term="Stack" scheme="http://yoursite.com/tags/Stack/"/>
    
    <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
    <category term="Recursive" scheme="http://yoursite.com/tags/Recursive/"/>
    
  </entry>
  
  <entry>
    <title>494. ç›®æ ‡å’Œ</title>
    <link href="http://yoursite.com/2022/03/09/494.%20%E7%9B%AE%E6%A0%87%E5%92%8C/"/>
    <id>http://yoursite.com/2022/03/09/494.%20%E7%9B%AE%E6%A0%87%E5%92%8C/</id>
    <published>2022-03-09T07:12:12.000Z</published>
    <updated>2022-03-09T06:52:42.114Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° target ã€‚</p><p>å‘æ•°ç»„ä¸­çš„æ¯ä¸ªæ•´æ•°å‰æ·»åŠ Â â€˜+â€™ æˆ– â€˜-â€˜ ï¼Œç„¶åä¸²è”èµ·æ‰€æœ‰æ•´æ•°ï¼Œå¯ä»¥æ„é€ ä¸€ä¸ª è¡¨è¾¾å¼ ï¼š</p><span id="more"></span><p>[TOC]</p><p>ä¾‹å¦‚ï¼Œnums &#x3D; [2, 1] ï¼Œå¯ä»¥åœ¨ 2 ä¹‹å‰æ·»åŠ  â€˜+â€™ ï¼Œåœ¨ 1 ä¹‹å‰æ·»åŠ  â€˜-â€˜ ï¼Œç„¶åä¸²è”èµ·æ¥å¾—åˆ°è¡¨è¾¾å¼ â€œ+2-1â€ ã€‚<br>è¿”å›å¯ä»¥é€šè¿‡ä¸Šè¿°æ–¹æ³•æ„é€ çš„ã€è¿ç®—ç»“æœç­‰äº target çš„ä¸åŒ è¡¨è¾¾å¼ çš„æ•°ç›®ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [1,1,1,1,1], target = 3è¾“å‡ºï¼š5è§£é‡Šï¼šä¸€å…±æœ‰ 5 ç§æ–¹æ³•è®©æœ€ç»ˆç›®æ ‡å’Œä¸º 3 ã€‚-1 + 1 + 1 + 1 + 1 = 3+1 - 1 + 1 + 1 + 1 = 3+1 + 1 - 1 + 1 + 1 = 3+1 + 1 + 1 - 1 + 1 = 3+1 + 1 + 1 + 1 - 1 = 3</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [1], target = 1è¾“å‡ºï¼š1</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= nums.length &lt;= 200 &lt;= nums[i] &lt;= 10000 &lt;= sum(nums[i]) &lt;= 1000-1000 &lt;= target &lt;= 1000</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šå›æº¯-1"><a href="#æ–¹æ³•ä¸€ï¼šå›æº¯-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå›æº¯^1"></a>æ–¹æ³•ä¸€ï¼šå›æº¯<a href="https://leetcode-cn.com/problems/target-sum/solution/mu-biao-he-by-leetcode-solution-o0cp/">^1</a></h1><p>æ•°ç»„ nums çš„æ¯ä¸ªå…ƒç´ éƒ½å¯ä»¥æ·»åŠ ç¬¦å· + æˆ– -ï¼Œå› æ­¤æ¯ä¸ªå…ƒç´ æœ‰ 2 ç§æ·»åŠ ç¬¦å·çš„æ–¹æ³•ï¼Œn ä¸ªæ•°å…±æœ‰ 2^n ç§æ·»åŠ ç¬¦å·çš„æ–¹æ³•ï¼Œå¯¹åº” 2^n ç§ä¸åŒçš„è¡¨è¾¾å¼ã€‚å½“ n ä¸ªå…ƒç´ éƒ½æ·»åŠ ç¬¦å·ä¹‹åï¼Œå³å¾—åˆ°ä¸€ç§è¡¨è¾¾å¼ï¼Œå¦‚æœè¡¨è¾¾å¼çš„ç»“æœç­‰äºç›®æ ‡æ•° targetï¼Œåˆ™è¯¥è¡¨è¾¾å¼å³ä¸ºç¬¦åˆè¦æ±‚çš„è¡¨è¾¾å¼ã€‚</p><p>å¯ä»¥ä½¿ç”¨å›æº¯çš„æ–¹æ³•éå†æ‰€æœ‰çš„è¡¨è¾¾å¼ï¼Œå›æº¯è¿‡ç¨‹ä¸­ç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨ countï¼Œå½“é‡åˆ°ä¸€ç§è¡¨è¾¾å¼çš„ç»“æœç­‰äºç›®æ ‡æ•° target æ—¶ï¼Œå°† count çš„å€¼åŠ  1ã€‚éå†å®Œæ‰€æœ‰çš„è¡¨è¾¾å¼ä¹‹åï¼Œå³å¯å¾—åˆ°ç»“æœç­‰äºç›®æ ‡æ•° target çš„è¡¨è¾¾å¼çš„æ•°ç›®ã€‚</p><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    int count = 0;</span><br><span class="line"></span><br><span class="line">    public int findTargetSumWays(int[] nums, int target) &#123;</span><br><span class="line">        backtrack(nums, target, 0, 0);</span><br><span class="line">        return count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void backtrack(int[] nums, int target, int index, int sum) &#123;</span><br><span class="line">        if (index == nums.length) &#123;</span><br><span class="line">            if (sum == target) &#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            backtrack(nums, target, index + 1, sum + nums[index]);</span><br><span class="line">            backtrack(nums, target, index + 1, sum - nums[index]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    int count = 0;</span><br><span class="line"></span><br><span class="line">    public int FindTargetSumWays(int[] nums, int target) &#123;</span><br><span class="line">        Backtrack(nums, target, 0, 0);</span><br><span class="line">        return count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void Backtrack(int[] nums, int target, int index, int sum) &#123;</span><br><span class="line">        if (index == nums.Length) &#123;</span><br><span class="line">            if (sum == target) &#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            Backtrack(nums, target, index + 1, sum + nums[index]);</span><br><span class="line">            Backtrack(nums, target, index + 1, sum - nums[index]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var findTargetSumWays = function(nums, target) &#123;</span><br><span class="line">    let count = 0;</span><br><span class="line">    const backtrack = (nums, target, index, sum) =&gt; &#123;</span><br><span class="line">        if (index === nums.length) &#123;</span><br><span class="line">            if (sum === target) &#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            backtrack(nums, target, index + 1, sum + nums[index]);</span><br><span class="line">            backtrack(nums, target, index + 1, sum - nums[index]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    backtrack(nums, target, 0, 0);</span><br><span class="line">    return count;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">func findTargetSumWays(nums []int, target int) (count int) &#123;</span><br><span class="line">    var backtrack func(int, int)</span><br><span class="line">    backtrack = func(index, sum int) &#123;</span><br><span class="line">        if index == len(nums) &#123;</span><br><span class="line">            if sum == target &#123;</span><br><span class="line">                count++</span><br><span class="line">            &#125;</span><br><span class="line">            return</span><br><span class="line">        &#125;</span><br><span class="line">        backtrack(index+1, sum+nums[index])</span><br><span class="line">        backtrack(index+1, sum-nums[index])</span><br><span class="line">    &#125;</span><br><span class="line">    backtrack(0, 0)</span><br><span class="line">    return</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int count = 0;</span><br><span class="line"></span><br><span class="line">    int findTargetSumWays(vector&lt;int&gt;&amp; nums, int target) &#123;</span><br><span class="line">        backtrack(nums, target, 0, 0);</span><br><span class="line">        return count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void backtrack(vector&lt;int&gt;&amp; nums, int target, int index, int sum) &#123;</span><br><span class="line">        if (index == nums.size()) &#123;</span><br><span class="line">            if (sum == target) &#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            backtrack(nums, target, index + 1, sum + nums[index]);</span><br><span class="line">            backtrack(nums, target, index + 1, sum - nums[index]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">int count;</span><br><span class="line"></span><br><span class="line">int findTargetSumWays(int* nums, int numsSize, int target) &#123;</span><br><span class="line">    count = 0;</span><br><span class="line">    backtrack(nums, numsSize, target, 0, 0);</span><br><span class="line">    return count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void backtrack(int* nums, int numSize, int target, int index, int sum) &#123;</span><br><span class="line">    if (index == numSize) &#123;</span><br><span class="line">        if (sum == target) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        backtrack(nums, numSize, target, index + 1, sum + nums[index]);</span><br><span class="line">        backtrack(nums, numSize, target, index + 1, sum - nums[index]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼šO(2^n)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„ nums çš„é•¿åº¦ã€‚å›æº¯éœ€è¦éå†æ‰€æœ‰ä¸åŒçš„è¡¨è¾¾å¼ï¼Œå…±æœ‰ 2^n ç§ä¸åŒçš„è¡¨è¾¾å¼ï¼Œæ¯ç§è¡¨è¾¾å¼è®¡ç®—ç»“æœéœ€è¦ O(1) çš„æ—¶é—´ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ O(2^n)ã€‚<br>ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„ nums çš„é•¿åº¦ã€‚ç©ºé—´å¤æ‚åº¦ä¸»è¦å–å†³äºé€’å½’è°ƒç”¨çš„æ ˆç©ºé—´ï¼Œæ ˆçš„æ·±åº¦ä¸è¶…è¿‡ nã€‚</p><h1 id="æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"><a href="#æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"></a>æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’</h1><p>è®°æ•°ç»„çš„å…ƒç´ å’Œä¸º sumï¼Œæ·»åŠ  - å·çš„å…ƒç´ ä¹‹å’Œä¸º negï¼Œåˆ™å…¶ä½™æ·»åŠ  + çš„å…ƒç´ ä¹‹å’Œä¸º sumâˆ’negï¼Œå¾—åˆ°çš„è¡¨è¾¾å¼çš„ç»“æœä¸º</p><pre><code>(sumâˆ’neg)âˆ’neg=sumâˆ’2â‹…neg=target</code></pre><p>å³</p><pre><code>neg= (sumâˆ’target)/2</code></pre><p>ç”±äºæ•°ç»„ nums ä¸­çš„å…ƒç´ éƒ½æ˜¯éè´Ÿæ•´æ•°ï¼Œneg ä¹Ÿå¿…é¡»æ˜¯éè´Ÿæ•´æ•°ï¼Œæ‰€ä»¥ä¸Šå¼æˆç«‹çš„å‰ææ˜¯ sumâˆ’target æ˜¯éè´Ÿå¶æ•°ã€‚è‹¥ä¸ç¬¦åˆè¯¥æ¡ä»¶å¯ç›´æ¥è¿”å› 0ã€‚</p><p>è‹¥ä¸Šå¼æˆç«‹ï¼Œé—®é¢˜è½¬åŒ–æˆåœ¨æ•°ç»„ nums ä¸­é€‰å–è‹¥å¹²å…ƒç´ ï¼Œä½¿å¾—è¿™äº›å…ƒç´ ä¹‹å’Œç­‰äº negï¼Œè®¡ç®—é€‰å–å…ƒç´ çš„æ–¹æ¡ˆæ•°ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’çš„æ–¹æ³•æ±‚è§£ã€‚</p><p>å®šä¹‰äºŒç»´æ•°ç»„ dpï¼Œå…¶ä¸­ dp[i][j] è¡¨ç¤ºåœ¨æ•°ç»„ nums çš„å‰ i ä¸ªæ•°ä¸­é€‰å–å…ƒç´ ï¼Œä½¿å¾—è¿™äº›å…ƒç´ ä¹‹å’Œç­‰äº j çš„æ–¹æ¡ˆæ•°ã€‚å‡è®¾æ•°ç»„ nums çš„é•¿åº¦ä¸º nï¼Œåˆ™æœ€ç»ˆç­”æ¡ˆä¸º dp[n][neg]ã€‚</p><p>å½“æ²¡æœ‰ä»»ä½•å…ƒç´ å¯ä»¥é€‰å–æ—¶ï¼Œå…ƒç´ å’Œåªèƒ½æ˜¯ 0ï¼Œå¯¹åº”çš„æ–¹æ¡ˆæ•°æ˜¯ 1ï¼Œå› æ­¤åŠ¨æ€è§„åˆ’çš„è¾¹ç•Œæ¡ä»¶æ˜¯ï¼š</p><p>å½“æ²¡æœ‰ä»»ä½•å…ƒç´ å¯ä»¥é€‰å–æ—¶ï¼Œå…ƒç´ å’Œåªèƒ½æ˜¯ 0ï¼Œå¯¹åº”çš„æ–¹æ¡ˆæ•°æ˜¯ 1ï¼Œå› æ­¤åŠ¨æ€è§„åˆ’çš„è¾¹ç•Œæ¡ä»¶æ˜¯ï¼š</p><pre><code>dp[0][j]=&#123;  1,j=0            0,jâ‰¥1</code></pre><p>å½“ 1â‰¤iâ‰¤n æ—¶ï¼Œå¯¹äºæ•°ç»„ nums ä¸­çš„ç¬¬ i ä¸ªå…ƒç´  numï¼ˆi çš„è®¡æ•°ä» 1 å¼€å§‹ï¼‰ï¼Œéå† 0â‰¤jâ‰¤negï¼Œè®¡ç®— dp[i][j] çš„å€¼ï¼š</p><ul><li>å¦‚æœ j&lt;numï¼Œåˆ™ä¸èƒ½é€‰ numï¼Œæ­¤æ—¶æœ‰ dp[i][j]&#x3D;dp[iâˆ’1][j]ï¼›</li><li>å¦‚æœ jâ‰¥numï¼Œåˆ™å¦‚æœä¸é€‰ numï¼Œæ–¹æ¡ˆæ•°æ˜¯ dp[iâˆ’1][j]ï¼Œå¦‚æœé€‰ numï¼Œæ–¹æ¡ˆæ•°æ˜¯ dp[iâˆ’1][jâˆ’num]ï¼Œæ­¤æ—¶æœ‰ dp[i][j]&#x3D;dp[iâˆ’1][j]+dp[iâˆ’1][jâˆ’num]ã€‚</li></ul><p>å› æ­¤çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š</p><pre><code>dp&#125;[i][j]=&#123; dp[i-1][j], j&lt;nums[i]            dp[i-1][j]+dp[i-1][j-nums[i]], j&gt;=nums[i]</code></pre><p>æœ€ç»ˆå¾—åˆ° dp[n][neg] çš„å€¼å³ä¸ºç­”æ¡ˆã€‚</p><p>ç”±æ­¤å¯ä»¥å¾—åˆ°ç©ºé—´å¤æ‚åº¦ä¸º O(nÃ—neg) çš„å®ç°ã€‚</p><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int findTargetSumWays(int[] nums, int target) &#123;</span><br><span class="line">        int sum = 0;</span><br><span class="line">        for (int num : nums) &#123;</span><br><span class="line">            sum += num;</span><br><span class="line">        &#125;</span><br><span class="line">        int diff = sum - target;</span><br><span class="line">        if (diff &lt; 0 || diff % 2 != 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        int n = nums.length, neg = diff / 2;</span><br><span class="line">        int[][] dp = new int[n + 1][neg + 1];</span><br><span class="line">        dp[0][0] = 1;</span><br><span class="line">        for (int i = 1; i &lt;= n; i++) &#123;</span><br><span class="line">            int num = nums[i - 1];</span><br><span class="line">            for (int j = 0; j &lt;= neg; j++) &#123;</span><br><span class="line">                dp[i][j] = dp[i - 1][j];</span><br><span class="line">                if (j &gt;= num) &#123;</span><br><span class="line">                    dp[i][j] += dp[i - 1][j - num];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[n][neg];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int FindTargetSumWays(int[] nums, int target) &#123;</span><br><span class="line">        int sum = 0;</span><br><span class="line">        foreach (int num in nums) &#123;</span><br><span class="line">            sum += num;</span><br><span class="line">        &#125;</span><br><span class="line">        int diff = sum - target;</span><br><span class="line">        if (diff &lt; 0 || diff % 2 != 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        int n = nums.Length, neg = diff / 2;</span><br><span class="line">        int[,] dp = new int[n + 1, neg + 1];</span><br><span class="line">        dp[0, 0] = 1;</span><br><span class="line">        for (int i = 1; i &lt;= n; i++) &#123;</span><br><span class="line">            int num = nums[i - 1];</span><br><span class="line">            for (int j = 0; j &lt;= neg; j++) &#123;</span><br><span class="line">                dp[i, j] = dp[i - 1, j];</span><br><span class="line">                if (j &gt;= num) &#123;</span><br><span class="line">                    dp[i, j] += dp[i - 1, j - num];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[n, neg];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">var findTargetSumWays = function(nums, target) &#123;</span><br><span class="line">    let sum = 0;</span><br><span class="line">    for (const num of nums) &#123;</span><br><span class="line">        sum += num;</span><br><span class="line">    &#125;</span><br><span class="line">    const diff = sum - target;</span><br><span class="line">    if (diff &lt; 0 || diff % 2 !== 0) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    const n = nums.length, neg = diff / 2;</span><br><span class="line">    const dp = new Array(n + 1).fill(0).map(() =&gt; new Array(neg + 1).fill(0));</span><br><span class="line">    dp[0][0] = 1;</span><br><span class="line">    for (let i = 1; i &lt;= n; i++) &#123;</span><br><span class="line">        const num = nums[i - 1];</span><br><span class="line">        for (let j = 0; j &lt;= neg; j++) &#123;</span><br><span class="line">            dp[i][j] = dp[i - 1][j];</span><br><span class="line">            if (j &gt;= num) &#123;</span><br><span class="line">                dp[i][j] += dp[i - 1][j - num];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return dp[n][neg];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">func findTargetSumWays(nums []int, target int) int &#123;</span><br><span class="line">    sum := 0</span><br><span class="line">    for _, v := range nums &#123;</span><br><span class="line">        sum += v</span><br><span class="line">    &#125;</span><br><span class="line">    diff := sum - target</span><br><span class="line">    if diff &lt; 0 || diff%2 == 1 &#123;</span><br><span class="line">        return 0</span><br><span class="line">    &#125;</span><br><span class="line">    n, neg := len(nums), diff/2</span><br><span class="line">    dp := make([][]int, n+1)</span><br><span class="line">    for i := range dp &#123;</span><br><span class="line">        dp[i] = make([]int, neg+1)</span><br><span class="line">    &#125;</span><br><span class="line">    dp[0][0] = 1</span><br><span class="line">    for i, num := range nums &#123;</span><br><span class="line">        for j := 0; j &lt;= neg; j++ &#123;</span><br><span class="line">            dp[i+1][j] = dp[i][j]</span><br><span class="line">            if j &gt;= num &#123;</span><br><span class="line">                dp[i+1][j] += dp[i][j-num]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return dp[n][neg]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int findTargetSumWays(vector&lt;int&gt;&amp; nums, int target) &#123;</span><br><span class="line">        int sum = 0;</span><br><span class="line">        for (int&amp; num : nums) &#123;</span><br><span class="line">            sum += num;</span><br><span class="line">        &#125;</span><br><span class="line">        int diff = sum - target;</span><br><span class="line">        if (diff &lt; 0 || diff % 2 != 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        int n = nums.size(), neg = diff / 2;</span><br><span class="line">        vector&lt;vector&lt;int&gt;&gt; dp(n + 1, vector&lt;int&gt;(neg + 1));</span><br><span class="line">        dp[0][0] = 1;</span><br><span class="line">        for (int i = 1; i &lt;= n; i++) &#123;</span><br><span class="line">            int num = nums[i - 1];</span><br><span class="line">            for (int j = 0; j &lt;= neg; j++) &#123;</span><br><span class="line">                dp[i][j] = dp[i - 1][j];</span><br><span class="line">                if (j &gt;= num) &#123;</span><br><span class="line">                    dp[i][j] += dp[i - 1][j - num];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[n][neg];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">int findTargetSumWays(int* nums, int numsSize, int target) &#123;</span><br><span class="line">    int sum = 0;</span><br><span class="line">    for (int i = 0; i &lt; numsSize; i++) &#123;</span><br><span class="line">        sum += nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    int diff = sum - target;</span><br><span class="line">    if (diff &lt; 0 || diff % 2 != 0) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    int n = numsSize, neg = diff / 2;</span><br><span class="line">    int dp[n + 1][neg + 1];</span><br><span class="line">    memset(dp, 0, sizeof(dp));</span><br><span class="line">    dp[0][0] = 1;</span><br><span class="line">    for (int i = 1; i &lt;= n; i++) &#123;</span><br><span class="line">        int num = nums[i - 1];</span><br><span class="line">        for (int j = 0; j &lt;= neg; j++) &#123;</span><br><span class="line">            dp[i][j] = dp[i - 1][j];</span><br><span class="line">            if (j &gt;= num) &#123;</span><br><span class="line">                dp[i][j] += dp[i - 1][j - num];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return dp[n][neg];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><p>ç”±äº dp çš„æ¯ä¸€è¡Œçš„è®¡ç®—åªå’Œä¸Šä¸€è¡Œæœ‰å…³ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨æ»šåŠ¨æ•°ç»„çš„æ–¹å¼ï¼Œå»æ‰ dp çš„ç¬¬ä¸€ä¸ªç»´åº¦ï¼Œå°†ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–åˆ° O(neg)ã€‚</p><p>å®ç°æ—¶ï¼Œå†…å±‚å¾ªç¯éœ€é‡‡ç”¨å€’åºéå†çš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼ä¿è¯è½¬ç§»æ¥çš„æ˜¯ dp[iâˆ’1][] ä¸­çš„å…ƒç´ å€¼ã€‚</p><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int findTargetSumWays(int[] nums, int target) &#123;</span><br><span class="line">        int sum = 0;</span><br><span class="line">        for (int num : nums) &#123;</span><br><span class="line">            sum += num;</span><br><span class="line">        &#125;</span><br><span class="line">        int diff = sum - target;</span><br><span class="line">        if (diff &lt; 0 || diff % 2 != 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        int neg = diff / 2;</span><br><span class="line">        int[] dp = new int[neg + 1];</span><br><span class="line">        dp[0] = 1;</span><br><span class="line">        for (int num : nums) &#123;</span><br><span class="line">            for (int j = neg; j &gt;= num; j--) &#123;</span><br><span class="line">                dp[j] += dp[j - num];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[neg];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int FindTargetSumWays(int[] nums, int target) &#123;</span><br><span class="line">        int sum = 0;</span><br><span class="line">        foreach (int num in nums) &#123;</span><br><span class="line">            sum += num;</span><br><span class="line">        &#125;</span><br><span class="line">        int diff = sum - target;</span><br><span class="line">        if (diff &lt; 0 || diff % 2 != 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        int neg = diff / 2;</span><br><span class="line">        int[] dp = new int[neg + 1];</span><br><span class="line">        dp[0] = 1;</span><br><span class="line">        foreach (int num in nums) &#123;</span><br><span class="line">            for (int j = neg; j &gt;= num; j--) &#123;</span><br><span class="line">                dp[j] += dp[j - num];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[neg];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">var findTargetSumWays = function(nums, target) &#123;</span><br><span class="line">    let sum = 0;</span><br><span class="line">    for (const num of nums) &#123;</span><br><span class="line">        sum += num;</span><br><span class="line">    &#125;</span><br><span class="line">    const diff = sum - target;</span><br><span class="line">    if (diff &lt; 0 || diff % 2 !== 0) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    const neg = Math.floor(diff / 2);</span><br><span class="line">    const dp = new Array(neg + 1).fill(0);</span><br><span class="line">    dp[0] = 1;</span><br><span class="line">    for (const num of nums) &#123;</span><br><span class="line">        for (let j = neg; j &gt;= num; j--) &#123;</span><br><span class="line">            dp[j] += dp[j - num];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return dp[neg];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">func findTargetSumWays(nums []int, target int) int &#123;</span><br><span class="line">    sum := 0</span><br><span class="line">    for _, v := range nums &#123;</span><br><span class="line">        sum += v</span><br><span class="line">    &#125;</span><br><span class="line">    diff := sum - target</span><br><span class="line">    if diff &lt; 0 || diff%2 == 1 &#123;</span><br><span class="line">        return 0</span><br><span class="line">    &#125;</span><br><span class="line">    neg := diff / 2</span><br><span class="line">    dp := make([]int, neg+1)</span><br><span class="line">    dp[0] = 1</span><br><span class="line">    for _, num := range nums &#123;</span><br><span class="line">        for j := neg; j &gt;= num; j-- &#123;</span><br><span class="line">            dp[j] += dp[j-num]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return dp[neg]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int findTargetSumWays(vector&lt;int&gt;&amp; nums, int target) &#123;</span><br><span class="line">        int sum = 0;</span><br><span class="line">        for (int&amp; num : nums) &#123;</span><br><span class="line">            sum += num;</span><br><span class="line">        &#125;</span><br><span class="line">        int diff = sum - target;</span><br><span class="line">        if (diff &lt; 0 || diff % 2 != 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        int neg = diff / 2;</span><br><span class="line">        vector&lt;int&gt; dp(neg + 1);</span><br><span class="line">        dp[0] = 1;</span><br><span class="line">        for (int&amp; num : nums) &#123;</span><br><span class="line">            for (int j = neg; j &gt;= num; j--) &#123;</span><br><span class="line">                dp[j] += dp[j - num];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[neg];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">int findTargetSumWays(int* nums, int numsSize, int target) &#123;</span><br><span class="line">    int sum = 0;</span><br><span class="line">    for (int i = 0; i &lt; numsSize; i++) &#123;</span><br><span class="line">        sum += nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    int diff = sum - target;</span><br><span class="line">    if (diff &lt; 0 || diff % 2 != 0) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    int neg = diff / 2;</span><br><span class="line">    int dp[neg + 1];</span><br><span class="line">    memset(dp, 0, sizeof(dp));</span><br><span class="line">    dp[0] = 1;</span><br><span class="line">    for (int i = 0; i &lt; numsSize; i++) &#123;</span><br><span class="line">        int num = nums[i];</span><br><span class="line">        for (int j = neg; j &gt;= num; j--) &#123;</span><br><span class="line">            dp[j] += dp[j - num];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return dp[neg];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ-1"><a href="#å¤æ‚åº¦åˆ†æ-1" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nÃ—(sumâˆ’target))ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„ nums çš„é•¿åº¦ï¼Œsum æ˜¯æ•°ç»„ nums çš„å…ƒç´ å’Œï¼Œtarget æ˜¯ç›®æ ‡æ•°ã€‚åŠ¨æ€è§„åˆ’æœ‰ (n+1)Ã—((sumâˆ’target)&#x2F;2+1) ä¸ªçŠ¶æ€ï¼Œéœ€è¦è®¡ç®—æ¯ä¸ªçŠ¶æ€çš„å€¼ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(sumâˆ’target)ï¼Œå…¶ä¸­ sum æ˜¯æ•°ç»„ nums çš„å…ƒç´ å’Œï¼Œtarget æ˜¯ç›®æ ‡æ•°ã€‚ä½¿ç”¨ç©ºé—´ä¼˜åŒ–çš„å®ç°ï¼Œéœ€è¦åˆ›å»ºé•¿åº¦ä¸º  (sumâˆ’target)&#x2F;2+1 çš„æ•°ç»„ dpã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° target ã€‚&lt;/p&gt;
&lt;p&gt;å‘æ•°ç»„ä¸­çš„æ¯ä¸ªæ•´æ•°å‰æ·»åŠ Â â€˜+â€™ æˆ– â€˜-â€˜ ï¼Œç„¶åä¸²è”èµ·æ‰€æœ‰æ•´æ•°ï¼Œå¯ä»¥æ„é€ ä¸€ä¸ª è¡¨è¾¾å¼ ï¼š&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´3æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B43%E6%9C%88/"/>
    
    
    <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
    <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
    <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
    <category term="Backtracking" scheme="http://yoursite.com/tags/Backtracking/"/>
    
  </entry>
  
  <entry>
    <title>416. åˆ†å‰²ç­‰å’Œå­é›†</title>
    <link href="http://yoursite.com/2022/03/08/416.%20%E5%88%86%E5%89%B2%E7%AD%89%E5%92%8C%E5%AD%90%E9%9B%86/"/>
    <id>http://yoursite.com/2022/03/08/416.%20%E5%88%86%E5%89%B2%E7%AD%89%E5%92%8C%E5%AD%90%E9%9B%86/</id>
    <published>2022-03-08T09:12:12.000Z</published>
    <updated>2022-03-08T09:28:09.428Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ª åªåŒ…å«æ­£æ•´æ•° çš„ éç©º æ•°ç»„nums ã€‚è¯·ä½ åˆ¤æ–­æ˜¯å¦å¯ä»¥å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—ä¸¤ä¸ªå­é›†çš„å…ƒç´ å’Œç›¸ç­‰ã€‚</p><span id="more"></span><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [1,5,11,5]è¾“å‡ºï¼štrueè§£é‡Šï¼šæ•°ç»„å¯ä»¥åˆ†å‰²æˆ [1, 5, 5] å’Œ [11] ã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [1,2,3,5]è¾“å‡ºï¼šfalseè§£é‡Šï¼šæ•°ç»„ä¸èƒ½åˆ†å‰²æˆä¸¤ä¸ªå…ƒç´ å’Œç›¸ç­‰çš„å­é›†ã€‚</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= nums.length &lt;= 2001 &lt;= nums[i] &lt;= 100</code></pre><h1 id="æ–‡å­—é¢˜è§£-1"><a href="#æ–‡å­—é¢˜è§£-1" class="headerlink" title="æ–‡å­—é¢˜è§£^1"></a>æ–‡å­—é¢˜è§£<a href="https://leetcode-cn.com/problems/partition-equal-subset-sum/solution/fen-ge-deng-he-zi-ji-by-leetcode-solution/">^1</a></h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä½œè€…åœ¨è¿™é‡Œå¸Œæœ›è¯»è€…è®¤çœŸé˜…è¯»å‰è¨€éƒ¨åˆ†ã€‚</p><p>æœ¬é¢˜æ˜¯ç»å…¸çš„ã€ŒNP å®Œå…¨é—®é¢˜ã€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ å‘ç°äº†è¯¥é—®é¢˜çš„ä¸€ä¸ªå¤šé¡¹å¼ç®—æ³•ï¼Œé‚£ä¹ˆæ­å–œä½ è¯æ˜å‡ºäº† P&#x3D;NPï¼Œå¯ä»¥æœŸå¾…ä¸€ä¸‹å›¾çµå¥–äº†ã€‚</p><p>æ­£å› å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¸åº”æœŸæœ›è¯¥é—®é¢˜æœ‰å¤šé¡¹å¼æ—¶é—´å¤æ‚åº¦çš„è§£æ³•ã€‚æˆ‘ä»¬èƒ½æƒ³åˆ°çš„ï¼Œä¾‹å¦‚åŸºäºè´ªå¿ƒç®—æ³•çš„ã€Œå°†æ•°ç»„é™åºæ’åºåï¼Œä¾æ¬¡å°†æ¯ä¸ªå…ƒç´ æ·»åŠ è‡³å½“å‰å…ƒç´ å’Œè¾ƒå°çš„å­é›†ä¸­ã€ä¹‹ç±»çš„æ–¹æ³•éƒ½æ˜¯é”™è¯¯çš„ï¼Œå¯ä»¥è½»æ¾åœ°ä¸¾å‡ºåä¾‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»å°è¯•éå¤šé¡¹å¼æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•ï¼Œä¾‹å¦‚æ—¶é—´å¤æ‚åº¦ä¸å…ƒç´ å¤§å°ç›¸å…³çš„åŠ¨æ€è§„åˆ’ã€‚</p><h2 id="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’"><a href="#æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’"></a>æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’</h2><h3 id="æ€è·¯ä¸ç®—æ³•"><a href="#æ€è·¯ä¸ç®—æ³•" class="headerlink" title="æ€è·¯ä¸ç®—æ³•"></a>æ€è·¯ä¸ç®—æ³•</h3><p>è¿™é“é¢˜å¯ä»¥æ¢ä¸€ç§è¡¨è¿°ï¼šç»™å®šä¸€ä¸ªåªåŒ…å«æ­£æ•´æ•°çš„éç©ºæ•°ç»„ nums[0]ï¼Œåˆ¤æ–­æ˜¯å¦å¯ä»¥ä»æ•°ç»„ä¸­é€‰å‡ºä¸€äº›æ•°å­—ï¼Œä½¿å¾—è¿™äº›æ•°å­—çš„å’Œç­‰äºæ•´ä¸ªæ•°ç»„çš„å…ƒç´ å’Œçš„ä¸€åŠã€‚å› æ­¤è¿™ä¸ªé—®é¢˜å¯ä»¥è½¬æ¢æˆã€Œ0âˆ’1 èƒŒåŒ…é—®é¢˜ã€ã€‚è¿™é“é¢˜ä¸ä¼ ç»Ÿçš„ã€Œ0âˆ’1 èƒŒåŒ…é—®é¢˜ã€çš„åŒºåˆ«åœ¨äºï¼Œä¼ ç»Ÿçš„ã€Œ0âˆ’1 èƒŒåŒ…é—®é¢˜ã€è¦æ±‚é€‰å–çš„ç‰©å“çš„é‡é‡ä¹‹å’Œä¸èƒ½è¶…è¿‡èƒŒåŒ…çš„æ€»å®¹é‡ï¼Œè¿™é“é¢˜åˆ™è¦æ±‚é€‰å–çš„æ•°å­—çš„å’Œæ°å¥½ç­‰äºæ•´ä¸ªæ•°ç»„çš„å…ƒç´ å’Œçš„ä¸€åŠã€‚ç±»ä¼¼äºä¼ ç»Ÿçš„ã€Œ0âˆ’1 èƒŒåŒ…é—®é¢˜ã€ï¼Œå¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£ã€‚</p><p>åœ¨ä½¿ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦è¿›è¡Œä»¥ä¸‹åˆ¤æ–­ã€‚</p><ul><li><p>æ ¹æ®æ•°ç»„çš„é•¿åº¦ n åˆ¤æ–­æ•°ç»„æ˜¯å¦å¯ä»¥è¢«åˆ’åˆ†ã€‚å¦‚æœ n&lt;2ï¼Œåˆ™ä¸å¯èƒ½å°†æ•°ç»„åˆ†å‰²æˆå…ƒç´ å’Œç›¸ç­‰çš„ä¸¤ä¸ªå­é›†ï¼Œå› æ­¤ç›´æ¥è¿”å› falseã€‚</p></li><li><p>è®¡ç®—æ•´ä¸ªæ•°ç»„çš„å…ƒç´ å’Œ sum ä»¥åŠæœ€å¤§å…ƒç´  maxNumã€‚å¦‚æœ sum æ˜¯å¥‡æ•°ï¼Œåˆ™ä¸å¯èƒ½å°†æ•°ç»„åˆ†å‰²æˆå…ƒç´ å’Œç›¸ç­‰çš„ä¸¤ä¸ªå­é›†ï¼Œå› æ­¤ç›´æ¥è¿”å› falseã€‚å¦‚æœ sum æ˜¯å¶æ•°ï¼Œåˆ™ä»¤ target&#x3D; 2sumï¼Œéœ€è¦åˆ¤æ–­æ˜¯å¦å¯ä»¥ä»æ•°ç»„ä¸­é€‰å‡ºä¸€äº›æ•°å­—ï¼Œä½¿å¾—è¿™äº›æ•°å­—çš„å’Œç­‰äº targetã€‚å¦‚æœ maxNum&gt;targetï¼Œåˆ™é™¤äº† maxNum ä»¥å¤–çš„æ‰€æœ‰å…ƒç´ ä¹‹å’Œä¸€å®šå°äº targetï¼Œå› æ­¤ä¸å¯èƒ½å°†æ•°ç»„åˆ†å‰²æˆå…ƒç´ å’Œç›¸ç­‰çš„ä¸¤ä¸ªå­é›†ï¼Œç›´æ¥è¿”å› falseã€‚</p></li></ul><p>åˆ›å»ºäºŒç»´æ•°ç»„ dpï¼ŒåŒ…å« n è¡Œ target+1 åˆ—ï¼Œå…¶ä¸­ dp[i][j] è¡¨ç¤ºä»æ•°ç»„çš„ [0,i] ä¸‹æ ‡èŒƒå›´å†…é€‰å–è‹¥å¹²ä¸ªæ­£æ•´æ•°ï¼ˆå¯ä»¥æ˜¯ 0 ä¸ªï¼‰ï¼Œæ˜¯å¦å­˜åœ¨ä¸€ç§é€‰å–æ–¹æ¡ˆä½¿å¾—è¢«é€‰å–çš„æ­£æ•´æ•°çš„å’Œç­‰äº jã€‚åˆå§‹æ—¶ï¼Œdp ä¸­çš„å…¨éƒ¨å…ƒç´ éƒ½æ˜¯ falseã€‚</p><p>åœ¨å®šä¹‰çŠ¶æ€ä¹‹åï¼Œéœ€è¦è€ƒè™‘è¾¹ç•Œæƒ…å†µã€‚ä»¥ä¸‹ä¸¤ç§æƒ…å†µéƒ½å±äºè¾¹ç•Œæƒ…å†µã€‚</p><ul><li>å¦‚æœä¸é€‰å–ä»»ä½•æ­£æ•´æ•°ï¼Œåˆ™è¢«é€‰å–çš„æ­£æ•´æ•°ç­‰äº 0ã€‚å› æ­¤å¯¹äºæ‰€æœ‰ 0â‰¤i&lt;nï¼Œéƒ½æœ‰ dp[i][0]&#x3D;trueã€‚</li><li>å½“ i&#x3D;&#x3D;0 æ—¶ï¼Œåªæœ‰ä¸€ä¸ªæ­£æ•´æ•° nums[0] å¯ä»¥è¢«é€‰å–ï¼Œå› æ­¤ dp[0][nums[0]]&#x3D;trueã€‚</li></ul><p>å¯¹äº i&gt;0 ä¸” j&gt;0 çš„æƒ…å†µï¼Œå¦‚ä½•ç¡®å®š dp[i][j] çš„å€¼ï¼Ÿéœ€è¦åˆ†åˆ«è€ƒè™‘ä»¥ä¸‹ä¸¤ç§æƒ…å†µã€‚</p><ul><li><p>å¦‚æœ jâ‰¥nums[i]ï¼Œåˆ™å¯¹äºå½“å‰çš„æ•°å­— nums[i]ï¼Œå¯ä»¥é€‰å–ä¹Ÿå¯ä»¥ä¸é€‰å–ï¼Œä¸¤ç§æƒ…å†µåªè¦æœ‰ä¸€ä¸ªä¸º trueï¼Œå°±æœ‰ dp[i][j]&#x3D;trueã€‚</p><p>  å¦‚æœä¸é€‰å– nums[i]ï¼Œåˆ™ dp[i][j]&#x3D;dp[iâˆ’1][j]ï¼›<br>  å¦‚æœé€‰å– nums[i]ï¼Œåˆ™ dp[i][j]&#x3D;dp[iâˆ’1][jâˆ’nums[i]]ã€‚</p></li><li><p>å¦‚æœ j&lt;nums[i]ï¼Œåˆ™åœ¨é€‰å–çš„æ•°å­—çš„å’Œç­‰äº j çš„æƒ…å†µä¸‹æ— æ³•é€‰å–å½“å‰çš„æ•°å­— nums[i]ï¼Œå› æ­¤æœ‰ dp[i][j]&#x3D;dp[iâˆ’1][j]ã€‚</p></li></ul><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¦‚ä¸‹ï¼š</p><pre><code>dp[i][j]=&#123; dp[iâˆ’1][j] âˆ£ dp[iâˆ’1][jâˆ’nums[i]], jâ‰¥nums[i]           dp[iâˆ’1][j],  j&lt;nums[i]</code></pre><p>æœ€ç»ˆå¾—åˆ° dp[nâˆ’1][target] å³ä¸ºç­”æ¡ˆã€‚</p><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public boolean canPartition(int[] nums) &#123;</span><br><span class="line">        int n = nums.length;</span><br><span class="line">        if (n &lt; 2) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        int sum = 0, maxNum = 0;</span><br><span class="line">        for (int num : nums) &#123;</span><br><span class="line">            sum += num;</span><br><span class="line">            maxNum = Math.max(maxNum, num);</span><br><span class="line">        &#125;</span><br><span class="line">        if (sum % 2 != 0) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        int target = sum / 2;</span><br><span class="line">        if (maxNum &gt; target) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        boolean[][] dp = new boolean[n][target + 1];</span><br><span class="line">        for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">            dp[i][0] = true;</span><br><span class="line">        &#125;</span><br><span class="line">        dp[0][nums[0]] = true;</span><br><span class="line">        for (int i = 1; i &lt; n; i++) &#123;</span><br><span class="line">            int num = nums[i];</span><br><span class="line">            for (int j = 1; j &lt;= target; j++) &#123;</span><br><span class="line">                if (j &gt;= num) &#123;</span><br><span class="line">                    dp[i][j] = dp[i - 1][j] | dp[i - 1][j - num];</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    dp[i][j] = dp[i - 1][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[n - 1][target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    bool canPartition(vector&lt;int&gt;&amp; nums) &#123;</span><br><span class="line">        int n = nums.size();</span><br><span class="line">        if (n &lt; 2) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        int sum = accumulate(nums.begin(), nums.end(), 0);</span><br><span class="line">        int maxNum = *max_element(nums.begin(), nums.end());</span><br><span class="line">        if (sum &amp; 1) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        int target = sum / 2;</span><br><span class="line">        if (maxNum &gt; target) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;vector&lt;int&gt;&gt; dp(n, vector&lt;int&gt;(target + 1, 0));</span><br><span class="line">        for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">            dp[i][0] = true;</span><br><span class="line">        &#125;</span><br><span class="line">        dp[0][nums[0]] = true;</span><br><span class="line">        for (int i = 1; i &lt; n; i++) &#123;</span><br><span class="line">            int num = nums[i];</span><br><span class="line">            for (int j = 1; j &lt;= target; j++) &#123;</span><br><span class="line">                if (j &gt;= num) &#123;</span><br><span class="line">                    dp[i][j] = dp[i - 1][j] | dp[i - 1][j - num];</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    dp[i][j] = dp[i - 1][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[n - 1][target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">var canPartition = function(nums) &#123;</span><br><span class="line">    const n = nums.length;</span><br><span class="line">    if (n &lt; 2) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    let sum = 0, maxNum = 0;</span><br><span class="line">    for (const num of nums) &#123;</span><br><span class="line">        sum += num;</span><br><span class="line">        maxNum = maxNum &gt; num ? maxNum : num;</span><br><span class="line">    &#125;</span><br><span class="line">    if (sum &amp; 1) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    const target = Math.floor(sum / 2);</span><br><span class="line">    if (maxNum &gt; target) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    const dp = new Array(n).fill(0).map(v =&gt; new Array(target + 1, false));</span><br><span class="line">    for (let i = 0; i &lt; n; i++) &#123;</span><br><span class="line">        dp[i][0] = true;</span><br><span class="line">    &#125;</span><br><span class="line">    dp[0][nums[0]] = true;</span><br><span class="line">    for (let i = 1; i &lt; n; i++) &#123;</span><br><span class="line">        const num = nums[i];</span><br><span class="line">        for (let j = 1; j &lt;= target; j++) &#123;</span><br><span class="line">            if (j &gt;= num) &#123;</span><br><span class="line">                dp[i][j] = dp[i - 1][j] | dp[i - 1][j - num];</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                dp[i][j] = dp[i - 1][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return dp[n - 1][target];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Go</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">func canPartition(nums []int) bool &#123;</span><br><span class="line">    n := len(nums)</span><br><span class="line">    if n &lt; 2 &#123;</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sum, max := 0, 0</span><br><span class="line">    for _, v := range nums &#123;</span><br><span class="line">        sum += v</span><br><span class="line">        if v &gt; max &#123;</span><br><span class="line">            max = v</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if sum%2 != 0 &#123;</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    target := sum / 2</span><br><span class="line">    if max &gt; target &#123;</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dp := make([][]bool, n)</span><br><span class="line">    for i := range dp &#123;</span><br><span class="line">        dp[i] = make([]bool, target+1)</span><br><span class="line">    &#125;</span><br><span class="line">    for i := 0; i &lt; n; i++ &#123;</span><br><span class="line">        dp[i][0] = true</span><br><span class="line">    &#125;</span><br><span class="line">    dp[0][nums[0]] = true</span><br><span class="line">    for i := 1; i &lt; n; i++ &#123;</span><br><span class="line">        v := nums[i]</span><br><span class="line">        for j := 1; j &lt;= target; j++ &#123;</span><br><span class="line">            if j &gt;= v &#123;</span><br><span class="line">                dp[i][j] = dp[i-1][j] || dp[i-1][j-v]</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                dp[i][j] = dp[i-1][j]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return dp[n-1][target]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">bool canPartition(int* nums, int numsSize) &#123;</span><br><span class="line">    if (numsSize &lt; 2) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    int sum = 0, maxNum = 0;</span><br><span class="line">    for (int i = 0; i &lt; numsSize; ++i) &#123;</span><br><span class="line">        sum += nums[i];</span><br><span class="line">        maxNum = fmax(maxNum, nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    if (sum &amp; 1) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    int target = sum / 2;</span><br><span class="line">    if (maxNum &gt; target) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    int dp[numsSize][target + 1];</span><br><span class="line">    memset(dp, 0, sizeof(dp));</span><br><span class="line">    for (int i = 0; i &lt; numsSize; i++) &#123;</span><br><span class="line">        dp[i][0] = true;</span><br><span class="line">    &#125;</span><br><span class="line">    dp[0][nums[0]] = true;</span><br><span class="line">    for (int i = 1; i &lt; numsSize; i++) &#123;</span><br><span class="line">        int num = nums[i];</span><br><span class="line">        for (int j = 1; j &lt;= target; j++) &#123;</span><br><span class="line">            if (j &gt;= num) &#123;</span><br><span class="line">                dp[i][j] = dp[i - 1][j] | dp[i - 1][j - num];</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                dp[i][j] = dp[i - 1][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return dp[numsSize - 1][target];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def canPartition(self, nums: List[int]) -&gt; bool:</span><br><span class="line">        n = len(nums)</span><br><span class="line">        if n &lt; 2:</span><br><span class="line">            return False</span><br><span class="line">        </span><br><span class="line">        total = sum(nums)</span><br><span class="line">        maxNum = max(nums)</span><br><span class="line">        if total &amp; 1:</span><br><span class="line">            return False</span><br><span class="line">        </span><br><span class="line">        target = total // 2</span><br><span class="line">        if maxNum &gt; target:</span><br><span class="line">            return False</span><br><span class="line">        </span><br><span class="line">        dp = [[False] * (target + 1) for _ in range(n)]</span><br><span class="line">        for i in range(n):</span><br><span class="line">            dp[i][0] = True</span><br><span class="line">        </span><br><span class="line">        dp[0][nums[0]] = True</span><br><span class="line">        for i in range(1, n):</span><br><span class="line">            num = nums[i]</span><br><span class="line">            for j in range(1, target + 1):</span><br><span class="line">                if j &gt;= num:</span><br><span class="line">                    dp[i][j] = dp[i - 1][j] | dp[i - 1][j - num]</span><br><span class="line">                else:</span><br><span class="line">                    dp[i][j] = dp[i - 1][j]</span><br><span class="line">        </span><br><span class="line">        return dp[n - 1][target]</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><p>ä¸Šè¿°ä»£ç çš„ç©ºé—´å¤æ‚åº¦æ˜¯ O(nÃ—target)ã€‚ä½†æ˜¯å¯ä»¥å‘ç°åœ¨è®¡ç®— dp çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€è¡Œçš„ dp å€¼éƒ½åªä¸ä¸Šä¸€è¡Œçš„ dp å€¼æœ‰å…³ï¼Œå› æ­¤åªéœ€è¦ä¸€ä¸ªä¸€ç»´æ•°ç»„å³å¯å°†ç©ºé—´å¤æ‚åº¦é™åˆ° O(target)ã€‚æ­¤æ—¶çš„è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p><pre><code>dp[j]=dp[j] âˆ£ dp[jâˆ’nums[i]]</code></pre><p>ä¸”éœ€è¦æ³¨æ„çš„æ˜¯ç¬¬äºŒå±‚çš„å¾ªç¯æˆ‘ä»¬éœ€è¦ä»å¤§åˆ°å°è®¡ç®—ï¼Œå› ä¸ºå¦‚æœæˆ‘ä»¬ä»å°åˆ°å¤§æ›´æ–° dp å€¼ï¼Œé‚£ä¹ˆåœ¨è®¡ç®— dp[j] å€¼çš„æ—¶å€™ï¼Œdp[jâˆ’nums[i]] å·²ç»æ˜¯è¢«æ›´æ–°è¿‡çš„çŠ¶æ€ï¼Œä¸å†æ˜¯ä¸Šä¸€è¡Œçš„ dp å€¼ã€‚</p><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public boolean canPartition(int[] nums) &#123;</span><br><span class="line">        int n = nums.length;</span><br><span class="line">        if (n &lt; 2) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        int sum = 0, maxNum = 0;</span><br><span class="line">        for (int num : nums) &#123;</span><br><span class="line">            sum += num;</span><br><span class="line">            maxNum = Math.max(maxNum, num);</span><br><span class="line">        &#125;</span><br><span class="line">        if (sum % 2 != 0) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        int target = sum / 2;</span><br><span class="line">        if (maxNum &gt; target) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        boolean[] dp = new boolean[target + 1];</span><br><span class="line">        dp[0] = true;</span><br><span class="line">        for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">            int num = nums[i];</span><br><span class="line">            for (int j = target; j &gt;= num; --j) &#123;</span><br><span class="line">                dp[j] |= dp[j - num];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    bool canPartition(vector&lt;int&gt;&amp; nums) &#123;</span><br><span class="line">        int n = nums.size();</span><br><span class="line">        if (n &lt; 2) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        int sum = 0, maxNum = 0;</span><br><span class="line">        for (auto&amp; num : nums) &#123;</span><br><span class="line">            sum += num;</span><br><span class="line">            maxNum = max(maxNum, num);</span><br><span class="line">        &#125;</span><br><span class="line">        if (sum &amp; 1) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        int target = sum / 2;</span><br><span class="line">        if (maxNum &gt; target) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;int&gt; dp(target + 1, 0);</span><br><span class="line">        dp[0] = true;</span><br><span class="line">        for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">            int num = nums[i];</span><br><span class="line">            for (int j = target; j &gt;= num; --j) &#123;</span><br><span class="line">                dp[j] |= dp[j - num];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[target];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">var canPartition = function(nums) &#123;</span><br><span class="line">    const n = nums.length;</span><br><span class="line">    if (n &lt; 2) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    let sum = 0, maxNum = 0;</span><br><span class="line">    for (const num of nums) &#123;</span><br><span class="line">        sum += num;</span><br><span class="line">        maxNum = maxNum &gt; num ? maxNum : num;</span><br><span class="line">    &#125;</span><br><span class="line">    if (sum &amp; 1) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    const target = Math.floor(sum / 2);</span><br><span class="line">    if (maxNum &gt; target) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    const dp = new Array(target + 1).fill(false);</span><br><span class="line">    dp[0] = true;</span><br><span class="line">    for (const num of nums) &#123;</span><br><span class="line">        for (let j = target; j &gt;= num; --j) &#123;</span><br><span class="line">            dp[j] |= dp[j - num];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return dp[target];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Go</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">func canPartition(nums []int) bool &#123;</span><br><span class="line">    n := len(nums)</span><br><span class="line">    if n &lt; 2 &#123;</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sum, max := 0, 0</span><br><span class="line">    for _, v := range nums &#123;</span><br><span class="line">        sum += v</span><br><span class="line">        if v &gt; max &#123;</span><br><span class="line">            max = v</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if sum%2 != 0 &#123;</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    target := sum / 2</span><br><span class="line">    if max &gt; target &#123;</span><br><span class="line">        return false</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dp := make([]bool, target+1)</span><br><span class="line">    dp[0] = true</span><br><span class="line">    for i := 0; i &lt; n; i++ &#123;</span><br><span class="line">        v := nums[i]</span><br><span class="line">        for j := target; j &gt;= v; j-- &#123;</span><br><span class="line">            dp[j] = dp[j] || dp[j-v]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return dp[target]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">bool canPartition(int* nums, int numsSize) &#123;</span><br><span class="line">    if (numsSize &lt; 2) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    int sum = 0, maxNum = 0;</span><br><span class="line">    for (int i = 0; i &lt; numsSize; ++i) &#123;</span><br><span class="line">        sum += nums[i];</span><br><span class="line">        maxNum = fmax(maxNum, nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    if (sum &amp; 1) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    int target = sum / 2;</span><br><span class="line">    if (maxNum &gt; target) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    int dp[target + 1];</span><br><span class="line">    memset(dp, 0, sizeof(dp));</span><br><span class="line">    dp[0] = true;</span><br><span class="line">    for (int i = 0; i &lt; numsSize; i++) &#123;</span><br><span class="line">        int num = nums[i];</span><br><span class="line">        for (int j = target; j &gt;= num; --j) &#123;</span><br><span class="line">            dp[j] |= dp[j - num];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return dp[target];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def canPartition(self, nums: List[int]) -&gt; bool:</span><br><span class="line">        n = len(nums)</span><br><span class="line">        if n &lt; 2:</span><br><span class="line">            return False</span><br><span class="line">        </span><br><span class="line">        total = sum(nums)</span><br><span class="line">        if total % 2 != 0:</span><br><span class="line">            return False</span><br><span class="line">        </span><br><span class="line">        target = total // 2</span><br><span class="line">        dp = [True] + [False] * target</span><br><span class="line">        for i, num in enumerate(nums):</span><br><span class="line">            for j in range(target, num - 1, -1):</span><br><span class="line">                dp[j] |= dp[j - num]</span><br><span class="line">        </span><br><span class="line">        return dp[target]</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><h3 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h3><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nÃ—target)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„çš„é•¿åº¦ï¼Œtarget æ˜¯æ•´ä¸ªæ•°ç»„çš„å…ƒç´ å’Œçš„ä¸€åŠã€‚éœ€è¦è®¡ç®—å‡ºæ‰€æœ‰çš„çŠ¶æ€ï¼Œæ¯ä¸ªçŠ¶æ€åœ¨è¿›è¡Œè½¬ç§»æ—¶çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(target)ï¼Œå…¶ä¸­ target æ˜¯æ•´ä¸ªæ•°ç»„çš„å…ƒç´ å’Œçš„ä¸€åŠã€‚ç©ºé—´å¤æ‚åº¦å–å†³äº dp æ•°ç»„ï¼Œåœ¨ä¸è¿›è¡Œç©ºé—´ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯ O(nÃ—target)ï¼Œåœ¨è¿›è¡Œç©ºé—´ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œç©ºé—´å¤æ‚åº¦å¯ä»¥é™åˆ° O(target)ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç»™ä½ ä¸€ä¸ª åªåŒ…å«æ­£æ•´æ•° çš„ éç©º æ•°ç»„nums ã€‚è¯·ä½ åˆ¤æ–­æ˜¯å¦å¯ä»¥å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—ä¸¤ä¸ªå­é›†çš„å…ƒç´ å’Œç›¸ç­‰ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´3æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B43%E6%9C%88/"/>
    
    
    <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
    <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
    <category term="Dynamic Programming" scheme="http://yoursite.com/tags/Dynamic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>581. æœ€çŸ­æ— åºè¿ç»­å­æ•°ç»„</title>
    <link href="http://yoursite.com/2022/03/08/581.%20%E6%9C%80%E7%9F%AD%E6%97%A0%E5%BA%8F%E8%BF%9E%E7%BB%AD%E5%AD%90%E6%95%B0%E7%BB%84/"/>
    <id>http://yoursite.com/2022/03/08/581.%20%E6%9C%80%E7%9F%AD%E6%97%A0%E5%BA%8F%E8%BF%9E%E7%BB%AD%E5%AD%90%E6%95%B0%E7%BB%84/</id>
    <published>2022-03-08T08:12:12.000Z</published>
    <updated>2022-03-08T07:55:52.768Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œä½ éœ€è¦æ‰¾å‡ºä¸€ä¸ª è¿ç»­å­æ•°ç»„ ï¼Œå¦‚æœå¯¹è¿™ä¸ªå­æ•°ç»„è¿›è¡Œå‡åºæ’åºï¼Œé‚£ä¹ˆæ•´ä¸ªæ•°ç»„éƒ½ä¼šå˜ä¸ºå‡åºæ’åºã€‚</p><p>è¯·ä½ æ‰¾å‡ºç¬¦åˆé¢˜æ„çš„ æœ€çŸ­ å­æ•°ç»„ï¼Œå¹¶è¾“å‡ºå®ƒçš„é•¿åº¦ã€‚</p><span id="more"></span><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [2,6,4,8,10,9,15]è¾“å‡ºï¼š5è§£é‡Šï¼šä½ åªéœ€è¦å¯¹ [6, 4, 8, 10, 9] è¿›è¡Œå‡åºæ’åºï¼Œé‚£ä¹ˆæ•´ä¸ªè¡¨éƒ½ä¼šå˜ä¸ºå‡åºæ’åºã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [1,2,3,4]è¾“å‡ºï¼š0</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [1]è¾“å‡ºï¼š0</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= nums.length &lt;= 104-105 &lt;= nums[i] &lt;= 105</code></pre><p>è¿›é˜¶ï¼šä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(n) çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ</p><h1 id="æ–¹æ³•ä¸€ï¼šæ’åº-1"><a href="#æ–¹æ³•ä¸€ï¼šæ’åº-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ’åº^1"></a>æ–¹æ³•ä¸€ï¼šæ’åº<a href="https://leetcode-cn.com/problems/shortest-unsorted-continuous-subarray/solution/zui-duan-wu-xu-lian-xu-zi-shu-zu-by-leet-yhlf/">^1</a></h1><p>æ€è·¯ä¸ç®—æ³•</p><p>æˆ‘ä»¬å°†ç»™å®šçš„æ•°ç»„numsè¡¨ç¤ºä¸ºä¸‰æ®µå­æ•°ç»„æ‹¼æ¥çš„å½¢å¼ï¼Œåˆ†åˆ«è®°ä½œ numsAï¼ŒnumsBï¼ŒnumsCã€‚å½“æˆ‘ä»¬å¯¹numsBè¿›è¡Œæ’åºï¼Œæ•´ä¸ªæ•°ç»„å°†å˜ä¸ºæœ‰åºã€‚æ¢è€Œè¨€ä¹‹ï¼Œå½“æˆ‘ä»¬å¯¹æ•´ä¸ªåºåˆ—è¿›è¡Œæ’åºï¼ŒnumsAå’Œ numsCéƒ½ä¸ä¼šæ”¹å˜ã€‚</p><p>æœ¬é¢˜è¦æ±‚æˆ‘ä»¬æ‰¾åˆ°æœ€çŸ­çš„numsBï¼Œå³æ‰¾åˆ°æœ€å¤§çš„numsAå’ŒnumsCçš„é•¿åº¦ä¹‹å’Œã€‚å› æ­¤æˆ‘ä»¬å°†åŸæ•°ç»„ nums æ’åºä¸åŸæ•°ç»„è¿›è¡Œæ¯”è¾ƒï¼Œå–æœ€é•¿çš„ç›¸åŒçš„å‰ç¼€ä¸º numsA ï¼Œå–æœ€é•¿çš„ç›¸åŒçš„åç¼€ä¸º numsCï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å–åˆ°æœ€çŸ­çš„ numsBã€‚</p><p>å…·ä½“åœ°ï¼Œæˆ‘ä»¬åˆ›å»ºæ•°ç»„  nums çš„æ‹·è´ï¼Œè®°ä½œæ•°ç»„  numsSortedï¼Œå¹¶å¯¹è¯¥æ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åæˆ‘ä»¬ä»å·¦å‘å³æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸¤æ•°ç»„ä¸åŒçš„ä½ç½®ï¼Œå³ä¸º<br>numsBçš„å·¦è¾¹ç•Œã€‚åŒç†ä¹Ÿå¯ä»¥æ‰¾åˆ° numsB å³è¾¹ç•Œã€‚æœ€åæˆ‘ä»¬è¾“å‡º numsBçš„é•¿åº¦å³å¯ã€‚</p><p>ç‰¹åˆ«åœ°ï¼Œå½“åŸæ•°ç»„æœ‰åºæ—¶ï¼ŒnumsBçš„é•¿åº¦ä¸º0ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿”å›ç»“æœã€‚</p><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int findUnsortedSubarray(vector&lt;int&gt;&amp; nums) &#123;</span><br><span class="line">        if (is_sorted(nums.begin(), nums.end())) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;int&gt; numsSorted(nums);</span><br><span class="line">        sort(numsSorted.begin(), numsSorted.end());</span><br><span class="line">        int left = 0;</span><br><span class="line">        while (nums[left] == numsSorted[left]) &#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        int right = nums.size() - 1;</span><br><span class="line">        while (nums[right] == numsSorted[right]) &#123;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">        return right - left + 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int findUnsortedSubarray(int[] nums) &#123;</span><br><span class="line">        if (isSorted(nums)) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        int[] numsSorted = new int[nums.length];</span><br><span class="line">        System.arraycopy(nums, 0, numsSorted, 0, nums.length);</span><br><span class="line">        Arrays.sort(numsSorted);</span><br><span class="line">        int left = 0;</span><br><span class="line">        while (nums[left] == numsSorted[left]) &#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        int right = nums.length - 1;</span><br><span class="line">        while (nums[right] == numsSorted[right]) &#123;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">        return right - left + 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public boolean isSorted(int[] nums) &#123;</span><br><span class="line">        for (int i = 1; i &lt; nums.length; i++) &#123;</span><br><span class="line">            if (nums[i] &lt; nums[i - 1]) &#123;</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int FindUnsortedSubarray(int[] nums) &#123;</span><br><span class="line">        if (IsSorted(nums)) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        int[] numsSorted = new int[nums.Length];</span><br><span class="line">        Array.Copy(nums, numsSorted, nums.Length);</span><br><span class="line">        Array.Sort(numsSorted);</span><br><span class="line">        int left = 0;</span><br><span class="line">        while (nums[left] == numsSorted[left]) &#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        int right = nums.Length - 1;</span><br><span class="line">        while (nums[right] == numsSorted[right]) &#123;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">        return right - left + 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public bool IsSorted(int[] nums) &#123;</span><br><span class="line">        for (int i = 1; i &lt; nums.Length; i++) &#123;</span><br><span class="line">            if (nums[i] &lt; nums[i - 1]) &#123;</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution:</span><br><span class="line">    def findUnsortedSubarray(self, nums: List[int]) -&gt; int:</span><br><span class="line">        n = len(nums)</span><br><span class="line"></span><br><span class="line">        def isSorted() -&gt; bool:</span><br><span class="line">            for i in range(1, n):</span><br><span class="line">                if nums[i - 1] &gt; nums[i]:</span><br><span class="line">                    return False</span><br><span class="line">            return True</span><br><span class="line">        </span><br><span class="line">        if isSorted():</span><br><span class="line">            return 0</span><br><span class="line">        </span><br><span class="line">        numsSorted = sorted(nums)</span><br><span class="line">        left = 0</span><br><span class="line">        while nums[left] == numsSorted[left]:</span><br><span class="line">            left += 1</span><br><span class="line"></span><br><span class="line">        right = n - 1</span><br><span class="line">        while nums[right] == numsSorted[right]:</span><br><span class="line">            right -= 1</span><br><span class="line">        </span><br><span class="line">        return right - left + 1</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var findUnsortedSubarray = function(nums) &#123;</span><br><span class="line">    if (isSorted(nums)) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    const numsSorted = [...nums].sort((a, b) =&gt; a - b);</span><br><span class="line">    let left = 0;</span><br><span class="line">    while (nums[left] === numsSorted[left]) &#123;</span><br><span class="line">        left++;</span><br><span class="line">    &#125;</span><br><span class="line">    let right = nums.length - 1;</span><br><span class="line">    while (nums[right] == numsSorted[right]) &#123;</span><br><span class="line">        right--;</span><br><span class="line">    &#125;</span><br><span class="line">    return right - left + 1;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const isSorted = (nums) =&gt; &#123;</span><br><span class="line">    for (let i = 1; i &lt; nums.length; i++) &#123;</span><br><span class="line">        if (nums[i] &lt; nums[i - 1]) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">func findUnsortedSubarray(nums []int) int &#123;</span><br><span class="line">    if sort.IntsAreSorted(nums) &#123;</span><br><span class="line">        return 0</span><br><span class="line">    &#125;</span><br><span class="line">    numsSorted := append([]int(nil), nums...)</span><br><span class="line">    sort.Ints(numsSorted)</span><br><span class="line">    left, right := 0, len(nums)-1</span><br><span class="line">    for nums[left] == numsSorted[left] &#123;</span><br><span class="line">        left++</span><br><span class="line">    &#125;</span><br><span class="line">    for nums[right] == numsSorted[right] &#123;</span><br><span class="line">        right--</span><br><span class="line">    &#125;</span><br><span class="line">    return right - left + 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">bool is_sorted(int* arr, int arrSize) &#123;</span><br><span class="line">    for (int i = 1; i &lt; arrSize; i++) &#123;</span><br><span class="line">        if (arr[i - 1] &gt; arr[i]) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int cmp(int* a, int* b) &#123;</span><br><span class="line">    return *a - *b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int findUnsortedSubarray(int* nums, int numsSize) &#123;</span><br><span class="line">    if (is_sorted(nums, numsSize)) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    int numsSorted[numsSize];</span><br><span class="line">    memcpy(numsSorted, nums, sizeof(int) * numsSize);</span><br><span class="line">    qsort(numsSorted, numsSize, sizeof(int), cmp);</span><br><span class="line">    int left = 0;</span><br><span class="line">    while (nums[left] == numsSorted[left]) &#123;</span><br><span class="line">        left++;</span><br><span class="line">    &#125;</span><br><span class="line">    int right = numsSize - 1;</span><br><span class="line">    while (nums[right] == numsSorted[right]) &#123;</span><br><span class="line">        right--;</span><br><span class="line">    &#125;</span><br><span class="line">    return right - left + 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ï¼Œå…¶ä¸­ n ä¸ºç»™å®šæ•°ç»„çš„é•¿åº¦ã€‚æˆ‘ä»¬éœ€è¦  O(nlogn) çš„æ—¶é—´è¿›è¡Œæ’åºï¼Œä»¥åŠ  O(n) çš„æ—¶é—´éå†æ•°ç»„ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚<br>ç©ºé—´å¤æ‚åº¦ï¼š O(n)ï¼Œå…¶ä¸­  n ä¸ºç»™å®šæ•°ç»„çš„é•¿åº¦ã€‚æˆ‘ä»¬éœ€è¦é¢å¤–çš„ä¸€ä¸ªæ•°ç»„ä¿å­˜æ’åºåçš„æ•°ç»„  numsSortedã€‚</p><h1 id="æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†"><a href="#æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†" class="headerlink" title="æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†"></a>æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†</h1><p>æ€è·¯ä¸ç®—æ³•</p><p>å‡è®¾ numsB åœ¨  nums ä¸­å¯¹åº”åŒºé—´ä¸º  [left,right]ã€‚<br> æ³¨æ„åˆ° numsBå’Œ  numsC ä¸­ä»»æ„ä¸€ä¸ªæ•°éƒ½å¤§äºç­‰äº  numsA ä¸­ä»»æ„ä¸€ä¸ªæ•°ã€‚å› æ­¤æœ‰<br>numsA ä¸­æ¯ä¸€ä¸ªæ•° numsi éƒ½æ»¡è¶³ï¼š</p><p>æˆ‘ä»¬å¯ä»¥ä»å¤§åˆ°å°æšä¸¾  iï¼Œç”¨ä¸€ä¸ªå˜é‡  minn è®°å½• iåçš„numsi ã€‚æ¯æ¬¡ç§»åŠ¨  iï¼Œéƒ½å¯ä»¥<br> O(1) åœ°æ›´æ–°  minnã€‚è¿™æ ·æœ€åä¸€ä¸ªä½¿å¾—ä¸ç­‰å¼ä¸æˆç«‹çš„ i å³ä¸º  left å·¦ä¾§å³ä¸º  numsA èƒ½å–å¾—çš„æœ€å¤§èŒƒå›´ã€‚</p><p>åŒç†ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç±»ä¼¼çš„æ–¹æ³•ç¡®å®š rightã€‚åœ¨å®é™…ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€æ¬¡å¾ªç¯ä¸­åŒæ—¶å®Œæˆå·¦å³è¾¹ç•Œçš„è®¡ç®—ã€‚</p><p>ç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬éœ€è¦ç‰¹åˆ¤  nums æœ‰åºçš„æƒ…å†µï¼Œæ­¤æ—¶  numsB çš„é•¿åº¦ä¸º  0ã€‚å½“æˆ‘ä»¬è®¡ç®—å®Œæˆå·¦å³è¾¹ç•Œï¼Œå³å¯è¿”å›  numsB çš„é•¿åº¦ã€‚</p><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int findUnsortedSubarray(vector&lt;int&gt;&amp; nums) &#123;</span><br><span class="line">        int n = nums.size();</span><br><span class="line">        int maxn = INT_MIN, right = -1;</span><br><span class="line">        int minn = INT_MAX, left = -1;</span><br><span class="line">        for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">            if (maxn &gt; nums[i]) &#123;</span><br><span class="line">                right = i;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                maxn = nums[i];</span><br><span class="line">            &#125;</span><br><span class="line">            if (minn &lt; nums[n - i - 1]) &#123;</span><br><span class="line">                left = n - i - 1;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                minn = nums[n - i - 1];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return right == -1 ? 0 : right - left + 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;; </span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int findUnsortedSubarray(int[] nums) &#123;</span><br><span class="line">        int n = nums.length;</span><br><span class="line">        int maxn = Integer.MIN_VALUE, right = -1;</span><br><span class="line">        int minn = Integer.MAX_VALUE, left = -1;</span><br><span class="line">        for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">            if (maxn &gt; nums[i]) &#123;</span><br><span class="line">                right = i;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                maxn = nums[i];</span><br><span class="line">            &#125;</span><br><span class="line">            if (minn &lt; nums[n - i - 1]) &#123;</span><br><span class="line">                left = n - i - 1;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                minn = nums[n - i - 1];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return right == -1 ? 0 : right - left + 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br></pre></td></tr></table></figure></details><details>    <summary>C#</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public class Solution &#123;</span><br><span class="line">    public int FindUnsortedSubarray(int[] nums) &#123;</span><br><span class="line">        int n = nums.Length;</span><br><span class="line">        int maxn = int.MinValue, right = -1;</span><br><span class="line">        int minn = int.MaxValue, left = -1;</span><br><span class="line">        for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">            if (maxn &gt; nums[i]) &#123;</span><br><span class="line">                right = i;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                maxn = nums[i];</span><br><span class="line">            &#125;</span><br><span class="line">            if (minn &lt; nums[n - i - 1]) &#123;</span><br><span class="line">                left = n - i - 1;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                minn = nums[n - i - 1];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return right == -1 ? 0 : right - left + 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def findUnsortedSubarray(self, nums: List[int]) -&gt; int:</span><br><span class="line">        n = len(nums)</span><br><span class="line">        maxn, right = float(&quot;-inf&quot;), -1</span><br><span class="line">        minn, left = float(&quot;inf&quot;), -1</span><br><span class="line"></span><br><span class="line">        for i in range(n):</span><br><span class="line">            if maxn &gt; nums[i]:</span><br><span class="line">                right = i</span><br><span class="line">            else:</span><br><span class="line">                maxn = nums[i]</span><br><span class="line">            </span><br><span class="line">            if minn &lt; nums[n - i - 1]:</span><br><span class="line">                left = n - i - 1</span><br><span class="line">            else:</span><br><span class="line">                minn = nums[n - i - 1]</span><br><span class="line">        </span><br><span class="line">        return 0 if right == -1 else right - left + 1</span><br><span class="line"> </span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">var findUnsortedSubarray = function(nums) &#123;</span><br><span class="line">    const n = nums.length;</span><br><span class="line">    let maxn = -Number.MAX_VALUE, right = -1;</span><br><span class="line">    let minn = Number.MAX_VALUE, left = -1;</span><br><span class="line">    for (let i = 0; i &lt; n; i++) &#123;</span><br><span class="line">        if (maxn &gt; nums[i]) &#123;</span><br><span class="line">            right = i;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            maxn = nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        if (minn &lt; nums[n - i - 1]) &#123;</span><br><span class="line">            left = n - i - 1;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            minn = nums[n - i - 1];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return right === -1 ? 0 : right - left + 1;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">func findUnsortedSubarray(nums []int) int &#123;</span><br><span class="line">    n := len(nums)</span><br><span class="line">    minn, maxn := math.MaxInt64, math.MinInt64</span><br><span class="line">    left, right := -1, -1</span><br><span class="line">    for i, num := range nums &#123;</span><br><span class="line">        if maxn &gt; num &#123;</span><br><span class="line">            right = i</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            maxn = num</span><br><span class="line">        &#125;</span><br><span class="line">        if minn &lt; nums[n-i-1] &#123;</span><br><span class="line">            left = n - i - 1</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            minn = nums[n-i-1]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    if right == -1 &#123;</span><br><span class="line">        return 0</span><br><span class="line">    &#125;</span><br><span class="line">    return right - left + 1</span><br><span class="line">&#125;</span><br><span class="line"> </span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">int findUnsortedSubarray(int* nums, int numsSize) &#123;</span><br><span class="line">    int n = numsSize;</span><br><span class="line">    int maxn = INT_MIN, right = -1;</span><br><span class="line">    int minn = INT_MAX, left = -1;</span><br><span class="line">    for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">        if (maxn &gt; nums[i]) &#123;</span><br><span class="line">            right = i;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            maxn = nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        if (minn &lt; nums[n - i - 1]) &#123;</span><br><span class="line">            left = n - i - 1;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            minn = nums[n - i - 1];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return right == -1 ? 0 : right - left + 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ-1"><a href="#å¤æ‚åº¦åˆ†æ-1" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼š O(n)ï¼Œå…¶ä¸­ n æ˜¯ç»™å®šæ•°ç»„çš„é•¿åº¦ï¼Œæˆ‘ä»¬ä»…éœ€è¦éå†è¯¥æ•°ç»„ä¸€æ¬¡ã€‚<br>æ—¶é—´å¤æ‚åº¦ï¼š O(1)ã€‚æˆ‘ä»¬åªéœ€è¦å¸¸æ•°çš„ç©ºé—´ä¿å­˜è‹¥å¹²å˜é‡ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œä½ éœ€è¦æ‰¾å‡ºä¸€ä¸ª è¿ç»­å­æ•°ç»„ ï¼Œå¦‚æœå¯¹è¿™ä¸ªå­æ•°ç»„è¿›è¡Œå‡åºæ’åºï¼Œé‚£ä¹ˆæ•´ä¸ªæ•°ç»„éƒ½ä¼šå˜ä¸ºå‡åºæ’åºã€‚&lt;/p&gt;
&lt;p&gt;è¯·ä½ æ‰¾å‡ºç¬¦åˆé¢˜æ„çš„ æœ€çŸ­ å­æ•°ç»„ï¼Œå¹¶è¾“å‡ºå®ƒçš„é•¿åº¦ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´3æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B43%E6%9C%88/"/>
    
    
    <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
    <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
    <category term="Stack" scheme="http://yoursite.com/tags/Stack/"/>
    
    <category term="Greedy" scheme="http://yoursite.com/tags/Greedy/"/>
    
    <category term="Two Pointers" scheme="http://yoursite.com/tags/Two-Pointers/"/>
    
    <category term="Sort" scheme="http://yoursite.com/tags/Sort/"/>
    
    <category term="Monotonic Stack" scheme="http://yoursite.com/tags/Monotonic-Stack/"/>
    
  </entry>
  
  <entry>
    <title>Latexæç®€æ•™ç¨‹</title>
    <link href="http://yoursite.com/2022/02/28/Latex%E6%9E%81%E7%AE%80%E6%95%99%E7%A8%8B/"/>
    <id>http://yoursite.com/2022/02/28/Latex%E6%9E%81%E7%AE%80%E6%95%99%E7%A8%8B/</id>
    <published>2022-02-28T03:12:12.000Z</published>
    <updated>2022-03-07T12:56:58.784Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨macä¸Šå¿«é€Ÿå®‰è£…ä½¿ç”¨Latex</p><span id="more"></span><h1 id="å¿«é€Ÿå®‰è£…"><a href="#å¿«é€Ÿå®‰è£…" class="headerlink" title="å¿«é€Ÿå®‰è£…"></a>å¿«é€Ÿå®‰è£…</h1><p>æ­¥éª¤å‚ç…§<a href="https://www.cnblogs.com/ouyangsong/p/9348175.html">^1</a><br>Latex æ˜¯ä¸ªå¤æ‚ä½†æ˜¯å¾ˆå¼ºå¤§çš„æ’ç‰ˆå·¥å…·ï¼Œåœ¨ MAC ç³»ç»Ÿä¸Šå¦‚æœä¸æƒ³å®‰è£… 3G å¤§çš„ MacTex çš„è¯ï¼Œå¯ä»¥è¯•è¯• BasicTexã€‚</p><p>å®‰è£…<br>MacTex å®‰è£…åŒ…éå¸¸å¤§ï¼Œè€Œä¸”è‡ªå¸¦äº†å¾ˆå¤šå›¾å½¢åº”ç”¨ã€‚æˆ‘æ›´å–œæ¬¢ç”¨å‘½ä»¤è¡Œï¼Œæ‰€ä»¥é€‰æ‹© BasicTexã€‚ä½¿ç”¨ Homebrew å®‰è£…éå¸¸ç®€å•ï¼Œä¸€æ¡å‘½ä»¤å³å¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew cask install basictex</span><br></pre></td></tr></table></figure><p>å¦‚æœæŠ¥é”™ï¼š</p><p>Error: Unknown command: cask</p><p>åŸå› å°±æ˜¯æ–°ç‰ˆæœ¬çš„ homebrew å·²ç»å–æ¶ˆäº† cask è¿™æ¡å‘½ä»¤ï¼Œæ”¹ç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install --cask basictex</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œè¿˜ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œè¿˜éœ€è¦æŠŠ texlive æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼Œæ‰èƒ½æ‰¾åˆ°ç›¸å…³çš„å‘½ä»¤ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/usr/local/texlive/2020basic/bin/x86_64-darwin:$PATH</span><br></pre></td></tr></table></figure><p>ç„¶åå°±æ˜¯å®‰è£…ç›¸å…³çš„åŒ…ï¼Œä»¥åŠæ›´æ–°åŒ…,è¦cdåˆ°ç›®å½•&#x2F;usr&#x2F;local&#x2F;texlive&#x2F;2020basic&#x2F;bin&#x2F;x86_64-darwinä¸­è¿è¡Œä¸‹åˆ—å‘½ä»¤ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo tlmgr update --self --repository http://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/texlive/tlnet</span><br><span class="line">sudo tlmgr install latexmk --repository http://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/texlive/tlnet</span><br></pre></td></tr></table></figure><p>å®‰è£…åŒ…çš„æ—¶å€™æ¨èä½¿ç”¨æ¸…åçš„ CTAN é•œåƒï¼Œä¸ç„¶çš„è¯ä¸‹è½½é€Ÿåº¦å®åœ¨å¤ªæ…¢äº†ã€‚</p><p>åˆ°äº†2021å¹´è¿™ä¸ªç›®å½•ä¹Ÿè¦æ¢æˆ21å¹´çš„ï¼Œå®‰è£…åŒ…å¯ä»¥åœ¨<a href="https://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/mac/mactex/%E9%87%8C%E4%B8%8B%E8%BD%BDBasicTex.pkg">https://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/mac/mactex/é‡Œä¸‹è½½BasicTex.pkg</a></p><p>ç‰¹åˆ«æ³¨æ„ï¼Œå¦‚æœä½ æ˜¯ macOS ç”¨æˆ·ï¼Œé‚£ä¹ˆä»Šå¹´çš„å®‰è£…ä¸å¾€å¹´çš„æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œä¸»è¦æ˜¯ texlive çš„æ–‡ä»¶ç»“æ„ç¨æœ‰æ”¹å˜ï¼Œåœ¨é…ç½® PATHã€MANã€INFO ç­‰ç¯å¢ƒå˜é‡æ—¶ï¼Œåº”ç‰¹åˆ«æ³¨æ„ã€‚ä»¥ä¸‹æ˜¯ 2021 ç‰ˆ TeXlive çš„ macOS ç¯å¢ƒå˜é‡é…ç½®ï¼š </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export MANPATH=/usr/local/texlive/2021/texmf-dist/doc/man:$&#123;MANPATH&#125;</span><br><span class="line">export INFOPATH=/usr/local/texlive/2021/texmf-dist/doc/info:$&#123;INFOPATH&#125;</span><br><span class="line">export PATH=/usr/local/texlive/2021/bin/universal-darwin:$&#123;PATH&#125;</span><br><span class="line">alias tlmgr=&#x27;sudo /usr/local/texlive/2021/bin/universal-darwin/tlmgr&#x27;</span><br></pre></td></tr></table></figure><p>PATH é‡Œçš„ universal-darwim ä»£è¡¨æ­¤åæ— è®ºæ˜¯ Intel Core è¿˜æ˜¯ M1 èŠ¯ç‰‡ï¼Œéƒ½å°†å¾—åˆ°é€‚é…ã€‚ä¸è¿‡ M1 çš„å…¼å®¹æ€§æ­¤å¤„æœªéªŒè¯ã€‚ç‰¹åˆ«å¼ºè°ƒï¼Œä¸‹æ–‡çš„é…ç½®æ˜¯å…¨å¹³å°é€šç”¨çš„ï¼Œæ— è®ºä½ çš„æ“ä½œç³»ç»Ÿæ˜¯ macOS è¿˜æ˜¯ Windowsï¼ŒæŠ‘æˆ–æ˜¯ Linuxï¼Œåªè¦ä¸æ˜¯å¤ªå°ä¼—ï¼Œåº”è¯¥éƒ½æ²¡é—®é¢˜ã€‚å…¨ç½‘åªæœ‰ä¸€ä¸ª texlive çš„ iso é•œåƒï¼Œå¹¶æ²¡æœ‰ç‰¹æ®Šé€‚é…æŸä¸ªæ“ä½œç³»ç»Ÿæˆ–æŸç§ CPU ä½“ç³»ç»“æ„çš„ç‰ˆæœ¬ã€‚</p><h1 id="Atomå¼€å‘"><a href="#Atomå¼€å‘" class="headerlink" title="Atomå¼€å‘"></a>Atomå¼€å‘</h1><p>é…åˆAtomæ¥è¿è¡Œlatexï¼Œå‚ç…§<a href="https://blog.csdn.net/violet_echo_0908/article/details/78160273">^2</a></p><p>å®‰è£…å¥½æ’ä»¶åä¼šæŠ¥é”™ç¼ºå¤±ä¸€äº›åŒ…å¯ä»¥æ›´æ–°æ’ä»¶æˆ–è€…npm installç›¸åº”çš„åŒ…</p><h1 id="å‘½ä»¤è¡Œç›´æ¥ç¼–è¯‘"><a href="#å‘½ä»¤è¡Œç›´æ¥ç¼–è¯‘" class="headerlink" title="å‘½ä»¤è¡Œç›´æ¥ç¼–è¯‘"></a>å‘½ä»¤è¡Œç›´æ¥ç¼–è¯‘</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xelatex demo.tex</span><br></pre></td></tr></table></figure><h1 id="é‡åˆ°é”™è¯¯-LaTeX-Error-File-xifthen-sty-39-not-found"><a href="#é‡åˆ°é”™è¯¯-LaTeX-Error-File-xifthen-sty-39-not-found" class="headerlink" title="é‡åˆ°é”™è¯¯ ! LaTeX Error: File `xifthen.sty&#39; not found"></a>é‡åˆ°é”™è¯¯ <code>! LaTeX Error: File `xifthen.sty&#39; not found</code></h1><p>é‚£ä¹ˆå»æœç´¢ä¸€ä¸‹å®ƒè¢«åŒ…å«åœ¨å“ªä¸ªåŒ…ä¸­ï¼Œæ¯”å¦‚ xifthen.sty å°±æ˜¯åŒ…å«åœ¨ xifthen ä¸­ã€‚é‚£ä¹ˆä½¿ç”¨ tlmgr å®‰è£…å³å¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tlmgr install xifthen</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;åœ¨macä¸Šå¿«é€Ÿå®‰è£…ä½¿ç”¨Latex&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´2æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B42%E6%9C%88/"/>
    
    
    <category term="Latex" scheme="http://yoursite.com/tags/Latex/"/>
    
  </entry>
  
  <entry>
    <title>85. æœ€å¤§çŸ©å½¢</title>
    <link href="http://yoursite.com/2022/02/17/85.%20%E6%9C%80%E5%A4%A7%E7%9F%A9%E5%BD%A2/"/>
    <id>http://yoursite.com/2022/02/17/85.%20%E6%9C%80%E5%A4%A7%E7%9F%A9%E5%BD%A2/</id>
    <published>2022-02-17T14:34:12.000Z</published>
    <updated>2022-02-17T15:54:59.632Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªä»…åŒ…å« 0 å’Œ 1 ã€å¤§å°ä¸º rows x cols çš„äºŒç»´äºŒè¿›åˆ¶çŸ©é˜µï¼Œæ‰¾å‡ºåªåŒ…å« 1 çš„æœ€å¤§çŸ©å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚</p><span id="more"></span><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šmatrix = [[&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;],[&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;],[&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;],[&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;]]è¾“å‡ºï¼š6è§£é‡Šï¼šæœ€å¤§çŸ©å½¢å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šmatrix = []è¾“å‡ºï¼š0</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šmatrix = [[&quot;0&quot;]]è¾“å‡ºï¼š0</code></pre><p>ç¤ºä¾‹ 4ï¼š</p><pre><code>è¾“å…¥ï¼šmatrix = [[&quot;1&quot;]]è¾“å‡ºï¼š1</code></pre><p>ç¤ºä¾‹ 5ï¼š</p><pre><code>è¾“å…¥ï¼šmatrix = [[&quot;0&quot;,&quot;0&quot;]]è¾“å‡ºï¼š0</code></pre><p>æç¤ºï¼š</p><pre><code>rows == matrix.lengthcols == matrix[0].length1 &lt;= row, cols &lt;= 200matrix[i][j] ä¸º &#39;0&#39; æˆ– &#39;1&#39;</code></pre><h1 id="æ–¹æ³•ä¸€-ä½¿ç”¨æŸ±çŠ¶å›¾çš„ä¼˜åŒ–æš´åŠ›æ–¹æ³•-1"><a href="#æ–¹æ³•ä¸€-ä½¿ç”¨æŸ±çŠ¶å›¾çš„ä¼˜åŒ–æš´åŠ›æ–¹æ³•-1" class="headerlink" title="æ–¹æ³•ä¸€: ä½¿ç”¨æŸ±çŠ¶å›¾çš„ä¼˜åŒ–æš´åŠ›æ–¹æ³•^1"></a>æ–¹æ³•ä¸€: ä½¿ç”¨æŸ±çŠ¶å›¾çš„ä¼˜åŒ–æš´åŠ›æ–¹æ³•<a href="https://leetcode-cn.com/problems/maximal-rectangle/solution/zui-da-ju-xing-by-leetcode-solution-bjlu/">^1</a></h1><h2 id="æ€è·¯ä¸ç®—æ³•"><a href="#æ€è·¯ä¸ç®—æ³•" class="headerlink" title="æ€è·¯ä¸ç®—æ³•"></a>æ€è·¯ä¸ç®—æ³•</h2><p>æœ€åŸå§‹åœ°ï¼Œæˆ‘ä»¬å¯ä»¥åˆ—ä¸¾æ¯ä¸ªå¯èƒ½çš„çŸ©å½¢ã€‚æˆ‘ä»¬æšä¸¾çŸ©å½¢æ‰€æœ‰å¯èƒ½çš„å·¦ä¸Šè§’åæ ‡å’Œå³ä¸‹è§’åæ ‡ï¼Œå¹¶æ£€æŸ¥è¯¥çŸ©å½¢æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚ç„¶è€Œè¯¥æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦è¿‡é«˜ï¼Œä¸èƒ½é€šè¿‡æ‰€æœ‰çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»å¯»æ‰¾å…¶ä»–æ–¹æ³•ã€‚</p><p>æˆ‘ä»¬é¦–å…ˆè®¡ç®—å‡ºçŸ©é˜µçš„æ¯ä¸ªå…ƒç´ çš„å·¦è¾¹è¿ç»­ 1 çš„æ•°é‡ï¼Œä½¿ç”¨äºŒç»´æ•°ç»„ left è®°å½•ï¼Œå…¶ä¸­ left[i][j] ä¸ºçŸ©é˜µç¬¬ i è¡Œç¬¬ j åˆ—å…ƒç´ çš„å·¦è¾¹è¿ç»­ 1 çš„æ•°é‡ã€‚</p><p>éšåï¼Œå¯¹äºçŸ©é˜µä¸­ä»»æ„ä¸€ä¸ªç‚¹ï¼Œæˆ‘ä»¬æšä¸¾ä»¥è¯¥ç‚¹ä¸ºå³ä¸‹è§’çš„å…¨ 1 çŸ©å½¢ã€‚</p><p>å…·ä½“è€Œè¨€ï¼Œå½“è€ƒå¯Ÿä»¥ </p><p>matrix[i][j] ä¸ºå³ä¸‹è§’çš„çŸ©å½¢æ—¶ï¼Œæˆ‘ä»¬æšä¸¾æ»¡è¶³  0â‰¤kâ‰¤i çš„æ‰€æœ‰å¯èƒ½çš„ kï¼Œæ­¤æ—¶çŸ©é˜µçš„æœ€å¤§å®½åº¦å°±ä¸º</p><p>left[i][j],left[iâˆ’1][j],â€¦,left[k][j]</p><p>çš„æœ€å°å€¼ã€‚</p><p>ä¸‹å›¾æœ‰åŠ©äºç†è§£ã€‚ç»™å®šæ¯ä¸ªç‚¹çš„æœ€å¤§å®½åº¦ï¼Œå¯è®¡ç®—å‡ºåº•ç«¯é»„è‰²æ–¹å—çš„æœ€å¤§çŸ©å½¢é¢ç§¯ã€‚</p><p>å¯¹æ¯ä¸ªç‚¹é‡å¤è¿™ä¸€è¿‡ç¨‹ï¼Œå°±å¯ä»¥å¾—åˆ°å…¨å±€çš„æœ€å¤§çŸ©å½¢ã€‚</p><p>æˆ‘ä»¬é¢„è®¡ç®—æœ€å¤§å®½åº¦çš„æ–¹æ³•äº‹å®ä¸Šå°†è¾“å…¥è½¬åŒ–æˆäº†ä¸€ç³»åˆ—çš„æŸ±çŠ¶å›¾ï¼Œæˆ‘ä»¬é’ˆå¯¹æ¯ä¸ªæŸ±çŠ¶å›¾è®¡ç®—æœ€å¤§é¢ç§¯ã€‚</p><p>äºæ˜¯ï¼Œä¸Šè¿°æ–¹æ³•æœ¬è´¨ä¸Šæ˜¯ã€Œ84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢ã€é¢˜ä¸­ä¼˜åŒ–æš´åŠ›ç®—æ³•çš„å¤ç”¨ã€‚</p><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int maximalRectangle(vector&lt;vector&lt;char&gt;&gt;&amp; matrix) &#123;</span><br><span class="line">        int m = matrix.size();</span><br><span class="line">        if (m == 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        int n = matrix[0].size();</span><br><span class="line">        vector&lt;vector&lt;int&gt;&gt; left(m, vector&lt;int&gt;(n, 0));</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; m; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; n; j++) &#123;</span><br><span class="line">                if (matrix[i][j] == &#x27;1&#x27;) &#123;</span><br><span class="line">                    left[i][j] = (j == 0 ? 0: left[i][j - 1]) + 1;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        int ret = 0;</span><br><span class="line">        for (int i = 0; i &lt; m; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; n; j++) &#123;</span><br><span class="line">                if (matrix[i][j] == &#x27;0&#x27;) &#123;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125;</span><br><span class="line">                int width = left[i][j];</span><br><span class="line">                int area = width;</span><br><span class="line">                for (int k = i - 1; k &gt;= 0; k--) &#123;</span><br><span class="line">                    width = min(width, left[k][j]);</span><br><span class="line">                    area = max(area, (i - k + 1) * width);</span><br><span class="line">                &#125;</span><br><span class="line">                ret = max(ret, area);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int maximalRectangle(char[][] matrix) &#123;</span><br><span class="line">        int m = matrix.length;</span><br><span class="line">        if (m == 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        int n = matrix[0].length;</span><br><span class="line">        int[][] left = new int[m][n];</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; m; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; n; j++) &#123;</span><br><span class="line">                if (matrix[i][j] == &#x27;1&#x27;) &#123;</span><br><span class="line">                    left[i][j] = (j == 0 ? 0 : left[i][j - 1]) + 1;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        int ret = 0;</span><br><span class="line">        for (int i = 0; i &lt; m; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; n; j++) &#123;</span><br><span class="line">                if (matrix[i][j] == &#x27;0&#x27;) &#123;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125;</span><br><span class="line">                int width = left[i][j];</span><br><span class="line">                int area = width;</span><br><span class="line">                for (int k = i - 1; k &gt;= 0; k--) &#123;</span><br><span class="line">                    width = Math.min(width, left[k][j]);</span><br><span class="line">                    area = Math.max(area, (i - k + 1) * width);</span><br><span class="line">                &#125;</span><br><span class="line">                ret = Math.max(ret, area);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">var maximalRectangle = function(matrix) &#123;</span><br><span class="line">    const m = matrix.length;</span><br><span class="line">    if (m === 0) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    const n = matrix[0].length;</span><br><span class="line">    const left = new Array(m).fill(0).map(() =&gt; new Array(n).fill(0));</span><br><span class="line"></span><br><span class="line">    for (let i = 0; i &lt; m; i++) &#123;</span><br><span class="line">        for (let j = 0; j &lt; n; j++) &#123;</span><br><span class="line">            if (matrix[i][j] === &#x27;1&#x27;) &#123;</span><br><span class="line">                left[i][j] = (j === 0 ? 0 : left[i][j - 1]) + 1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    let ret = 0;</span><br><span class="line">    for (let i = 0; i &lt; m; i++) &#123;</span><br><span class="line">        for (let j = 0; j &lt; n; j++) &#123;</span><br><span class="line">            if (matrix[i][j] === &#x27;0&#x27;) &#123;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">            let width = left[i][j];</span><br><span class="line">            let area = width;</span><br><span class="line">            for (let k = i - 1; k &gt;= 0; k--) &#123;</span><br><span class="line">                width = Math.min(width, left[k][j]);</span><br><span class="line">                area = Math.max(area, (i - k + 1) * width);</span><br><span class="line">            &#125;</span><br><span class="line">            ret = Math.max(ret, area);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return ret;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Go</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">func maximalRectangle(matrix [][]byte) (ans int) &#123;</span><br><span class="line">    if len(matrix) == 0 &#123;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    m, n := len(matrix), len(matrix[0])</span><br><span class="line">    left := make([][]int, m)</span><br><span class="line">    for i, row := range matrix &#123;</span><br><span class="line">        left[i] = make([]int, n)</span><br><span class="line">        for j, v := range row &#123;</span><br><span class="line">            if v == &#x27;0&#x27; &#123;</span><br><span class="line">                continue</span><br><span class="line">            &#125;</span><br><span class="line">            if j == 0 &#123;</span><br><span class="line">                left[i][j] = 1</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                left[i][j] = left[i][j-1] + 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    for i, row := range matrix &#123;</span><br><span class="line">        for j, v := range row &#123;</span><br><span class="line">            if v == &#x27;0&#x27; &#123;</span><br><span class="line">                continue</span><br><span class="line">            &#125;</span><br><span class="line">            width := left[i][j]</span><br><span class="line">            area := width</span><br><span class="line">            for k := i - 1; k &gt;= 0; k-- &#123;</span><br><span class="line">                width = min(width, left[k][j])</span><br><span class="line">                area = max(area, (i-k+1)*width)</span><br><span class="line">            &#125;</span><br><span class="line">            ans = max(ans, area)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func min(a, b int) int &#123;</span><br><span class="line">    if a &lt; b &#123;</span><br><span class="line">        return a</span><br><span class="line">    &#125;</span><br><span class="line">    return b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func max(a, b int) int &#123;</span><br><span class="line">    if a &gt; b &#123;</span><br><span class="line">        return a</span><br><span class="line">    &#125;</span><br><span class="line">    return b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">int maximalRectangle(char** matrix, int matrixSize, int* matrixColSize) &#123;</span><br><span class="line">    int m = matrixSize;</span><br><span class="line">    if (m == 0) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    int n = matrixColSize[0];</span><br><span class="line">    int left[m][n];</span><br><span class="line">    memset(left, 0, sizeof(left));</span><br><span class="line">    for (int i = 0; i &lt; m; i++) &#123;</span><br><span class="line">        for (int j = 0; j &lt; n; j++) &#123;</span><br><span class="line">            if (matrix[i][j] == &#x27;1&#x27;) &#123;</span><br><span class="line">                left[i][j] = (j == 0 ? 0 : left[i][j - 1]) + 1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int ret = 0;</span><br><span class="line">    for (int i = 0; i &lt; m; i++) &#123;</span><br><span class="line">        for (int j = 0; j &lt; n; j++) &#123;</span><br><span class="line">            if (matrix[i][j] == &#x27;0&#x27;) &#123;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">            int width = left[i][j];</span><br><span class="line">            int area = width;</span><br><span class="line">            for (int k = i - 1; k &gt;= 0; k--) &#123;</span><br><span class="line">                width = fmin(width, left[k][j]);</span><br><span class="line">                area = fmax(area, (i - k + 1) * width);</span><br><span class="line">            &#125;</span><br><span class="line">            ret = fmax(ret, area);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼š</p><p>O(m^2 *n)ï¼Œå…¶ä¸­ m å’Œ n åˆ†åˆ«æ˜¯çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ã€‚è®¡ç®— left çŸ©é˜µéœ€è¦ O(mn) çš„æ—¶é—´ã€‚éšåå¯¹äºçŸ©é˜µçš„æ¯ä¸ªç‚¹ï¼Œéœ€è¦ O(m) çš„æ—¶é—´æšä¸¾é«˜åº¦ã€‚æ•…æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º </p><p>O(mn)+O(mn)â‹…O(m)&#x3D;O(m^2 *n)ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ï¼š<br>O(mn)ï¼Œå…¶ä¸­<br>m å’Œ n åˆ†åˆ«æ˜¯çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ã€‚æˆ‘ä»¬åˆ†é…äº†ä¸€ä¸ªä¸ç»™å®šçŸ©é˜µç­‰å¤§çš„æ•°ç»„ï¼Œç”¨äºå­˜å‚¨æ¯ä¸ªå…ƒç´ çš„å·¦è¾¹è¿ç»­ 1 çš„æ•°é‡ã€‚</p><h1 id="æ–¹æ³•äºŒï¼šå•è°ƒæ ˆ"><a href="#æ–¹æ³•äºŒï¼šå•è°ƒæ ˆ" class="headerlink" title="æ–¹æ³•äºŒï¼šå•è°ƒæ ˆ"></a>æ–¹æ³•äºŒï¼šå•è°ƒæ ˆ</h1><p>æ€è·¯ä¸ç®—æ³•</p><p>åœ¨æ–¹æ³•ä¸€ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†å°†è¾“å…¥æ‹†åˆ†æˆä¸€ç³»åˆ—çš„æŸ±çŠ¶å›¾ã€‚ä¸ºäº†è®¡ç®—çŸ©å½¢çš„æœ€å¤§é¢ç§¯ï¼Œæˆ‘ä»¬åªéœ€è¦è®¡ç®—æ¯ä¸ªæŸ±çŠ¶å›¾ä¸­çš„æœ€å¤§é¢ç§¯ï¼Œå¹¶æ‰¾åˆ°å…¨å±€æœ€å¤§å€¼ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ã€Œ84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢çš„å®˜æ–¹é¢˜è§£ã€ä¸­çš„å•è°ƒæ ˆçš„åšæ³•ï¼Œå°†å…¶åº”ç”¨åœ¨æˆ‘ä»¬ç”Ÿæˆçš„æŸ±çŠ¶å›¾ä¸­ã€‚</p><p>ä»£ç </p><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int maximalRectangle(vector&lt;vector&lt;char&gt;&gt;&amp; matrix) &#123;</span><br><span class="line">        int m = matrix.size();</span><br><span class="line">        if (m == 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        int n = matrix[0].size();</span><br><span class="line">        vector&lt;vector&lt;int&gt;&gt; left(m, vector&lt;int&gt;(n, 0));</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; m; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; n; j++) &#123;</span><br><span class="line">                if (matrix[i][j] == &#x27;1&#x27;) &#123;</span><br><span class="line">                    left[i][j] = (j == 0 ? 0: left[i][j - 1]) + 1;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        int ret = 0;</span><br><span class="line">        for (int j = 0; j &lt; n; j++) &#123; // å¯¹äºæ¯ä¸€åˆ—ï¼Œä½¿ç”¨åŸºäºæŸ±çŠ¶å›¾çš„æ–¹æ³•</span><br><span class="line">            vector&lt;int&gt; up(m, 0), down(m, 0);</span><br><span class="line"></span><br><span class="line">            stack&lt;int&gt; stk;</span><br><span class="line">            for (int i = 0; i &lt; m; i++) &#123;</span><br><span class="line">                while (!stk.empty() &amp;&amp; left[stk.top()][j] &gt;= left[i][j]) &#123;</span><br><span class="line">                    stk.pop();</span><br><span class="line">                &#125;</span><br><span class="line">                up[i] = stk.empty() ? -1 : stk.top();</span><br><span class="line">                stk.push(i);</span><br><span class="line">            &#125;</span><br><span class="line">            stk = stack&lt;int&gt;();</span><br><span class="line">            for (int i = m - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">                while (!stk.empty() &amp;&amp; left[stk.top()][j] &gt;= left[i][j]) &#123;</span><br><span class="line">                    stk.pop();</span><br><span class="line">                &#125;</span><br><span class="line">                down[i] = stk.empty() ? m : stk.top();</span><br><span class="line">                stk.push(i);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            for (int i = 0; i &lt; m; i++) &#123;</span><br><span class="line">                int height = down[i] - up[i] - 1;</span><br><span class="line">                int area = height * left[i][j];</span><br><span class="line">                ret = max(ret, area);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    public int maximalRectangle(char[][] matrix) &#123;</span><br><span class="line">        int m = matrix.length;</span><br><span class="line">        if (m == 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        int n = matrix[0].length;</span><br><span class="line">        int[][] left = new int[m][n];</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; m; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; n; j++) &#123;</span><br><span class="line">                if (matrix[i][j] == &#x27;1&#x27;) &#123;</span><br><span class="line">                    left[i][j] = (j == 0 ? 0 : left[i][j - 1]) + 1;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        int ret = 0;</span><br><span class="line">        for (int j = 0; j &lt; n; j++) &#123; // å¯¹äºæ¯ä¸€åˆ—ï¼Œä½¿ç”¨åŸºäºæŸ±çŠ¶å›¾çš„æ–¹æ³•</span><br><span class="line">            int[] up = new int[m];</span><br><span class="line">            int[] down = new int[m];</span><br><span class="line"></span><br><span class="line">            Deque&lt;Integer&gt; stack = new LinkedList&lt;Integer&gt;();</span><br><span class="line">            for (int i = 0; i &lt; m; i++) &#123;</span><br><span class="line">                while (!stack.isEmpty() &amp;&amp; left[stack.peek()][j] &gt;= left[i][j]) &#123;</span><br><span class="line">                    stack.pop();</span><br><span class="line">                &#125;</span><br><span class="line">                up[i] = stack.isEmpty() ? -1 : stack.peek();</span><br><span class="line">                stack.push(i);</span><br><span class="line">            &#125;</span><br><span class="line">            stack.clear();</span><br><span class="line">            for (int i = m - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">                while (!stack.isEmpty() &amp;&amp; left[stack.peek()][j] &gt;= left[i][j]) &#123;</span><br><span class="line">                    stack.pop();</span><br><span class="line">                &#125;</span><br><span class="line">                down[i] = stack.isEmpty() ? m : stack.peek();</span><br><span class="line">                stack.push(i);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            for (int i = 0; i &lt; m; i++) &#123;</span><br><span class="line">                int height = down[i] - up[i] - 1;</span><br><span class="line">                int area = height * left[i][j];</span><br><span class="line">                ret = Math.max(ret, area);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var maximalRectangle = function(matrix) &#123;</span><br><span class="line">    const m = matrix.length;</span><br><span class="line">    if (m === 0) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    const n = matrix[0].length;</span><br><span class="line">    const left = new Array(m).fill(0).map(() =&gt; new Array(n).fill(0));</span><br><span class="line"></span><br><span class="line">    for (let i = 0; i &lt; m; i++) &#123;</span><br><span class="line">        for (let j = 0; j &lt; n; j++) &#123;</span><br><span class="line">            if (matrix[i][j] === &#x27;1&#x27;) &#123;</span><br><span class="line">                left[i][j] = (j === 0 ? 0 : left[i][j - 1]) + 1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    let ret = 0;</span><br><span class="line">    for (let j = 0; j &lt; n; j++) &#123; // å¯¹äºæ¯ä¸€åˆ—ï¼Œä½¿ç”¨åŸºäºæŸ±çŠ¶å›¾çš„æ–¹æ³•</span><br><span class="line">        const up = new Array(m).fill(0);</span><br><span class="line">        const down = new Array(m).fill(0);</span><br><span class="line"></span><br><span class="line">        let stack = new Array();</span><br><span class="line">        for (let i = 0; i &lt; m; i++) &#123;</span><br><span class="line">            while (stack.length &amp;&amp; left[stack[stack.length - 1]][j] &gt;= left[i][j]) &#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            up[i] = stack.length === 0 ? -1 : stack[stack.length - 1];</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        stack = [];</span><br><span class="line">        for (let i = m - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">            while (stack.length &amp;&amp; left[stack[stack.length - 1]][j] &gt;= left[i][j]) &#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            down[i] = stack.length === 0 ? m : stack[stack.length - 1];</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        for (let i = 0; i &lt; m; i++) &#123;</span><br><span class="line">            const height = down[i] - up[i] - 1;</span><br><span class="line">            const area = height * left[i][j];</span><br><span class="line">            ret = Math.max(ret, area);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return ret;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Go</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">func maximalRectangle(matrix [][]byte) (ans int) &#123;</span><br><span class="line">    if len(matrix) == 0 &#123;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    m, n := len(matrix), len(matrix[0])</span><br><span class="line">    left := make([][]int, m)</span><br><span class="line">    for i, row := range matrix &#123;</span><br><span class="line">        left[i] = make([]int, n)</span><br><span class="line">        for j, v := range row &#123;</span><br><span class="line">            if v == &#x27;0&#x27; &#123;</span><br><span class="line">                continue</span><br><span class="line">            &#125;</span><br><span class="line">            if j == 0 &#123;</span><br><span class="line">                left[i][j] = 1</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                left[i][j] = left[i][j-1] + 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    for j := 0; j &lt; n; j++ &#123; // å¯¹äºæ¯ä¸€åˆ—ï¼Œä½¿ç”¨åŸºäºæŸ±çŠ¶å›¾çš„æ–¹æ³•</span><br><span class="line">        up := make([]int, m)</span><br><span class="line">        down := make([]int, m)</span><br><span class="line">        stk := []int&#123;&#125;</span><br><span class="line">        for i, l := range left &#123;</span><br><span class="line">            for len(stk) &gt; 0 &amp;&amp; left[stk[len(stk)-1]][j] &gt;= l[j] &#123;</span><br><span class="line">                stk = stk[:len(stk)-1]</span><br><span class="line">            &#125;</span><br><span class="line">            up[i] = -1</span><br><span class="line">            if len(stk) &gt; 0 &#123;</span><br><span class="line">                up[i] = stk[len(stk)-1]</span><br><span class="line">            &#125;</span><br><span class="line">            stk = append(stk, i)</span><br><span class="line">        &#125;</span><br><span class="line">        stk = nil</span><br><span class="line">        for i := m - 1; i &gt;= 0; i-- &#123;</span><br><span class="line">            for len(stk) &gt; 0 &amp;&amp; left[stk[len(stk)-1]][j] &gt;= left[i][j] &#123;</span><br><span class="line">                stk = stk[:len(stk)-1]</span><br><span class="line">            &#125;</span><br><span class="line">            down[i] = m</span><br><span class="line">            if len(stk) &gt; 0 &#123;</span><br><span class="line">                down[i] = stk[len(stk)-1]</span><br><span class="line">            &#125;</span><br><span class="line">            stk = append(stk, i)</span><br><span class="line">        &#125;</span><br><span class="line">        for i, l := range left &#123;</span><br><span class="line">            height := down[i] - up[i] - 1</span><br><span class="line">            area := height * l[j]</span><br><span class="line">            ans = max(ans, area)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func max(a, b int) int &#123;</span><br><span class="line">    if a &gt; b &#123;</span><br><span class="line">        return a</span><br><span class="line">    &#125;</span><br><span class="line">    return b</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">int maximalRectangle(char** matrix, int matrixSize, int* matrixColSize) &#123;</span><br><span class="line">    int m = matrixSize;</span><br><span class="line">    if (m == 0) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    int n = matrixColSize[0];</span><br><span class="line">    int left[m][n];</span><br><span class="line">    memset(left, 0, sizeof(left));</span><br><span class="line">    for (int i = 0; i &lt; m; i++) &#123;</span><br><span class="line">        for (int j = 0; j &lt; n; j++) &#123;</span><br><span class="line">            if (matrix[i][j] == &#x27;1&#x27;) &#123;</span><br><span class="line">                left[i][j] = (j == 0 ? 0 : left[i][j - 1]) + 1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int ret = 0;</span><br><span class="line">    for (int j = 0; j &lt; n; j++) &#123;  // å¯¹äºæ¯ä¸€åˆ—ï¼Œä½¿ç”¨åŸºäºæŸ±çŠ¶å›¾çš„æ–¹æ³•</span><br><span class="line">        int up[m], down[m];</span><br><span class="line">        memset(up, 0, sizeof(up));</span><br><span class="line">        memset(down, 0, sizeof(down));</span><br><span class="line">        int stk[m], top = 0;</span><br><span class="line">        for (int i = 0; i &lt; m; i++) &#123;</span><br><span class="line">            while (top &gt; 0 &amp;&amp; left[stk[top - 1]][j] &gt;= left[i][j]) &#123;</span><br><span class="line">                top--;</span><br><span class="line">            &#125;</span><br><span class="line">            up[i] = top == 0 ? -1 : stk[top - 1];</span><br><span class="line">            stk[top++] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        top = 0;</span><br><span class="line">        for (int i = m - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">            while (top &gt; 0 &amp;&amp; left[stk[top - 1]][j] &gt;= left[i][j]) &#123;</span><br><span class="line">                top--;</span><br><span class="line">            &#125;</span><br><span class="line">            down[i] = top == 0 ? m : stk[top - 1];</span><br><span class="line">            stk[top++] = i;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        for (int i = 0; i &lt; m; i++) &#123;</span><br><span class="line">            int height = down[i] - up[i] - 1;</span><br><span class="line">            int area = height * left[i][j];</span><br><span class="line">            ret = fmax(ret, area);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>è¯»è€…å¯ä»¥è‡ªè¡Œæ¯”å¯¹ä¸Šé¢çš„ä»£ç ä¸æ­¤å‰ç¬¬ 84 é¢˜çš„ä»£ç çš„ç›¸ä¼¼ä¹‹å¤„ã€‚</p><h2 id="å¤æ‚åº¦åˆ†æ-1"><a href="#å¤æ‚åº¦åˆ†æ-1" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼š</p><p>O(mn)ï¼Œå…¶ä¸­ m å’Œ n åˆ†åˆ«æ˜¯çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ã€‚è®¡ç®— left çŸ©é˜µéœ€è¦ O(mn) çš„æ—¶é—´ï¼›å¯¹æ¯ä¸€åˆ—åº”ç”¨æŸ±çŠ¶å›¾ç®—æ³•éœ€è¦ O(m) çš„æ—¶é—´ï¼Œä¸€å…±éœ€è¦ O(mn) çš„æ—¶é—´ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ï¼š</p><p>O(mn)ï¼Œå…¶ä¸­ m å’Œ n åˆ†åˆ«æ˜¯çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ã€‚æˆ‘ä»¬åˆ†é…äº†ä¸€ä¸ªä¸ç»™å®šçŸ©é˜µç­‰å¤§çš„æ•°ç»„ï¼Œç”¨äºå­˜å‚¨æ¯ä¸ªå…ƒç´ çš„å·¦è¾¹è¿ç»­ 1 çš„æ•°é‡ã€‚</p><h1 id="æ–¹æ³•ä¸‰ï¼šå•è°ƒæ ˆä¼˜åŒ–"><a href="#æ–¹æ³•ä¸‰ï¼šå•è°ƒæ ˆä¼˜åŒ–" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šå•è°ƒæ ˆä¼˜åŒ–"></a>æ–¹æ³•ä¸‰ï¼šå•è°ƒæ ˆä¼˜åŒ–</h1><p>å‚è€ƒ84é¢˜çš„ä¼˜åŒ–æ–¹æ³•</p><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    public int maximalRectangle(char[][] matrix) &#123;</span><br><span class="line">        int row = matrix.length;</span><br><span class="line">        if (row == 0) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        int col = matrix[0].length;</span><br><span class="line">        int[][] num = new int[row][col];</span><br><span class="line">        for (int i = 0; i &lt; row; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; col; j++) &#123;</span><br><span class="line">                num[i][j] = matrix[i][j] - &#x27;0&#x27;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //åŸåœ°ä¿®æ”¹çŸ©é˜µï¼Œä½¿å…¶æ¯è¡Œéƒ½æ˜¯æŸ±çŠ¶å›¾çš„é«˜åº¦</span><br><span class="line">        for (int i = 1; i &lt; row; i++) &#123;</span><br><span class="line">            for (int j = 0; j &lt; col; j++) &#123;</span><br><span class="line">                num[i][j] = num[i][j] == 0 ? 0 : num[i - 1][j] + 1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        int maxarea = 0;</span><br><span class="line">        for (int i = 0; i &lt; row; i++) &#123;</span><br><span class="line">            maxarea = Math.max(maxarea, largestRectangleArea(num[i]));</span><br><span class="line">        &#125;</span><br><span class="line">        return maxarea;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int largestRectangleArea(int[] heights) &#123;</span><br><span class="line">        int len = heights.length;</span><br><span class="line">        int[] left = new int[len];</span><br><span class="line">        int[] right = new int[len];</span><br><span class="line">        Arrays.fill(right, len);</span><br><span class="line">        Deque&lt;Integer&gt; mono_stack = new ArrayDeque&lt;&gt;();</span><br><span class="line">        for (int i = 0; i &lt; len; i++) &#123;</span><br><span class="line">            while (!mono_stack.isEmpty() &amp;&amp; heights[i] &lt;= heights[mono_stack.peek()]) &#123;</span><br><span class="line">                right[mono_stack.pop()] = i;</span><br><span class="line">            &#125;</span><br><span class="line">            left[i] = mono_stack.isEmpty() ? -1 : mono_stack.peek();</span><br><span class="line">            mono_stack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        int maxarea = 0;</span><br><span class="line">        for (int i = 0; i &lt; len; i++) &#123;</span><br><span class="line">            maxarea = Math.max(maxarea, heights[i] * (right[i] - left[i] - 1));</span><br><span class="line">        &#125;</span><br><span class="line">        return maxarea;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç»™å®šä¸€ä¸ªä»…åŒ…å« 0 å’Œ 1 ã€å¤§å°ä¸º rows x cols çš„äºŒç»´äºŒè¿›åˆ¶çŸ©é˜µï¼Œæ‰¾å‡ºåªåŒ…å« 1 çš„æœ€å¤§çŸ©å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´2æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B42%E6%9C%88/"/>
    
    
    <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
    <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
    <category term="Stack" scheme="http://yoursite.com/tags/Stack/"/>
    
    <category term="Monotonic Stack" scheme="http://yoursite.com/tags/Monotonic-Stack/"/>
    
    <category term="Dynammic Programming" scheme="http://yoursite.com/tags/Dynammic-Programming/"/>
    
    <category term="Matrix" scheme="http://yoursite.com/tags/Matrix/"/>
    
  </entry>
  
  <entry>
    <title>Hexo+githubæ­å»ºä¸ªäººåšå®¢é—®é¢˜æ€»ç»“</title>
    <link href="http://yoursite.com/2022/02/17/Hexo%20github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/"/>
    <id>http://yoursite.com/2022/02/17/Hexo%20github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/</id>
    <published>2022-02-17T06:12:12.000Z</published>
    <updated>2022-03-08T02:49:20.811Z</updated>
    
    <content type="html"><![CDATA[<p>æ€»ç»“Hexo+githubæ­å»ºä¸ªäººåšå®¢è¿‡ç¨‹ä¸­ä¸¤ä¸ªè´¹æ—¶è¾ƒé•¿çš„é—®é¢˜åŠå…¶è§£å†³æ–¹æ³•</p><span id="more"></span><p>[TOC]</p><h1 id="Mac-ä¸Šé…ç½®å¤šä¸ªgitè´¦å·"><a href="#Mac-ä¸Šé…ç½®å¤šä¸ªgitè´¦å·" class="headerlink" title="Mac ä¸Šé…ç½®å¤šä¸ªgitè´¦å·"></a>Mac ä¸Šé…ç½®å¤šä¸ªgitè´¦å·</h1><p><a href="https://www.jianshu.com/p/698f82e72415">https://www.jianshu.com/p/698f82e72415</a></p><p>æ­¤å¤„å°†å…¬å¸gitlabåœ°å€å‡è®¾ä¸ºcompany.cn</p><pre><code>ssh-keygen -t rsa -f ~/.ssh/id_rsa_gitlab -C &quot;yiyeli@company.cn&quot;ssh-keygen -t rsa -f ~/.ssh/id_rsa_github -C &quot;15652771941@163.com&quot;ssh-keygen -t rsa -f ~/.ssh/id_rsa_gitee -C &quot;15652771941@163.com&quot;ssh -T git@company.cnssh -T git@gitee.comssh -T git@github.comssh: connect to host github.com port 22: Operation timed out</code></pre><p>è¿æ¥å…¶å®ƒgitæ—¶éƒ½æˆåŠŸäº†ï¼Œåªæœ‰githubæŠ¥é”™ï¼Œå¯ä»¥æ¢ä¸ªç«¯å£,åœ¨githubä¸‹åŠ ä¸€æ  Port 443ï¼Œä½†è¿˜æ˜¯æ²¡ä½œç”¨</p><pre><code>#å…¬å¸Host gitlab.company.corpHostname gitlab.company.corpIdentityFile ~/.ssh/id_rsa_gitlabUser gitlabLoginName  #ä¸ªäººgithubHost github.comHostname github.comIdentityFile ~/.ssh/id_rsa_githubUser githubLoginName# Port 443#ä¸ªäººgiteeHost gitee.comHostname gitee.comIdentityFile ~/.ssh/id_rsa_giteeUser giteeLoginName</code></pre><h2 id="ä½¿ç”¨å…¬å¸gitlabæ—¶å‡ºé”™"><a href="#ä½¿ç”¨å…¬å¸gitlabæ—¶å‡ºé”™" class="headerlink" title="ä½¿ç”¨å…¬å¸gitlabæ—¶å‡ºé”™"></a>ä½¿ç”¨å…¬å¸gitlabæ—¶å‡ºé”™</h2><pre><code>Total 10 (delta 4), reused 0 (delta 0), pack-reused 0remote: git rev-list xxxx--after=&#39;2021-11-29 15:55:00&#39;        remote: GL-HOOK-ERR: 6xxxxçš„æäº¤è€…xxxx@163.comä¸æ˜¯å…¬å¸é‚®ç®±ï¼Œè¯·ä¿®æ”¹æ‚¨çš„é‚®ç®±ä¸ºå…¬å¸é‚®ç®±,è‹¥ä»æ— æ³•è§£å†³ï¼Œè¯·æäº¤jiraå·¥å•:remote: error: hook declined to update refs/heads/feature-chinese2022        error: failed to push some refs to &#39;gitlab.company.corp:ce-datamonitorsystem/grafana.git&#39;</code></pre><p>ä»é”™è¯¯åŸå› å¯ä»¥çœ‹åˆ°æ˜¯æäº¤çš„é‚®ç®±é”™è¯¯ï¼ŒåŸå› æ˜¯ç¬¬ä¸€æ¬¡commitæ—¶IDEä¼šå¼¹å‡ºä¸€ä¸ªGit User Name Is Not Definedçš„çª—å£ï¼Œå¡«å®Œç”¨æˆ·åå’Œé‚®ç®±åä¼šé»˜è®¤å°†Set properties globallyçš„é€‰é¡¹æ‰“ä¸Šå‹¾ï¼Œè¿™æ ·åœ¨é…ç½®å¤šä¸ªgitè´¦æˆ·æ—¶å°±ä¼šå‡ºé”™ï¼Œå› ä¸ºé‚®ç®±ç­‰å‚æ•°ä¸èƒ½æ˜¯å…¨å±€ä¸€è‡´çš„ï¼Œè®°å¾—æ¯æ¬¡æŠŠè¿™ä¸ªSet properties globallyé€‰é¡¹å»æ‰å°±å¥½äº†ã€‚</p><h1 id="é—®é¢˜ï¼šæœ¬åœ°åŒæ—¶é…ç½®å¤šä¸ªgithubè´¦å·å¯¼è‡´åšå®¢éƒ¨ç½²å¤±è´¥"><a href="#é—®é¢˜ï¼šæœ¬åœ°åŒæ—¶é…ç½®å¤šä¸ªgithubè´¦å·å¯¼è‡´åšå®¢éƒ¨ç½²å¤±è´¥" class="headerlink" title="é—®é¢˜ï¼šæœ¬åœ°åŒæ—¶é…ç½®å¤šä¸ªgithubè´¦å·å¯¼è‡´åšå®¢éƒ¨ç½²å¤±è´¥"></a>é—®é¢˜ï¼šæœ¬åœ°åŒæ—¶é…ç½®å¤šä¸ªgithubè´¦å·å¯¼è‡´åšå®¢éƒ¨ç½²å¤±è´¥</h1><p>å› ä¸ºæœ¬åœ°åŒæ—¶é…ç½®æœ‰ä¸¤ä¸ªgithubè´¦å·ï¼Œåœ¨Hexo+githubæ­å»ºä¸ªäººåšå®¢éƒ¨ç½²åˆ°è´¦å·AæˆåŠŸåç”¨ç›¸åŒæ–¹å¼éƒ¨ç½²åˆ°è´¦å·Bæ—¶æ‰§è¡Œhexo dæ—¶å‡ºç°é—®é¢˜</p><pre><code>remote: Permission to B/B.github.io.git denied to A.fatal: unable to access &#39;https://github.com/B/B.github.io.git/&#39;: The requested URL returned error: 403FATAL Something&#39;s wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.htmlError: remote: Permission to B/B.github.io.git denied to A.fatal: unable to access &#39;https://github.com/B/B.github.io.git/&#39;: The requested URL returned error: 403</code></pre><p>åŸå› æ˜¯åœ¨ç¼ºçœè®¾ç½®ä¸‹ï¼Œgithub pageåªæœ‰è¯¥pageå¯¹åº”çš„è´¦å·Aæ‰èƒ½pushï¼Œä¸ºäº†è§£å†³è¯¥é—®é¢˜ï¼Œåœ¨hexoçš„ _config.ymléƒ¨ç½²çš„repoåœ°å€æ”¹ç”¨sshè€Œä¸æ˜¯ç”¨httpsï¼ŒåŒæ—¶å¯¹sshåœ°å€åšHoståˆ«åæ›¿æ¢ï¼ŒåŸæœ‰repoåœ°å€ä¸ºrepository: <a href="mailto:&#103;&#x69;&#x74;&#x40;&#x67;&#x69;&#116;&#104;&#x75;&#x62;&#46;&#99;&#x6f;&#x6d;">&#103;&#x69;&#x74;&#x40;&#x67;&#x69;&#116;&#104;&#x75;&#x62;&#46;&#99;&#x6f;&#x6d;</a>:Name&#x2F;Name.github.io.gitï¼Œæ›¿æ¢ä¸ºrepository: git@B:Name&#x2F;Name.github.io.gitã€‚<br>åœ¨åŸæœ‰çš„~.ssh\configä¸­é…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p><pre><code># è¯¥é…ç½®ç”¨äºè´¦æˆ·AHost A # Host æœåŠ¡å™¨åˆ«åHostName github.com  # HostName æœåŠ¡å™¨ipåœ°å€æˆ–æœºå™¨åUser A # Userè¿æ¥æœåŠ¡å™¨çš„ç”¨æˆ·åIdentityFile C:\Users\yiye\.ssh\id_rsa # IdentityFile å¯†åŒ™æ–‡ä»¶çš„å…·ä½“è·¯å¾„# è¯¥é…ç½®ç”¨äºè´¦æˆ·BHost B # Host æœåŠ¡å™¨åˆ«åHostName github.com # HostName æœåŠ¡å™¨ipåœ°å€æˆ–æœºå™¨åUser B # Userè¿æ¥æœåŠ¡å™¨çš„ç”¨æˆ·åIdentityFile C:\Users\yiye\.ssh\id_rsa_new # IdentityFile å¯†åŒ™æ–‡ä»¶çš„å…·ä½“è·¯å¾„</code></pre><p>è¿™æ ·sshè§£æçš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æŠŠBè½¬æ¢ä¸º github.comï¼Œpushçš„æ—¶å€™ç³»ç»Ÿå°±ä¼šæ ¹æ®ä¸åŒçš„ä»“åº“åœ°å€ä½¿ç”¨ä¸åŒçš„è´¦å·æäº¤</p><h1 id="é—®é¢˜ï¼šå†å²åˆ é™¤æ–‡ä»¶ä»å­˜åœ¨äºrepositoryä¸­"><a href="#é—®é¢˜ï¼šå†å²åˆ é™¤æ–‡ä»¶ä»å­˜åœ¨äºrepositoryä¸­" class="headerlink" title="é—®é¢˜ï¼šå†å²åˆ é™¤æ–‡ä»¶ä»å­˜åœ¨äºrepositoryä¸­"></a>é—®é¢˜ï¼šå†å²åˆ é™¤æ–‡ä»¶ä»å­˜åœ¨äºrepositoryä¸­</h1><p>åŸæœ¬åˆ é™¤çš„æ–‡ä»¶ä»å­˜åœ¨äºç”Ÿæˆçš„blog\publicä¸­ï¼Œè¿™æ˜¯å› ä¸ºæ²¡æœ‰æ‰§è¡Œhexo cleanå‘½ä»¤</p><p>##é—®é¢˜3ï¼šHexo deploy å‘å¸ƒä¸æˆåŠŸ<br>å§‹ç»ˆåœç•™åœ¨</p><pre><code>nothing to commit (working directory clean)</code></pre><p>Hexoçš„issueä¸­æœ‰æåˆ°è¿™ä¸ªé—®é¢˜å“¦ï¼ŒåŸå› å°±æ˜¯ç¬¬ä¸€æ¬¡è®¾ç½®é”™äº†ï¼Œç„¶åå³ä½¿æ­£ç¡®è®¾ç½® Repository å†æ¬¡ Deploy çš„æ—¶å€™å®ƒä¹Ÿä¼šæŠ¥é”™ï¼šnothing to commit, working directory cleanï¼›error: src refspec master does not match anyã€‚æ‰€ä»¥ï¼Œå½“é‡æ–°è®¾ç½® Repo çš„æ—¶å€™è¦æŠŠ .deploy_git&#x2F; æ–‡ä»¶å¤¹åˆ æ‰ï¼Œè®© Hexo å†æ¬¡åˆå§‹åŒ–ï¼Œå¦åˆ™ Hexo åªæ˜¯æ‰§è¡Œ push æ“ä½œï¼Œæ‰€ä»¥ä¼šä¸€ç›´æŠ¥é”™ã€‚è§£å†³æ–¹æ³•æ˜¯åˆ é™¤.deploy_git</p><pre><code>rm -rf .deploy_githexo generaterhexo deploy</code></pre>]]></content>
    
    
    <summary type="html">&lt;p&gt;æ€»ç»“Hexo+githubæ­å»ºä¸ªäººåšå®¢è¿‡ç¨‹ä¸­ä¸¤ä¸ªè´¹æ—¶è¾ƒé•¿çš„é—®é¢˜åŠå…¶è§£å†³æ–¹æ³•&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´2æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B42%E6%9C%88/"/>
    
    
    <category term="Git" scheme="http://yoursite.com/tags/Git/"/>
    
    <category term="Hexo" scheme="http://yoursite.com/tags/Hexo/"/>
    
    <category term="Github" scheme="http://yoursite.com/tags/Github/"/>
    
  </entry>
  
  <entry>
    <title>312. æˆ³æ°”çƒ</title>
    <link href="http://yoursite.com/2022/01/18/312.%20%E6%88%B3%E6%B0%94%E7%90%83%E4%BA%8C%E5%88%B7/"/>
    <id>http://yoursite.com/2022/01/18/312.%20%E6%88%B3%E6%B0%94%E7%90%83%E4%BA%8C%E5%88%B7/</id>
    <published>2022-01-18T15:50:12.000Z</published>
    <updated>2022-01-18T15:54:23.897Z</updated>
    
    <content type="html"><![CDATA[<p>æ±‚æ‰€èƒ½è·å¾—ç¡¬å¸çš„æœ€å¤§æ•°é‡ã€‚</p><span id="more"></span><p>[TOC]</p><p>æœ‰ n ä¸ªæ°”çƒï¼Œç¼–å·ä¸º0 åˆ° n - 1ï¼Œæ¯ä¸ªæ°”çƒä¸Šéƒ½æ ‡æœ‰ä¸€ä¸ªæ•°å­—ï¼Œè¿™äº›æ•°å­—å­˜åœ¨æ•°ç»„Â numsÂ ä¸­ã€‚</p><p>ç°åœ¨è¦æ±‚ä½ æˆ³ç ´æ‰€æœ‰çš„æ°”çƒã€‚æˆ³ç ´ç¬¬ i ä¸ªæ°”çƒï¼Œä½ å¯ä»¥è·å¾—Â nums[i - 1] * nums[i] * nums[i + 1] æšç¡¬å¸ã€‚Â è¿™é‡Œçš„ i - 1 å’Œ i + 1 ä»£è¡¨å’ŒÂ iÂ ç›¸é‚»çš„ä¸¤ä¸ªæ°”çƒçš„åºå·ã€‚å¦‚æœ i - 1æˆ– i + 1 è¶…å‡ºäº†æ•°ç»„çš„è¾¹ç•Œï¼Œé‚£ä¹ˆå°±å½“å®ƒæ˜¯ä¸€ä¸ªæ•°å­—ä¸º 1 çš„æ°”çƒã€‚</p><p>æ±‚æ‰€èƒ½è·å¾—ç¡¬å¸çš„æœ€å¤§æ•°é‡ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [3,1,5,8]è¾“å‡ºï¼š167è§£é‡Šï¼šnums = [3,1,5,8] --&gt; [3,5,8] --&gt; [3,8] --&gt; [8] --&gt; []coins =  3*1*5    +   3*5*8   +  1*3*8  + 1*8*1 = 167</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šnums = [1,5]è¾“å‡ºï¼š10</code></pre><p>æç¤ºï¼š</p><pre><code>n == nums.length1 &lt;= n &lt;= 5000 &lt;= nums[i] &lt;= 100</code></pre><h1 id="å‰è¨€-1"><a href="#å‰è¨€-1" class="headerlink" title="å‰è¨€^1"></a>å‰è¨€<a href="https://leetcode-cn.com/problems/burst-balloons/solution/chuo-qi-qiu-by-leetcode-solution/">^1</a></h1><p>ä¸ºäº†æ–¹ä¾¿å¤„ç†ï¼Œæˆ‘ä»¬å¯¹ nums æ•°ç»„ç¨ä½œå¤„ç†ï¼Œå°†å…¶ä¸¤è¾¹å„åŠ ä¸Šé¢˜ç›®ä¸­å‡è®¾å­˜åœ¨çš„ nums[n] ï¼Œå¹¶ä¿å­˜åœ¨ val æ•°ç»„ä¸­ï¼Œå³ val[i]&#x3D;nums[iâˆ’1] ã€‚ä¹‹æ‰€ä»¥è¿™æ ·å¤„ç†æ˜¯ä¸ºäº†å¤„ç† nums[âˆ’1] ï¼Œé˜²æ­¢ä¸‹æ ‡è¶Šç•Œã€‚</p><p>ä¸‹æ–‡ä¸­çš„åŒºé—´å‡æŒ‡æ•°ç»„ val ä¸Šçš„åŒºé—´ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢"><a href="#æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢" class="headerlink" title="æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢"></a>æ–¹æ³•ä¸€ï¼šè®°å¿†åŒ–æœç´¢</h1><h2 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h2><p>æˆ‘ä»¬è§‚å¯Ÿæˆ³æ°”çƒçš„æ“ä½œï¼Œå‘ç°è¿™ä¼šå¯¼è‡´ä¸¤ä¸ªæ°”çƒä»ä¸ç›¸é‚»å˜æˆç›¸é‚»ï¼Œä½¿å¾—åç»­æ“ä½œéš¾ä»¥å¤„ç†ã€‚äºæ˜¯æˆ‘ä»¬å€’è¿‡æ¥çœ‹è¿™äº›æ“ä½œï¼Œå°†å…¨è¿‡ç¨‹çœ‹ä½œæ˜¯æ¯æ¬¡æ·»åŠ ä¸€ä¸ªæ°”çƒã€‚</p><p>æˆ‘ä»¬å®šä¹‰æ–¹æ³• solveï¼Œä»¤ solve(i,j) è¡¨ç¤ºå°†å¼€åŒºé—´ (i,j) å†…çš„ä½ç½®å…¨éƒ¨å¡«æ»¡æ°”çƒèƒ½å¤Ÿå¾—åˆ°çš„æœ€å¤šç¡¬å¸æ•°ã€‚ç”±äºæ˜¯å¼€åŒºé—´ï¼Œå› æ­¤åŒºé—´ä¸¤ç«¯çš„æ°”çƒçš„ç¼–å·å°±æ˜¯ i å’Œ jï¼Œå¯¹åº”ç€ val[i] å’Œ val[j]ã€‚</p><p>å½“ iâ‰¥jâˆ’1 æ—¶ï¼Œå¼€åŒºé—´ä¸­æ²¡æœ‰æ°”çƒï¼Œsolve(i,j) çš„å€¼ä¸º 0ï¼›</p><p>å½“ i&lt;jâˆ’1 æ—¶ï¼Œæˆ‘ä»¬æšä¸¾å¼€åŒºé—´ (i,j) å†…çš„å…¨éƒ¨ä½ç½® midï¼Œä»¤ mid ä¸ºå½“å‰åŒºé—´ç¬¬ä¸€ä¸ªæ·»åŠ çš„æ°”çƒï¼Œè¯¥æ“ä½œèƒ½å¾—åˆ°çš„ç¡¬å¸æ•°ä¸º val[i]Ã—val[mid]Ã—val[j]ã€‚åŒæ—¶æˆ‘ä»¬é€’å½’åœ°è®¡ç®—åˆ†å‰²å‡ºçš„ä¸¤åŒºé—´å¯¹ solve(i,j) çš„è´¡çŒ®ï¼Œè¿™ä¸‰é¡¹ä¹‹å’Œçš„æœ€å¤§å€¼ï¼Œå³ä¸º solve(i,j) çš„å€¼ã€‚è¿™æ ·é—®é¢˜å°±è½¬åŒ–ä¸ºæ±‚ solve(i,mid) å’Œ solve(mid,j) ï¼Œå¯ä»¥å†™å‡ºæ–¹ç¨‹ï¼š</p><pre><code>if i&lt;jâˆ’1solve(i,j)=max(mid in (i+1, jâˆ’1)) val[i]Ã—val[mid]Ã—val[j]+solve(i,mid)+solve(mid,j),if iâ‰¥jâˆ’1solve(i,j)=0,</code></pre><p>ä¸ºäº†é˜²æ­¢é‡å¤è®¡ç®—ï¼Œæˆ‘ä»¬å­˜å‚¨ solve çš„ç»“æœï¼Œä½¿ç”¨è®°å¿†åŒ–æœç´¢çš„æ–¹æ³•ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ã€‚</p><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; rec;</span><br><span class="line">    vector&lt;int&gt; val;</span><br><span class="line"></span><br><span class="line">public:</span><br><span class="line">    int solve(int left, int right) &#123;</span><br><span class="line">        if (left &gt;= right - 1) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        if (rec[left][right] != -1) &#123;</span><br><span class="line">            return rec[left][right];</span><br><span class="line">        &#125;</span><br><span class="line">        for (int i = left + 1; i &lt; right; i++) &#123;</span><br><span class="line">            int sum = val[left] * val[i] * val[right];</span><br><span class="line">            sum += solve(left, i) + solve(i, right);</span><br><span class="line">            rec[left][right] = max(rec[left][right], sum);</span><br><span class="line">        &#125;</span><br><span class="line">        return rec[left][right];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int maxCoins(vector&lt;int&gt;&amp; nums) &#123;</span><br><span class="line">        int n = nums.size();</span><br><span class="line">        val.resize(n + 2);</span><br><span class="line">        for (int i = 1; i &lt;= n; i++) &#123;</span><br><span class="line">            val[i] = nums[i - 1];</span><br><span class="line">        &#125;</span><br><span class="line">        val[0] = val[n + 1] = 1;</span><br><span class="line">        rec.resize(n + 2, vector&lt;int&gt;(n + 2, -1));</span><br><span class="line">        return solve(0, n + 1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int[][] rec;</span><br><span class="line">    public int[] val;</span><br><span class="line"></span><br><span class="line">    public int maxCoins(int[] nums) &#123;</span><br><span class="line">        int n = nums.length;</span><br><span class="line">        val = new int[n + 2];</span><br><span class="line">        for (int i = 1; i &lt;= n; i++) &#123;</span><br><span class="line">            val[i] = nums[i - 1];</span><br><span class="line">        &#125;</span><br><span class="line">        val[0] = val[n + 1] = 1;</span><br><span class="line">        rec = new int[n + 2][n + 2];</span><br><span class="line">        for (int i = 0; i &lt;= n + 1; i++) &#123;</span><br><span class="line">            Arrays.fill(rec[i], -1);</span><br><span class="line">        &#125;</span><br><span class="line">        return solve(0, n + 1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int solve(int left, int right) &#123;</span><br><span class="line">        if (left &gt;= right - 1) &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        if (rec[left][right] != -1) &#123;</span><br><span class="line">            return rec[left][right];</span><br><span class="line">        &#125;</span><br><span class="line">        for (int i = left + 1; i &lt; right; i++) &#123;</span><br><span class="line">            int sum = val[left] * val[i] * val[right];</span><br><span class="line">            sum += solve(left, i) + solve(i, right);</span><br><span class="line">            rec[left][right] = Math.max(rec[left][right], sum);</span><br><span class="line">        &#125;</span><br><span class="line">        return rec[left][right];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def maxCoins(self, nums: List[int]) -&gt; int:</span><br><span class="line">        n = len(nums)</span><br><span class="line">        val = [1] + nums + [1]</span><br><span class="line">        </span><br><span class="line">        @lru_cache(None)</span><br><span class="line">        def solve(left: int, right: int) -&gt; int:</span><br><span class="line">            if left &gt;= right - 1:</span><br><span class="line">                return 0</span><br><span class="line">            </span><br><span class="line">            best = 0</span><br><span class="line">            for i in range(left + 1, right):</span><br><span class="line">                total = val[left] * val[i] * val[right]</span><br><span class="line">                total += solve(left, i) + solve(i, right)</span><br><span class="line">                best = max(best, total)</span><br><span class="line">            </span><br><span class="line">            return best</span><br><span class="line"></span><br><span class="line">        return solve(0, n + 1)</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">func maxCoins(nums []int) int &#123;</span><br><span class="line">    n := len(nums)</span><br><span class="line">    val := make([]int, n + 2)</span><br><span class="line">    for i := 1; i &lt;= n; i++ &#123;</span><br><span class="line">        val[i] = nums[i - 1]</span><br><span class="line">    &#125;</span><br><span class="line">    val[0], val[n+1] = 1, 1</span><br><span class="line">    rec := make([][]int, n + 2)</span><br><span class="line">    for i := 0; i &lt; len(rec); i++ &#123;</span><br><span class="line">        rec[i] = make([]int, n + 2)</span><br><span class="line">        for j := 0; j &lt; len(rec[i]); j++ &#123;</span><br><span class="line">            rec[i][j] = -1</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return solve(0, n + 1, val, rec)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func solve(left, right int, val []int, rec [][]int) int &#123;</span><br><span class="line">    if left &gt;= right - 1 &#123;</span><br><span class="line">        return 0</span><br><span class="line">    &#125;</span><br><span class="line">    if rec[left][right] != -1 &#123;</span><br><span class="line">        return rec[left][right]</span><br><span class="line">    &#125;</span><br><span class="line">    for i := left + 1; i &lt; right; i++ &#123;</span><br><span class="line">        sum := val[left] * val[i] * val[right]</span><br><span class="line">        sum += solve(left, i, val, rec) + solve(i, right, val, rec)</span><br><span class="line">        rec[left][right] = max(rec[left][right], sum)</span><br><span class="line">    &#125;</span><br><span class="line">    return rec[left][right]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func max(x, y int) int &#123;</span><br><span class="line">    if x &gt; y &#123;</span><br><span class="line">        return x</span><br><span class="line">    &#125;</span><br><span class="line">    return y</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">int rec[502][502];</span><br><span class="line">int val[502];</span><br><span class="line">int solve(int left, int right) &#123;</span><br><span class="line">    if (left &gt;= right - 1) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    if (rec[left][right] != -1) &#123;</span><br><span class="line">        return rec[left][right];</span><br><span class="line">    &#125;</span><br><span class="line">    for (int i = left + 1; i &lt; right; i++) &#123;</span><br><span class="line">        int sum = val[left] * val[i] * val[right];</span><br><span class="line">        sum += solve(left, i) + solve(i, right);</span><br><span class="line">        rec[left][right] = fmax(rec[left][right], sum);</span><br><span class="line">    &#125;</span><br><span class="line">    return rec[left][right];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int maxCoins(int* nums, int numsSize) &#123;</span><br><span class="line">    memset(rec, -1, sizeof(rec));</span><br><span class="line">    val[0] = val[numsSize + 1] = 1;</span><br><span class="line">    for (int i = 1; i &lt;= numsSize; i++) &#123;</span><br><span class="line">        val[i] = nums[i - 1];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return solve(0, numsSize + 1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n^3)ï¼Œå…¶ä¸­ n æ˜¯æ°”çƒæ•°é‡ã€‚åŒºé—´æ•°ä¸º n^2 ï¼ŒåŒºé—´è¿­ä»£å¤æ‚åº¦ä¸º O(n)ï¼Œæœ€ç»ˆå¤æ‚åº¦ä¸º O(n^2 Ã— n)&#x3D;O(n^3)ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n^2)ï¼Œå…¶ä¸­ n æ˜¯æ°”çƒæ•°é‡ã€‚ç¼“å­˜å¤§å°ä¸ºåŒºé—´çš„ä¸ªæ•°ã€‚</p><h1 id="æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"><a href="#æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’" class="headerlink" title="æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’"></a>æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’</h1><h2 id="æ€è·¯åŠç®—æ³•-1"><a href="#æ€è·¯åŠç®—æ³•-1" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h2><p>æŒ‰ç…§æ–¹æ³•ä¸€çš„æ€è·¯ï¼Œæˆ‘ä»¬å‘ç°æˆ‘ä»¬å¯ä»¥é€šè¿‡å˜æ¢è®¡ç®—é¡ºåºï¼Œä»ã€Œè‡ªé¡¶å‘ä¸‹ã€çš„è®°å¿†åŒ–æœç´¢å˜ä¸ºã€Œè‡ªåº•å‘ä¸Šã€çš„åŠ¨æ€è§„åˆ’ã€‚</p><p>ä»¤ dp[i][j] è¡¨ç¤ºå¡«æ»¡å¼€åŒºé—´ (i,j) èƒ½å¾—åˆ°çš„æœ€å¤šç¡¬å¸æ•°ï¼Œé‚£ä¹ˆè¾¹ç•Œæ¡ä»¶æ˜¯ iâ‰¥jâˆ’1ï¼Œæ­¤æ—¶æœ‰ dp[i][j]&#x3D;0ã€‚</p><p>å¯ä»¥å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p><pre><code>if i&lt;jâˆ’1dp[i][j]=max(k in (i+1, jâˆ’1)) val[i]Ã—val[k]Ã—val[j]+dp[i][k]+dp[k][j]if iâ‰¥jâˆ’1dp[i][j]=0,</code></pre><p>æœ€ç»ˆç­”æ¡ˆå³ä¸º dp[0][n+1]ã€‚å®ç°æ—¶è¦æ³¨æ„åˆ°åŠ¨æ€è§„åˆ’çš„æ¬¡åºã€‚</p><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int maxCoins(vector&lt;int&gt;&amp; nums) &#123;</span><br><span class="line">        int n = nums.size();</span><br><span class="line">        vector&lt;vector&lt;int&gt;&gt; rec(n + 2, vector&lt;int&gt;(n + 2));</span><br><span class="line">        vector&lt;int&gt; val(n + 2);</span><br><span class="line">        val[0] = val[n + 1] = 1;</span><br><span class="line">        for (int i = 1; i &lt;= n; i++) &#123;</span><br><span class="line">            val[i] = nums[i - 1];</span><br><span class="line">        &#125;</span><br><span class="line">        for (int i = n - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">            for (int j = i + 2; j &lt;= n + 1; j++) &#123;</span><br><span class="line">                for (int k = i + 1; k &lt; j; k++) &#123;</span><br><span class="line">                    int sum = val[i] * val[k] * val[j];</span><br><span class="line">                    sum += rec[i][k] + rec[k][j];</span><br><span class="line">                    rec[i][j] = max(rec[i][j], sum);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return rec[0][n + 1];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int maxCoins(int[] nums) &#123;</span><br><span class="line">        int n = nums.length;</span><br><span class="line">        int[][] rec = new int[n + 2][n + 2];</span><br><span class="line">        int[] val = new int[n + 2];</span><br><span class="line">        val[0] = val[n + 1] = 1;</span><br><span class="line">        for (int i = 1; i &lt;= n; i++) &#123;</span><br><span class="line">            val[i] = nums[i - 1];</span><br><span class="line">        &#125;</span><br><span class="line">        for (int i = n - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">            for (int j = i + 2; j &lt;= n + 1; j++) &#123;</span><br><span class="line">                for (int k = i + 1; k &lt; j; k++) &#123;</span><br><span class="line">                    int sum = val[i] * val[k] * val[j];</span><br><span class="line">                    sum += rec[i][k] + rec[k][j];</span><br><span class="line">                    rec[i][j] = Math.max(rec[i][j], sum);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return rec[0][n + 1];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def maxCoins(self, nums: List[int]) -&gt; int:</span><br><span class="line">        n = len(nums)</span><br><span class="line">        rec = [[0] * (n + 2) for _ in range(n + 2)]</span><br><span class="line">        val = [1] + nums + [1]</span><br><span class="line"></span><br><span class="line">        for i in range(n - 1, -1, -1):</span><br><span class="line">            for j in range(i + 2, n + 2):</span><br><span class="line">                for k in range(i + 1, j):</span><br><span class="line">                    total = val[i] * val[k] * val[j]</span><br><span class="line">                    total += rec[i][k] + rec[k][j]</span><br><span class="line">                    rec[i][j] = max(rec[i][j], total)</span><br><span class="line">        </span><br><span class="line">        return rec[0][n + 1]</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">func maxCoins(nums []int) int &#123;</span><br><span class="line">    n := len(nums)</span><br><span class="line">    rec := make([][]int, n + 2)</span><br><span class="line">    for i := 0; i &lt; n + 2; i++ &#123;</span><br><span class="line">        rec[i] = make([]int, n + 2)</span><br><span class="line">    &#125;</span><br><span class="line">    val := make([]int, n + 2)</span><br><span class="line">    val[0], val[n+1] = 1, 1</span><br><span class="line">    for i := 1; i &lt;= n; i++ &#123;</span><br><span class="line">        val[i] = nums[i-1]</span><br><span class="line">    &#125;</span><br><span class="line">    for i := n - 1; i &gt;= 0; i-- &#123;</span><br><span class="line">        for j := i + 2; j &lt;= n + 1; j++ &#123;</span><br><span class="line">            for k := i + 1; k &lt; j; k++ &#123;</span><br><span class="line">                sum := val[i] * val[k] * val[j]</span><br><span class="line">                sum += rec[i][k] + rec[k][j]</span><br><span class="line">                rec[i][j] = max(rec[i][j], sum)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return rec[0][n+1]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func max(x, y int) int &#123;</span><br><span class="line">    if x &gt; y &#123;</span><br><span class="line">        return x</span><br><span class="line">    &#125;</span><br><span class="line">    return y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">int maxCoins(int* nums, int numsSize) &#123;</span><br><span class="line">    int rec[numsSize + 2][numsSize + 2];</span><br><span class="line">    memset(rec, 0, sizeof(rec));</span><br><span class="line">    int val[numsSize + 2];</span><br><span class="line">    val[0] = val[numsSize + 1] = 1;</span><br><span class="line">    for (int i = 1; i &lt;= numsSize; i++) &#123;</span><br><span class="line">        val[i] = nums[i - 1];</span><br><span class="line">    &#125;</span><br><span class="line">    for (int i = numsSize - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">        for (int j = i + 2; j &lt;= numsSize + 1; j++) &#123;</span><br><span class="line">            for (int k = i + 1; k &lt; j; k++) &#123;</span><br><span class="line">                int sum = val[i] * val[k] * val[j];</span><br><span class="line">                sum += rec[i][k] + rec[k][j];</span><br><span class="line">                rec[i][j] = fmax(rec[i][j], sum);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return rec[0][numsSize + 1];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ-1"><a href="#å¤æ‚åº¦åˆ†æ-1" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n^3)ï¼Œå…¶ä¸­ n æ˜¯æ°”çƒæ•°é‡ã€‚çŠ¶æ€æ•°ä¸º n^2 ï¼ŒçŠ¶æ€è½¬ç§»å¤æ‚åº¦ä¸º O(n)ï¼Œæœ€ç»ˆå¤æ‚åº¦ä¸º O(n^2 Ã— n)&#x3D;O(n^3)ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n^2)ï¼Œå…¶ä¸­ n æ˜¯æ°”çƒæ•°é‡ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æ±‚æ‰€èƒ½è·å¾—ç¡¬å¸çš„æœ€å¤§æ•°é‡ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´1æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B41%E6%9C%88/"/>
    
    
    <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
    <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
    <category term="Dynammic Programming" scheme="http://yoursite.com/tags/Dynammic-Programming/"/>
    
  </entry>
  
  <entry>
    <title>114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨</title>
    <link href="http://yoursite.com/2022/01/18/114.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%95%E5%BC%80%E4%B8%BA%E9%93%BE%E8%A1%A8/"/>
    <id>http://yoursite.com/2022/01/18/114.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%95%E5%BC%80%E4%B8%BA%E9%93%BE%E8%A1%A8/</id>
    <published>2022-01-18T15:12:12.000Z</published>
    <updated>2022-01-18T15:06:19.158Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹ root ï¼Œè¯·ä½ å°†å®ƒå±•å¼€ä¸ºä¸€ä¸ªå•é“¾è¡¨ï¼š</p><span id="more"></span><p>[TOC]</p><p>å±•å¼€åçš„å•é“¾è¡¨åº”è¯¥åŒæ ·ä½¿ç”¨ TreeNode ï¼Œå…¶ä¸­ right å­æŒ‡é’ˆæŒ‡å‘é“¾è¡¨ä¸­ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œè€Œå·¦å­æŒ‡é’ˆå§‹ç»ˆä¸º null ã€‚</p><p>å±•å¼€åçš„å•é“¾è¡¨åº”è¯¥ä¸äºŒå‰æ ‘ å…ˆåºéå† é¡ºåºç›¸åŒã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šroot = [1,2,5,3,4,null,6]è¾“å‡ºï¼š[1,null,2,null,3,null,4,null,5,null,6]</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šroot = []è¾“å‡ºï¼š[]</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šroot = [0]è¾“å‡ºï¼š[0]</code></pre><p>æç¤ºï¼š</p><pre><code>æ ‘ä¸­ç»“ç‚¹æ•°åœ¨èŒƒå›´ [0, 2000] å†…-100 &lt;= Node.val &lt;= 100</code></pre><p>è¿›é˜¶ï¼šä½ å¯ä»¥ä½¿ç”¨åŸåœ°ç®—æ³•ï¼ˆO(1) é¢å¤–ç©ºé—´ï¼‰å±•å¼€è¿™æ£µæ ‘å—ï¼Ÿ</p><h1 id="æ–¹æ³•ä¸€ï¼šå‰åºéå†-1"><a href="#æ–¹æ³•ä¸€ï¼šå‰åºéå†-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå‰åºéå†^1"></a>æ–¹æ³•ä¸€ï¼šå‰åºéå†<a href="https://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list/solution/er-cha-shu-zhan-kai-wei-lian-biao-by-leetcode-solu/">^1</a></h1><p>å°†äºŒå‰æ ‘å±•å¼€ä¸ºå•é“¾è¡¨ä¹‹åï¼Œå•é“¾è¡¨ä¸­çš„èŠ‚ç‚¹é¡ºåºå³ä¸ºäºŒå‰æ ‘çš„å‰åºéå†è®¿é—®å„èŠ‚ç‚¹çš„é¡ºåºã€‚å› æ­¤ï¼Œå¯ä»¥å¯¹äºŒå‰æ ‘è¿›è¡Œå‰åºéå†ï¼Œè·å¾—å„èŠ‚ç‚¹è¢«è®¿é—®åˆ°çš„é¡ºåºã€‚ç”±äºå°†äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨ä¹‹åä¼šç ´åäºŒå‰æ ‘çš„ç»“æ„ï¼Œå› æ­¤åœ¨å‰åºéå†ç»“æŸä¹‹åæ›´æ–°æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œå°†äºŒå‰æ ‘å±•å¼€ä¸ºå•é“¾è¡¨ã€‚</p><p>å¯¹äºŒå‰æ ‘çš„å‰åºéå†ä¸ç†Ÿæ‚‰çš„è¯»è€…è¯·è‡ªè¡Œç»ƒä¹ ã€Œ144. äºŒå‰æ ‘çš„å‰åºéå†ã€ã€‚</p><p>å‰åºéå†å¯ä»¥é€šè¿‡é€’å½’æˆ–è€…è¿­ä»£çš„æ–¹å¼å®ç°ã€‚ä»¥ä¸‹ä»£ç é€šè¿‡é€’å½’å®ç°å‰åºéå†ã€‚</p><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public void flatten(TreeNode root) &#123;</span><br><span class="line">        List&lt;TreeNode&gt; list = new ArrayList&lt;TreeNode&gt;();</span><br><span class="line">        preorderTraversal(root, list);</span><br><span class="line">        int size = list.size();</span><br><span class="line">        for (int i = 1; i &lt; size; i++) &#123;</span><br><span class="line">            TreeNode prev = list.get(i - 1), curr = list.get(i);</span><br><span class="line">            prev.left = null;</span><br><span class="line">            prev.right = curr;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void preorderTraversal(TreeNode root, List&lt;TreeNode&gt; list) &#123;</span><br><span class="line">        if (root != null) &#123;</span><br><span class="line">            list.add(root);</span><br><span class="line">            preorderTraversal(root.left, list);</span><br><span class="line">            preorderTraversal(root.right, list);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    void flatten(TreeNode* root) &#123;</span><br><span class="line">        vector&lt;TreeNode*&gt; l;</span><br><span class="line">        preorderTraversal(root, l);</span><br><span class="line">        int n = l.size();</span><br><span class="line">        for (int i = 1; i &lt; n; i++) &#123;</span><br><span class="line">            TreeNode *prev = l.at(i - 1), *curr = l.at(i);</span><br><span class="line">            prev-&gt;left = nullptr;</span><br><span class="line">            prev-&gt;right = curr;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void preorderTraversal(TreeNode* root, vector&lt;TreeNode*&gt; &amp;l) &#123;</span><br><span class="line">        if (root != NULL) &#123;</span><br><span class="line">            l.push_back(root);</span><br><span class="line">            preorderTraversal(root-&gt;left, l);</span><br><span class="line">            preorderTraversal(root-&gt;right, l);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">func flatten(root *TreeNode)  &#123;</span><br><span class="line">    list := preorderTraversal(root)</span><br><span class="line">    for i := 1; i &lt; len(list); i++ &#123;</span><br><span class="line">        prev, curr := list[i-1], list[i]</span><br><span class="line">        prev.Left, prev.Right = nil, curr</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func preorderTraversal(root *TreeNode) []*TreeNode &#123;</span><br><span class="line">    list := []*TreeNode&#123;&#125;</span><br><span class="line">    if root != nil &#123;</span><br><span class="line">        list = append(list, root)</span><br><span class="line">        list = append(list, preorderTraversal(root.Left)...)</span><br><span class="line">        list = append(list, preorderTraversal(root.Right)...)</span><br><span class="line">    &#125;</span><br><span class="line">    return list</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def flatten(self, root: TreeNode) -&gt; None:</span><br><span class="line">        preorderList = list()</span><br><span class="line"></span><br><span class="line">        def preorderTraversal(root: TreeNode):</span><br><span class="line">            if root:</span><br><span class="line">                preorderList.append(root)</span><br><span class="line">                preorderTraversal(root.left)</span><br><span class="line">                preorderTraversal(root.right)</span><br><span class="line">        </span><br><span class="line">        preorderTraversal(root)</span><br><span class="line">        size = len(preorderList)</span><br><span class="line">        for i in range(1, size):</span><br><span class="line">            prev, curr = preorderList[i - 1], preorderList[i]</span><br><span class="line">            prev.left = None</span><br><span class="line">            prev.right = curr</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var flatten = function(root) &#123;</span><br><span class="line">    const list = [];</span><br><span class="line">    preorderTraversal(root, list);</span><br><span class="line">    const size = list.length;</span><br><span class="line">    for (let i = 1; i &lt; size; i++) &#123;</span><br><span class="line">        const prev = list[i - 1], curr = list[i];</span><br><span class="line">        prev.left = null;</span><br><span class="line">        prev.right = curr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const preorderTraversal = (root, list) =&gt; &#123;</span><br><span class="line">    if (root != null) &#123;</span><br><span class="line">        list.push(root);</span><br><span class="line">        preorderTraversal(root.left, list);</span><br><span class="line">        preorderTraversal(root.right, list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">int num;</span><br><span class="line"></span><br><span class="line">void flatten(struct TreeNode* root) &#123;</span><br><span class="line">    num = 0;</span><br><span class="line">    struct TreeNode** l = (struct TreeNode**)malloc(0);</span><br><span class="line">    preorderTraversal(root, &amp;l);</span><br><span class="line">    for (int i = 1; i &lt; num; i++) &#123;</span><br><span class="line">        struct TreeNode *prev = l[i - 1], *curr = l[i];</span><br><span class="line">        prev-&gt;left = NULL;</span><br><span class="line">        prev-&gt;right = curr;</span><br><span class="line">    &#125;</span><br><span class="line">    free(l);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void preorderTraversal(struct TreeNode* root, struct TreeNode*** l) &#123;</span><br><span class="line">    if (root != NULL) &#123;</span><br><span class="line">        num++;</span><br><span class="line">        (*l) = (struct TreeNode**)realloc((*l), sizeof(struct TreeNode*) * num);</span><br><span class="line">        (*l)[num - 1] = root;</span><br><span class="line">        preorderTraversal(root-&gt;left, l);</span><br><span class="line">        preorderTraversal(root-&gt;right, l);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>ä»¥ä¸‹ä»£ç é€šè¿‡è¿­ä»£å®ç°å‰åºéå†ã€‚</p><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    public void flatten(TreeNode root) &#123;</span><br><span class="line">        List&lt;TreeNode&gt; list = new ArrayList&lt;TreeNode&gt;();</span><br><span class="line">        Deque&lt;TreeNode&gt; stack = new LinkedList&lt;TreeNode&gt;();</span><br><span class="line">        TreeNode node = root;</span><br><span class="line">        while (node != null || !stack.isEmpty()) &#123;</span><br><span class="line">            while (node != null) &#123;</span><br><span class="line">                list.add(node);</span><br><span class="line">                stack.push(node);</span><br><span class="line">                node = node.left;</span><br><span class="line">            &#125;</span><br><span class="line">            node = stack.pop();</span><br><span class="line">            node = node.right;</span><br><span class="line">        &#125;</span><br><span class="line">        int size = list.size();</span><br><span class="line">        for (int i = 1; i &lt; size; i++) &#123;</span><br><span class="line">            TreeNode prev = list.get(i - 1), curr = list.get(i);</span><br><span class="line">            prev.left = null;</span><br><span class="line">            prev.right = curr;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    void flatten(TreeNode* root) &#123;</span><br><span class="line">        auto v = vector&lt;TreeNode*&gt;();</span><br><span class="line">        auto stk = stack&lt;TreeNode*&gt;();</span><br><span class="line">        TreeNode *node = root;</span><br><span class="line">        while (node != nullptr || !stk.empty()) &#123;</span><br><span class="line">            while (node != nullptr) &#123;</span><br><span class="line">                v.push_back(node);</span><br><span class="line">                stk.push(node);</span><br><span class="line">                node = node-&gt;left;</span><br><span class="line">            &#125;</span><br><span class="line">            node = stk.top(); stk.pop();</span><br><span class="line">            node = node-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">        int size = v.size();</span><br><span class="line">        for (int i = 1; i &lt; size; i++) &#123;</span><br><span class="line">            auto prev = v.at(i - 1), curr = v.at(i);</span><br><span class="line">            prev-&gt;left = nullptr;</span><br><span class="line">            prev-&gt;right = curr;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Go</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">func flatten(root *TreeNode)  &#123;</span><br><span class="line">    list := []*TreeNode&#123;&#125;</span><br><span class="line">    stack := []*TreeNode&#123;&#125;</span><br><span class="line">    node := root</span><br><span class="line">    for node != nil || len(stack) &gt; 0 &#123;</span><br><span class="line">        for node != nil &#123;</span><br><span class="line">            list = append(list, node)</span><br><span class="line">            stack = append(stack, node)</span><br><span class="line">            node = node.Left</span><br><span class="line">        &#125;</span><br><span class="line">        node = stack[len(stack)-1]</span><br><span class="line">        node = node.Right</span><br><span class="line">        stack = stack[:len(stack)-1]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    for i := 1; i &lt; len(list); i++ &#123;</span><br><span class="line">        prev, curr := list[i-1], list[i]</span><br><span class="line">        prev.Left, prev.Right = nil, curr</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution:</span><br><span class="line">    def flatten(self, root: TreeNode) -&gt; None:</span><br><span class="line">        preorderList = list()</span><br><span class="line">        stack = list()</span><br><span class="line">        node = root</span><br><span class="line"></span><br><span class="line">        while node or stack:</span><br><span class="line">            while node:</span><br><span class="line">                preorderList.append(node)</span><br><span class="line">                stack.append(node)</span><br><span class="line">                node = node.left</span><br><span class="line">            node = stack.pop()</span><br><span class="line">            node = node.right</span><br><span class="line">        </span><br><span class="line">        size = len(preorderList)</span><br><span class="line">        for i in range(1, size):</span><br><span class="line">            prev, curr = preorderList[i - 1], preorderList[i]</span><br><span class="line">            prev.left = None</span><br><span class="line">            prev.right = curr</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var flatten = function(root) &#123;</span><br><span class="line">    const list = [];</span><br><span class="line">    const stack = [];</span><br><span class="line">    let node = root;</span><br><span class="line">    while (node !== null || stack.length) &#123;</span><br><span class="line">        while (node !== null) &#123;</span><br><span class="line">            list.push(node);</span><br><span class="line">            stack.push(node);</span><br><span class="line">            node = node.left;</span><br><span class="line">        &#125;</span><br><span class="line">        node = stack.pop();</span><br><span class="line">        node = node.right;</span><br><span class="line">    &#125;</span><br><span class="line">    const size = list.length;</span><br><span class="line">    for (let i = 1; i &lt; size; i++) &#123;</span><br><span class="line">        const prev = list[i - 1], curr = list[i];</span><br><span class="line">        prev.left = null;</span><br><span class="line">        prev.right = curr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">void flatten(struct TreeNode* root) &#123;</span><br><span class="line">    struct TreeNode** stk = (struct TreeNode**)malloc(0);</span><br><span class="line">    int stk_top = 0;</span><br><span class="line">    struct TreeNode** vec = (struct TreeNode**)malloc(0);</span><br><span class="line">    int vec_len = 0;</span><br><span class="line">    struct TreeNode* node = root;</span><br><span class="line">    while (node != NULL || stk_top != 0) &#123;</span><br><span class="line">        while (node != NULL) &#123;</span><br><span class="line">            vec_len++;</span><br><span class="line">            vec = (struct TreeNode**)realloc(vec, sizeof(struct TreeNode*) * vec_len);</span><br><span class="line">            vec[vec_len - 1] = node;</span><br><span class="line">            stk_top++;</span><br><span class="line">            stk = (struct TreeNode**)realloc(stk, sizeof(struct TreeNode*) * stk_top);</span><br><span class="line">            stk[stk_top - 1] = node;</span><br><span class="line">            node = node-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        node = stk[--stk_top];</span><br><span class="line">        node = node-&gt;right;</span><br><span class="line">    &#125;</span><br><span class="line">    for (int i = 1; i &lt; vec_len; i++) &#123;</span><br><span class="line">        struct TreeNode *prev = vec[i - 1], *curr = vec[i];</span><br><span class="line">        prev-&gt;left = NULL;</span><br><span class="line">        prev-&gt;right = curr;</span><br><span class="line">    &#125;</span><br><span class="line">    free(stk);</span><br><span class="line">    free(vec);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼š</p><p>O(n)ï¼Œå…¶ä¸­ n æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚å‰åºéå†çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ï¼Œå‰åºéå†ä¹‹åï¼Œéœ€è¦å¯¹æ¯ä¸ªèŠ‚ç‚¹æ›´æ–°å·¦å³å­èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ O(n)ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ï¼š</p><p>O(n)ï¼Œå…¶ä¸­ n æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚ç©ºé—´å¤æ‚åº¦å–å†³äºæ ˆï¼ˆé€’å½’è°ƒç”¨æ ˆæˆ–è€…è¿­ä»£ä¸­æ˜¾æ€§ä½¿ç”¨çš„æ ˆï¼‰å’Œå­˜å‚¨å‰åºéå†ç»“æœçš„åˆ—è¡¨çš„å¤§å°ï¼Œæ ˆå†…çš„å…ƒç´ ä¸ªæ•°ä¸ä¼šè¶…è¿‡ nï¼Œå‰åºéå†åˆ—è¡¨ä¸­çš„å…ƒç´ ä¸ªæ•°æ˜¯ nã€‚</p><h1 id="æ–¹æ³•äºŒï¼šå‰åºéå†å’Œå±•å¼€åŒæ­¥è¿›è¡Œ"><a href="#æ–¹æ³•äºŒï¼šå‰åºéå†å’Œå±•å¼€åŒæ­¥è¿›è¡Œ" class="headerlink" title="æ–¹æ³•äºŒï¼šå‰åºéå†å’Œå±•å¼€åŒæ­¥è¿›è¡Œ"></a>æ–¹æ³•äºŒï¼šå‰åºéå†å’Œå±•å¼€åŒæ­¥è¿›è¡Œ</h1><p>ä½¿ç”¨æ–¹æ³•ä¸€çš„å‰åºéå†ï¼Œç”±äºå°†èŠ‚ç‚¹å±•å¼€ä¹‹åä¼šç ´åäºŒå‰æ ‘çš„ç»“æ„è€Œä¸¢å¤±å­èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œå› æ­¤å‰åºéå†å’Œå±•å¼€ä¸ºå•é“¾è¡¨åˆ†æˆäº†ä¸¤æ­¥ã€‚èƒ½ä¸èƒ½åœ¨ä¸ä¸¢å¤±å­èŠ‚ç‚¹çš„ä¿¡æ¯çš„æƒ…å†µä¸‹ï¼Œå°†å‰åºéå†å’Œå±•å¼€ä¸ºå•é“¾è¡¨åŒæ—¶è¿›è¡Œï¼Ÿ</p><p>ä¹‹æ‰€ä»¥ä¼šåœ¨ç ´åäºŒå‰æ ‘çš„ç»“æ„ä¹‹åä¸¢å¤±å­èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œæ˜¯å› ä¸ºåœ¨å¯¹å·¦å­æ ‘è¿›è¡Œéå†æ—¶ï¼Œæ²¡æœ‰å­˜å‚¨å³å­èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œåœ¨éå†å®Œå·¦å­æ ‘ä¹‹åæ‰è·å¾—å³å­èŠ‚ç‚¹çš„ä¿¡æ¯ã€‚åªè¦å¯¹å‰åºéå†è¿›è¡Œä¿®æ”¹ï¼Œåœ¨éå†å·¦å­æ ‘ä¹‹å‰å°±è·å¾—å·¦å³å­èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œå¹¶å­˜å…¥æ ˆå†…ï¼Œå­èŠ‚ç‚¹çš„ä¿¡æ¯å°±ä¸ä¼šä¸¢å¤±ï¼Œå°±å¯ä»¥å°†å‰åºéå†å’Œå±•å¼€ä¸ºå•é“¾è¡¨åŒæ—¶è¿›è¡Œã€‚</p><p>è¯¥åšæ³•ä¸é€‚ç”¨äºé€’å½’å®ç°çš„å‰åºéå†ï¼Œåªé€‚ç”¨äºè¿­ä»£å®ç°çš„å‰åºéå†ã€‚ä¿®æ”¹åçš„å‰åºéå†çš„å…·ä½“åšæ³•æ˜¯ï¼Œæ¯æ¬¡ä»æ ˆå†…å¼¹å‡ºä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºå½“å‰è®¿é—®çš„èŠ‚ç‚¹ï¼Œè·å¾—è¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ï¼Œå¦‚æœå­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ™ä¾æ¬¡å°†å³å­èŠ‚ç‚¹å’Œå·¦å­èŠ‚ç‚¹å‹å…¥æ ˆå†…ï¼ˆæ³¨æ„å…¥æ ˆé¡ºåºï¼‰ã€‚</p><p>å±•å¼€ä¸ºå•é“¾è¡¨çš„åšæ³•æ˜¯ï¼Œç»´æŠ¤ä¸Šä¸€ä¸ªè®¿é—®çš„èŠ‚ç‚¹ prevï¼Œæ¯æ¬¡è®¿é—®ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œä»¤å½“å‰è®¿é—®çš„èŠ‚ç‚¹ä¸º currï¼Œå°† prev çš„å·¦å­èŠ‚ç‚¹è®¾ä¸º null ä»¥åŠå°† prev çš„å³å­èŠ‚ç‚¹è®¾ä¸º currï¼Œç„¶åå°† curr èµ‹å€¼ç»™ prevï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„è®¿é—®ï¼Œç›´åˆ°éå†ç»“æŸã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåˆå§‹æ—¶ prev ä¸º nullï¼Œåªæœ‰åœ¨ prev ä¸ä¸º null æ—¶æ‰èƒ½å¯¹ prev çš„å·¦å³å­èŠ‚ç‚¹è¿›è¡Œæ›´æ–°ã€‚</p><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    public void flatten(TreeNode root) &#123;</span><br><span class="line">        if (root == null) &#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        Deque&lt;TreeNode&gt; stack = new LinkedList&lt;TreeNode&gt;();</span><br><span class="line">        stack.push(root);</span><br><span class="line">        TreeNode prev = null;</span><br><span class="line">        while (!stack.isEmpty()) &#123;</span><br><span class="line">            TreeNode curr = stack.pop();</span><br><span class="line">            if (prev != null) &#123;</span><br><span class="line">                prev.left = null;</span><br><span class="line">                prev.right = curr;</span><br><span class="line">            &#125;</span><br><span class="line">            TreeNode left = curr.left, right = curr.right;</span><br><span class="line">            if (right != null) &#123;</span><br><span class="line">                stack.push(right);</span><br><span class="line">            &#125;</span><br><span class="line">            if (left != null) &#123;</span><br><span class="line">                stack.push(left);</span><br><span class="line">            &#125;</span><br><span class="line">            prev = curr;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    void flatten(TreeNode* root) &#123;</span><br><span class="line">        if (root == nullptr) &#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        auto stk = stack&lt;TreeNode*&gt;();</span><br><span class="line">        stk.push(root);</span><br><span class="line">        TreeNode *prev = nullptr;</span><br><span class="line">        while (!stk.empty()) &#123;</span><br><span class="line">            TreeNode *curr = stk.top(); stk.pop();</span><br><span class="line">            if (prev != nullptr) &#123;</span><br><span class="line">                prev-&gt;left = nullptr;</span><br><span class="line">                prev-&gt;right = curr;</span><br><span class="line">            &#125;</span><br><span class="line">            TreeNode *left = curr-&gt;left, *right = curr-&gt;right;</span><br><span class="line">            if (right != nullptr) &#123;</span><br><span class="line">                stk.push(right);</span><br><span class="line">            &#125;</span><br><span class="line">            if (left != nullptr) &#123;</span><br><span class="line">                stk.push(left);</span><br><span class="line">            &#125;</span><br><span class="line">            prev = curr;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">func flatten(root *TreeNode)  &#123;</span><br><span class="line">    if root == nil &#123;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    stack := []*TreeNode&#123;root&#125;</span><br><span class="line">    var prev *TreeNode</span><br><span class="line">    for len(stack) &gt; 0 &#123;</span><br><span class="line">        curr := stack[len(stack)-1]</span><br><span class="line">        stack = stack[:len(stack)-1]</span><br><span class="line">        if prev != nil &#123;</span><br><span class="line">            prev.Left, prev.Right = nil, curr</span><br><span class="line">        &#125;</span><br><span class="line">        left, right := curr.Left, curr.Right</span><br><span class="line">        if right != nil &#123;</span><br><span class="line">            stack = append(stack, right)</span><br><span class="line">        &#125;</span><br><span class="line">        if left != nil &#123;</span><br><span class="line">            stack = append(stack, left)</span><br><span class="line">        &#125;</span><br><span class="line">        prev = curr</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution:</span><br><span class="line">    def flatten(self, root: TreeNode) -&gt; None:</span><br><span class="line">        if not root:</span><br><span class="line">            return</span><br><span class="line">        </span><br><span class="line">        stack = [root]</span><br><span class="line">        prev = None</span><br><span class="line">        </span><br><span class="line">        while stack:</span><br><span class="line">            curr = stack.pop()</span><br><span class="line">            if prev:</span><br><span class="line">                prev.left = None</span><br><span class="line">                prev.right = curr</span><br><span class="line">            left, right = curr.left, curr.right</span><br><span class="line">            if right:</span><br><span class="line">                stack.append(right)</span><br><span class="line">            if left:</span><br><span class="line">                stack.append(left)</span><br><span class="line">            prev = curr</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">var flatten = function(root) &#123;</span><br><span class="line">    if (root === null) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    const stack = [];</span><br><span class="line">    stack.push(root);</span><br><span class="line">    let prev = null;</span><br><span class="line">    while (stack.length) &#123;</span><br><span class="line">        const curr = stack.pop();</span><br><span class="line">        if (prev !== null) &#123;</span><br><span class="line">            prev.left = null;</span><br><span class="line">            prev.right = curr;</span><br><span class="line">        &#125;</span><br><span class="line">        const left = curr.left, right = curr.right;</span><br><span class="line">        if (right !== null) &#123;</span><br><span class="line">            stack.push(right);</span><br><span class="line">        &#125;</span><br><span class="line">        if (left !== null) &#123;</span><br><span class="line">            stack.push(left);</span><br><span class="line">        &#125;</span><br><span class="line">        prev = curr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">void flatten(struct TreeNode *root) &#123;</span><br><span class="line">    if (root == NULL) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    struct TreeNode **stk = (struct TreeNode **)malloc(sizeof(struct TreeNode *));</span><br><span class="line">    int stk_top = 1;</span><br><span class="line">    stk[0] = root;</span><br><span class="line">    struct TreeNode *prev = NULL;</span><br><span class="line">    while (stk_top != 0) &#123;</span><br><span class="line">        struct TreeNode *curr = stk[--stk_top];</span><br><span class="line">        if (prev != NULL) &#123;</span><br><span class="line">            prev-&gt;left = NULL;</span><br><span class="line">            prev-&gt;right = curr;</span><br><span class="line">        &#125;</span><br><span class="line">        struct TreeNode *left = curr-&gt;left, *right = curr-&gt;right;</span><br><span class="line">        if (right != NULL) &#123;</span><br><span class="line">            stk_top++;</span><br><span class="line">            stk = (struct TreeNode **)realloc(stk, sizeof(struct TreeNode *) * stk_top);</span><br><span class="line">            stk[stk_top - 1] = right;</span><br><span class="line">        &#125;</span><br><span class="line">        if (left != NULL) &#123;</span><br><span class="line">            stk_top++;</span><br><span class="line">            stk = (struct TreeNode **)realloc(stk, sizeof(struct TreeNode *) * stk_top);</span><br><span class="line">            stk[stk_top - 1] = left;</span><br><span class="line">        &#125;</span><br><span class="line">        prev = curr;</span><br><span class="line">    &#125;</span><br><span class="line">    free(stk);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ-1"><a href="#å¤æ‚åº¦åˆ†æ-1" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚å‰åºéå†çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ï¼Œå‰åºéå†çš„åŒæ—¶å¯¹æ¯ä¸ªèŠ‚ç‚¹æ›´æ–°å·¦å³å­èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œæ›´æ–°å­èŠ‚ç‚¹ä¿¡æ¯çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚ç©ºé—´å¤æ‚åº¦å–å†³äºæ ˆçš„å¤§å°ï¼Œæ ˆå†…çš„å…ƒç´ ä¸ªæ•°ä¸ä¼šè¶…è¿‡ nã€‚</p><h1 id="æ–¹æ³•ä¸‰ï¼šå¯»æ‰¾å‰é©±èŠ‚ç‚¹"><a href="#æ–¹æ³•ä¸‰ï¼šå¯»æ‰¾å‰é©±èŠ‚ç‚¹" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šå¯»æ‰¾å‰é©±èŠ‚ç‚¹"></a>æ–¹æ³•ä¸‰ï¼šå¯»æ‰¾å‰é©±èŠ‚ç‚¹</h1><p>å‰ä¸¤ç§æ–¹æ³•éƒ½å€ŸåŠ©å‰åºéå†ï¼Œå‰åºéå†è¿‡ç¨‹ä¸­éœ€è¦ä½¿ç”¨æ ˆå­˜å‚¨èŠ‚ç‚¹ã€‚æœ‰æ²¡æœ‰ç©ºé—´å¤æ‚åº¦æ˜¯ O(1) çš„åšæ³•å‘¢ï¼Ÿ</p><p>æ³¨æ„åˆ°å‰åºéå†è®¿é—®å„èŠ‚ç‚¹çš„é¡ºåºæ˜¯æ ¹èŠ‚ç‚¹ã€å·¦å­æ ‘ã€å³å­æ ‘ã€‚å¦‚æœä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™è¯¥èŠ‚ç‚¹ä¸éœ€è¦è¿›è¡Œå±•å¼€æ“ä½œã€‚å¦‚æœä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ™è¯¥èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸­çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹è¢«è®¿é—®ä¹‹åï¼Œè¯¥èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹è¢«è®¿é—®ã€‚è¯¥èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸­æœ€åä¸€ä¸ªè¢«è®¿é—®çš„èŠ‚ç‚¹æ˜¯å·¦å­æ ‘ä¸­çš„æœ€å³è¾¹çš„èŠ‚ç‚¹ï¼Œä¹Ÿæ˜¯è¯¥èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ã€‚å› æ­¤ï¼Œé—®é¢˜è½¬åŒ–æˆå¯»æ‰¾å½“å‰èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ã€‚</p><p>å…·ä½“åšæ³•æ˜¯ï¼Œå¯¹äºå½“å‰èŠ‚ç‚¹ï¼Œå¦‚æœå…¶å·¦å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåˆ™åœ¨å…¶å·¦å­æ ‘ä¸­æ‰¾åˆ°æœ€å³è¾¹çš„èŠ‚ç‚¹ï¼Œä½œä¸ºå‰é©±èŠ‚ç‚¹ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹èµ‹ç»™å‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼Œç„¶åå°†å½“å‰èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹èµ‹ç»™å½“å‰èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼Œå¹¶å°†å½“å‰èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹è®¾ä¸ºç©ºã€‚å¯¹å½“å‰èŠ‚ç‚¹å¤„ç†ç»“æŸåï¼Œç»§ç»­å¤„ç†é“¾è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç›´åˆ°æ‰€æœ‰èŠ‚ç‚¹éƒ½å¤„ç†ç»“æŸã€‚</p><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public void flatten(TreeNode root) &#123;</span><br><span class="line">        TreeNode curr = root;</span><br><span class="line">        while (curr != null) &#123;</span><br><span class="line">            if (curr.left != null) &#123;</span><br><span class="line">                TreeNode next = curr.left;</span><br><span class="line">                TreeNode predecessor = next;</span><br><span class="line">                while (predecessor.right != null) &#123;</span><br><span class="line">                    predecessor = predecessor.right;</span><br><span class="line">                &#125;</span><br><span class="line">                predecessor.right = curr.right;</span><br><span class="line">                curr.left = null;</span><br><span class="line">                curr.right = next;</span><br><span class="line">            &#125;</span><br><span class="line">            curr = curr.right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    void flatten(TreeNode* root) &#123;</span><br><span class="line">        TreeNode *curr = root;</span><br><span class="line">        while (curr != nullptr) &#123;</span><br><span class="line">            if (curr-&gt;left != nullptr) &#123;</span><br><span class="line">                auto next = curr-&gt;left;</span><br><span class="line">                auto predecessor = next;</span><br><span class="line">                while (predecessor-&gt;right != nullptr) &#123;</span><br><span class="line">                    predecessor = predecessor-&gt;right;</span><br><span class="line">                &#125;</span><br><span class="line">                predecessor-&gt;right = curr-&gt;right;</span><br><span class="line">                curr-&gt;left = nullptr;</span><br><span class="line">                curr-&gt;right = next;</span><br><span class="line">            &#125;</span><br><span class="line">            curr = curr-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">func flatten(root *TreeNode)  &#123;</span><br><span class="line">    curr := root</span><br><span class="line">    for curr != nil &#123;</span><br><span class="line">        if curr.Left != nil &#123;</span><br><span class="line">            next := curr.Left</span><br><span class="line">            predecessor := next</span><br><span class="line">            for predecessor.Right != nil &#123;</span><br><span class="line">                predecessor = predecessor.Right</span><br><span class="line">            &#125;</span><br><span class="line">            predecessor.Right = curr.Right</span><br><span class="line">            curr.Left, curr.Right = nil, next</span><br><span class="line">        &#125;</span><br><span class="line">        curr = curr.Right</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def flatten(self, root: TreeNode) -&gt; None:</span><br><span class="line">        curr = root</span><br><span class="line">        while curr:</span><br><span class="line">            if curr.left:</span><br><span class="line">                predecessor = nxt = curr.left</span><br><span class="line">                while predecessor.right:</span><br><span class="line">                    predecessor = predecessor.right</span><br><span class="line">                predecessor.right = curr.right</span><br><span class="line">                curr.left = None</span><br><span class="line">                curr.right = nxt</span><br><span class="line">            curr = curr.right</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>JavaScript</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var flatten = function(root) &#123;</span><br><span class="line">    let curr = root;</span><br><span class="line">    while (curr !== null) &#123;</span><br><span class="line">        if (curr.left !== null) &#123;</span><br><span class="line">            const next = curr.left;</span><br><span class="line">            let predecessor = next;</span><br><span class="line">            while (predecessor.right !== null) &#123;</span><br><span class="line">                predecessor = predecessor.right;</span><br><span class="line">            &#125;</span><br><span class="line">            predecessor.right = curr.right;</span><br><span class="line">            curr.left = null;</span><br><span class="line">            curr.right = next;</span><br><span class="line">        &#125;</span><br><span class="line">        curr = curr.right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">void flatten(struct TreeNode* root) &#123;</span><br><span class="line">    struct TreeNode* curr = root;</span><br><span class="line">    while (curr != NULL) &#123;</span><br><span class="line">        if (curr-&gt;left != NULL) &#123;</span><br><span class="line">            struct TreeNode* next = curr-&gt;left;</span><br><span class="line">            struct TreeNode* predecessor = next;</span><br><span class="line">            while (predecessor-&gt;right != NULL) &#123;</span><br><span class="line">                predecessor = predecessor-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">            predecessor-&gt;right = curr-&gt;right;</span><br><span class="line">            curr-&gt;left = NULL;</span><br><span class="line">            curr-&gt;right = next;</span><br><span class="line">        &#125;</span><br><span class="line">        curr = curr-&gt;right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ-2"><a href="#å¤æ‚åº¦åˆ†æ-2" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚å±•å¼€ä¸ºå•é“¾è¡¨çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å¯¹æ¯ä¸ªèŠ‚ç‚¹è®¿é—®ä¸€æ¬¡ï¼Œåœ¨å¯»æ‰¾å‰é©±èŠ‚ç‚¹çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šè¢«é¢å¤–è®¿é—®ä¸€æ¬¡ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç»™ä½ äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹ root ï¼Œè¯·ä½ å°†å®ƒå±•å¼€ä¸ºä¸€ä¸ªå•é“¾è¡¨ï¼š&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´1æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B41%E6%9C%88/"/>
    
    
    <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
    <category term="Stack" scheme="http://yoursite.com/tags/Stack/"/>
    
    <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
    <category term="Binary Tree" scheme="http://yoursite.com/tags/Binary-Tree/"/>
    
    <category term="Depth-first Search" scheme="http://yoursite.com/tags/Depth-first-Search/"/>
    
    <category term="Linked List" scheme="http://yoursite.com/tags/Linked-List/"/>
    
  </entry>
  
  <entry>
    <title>145. äºŒå‰æ ‘çš„ååºéå†</title>
    <link href="http://yoursite.com/2022/01/18/145.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86/"/>
    <id>http://yoursite.com/2022/01/18/145.%20%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86/</id>
    <published>2022-01-18T10:12:12.000Z</published>
    <updated>2022-01-18T15:04:46.678Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„ ååºéå† ã€‚</p><span id="more"></span><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šroot = [1,null,2,3]è¾“å‡ºï¼š[3,2,1]</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šroot = []è¾“å‡ºï¼š[]</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šroot = [1]è¾“å‡ºï¼š[1]</code></pre><p>æç¤ºï¼š</p><pre><code>æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´ [0, 100] å†…-100 &lt;= Node.val &lt;= 100</code></pre><p>è¿›é˜¶ï¼šé€’å½’ç®—æ³•å¾ˆç®€å•ï¼Œä½ å¯ä»¥é€šè¿‡è¿­ä»£ç®—æ³•å®Œæˆå—ï¼Ÿ</p><h1 id="æ–¹æ³•ä¸€ï¼šé€’å½’"><a href="#æ–¹æ³•ä¸€ï¼šé€’å½’" class="headerlink" title="æ–¹æ³•ä¸€ï¼šé€’å½’"></a>æ–¹æ³•ä¸€ï¼šé€’å½’</h1><h2 id="æ€è·¯ä¸ç®—æ³•"><a href="#æ€è·¯ä¸ç®—æ³•" class="headerlink" title="æ€è·¯ä¸ç®—æ³•"></a>æ€è·¯ä¸ç®—æ³•</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦äº†è§£ä»€ä¹ˆæ˜¯äºŒå‰æ ‘çš„ååºéå†ï¼šæŒ‰ç…§è®¿é—®å·¦å­æ ‘â€”â€”å³å­æ ‘â€”â€”æ ¹èŠ‚ç‚¹çš„æ–¹å¼éå†è¿™æ£µæ ‘ï¼Œè€Œåœ¨è®¿é—®å·¦å­æ ‘æˆ–è€…å³å­æ ‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŒ‰ç…§åŒæ ·çš„æ–¹å¼éå†ï¼Œç›´åˆ°éå†å®Œæ•´æ£µæ ‘ã€‚å› æ­¤æ•´ä¸ªéå†è¿‡ç¨‹å¤©ç„¶å…·æœ‰é€’å½’çš„æ€§è´¨ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨é€’å½’å‡½æ•°æ¥æ¨¡æ‹Ÿè¿™ä¸€è¿‡ç¨‹ã€‚</p><p>å®šä¹‰ postorder(root) è¡¨ç¤ºå½“å‰éå†åˆ° root èŠ‚ç‚¹çš„ç­”æ¡ˆã€‚æŒ‰ç…§å®šä¹‰ï¼Œæˆ‘ä»¬åªè¦é€’å½’è°ƒç”¨ postorder(root-&gt;left) æ¥éå† root èŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œç„¶åé€’å½’è°ƒç”¨ postorder(root-&gt;right) æ¥éå† root èŠ‚ç‚¹çš„å³å­æ ‘ï¼Œæœ€åå°† root èŠ‚ç‚¹çš„å€¼åŠ å…¥ç­”æ¡ˆå³å¯ï¼Œé€’å½’ç»ˆæ­¢çš„æ¡ä»¶ä¸ºç¢°åˆ°ç©ºèŠ‚ç‚¹ã€‚</p><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    void postorder(TreeNode *root, vector&lt;int&gt; &amp;res) &#123;</span><br><span class="line">        if (root == nullptr) &#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        postorder(root-&gt;left, res);</span><br><span class="line">        postorder(root-&gt;right, res);</span><br><span class="line">        res.push_back(root-&gt;val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector&lt;int&gt; postorderTraversal(TreeNode *root) &#123;</span><br><span class="line">        vector&lt;int&gt; res;</span><br><span class="line">        postorder(root, res);</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    public List&lt;Integer&gt; postorderTraversal(TreeNode root) &#123;</span><br><span class="line">        List&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();</span><br><span class="line">        postorder(root, res);</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void postorder(TreeNode root, List&lt;Integer&gt; res) &#123;</span><br><span class="line">        if (root == null) &#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        postorder(root.left, res);</span><br><span class="line">        postorder(root.right, res);</span><br><span class="line">        res.add(root.val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution:</span><br><span class="line">    def postorderTraversal(self, root: TreeNode) -&gt; List[int]:</span><br><span class="line">        def postorder(root: TreeNode):</span><br><span class="line">            if not root:</span><br><span class="line">                return</span><br><span class="line">            postorder(root.left)</span><br><span class="line">            postorder(root.right)</span><br><span class="line">            res.append(root.val)</span><br><span class="line">        </span><br><span class="line">        res = list()</span><br><span class="line">        postorder(root)</span><br><span class="line">        return res</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">func postorderTraversal(root *TreeNode) (res []int) &#123;</span><br><span class="line">    var postorder func(*TreeNode)</span><br><span class="line">    postorder = func(node *TreeNode) &#123;</span><br><span class="line">        if node == nil &#123;</span><br><span class="line">            return</span><br><span class="line">        &#125;</span><br><span class="line">        postorder(node.Left)</span><br><span class="line">        postorder(node.Right)</span><br><span class="line">        res = append(res, node.Val)</span><br><span class="line">    &#125;</span><br><span class="line">    postorder(root)</span><br><span class="line">    return</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">void postorder(struct TreeNode *root, int *res, int *resSize) &#123;</span><br><span class="line">    if (root == NULL) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    postorder(root-&gt;left, res, resSize);</span><br><span class="line">    postorder(root-&gt;right, res, resSize);</span><br><span class="line">    res[(*resSize)++] = root-&gt;val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int *postorderTraversal(struct TreeNode *root, int *returnSize) &#123;</span><br><span class="line">    int *res = malloc(sizeof(int) * 2001);</span><br><span class="line">    *returnSize = 0;</span><br><span class="line">    postorder(root, res, returnSize);</span><br><span class="line">    return res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯äºŒå‰æœç´¢æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹æ°å¥½è¢«éå†ä¸€æ¬¡ã€‚<br>ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œä¸ºé€’å½’è¿‡ç¨‹ä¸­æ ˆçš„å¼€é”€ï¼Œå¹³å‡æƒ…å†µä¸‹ä¸º O(logn)ï¼Œæœ€åæƒ…å†µä¸‹æ ‘å‘ˆç°é“¾çŠ¶ï¼Œä¸º O(n)</p><h1 id="æ–¹æ³•äºŒï¼šè¿­ä»£-1"><a href="#æ–¹æ³•äºŒï¼šè¿­ä»£-1" class="headerlink" title="æ–¹æ³•äºŒï¼šè¿­ä»£^1"></a>æ–¹æ³•äºŒï¼šè¿­ä»£<a href="https://leetcode-cn.com/problems/binary-tree-postorder-traversal/solution/">^1</a></h1><h2 id="æ€è·¯ä¸ç®—æ³•-1"><a href="#æ€è·¯ä¸ç®—æ³•-1" class="headerlink" title="æ€è·¯ä¸ç®—æ³•"></a>æ€è·¯ä¸ç®—æ³•</h2><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨è¿­ä»£çš„æ–¹å¼å®ç°æ–¹æ³•ä¸€çš„é€’å½’å‡½æ•°ï¼Œä¸¤ç§æ–¹å¼æ˜¯ç­‰ä»·çš„ï¼ŒåŒºåˆ«åœ¨äºé€’å½’çš„æ—¶å€™éšå¼åœ°ç»´æŠ¤äº†ä¸€ä¸ªæ ˆï¼Œè€Œæˆ‘ä»¬åœ¨è¿­ä»£çš„æ—¶å€™éœ€è¦æ˜¾å¼åœ°å°†è¿™ä¸ªæ ˆæ¨¡æ‹Ÿå‡ºæ¥ï¼Œå…¶ä½™çš„å®ç°ä¸ç»†èŠ‚éƒ½ç›¸åŒï¼Œå…·ä½“å¯ä»¥å‚è€ƒä¸‹é¢</p><h2 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h2><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;int&gt; postorderTraversal(TreeNode *root) &#123;</span><br><span class="line">        vector&lt;int&gt; res;</span><br><span class="line">        if (root == nullptr) &#123;</span><br><span class="line">            return res;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        stack&lt;TreeNode *&gt; stk;</span><br><span class="line">        TreeNode *prev = nullptr;</span><br><span class="line">        while (root != nullptr || !stk.empty()) &#123;</span><br><span class="line">            while (root != nullptr) &#123;</span><br><span class="line">                stk.emplace(root);</span><br><span class="line">                root = root-&gt;left;</span><br><span class="line">            &#125;</span><br><span class="line">            root = stk.top();</span><br><span class="line">            stk.pop();</span><br><span class="line">            if (root-&gt;right == nullptr || root-&gt;right == prev) &#123;</span><br><span class="line">                res.emplace_back(root-&gt;val);</span><br><span class="line">                prev = root;</span><br><span class="line">                root = nullptr;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                stk.emplace(root);</span><br><span class="line">                root = root-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public List&lt;Integer&gt; postorderTraversal(TreeNode root) &#123;</span><br><span class="line">        List&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();</span><br><span class="line">        if (root == null) &#123;</span><br><span class="line">            return res;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Deque&lt;TreeNode&gt; stack = new LinkedList&lt;TreeNode&gt;();</span><br><span class="line">        TreeNode prev = null;</span><br><span class="line">        while (root != null || !stack.isEmpty()) &#123;</span><br><span class="line">            while (root != null) &#123;</span><br><span class="line">                stack.push(root);</span><br><span class="line">                root = root.left;</span><br><span class="line">            &#125;</span><br><span class="line">            root = stack.pop();</span><br><span class="line">            //å³å­æ ‘ä¸ºç©ºæˆ–è€…å·²ç»éå†è¿‡</span><br><span class="line">            if (root.right == null || root.right == prev) &#123;</span><br><span class="line">                res.add(root.val);</span><br><span class="line">                prev = root;</span><br><span class="line">                root = null;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                stack.push(root);</span><br><span class="line">                root = root.right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def postorderTraversal(self, root: TreeNode) -&gt; List[int]:</span><br><span class="line">        if not root:</span><br><span class="line">            return list()</span><br><span class="line">        </span><br><span class="line">        res = list()</span><br><span class="line">        stack = list()</span><br><span class="line">        prev = None</span><br><span class="line"></span><br><span class="line">        while root or stack:</span><br><span class="line">            while root:</span><br><span class="line">                stack.append(root)</span><br><span class="line">                root = root.left</span><br><span class="line">            root = stack.pop()</span><br><span class="line">            if not root.right or root.right == prev:</span><br><span class="line">                res.append(root.val)</span><br><span class="line">                prev = root</span><br><span class="line">                root = None</span><br><span class="line">            else:</span><br><span class="line">                stack.append(root)</span><br><span class="line">                root = root.right</span><br><span class="line">        </span><br><span class="line">        return res</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">func postorderTraversal(root *TreeNode) (res []int) &#123;</span><br><span class="line">    stk := []*TreeNode&#123;&#125;</span><br><span class="line">    var prev *TreeNode</span><br><span class="line">    for root != nil || len(stk) &gt; 0 &#123;</span><br><span class="line">        for root != nil &#123;</span><br><span class="line">            stk = append(stk, root)</span><br><span class="line">            root = root.Left</span><br><span class="line">        &#125;</span><br><span class="line">        root = stk[len(stk)-1]</span><br><span class="line">        stk = stk[:len(stk)-1]</span><br><span class="line">        if root.Right == nil || root.Right == prev &#123;</span><br><span class="line">            res = append(res, root.Val)</span><br><span class="line">            prev = root</span><br><span class="line">            root = nil</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            stk = append(stk, root)</span><br><span class="line">            root = root.Right</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">int *postorderTraversal(struct TreeNode *root, int *returnSize) &#123;</span><br><span class="line">    int *res = malloc(sizeof(int) * 2001);</span><br><span class="line">    *returnSize = 0;</span><br><span class="line">    if (root == NULL) &#123;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">    struct TreeNode **stk = malloc(sizeof(struct TreeNode *) * 2001);</span><br><span class="line">    int top = 0;</span><br><span class="line">    struct TreeNode *prev = NULL;</span><br><span class="line">    while (root != NULL || top &gt; 0) &#123;</span><br><span class="line">        while (root != NULL) &#123;</span><br><span class="line">            stk[top++] = root;</span><br><span class="line">            root = root-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        root = stk[--top];</span><br><span class="line">        if (root-&gt;right == NULL || root-&gt;right == prev) &#123;</span><br><span class="line">            res[(*returnSize)++] = root-&gt;val;</span><br><span class="line">            prev = root;</span><br><span class="line">            root = NULL;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            stk[top++] = root;</span><br><span class="line">            root = root-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p>äºŒå‰æ ‘å‰ä¸­ååºçš„é€’å½’ç‰ˆæœ¬å±äºeasyé¢˜ï¼Œè€Œè¿­ä»£ç‰ˆæœ¬é€šå¸¸æ˜¯mediumç”šè‡³æ˜¯hardã€‚</p><p>åœ¨åšè¿­ä»£ç‰ˆæœ¬ä¹‹å‰ï¼Œæˆ‘å»ºè®®å¤§å®¶å…ˆé—®é—®å„ç±»â€œéå†â€ç®—æ³•çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯æœ€åè¾“å‡ºçš„é‚£ä¸€ä¸²æœ‰åºçš„æ•°å­—å—ï¼Ÿæ•°å­—çš„é¡ºåºæ˜¯å¯¹çš„ï¼Œéå†ç®—æ³•å°±æ˜¯å¯¹çš„å—ï¼Ÿ</p><p>ä¸ªäººè®¤ä¸ºï¼Œä»¥ä¸Šé—®é¢˜çš„ç­”æ¡ˆéƒ½åº”è¯¥æ˜¯ï¼šå¦ã€‚â€œéå†â€çš„æœ¬è´¨æ˜¯å¯¹å†…å­˜çš„æœ‰åºè®¿é—®ï¼Œå¤±å»äº†è®¿é—®é¡ºåºï¼Œå³ä¾¿ä½ ç”¨å„ç§æ•°æ®ç»“æ„æ¢å¤äº†è¿™ä¸ªæ¬¡åºï¼Œéå†æœ¬èº«ä¹Ÿæ˜¾å¾—æ¯«æ— æ„ä¹‰ã€‚å¸¸è§çš„ååºéå†å†™æ³•ä¸­æœ‰ä¸€ç§å·²ç»å‡ºç°åœ¨è¯„è®ºåŒºäº†â€”â€”å®ƒçš„æ€æƒ³ä¹Ÿå¾ˆç®€å•ï¼Œå¤§å®¶åšè¿‡å•è¯ä¸²ç¿»è½¬å—ï¼Ÿ</p><p>String in  &#x3D; â€œit is a wordâ€</p><p>String out &#x3D; â€œword a is itâ€</p><p>è¿™ä¸ªé—®é¢˜æœ‰ä¸€ç§å¾ˆä¼˜é›…çš„å†™æ³•æ˜¯å…ˆreverse(in)ï¼Œç„¶åå†é€è¯ç¿»è½¬â€”â€”â€œä¸¤æ¬¡åè½¬â€ï¼Œæœ€åå¾—åˆ°çš„å°±æ˜¯æ­£ç¡®é¡ºåºã€‚</p><p>å›åˆ°äºŒå‰æ ‘ååºéå†ï¼Œä½ ä¹Ÿå¯ä»¥åˆ©ç”¨è¿™ç§æ€æƒ³ï¼Œåˆ©ç”¨åŒå‘é“¾è¡¨çš„addFirstï¼Œå¯¹å¤–éƒ¨æ¬¡åºå’Œå†…å«æ¬¡åºè¿›è¡ŒåŒæ—¶ç¿»è½¬ï¼ŒåŒæ ·ä¼šå¾—åˆ°ä¸€ç§éå¸¸â€ä¼˜é›…â€çš„è§£æ³•ï¼Œç»“æ„ç®€å•æ˜æ™°ï¼Œç”šè‡³è¿˜æœ‰ç‚¹å¥½èƒŒï¼ˆç‹—å¤´ï¼‰ã€‚ä½†æ˜¯ï¼Œå®ƒå¹¶æ²¡æœ‰çœŸæ­£å®ç°â€œéå†â€â€”â€”ä»”ç»†çœ‹ä¼šå‘ç°ï¼Œè¯¥ç®—æ³•å…¶å®åœ¨ä½¿ç”¨ä¸€ç§å¼‚æ„çš„å‰åºéå†ï¼šâ€œä¸­-&gt;å³-&gt;å·¦â€ï¼Œè€Œéä¼ ç»Ÿæ„ä¹‰ä¸Šçš„â€œä¸­-&gt;å·¦-&gt;å³â€ï¼Œè€Œè¿™ç§å¼‚æ„ä¹Ÿæ­£æ˜¯ä»–çš„ç¬¬ä¸€æ¬¡åè½¬ã€‚è€Œç¬¬äºŒæ¬¡åè½¬å°±åœ¨è¾“å‡ºåºåˆ—ä¸Šã€‚</p><p>æ‰€ä»¥æœ¬è´¨ä¸Šï¼Œè¿™æ˜¯ä¸€ä¸ªâ€œå‰åºéå†â€ï¼Œè€Œä¸æ˜¯æ‰€è°“çš„â€œååºéå†â€ã€‚åªæœ‰å½“ä½ çš„å„ä¸ªèŠ‚ç‚¹ä»¥â€œå·¦-&gt;å³-&gt;ä¸­â€çš„æ¬¡åºä¾æ¬¡å‡ºç°åœ¨è¿­ä»£çš„loopå½“ä¸­æ—¶ï¼Œå®ƒæ‰æ˜¯çœŸæ­£çš„ååºéå†ï¼Œå°±åƒå®˜è§£é‚£æ ·ã€‚æ›´æ˜“ç†è§£çš„ç‰ˆæœ¬ã€‚</p><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public List&lt;Integer&gt; postorderTraversal(TreeNode root) &#123;</span><br><span class="line">        List&lt;Integer&gt; ans = new ArrayList&lt;&gt;();</span><br><span class="line">        Stack&lt;TreeNode&gt; s = new Stack&lt;&gt;();</span><br><span class="line">        Set&lt;TreeNode&gt; seen = new HashSet&lt;&gt;();</span><br><span class="line">        while (root != null || !s.isEmpty()) &#123;</span><br><span class="line">            if (root == null &amp;&amp; seen.contains(s.peek())) &#123;</span><br><span class="line">                ans.add(s.pop().val);</span><br><span class="line">            &#125; else if (root == null) &#123;</span><br><span class="line">                seen.add(s.peek());</span><br><span class="line">                root = s.peek().right;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                s.push(root);</span><br><span class="line">                root = root.left;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ-1"><a href="#å¤æ‚åº¦åˆ†æ-1" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯äºŒå‰æœç´¢æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹æ°å¥½è¢«éå†ä¸€æ¬¡ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œä¸ºè¿­ä»£è¿‡ç¨‹ä¸­æ˜¾å¼æ ˆçš„å¼€é”€ï¼Œå¹³å‡æƒ…å†µä¸‹ä¸º O(logn)ï¼Œæœ€åæƒ…å†µä¸‹æ ‘å‘ˆç°é“¾çŠ¶ï¼Œä¸º O(n)ã€‚</p><h1 id="æ–¹æ³•ä¸‰ï¼šMorris-éå†"><a href="#æ–¹æ³•ä¸‰ï¼šMorris-éå†" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šMorris éå†"></a>æ–¹æ³•ä¸‰ï¼šMorris éå†</h1><h2 id="æ€è·¯ä¸ç®—æ³•-2"><a href="#æ€è·¯ä¸ç®—æ³•-2" class="headerlink" title="æ€è·¯ä¸ç®—æ³•"></a>æ€è·¯ä¸ç®—æ³•</h2><p>æœ‰ä¸€ç§å·§å¦™çš„æ–¹æ³•å¯ä»¥åœ¨çº¿æ€§æ—¶é—´å†…ï¼Œåªå ç”¨å¸¸æ•°ç©ºé—´æ¥å®ç°ååºéå†ã€‚è¿™ç§æ–¹æ³•ç”± J. H. Morris åœ¨ 1979 å¹´çš„è®ºæ–‡ã€ŒTraversing Binary Trees Simply and Cheaplyã€ä¸­é¦–æ¬¡æå‡ºï¼Œå› æ­¤è¢«ç§°ä¸º Morris éå†ã€‚</p><p>Morris éå†çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨æ ‘çš„å¤§é‡ç©ºé—²æŒ‡é’ˆï¼Œå®ç°ç©ºé—´å¼€é”€çš„æé™ç¼©å‡ã€‚å…¶ååºéå†è§„åˆ™æ€»ç»“å¦‚ä¸‹ï¼š</p><ol><li>æ–°å»ºä¸´æ—¶èŠ‚ç‚¹ï¼Œä»¤è¯¥èŠ‚ç‚¹ä¸º rootï¼›</li><li>å¦‚æœå½“å‰èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™éå†å½“å‰èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼›</li><li>å¦‚æœå½“å‰èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåœ¨å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸­æ‰¾åˆ°å½“å‰èŠ‚ç‚¹åœ¨ä¸­åºéå†ä¸‹çš„å‰é©±èŠ‚ç‚¹ï¼›</li></ol><ul><li>å¦‚æœå‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ä¸ºç©ºï¼Œå°†å‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹è®¾ç½®ä¸ºå½“å‰èŠ‚ç‚¹ï¼Œå½“å‰èŠ‚ç‚¹æ›´æ–°ä¸ºå½“å‰èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ã€‚</li><li>å¦‚æœå‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ä¸ºå½“å‰èŠ‚ç‚¹ï¼Œå°†å®ƒçš„å³å­èŠ‚ç‚¹é‡æ–°è®¾ä¸ºç©ºã€‚å€’åºè¾“å‡ºä»å½“å‰èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹åˆ°è¯¥å‰é©±èŠ‚ç‚¹è¿™æ¡è·¯å¾„ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹ã€‚å½“å‰èŠ‚ç‚¹æ›´æ–°ä¸ºå½“å‰èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ã€‚</li></ul><ol start="4"><li>é‡å¤æ­¥éª¤ 2 å’Œæ­¥éª¤ 3ï¼Œç›´åˆ°éå†ç»“æŸã€‚</li></ol><p>è¿™æ ·æˆ‘ä»¬åˆ©ç”¨ Morris éå†çš„æ–¹æ³•ï¼Œååºéå†è¯¥äºŒå‰æœç´¢æ ‘ï¼Œå³å¯å®ç°çº¿æ€§æ—¶é—´ä¸å¸¸æ•°ç©ºé—´çš„éå†ã€‚</p><h2 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h2><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public List&lt;Integer&gt; postorderTraversal(TreeNode root) &#123;</span><br><span class="line">        List&lt;Integer&gt; res = new ArrayList&lt;Integer&gt;();</span><br><span class="line">        if (root == null) &#123;</span><br><span class="line">            return res;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        TreeNode p1 = root, p2 = null;</span><br><span class="line"></span><br><span class="line">        while (p1 != null) &#123;</span><br><span class="line">            p2 = p1.left;</span><br><span class="line">            if (p2 != null) &#123;</span><br><span class="line">                while (p2.right != null &amp;&amp; p2.right != p1) &#123;</span><br><span class="line">                    p2 = p2.right;</span><br><span class="line">                &#125;</span><br><span class="line">                if (p2.right == null) &#123;</span><br><span class="line">                    p2.right = p1;</span><br><span class="line">                    p1 = p1.left;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    p2.right = null;</span><br><span class="line">                    addPath(res, p1.left);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            p1 = p1.right;</span><br><span class="line">        &#125;</span><br><span class="line">        addPath(res, root);</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void addPath(List&lt;Integer&gt; res, TreeNode node) &#123;</span><br><span class="line">        int count = 0;</span><br><span class="line">        while (node != null) &#123;</span><br><span class="line">            ++count;</span><br><span class="line">            res.add(node.val);</span><br><span class="line">            node = node.right;</span><br><span class="line">        &#125;</span><br><span class="line">        int left = res.size() - count, right = res.size() - 1;</span><br><span class="line">        while (left &lt; right) &#123;</span><br><span class="line">            int temp = res.get(left);</span><br><span class="line">            res.set(left, res.get(right));</span><br><span class="line">            res.set(right, temp);</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    void addPath(vector&lt;int&gt; &amp;vec, TreeNode *node) &#123;</span><br><span class="line">        int count = 0;</span><br><span class="line">        while (node != nullptr) &#123;</span><br><span class="line">            ++count;</span><br><span class="line">            vec.emplace_back(node-&gt;val);</span><br><span class="line">            node = node-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">        reverse(vec.end() - count, vec.end());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    vector&lt;int&gt; postorderTraversal(TreeNode *root) &#123;</span><br><span class="line">        vector&lt;int&gt; res;</span><br><span class="line">        if (root == nullptr) &#123;</span><br><span class="line">            return res;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        TreeNode *p1 = root, *p2 = nullptr;</span><br><span class="line"></span><br><span class="line">        while (p1 != nullptr) &#123;</span><br><span class="line">            p2 = p1-&gt;left;</span><br><span class="line">            if (p2 != nullptr) &#123;</span><br><span class="line">                while (p2-&gt;right != nullptr &amp;&amp; p2-&gt;right != p1) &#123;</span><br><span class="line">                    p2 = p2-&gt;right;</span><br><span class="line">                &#125;</span><br><span class="line">                if (p2-&gt;right == nullptr) &#123;</span><br><span class="line">                    p2-&gt;right = p1;</span><br><span class="line">                    p1 = p1-&gt;left;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    p2-&gt;right = nullptr;</span><br><span class="line">                    addPath(res, p1-&gt;left);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            p1 = p1-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">        addPath(res, root);</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution:</span><br><span class="line">    def postorderTraversal(self, root: TreeNode) -&gt; List[int]:</span><br><span class="line">        def addPath(node: TreeNode):</span><br><span class="line">            count = 0</span><br><span class="line">            while node:</span><br><span class="line">                count += 1</span><br><span class="line">                res.append(node.val)</span><br><span class="line">                node = node.right</span><br><span class="line">            i, j = len(res) - count, len(res) - 1</span><br><span class="line">            while i &lt; j:</span><br><span class="line">                res[i], res[j] = res[j], res[i]</span><br><span class="line">                i += 1</span><br><span class="line">                j -= 1</span><br><span class="line">        </span><br><span class="line">        if not root:</span><br><span class="line">            return list()</span><br><span class="line">        </span><br><span class="line">        res = list()</span><br><span class="line">        p1 = root</span><br><span class="line"></span><br><span class="line">        while p1:</span><br><span class="line">            p2 = p1.left</span><br><span class="line">            if p2:</span><br><span class="line">                while p2.right and p2.right != p1:</span><br><span class="line">                    p2 = p2.right</span><br><span class="line">                if not p2.right:</span><br><span class="line">                    p2.right = p1</span><br><span class="line">                    p1 = p1.left</span><br><span class="line">                    continue</span><br><span class="line">                else:</span><br><span class="line">                    p2.right = None</span><br><span class="line">                    addPath(p1.left)</span><br><span class="line">            p1 = p1.right</span><br><span class="line">        </span><br><span class="line">        addPath(root)</span><br><span class="line">        return res</span><br><span class="line"></span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">func reverse(a []int) &#123;</span><br><span class="line">    for i, n := 0, len(a); i &lt; n/2; i++ &#123;</span><br><span class="line">        a[i], a[n-1-i] = a[n-1-i], a[i]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func postorderTraversal(root *TreeNode) (res []int) &#123;</span><br><span class="line">    addPath := func(node *TreeNode) &#123;</span><br><span class="line">        resSize := len(res)</span><br><span class="line">        for ; node != nil; node = node.Right &#123;</span><br><span class="line">            res = append(res, node.Val)</span><br><span class="line">        &#125;</span><br><span class="line">        reverse(res[resSize:])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    p1 := root</span><br><span class="line">    for p1 != nil &#123;</span><br><span class="line">        if p2 := p1.Left; p2 != nil &#123;</span><br><span class="line">            for p2.Right != nil &amp;&amp; p2.Right != p1 &#123;</span><br><span class="line">                p2 = p2.Right</span><br><span class="line">            &#125;</span><br><span class="line">            if p2.Right == nil &#123;</span><br><span class="line">                p2.Right = p1</span><br><span class="line">                p1 = p1.Left</span><br><span class="line">                continue</span><br><span class="line">            &#125;</span><br><span class="line">            p2.Right = nil</span><br><span class="line">            addPath(p1.Left)</span><br><span class="line">        &#125;</span><br><span class="line">        p1 = p1.Right</span><br><span class="line">    &#125;</span><br><span class="line">    addPath(root)</span><br><span class="line">    return</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">void addPath(int *vec, int *vecSize, struct TreeNode *node) &#123;</span><br><span class="line">    int count = 0;</span><br><span class="line">    while (node != NULL) &#123;</span><br><span class="line">        ++count;</span><br><span class="line">        vec[(*vecSize)++] = node-&gt;val;</span><br><span class="line">        node = node-&gt;right;</span><br><span class="line">    &#125;</span><br><span class="line">    for (int i = (*vecSize) - count, j = (*vecSize) - 1; i &lt; j; ++i, --j) &#123;</span><br><span class="line">        int t = vec[i];</span><br><span class="line">        vec[i] = vec[j];</span><br><span class="line">        vec[j] = t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int *postorderTraversal(struct TreeNode *root, int *returnSize) &#123;</span><br><span class="line">    int *res = malloc(sizeof(int) * 2001);</span><br><span class="line">    *returnSize = 0;</span><br><span class="line">    if (root == NULL) &#123;</span><br><span class="line">        return res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    struct TreeNode *p1 = root, *p2 = NULL;</span><br><span class="line"></span><br><span class="line">    while (p1 != NULL) &#123;</span><br><span class="line">        p2 = p1-&gt;left;</span><br><span class="line">        if (p2 != NULL) &#123;</span><br><span class="line">            while (p2-&gt;right != NULL &amp;&amp; p2-&gt;right != p1) &#123;</span><br><span class="line">                p2 = p2-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">            if (p2-&gt;right == NULL) &#123;</span><br><span class="line">                p2-&gt;right = p1;</span><br><span class="line">                p1 = p1-&gt;left;</span><br><span class="line">                continue;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                p2-&gt;right = NULL;</span><br><span class="line">                addPath(res, returnSize, p1-&gt;left);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        p1 = p1-&gt;right;</span><br><span class="line">    &#125;</span><br><span class="line">    addPath(res, returnSize, root);</span><br><span class="line">    return res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><h2 id="å¤æ‚åº¦åˆ†æ-2"><a href="#å¤æ‚åº¦åˆ†æ-2" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h2><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ²¡æœ‰å·¦å­æ ‘çš„èŠ‚ç‚¹åªè¢«è®¿é—®ä¸€æ¬¡ï¼Œæœ‰å·¦å­æ ‘çš„èŠ‚ç‚¹è¢«è®¿é—®ä¸¤æ¬¡ã€‚</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚åªæ“ä½œå·²ç»å­˜åœ¨çš„æŒ‡é’ˆï¼ˆæ ‘çš„ç©ºé—²æŒ‡é’ˆï¼‰ï¼Œå› æ­¤åªéœ€è¦å¸¸æ•°çš„é¢å¤–ç©ºé—´ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„ ååºéå† ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´1æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B41%E6%9C%88/"/>
    
    
    <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
    <category term="Stack" scheme="http://yoursite.com/tags/Stack/"/>
    
    <category term="Tree" scheme="http://yoursite.com/tags/Tree/"/>
    
    <category term="Binary Tree" scheme="http://yoursite.com/tags/Binary-Tree/"/>
    
    <category term="Depth-first Search" scheme="http://yoursite.com/tags/Depth-first-Search/"/>
    
  </entry>
  
  <entry>
    <title>84.æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢</title>
    <link href="http://yoursite.com/2022/01/12/84.%20%E6%9F%B1%E7%8A%B6%E5%9B%BE%E4%B8%AD%E6%9C%80%E5%A4%A7%E7%9A%84%E7%9F%A9%E5%BD%A2/"/>
    <id>http://yoursite.com/2022/01/12/84.%20%E6%9F%B1%E7%8A%B6%E5%9B%BE%E4%B8%AD%E6%9C%80%E5%A4%A7%E7%9A%84%E7%9F%A9%E5%BD%A2/</id>
    <published>2022-01-12T02:50:12.000Z</published>
    <updated>2022-02-17T15:51:36.043Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™å®š n ä¸ªéè´Ÿæ•´æ•°ï¼Œç”¨æ¥è¡¨ç¤ºæŸ±çŠ¶å›¾ä¸­å„ä¸ªæŸ±å­çš„é«˜åº¦ã€‚æ¯ä¸ªæŸ±å­å½¼æ­¤ç›¸é‚»ï¼Œä¸”å®½åº¦ä¸º 1 ã€‚æ±‚åœ¨è¯¥æŸ±çŠ¶å›¾ä¸­ï¼Œèƒ½å¤Ÿå‹¾å‹’å‡ºæ¥çš„çŸ©å½¢çš„æœ€å¤§é¢ç§¯ã€‚</p><span id="more"></span><p>[TOC]</p><p>æŸ±çŠ¶å›¾çš„ç¤ºä¾‹ï¼Œå…¶ä¸­æ¯ä¸ªæŸ±å­çš„å®½åº¦ä¸º 1ï¼Œç»™å®šçš„é«˜åº¦ä¸º [2,1,5,6,2,3]ã€‚</p><p>é˜´å½±éƒ¨åˆ†ä¸ºæ‰€èƒ½å‹¾å‹’å‡ºçš„æœ€å¤§çŸ©å½¢é¢ç§¯ï¼Œå…¶é¢ç§¯ä¸º 10 ä¸ªå•ä½ã€‚</p><p>ç¤ºä¾‹1:</p><pre><code>è¾“å…¥: [2,1,5,6,2,3]è¾“å‡º: 10è§£é‡Šï¼šæœ€å¤§çš„çŸ©å½¢ä¸ºå›¾ä¸­çº¢è‰²åŒºåŸŸï¼Œé¢ç§¯ä¸º 10</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼š heights = [2,4]è¾“å‡ºï¼š 4</code></pre><p>æç¤ºï¼š</p><pre><code>1 &lt;= heights.length &lt;=1050 &lt;= heights[i] &lt;= 104</code></pre><h1 id="å‰è¨€-1"><a href="#å‰è¨€-1" class="headerlink" title="å‰è¨€^1"></a>å‰è¨€<a href="https://leetcode-cn.com/problems/largest-rectangle-in-histogram/solution/zhu-zhuang-tu-zhong-zui-da-de-ju-xing-by-leetcode-/">^1</a></h1><p>æˆ‘ä»¬éœ€è¦åœ¨æŸ±çŠ¶å›¾ä¸­æ‰¾å‡ºæœ€å¤§çš„çŸ©å½¢ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è€ƒè™‘æšä¸¾çŸ©å½¢çš„å®½å’Œé«˜ï¼Œå…¶ä¸­ã€Œå®½ã€è¡¨ç¤ºçŸ©å½¢è´´ç€æŸ±çŠ¶å›¾åº•è¾¹çš„å®½åº¦ï¼Œã€Œé«˜ã€è¡¨ç¤ºçŸ©å½¢åœ¨æŸ±çŠ¶å›¾ä¸Šçš„é«˜åº¦ã€‚</p><ul><li>å¦‚æœæˆ‘ä»¬æšä¸¾ã€Œå®½ã€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸¤é‡å¾ªç¯æšä¸¾çŸ©å½¢çš„å·¦å³è¾¹ç•Œä»¥å›ºå®šå®½åº¦ <em>w</em>ï¼Œæ­¤æ—¶çŸ©å½¢çš„é«˜åº¦ <em>h</em>ï¼Œå°±æ˜¯æ‰€æœ‰åŒ…å«åœ¨å†…çš„æŸ±å­çš„ã€Œæœ€å°é«˜åº¦ã€ï¼Œå¯¹åº”çš„é¢ç§¯ä¸º <img src="/./p__w_times_h_.png" alt="w\timesh "> ã€‚ä¸‹é¢ç»™å‡ºäº†è¿™ç§æ–¹æ³•çš„ <code>C++</code> ä»£ç ã€‚</li></ul><details>    <summary>C++</summary>    <figure class="highlight c++"><figcaption><span>[sol01-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">largestRectangleArea</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; heights)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = heights.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// æšä¸¾å·¦è¾¹ç•Œ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> left = <span class="number">0</span>; left &lt; n; ++left) &#123;</span><br><span class="line">            <span class="type">int</span> minHeight = INT_MAX;</span><br><span class="line">            <span class="comment">// æšä¸¾å³è¾¹ç•Œ</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> right = left; right &lt; n; ++right) &#123;</span><br><span class="line">                <span class="comment">// ç¡®å®šé«˜åº¦</span></span><br><span class="line">                minHeight = <span class="built_in">min</span>(minHeight, heights[right]);</span><br><span class="line">                <span class="comment">// è®¡ç®—é¢ç§¯</span></span><br><span class="line">                ans = <span class="built_in">max</span>(ans, (right - left + <span class="number">1</span>) * minHeight);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><ul><li>å¦‚æœæˆ‘ä»¬æšä¸¾ã€Œé«˜ã€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€é‡å¾ªç¯æšä¸¾æŸä¸€æ ¹æŸ±å­ï¼Œå°†å…¶å›ºå®šä¸ºçŸ©å½¢çš„é«˜åº¦ <em>h</em>ã€‚éšåæˆ‘ä»¬ä»è¿™è·ŸæŸ±å­å¼€å§‹å‘ä¸¤ä¾§å»¶ä¼¸ï¼Œç›´åˆ°é‡åˆ°é«˜åº¦å°äº <em>h</em> çš„æŸ±å­ï¼Œå°±ç¡®å®šäº†çŸ©å½¢çš„å·¦å³è¾¹ç•Œã€‚å¦‚æœå·¦å³è¾¹ç•Œä¹‹é—´çš„å®½åº¦ä¸º <em>w</em>ï¼Œé‚£ä¹ˆå¯¹åº”çš„é¢ç§¯ä¸º <img src="/./p__w_times_h_.png" alt="w\timesh "> ã€‚ä¸‹é¢ç»™å‡ºäº†è¿™ç§æ–¹æ³•çš„ <code>C++</code> ä»£ç ã€‚</li></ul><details>    <summary>C++</summary>    <figure class="highlight c++"><figcaption><span>[sol02-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">largestRectangleArea</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; heights)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = heights.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> mid = <span class="number">0</span>; mid &lt; n; ++mid) &#123;</span><br><span class="line">            <span class="comment">// æšä¸¾é«˜</span></span><br><span class="line">            <span class="type">int</span> height = heights[mid];</span><br><span class="line">            <span class="type">int</span> left = mid, right = mid;</span><br><span class="line">            <span class="comment">// ç¡®å®šå·¦å³è¾¹ç•Œ</span></span><br><span class="line">            <span class="keyword">while</span> (left - <span class="number">1</span> &gt;= <span class="number">0</span> &amp;&amp; heights[left - <span class="number">1</span>] &gt;= height) &#123;</span><br><span class="line">                --left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (right + <span class="number">1</span> &lt; n &amp;&amp; heights[right + <span class="number">1</span>] &gt;= height) &#123;</span><br><span class="line">                ++right;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// è®¡ç®—é¢ç§¯</span></span><br><span class="line">            ans = <span class="built_in">max</span>(ans, (right - left + <span class="number">1</span>) * height);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><p>å¯ä»¥å‘ç°ï¼Œè¿™ä¸¤ç§æš´åŠ›æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦å‡ä¸º *O(N^2)*ï¼Œä¼šè¶…å‡ºæ—¶é—´é™åˆ¶ï¼Œæˆ‘ä»¬å¿…é¡»è¦è¿›è¡Œä¼˜åŒ–ã€‚è€ƒè™‘åˆ°æšä¸¾ã€Œå®½ã€çš„æ–¹æ³•ä½¿ç”¨äº†ä¸¤é‡å¾ªç¯ï¼Œæœ¬èº«å°±å·²ç»éœ€è¦ <em>O(N^2)</em> çš„æ—¶é—´å¤æ‚åº¦ï¼Œä¸å®¹æ˜“ä¼˜åŒ–ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä¼˜åŒ–åªä½¿ç”¨äº†ä¸€é‡å¾ªç¯çš„æšä¸¾ã€Œé«˜ã€çš„æ–¹æ³•ã€‚</p><h1 id="æ–¹æ³•ä¸€ï¼šå•è°ƒæ ˆ"><a href="#æ–¹æ³•ä¸€ï¼šå•è°ƒæ ˆ" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå•è°ƒæ ˆ"></a>æ–¹æ³•ä¸€ï¼šå•è°ƒæ ˆ</h1><p><strong>æ€è·¯</strong></p><p>æˆ‘ä»¬å½’çº³ä¸€ä¸‹æšä¸¾ã€Œé«˜ã€çš„æ–¹æ³•ï¼š</p><ul><li><p>é¦–å…ˆæˆ‘ä»¬æšä¸¾æŸä¸€æ ¹æŸ±å­ <em>i</em> ä½œä¸ºé«˜ heightsï¼›</p></li><li><p>éšåæˆ‘ä»¬éœ€è¦è¿›è¡Œå‘å·¦å³ä¸¤è¾¹æ‰©å±•ï¼Œä½¿å¾—æ‰©å±•åˆ°çš„æŸ±å­çš„é«˜åº¦å‡ä¸å°äº <em>h</em>ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°<strong>å·¦å³ä¸¤ä¾§æœ€è¿‘çš„é«˜åº¦å°äº <em>h</em> çš„æŸ±å­</strong>ï¼Œè¿™æ ·è¿™ä¸¤æ ¹æŸ±å­ä¹‹é—´ï¼ˆä¸åŒ…æ‹¬å…¶æœ¬èº«ï¼‰çš„æ‰€æœ‰æŸ±å­é«˜åº¦å‡ä¸å°äº <em>h</em>ï¼Œå¹¶ä¸”å°±æ˜¯ <em>i</em> èƒ½å¤Ÿæ‰©å±•åˆ°çš„æœ€è¿œèŒƒå›´ã€‚</p></li></ul><p>é‚£ä¹ˆæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å¦‚ä½•æ±‚å‡º<strong>ä¸€æ ¹æŸ±å­çš„å·¦ä¾§ä¸”æœ€è¿‘çš„å°äºå…¶é«˜åº¦çš„æŸ±å­</strong>ã€‚é™¤äº†æ ¹æ®ã€Œå‰è¨€ã€éƒ¨åˆ†æš´åŠ›åœ°è¿›è¡Œæšä¸¾ä¹‹å¤–ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„ä¸€ä¸ªç»“è®ºæ¥æ·±å…¥åœ°è¿›è¡Œæ€è€ƒï¼š</p><blockquote><p>å¯¹äºä¸¤æ ¹æŸ±å­ <em>j_0</em> ä»¥åŠ <em>j_1</em>ï¼Œå¦‚æœ <em>j_0 &lt; j_1* å¹¶ä¸”<br>heights[j_0]&gt;&#x3D;heights[j_1] ï¼Œé‚£ä¹ˆ**å¯¹äºä»»æ„çš„åœ¨å®ƒä»¬ä¹‹åå‡ºç°çš„æŸ±å­ <em>i</em>ï¼ˆ</em>j_1 &lt; i<em>ï¼‰ï¼Œ</em>j_0* ä¸€å®šä¸ä¼šæ˜¯ <em>i</em> å·¦ä¾§ä¸”æœ€è¿‘çš„å°äºå…¶é«˜åº¦çš„æŸ±å­**ã€‚</p></blockquote><p>æ¢å¥è¯è¯´ï¼Œå¦‚æœæœ‰ä¸¤æ ¹æŸ±å­ <em>j_0</em> å’Œ <em>j_1</em>ï¼Œå…¶ä¸­ <em>j_0</em> åœ¨ <em>j_1</em> çš„å·¦ä¾§ï¼Œå¹¶ä¸” <em>j_0</em> çš„é«˜åº¦å¤§äºç­‰äº <em>j_1</em>ï¼Œé‚£ä¹ˆåœ¨åé¢çš„æŸ±å­ <em>i</em> å‘å·¦æ‰¾å°äºå…¶é«˜åº¦çš„æŸ±å­æ—¶ï¼Œ<em>j_1</em> ä¼šã€ŒæŒ¡ä½ã€<em>j_0</em>ï¼Œ<em>j_0</em> å°±ä¸ä¼šä½œä¸ºç­”æ¡ˆäº†ã€‚</p><p>è¿™æ ·ä»¥æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ•°ç»„ä»å·¦å‘å³è¿›è¡Œéå†ï¼ŒåŒæ—¶ç»´æŠ¤ä¸€ä¸ªã€Œå¯èƒ½ä½œä¸ºç­”æ¡ˆã€çš„æ•°æ®ç»“æ„ï¼Œå…¶ä¸­æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºå­˜æ”¾äº†ä¸€äº› <em>j</em> å€¼ã€‚æ ¹æ®ä¸Šé¢çš„ç»“è®ºï¼Œå¦‚æœæˆ‘ä»¬å­˜æ”¾äº† j_0,j_1,â€¦,j_s ï¼Œé‚£ä¹ˆä¸€å®šæœ‰ height[j_0]&lt;height[j_1]&lt;â€¦&lt;height[j_s] ï¼Œå› ä¸ºå¦‚æœæœ‰ä¸¤ä¸ªç›¸é‚»çš„ <em>j</em> å€¼å¯¹åº”çš„é«˜åº¦ä¸æ»¡è¶³ <em>&lt;</em> å…³ç³»ï¼Œé‚£ä¹ˆåè€…ä¼šã€ŒæŒ¡ä½ã€å‰è€…ï¼Œå‰è€…å°±ä¸å¯èƒ½ä½œä¸ºç­”æ¡ˆäº†ã€‚</p><p>å½“æˆ‘ä»¬æšä¸¾åˆ°ç¬¬ <em>i</em> æ ¹æŸ±å­æ—¶ï¼Œæˆ‘ä»¬çš„æ•°æ®ç»“æ„ä¸­å­˜æ”¾äº†j_0,j_1,â€¦,j_s  ï¼Œå¦‚æœç¬¬ <em>i</em> æ ¹æŸ±å­å·¦ä¾§ä¸”æœ€è¿‘çš„å°äºå…¶é«˜åº¦çš„æŸ±å­ä¸º <em>j_i</em>ï¼Œé‚£ä¹ˆå¿…ç„¶æœ‰</p><p><img src="/./p___textit%7Bheight%7D_j_0____textit%7Bheight%7D_j_1____cdots___textit%7Bheight%7D_j_i____textit%7Bheight%7D_i__leq_textit%7Bheight%7D_j_%7Bi+1%7D____cdots___textit%7Bheight%7D_j_s___.png" alt="\textit{height}[j_0]&lt;\textit{height}[j_1]&lt;\cdots&lt;\textit{height}[j_i]&lt;\textit{height}[i]\leq\textit{height}[j_{i+1}]&lt;\cdots&lt;\textit{height}[j_s] "> </p><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹æ³•æ‰¾åˆ° <em>i</em> å¯¹åº”çš„ <em>j_i</em>ï¼Œ<strong>ä½†çœŸçš„éœ€è¦å—</strong>ï¼Ÿå½“æˆ‘ä»¬æšä¸¾åˆ° <em>i+1</em> æ—¶ï¼ŒåŸæ¥çš„ <em>i</em> ä¹Ÿå˜æˆäº† <em>j</em> å€¼ï¼Œå› æ­¤ <em>i</em> ä¼šè¢«æ”¾å…¥æ•°æ®ç»“æ„ã€‚ç”±äºæ‰€æœ‰åœ¨æ•°æ®ç»“æ„ä¸­çš„ <em>j</em> å€¼å‡å°äº <em>i</em>ï¼Œé‚£ä¹ˆæ‰€æœ‰é«˜åº¦å¤§äºç­‰äº height[i] çš„ <em>j</em> éƒ½ä¸ä¼šä½œä¸ºç­”æ¡ˆï¼Œéœ€è¦ä»æ•°æ®ç»“æ„ä¸­ç§»é™¤ã€‚è€Œæˆ‘ä»¬å‘ç°ï¼Œè¿™äº›è¢«ç§»é™¤çš„ <em>j</em> å€¼æ°å¥½å°±æ˜¯</p><p>j_i+1,â€¦j_s</p><p>è¿™æ ·æˆ‘ä»¬åœ¨æšä¸¾åˆ°ç¬¬ <em>i</em> æ ¹æŸ±å­çš„æ—¶å€™ï¼Œå°±å¯ä»¥å…ˆæŠŠæ‰€æœ‰é«˜åº¦å¤§äºç­‰äº <img src="/./p__textit%7Bheight%7D_i__.png" alt="\textit{height}[i] ">  çš„ <em>j</em> å€¼å…¨éƒ¨ç§»é™¤ï¼Œå‰©ä¸‹çš„ <em>j</em> å€¼ä¸­é«˜åº¦æœ€é«˜çš„å³ä¸ºç­”æ¡ˆã€‚åœ¨è¿™ä¹‹åï¼Œæˆ‘ä»¬å°† <em>i</em> æ”¾å…¥æ•°æ®ç»“æ„ä¸­ï¼Œå¼€å§‹æ¥ä¸‹æ¥çš„æšä¸¾ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„æ•°æ®ç»“æ„ä¹Ÿå°±å‘¼ä¹‹æ¬²å‡ºäº†ï¼Œå®ƒå°±æ˜¯<strong>æ ˆ</strong>ã€‚</p><ul><li><p>æ ˆä¸­å­˜æ”¾äº† <em>j</em> å€¼ã€‚ä»æ ˆåº•åˆ°æ ˆé¡¶ï¼Œ<em>j</em> çš„å€¼ä¸¥æ ¼å•è°ƒé€’å¢ï¼ŒåŒæ—¶å¯¹åº”çš„é«˜åº¦å€¼ä¹Ÿä¸¥æ ¼å•è°ƒé€’å¢ï¼›</p></li><li><p>å½“æˆ‘ä»¬æšä¸¾åˆ°ç¬¬ <em>i</em> æ ¹æŸ±å­æ—¶ï¼Œæˆ‘ä»¬ä»æ ˆé¡¶ä¸æ–­åœ°ç§»é™¤ <img src="/./p__textit%7Bheight%7D_j__geq_textit%7Bheight%7D_i__.png" alt="\textit{height}[j]\geq\textit{height}[i] ">  çš„ <em>j</em> å€¼ã€‚åœ¨ç§»é™¤å®Œæ¯•åï¼Œæ ˆé¡¶çš„ <em>j</em> å€¼å°±ä¸€å®šæ»¡è¶³ <img src="/./p__textit%7Bheight%7D_j____textit%7Bheight%7D_i__.png" alt="\textit{height}[j]&lt;\textit{height}[i] "> ï¼Œæ­¤æ—¶ <em>j</em> å°±æ˜¯ <em>i</em> å·¦ä¾§ä¸”æœ€è¿‘çš„å°äºå…¶é«˜åº¦çš„æŸ±å­ã€‚</p><ul><li>è¿™é‡Œä¼šæœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚å¦‚æœæˆ‘ä»¬ç§»é™¤äº†æ ˆä¸­æ‰€æœ‰çš„ <em>j</em> å€¼ï¼Œé‚£å°±è¯´æ˜ <em>i</em> å·¦ä¾§æ‰€æœ‰æŸ±å­çš„é«˜åº¦éƒ½å¤§äº <img src="/./p__textit%7Bheight%7D_i__.png" alt="\textit{height}[i] "> ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è®¤ä¸º <em>i</em> å·¦ä¾§ä¸”æœ€è¿‘çš„å°äºå…¶é«˜åº¦çš„æŸ±å­åœ¨ä½ç½® <em>j&#x3D;-1</em>ï¼Œå®ƒæ˜¯ä¸€æ ¹ã€Œè™šæ‹Ÿã€çš„ã€é«˜åº¦æ— é™ä½çš„æŸ±å­ã€‚è¿™æ ·çš„å®šä¹‰ä¸ä¼šå¯¹æˆ‘ä»¬çš„ç­”æ¡ˆäº§ç”Ÿä»»ä½•çš„å½±å“ï¼Œæˆ‘ä»¬ä¹Ÿç§°è¿™æ ¹ã€Œè™šæ‹Ÿã€çš„æŸ±å­ä¸ºã€Œå“¨å…µã€ã€‚</li></ul></li><li><p>æˆ‘ä»¬å†å°† <em>i</em> æ”¾å…¥æ ˆé¡¶ã€‚</p></li></ul><p>æ ˆä¸­å­˜æ”¾çš„å…ƒç´ å…·æœ‰å•è°ƒæ€§ï¼Œè¿™å°±æ˜¯ç»å…¸çš„æ•°æ®ç»“æ„ã€Œå•è°ƒæ ˆã€äº†ã€‚</p><p><strong>ä¾‹å­</strong></p><p>æˆ‘ä»¬ç”¨ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ <em>[6, 7, 5, 2, 4, 5, 9, 3]</em> æ¥å¸®åŠ©è¯»è€…ç†è§£å•è°ƒæ ˆã€‚æˆ‘ä»¬éœ€è¦æ±‚å‡ºæ¯ä¸€æ ¹æŸ±å­çš„å·¦ä¾§ä¸”æœ€è¿‘çš„å°äºå…¶é«˜åº¦çš„æŸ±å­ã€‚åˆå§‹æ—¶çš„æ ˆä¸ºç©ºã€‚</p><ul><li><p>æˆ‘ä»¬æšä¸¾ <em>6</em>ï¼Œå› ä¸ºæ ˆä¸ºç©ºï¼Œæ‰€ä»¥ <em>6</em> å·¦ä¾§çš„æŸ±å­æ˜¯ã€Œå“¨å…µã€ï¼Œä½ç½®ä¸º -1ã€‚éšåæˆ‘ä»¬å°† <em>6</em> å…¥æ ˆã€‚</p><ul><li>æ ˆï¼š<code>[6(0)]</code>ã€‚ï¼ˆè¿™é‡Œæ‹¬å·å†…çš„æ•°å­—è¡¨ç¤ºæŸ±å­åœ¨åŸæ•°ç»„ä¸­çš„ä½ç½®ï¼‰</li></ul></li><li><p>æˆ‘ä»¬æšä¸¾ <em>7</em>ï¼Œç”±äº <em>6&lt;7</em>ï¼Œå› æ­¤ä¸ä¼šç§»é™¤æ ˆé¡¶å…ƒç´ ï¼Œæ‰€ä»¥ <em>7</em> å·¦ä¾§çš„æŸ±å­æ˜¯ <em>6</em>ï¼Œä½ç½®ä¸º <em>0</em>ã€‚éšåæˆ‘ä»¬å°† <em>7</em> å…¥æ ˆã€‚</p><ul><li>æ ˆï¼š<code>[6(0), 7(1)]</code></li></ul></li><li><p>æˆ‘ä»¬æšä¸¾ <em>5</em>ï¼Œç”±äº 7&gt;&#x3D;5 ï¼Œå› æ­¤ç§»é™¤æ ˆé¡¶å…ƒç´  <em>7</em>ã€‚åŒæ ·åœ°ï¼Œ6&gt;&#x3D;5 ï¼Œå†ç§»é™¤æ ˆé¡¶å…ƒç´  <em>6</em>ã€‚æ­¤æ—¶æ ˆä¸ºç©ºï¼Œæ‰€ä»¥ <em>5</em> å·¦ä¾§çš„æŸ±å­æ˜¯ã€Œå“¨å…µã€ï¼Œä½ç½®ä¸º <em>-1</em>ã€‚éšåæˆ‘ä»¬å°† <em>5</em> å…¥æ ˆã€‚</p><ul><li>æ ˆï¼š<code>[5(2)]</code></li></ul></li><li><p>æ¥ä¸‹æ¥çš„æšä¸¾è¿‡ç¨‹ä¹Ÿå¤§åŒå°å¼‚ã€‚æˆ‘ä»¬æšä¸¾ <em>2</em>ï¼Œç§»é™¤æ ˆé¡¶å…ƒç´  <em>5</em>ï¼Œå¾—åˆ° <em>2</em> å·¦ä¾§çš„æŸ±å­æ˜¯ã€Œå“¨å…µã€ï¼Œä½ç½®ä¸º <em>-1</em>ã€‚å°† <em>2</em> å…¥æ ˆã€‚</p><ul><li>æ ˆï¼š<code>[2(3)]</code></li></ul></li><li><p>æˆ‘ä»¬æšä¸¾ <em>4</em>ï¼Œ<em>5</em> å’Œ <em>9</em>ï¼Œéƒ½ä¸ä¼šç§»é™¤ä»»ä½•æ ˆé¡¶å…ƒç´ ï¼Œå¾—åˆ°å®ƒä»¬å·¦ä¾§çš„æŸ±å­åˆ†åˆ«æ˜¯ <em>2</em>ï¼Œ<em>4</em> å’Œ <em>5</em>ï¼Œä½ç½®åˆ†åˆ«ä¸º <em>3</em>ï¼Œ<em>4</em> å’Œ <em>5</em>ã€‚å°†å®ƒä»¬å…¥æ ˆã€‚</p><ul><li>æ ˆï¼š<code>[2(3), 4(4), 5(5), 9(6)]</code></li></ul></li><li><p>æˆ‘ä»¬æšä¸¾ <em>3</em>ï¼Œä¾æ¬¡ç§»é™¤æ ˆé¡¶å…ƒç´  <em>9</em>ï¼Œ<em>5</em> å’Œ <em>4</em>ï¼Œå¾—åˆ° <em>3</em> å·¦ä¾§çš„æŸ±å­æ˜¯ <em>2</em>ï¼Œä½ç½®ä¸º <em>3</em>ã€‚å°† <em>3</em> å…¥æ ˆã€‚</p><ul><li>æ ˆï¼š<code>[2(3), 3(7)]</code></li></ul></li></ul><p>è¿™æ ·ä»¥æ¥ï¼Œæˆ‘ä»¬å¾—åˆ°å®ƒä»¬å·¦ä¾§çš„æŸ±å­ç¼–å·åˆ†åˆ«ä¸º *[-1, 0, -1, -1, 3, 4, 5, 3]*ã€‚ç”¨ç›¸åŒçš„æ–¹æ³•ï¼Œæˆ‘ä»¬ä»å³å‘å·¦è¿›è¡Œéå†ï¼Œä¹Ÿå¯ä»¥å¾—åˆ°å®ƒä»¬å³ä¾§çš„æŸ±å­ç¼–å·åˆ†åˆ«ä¸º *[2, 2, 3, 8, 7, 7, 7, 8]*ï¼Œè¿™é‡Œæˆ‘ä»¬å°†ä½ç½® <em>8</em> çœ‹ä½œã€Œå“¨å…µã€ã€‚</p><p>åœ¨å¾—åˆ°äº†å·¦å³ä¸¤ä¾§çš„æŸ±å­ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—å‡ºæ¯æ ¹æŸ±å­å¯¹åº”çš„å·¦å³è¾¹ç•Œï¼Œå¹¶æ±‚å‡ºç­”æ¡ˆäº†ã€‚</p><p><strong>åˆ†æ</strong></p><p>å•è°ƒæ ˆçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿç›´æ¥è®¡ç®—ååˆ†å›°éš¾ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å‘ç°ï¼š</p><blockquote><p>æ¯ä¸€ä¸ªä½ç½®åªä¼šå…¥æ ˆä¸€æ¬¡ï¼ˆåœ¨æšä¸¾åˆ°å®ƒæ—¶ï¼‰ï¼Œå¹¶ä¸”æœ€å¤šå‡ºæ ˆä¸€æ¬¡ã€‚</p></blockquote><p>å› æ­¤å½“æˆ‘ä»¬ä»å·¦å‘å³&#x2F;æ€»å³å‘å·¦éå†æ•°ç»„æ—¶ï¼Œå¯¹æ ˆçš„æ“ä½œçš„æ¬¡æ•°å°±ä¸º *O(N)*ã€‚æ‰€ä»¥å•è°ƒæ ˆçš„æ€»æ—¶é—´å¤æ‚åº¦ä¸º *O(N)*ã€‚</p><details>    <summary>C++</summary>    <figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">largestRectangleArea</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; heights)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = heights.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">left</span><span class="params">(n)</span>, <span class="title">right</span><span class="params">(n)</span></span>;</span><br><span class="line">        </span><br><span class="line">        stack&lt;<span class="type">int</span>&gt; mono_stack;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!mono_stack.<span class="built_in">empty</span>() &amp;&amp; heights[mono_stack.<span class="built_in">top</span>()] &gt;= heights[i]) &#123;</span><br><span class="line">                mono_stack.<span class="built_in">pop</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            left[i] = (mono_stack.<span class="built_in">empty</span>() ? <span class="number">-1</span> : mono_stack.<span class="built_in">top</span>());</span><br><span class="line">            mono_stack.<span class="built_in">push</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        mono_stack = <span class="built_in">stack</span>&lt;<span class="type">int</span>&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!mono_stack.<span class="built_in">empty</span>() &amp;&amp; heights[mono_stack.<span class="built_in">top</span>()] &gt;= heights[i]) &#123;</span><br><span class="line">                mono_stack.<span class="built_in">pop</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            right[i] = (mono_stack.<span class="built_in">empty</span>() ? n : mono_stack.<span class="built_in">top</span>());</span><br><span class="line">            mono_stack.<span class="built_in">push</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            ans = <span class="built_in">max</span>(ans, (right[i] - left[i] - <span class="number">1</span>) * heights[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary>    <figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">largestRectangleArea</span><span class="params">(<span class="type">int</span>[] heights)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> heights.length;</span><br><span class="line">        <span class="type">int</span>[] left = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="type">int</span>[] right = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        </span><br><span class="line">        Deque&lt;Integer&gt; mono_stack = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!mono_stack.isEmpty() &amp;&amp; heights[mono_stack.peek()] &gt;= heights[i]) &#123;</span><br><span class="line">                mono_stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            left[i] = (mono_stack.isEmpty() ? -<span class="number">1</span> : mono_stack.peek());</span><br><span class="line">            mono_stack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        mono_stack.clear();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!mono_stack.isEmpty() &amp;&amp; heights[mono_stack.peek()] &gt;= heights[i]) &#123;</span><br><span class="line">                mono_stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            right[i] = (mono_stack.isEmpty() ? n : mono_stack.peek());</span><br><span class="line">            mono_stack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            ans = Math.max(ans, (right[i] - left[i] - <span class="number">1</span>) * heights[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary>    <figure class="highlight python"><figcaption><span>[sol1-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">largestRectangleArea</span>(<span class="params">self, heights: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        n = <span class="built_in">len</span>(heights)</span><br><span class="line">        left, right = [<span class="number">0</span>] * n, [<span class="number">0</span>] * n</span><br><span class="line"></span><br><span class="line">        mono_stack = <span class="built_in">list</span>()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">while</span> mono_stack <span class="keyword">and</span> heights[mono_stack[-<span class="number">1</span>]] &gt;= heights[i]:</span><br><span class="line">                mono_stack.pop()</span><br><span class="line">            left[i] = mono_stack[-<span class="number">1</span>] <span class="keyword">if</span> mono_stack <span class="keyword">else</span> -<span class="number">1</span></span><br><span class="line">            mono_stack.append(i)</span><br><span class="line">        </span><br><span class="line">        mono_stack = <span class="built_in">list</span>()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">while</span> mono_stack <span class="keyword">and</span> heights[mono_stack[-<span class="number">1</span>]] &gt;= heights[i]:</span><br><span class="line">                mono_stack.pop()</span><br><span class="line">            right[i] = mono_stack[-<span class="number">1</span>] <span class="keyword">if</span> mono_stack <span class="keyword">else</span> n</span><br><span class="line">            mono_stack.append(i)</span><br><span class="line">        </span><br><span class="line">        ans = <span class="built_in">max</span>((right[i] - left[i] - <span class="number">1</span>) * heights[i] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)) <span class="keyword">if</span> n &gt; <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">largestRectangleArea</span><span class="params">(heights []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(heights)</span><br><span class="line">    left, right := <span class="built_in">make</span>([]<span class="type">int</span>, n), <span class="built_in">make</span>([]<span class="type">int</span>, n)</span><br><span class="line">    mono_stack := []<span class="type">int</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">len</span>(mono_stack) &gt; <span class="number">0</span> &amp;&amp; heights[mono_stack[<span class="built_in">len</span>(mono_stack)<span class="number">-1</span>]] &gt;= heights[i] &#123;</span><br><span class="line">            mono_stack = mono_stack[:<span class="built_in">len</span>(mono_stack)<span class="number">-1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(mono_stack) == <span class="number">0</span> &#123;</span><br><span class="line">            left[i] = <span class="number">-1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left[i] = mono_stack[<span class="built_in">len</span>(mono_stack)<span class="number">-1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        mono_stack = <span class="built_in">append</span>(mono_stack, i)</span><br><span class="line">    &#125;</span><br><span class="line">    mono_stack = []<span class="type">int</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i := n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">len</span>(mono_stack) &gt; <span class="number">0</span> &amp;&amp; heights[mono_stack[<span class="built_in">len</span>(mono_stack)<span class="number">-1</span>]] &gt;= heights[i] &#123;</span><br><span class="line">            mono_stack = mono_stack[:<span class="built_in">len</span>(mono_stack)<span class="number">-1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(mono_stack) == <span class="number">0</span> &#123;</span><br><span class="line">            right[i] = n</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right[i] = mono_stack[<span class="built_in">len</span>(mono_stack)<span class="number">-1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        mono_stack = <span class="built_in">append</span>(mono_stack, i)</span><br><span class="line">    &#125;</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        ans = max(ans, (right[i] - left[i] - <span class="number">1</span>) * heights[i])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x &gt; y &#123;</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š*O(N)*ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š*O(N)*ã€‚</p></li></ul><h1 id="æ–¹æ³•äºŒï¼šå•è°ƒæ ˆ-å¸¸æ•°ä¼˜åŒ–"><a href="#æ–¹æ³•äºŒï¼šå•è°ƒæ ˆ-å¸¸æ•°ä¼˜åŒ–" class="headerlink" title="æ–¹æ³•äºŒï¼šå•è°ƒæ ˆ + å¸¸æ•°ä¼˜åŒ–"></a>æ–¹æ³•äºŒï¼šå•è°ƒæ ˆ + å¸¸æ•°ä¼˜åŒ–</h1><p>åœ¨æ–¹æ³•ä¸€ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä»å·¦å¾€å³å¯¹æ•°ç»„è¿›è¡Œéå†ï¼Œå€ŸåŠ©å•è°ƒæ ˆæ±‚å‡ºäº†æ¯æ ¹æŸ±å­çš„å·¦è¾¹ç•Œï¼Œéšåä»å³å¾€å·¦å¯¹æ•°ç»„è¿›è¡Œéå†ï¼Œå€ŸåŠ©å•è°ƒæ ˆæ±‚å‡ºäº†æ¯æ ¹æŸ±å­çš„å³è¾¹ç•Œã€‚é‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯ä»¥åªéå†ä¸€æ¬¡å°±æ±‚å‡ºç­”æ¡ˆå‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯å¯ä»¥çš„ã€‚åœ¨æ–¹æ³•ä¸€ä¸­ï¼Œæˆ‘ä»¬åœ¨å¯¹ä½ç½® <em>i</em> è¿›è¡Œå…¥æ ˆæ“ä½œæ—¶ï¼Œç¡®å®šäº†å®ƒçš„å·¦è¾¹ç•Œã€‚ä»ç›´è§‰ä¸Šæ¥è¯´ï¼Œä¸ä¹‹å¯¹åº”çš„æˆ‘ä»¬åœ¨å¯¹ä½ç½® <em>i</em> è¿›è¡Œå‡ºæ ˆæ“ä½œæ—¶å¯ä»¥ç¡®å®šå®ƒçš„å³è¾¹ç•Œï¼ä»”ç»†æƒ³ä¸€æƒ³ï¼Œè¿™ç¡®å®æ˜¯å¯¹çš„ã€‚å½“ä½ç½® <em>i</em> è¢«å¼¹å‡ºæ ˆæ—¶ï¼Œè¯´æ˜æ­¤æ—¶éå†åˆ°çš„ä½ç½® <em>i_0</em> çš„é«˜åº¦<strong>å°äºç­‰äº</strong> height[i] ï¼Œå¹¶ä¸”åœ¨ <em>i_0</em> ä¸ <em>i</em> ä¹‹é—´æ²¡æœ‰å…¶ä»–é«˜åº¦å°äºç­‰äº height[i] çš„æŸ±å­ã€‚è¿™æ˜¯å› ä¸ºï¼Œå¦‚æœåœ¨ <em>i</em> å’Œ <em>i_0</em> ä¹‹é—´è¿˜æœ‰å…¶å®ƒä½ç½®çš„é«˜åº¦å°äºç­‰äº height[i] çš„ï¼Œé‚£ä¹ˆåœ¨éå†åˆ°é‚£ä¸ªä½ç½®çš„æ—¶å€™ï¼Œ<em>i</em> åº”è¯¥å·²ç»è¢«å¼¹å‡ºæ ˆäº†ã€‚æ‰€ä»¥ä½ç½® <em>i_0</em> å°±æ˜¯ä½ç½® <em>i</em> çš„å³è¾¹ç•Œã€‚</p><p>ç­‰ç­‰ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯ã€Œä¸€æ ¹æŸ±å­çš„å·¦ä¾§ä¸”æœ€è¿‘çš„<strong>å°äº</strong>å…¶é«˜åº¦çš„æŸ±å­ã€ï¼Œä½†è¿™é‡Œæˆ‘ä»¬æ±‚çš„æ˜¯<strong>å°äºç­‰äº</strong>ï¼Œé‚£ä¹ˆä¼šé€ æˆä»€ä¹ˆå½±å“å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼šæˆ‘ä»¬ç¡®å®æ— æ³•æ±‚å‡ºæ­£ç¡®çš„å³è¾¹ç•Œï¼Œä½†å¯¹æœ€ç»ˆçš„ç­”æ¡ˆæ²¡æœ‰ä»»ä½•å½±å“ã€‚è¿™æ˜¯å› ä¸ºåœ¨ç­”æ¡ˆå¯¹åº”çš„çŸ©å½¢ä¸­ï¼Œå¦‚æœæœ‰è‹¥å¹²ä¸ªæŸ±å­çš„é«˜åº¦éƒ½ç­‰äºçŸ©å½¢çš„é«˜åº¦ï¼Œé‚£ä¹ˆ<strong>æœ€å³ä¾§çš„é‚£æ ¹æŸ±å­æ˜¯å¯ä»¥æ±‚å‡ºæ­£ç¡®çš„å³è¾¹ç•Œçš„</strong>ï¼Œè€Œæˆ‘ä»¬æ²¡æœ‰å¯¹æ±‚å‡ºå·¦è¾¹ç•Œçš„ç®—æ³•è¿›è¡Œä»»ä½•æ”¹åŠ¨ï¼Œå› æ­¤æœ€ç»ˆçš„ç­”æ¡ˆè¿˜æ˜¯å¯ä»¥ä»æœ€å³ä¾§çš„ä¸çŸ©å½¢é«˜åº¦ç›¸åŒçš„æŸ±å­æ±‚å¾—çš„ã€‚è¯»è€…å¯ä»¥ä»”ç»†æ€è€ƒä¸€ä¸‹è¿™ä¸€æ­¥ã€‚</p><p>åœ¨éå†ç»“æŸåï¼Œæ ˆä¸­ä»ç„¶æœ‰ä¸€äº›ä½ç½®ï¼Œè¿™äº›ä½ç½®å¯¹åº”çš„å³è¾¹ç•Œå°±æ˜¯ä½ç½®ä¸º <em>n</em> çš„ã€Œå“¨å…µã€ã€‚æˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬ä¾æ¬¡å‡ºæ ˆå¹¶æ›´æ–°å³è¾¹ç•Œï¼Œä¹Ÿå¯ä»¥åœ¨åˆå§‹åŒ–å³è¾¹ç•Œæ•°ç»„æ—¶å°±å°†æ‰€æœ‰çš„å…ƒç´ çš„å€¼ç½®ä¸º <em>n</em>ã€‚</p><p>æˆ‘ä»¬æ²¿ç”¨æ–¹æ³•ä¸€ä¸­çš„ä¾‹å­ *[6, 7, 5, 2, 4, 5, 9, 3]*ï¼Œä¸‹é¢çš„å¹»ç¯ç‰‡ç»™å‡ºäº†ä¼˜åŒ–åçš„æµç¨‹ã€‚</p><details>    <summary>C++</summary>    <figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">largestRectangleArea</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; heights)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = heights.<span class="built_in">size</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">left</span><span class="params">(n)</span>, <span class="title">right</span><span class="params">(n, n)</span></span>;</span><br><span class="line">        </span><br><span class="line">        stack&lt;<span class="type">int</span>&gt; mono_stack;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!mono_stack.<span class="built_in">empty</span>() &amp;&amp; heights[mono_stack.<span class="built_in">top</span>()] &gt;= heights[i]) &#123;</span><br><span class="line">                right[mono_stack.<span class="built_in">top</span>()] = i;</span><br><span class="line">                mono_stack.<span class="built_in">pop</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            left[i] = (mono_stack.<span class="built_in">empty</span>() ? <span class="number">-1</span> : mono_stack.<span class="built_in">top</span>());</span><br><span class="line">            mono_stack.<span class="built_in">push</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            ans = <span class="built_in">max</span>(ans, (right[i] - left[i] - <span class="number">1</span>) * heights[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary>    <figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">largestRectangleArea</span><span class="params">(<span class="type">int</span>[] heights)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> heights.length;</span><br><span class="line">        <span class="type">int</span>[] left = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="type">int</span>[] right = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        Arrays.fill(right, n);</span><br><span class="line">        </span><br><span class="line">        Deque&lt;Integer&gt; mono_stack = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!mono_stack.isEmpty() &amp;&amp; heights[mono_stack.peek()] &gt;= heights[i]) &#123;</span><br><span class="line">                right[mono_stack.peek()] = i;</span><br><span class="line">                mono_stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            left[i] = (mono_stack.isEmpty() ? -<span class="number">1</span> : mono_stack.peek());</span><br><span class="line">            mono_stack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            ans = Math.max(ans, (right[i] - left[i] - <span class="number">1</span>) * heights[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Python3</summary>    <figure class="highlight python"><figcaption><span>[sol2-Python3]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">largestRectangleArea</span>(<span class="params">self, heights: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        n = <span class="built_in">len</span>(heights)</span><br><span class="line">        left, right = [<span class="number">0</span>] * n, [n] * n</span><br><span class="line"></span><br><span class="line">        mono_stack = <span class="built_in">list</span>()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">while</span> mono_stack <span class="keyword">and</span> heights[mono_stack[-<span class="number">1</span>]] &gt;= heights[i]:</span><br><span class="line">                right[mono_stack[-<span class="number">1</span>]] = i</span><br><span class="line">                mono_stack.pop()</span><br><span class="line">            left[i] = mono_stack[-<span class="number">1</span>] <span class="keyword">if</span> mono_stack <span class="keyword">else</span> -<span class="number">1</span></span><br><span class="line">            mono_stack.append(i)</span><br><span class="line">        </span><br><span class="line">        ans = <span class="built_in">max</span>((right[i] - left[i] - <span class="number">1</span>) * heights[i] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)) <span class="keyword">if</span> n &gt; <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>    <figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">largestRectangleArea</span><span class="params">(heights []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(heights)</span><br><span class="line">    left, right := <span class="built_in">make</span>([]<span class="type">int</span>, n), <span class="built_in">make</span>([]<span class="type">int</span>, n)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        right[i] = n</span><br><span class="line">    &#125;</span><br><span class="line">    mono_stack := []<span class="type">int</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">len</span>(mono_stack) &gt; <span class="number">0</span> &amp;&amp; heights[mono_stack[<span class="built_in">len</span>(mono_stack)<span class="number">-1</span>]] &gt;= heights[i] &#123;</span><br><span class="line">            right[mono_stack[<span class="built_in">len</span>(mono_stack)<span class="number">-1</span>]] = i</span><br><span class="line">            mono_stack = mono_stack[:<span class="built_in">len</span>(mono_stack)<span class="number">-1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(mono_stack) == <span class="number">0</span> &#123;</span><br><span class="line">            left[i] = <span class="number">-1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left[i] = mono_stack[<span class="built_in">len</span>(mono_stack)<span class="number">-1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        mono_stack = <span class="built_in">append</span>(mono_stack, i)</span><br><span class="line">    &#125;</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        ans = max(ans, (right[i] - left[i] - <span class="number">1</span>) * heights[i])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x &gt; y &#123;</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š*O(N)*ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š*O(N)*ã€‚</p></li></ul><h1 id="æ–¹æ³•ä¸‰ï¼šå•è°ƒæ ˆ-ç©ºé—´ä¼˜åŒ–"><a href="#æ–¹æ³•ä¸‰ï¼šå•è°ƒæ ˆ-ç©ºé—´ä¼˜åŒ–" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šå•è°ƒæ ˆ+ç©ºé—´ä¼˜åŒ–"></a>æ–¹æ³•ä¸‰ï¼šå•è°ƒæ ˆ+ç©ºé—´ä¼˜åŒ–</h1><p>åˆ†æå¯»æ‰¾çš„è¿‡ç¨‹ï¼Œå¦‚æœè¦åœ¨O(n)çš„æ—¶é—´å†…æ‰¾åˆ°æœ€å¤§çš„é¢ç§¯ï¼Œåˆ™éœ€è¦è®°å½•ä¸‹æ¥æ¯ä¸ªé«˜åº¦ä¸ºNçš„çŸ©å½¢ï¼Œå…¶é•¿åº¦æœ€å¤§å¯ä»¥è¾¾åˆ°å¤šå°‘ã€‚è¿™æ ·å°±åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œå¦‚å›¾ä¸­æè¿°çš„ï¼Œé¦–å…ˆæ˜¯é«˜åº¦Nè¶Šæ¥è¶Šå¤§ï¼Œå…¶æ¬¡æ˜¯é«˜åº¦Nè¶Šæ¥è¶Šå°ã€‚</p><ul><li><p>åœ¨é«˜åº¦Nè¶Šæ¥è¶Šå¤§æ—¶ï¼Œå…¶ä¸Šä¸€ä¸ªæ•°å­—æ„æˆçš„é«˜åº¦çš„çŸ©å½¢çš„æœ€å¤§é•¿åº¦åˆ™å¢åŠ 1ï¼Œä¾‹å¦‚ï¼Œ[2 3]ï¼Œé«˜åº¦ä¸º3æ—¶ï¼Œåˆ™é«˜åº¦ä¸º2çš„çŸ©å½¢çš„é•¿åº¦å°±åŠ 1. </p></li><li><p>åœ¨é«˜åº¦Nè¶Šæ¥è¶Šå°æ—¶ï¼Œå…¶ä¸Šä¸€ä¸ªæ•°å­—æ„æˆçš„é«˜åº¦çš„çŸ©å½¢çš„æœ€å¤§é•¿åº¦å°±ä¸å˜ï¼Œä¾‹å¦‚[4 3]ï¼Œé«˜åº¦ä¸º4æ—¶ï¼Œå…¶æ„æˆçš„çŸ©å½¢é•¿åº¦ä¸º1ï¼Œåˆ°äº†3ï¼ŒçŸ©å½¢é•¿åº¦æ²¡æœ‰é€’å¢ï¼Œè€Œ4ä¹‹å‰çš„æ•°å­—3æ„æˆçš„çŸ©å½¢çš„é•¿åº¦ä¹ŸåŠ 1ã€‚</p></li></ul><p>å¯ä»¥ä½¿ç”¨ä¸€ä¸ªstackæ¥å­˜å‚¨çŸ©å½¢çš„é«˜åº¦å’Œé•¿åº¦ï¼Œå…¶ä¸­é•¿åº¦ä¼šåŠ¨æ€çš„å˜åŒ–ã€‚å½“é‡åˆ°ä¸€ä¸ªæ•°å­—å¤§äºæ ˆé¡¶æ•°å­—çš„æ—¶å€™å°±å‹å…¥æ ˆï¼Œå°äºæ ˆé¡¶çš„æ•°å­—å°±å¼¹å‡ºæ ˆï¼Œåœ¨è¿™ä¸ªåŠ¨æ€è¿‡ç¨‹ä¸­ï¼Œæ›´æ–°æœ€å¤§çš„çŸ©å½¢é¢ç§¯ã€‚</p><p><strong>é‡ç‚¹åœ¨äºæ¯æ¬¡å¼¹å‡ºæ—¶ï¼Œé¦–å…ˆéœ€è¦ç»™heightsæ•°ç»„åŠ ä¸€ä¸ªå³è¾¹ç•Œï¼Œæ¯æ¬¡å¼¹å‡ºæ—¶çš„é«˜åº¦heights[h]æ˜¯è¦è®¡ç®—çš„çŸ©å½¢é«˜åº¦ï¼Œå³è¾¹ç•Œæ˜¯iä½ç½®ï¼Œå·¦è¾¹ç•Œæ˜¯ä»å³å¾€å·¦ç¬¬ä¸€ä¸ªæ¯”é«˜åº¦heights[h]ä½çš„ä½ç½®ï¼Œå¦‚æœæ ˆä¸ºç©ºçš„è¯å·¦è¾¹ç•Œä½ç½®ä¸º-1ï¼Œä¸ä¸ºç©ºåˆ™ä¸ºå¼¹å‡ºåæ ˆé¡¶çš„ä½ç½®ã€‚</strong></p><details>    <summary>C++</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int largestRectangleArea(vector&lt;int&gt;&amp; heights) &#123;</span><br><span class="line">        heights.push_back(0);</span><br><span class="line">        int len=heights.size();</span><br><span class="line">        stack&lt;int&gt; stk;</span><br><span class="line">        int i=0,maxarea=0;</span><br><span class="line">        while(i&lt;len)&#123;</span><br><span class="line">            if(stk.empty() || heights[i]&gt;=heights[stk.top()]) &#123;</span><br><span class="line">                stk.push(i);</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            else&#123;</span><br><span class="line">                int h=stk.top();</span><br><span class="line">                stk.pop();</span><br><span class="line">                maxarea=max(maxarea,heights[h]*(stk.empty()? i: i-stk.top()-1));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return maxarea;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>Java</summary>    <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    public int largestRectangleArea(int[] heights) &#123;</span><br><span class="line">        Deque&lt;Integer&gt; mono_stack = new ArrayDeque&lt;&gt;();</span><br><span class="line">        int len = heights.length;</span><br><span class="line">        int[] heightnew = new int[len + 1];</span><br><span class="line">        for (int i = 0; i &lt; len; i++) &#123;</span><br><span class="line">            heightnew[i] = heights[i];</span><br><span class="line">        &#125;</span><br><span class="line">        int maxarea = 0;</span><br><span class="line">        int i = 0;</span><br><span class="line">        while (i &lt;= len) &#123;</span><br><span class="line">            if (mono_stack.isEmpty() || heightnew[mono_stack.peek()] &lt; heightnew[i]) &#123;</span><br><span class="line">                mono_stack.push(i);</span><br><span class="line">                i++;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                int h = mono_stack.pop();</span><br><span class="line">                maxarea = Math.max(maxarea, (mono_stack.isEmpty() ? i : i - mono_stack.peek() - 1) * heightnew[h]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return maxarea;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç»™å®š n ä¸ªéè´Ÿæ•´æ•°ï¼Œç”¨æ¥è¡¨ç¤ºæŸ±çŠ¶å›¾ä¸­å„ä¸ªæŸ±å­çš„é«˜åº¦ã€‚æ¯ä¸ªæŸ±å­å½¼æ­¤ç›¸é‚»ï¼Œä¸”å®½åº¦ä¸º 1 ã€‚æ±‚åœ¨è¯¥æŸ±çŠ¶å›¾ä¸­ï¼Œèƒ½å¤Ÿå‹¾å‹’å‡ºæ¥çš„çŸ©å½¢çš„æœ€å¤§é¢ç§¯ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´1æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B41%E6%9C%88/"/>
    
    
    <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
    <category term="Array" scheme="http://yoursite.com/tags/Array/"/>
    
    <category term="Stack" scheme="http://yoursite.com/tags/Stack/"/>
    
    <category term="Monotonic Stack" scheme="http://yoursite.com/tags/Monotonic-Stack/"/>
    
  </entry>
  
  <entry>
    <title>32. æœ€é•¿æœ‰æ•ˆæ‹¬å·</title>
    <link href="http://yoursite.com/2022/01/11/32.%20%E6%9C%80%E9%95%BF%E6%9C%89%E6%95%88%E6%8B%AC%E5%8F%B7/"/>
    <id>http://yoursite.com/2022/01/11/32.%20%E6%9C%80%E9%95%BF%E6%9C%89%E6%95%88%E6%8B%AC%E5%8F%B7/</id>
    <published>2022-01-11T10:12:12.000Z</published>
    <updated>2022-01-12T01:55:37.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç»™ä½ ä¸€ä¸ªåªåŒ…å« â€˜(â€˜å’Œâ€™)â€™çš„å­—ç¬¦ä¸²ï¼Œæ‰¾å‡ºæœ€é•¿æœ‰æ•ˆï¼ˆæ ¼å¼æ­£ç¡®ä¸”è¿ç»­ï¼‰æ‹¬å·å­ä¸²çš„é•¿åº¦ã€‚</p><span id="more"></span><p>[TOC]</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;(()&quot;è¾“å‡ºï¼š2è§£é‡Šï¼šæœ€é•¿æœ‰æ•ˆæ‹¬å·å­ä¸²æ˜¯ &quot;()&quot;</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;)()())&quot;è¾“å‡ºï¼š4è§£é‡Šï¼šæœ€é•¿æœ‰æ•ˆæ‹¬å·å­ä¸²æ˜¯ &quot;()()&quot;</code></pre><p>ç¤ºä¾‹ 3ï¼š</p><pre><code>è¾“å…¥ï¼šs = &quot;&quot;è¾“å‡ºï¼š0</code></pre><p>æç¤ºï¼š</p><pre><code>0 &lt;= s.length &lt;= 3 * 104s[i] ä¸º &#39;(&#39; æˆ– &#39;)&#39;</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’-1"><a href="#æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’-1" class="headerlink" title="æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’^1"></a>æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’<a href="https://leetcode-cn.com/problems/longest-valid-parentheses/solution/zui-chang-you-xiao-gua-hao-by-leetcode-solution/">^1</a></h1><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><details>    <summary>Java</summary>    <figure class="highlight java"><figcaption><span>[sol1-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestValidParentheses</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[s.length()];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(i) == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (s.charAt(i - <span class="number">1</span>) == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                    dp[i] = (i &gt;= <span class="number">2</span> ? dp[i - <span class="number">2</span>] : <span class="number">0</span>) + <span class="number">2</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i - dp[i - <span class="number">1</span>] &gt; <span class="number">0</span> &amp;&amp; s.charAt(i - dp[i - <span class="number">1</span>] - <span class="number">1</span>) == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                    dp[i] = dp[i - <span class="number">1</span>] + ((i - dp[i - <span class="number">1</span>]) &gt;= <span class="number">2</span> ? dp[i - dp[i - <span class="number">1</span>] - <span class="number">2</span>] : <span class="number">0</span>) + <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                maxans = Math.max(maxans, dp[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary>        <figure class="highlight c++"><figcaption><span>[sol1-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">longestValidParentheses</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> maxans = <span class="number">0</span>, n = s.<span class="built_in">length</span>();</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dp</span><span class="params">(n, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (s[i - <span class="number">1</span>] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                    dp[i] = (i &gt;= <span class="number">2</span> ? dp[i - <span class="number">2</span>] : <span class="number">0</span>) + <span class="number">2</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i - dp[i - <span class="number">1</span>] &gt; <span class="number">0</span> &amp;&amp; s[i - dp[i - <span class="number">1</span>] - <span class="number">1</span>] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                    dp[i] = dp[i - <span class="number">1</span>] + ((i - dp[i - <span class="number">1</span>]) &gt;= <span class="number">2</span> ? dp[i - dp[i - <span class="number">1</span>] - <span class="number">2</span>] : <span class="number">0</span>) + <span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                maxans = <span class="built_in">max</span>(maxans, dp[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>        <figure class="highlight c"><figcaption><span>[sol1-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">longestValidParentheses</span><span class="params">(<span class="type">char</span>* s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> maxans = <span class="number">0</span>, n = <span class="built_in">strlen</span>(s);</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> dp[n];</span><br><span class="line">    <span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="keyword">sizeof</span>(dp));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i] == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i - <span class="number">1</span>] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                dp[i] = (i &gt;= <span class="number">2</span> ? dp[i - <span class="number">2</span>] : <span class="number">0</span>) + <span class="number">2</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i - dp[i - <span class="number">1</span>] &gt; <span class="number">0</span> &amp;&amp; s[i - dp[i - <span class="number">1</span>] - <span class="number">1</span>] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                dp[i] = dp[i - <span class="number">1</span>] +</span><br><span class="line">                        ((i - dp[i - <span class="number">1</span>]) &gt;= <span class="number">2</span> ? dp[i - dp[i - <span class="number">1</span>] - <span class="number">2</span>] : <span class="number">0</span>) + <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            maxans = fmax(maxans, dp[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>        <figure class="highlight golang"><figcaption><span>[sol1-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">longestValidParentheses</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    maxAns := <span class="number">0</span></span><br><span class="line">    dp := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="built_in">len</span>(s))</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; <span class="built_in">len</span>(s); i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> s[i] == <span class="string">&#x27;)&#x27;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> s[i<span class="number">-1</span>] == <span class="string">&#x27;(&#x27;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> i &gt;= <span class="number">2</span> &#123;</span><br><span class="line">                    dp[i] = dp[i - <span class="number">2</span>] + <span class="number">2</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[i] = <span class="number">2</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> i - dp[i - <span class="number">1</span>] &gt; <span class="number">0</span> &amp;&amp; s[i - dp[i - <span class="number">1</span>] - <span class="number">1</span>] == <span class="string">&#x27;(&#x27;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> i - dp[i - <span class="number">1</span>] &gt;= <span class="number">2</span> &#123;</span><br><span class="line">                    dp[i] = dp[i - <span class="number">1</span>] + dp[i - dp[i - <span class="number">1</span>] - <span class="number">2</span>] + <span class="number">2</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[i] = dp[i - <span class="number">1</span>] + <span class="number">2</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            maxAns = max(maxAns, dp[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxAns</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x &gt; y &#123;</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š *O(n)*ï¼Œå…¶ä¸­ <em>n</em> ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚æˆ‘ä»¬åªéœ€éå†æ•´ä¸ªå­—ç¬¦ä¸²ä¸€æ¬¡ï¼Œå³å¯å°† dp æ•°ç»„æ±‚å‡ºæ¥ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š *O(n)*ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¤§å°ä¸º <em>n</em> çš„ dp æ•°ç»„ã€‚</p></li></ul><h1 id="æ–¹æ³•äºŒï¼šæ ˆ"><a href="#æ–¹æ³•äºŒï¼šæ ˆ" class="headerlink" title="æ–¹æ³•äºŒï¼šæ ˆ"></a>æ–¹æ³•äºŒï¼šæ ˆ</h1><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><p>æ’‡å¼€æ–¹æ³•ä¸€æåŠçš„åŠ¨æ€è§„åˆ’æ–¹æ³•ï¼Œç›¸ä¿¡å¤§å¤šæ•°äººå¯¹äºè¿™é¢˜çš„ç¬¬ä¸€ç›´è§‰æ˜¯æ‰¾åˆ°æ¯ä¸ªå¯èƒ½çš„å­ä¸²ååˆ¤æ–­å®ƒçš„æœ‰æ•ˆæ€§ï¼Œä½†è¿™æ ·çš„æ—¶é—´å¤æ‚åº¦ä¼šè¾¾åˆ° *O(n^3)*ï¼Œæ— æ³•é€šè¿‡æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ã€‚ä½†æ˜¯é€šè¿‡æ ˆï¼Œæˆ‘ä»¬å¯ä»¥åœ¨éå†ç»™å®šå­—ç¬¦ä¸²çš„è¿‡ç¨‹ä¸­å»åˆ¤æ–­åˆ°ç›®å‰ä¸ºæ­¢æ‰«æçš„å­ä¸²çš„æœ‰æ•ˆæ€§ï¼ŒåŒæ—¶èƒ½å¾—åˆ°æœ€é•¿æœ‰æ•ˆæ‹¬å·çš„é•¿åº¦ã€‚</p><p>å…·ä½“åšæ³•æ˜¯æˆ‘ä»¬å§‹ç»ˆä¿æŒæ ˆåº•å…ƒç´ ä¸ºå½“å‰å·²ç»éå†è¿‡çš„å…ƒç´ ä¸­ã€Œæœ€åä¸€ä¸ªæ²¡æœ‰è¢«åŒ¹é…çš„å³æ‹¬å·çš„ä¸‹æ ‡ã€ï¼Œè¿™æ ·çš„åšæ³•ä¸»è¦æ˜¯è€ƒè™‘äº†è¾¹ç•Œæ¡ä»¶çš„å¤„ç†ï¼Œæ ˆé‡Œå…¶ä»–å…ƒç´ ç»´æŠ¤å·¦æ‹¬å·çš„ä¸‹æ ‡ï¼š</p><ul><li>å¯¹äºé‡åˆ°çš„æ¯ä¸ª â€˜(â€™ ï¼Œæˆ‘ä»¬å°†å®ƒçš„ä¸‹æ ‡æ”¾å…¥æ ˆä¸­</li><li>å¯¹äºé‡åˆ°çš„æ¯ä¸ª â€˜)â€™ ï¼Œæˆ‘ä»¬å…ˆå¼¹å‡ºæ ˆé¡¶å…ƒç´ è¡¨ç¤ºåŒ¹é…äº†å½“å‰å³æ‹¬å·ï¼š<ul><li>å¦‚æœæ ˆä¸ºç©ºï¼Œè¯´æ˜å½“å‰çš„å³æ‹¬å·ä¸ºæ²¡æœ‰è¢«åŒ¹é…çš„å³æ‹¬å·ï¼Œæˆ‘ä»¬å°†å…¶ä¸‹æ ‡æ”¾å…¥æ ˆä¸­æ¥æ›´æ–°æˆ‘ä»¬ä¹‹å‰æåˆ°çš„ã€Œæœ€åä¸€ä¸ªæ²¡æœ‰è¢«åŒ¹é…çš„å³æ‹¬å·çš„ä¸‹æ ‡ã€</li><li>å¦‚æœæ ˆä¸ä¸ºç©ºï¼Œå½“å‰å³æ‹¬å·çš„ä¸‹æ ‡å‡å»æ ˆé¡¶å…ƒç´ å³ä¸ºã€Œä»¥è¯¥å³æ‹¬å·ä¸ºç»“å°¾çš„æœ€é•¿æœ‰æ•ˆæ‹¬å·çš„é•¿åº¦ã€</li></ul></li></ul><p>æˆ‘ä»¬ä»å‰å¾€åéå†å­—ç¬¦ä¸²å¹¶æ›´æ–°ç­”æ¡ˆå³å¯ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä¸€å¼€å§‹æ ˆä¸ºç©ºï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ºå·¦æ‹¬å·çš„æ—¶å€™æˆ‘ä»¬ä¼šå°†å…¶æ”¾å…¥æ ˆä¸­ï¼Œè¿™æ ·å°±ä¸æ»¡è¶³æåŠçš„ã€Œæœ€åä¸€ä¸ªæ²¡æœ‰è¢«åŒ¹é…çš„å³æ‹¬å·çš„ä¸‹æ ‡ã€ï¼Œä¸ºäº†ä¿æŒç»Ÿä¸€ï¼Œæˆ‘ä»¬åœ¨ä¸€å¼€å§‹çš„æ—¶å€™å¾€æ ˆä¸­æ”¾å…¥ä¸€ä¸ªå€¼ä¸º <em>-1</em> çš„å…ƒç´ ã€‚</p><details>    <summary>Java</summary>        <figure class="highlight java"><figcaption><span>[sol2-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestValidParentheses</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        Deque&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Integer&gt;();</span><br><span class="line">        stack.push(-<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(i) == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                stack.push(i);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">                <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">                    stack.push(i);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    maxans = Math.max(maxans, i - stack.peek());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary>        <figure class="highlight c++"><figcaption><span>[sol2-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">longestValidParentheses</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> maxans = <span class="number">0</span>;</span><br><span class="line">        stack&lt;<span class="type">int</span>&gt; stk;</span><br><span class="line">        stk.<span class="built_in">push</span>(<span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">length</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                stk.<span class="built_in">push</span>(i);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                stk.<span class="built_in">pop</span>();</span><br><span class="line">                <span class="keyword">if</span> (stk.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                    stk.<span class="built_in">push</span>(i);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    maxans = <span class="built_in">max</span>(maxans, i - stk.<span class="built_in">top</span>());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>        <figure class="highlight c"><figcaption><span>[sol2-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">longestValidParentheses</span><span class="params">(<span class="type">char</span>* s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> maxans = <span class="number">0</span>, n = <span class="built_in">strlen</span>(s);</span><br><span class="line">    <span class="type">int</span> stk[n + <span class="number">1</span>], top = <span class="number">-1</span>;</span><br><span class="line">    stk[++top] = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">            stk[++top] = i;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            --top;</span><br><span class="line">            <span class="keyword">if</span> (top == <span class="number">-1</span>) &#123;</span><br><span class="line">                stk[++top] = i;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                maxans = fmax(maxans, i - stk[top]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>        <figure class="highlight golang"><figcaption><span>[sol2-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">longestValidParentheses</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    maxAns := <span class="number">0</span></span><br><span class="line">    stack := []<span class="type">int</span>&#123;&#125;</span><br><span class="line">    stack = <span class="built_in">append</span>(stack, <span class="number">-1</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s); i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> s[i] == <span class="string">&#x27;(&#x27;</span> &#123;</span><br><span class="line">            stack = <span class="built_in">append</span>(stack, i)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            stack = stack[:<span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(stack) == <span class="number">0</span> &#123;</span><br><span class="line">                stack = <span class="built_in">append</span>(stack, i)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                maxAns = max(maxAns, i - stack[<span class="built_in">len</span>(stack)<span class="number">-1</span>])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxAns</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x &gt; y &#123;</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š <em>O(n)<em>ï¼Œ</em>n</em> æ˜¯ç»™å®šå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚æˆ‘ä»¬åªéœ€è¦éå†å­—ç¬¦ä¸²ä¸€æ¬¡å³å¯ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š *O(n)*ã€‚æ ˆçš„å¤§å°åœ¨æœ€åæƒ…å†µä¸‹ä¼šè¾¾åˆ° <em>n</em>ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸º <em>O(n)</em> ã€‚</p></li></ul><h1 id="æ–¹æ³•ä¸‰ï¼šä¸éœ€è¦é¢å¤–çš„ç©ºé—´"><a href="#æ–¹æ³•ä¸‰ï¼šä¸éœ€è¦é¢å¤–çš„ç©ºé—´" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šä¸éœ€è¦é¢å¤–çš„ç©ºé—´"></a>æ–¹æ³•ä¸‰ï¼šä¸éœ€è¦é¢å¤–çš„ç©ºé—´</h1><p><strong>æ€è·¯å’Œç®—æ³•</strong></p><details>    <summary>Java</summary>        <figure class="highlight java"><figcaption><span>[sol3-Java]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestValidParentheses</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>, maxlength = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(i) == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                left++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">                maxlength = Math.max(maxlength, <span class="number">2</span> * right);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (right &gt; left) &#123;</span><br><span class="line">                left = right = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        left = right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> s.length() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(i) == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                left++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">                maxlength = Math.max(maxlength, <span class="number">2</span> * left);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left &gt; right) &#123;</span><br><span class="line">                left = right = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxlength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>C++</summary>        <figure class="highlight c++"><figcaption><span>[sol3-C++]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">longestValidParentheses</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>, maxlength = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">length</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                left++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">                maxlength = <span class="built_in">max</span>(maxlength, <span class="number">2</span> * right);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (right &gt; left) &#123;</span><br><span class="line">                left = right = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        left = right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = (<span class="type">int</span>)s.<span class="built_in">length</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                left++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">                maxlength = <span class="built_in">max</span>(maxlength, <span class="number">2</span> * left);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left &gt; right) &#123;</span><br><span class="line">                left = right = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxlength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></details><details>    <summary>C</summary>        <figure class="highlight c"><figcaption><span>[sol3-C]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">longestValidParentheses</span><span class="params">(<span class="type">char</span>* s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">strlen</span>(s);</span><br><span class="line">    <span class="type">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>, maxlength = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">            maxlength = fmax(maxlength, <span class="number">2</span> * right);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (right &gt; left) &#123;</span><br><span class="line">            left = right = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    left = right = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i] == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (left == right) &#123;</span><br><span class="line">            maxlength = fmax(maxlength, <span class="number">2</span> * left);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left &gt; right) &#123;</span><br><span class="line">            left = right = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxlength;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><details>    <summary>Golang</summary>        <figure class="highlight golang"><figcaption><span>[sol3-Golang]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">longestValidParentheses</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    left, right, maxLength := <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s); i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> s[i] == <span class="string">&#x27;(&#x27;</span> &#123;</span><br><span class="line">            left++</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right++</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> left == right &#123;</span><br><span class="line">            maxLength = max(maxLength, <span class="number">2</span> * right)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> right &gt; left &#123;</span><br><span class="line">            left, right = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    left, right = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="built_in">len</span>(s) - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i-- &#123;</span><br><span class="line">        <span class="keyword">if</span> s[i] == <span class="string">&#x27;(&#x27;</span> &#123;</span><br><span class="line">            left++</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right++</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> left == right &#123;</span><br><span class="line">            maxLength = max(maxLength, <span class="number">2</span> * left)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> left &gt; right &#123;</span><br><span class="line">            left, right = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLength</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x, y <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> x &gt; y &#123;</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></details><p><strong>å¤æ‚åº¦åˆ†æ</strong></p><ul><li><p>æ—¶é—´å¤æ‚åº¦ï¼š *O(n)*ï¼Œå…¶ä¸­ <em>n</em> ä¸ºå­—ç¬¦ä¸²é•¿åº¦ã€‚æˆ‘ä»¬åªè¦æ­£åéå†ä¸¤è¾¹å­—ç¬¦ä¸²å³å¯ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦ï¼š *O(1)*ã€‚æˆ‘ä»¬åªéœ€è¦å¸¸æ•°ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡ã€‚</p></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç»™ä½ ä¸€ä¸ªåªåŒ…å« â€˜(â€˜å’Œâ€™)â€™çš„å­—ç¬¦ä¸²ï¼Œæ‰¾å‡ºæœ€é•¿æœ‰æ•ˆï¼ˆæ ¼å¼æ­£ç¡®ä¸”è¿ç»­ï¼‰æ‹¬å·å­ä¸²çš„é•¿åº¦ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="2022å¹´1æœˆ" scheme="http://yoursite.com/categories/2022%E5%B9%B41%E6%9C%88/"/>
    
    
    <category term="Leetcode" scheme="http://yoursite.com/tags/Leetcode/"/>
    
    <category term="Stack" scheme="http://yoursite.com/tags/Stack/"/>
    
    <category term="String" scheme="http://yoursite.com/tags/String/"/>
    
    <category term="Dynammic Programming" scheme="http://yoursite.com/tags/Dynammic-Programming/"/>
    
  </entry>
  
</feed>
