---

title: 560. å’Œä¸º K çš„å­æ•°ç»„

date: 2021-10-31 16:12:12

categories: 2021å¹´10æœˆ

tags: [LeetCode, Array, Hash Table, Prefix Sum]


---

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•°Â k ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å›è¯¥æ•°ç»„ä¸­å’Œä¸ºÂ kÂ çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•°ã€‚

<!-- more -->

[TOC]


ç¤ºä¾‹ 1ï¼š
    
    è¾“å…¥ï¼šnums = [1,1,1], k = 2
    è¾“å‡ºï¼š2
ç¤ºä¾‹ 2ï¼š
    
    è¾“å…¥ï¼šnums = [1,2,3], k = 3
    è¾“å‡ºï¼š2


æç¤ºï¼š
    
    1 <= nums.length <= 2 * 104
    -1000 <= nums[i] <= 1000
    -107 <= k <= 107

# ğŸ“– æ–‡å­—é¢˜è§£

ä¸€å¼€å§‹æƒ³ç”¨713é¢˜ä¸­çš„æ»‘åŠ¨çª—å£åŒæŒ‡é’ˆæ¥åšï¼Œä½†å‘ç°ç”±äºæ•°ç»„ä¸­æœ‰å¯èƒ½æœ‰è´Ÿæ•°ï¼Œè¿™ç§æ–¹æ³•ä¸é€‚ç”¨ã€‚

## æ–¹æ³•ä¸€ï¼šæšä¸¾

**æ€è·¯å’Œç®—æ³•**[^1]

è€ƒè™‘ä»¥ *i* ç»“å°¾å’Œä¸º *k* çš„è¿ç»­å­æ•°ç»„ä¸ªæ•°ï¼Œæˆ‘ä»¬éœ€è¦ç»Ÿè®¡ç¬¦åˆæ¡ä»¶çš„ä¸‹æ ‡ *j* çš„ä¸ªæ•°ï¼Œå…¶ä¸­0<=j<=i ä¸” *[j..i]* è¿™ä¸ªå­æ•°ç»„çš„å’Œæ°å¥½ä¸º *k* ã€‚

æˆ‘ä»¬å¯ä»¥æšä¸¾ *[0..i]* é‡Œæ‰€æœ‰çš„ä¸‹æ ‡ *j* æ¥åˆ¤æ–­æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼Œå¯èƒ½æœ‰è¯»è€…ä¼šè®¤ä¸ºå‡å®šæˆ‘ä»¬ç¡®å®šäº†å­æ•°ç»„çš„å¼€å¤´å’Œç»“å°¾ï¼Œè¿˜éœ€è¦ *O(n)* çš„æ—¶é—´å¤æ‚åº¦éå†å­æ•°ç»„æ¥æ±‚å’Œï¼Œé‚£æ ·å¤æ‚åº¦å°±å°†è¾¾åˆ° *O(n^3)* ä»è€Œæ— æ³•é€šè¿‡æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬çŸ¥é“ *[j,i]* å­æ•°ç»„çš„å’Œï¼Œå°±èƒ½ *O(1)* æ¨å‡º *[j-1,i]* çš„å’Œï¼Œå› æ­¤è¿™éƒ¨åˆ†çš„éå†æ±‚å’Œæ˜¯ä¸éœ€è¦çš„ï¼Œæˆ‘ä»¬åœ¨æšä¸¾ä¸‹æ ‡ *j* çš„æ—¶å€™å·²ç»èƒ½ *O(1)* æ±‚å‡º *[j,i]* çš„å­æ•°ç»„ä¹‹å’Œã€‚

<details>
    <summary>Java</summary>
    
```Java [sol1-Java]
public class Solution {
    public int subarraySum(int[] nums, int k) {
        int count = 0;
        for (int start = 0; start < nums.length; ++start) {
            int sum = 0;
            for (int end = start; end >= 0; --end) {
                sum += nums[end];
                if (sum == k) {
                    count++;
                }
            }
        }
        return count;
    }
}
```
</details>
<details>
    <summary>C++</summary>
    
```C++ [sol1-C++]
class Solution {
public:
    int subarraySum(vector<int>& nums, int k) {
        int count = 0;
        for (int start = 0; start < nums.size(); ++start) {
            int sum = 0;
            for (int end = start; end >= 0; --end) {
                sum += nums[end];
                if (sum == k) {
                    count++;
                }
            }
        }
        return count;
    }
};
```
</details>
<details>
    <summary>JavaScript</summary>
    
```JavaScript [sol1-JavaScript]
var subarraySum = function(nums, k) {
    let count = 0;
    for (let start = 0; start < nums.length; ++start) {
        let sum = 0;
        for (let end = start; end >= 0; --end) {
            sum += nums[end];
            if (sum == k) {
                count++;
            }
        }
    }
    return count;
};
```
</details>
<details>
    <summary>Golang</summary>
 
    
```golang [sol1-Golang]
func subarraySum(nums []int, k int) int {
    count := 0
    for start := 0; start < len(nums); start++ {
        sum := 0
        for end := start; end >= 0; end-- {
            sum += nums[end]
            if sum == k {
                count++
            }
        }
    }
    return count
}
```
</details>

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼š*O(n^2)*ï¼Œå…¶ä¸­ *n* ä¸ºæ•°ç»„çš„é•¿åº¦ã€‚æšä¸¾å­æ•°ç»„å¼€å¤´å’Œç»“å°¾éœ€è¦ *O(n^2)* çš„æ—¶é—´ï¼Œå…¶ä¸­æ±‚å’Œéœ€è¦ *O(1)* çš„æ—¶é—´å¤æ‚åº¦ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º *O(n^2)*ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š*O(1)*ã€‚åªéœ€è¦å¸¸æ•°ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡ã€‚

## æ–¹æ³•äºŒï¼šå‰ç¼€å’Œ + å“ˆå¸Œè¡¨ä¼˜åŒ–

**æ€è·¯å’Œç®—æ³•**

æˆ‘ä»¬å¯ä»¥åŸºäºæ–¹æ³•ä¸€åˆ©ç”¨æ•°æ®ç»“æ„è¿›è¡Œè¿›ä¸€æ­¥çš„ä¼˜åŒ–ï¼Œæˆ‘ä»¬çŸ¥é“æ–¹æ³•ä¸€çš„ç“¶é¢ˆåœ¨äºå¯¹æ¯ä¸ª *i*ï¼Œæˆ‘ä»¬éœ€è¦æšä¸¾æ‰€æœ‰çš„ *j* æ¥åˆ¤æ–­æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼Œè¿™ä¸€æ­¥æ˜¯å¦å¯ä»¥ä¼˜åŒ–å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ã€‚ 



<details>
    <summary>Java</summary>
 
    
```Java [sol2-Java]
public class Solution {
    public int subarraySum(int[] nums, int k) {
        int count = 0, pre = 0;
        HashMap < Integer, Integer > mp = new HashMap < > ();
        mp.put(0, 1);
        for (int i = 0; i < nums.length; i++) {
            pre += nums[i];
            if (mp.containsKey(pre - k)) {
                count += mp.get(pre - k);
            }
            mp.put(pre, mp.getOrDefault(pre, 0) + 1);
        }
        return count;
    }
}
```
</details>
<details>
    <summary>C++</summary>
 
    
```C++ [sol2-C++]
class Solution {
public:
    int subarraySum(vector<int>& nums, int k) {
        unordered_map<int, int> mp;
        mp[0] = 1;
        int count = 0, pre = 0;
        for (auto& x:nums) {
            pre += x;
            if (mp.find(pre - k) != mp.end()) {
                count += mp[pre - k];
            }
            mp[pre]++;
        }
        return count;
    }
};
```
</details>
<details>
    <summary>JavaScript</summary>
 
    
```JavaScript [sol2-JavaScript]
var subarraySum = function(nums, k) {
    const mp = new Map();
    mp.set(0, 1);
    let count = 0, pre = 0;
    for (const x of nums) {
        pre += x;
        if (mp.has(pre - k)) {
            count += mp.get(pre - k);
        }
        if (mp.has(pre)) {
            mp.set(pre, mp.get(pre) + 1);
        } else {
            mp.set(pre, 1);
        }
    }
    return count;
};
```
</details>
<details>
    <summary>Golang</summary>
 
    
```golang [sol2-Golang]
func subarraySum(nums []int, k int) int {
    count, pre := 0, 0
    m := map[int]int{}
    m[0] = 1
    for i := 0; i < len(nums); i++ {
        pre += nums[i]
        if _, ok := m[pre - k]; ok {
            count += m[pre - k]
        }
        m[pre] += 1
    }
    return count
}
```
</details>

**å¤æ‚åº¦åˆ†æ**

* æ—¶é—´å¤æ‚åº¦ï¼š*O(n)*ï¼Œå…¶ä¸­ *n* ä¸ºæ•°ç»„çš„é•¿åº¦ã€‚æˆ‘ä»¬éå†æ•°ç»„çš„æ—¶é—´å¤æ‚åº¦ä¸º *O(n)*ï¼Œä¸­é—´åˆ©ç”¨å“ˆå¸Œè¡¨æŸ¥è¯¢åˆ é™¤çš„å¤æ‚åº¦å‡ä¸º *O(1)*ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º *O(n)*ã€‚

* ç©ºé—´å¤æ‚åº¦ï¼š*O(n)*ï¼Œå…¶ä¸­ *n* ä¸ºæ•°ç»„çš„é•¿åº¦ã€‚å“ˆå¸Œè¡¨åœ¨æœ€åæƒ…å†µä¸‹å¯èƒ½æœ‰ *n* ä¸ªä¸åŒçš„é”®å€¼ï¼Œå› æ­¤éœ€è¦ *O(n)* çš„ç©ºé—´å¤æ‚åº¦ã€‚

[^1]:https://leetcode-cn.com/problems/subarray-sum-equals-k/solution/he-wei-kde-zi-shu-zu-by-leetcode-solution/