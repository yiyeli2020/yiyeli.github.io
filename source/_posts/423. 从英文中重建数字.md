title: 423. ä»è‹±æ–‡ä¸­é‡å»ºæ•°å­—

date: 2021-12-24 18:12:12

categories: 2021å¹´12æœˆ

tags: [Leetcode, Math, String, Hash Table]

---

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œå…¶ä¸­åŒ…å«å­—æ¯é¡ºåºæ‰“ä¹±çš„ç”¨è‹±æ–‡å•è¯è¡¨ç¤ºçš„è‹¥å¹²æ•°å­—ï¼ˆ0-9ï¼‰ã€‚æŒ‰ å‡åº è¿”å›åŸå§‹çš„æ•°å­—ã€‚

<!-- more -->

[TOC]


ç¤ºä¾‹ 1ï¼š

    è¾“å…¥ï¼šs = "owoztneoer"
    è¾“å‡ºï¼š"012"
ç¤ºä¾‹ 2ï¼š

    è¾“å…¥ï¼šs = "fviefuro"
    è¾“å‡ºï¼š"45"


æç¤ºï¼š
    
    1 <= s.length <= 105
    s[i] ä¸º ["e","g","f","i","h","o","n","s","r","u","t","w","v","x","z"] è¿™äº›å­—ç¬¦ä¹‹ä¸€
    s ä¿è¯æ˜¯ä¸€ä¸ªç¬¦åˆé¢˜ç›®è¦æ±‚çš„å­—ç¬¦ä¸²

# æ–¹æ³•ä¸€ï¼šä¾æ¬¡ç¡®å®šæ¯ä¸€ä¸ªæ•°å­—çš„æ¬¡æ•°[^1]

**æ€è·¯ä¸ç®—æ³•**

é¦–å…ˆæˆ‘ä»¬å¯ä»¥ç»Ÿè®¡æ¯ä¸ªå­—æ¯åˆ†åˆ«åœ¨å“ªäº›æ•°å­—ä¸­å‡ºç°ï¼š

| å­—æ¯ | æ•°å­— |
| :-: | :-:|
| e | 0 1 3 5 7 8 9 |
| f | 4 5 |
| g | 8 |
| h | 3 8 |
| i | 5 6 8 9 |
| n | 1 7 9 |
| o | 0 1 2 4 |
| r | 0 3 4 |
| s | 6 7 |
| t | 2 3 8 |
| u | 4 |
| v | 5 7 |
| w | 2 |
| x | 6 |
| z | 0 |

å¯ä»¥å‘ç°ï¼Œz,w,u,x,g éƒ½åªåœ¨ä¸€ä¸ªæ•°å­—ä¸­ï¼Œå³ *0, 2, 4, 6, 8* ä¸­å‡ºç°ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨ç»Ÿè®¡æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°ï¼Œé‚£ä¹ˆ z,w,u,x,g å‡ºç°çš„æ¬¡æ•°ï¼Œå³åˆ†åˆ«ä¸º *0, 2, 4, 6, 8* å‡ºç°çš„æ¬¡æ•°ã€‚

éšåæˆ‘ä»¬å¯ä»¥æ³¨æ„é‚£äº›åªåœ¨ä¸¤ä¸ªæ•°å­—ä¸­å‡ºç°çš„å­—ç¬¦ï¼š

- h  åªåœ¨ *3, 8* ä¸­å‡ºç°ã€‚ç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† *8* å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º *3* å‡ºç°çš„æ¬¡æ•°ã€‚

- f  åªåœ¨ *4, 5* ä¸­å‡ºç°ã€‚ç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† *4* å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º *5* å‡ºç°çš„æ¬¡æ•°ã€‚

- s  åªåœ¨ *6, 7* ä¸­å‡ºç°ã€‚ç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† *6* å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º *7* å‡ºç°çš„æ¬¡æ•°ã€‚

æ­¤æ—¶ï¼Œæˆ‘ä»¬è¿˜å‰©ä¸‹ *1* å’Œ *9* çš„å‡ºç°æ¬¡æ•°æ²¡æœ‰æ±‚å‡ºï¼š

- o  åªåœ¨ *0, 1, 2, 4* ä¸­å‡ºç°ï¼Œç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† *0, 2, 4* å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º *1* å‡ºç°çš„æ¬¡æ•°ã€‚

æœ€åçš„ *9* å°±å¯ä»¥é€šè¿‡ n,i,e ä¸­çš„ä»»ä¸€å­—ç¬¦è®¡ç®—å¾—åˆ°äº†ã€‚è¿™é‡Œæ¨èä½¿ç”¨ i  è¿›è¡Œè®¡ç®—ï¼Œå› ä¸º n åœ¨ *9* ä¸­å‡ºç°äº† *2* æ¬¡ï¼Œe åœ¨ *3* ä¸­å‡ºç°äº† *2* æ¬¡ï¼Œå®¹æ˜“åœ¨è®¡ç®—ä¸­é—æ¼ã€‚

å½“æˆ‘ä»¬ç»Ÿè®¡å®Œæ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°åï¼Œæˆ‘ä»¬æŒ‰ç…§å‡åºå°†å®ƒä»¬è¿›è¡Œæ‹¼æ¥å³å¯ã€‚

**ä»£ç **

<details>
    <summary>C++</summary>
 
```C++ [sol1-C++]
class Solution {
public:
    string originalDigits(string s) {
        unordered_map<char, int> c;
        for (char ch: s) {
            ++c[ch];
        }

        vector<int> cnt(10);
        cnt[0] = c['z'];
        cnt[2] = c['w'];
        cnt[4] = c['u'];
        cnt[6] = c['x'];
        cnt[8] = c['g'];

        cnt[3] = c['h'] - cnt[8];
        cnt[5] = c['f'] - cnt[4];
        cnt[7] = c['s'] - cnt[6];

        cnt[1] = c['o'] - cnt[0] - cnt[2] - cnt[4];

        cnt[9] = c['i'] - cnt[5] - cnt[6] - cnt[8];

        string ans;
        for (int i = 0; i < 10; ++i) {
            for (int j = 0; j < cnt[i]; ++j) {
                ans += char(i + '0');
            }
        }
        return ans;
    }
};
```
</details>
<details>
    <summary>Java</summary>
    
```Java [sol1-Java]
class Solution {
    public String originalDigits(String s) {
        Map<Character, Integer> c = new HashMap<Character, Integer>();
        for (int i = 0; i < s.length(); ++i) {
            char ch = s.charAt(i);
            c.put(ch, c.getOrDefault(ch, 0) + 1);
        }

        int[] cnt = new int[10];
        cnt[0] = c.getOrDefault('z', 0);
        cnt[2] = c.getOrDefault('w', 0);
        cnt[4] = c.getOrDefault('u', 0);
        cnt[6] = c.getOrDefault('x', 0);
        cnt[8] = c.getOrDefault('g', 0);

        cnt[3] = c.getOrDefault('h', 0) - cnt[8];
        cnt[5] = c.getOrDefault('f', 0) - cnt[4];
        cnt[7] = c.getOrDefault('s', 0) - cnt[6];

        cnt[1] = c.getOrDefault('o', 0) - cnt[0] - cnt[2] - cnt[4];

        cnt[9] = c.getOrDefault('i', 0) - cnt[5] - cnt[6] - cnt[8];

        StringBuffer ans = new StringBuffer();
        for (int i = 0; i < 10; ++i) {
            for (int j = 0; j < cnt[i]; ++j) {
                ans.append((char) (i + '0'));
            }
        }
        return ans.toString();
    }
}
```
</details>
<details>
    <summary>C#</summary>
 
```C# [sol1-C#]
public class Solution {
    public string OriginalDigits(string s) {
        Dictionary<char, int> c = new Dictionary<char, int>();
        foreach (char ch in s) {
            if (!c.ContainsKey(ch)) {
                c.Add(ch, 0);
            }
            ++c[ch];
        }

        int[] cnt = new int[10];
        cnt[0] = c.ContainsKey('z') ? c['z'] : 0;
        cnt[2] = c.ContainsKey('w') ? c['w'] : 0;
        cnt[4] = c.ContainsKey('u') ? c['u'] : 0;
        cnt[6] = c.ContainsKey('x') ? c['x'] : 0;
        cnt[8] = c.ContainsKey('g') ? c['g'] : 0;

        cnt[3] = (c.ContainsKey('h') ? c['h'] : 0) - cnt[8];
        cnt[5] = (c.ContainsKey('f') ? c['f'] : 0) - cnt[4];
        cnt[7] = (c.ContainsKey('s') ? c['s'] : 0) - cnt[6];

        cnt[1] = (c.ContainsKey('o') ? c['o'] : 0) - cnt[0] - cnt[2] - cnt[4];

        cnt[9] = (c.ContainsKey('i') ? c['i'] : 0) - cnt[5] - cnt[6] - cnt[8];

        StringBuilder ans = new StringBuilder();
        for (int i = 0; i < 10; ++i) {
            for (int j = 0; j < cnt[i]; ++j) {
                ans.Append((char) (i + '0'));
            }
        }
        return ans.ToString();
    }
}
```
</details>
<details>
    <summary>Python3</summary>
 
```Python [sol1-Python3]
class Solution:
    def originalDigits(self, s: str) -> str:
        c = Counter(s)

        cnt = [0] * 10
        cnt[0] = c["z"]
        cnt[2] = c["w"]
        cnt[4] = c["u"]
        cnt[6] = c["x"]
        cnt[8] = c["g"]

        cnt[3] = c["h"] - cnt[8]
        cnt[5] = c["f"] - cnt[4]
        cnt[7] = c["s"] - cnt[6]
        
        cnt[1] = c["o"] - cnt[0] - cnt[2] - cnt[4]

        cnt[9] = c["i"] - cnt[5] - cnt[6] - cnt[8]

        return "".join(str(x) * cnt[x] for x in range(10))
```
</details>
<details>
    <summary>Golang</summary>
 
```go [sol1-Golang]
func originalDigits(s string) string {
    c := map[rune]int{}
    for _, ch := range s {
        c[ch]++
    }

    cnt := [10]int{}
    cnt[0] = c['z']
    cnt[2] = c['w']
    cnt[4] = c['u']
    cnt[6] = c['x']
    cnt[8] = c['g']

    cnt[3] = c['h'] - cnt[8]
    cnt[5] = c['f'] - cnt[4]
    cnt[7] = c['s'] - cnt[6]

    cnt[1] = c['o'] - cnt[0] - cnt[2] - cnt[4]

    cnt[9] = c['i'] - cnt[5] - cnt[6] - cnt[8]

    ans := []byte{}
    for i, c := range cnt {
        ans = append(ans, bytes.Repeat([]byte{byte('0' + i)}, c)...)
    }
    return string(ans)
}
```
</details>
<details>
    <summary>JavaScript</summary>
 
```JavaScript [sol1-JavaScript]
var originalDigits = function(s) {
    const c = new Map();
    for (const ch of s) {
        c.set(ch, (c.get(ch) || 0) + 1);
    }

    const cnt = new Array(10).fill(0);
    cnt[0] = c.get('z') || 0;
    cnt[2] = c.get('w') || 0;
    cnt[4] = c.get('u') || 0;
    cnt[6] = c.get('x') || 0;
    cnt[8] = c.get('g') || 0;

    cnt[3] = (c.get('h') || 0) - cnt[8];
    cnt[5] = (c.get('f') || 0) - cnt[4];
    cnt[7] = (c.get('s') || 0) - cnt[6];

    cnt[1] = (c.get('o') || 0) - cnt[0] - cnt[2] - cnt[4];

    cnt[9] = (c.get('i') || 0) - cnt[5] - cnt[6] - cnt[8];

    const ans = [];
    for (let i = 0; i < 10; ++i) {
        for (let j = 0; j < cnt[i]; ++j) {
            ans.push(String.fromCharCode(i + '0'.charCodeAt()));
        }
    }
    return ans.join('');
};
```
</details>

# æ–¹æ³•äºŒï¼šçº¿æ€§ä»£æ•°[^2]

## æç¤º
å·²çŸ¥æ‰€æœ‰å­—ç¬¦åªèƒ½æœ‰`chs = ["e","g","f","i","h","o","n","s","r","u","t","w","v","x","z"]`è¿™15ä¸ªå­—ç¬¦ï¼ˆè¿™å¤§å¤§æ–¹ä¾¿äº†æˆ‘ä»¬æ‰‹ç®—å¢å¹¿çŸ©é˜µğŸ˜­ï¼‰

ä¸”æ„æˆçš„æ•°å­—ä¸º0åˆ°9
- å»ºä¸€ä¸ª`15Ã—10`çš„çŸ©é˜µ`A`,å¯ä»¥è®¤ä¸ºAæ˜¯ä¸€ä¸ª**è¯å‘é‡çŸ©é˜µ**ï¼Œç¬¬`i`è¡Œè¡¨ç¤ºå¯¹åº”çš„å­—ç¬¦`chs[i]`ï¼Œæ¯”å¦‚ç¬¬0è¡Œå¯¹åº”å­—ç¬¦"e"ï¼›ç¬¬`j`åˆ—å‘é‡è¡¨ç¤ºæ•°å­—`j`ï¼Œæ¯”å¦‚ç¬¬0åˆ—è¡¨ç¤ºæ•°å­—0ï¼Œå¯¹åº”çš„å•è¯ä¸º"zero", å…¶åˆ—å‘é‡è®°ä¸º`[1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1]`ã€‚
- ç»™å®šå•è¯è¡¨èŒƒå›´çŸ©é˜µ`A`å°±å›ºå®šä¸‹æ¥ï¼Œä¸ä¼šå˜äº†ï¼Œä¸é¢˜ç›®ç»™å‡ºçš„å­—ç¬¦ä¸²æ— å…³
- æ„å»º`10Ã—1`çš„åˆ—å‘é‡`X = [n0,n1,...,n9]`ï¼Œ`X[i]`å°±è¡¨ç¤ºæ•°å­—`i`æœ‰å¤šå°‘ä¸ª
- å°±æœ‰è¿™æ ·çŸ©é˜µæ–¹ç¨‹`AX = b`ï¼Œå…¶ä¸­`b`å°±æ˜¯ç»™å‡ºå­—ç¬¦ä¸²çš„å­—ç¬¦ç»Ÿè®¡ï¼ˆä¹Ÿæ˜¯ä¸€ä¸ª**åˆ—å‘é‡**ï¼‰,`b[i]`è¡¨ç¤º`s`ä¸­`chs[i]`çš„ä¸ªæ•°
- é‚£ä¹ˆæˆ‘ä»¬çš„ä»»åŠ¡å°±æ˜¯æ±‚è§£`AX = b`ï¼Œæ±‚è§£ä¸€ä¸ªéé½æ¬¡çº¿æ€§æ–¹ç¨‹


## è®¡ç®—AçŸ©é˜µ

<details>
    <summary>Python3</summary>
 
```python
chs = ["e","g","f","i","h","o","n","s","r","u","t","w","v","x","z"]
num2en = ['zero', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine']
A = []
for ch in chs:
    row = []
    for en in num2en:
        row.append(en.count(ch))
    A.append(row)
-----------------------------------------
A = [
        [1, 1, 0, 2, 0, 1, 0, 2, 1, 1], 
        [0, 0, 0, 0, 0, 0, 0, 0, 1, 0],
        [0, 0, 0, 0, 1, 1, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 1, 1, 0, 1, 1],
        [0, 0, 0, 1, 0, 0, 0, 0, 1, 0],
        [1, 1, 1, 0, 1, 0, 0, 0, 0, 0],
        [0, 1, 0, 0, 0, 0, 0, 1, 0, 2],
        [0, 0, 0, 0, 0, 0, 1, 1, 0, 0],
        [1, 0, 0, 1, 1, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
        [0, 0, 1, 1, 0, 0, 0, 0, 1, 0],
        [0, 0, 1, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 1, 0, 1, 0, 0],
        [0, 0, 0, 0, 0, 0, 1, 0, 0, 0],
        [1, 0, 0, 0, 0, 0, 0, 0, 0, 0]
]

```
</details>

## è®¡ç®—åˆ—å‘é‡b
```
chs = ["e","g","f","i","h","o","n","s","r","u","t","w","v","x","z"]
b = [s.count(ch) for ch in chs]
```
å®é™…åœ¨æ‰‹å†™å¢å¹¿çŸ©é˜µçš„æ—¶å€™å¯ä»¥å…ˆä¸ç”¨å¸¦å…¥å€¼ï¼Œå°±ä½¿ç”¨å­—ç¬¦ç¬¦å·

## å¾—åˆ°å¢å¹¿çŸ©é˜µ

```python
    1 1 0 2 0 1 0 2 1 1 | e
    0 0 0 0 0 0 0 0 1 0 | g
    0 0 0 0 1 1 0 0 0 0 | f
    0 0 0 0 0 1 1 0 1 1 | i
    0 0 0 1 0 0 0 0 1 0 | h
    1 1 1 0 1 0 0 0 0 0 | o
    0 1 0 0 0 0 0 1 0 2 | n
    0 0 0 0 0 0 1 1 0 0 | s
    1 0 0 1 1 0 0 0 0 0 | r
    0 0 0 0 1 0 0 0 0 0 | u
    0 0 1 1 0 0 0 0 1 0 | t
    0 0 1 0 0 0 0 0 0 0 | w
    0 0 0 0 0 1 0 1 0 0 | v
    0 0 0 0 0 0 1 0 0 0 | x
    1 0 0 0 0 0 0 0 0 0 | z
```


## è®¡ç®—å¢å¹¿çŸ©é˜µ

ä½¿ç”¨**åˆç­‰è¡Œå˜æ¢**æŠŠå¢å¹¿çŸ©é˜µçš„ç³»æ•°çŸ©é˜µåŒ–ä¸ºé˜¶æ¢¯å‹ï¼Œå› ä¸ºé¢˜ç›®ä¿è¯äº†ã€Œsæ˜¯ä¸€ä¸ªç¬¦åˆé¢˜ç›®è¦æ±‚çš„å­—ç¬¦ä¸²ã€ï¼Œ**æ‰€ä»¥ä¸€å®šæœ‰è§£ä¸”æ˜¯å”¯ä¸€è§£**ã€‚

æˆ‘å·æ‡’åŒ–åˆ°10ä¸ªè¡Œå‘é‡çº¿æ€§æ— å…³å°±è¡Œäº†ï¼Œæœ€åå¢å¹¿çŸ©é˜µåŒ–ä¸ºï¼š

```python
    1 1 0 2 0 1 0 2 1 1 | e
    0 0 0 0 0 0 0 0 1 0 | g
    0 0 0 0 1 1 0 0 0 0 | f
    0 0 0 0 0 1 1 0 1 1 | i
    0 0 0 1 0 0 0 0 1 0 | h
    0 1 0 0 0 0 0 0 0 0 | o - z - w - u
    0 0 0 0 0 0 0 0 0 1 | (n - s + x - o + z + w + u) / 2
    0 0 0 0 0 0 0 1 0 0 | s - x
    0 0 0 1 0 0 0 0 0 0 | r - z - u
    0 0 0 0 1 0 0 0 0 0 | u
    0 0 0 0 0 0 0 0 1 0 | t - w - r + z + u
    0 0 1 0 0 0 0 0 0 0 | w
    0 0 0 0 0 1 0 0 0 0 | v - s + x
    0 0 0 0 0 0 1 0 0 0 | x
    1 0 0 0 0 0 0 0 0 0 | z
```

è°ƒæ•´ä¸ºé˜¶æ¢¯é˜µï¼ŒæŠŠå€¼ä»£å…¥å¢å¹¿çŸ©é˜µçš„å³è¾¹ï¼Œå°±å¯ä»¥æ±‚è§£å‡ºåˆ—å‘é‡`X`äº†

```python
    1 0 0 0 0 0 0 0 0 0 | z
    0 1 0 0 0 0 0 0 0 0 | o - z - w - u
    0 0 1 0 0 0 0 0 0 0 | w
    0 0 0 1 0 0 0 0 0 0 | r - z - u
    0 0 0 0 1 0 0 0 0 0 | u
    0 0 0 0 0 1 0 0 0 0 | v - s + x
    0 0 0 0 0 0 1 0 0 0 | x
    0 0 0 0 0 0 0 1 0 0 | s - x
    0 0 0 0 0 0 0 0 1 0 | t - w - r + z + u
    0 0 0 0 0 0 0 0 0 1 | (n - s + x - o + z + w + u) / 2
```



## ä»£ç 

<details>
    <summary>Python3</summary>
 
```python
class Solution:
    def originalDigits(self, s: str) -> str:
        cnt = Counter(s)
        return "0" * cnt["z"] + \
               "1" * (cnt["o"] - cnt["z"] - cnt["u"] - cnt["w"]) + \
               "2" * cnt["w"] + \
               "3" * (cnt["r"] - cnt["z"] - cnt["u"]) + \
               "4" * cnt["u"] + \
               "5" * (cnt["v"] - cnt["s"] + cnt["x"]) + \
               "6" * cnt["x"] + \
               "7" * (cnt["s"] - cnt["x"]) + \
               "8" * (cnt["t"] - cnt["w"] - cnt["r"] + cnt["z"] + cnt["u"]) + \
               "9" * ((cnt["n"] - cnt["s"] + cnt["x"] - cnt["o"] + cnt["z"] + cnt["u"] + cnt["w"]) // 2)
```

</details>

[^1]:https://leetcode-cn.com/problems/reconstruct-original-digits-from-english/solution/cong-ying-wen-zhong-zhong-jian-shu-zi-by-9g1r/

[^2]:https://leetcode-cn.com/problems/reconstruct-original-digits-from-english/solution/jian-dan-de-xian-xing-dai-shu-kuai-lai-f-6e01/